import{g as p,o as m,j as h,l as e,a0 as _,M as r,W as a,a2 as f,L as u,N as v,T as b,U as g,n as c}from"./index.es-db843bab.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";const F={data(){return{load:!1,confirm:!1,botUser:null,vipForm:{name:null,phone:null,page_id:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.vipForm.phone=this.botUser.phone||null}},mounted(){const s=new URLSearchParams(window.location.search);this.vipForm.page_id=JSON.parse(s.get("page_id"))||null},computed:{...p(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{submit(){this.loading=!0,this.$store.dispatch("saveSimpleProfileFormData",{dataObject:this.vipForm}).then(s=>{this.loading=!1,this.$notify({title:"Отлично!",text:"Вы успешно заполнили форму и стали наши VIP-пользователем!",type:"success"}),this.tg.close()}).catch(()=>{this.loading=!1,this.$notify({title:"Упс!",text:"Ошибка заполнения формы!",type:"error"})})}}},l=s=>(b("data-v-57f78e9d"),s=s(),g(),s),x={key:0,class:"container py-3"},y={class:"row"},k={class:"col-12"},S={class:"col-12 mb-2"},U={class:"form-floating"},V=l(()=>e("label",{for:"vipForm-name"},"Ф.И.О.",-1)),P={class:"col-12"},B={class:"form-floating"},I=l(()=>e("label",{for:"vipForm-phone"},"Номер телефона",-1)),N={class:"col-12"},M=l(()=>e("p",{class:"mb-3"},[e("em",null,"Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),T=l(()=>e("p",null,[c("Перед отправкой данных нужно ознакомиться с "),e("a",{href:"https://telegra.ph/Politika-konfidencialnosti-12-29-5",target:"_blank"},"политикой конфиденциальности"),c(".")],-1)),D={class:"d-flex mb-3"},j={class:"form-check form-switch"},q=l(()=>e("label",{class:"form-check-label",for:"toggle-id-1"}," С правилами ознакомлен ",-1)),C=["disabled"];function L(s,o,O,W,t,n){const d=v("mask");return t.botUser?(m(),h("div",x,[e("div",y,[e("div",k,[e("form",{onSubmit:o[3]||(o[3]=_((...i)=>n.submit&&n.submit(...i),["prevent"])),class:"row mb-0"},[e("div",S,[e("div",U,[r(e("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":o[0]||(o[0]=i=>t.vipForm.name=i),"aria-describedby":"vipForm-name",required:""},null,512),[[a,t.vipForm.name]]),V])]),e("div",P,[e("div",B,[r(e("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":o[1]||(o[1]=i=>t.vipForm.phone=i),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[d,["+7(###)###-##-##"]],[a,t.vipForm.phone]]),I])]),e("div",N,[M,T,e("div",D,[e("div",j,[r(e("input",{class:"form-check-input","onUpdate:modelValue":o[2]||(o[2]=i=>t.confirm=i),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[f,t.confirm]]),q])]),e("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-primary p-3 w-100"}," Отправить анкету ",8,C)])],32)])])])):u("",!0)}const G=w(F,[["render",L],["__scopeId","data-v-57f78e9d"]]);export{G as default};
