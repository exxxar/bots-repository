import{P as a}from"./PreloaderV1-97f38083.js";import{o as i,j as r,l as t,M as l,K as s,G as c,N as d}from"./index.es-db843bab.js";/* empty css                                                    */import"./_plugin-vue_export-helper-c27b6911.js";const p={key:0,class:"container py-3"},_={class:"d-flex justify-content-center align-items-center",style:{"min-height":"350px"}},h={key:0,style:{width:"200px",height:"200px","border-radius":"50%",overflow:"hidden"}},u={class:"w-100 object-fit-cover"},f={key:1,style:{width:"200px",height:"200px"}},m={class:"w-100 object-fit-cover"},y=t("h6",{class:"opacity-75 mb-3"},"Информация о профиле друга",-1),w={class:"list-group"},b={class:"list-group-item d-flex justify-content-between","aria-current":"true"},g=t("span",null,"Имя",-1),x={style:{"font-size":"12px"},class:"text-primary fw-bold"},k={class:"list-group-item d-flex justify-content-between","aria-current":"true"},j=t("span",null,"ID",-1),v={class:"text-primary fw-bold"},B={class:"list-group-item d-flex justify-content-between","aria-current":"true"},P=t("span",null,"Телефон",-1),D={class:"text-primary fw-bold cursor-pointer"},S={class:"list-group-item d-flex justify-content-between","aria-current":"true"},U=t("span",null,"Город",-1),$={class:"text-primary fw-bold"},z={class:"list-group-item d-flex justify-content-between","aria-current":"true"},N=t("span",null,"День рождения",-1),A={class:"text-primary fw-bold"},E={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},O=t("span",null,"Приглашено друзей",-1),R={class:"text-primary fw-bold"},T={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},q=t("span",null,"Количество заказов",-1),C={class:"text-primary fw-bold"},G={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},I=t("span",null,"Получено баллов",-1),J={class:"text-primary fw-bold"},K={data(){return{photos:null,profile:null,friend_id:null}},computed:{tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},mounted(){const o=new URLSearchParams(window.location.search);this.friend_id=JSON.parse(o.get("friend"))||null,this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(e=>e.click()),this.$router.back()}),this.$nextTick(()=>{this.friend_id&&this.loadUserPhotos()})},methods:{loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos",{bot_user_id:this.friend_id}).then(o=>{console.log(o),this.photos=o.photos.result.photos||null,this.profile=o.profile}).catch(()=>{this.$notify({title:"Ошибочка",text:"Пользователь не найден!",type:"error"})})}}},H=Object.assign(K,{__name:"Referral",setup(o){return(e,L)=>{const n=d("lazy");return e.profile?(i(),r("div",p,[t("div",_,[(e.photos||[]).length>0?(i(),r("div",h,[l(t("img",u,null,512),[[n,"/file-by-file-id-and-bot-domain/"+e.photos[0][0].file_id+"/"+e.currentBot.bot_domain]])])):(i(),r("div",f,[l(t("img",m,null,512),[[n,"/images/shop-v2/profile.png"]])]))]),y,t("ul",w,[t("li",b,[g,t("span",x,s(e.profile.fio_from_telegram||"не указано"),1)]),t("li",k,[j,t("span",v,s(e.profile.telegram_chat_id||"-"),1)]),t("li",B,[P,t("span",D,s(e.profile.phone||"номер не указан"),1)]),t("li",S,[U,t("span",$,s(e.profile.city||"не указан"),1)]),t("li",z,[N,t("span",A,s(e.profile.birthday||"-"),1)]),t("li",E,[O,t("span",R,s(e.profile.friends_count||0),1)]),t("li",T,[q,t("span",C,s(e.profile.order_count||0),1)]),t("li",G,[I,t("span",J,s(e.profile.cashBack.amount||0)+" ₽",1)])])])):(i(),c(a,{key:1}))}}});export{H as default};
