import{o,j as r,l as e,a0 as d,M as c,W as h,L as m}from"./index.es-db843bab.js";/* empty css                                                              */import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";const u={props:["token","param"],data(){return{channelLink:null}},mounted(){},methods:{checkLink(){this.channelLink.indexOf("https://t.me/")!==-1&&(this.channelLink="@"+(this.channelLink.split("https://t.me/")[1]||this.channelLink))},requestTelegramChannelId(){this.$store.dispatch("requestTelegramChannelId",{dataObject:{token:this.token,channel:this.channelLink}}).then(n=>{n.ok&&this.$emit("callback",{param:this.param||null,text:n.result.chat.id}),n.ok||(this.$notify({title:"Конструктор ботов",text:n.description,type:"error"}),this.$emit("callback",{param:this.param||null,text:null}))}).catch(()=>{})}}},k={class:"dropdown"},_=e("button",{class:"btn btn-link dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"fa-brands fa-telegram"})],-1),f={style:{"min-width":"300px"},class:"dropdown-menu cursor-pointer text-muted p-2"},g={class:"input-group"},b={class:"form-floating"},x=e("label",{for:""},"Ссылка на канал",-1),L=["disabled"],v=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),y=[v],w={key:0,class:"alert alert-danger mb-2",role:"alert"};function C(n,t,i,T,l,s){return o(),r("div",k,[_,e("div",f,[e("form",{onSubmit:t[2]||(t[2]=d((...a)=>s.requestTelegramChannelId&&s.requestTelegramChannelId(...a),["prevent"]))},[e("div",g,[e("div",b,[c(e("input",{type:"text",class:"form-control",id:"search-description-text","onUpdate:modelValue":t[0]||(t[0]=a=>l.channelLink=a),onChange:t[1]||(t[1]=(...a)=>s.checkLink&&s.checkLink(...a)),placeholder:"@telegram_channel",required:""},null,544),[[h,l.channelLink]]),x]),e("button",{disabled:!i.token,class:"btn btn-outline-primary"},y,8,L)]),i.token?m("",!0):(o(),r("div",w," Вам необходимо указать тоукен бота! "))],32)])])}const M=p(u,[["render",C]]);export{M as T};
