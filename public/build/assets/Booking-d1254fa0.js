import{g as p,o as s,j as n,l as e,n as a,L as r,$ as l,G as h,F as _,J as m,k as u,a0 as b,K as c}from"./index.es-db843bab.js";import{P as y}from"./Pagination-ccc8cfc8.js";import{_ as k}from"./CallbackForm-40cf3e3b.js";import{R as f}from"./ReturnToBot-463a5d25.js";/* empty css                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const w={class:"card card-style"},v={class:"content"},A={class:"mb-0"},B={key:0},j=e("strong",null,"CashBack",-1),$={key:1},P=e("b",null,"номер телефона",-1),C={class:"row mb-0 px-3"},N={class:"col-6 p-1"},O={class:"col-6 p-1"},R={key:1,class:"card card-style"},V={class:"content mb-2"},q=e("h3",null,"Список администраторов",-1),F=e("p",null," Список всех администраторов системы с их статусами и последним временем онлайн ",-1),G={class:"list-group list-boxes"},L=["onClick"],T=e("i",{class:"fa font-20 fa-mobile color-blue2-dark"},null,-1),z={key:0,class:"color-green1-dark"},D={key:1,class:"color-red2-light"},E={key:2,class:"fa fa-check-circle color-green1-dark"},J={key:3,class:"fa fa-times-circle color-red2-light"},K={key:2,class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},M=e("div",{class:"card-center"},[e("h3",{class:"color-white font-700 text-center mb-0"},"Список администраторов"),e("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"К сожалению, администраторы не найдены:(")],-1),S=e("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),H=[M,S],I={data(){return{admins:[],admins_paginate_object:null,type:0}},computed:{...p(["getAdmins","getAdminsPaginateObject"]),self(){return window.self},currentBot(){return window.currentBot}},mounted(){this.loadAdmins()},methods:{nextAdminPage(i){this.loadAdmins(i)},sendRequest(i,t){if(!i.is_work){this.$botNotification.warning("Упс!","Администратор офлайн!");return}this.$store.dispatch("requestAdmin",{dataObject:{bot_id:this.currentBot.id,admin_telegram_chat_id:i.telegram_chat_id,user_telegram_chat_id:this.self.telegram_chat_id}}).then(d=>{this.$botNotification.success("Отлично!","Выбранный Администратор оповещен!")}).catch(()=>{})},loadAdmins(i=0){this.$store.dispatch("loadAdmins",{dataObject:{bot_domain:this.currentBot.bot_domain},page:i}).then(t=>{this.admins=this.getAdmins,this.admins_paginate_object=this.getAdminsPaginateObject}).catch(()=>{})}}},tt=Object.assign(I,{__name:"Booking",setup(i){return(t,d)=>(s(),n(_,null,[e("div",w,[e("div",v,[e("p",A,[a(" Вы можете выбрать администратора из списка активных администраторов и прислать ему запрос "),t.type===0?(s(),n("span",B,[a("на начисление "),j,a(".")])):r("",!0),t.type===1?(s(),n("span",$,[a("на бронирование столика. Обязательно укажите свой "),P,a(" для обратной связи.")])):r("",!0),a(" К запросу Вы можете прикрепить текстовое сообщение, которое также получит выбранный администратор. ")]),e("div",C,[e("div",N,[e("button",{type:"button",onClick:d[0]||(d[0]=o=>t.type=0),class:l(["btn btn-border btn-m btn-full rounded-sm text-uppercase font-900 w-100",{"bg-highlight":t.type===0,"border-highlight color-highlight bg-theme":t.type!==0}])}," Начислить баллы ",2)]),e("div",O,[e("button",{type:"button",onClick:d[1]||(d[1]=o=>t.type=1),class:l(["btn btn-border btn-m btn-full rounded-sm text-uppercase font-900 w-100",{"bg-highlight":t.type===1,"border-highlight color-highlight bg-theme":t.type!==1}])}," Забронировать столик ",2)])])])]),t.type===1?(s(),h(k,{key:0,type:"booking"})):r("",!0),t.type===0&&t.admins.length>0?(s(),n("div",R,[e("div",V,[q,F,e("div",G,[(s(!0),n(_,null,m(t.admins,(o,g)=>(s(),n("a",{href:"#",onClick:b(Q=>t.sendRequest(o,g),["prevent"]),class:l([{"border-green1-dark":o.is_work,"border-red1-dark":!o.is_work},"border rounded-s shadow-xs"])},[T,e("span",null,c(o.user.fio_from_telegram||o.user.name||"Не указано")+" ("+c(t.$filters.timeAgo(o.updated_at))+")",1),e("strong",null,c(o.phone||"Номер телефона не указан"),1),o.is_work?(s(),n("u",z,"В сети")):(s(),n("u",D,"Не в сети")),o.is_work?(s(),n("i",E)):(s(),n("i",J))],10,L))),256))]),t.admins_paginate_object?(s(),h(y,{key:0,class:"mt-2",onPagination_page:t.nextAdminPage,pagination:t.admins_paginate_object},null,8,["onPagination_page","pagination"])):r("",!0),u(f,{class:"mb-2"})])])):r("",!0),t.type===0&&t.admins.length===0?(s(),n("div",K,H)):r("",!0)],64))}});export{tt as default};
