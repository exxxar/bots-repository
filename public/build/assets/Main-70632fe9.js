import{g as y,o as l,j as n,l as e,M as c,W as m,L as r,a2 as g,F as p,J as b,$ as v,n as h,K as f,G as w,N as $,k,a0 as _,a8 as S,q as C}from"./index.es-db843bab.js";import{P as B}from"./Pagination-ccc8cfc8.js";import{_ as I}from"./CompanyList-a6287423.js";/* empty css                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const V={key:0},U={class:"d-flex flex-column mt-2"},j={class:"d-flex my-3 w-100"},T={class:"pt-1"},q={"data-activate":"toggle-id-2",class:"font-500 font-13"},M={key:0},F={key:1},O={class:"ml-auto mr-4 pr-2"},P={class:"custom-control ios-switch ios-switch-icon"},D=e("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),N=e("i",{class:"fa fa-check font-11 color-white"},null,-1),L=e("i",{class:"fa fa-times font-11 color-white"},null,-1),E={key:0},R=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),z=["onClick"],A=e("a",{href:"#",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light"},[e("i",{class:"fa-solid fa-arrow-right"})],-1),G={key:1},J=e("div",{class:"alert alert-warning mt-2",role:"alert"}," К сожалению мы не нашли нужных ботов... ",-1),K=[J],W={props:{companyId:null,selectedBotId:null},data(){return{need_self_bots:!1,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],search:null,bots_paginate_object:null}},watch:{need_self_bots:function(){this.loadBots()}},computed:{...y(["getBots","getBotsPaginateObject","getCurrentCompany"]),filteredBots(){return this.bots?this.bots.filter(i=>i.deleted_at==null):[]}},mounted(){this.loadBots()},methods:{duplicate(i){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:i,company_id:this.getCurrentCompany.id}}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.loadBots(s),this.$notify("Указанный бот успешно продублирован")})},selectBot(i){this.$emit("callback",i),this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(i){this.loadBots(i)},loadBots(i=0){this.loading=!0,this.$store.dispatch("loadSimpleBots",{dataObject:{companyId:this.companyId||null,needSelfBots:this.need_self_bots,search:this.search},page:i}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject}).catch(()=>{this.loading=!1})}}},Z=Object.assign(W,{__name:"BotList",setup(i){return(t,s)=>t.show?(l(),n("div",V,[e("div",U,[c(e("input",{type:"search",class:"form-control mb-2",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":s[0]||(s[0]=u=>t.search=u),"aria-describedby":"button-addon2"},null,512),[[m,t.search]]),e("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:s[1]||(s[1]=(...u)=>t.loadBots&&t.loadBots(...u)),type:"button",id:"button-addon2"},"Найти ")]),e("div",j,[e("div",T,[e("h5",q,[t.need_self_bots?(l(),n("strong",M,"Все боты в системе")):r("",!0),t.need_self_bots?r("",!0):(l(),n("strong",F,"Только мои боты"))])]),e("div",O,[e("div",P,[c(e("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=u=>t.need_self_bots=u),class:"ios-input",id:"toggle-id-2"},null,512),[[g,t.need_self_bots]]),D,N,L])])]),t.bots.length>0?(l(),n("div",E,[R,(l(!0),n(p,null,b(t.filteredBots,(u,o)=>(l(),n("a",{href:"javascript:void(0)",class:v(["d-flex justify-content-between align-items-center btn btn-border px-2 py-1 btn-full mb-2 rounded-xl text-uppercase font-900 bg-theme",{" border-blue2-dark color-blue2-dark":i.selectedBotId!=u.id," border-green2-dark color-green2-dark":i.selectedBotId===u.id}])},[e("strong",{onClick:a=>t.selectBot(u),class:"font-12 w-100 text-center",style:{"word-wrap":"break-word"}},[e("i",{class:v([{"text-danger":u.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),h(f(u.bot_domain||"Не указано"),1)],8,z),A],2))),256)),t.bots_paginate_object?(l(),w(B,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):r("",!0)])):(l(),n("div",G,K))])):r("",!0)}});const H={key:0,class:"card card-style"},Q={class:"content mb-0"},X=e("h2",null,"Создание клиента",-1),Y=e("h6",null,"Так-с, создаем нового клиента или используем уже созданного клиента?",-1),x=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),tt=e("h6",null,"Выбрать клиента из списка",-1),et={key:1,class:"card card-style"},st={class:"content mb-0"},ot=e("h2",{class:"my-5"},"Персональная информация",-1),lt=e("p",{class:"mt-2 mb-2"},[e("span",{class:"badge bg-light text-primary p-2 mr-2"},[e("i",{class:"fa-regular fa-bell"})]),h(" Напишите подробную информацию о клиенте и его фото")],-1),nt={class:"form-floating mb-2 w-100"},it=e("label",{for:"form-selfInfo-name",class:"text-primary"},"Ф.И.О. клиента",-1),at={class:"form-floating mb-2 w-100"},rt=e("label",{for:"form-selfInfo-phone",class:"text-primary"},"Личный номер телефона клиента для связи менеджера",-1),dt={class:"form-floating mb-2 w-100"},ct=e("label",{for:"form-selfInfo-text",class:"text-primary"},"Информация о клиенте:",-1),ut=e("h2",{class:"my-5"},"Информация о бизнесе",-1),mt=e("p",{class:"mt-2 mb-2"},[e("span",{class:"badge bg-light text-primary p-2 mr-2"},[e("i",{class:"fa-regular fa-bell"})]),h(" Напишите подробную информацию о бизнесе клиента и добавьте логотип компании. Он будет использоваться для общедоступной информации о клиенте.")],-1),ft={class:"form-floating mb-2 w-100"},pt=e("label",{for:"form-business-info-name",class:"text-primary"},"Название организации клиента (имя компании)",-1),bt={class:"form-floating mb-2 w-100"},ht=e("label",{for:"form-business-info-text",class:"text-primary"},"Информация о бизнесе:",-1),gt=e("h2",{class:"my-5"},"Контактная информация",-1),_t={class:"card bg-20 m-0 content rounded-m shadow mb-2 w-100"},vt={class:"card-body"},kt=e("h6",{class:"color-white"},[h("А также добавьте контактную информацию, нажав на "),e("i",{class:"fa-solid fa-square-plus"})],-1),yt={class:"card card-style ml-0 mr-0 mb-3 bg-white"},wt={class:"content"},Ct=["onUpdate:modelValue"],$t=["value"],St={class:"form-floating w-100"},Bt=["for"],It=["pattern","id","onUpdate:modelValue"],Vt=["pattern","id","onUpdate:modelValue"],Ut={class:"form-floating mt-1"},jt=["for"],Tt=["onUpdate:modelValue","id"],qt={class:"d-flex justify-content-center mt-3"},Mt=["onClick"],Ft=e("i",{class:"fa-solid fa-trash-can"},null,-1),Ot=[Ft],Pt=["onClick"],Dt=e("i",{class:"fa-solid fa-clone"},null,-1),Nt=[Dt],Lt=e("i",{class:"fa-solid fa-square-plus mr-1"},null,-1),Et={key:0,class:"divider divider-small my-3 bg-white"},Rt=e("i",{class:"fa-solid fa-trash mr-1"},null,-1),zt=e("div",{class:"card-overlay bg-blue2-dark opacity-95 rounded-m shadow-l"},null,-1),At=e("div",{class:"card-overlay dark-mode-tint rounded-m shadow-l"},null,-1),Gt={class:"mt-3 w-100"},Jt={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},Kt={class:"custom-alert-text"},Wt=["onClick"],Zt=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Ht=e("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),Qt={key:2,class:"card card-style"},Xt={class:"content mb-0"},Yt=e("h2",null,"Создадим непосредственно бота",-1),xt=e("h6",null,[e("span",{class:"badge bg-light text-primary p-2 mr-2"},[e("i",{class:"fa-regular fa-bell"})]),h("Первым делом необходимо имя бота (на русском - для пользователей, на английском - как ссылка на вашего бота)")],-1),te={class:"form-floating mb-2 w-100"},ee=e("label",{for:"floatingTextarea",class:"text-primary"},"Название бота (на русском)",-1),se=C('<div class="border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 mb-2"><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i> Ссылка должна быть длинной (от 7 символов) и, по возможности, уникальной. </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>Ссылка должна заканчиваться словом &quot;bot&quot; </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>Ссылка должна состоть только из английских символов и символов нижнего подчеркивания </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>В ссылке нельзя ставить пробелы </p><strong>Рекомендации для коллег</strong></div>',1),oe={class:"d-flex w-100"},le={class:"pt-1"},ne={"data-activate":"toggle-id-2",class:"font-500 font-13"},ie={key:0},ae={key:1},re={class:"ml-auto mr-4 pr-2"},de={class:"custom-control ios-switch ios-switch-icon"},ce=e("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),ue=e("i",{class:"fa fa-check font-11 color-white"},null,-1),me=e("i",{class:"fa fa-times font-11 color-white"},null,-1),fe={key:0,class:"form-floating mb-2 w-100"},pe=e("label",{for:"form-bot-domain",class:"text-primary"},"Доменное имя бота на английском",-1),be={class:"border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 mb-2"},he=e("p",{class:"mb-1"},[h("Если у Вас есть "),e("a",{href:"https://t.me/botFather",class:"text-primary"},"Token"),h(", то Вы сразу же сможете протестировать своего бота на практике. Если же Token-а нет, то вам помогут его создать наши менеджеры.")],-1),ge={class:"d-flex"},_e={class:"pt-1"},ve={"data-activate":"toggle-id-2",class:"font-500 font-13"},ke={key:0},ye={key:1},we={class:"ml-auto mr-4 pr-2"},Ce={class:"custom-control ios-switch ios-switch-icon"},$e=e("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),Se=e("i",{class:"fa fa-check font-11 color-white"},null,-1),Be=e("i",{class:"fa fa-times font-11 color-white"},null,-1),Ie={key:1,class:"form-floating mb-2 w-100"},Ve=e("label",{for:"floatingTextarea",class:"text-primary"},"Телеграм token бота",-1),Ue={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},je={class:"custom-alert-text"},Te=["onClick"],qe=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Me=e("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),Fe={key:3,class:"card card-style"},Oe={class:"content mb-0"},Pe={class:"d-flex w-100"},De={class:"pt-1"},Ne={"data-activate":"toggle-need-create-bot",class:"font-500 font-13"},Le={key:0},Ee={key:1},Re={class:"ml-auto mr-4 pr-2"},ze={class:"custom-control ios-switch ios-switch-icon"},Ae=e("label",{class:"custom-control-label",for:"toggle-need-create-bot"},null,-1),Ge=e("i",{class:"fa fa-check font-11 color-white"},null,-1),Je=e("i",{class:"fa fa-times font-11 color-white"},null,-1),Ke={key:0},We={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},Ze={class:"custom-alert-text"},He=["onClick"],Qe=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Xe=e("h2",null,"Хочу себе в бота ",-1),Ye={key:0},xe=e("i",{class:"fa-solid fa-xmark mr-1 text-danger"},null,-1),ts=[xe],es={class:"row mb-2"},ss={class:"col-6 col-md-4 col-lg-3 mb-2 position-relative"},os={class:"relative"},ls=["disabled","value","id"],ns=["for"],is={class:"small"},as=["onClick"],rs=e("i",{class:"fa-regular fa-lightbulb"},null,-1),ds=[rs],cs={key:0},us={class:"badge bg-light text-primary mr-2"},ms={key:1},fs=e("p",{class:"alert border-success m-0 my-2"},"Опишите ваши индивидуальные потребности и наши разработчики неприменно реализуют данную фичу для Вас!",-1),ps={class:"form-floating mt-1"},bs=e("label",{class:"text-primary",for:"individual-description-textarea"},"Описание фичи",-1),hs={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},gs={class:"custom-alert-text"},_s=["onClick"],vs=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),ks=e("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),ys={key:4,class:"card card-style"},ws={class:"content mb-0"},Cs=e("h6",null,"Добавьте нужные страницы в бота:",-1),$s={class:"form-floating mb-2 w-100"},Ss=e("label",{for:"pageForm-title",class:"text-primary"},"Название страницы",-1),Bs=e("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Добавить страницу ",-1),Is=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Vs={key:0},Us={class:"d-flex align-items-center btn w-100 btn-border mb-2 rounded-sm text-left font-900 border-blue1-dark color-blue1-dark bg-theme"},js={key:0,class:"w-100 p-2 font-12"},Ts=["onUpdate:modelValue"],qs=["onClick"],Ms=e("i",{class:"fa-solid fa-trash-can"},null,-1),Fs=[Ms],Os={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},Ps={class:"custom-alert-text"},Ds=["onClick"],Ns=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Ls=e("p",{class:"mb-2"},"Так-с, финальный этап! Сейчас мы создадим демо и сможем перейти к завершению создания бота!",-1),Es={key:5,class:"card card-style"},Rs={class:"content mb-0"},zs={class:"w-100 d-flex justify-content-center align-items-center flex-column"},As=e("h2",null,"Демонстрация работы бота",-1),Gs={href:"#"},Js={class:"mb-0"},Ks={class:"mobile mb-2 p-0"},Ws=["src"],Zs={key:0,class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},Hs=e("span",null,[e("i",{class:"fa-solid fa-triangle-exclamation"})],-1),Qs=e("strong",null,"Тоукен не указан!",-1),Xs=e("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"× ",-1),Ys=[Hs,Qs,Xs],xs={key:6,class:"card card-style"},to={class:"content mb-0"},eo=C('<h2 class="text-center mt-3 mb-0">Оформление заказа</h2><h6 class="text-center mb-3">Выберите тариф для подключения</h6><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-green2-dark text-uppercase">Пробный</h1><h3 class="pricing-value text-center bg-green1-light color-white font-40">3999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-green1-light font-16">Разовый на 1 месяц</h2><ul class="pricing-list text-center"><li>1 бот</li><li>до 20 страниц</li><li>до 10 любых модулей</li><li>1 месяц тех. поддержки</li></ul><a href="#" class="btn btn-s bg-green2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.01% персональной скидки менеджера</p></div><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-blue2-dark text-uppercase">Базовый</h1><h3 class="pricing-value text-center bg-blue2-light color-white font-40">6999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-blue2-light font-16">+2500руб\\месяц</h2><ul class="pricing-list text-center"><li>до 3х ботов</li><li>до 20 страниц в боте</li><li>жо 20 модулей в боте</li><li>неограниченно тех.поддержка</li><li>интеграция с CRM</li><li>до 2х пользовательских модулей индивидуальной разработки</li></ul><a href="#" class="btn btn-s bg-blue2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.05% персональной скидки менеджера</p></div><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-red2-dark text-uppercase">V.I.P.</h1><h3 class="pricing-value text-center bg-red2-light color-white font-40">26999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-red2-light font-16">+6 500руб\\месяц</h2><ul class="pricing-list text-center"><li>неограниченное число ботов</li><li>неограниченно страниц</li><li>неограниченно модулей</li><li>неограниченно тех.поддержка</li><li>интеграция с CRM</li><li>пользовательская индивидуальная разработка</li></ul><a href="#" class="btn btn-s bg-red2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.5% персональной скидки менеджера</p></div>',5),so={props:["start"],data(){return{messages:[],load:!1,step:0,pageForm:{title:null},form:{name:null,botDomain:null,has_token:!1,has_name:!1,need_all_photo:!0,token:null,need_create_bot:!0,selected_bot_id:null,selected_company_id:null,cashback:{level_1:7,level_2:3,level_3:1},greeting:{text:null,avatar:null,profile:null,need_photo:!0},contacts:{need_photo:!0,image:null,links:[]},selfInfo:{name:null,phone:null,text:null,image:null,need_photo:!0},businessInfo:{name:null,text:null,image:null,need_photo:!0},functions:["cashback","friends-system","ask-a-question","location","wheel-of-fortune"],pages:[{title:"/start",comment:"Начни с этого момента",isStatic:!0},{title:"/help",comment:"Страница помощи",isStatic:!0},{title:"/about",comment:"Страница описания бота",isStatic:!0}],individual:null},contactTypes:[{title:"Номер телефона",mask:"+7(###)###-##-##",pattern:null,slug:"phone-number",icon:"fa-solid fa-mobile-screen"},{title:"Эл.почта",pattern:null,mask:null,slug:"email",icon:"fa-solid fa-at"},{title:"Адресс",pattern:null,mask:null,slug:"address",icon:"fa-solid fa-location-dot"},{title:"Соц.сети",pattern:null,mask:null,slug:"social-link",icon:"fa-solid fa-square-share-nodes"},{title:"Сайт",pattern:null,mask:null,slug:"web-site-link",icon:"fa-solid fa-laptop"},{title:"Месенджер",pattern:null,mask:null,slug:"messenger-link",icon:"fa-regular fa-envelope"}],moreFunctions:[{title:"КэшБек",description:"Например три уровня  7% , 3% и 1% + фото.",slug:"cashback",icon:"fa-solid fa-sack-dollar",is_active:!0},{title:"Бонус за рекомендации",description:"Приграси 5 друзе и получи подарок",slug:"referral-bonus",icon:"fa-solid fa-money-bill-trend-up",is_active:!0},{title:"AMO CRM",description:"Интеграция с AMO CRM",slug:"amo-crm",icon:"fa-solid fa-money-bill-trend-up",is_active:!0},{title:"Система друзей",description:"Реферальная система друзей",slug:"friends-system",icon:"fa-solid fa-people-pulling",is_active:!0},{title:"Регистрация на мероприятия",slug:"event-form",description:"Вы можете регистрировать людей на мероприятия через нашего чат бата или же сообщать о своих ближайших мероприятиях",icon:"fa-solid fa-calendar-check",is_active:!0},{title:"Интеграция с каналами Telegram",description:"Мы может интегрировать ваш канал в наш бот",slug:"telegram-channel-integration",icon:"fa-brands fa-telegram",is_active:!0},{title:"Лид магнит",slug:"lead-magnet",icon:"fa-solid fa-magnet",description:"Лид магнит продумывается индивидуально",is_active:!0},{title:"Воронка продаж",slug:"sales-funnel",description:"Воронка продаж продумывается индивидуально",icon:"fa-solid fa-filter-circle-dollar",is_active:!0},{title:"Отзывы",slug:"reviews",description:"Можете добавить отзывы в бот чтобы людям не приходилось искать отзовы на других площадках ",icon:"fa-solid fa-magnifying-glass-dollar",is_active:!0},{title:"Задать вопрос",slug:"ask-a-question",description:"Люди смогут задавать вопрос прямо в бот, а Вы отвечать им уже лично",icon:"fa-solid fa-clipboard-question",is_active:!0},{title:"Получить онлайн консультацию",slug:"online-consultation",description:"Запись на консультацию",icon:"fa-solid fa-circle-info",is_active:!0},{title:"Локация",slug:"location",description:"Ваш адрес, если необходим вашему бизнесу ",icon:"fa-solid fa-map-location-dot",is_active:!0},{title:"Акции",slug:"promotions",description:"Вы сможете выкладывать акции и распродажи",icon:"fa-solid fa-percent",is_active:!0},{title:"Наши клиенты",slug:"our-clients",description:"Сюда Вы сможете выложить фото ваших гостей ",icon:"fa-solid fa-carrot",is_active:!0},{title:"Инвесторам",slug:"investors",description:"Предложения для инвестрора",icon:"fa-solid fa-comment-dollar",is_active:!0},{title:"Стоимость услуг",slug:"cost-of-services",description:"Ваш прайс или меню",icon:"fa-solid fa-money-check-dollar",is_active:!0},{title:"Ваш магазин",slug:"custom-shop",description:"Ваш индивидуальный магазин внутри бота с возможностью оплаты онлайн",icon:"fa-brands fa-shopify",is_active:!0},{title:"Забронировать номер/столик",slug:"booking",description:"Человет сможет заброниравать в боте или же выйти на менеджера",icon:"fa-solid fa-utensils",is_active:!0},{title:"Атмосфера",slug:"atmosphere",description:"Фото Вашей атмосферы",icon:"fa-solid fa-trophy",is_active:!0},{title:"Курсы",slug:"courses",description:"Информация о курсах",icon:"fa-solid fa-graduation-cap",is_active:!0},{title:"Оплата в боте",slug:"payments",description:"Создавайте запросы на оплату непосредственно в боте",icon:"fa-regular fa-credit-card",is_active:!0},{title:"Колесо фортуны",slug:"wheel-of-fortune",description:"Розыгрыши призов в боте",icon:"fa-solid fa-dharmachakra",is_active:!0},{title:"Квест в Instagram",slug:"insta-quest",description:"Розыгрыши призов в боте c отсылкой на инстаграм",icon:"fa-brands fa-instagram",is_active:!0},{title:"Карточка накоплений",slug:"coffee-card",description:"Система накопления бонусов, например чашек кофе",icon:"fa-solid fa-mug-hot",is_active:!0},{title:"Индивидуальная кнопка",slug:"individual-button",description:"Можете предложить свою кнопку",icon:"fa-solid fa-person-chalkboard",is_active:!0}]}},computed:{},watch:{"form.need_create_bot":{handler:function(i){this.form.selected_bot_id=null,this.form.functions=[]},deep:!0}},mounted(){window.addEventListener("select-notes-event",i=>{i.detail.param,i.detail.note}),this.start&&(this.step=this.start)},methods:{start(){this.step=0,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},prevStep(){this.step--,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},nextStep(){this.step++,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},alert(i){this.messages.push(i)},removeMessage(i){this.messages.splice(i,1)},selectCompany(i){this.form.selected_company_id=i.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного клиента!"),this.step=2},selectBot(i){this.form.selected_bot_id=i.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного бота!")},removePage(i){this.form.pages.splice(i,1)},addPage(){const i=this.pageForm;this.form.pages.push({title:i.title,isStatic:!1}),this.pageForm.title=null},displayDescription(i){this.$botNotification.notification("Информация",i)},getContactsType(i){return this.contactTypes.find(t=>t.slug===i)||null},submitStep5(){this.form.functions.forEach(i=>{let t=this.moreFunctions.find(u=>u.slug===i);this.form.pages.find(u=>u.title===t.title)||null||this.form.pages.push({title:t.title,isStatic:!1})}),this.step++},submitBot(){let i=new FormData;Object.keys(this.form).forEach(t=>{const s=this.form[t]||"";typeof s=="object"?i.append(t,JSON.stringify(s)):i.append(t,s)}),this.form.greeting.need_photo&&(i.append("greeting_image_avatar",this.form.greeting.avatar),i.append("greeting_image_profile",this.form.greeting.profile)),this.form.contacts.need_photo&&i.append("contacts_image",this.form.contacts.image),this.form.selfInfo.need_photo&&i.append("self_info_image",this.form.selfInfo.image),this.form.businessInfo.need_photo&&i.append("business_info_image",this.form.businessInfo.image),this.$store.dispatch("createBotLazy",{botForm:i}).then(t=>{this.form.botDomain=t.botDomain,this.load=!0,this.$nextTick(()=>{this.load=!1}),this.$botNotification.notification("Конструктор ботов","Бот успешно создан!"),this.step++}).catch(t=>{this.step++})},remove(i){this.form.contacts.links.splice(i,1)},duplicate(i){const t={...i};this.form.contacts.links.push(t)},addContact(){const i={slug:"phone-number",value:null,description:null};this.form.contacts.links.push(i)},getPhoto(i){return{imageUrl:URL.createObjectURL(i)}},onChangePhotos(i,t,s){const u=i.target.files;this.form[t][s]=u[0]}}},oo=Object.assign(so,{__name:"BaseBotConstructor",setup(i){return(t,s)=>{const u=$("mask");return l(),n(p,null,[t.step===0?(l(),n("div",H,[e("div",Q,[X,Y,e("button",{onClick:s[0]||(s[0]=o=>t.step=1),class:"w-100 btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme"}," Создать нового клиента "),x,tt,k(I,{onCallback:t.selectCompany},null,8,["onCallback"])])])):r("",!0),t.step===1?(l(),n("div",et,[e("div",st,[e("form",{onSubmit:s[17]||(s[17]=_((...o)=>t.nextStep&&t.nextStep(...o),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[ot,lt,e("div",nt,[it,c(e("input",{type:"text",class:"form-control",placeholder:"Иванов И.И.","onUpdate:modelValue":s[1]||(s[1]=o=>t.form.selfInfo.name=o),onInvalid:s[2]||(s[2]=o=>t.alert("Вы не добавили Ф.И.О.")),id:"form-selfInfo-name",required:""},null,544),[[m,t.form.selfInfo.name]])]),e("div",at,[rt,c(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>t.form.selfInfo.phone=o),placeholder:"+7(000)000-00-00",class:"form-control",onInvalid:s[4]||(s[4]=o=>t.alert("Вы не добавили номер телефона")),id:"form-selfInfo-phone",required:""},null,544),[[m,t.form.selfInfo.phone],[u,"+7(###)###-##-##"]])]),e("div",dt,[ct,c(e("textarea",{style:{"min-height":"150px"},"onUpdate:modelValue":s[5]||(s[5]=o=>t.form.selfInfo.text=o),class:"form-control font-12",onInvalid:s[6]||(s[6]=o=>t.alert("Вы не добавили информацию о клиенте")),placeholder:"Немного деталей о Вас",id:"form-selfInfo-text",required:""},null,544),[[m,t.form.selfInfo.text]])]),ut,mt,e("div",ft,[pt,c(e("input",{type:"text",class:"form-control",placeholder:"ООО 'Рога и Копыта'","onUpdate:modelValue":s[7]||(s[7]=o=>t.form.businessInfo.name=o),onInvalid:s[8]||(s[8]=o=>t.alert("Вы не добавили название компании!")),id:"form-business-info-name",required:""},null,544),[[m,t.form.businessInfo.name]])]),e("div",bt,[ht,c(e("textarea",{style:{"min-height":"150px"},class:"form-control font-12","onUpdate:modelValue":s[9]||(s[9]=o=>t.form.businessInfo.text=o),placeholder:"Главное начать...",onInvalid:s[10]||(s[10]=o=>t.alert("Вы не добавили описание компании")),id:"form-business-info-text",required:""},null,544),[[m,t.form.businessInfo.text]])]),gt,e("div",_t,[e("div",vt,[kt,(l(!0),n(p,null,b(t.form.contacts.links,(o,a)=>(l(),n("div",yt,[e("div",wt,[c(e("select",{"onUpdate:modelValue":d=>t.form.contacts.links[a].slug=d,class:"form-control w-100 mb-2"},[(l(!0),n(p,null,b(t.contactTypes,d=>(l(),n("option",{value:d.slug},f(d.title||"Не указан"),9,$t))),256))],8,Ct),[[S,t.form.contacts.links[a].slug]]),e("div",St,[e("label",{class:"text-primary",for:"contact-input-"+a},f(t.getContactsType(t.form.contacts.links[a].slug).title||"Не указано"),9,Bt),t.getContactsType(t.form.contacts.links[a].slug).mask?c((l(),n("input",{key:0,type:"text",pattern:t.getContactsType(t.form.contacts.links[a].slug).pattern,class:"form-control",placeholder:"Введите данные",onInvalid:s[11]||(s[11]=d=>t.alert("Вы не ввели данные")),id:"contact-input-"+a,"onUpdate:modelValue":d=>t.form.contacts.links[a].value=d,required:""},null,40,It)),[[u,t.getContactsType(t.form.contacts.links[a].slug).mask],[m,t.form.contacts.links[a].value]]):c((l(),n("input",{key:1,type:"text",pattern:t.getContactsType(o.slug).pattern,class:"form-control w-100",id:"contact-input-"+a,onInvalid:s[12]||(s[12]=d=>t.alert("Вы не ввели данные")),"onUpdate:modelValue":d=>t.form.contacts.links[a].value=d,required:""},null,40,Vt)),[[m,t.form.contacts.links[a].value]])]),e("div",Ut,[e("label",{class:"text-primary",for:"contact-description-textarea-"+a},"Описание",8,jt),c(e("textarea",{class:"form-control font-12","onUpdate:modelValue":d=>t.form.contacts.links[a].description=d,onInvalid:s[13]||(s[13]=d=>t.alert("Вы не ввели описание контакта")),placeholder:"Поясните пользователям к чему относится данный контакт",id:"contact-description-textarea-"+a,required:""},`

                                        `,40,Tt),[[m,t.form.contacts.links[a].description]])]),e("div",qt,[e("a",{href:"javascript:void(0)",class:"btn mr-2 btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme",onClick:d=>t.remove(a)},Ot,8,Mt),e("a",{href:"javascript:void(0)",class:"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:d=>t.duplicate(o)},Nt,8,Pt)])])]))),256)),e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full my-2 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme",onClick:s[14]||(s[14]=(...o)=>t.addContact&&t.addContact(...o))},[Lt,h(" Добавить ")]),t.form.contacts.links.length>0?(l(),n("div",Et)):r("",!0),t.form.contacts.links.length>0?(l(),n("button",{key:1,type:"button",class:"w-100 btn btn-m btn-full my-2 rounded-sm text-uppercase font-900 border-gray1-dark color-gray1-dark",onClick:s[15]||(s[15]=o=>t.form.contacts.links.length=[])},[Rt,h(" Очистить контакты ")])):r("",!0)]),zt,At]),e("div",Gt,[t.messages.length>0?(l(!0),n(p,{key:0},b(t.messages,(o,a)=>(l(),n("div",Jt,[e("p",Kt,f(o||"Ошибка"),1),e("button",{type:"button",onClick:d=>t.removeMessage(a),class:"close color-white opacity-60 font-16"},"× ",8,Wt)]))),256)):r("",!0)]),Zt,Ht,e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[16]||(s[16]=(...o)=>t.prevStep&&t.prevStep(...o))}," Назад ")],32)])])):r("",!0),t.step===2?(l(),n("div",Qt,[e("div",Xt,[e("form",{onSubmit:s[27]||(s[27]=_((...o)=>t.nextStep&&t.nextStep(...o),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[Yt,xt,e("div",te,[ee,c(e("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50","onUpdate:modelValue":s[18]||(s[18]=o=>t.form.name=o),placeholder:"Например, Шаурма-Бот",onInvalid:s[19]||(s[19]=o=>t.alert("Неверное название бота!")),id:"floatingTextarea",required:""},null,544),[[m,t.form.name]])]),se,e("div",oe,[e("div",le,[e("h5",ne,[t.form.has_name?r("",!0):(l(),n("strong",ie,"Сгенерировать временное имя")),t.form.has_name?(l(),n("strong",ae,"У меня есть имя")):r("",!0)])]),e("div",re,[e("div",de,[c(e("input",{type:"checkbox","onUpdate:modelValue":s[20]||(s[20]=o=>t.form.has_name=o),class:"ios-input",id:"toggle-id-2"},null,512),[[g,t.form.has_name]]),ce,ue,me])])]),t.form.has_name?(l(),n("div",fe,[pe,c(e("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50",placeholder:"test_ivan_bot","onUpdate:modelValue":s[21]||(s[21]=o=>t.form.botDomain=o),onInvalid:s[22]||(s[22]=o=>t.alert("Неверное значение имени бота!")),pattern:"[_A-Za-z0-9]{5,50}(bot)",id:"form-bot-domain",required:""},null,544),[[m,t.form.botDomain]])])):r("",!0),e("div",be,[he,e("div",ge,[e("div",_e,[e("h5",ve,[t.form.have_token?(l(),n("strong",ke,"У меня есть Token бота")):r("",!0),t.form.have_token?r("",!0):(l(),n("strong",ye,"У меня нет Token бота"))])]),e("div",we,[e("div",Ce,[c(e("input",{type:"checkbox","onUpdate:modelValue":s[23]||(s[23]=o=>t.form.have_token=o),class:"ios-input",id:"toggle-id-2"},null,512),[[g,t.form.have_token]]),$e,Se,Be])])])]),t.form.has_token?(l(),n("div",Ie,[Ve,c(e("input",{type:"text",class:"form-control",minlength:"5",maxlength:"100",placeholder:"Значение тоукена",onInvalid:s[24]||(s[24]=o=>t.alert("Неверное значение тоукена")),"onUpdate:modelValue":s[25]||(s[25]=o=>t.form.token=o),id:"floatingTextarea",required:""},null,544),[[m,t.form.token]])])):r("",!0),t.messages.length>0?(l(!0),n(p,{key:2},b(t.messages,(o,a)=>(l(),n("div",Ue,[e("p",je,f(o||"Ошибка"),1),e("button",{type:"button",onClick:d=>t.removeMessage(a),class:"close color-white opacity-60 font-16"},"× ",8,Te)]))),256)):r("",!0),qe,Me,e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[26]||(s[26]=(...o)=>t.prevStep&&t.prevStep(...o))}," Назад ")],32)])])):r("",!0),t.step===3?(l(),n("div",Fe,[e("div",Oe,[e("div",Pe,[e("div",De,[e("h5",Ne,[t.form.need_create_bot?r("",!0):(l(),n("strong",Le,"Выбрать из готовых ботов")),t.form.need_create_bot?(l(),n("strong",Ee,"Создать самостоятельно")):r("",!0)])]),e("div",Re,[e("div",ze,[c(e("input",{type:"checkbox","onUpdate:modelValue":s[28]||(s[28]=o=>t.form.need_create_bot=o),class:"ios-input",id:"toggle-need-create-bot"},null,512),[[g,t.form.need_create_bot]]),Ae,Ge,Je])])]),t.form.need_create_bot?r("",!0):(l(),n("form",Ke,[k(Z,{"selected-bot-id":t.form.selected_bot_id,onCallback:t.selectBot},null,8,["selected-bot-id","onCallback"]),t.messages.length>0?(l(!0),n(p,{key:0},b(t.messages,(o,a)=>(l(),n("div",We,[e("p",Ze,f(o||"Ошибка"),1),e("button",{type:"button",onClick:d=>t.removeMessage(a),class:"close color-white opacity-60 font-16"},"× ",8,He)]))),256)):r("",!0),Qe,e("button",{type:"button",onClick:s[29]||(s[29]=(...o)=>t.submitBot&&t.submitBot(...o)),class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Создать демон и перейти к оформлению "),e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[30]||(s[30]=(...o)=>t.prevStep&&t.prevStep(...o))}," Назад ")])),t.form.need_create_bot?(l(),n("form",{key:1,onSubmit:s[36]||(s[36]=_((...o)=>t.submitStep5&&t.submitStep5(...o),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[Xe,e("p",null,[t.form.functions.length>0?(l(),n("span",Ye,"механик выбрано - "+f(t.form.functions.length)+" ед. ",1)):r("",!0),t.form.functions.length>0?(l(),n("a",{key:1,href:"javascript:void(0)",class:"underline cursor-pointer ml-2",onClick:s[31]||(s[31]=o=>t.form.functions=[])},ts)):r("",!0)]),e("div",es,[(l(!0),n(p,null,b(t.moreFunctions,o=>(l(),n("div",ss,[e("div",os,[c(e("input",{type:"checkbox",disabled:!o.is_active,"onUpdate:modelValue":s[32]||(s[32]=a=>t.form.functions=a),value:o.slug,class:"btn-check function-check d-none",id:"btn-check-outlined"+o.slug},null,8,ls),[[g,t.form.functions]]),e("label",{style:{"min-height":"100px"},class:v([{"border-green1-dark color-green1-dark":t.form.functions.indexOf(o.slug)!==-1,"border-gray1-dark color-gray1-dark":t.form.functions.indexOf(o.slug)===-1},"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 d-flex flex-column align-items-center justify-content-center bg-theme"]),for:"btn-check-outlined"+o.slug},[e("i",{class:v(o.icon)},null,2),e("span",is,f(o.title),1)],10,ns),e("a",{href:"javascript:void(0)",style:{position:"absolute",top:"2px",left:"23px",color:"#E91E63"},onClick:a=>t.displayDescription(o.description)},ds,8,as)])]))),256))]),t.form.functions.length>0?(l(),n("div",cs,[(l(!0),n(p,null,b(t.form.functions,o=>(l(),n("span",us,f(o),1))),256))])):r("",!0),t.form.functions.indexOf("individual-button")>=0?(l(),n("div",ms,[fs,e("div",ps,[bs,c(e("textarea",{class:"form-control font-12","onUpdate:modelValue":s[33]||(s[33]=o=>t.form.individual=o),style:{"min-height":"200px"},onInvalid:s[34]||(s[34]=o=>t.alert("Вы не ввели описание фичи!")),placeholder:"Напишите задуманное...",id:"individual-description-textarea",required:""},`
                        `,544),[[m,t.form.individual]])])])):r("",!0),t.messages.length>0?(l(!0),n(p,{key:2},b(t.messages,(o,a)=>(l(),n("div",hs,[e("p",gs,f(o||"Ошибка"),1),e("button",{type:"button",onClick:d=>t.removeMessage(a),class:"close color-white opacity-60 font-16"},"× ",8,_s)]))),256)):r("",!0),vs,ks,e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[35]||(s[35]=(...o)=>t.prevStep&&t.prevStep(...o))}," Назад ")],32)):r("",!0)])])):r("",!0),t.step===4?(l(),n("div",ys,[e("div",ws,[Cs,e("form",{onSubmit:s[38]||(s[38]=_((...o)=>t.addPage&&t.addPage(...o),["prevent"]))},[e("div",$s,[Ss,c(e("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50","onUpdate:modelValue":s[37]||(s[37]=o=>t.pageForm.title=o),placeholder:"Например, Главное меню",id:"pageForm-title",required:""},null,512),[[m,t.pageForm.title]])]),Bs],32),Is,e("h6",null,[h("Созданные страницы "),t.form.pages.length>0?(l(),n("small",Vs,"(всего "+f(t.form.pages.length)+" стр.)",1)):r("",!0)]),(l(!0),n(p,null,b(t.form.pages,(o,a)=>(l(),n("div",Us,[t.form.pages[a].isStatic?(l(),n("p",js,f(t.form.pages[a].title),1)):c((l(),n("input",{key:1,class:"w-100 p-2",style:{border:"none"},"onUpdate:modelValue":d=>t.form.pages[a].title=d,type:"text"},null,8,Ts)),[[m,t.form.pages[a].title]]),t.form.pages[a].isStatic?r("",!0):(l(),n("a",{key:2,href:"javascript:void(0)",onClick:d=>t.removePage(a),class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light"},Fs,8,qs))]))),256)),t.messages.length>0?(l(!0),n(p,{key:0},b(t.messages,(o,a)=>(l(),n("div",Os,[e("p",Ps,f(o||"Ошибка"),1),e("button",{type:"button",onClick:d=>t.removeMessage(a),class:"close color-white opacity-60 font-16"},"× ",8,Ds)]))),256)):r("",!0),Ns,Ls,e("button",{type:"button",onClick:s[39]||(s[39]=(...o)=>t.submitBot&&t.submitBot(...o)),class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Создать демо "),e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[40]||(s[40]=(...o)=>t.prevStep&&t.prevStep(...o))}," Назад ")])])):r("",!0),t.step===5?(l(),n("div",Es,[e("div",Rs,[e("div",zs,[As,e("h6",null,[e("a",Gs,f(t.form.botDomain),1)]),e("p",Js,[e("small",null,f(t.form.name||"Не указано имя"),1)]),e("div",Ks,[t.load?r("",!0):(l(),n("iframe",{key:0,style:{border:"none"},src:"/web/"+t.form.botDomain},null,8,Ws))]),t.form.token?r("",!0):(l(),n("div",Zs,Ys))])])])):r("",!0),t.step===5?(l(),n("div",xs,[e("div",to,[eo,e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[41]||(s[41]=(...o)=>t.prevStep&&t.prevStep(...o))}," Назад "),e("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[42]||(s[42]=(...o)=>t.start&&t.start(...o))}," В начало ")])])):r("",!0)],64)}}}),lo={data(){return{botUser:null,loading:!1}},computed:{...y(["getSelf"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{}},uo=Object.assign(lo,{__name:"Main",setup(i){return(t,s)=>(l(),w(oo))}});export{uo as default};
