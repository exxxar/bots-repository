import{P as l}from"./Pagination-ccc8cfc8.js";import{B as c}from"./BotMediaObject-d5bf9d83.js";import{R as d}from"./ReturnToBot-463a5d25.js";import{g as h,o as t,j as o,F as _,J as p,L as a,G as u,k as n,K as r,l as y}from"./index.es-db843bab.js";/* empty css                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const b={class:"card card-style"},g={key:0,class:"content d-flex flex-wrap"},m={class:"mt-2 pt-2 w-100"},f={key:0,class:"speech-bubble color-black"},k={key:1,class:"speech-bubble color-white bg-highlight"},C={key:2,class:"speech-left"},H={key:1,class:"content"},j={key:2,class:"content"},v=y("p",null,"Переписка с данным пользователем еще не сохранена",-1),B=[v],I={data(){return{botUserId:null,loading:!1,history:[],paginate_object:null}},computed:{...h(["getChatHistory","getChatHistoryPaginateObject"])},mounted(){this.botUserId=this.$route.params.botUserId,this.loadChatHistory()},methods:{nextChatHistory(i){this.loadChatHistory(i)},loadChatHistory(i=0){this.loading=!0,this.$store.dispatch("loadChatHistory",{dataObject:{bot_user_id:this.botUserId||null},page:i}).then(e=>{this.history=this.getChatHistory||[],this.paginate_object=this.getChatHistoryPaginateObject||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},G=Object.assign(I,{__name:"ChatHistory",setup(i){return(e,P)=>(t(),o("div",b,[e.history.length>0?(t(),o("div",g,[(t(!0),o(_,null,p(e.history,s=>(t(),o("div",m,[s.from_bot_user_id==e.botUserId?(t(),o("div",f,r(s.text||"Текст сообщения"),1)):a("",!0),s.from_bot_user_id!=e.botUserId?(t(),o("div",k,r(s.text||"Текст сообщения"),1)):a("",!0),s.media_content?(t(),o("div",C,[n(c,{content:s.media_content,type:s.content_type},null,8,["content","type"])])):a("",!0)]))),256))])):a("",!0),e.history.length>0?(t(),o("div",H,[e.paginate_object?(t(),u(l,{key:0,class:"mt-4",simple:!0,onPagination_page:e.nextChatHistory,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):a("",!0),n(d)])):(t(),o("div",j,B))]))}});export{G as default};
