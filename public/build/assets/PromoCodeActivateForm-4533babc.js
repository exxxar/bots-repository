import{o as d,g as c,j as t,w as a,v as n,s as m,t as p,l as u,C as h}from"./index.es-818101fe.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";const f={props:["bot"],data(){return{load:!1,slots:0,promoCodeForm:{code:null}}},computed:{getSelf(){return window.profile}},mounted(){},methods:{submitForm(){let s=new FormData;Object.keys(this.promoCodeForm).forEach(o=>{const r=this.promoCodeForm[o]||"";typeof r=="object"?s.append(o,JSON.stringify(r)):s.append(o,r)}),this.$store.dispatch("promoCodeActivate",{promoCodeForm:s}).then(o=>{this.slots=o.slots||0,this.promoCodeForm={code:null},this.$emit("callback",o.data),this.$notify("Промокод успешно активирован")}).catch(o=>{this.$notify("Ошибка активации промокода")})}}},b={class:"row"},C={class:"col-12"},F={class:"form-floating mb-3"},v=t("label",{for:"promo-code-field"},"Ваш код",-1),w={key:0,class:"col-12 mb-2"},y={class:"alert alert-success alert-dismissible fade show",role:"alert"},g=t("strong",null,"Внимание",-1),x=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),N={class:"col-12"},S=["disabled"];function V(s,o,r,j,e,l){return d(),c("form",{onSubmit:o[1]||(o[1]=h((...i)=>l.submitForm&&l.submitForm(...i),["prevent"])),class:"py-3"},[t("div",b,[t("div",C,[t("div",F,[a(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=i=>e.promoCodeForm.code=i),class:"form-control",id:"promo-code-field",placeholder:"Ваш код",required:""},null,512),[[n,e.promoCodeForm.code]]),v])]),e.slots>0?(d(),c("div",w,[t("div",y,[g,m(" Вам зачислено "+p(e.slots)+" слотов! ",1),x])])):u("",!0),t("div",N,[t("button",{disabled:(e.promoCodeForm.code||"").length===0,type:"submit",class:"btn btn-outline-success w-100 p-3"}," Активировать код ",8,S)])])],32)}const D=_(f,[["render",V]]);export{D as P};
