import{j as x,o as l,k as n,n as t,N as u,a3 as $,Y as _,a9 as M,F as f,K as v,L as g,a0 as b,p as m,M as p,a1 as C,O as S,H as k,l as F,a7 as P,s as L,U as O,W as R}from"./index.es-c4852431.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as T}from"./AdminProductCard-02f33b9b.js";import{P as V}from"./Pagination-b758f7ed.js";import{R as E}from"./Rating-5dca4717.js";import{_ as B}from"./ReviewCard-d61947e0.js";import{_ as z}from"./SimpleProductList-1a27843a.js";import{v as D}from"./v4-4a60fe23.js";import{_ as q}from"./ProductCollectionView-4a437c2d.js";import"./ProductCardSimple-862098ff.js";/* empty css                                                   */import"./PreloaderV1-8b039dbc.js";/* empty css                                                    */import"./ProductCard-1caa2227.js";const A={props:["bot","modelValue"],data(){return{sectionForm:{section:null},tab:0,types:[{title:"Готовый продукт",value:1},{title:"Товар на вес",value:2},{title:"Конструктор товара",value:3}],productCategories:[],sections:["Общие характеристики","Дополнительная информация"],photos:[],categories:[],removed_options:[],productForm:{article:null,vk_product_id:null,frontpad_article:null,iiko_article:null,title:null,rating:5,description:null,delivery_terms:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],not_for_delivery:!1,is_weight_product:!1,weight_config:{min:0,max:0,step:0},dimension:{width:0,height:0,length:0,weight:0},categories:[]}}},computed:{...x(["getCategories"])},mounted(){var s,o,e,c,i,r,a,d;this.loadProductCategories(),this.modelValue&&(this.productForm={id:this.modelValue.id||null,article:this.modelValue.article||null,frontpad_article:this.modelValue.frontpad_article||null,iiko_article:this.modelValue.iiko_article||null,vk_product_id:this.modelValue.vk_product_id||null,title:this.modelValue.title||null,rating:this.modelValue.rating||5,description:this.modelValue.description||null,delivery_terms:this.modelValue.delivery_terms||null,images:this.modelValue.images||null,type:this.modelValue.type||1,old_price:this.modelValue.old_price||null,current_price:this.modelValue.current_price||null,variants:this.modelValue.variants||null,in_stop_list_at:this.modelValue.in_stop_list_at||null,bot_id:this.modelValue.bot_id||null,options:this.modelValue.options||null,reviews:this.modelValue.reviews||null,not_for_delivery:this.modelValue.not_for_delivery||!1,is_weight_product:this.modelValue.is_weight_product||!1,weight_config:{min:((s=this.modelValue.weight_config)==null?void 0:s.min)||0,max:((o=this.modelValue.weight_config)==null?void 0:o.max)||0,step:((e=this.modelValue.weight_config)==null?void 0:e.step)||0},dimension:{width:((c=this.modelValue.dimension)==null?void 0:c.width)||0,height:((i=this.modelValue.dimension)==null?void 0:i.height)||0,length:((r=this.modelValue.dimension)==null?void 0:r.length)||0,weight:((a=this.modelValue.dimension)==null?void 0:a.weight)||0}},this.options=[],(d=this.modelValue.categories)==null||d.forEach(h=>{this.productCategories.push(h.id)}))},methods:{openInvalidTab(s){let o=document.querySelector(`.accordion-button:nth-child(${s+1})`);o.classList="accordion-button";let e=document.querySelector(`.accordion-collapse:nth-of-type(${s+1})`);e.classList="accordion-collapse collapse show"},prepareCategoryName(s){let o=this.categories.find(e=>e.value===s);return o?o.label:s},removeProduct(){this.$emit("remove-product")},removeCategory(s){let o=this.categories.findIndex(e=>e.id===s)||null;o&&this.categories.splice(o,1),this.$store.dispatch("removeProductCategory",{category_id:s}).then(()=>{this.$notify({title:"Редактор товара",text:"Категория успешно удалена",type:"success"})}).catch(()=>{this.$notify({title:"Редактор товара",text:"Ошибка удаления категории",type:"error"})})},selectCategory(s){this.productCategories||(this.productCategories=[]);let o=this.productCategories.indexOf(s.id);o!==-1?this.productCategories.splice(o,1):this.productCategories.push(s.id)},submit(){let s=new FormData;if(Object.keys(this.productForm).forEach(o=>{const e=this.productForm[o]||"";typeof e=="object"?s.append(o,JSON.stringify(e)):s.append(o,e)}),this.bot&&s.append("bot_id",this.bot.id),this.photos.length>0)for(let o=0;o<this.photos.length;o++)s.append("photos[]",this.photos[o]);this.removed_options.length>0&&s.append("removed_options",JSON.stringify(this.removed_options)),this.productCategories.length>0&&s.append("categories",JSON.stringify(this.productCategories)),this.$store.dispatch("saveProduct",{productForm:s}).then(o=>{this.load=!0,this.$notify({title:"Редактор товара",text:"Товар успешно сохранен",type:"success"}),this.$emit("callback")}).catch(o=>{this.$notify({title:"Редактор товара",text:"Ошибка сохранения товара",type:"error"}),this.$emit("callback")})},onChangePhotos(s){const o=s.target.files;for(let e=0;e<o.length;e++)this.photos.push(o[e])},loadProductCategories(){this.$store.dispatch("loadCategories").then(()=>{this.categories=this.getCategories})},getPhoto(s){return{imageUrl:URL.createObjectURL(s)}},removeSection(s){this.sections.splice(s,1)},addSection(){this.sections.push(this.sectionForm.section),this.sectionForm.section=null},addOption(){this.productForm.options||(this.productForm.options=[]),this.productForm.options.push({id:null,key:null,value:null,title:null,section:null})},addVariant(){this.productForm.variants||(this.productForm.variants=[]),this.productForm.variants.push({key:null,value:null})},removeVariant(s){this.productForm.variants.splice(s,1)},removeOption(s){this.productForm.options[s].id&&this.removed_options.push(this.productForm.options[s].id),this.productForm.options.splice(s,1)},removeImage(s){this.productForm.images.splice(s,1)},removePhoto(s){this.photos.splice(s,1)},clearForm(){const s={article:null,vk_product_id:null,title:null,description:null,delivery_terms:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[],not_for_delivery:!1,is_weight_product:!1,weight_config:{min:0,max:0,step:0},dimension:{width:0,height:0,length:0,weight:0}};this.photos=[],this.removed_options=[],this.productCategories=[],this.productForm=s}}},N={class:"py-3"},K={class:"accordion",id:"shop-product-item"},J={class:"accordion-item border-0"},W=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," Базовая информация о товаре ")],-1),X={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#shop-product-item"},G={class:"accordion-body px-0"},H={class:"form-check"},Y=["id"],Q=["for"],Z={class:"form-check"},tt=t("label",{class:"form-check-label",for:"not_for_delivery"}," Не для доставки ",-1),ot={class:"form-floating mb-2"},et=t("label",{for:"title"},"Название товара",-1),st={class:"form-floating mb-2"},it=t("label",{for:"rating"},"Рейтинг товара",-1),lt={class:"form-floating mb-2"},nt=t("label",{for:"description"},"Описание товара",-1),at={class:"form-floating mb-2"},dt=t("label",{for:"description"},[t("i",{class:"fa-solid fa-clock text-primary"}),m(" Особенности доставки товара")],-1),rt={class:"form-floating mb-2"},ct=t("label",{for:"article"},"Артикул товара",-1),pt={class:"form-floating mb-2"},ut=["value"],mt=t("label",{for:"type"},"Тип товара",-1),ht={class:"form-floating mb-2"},_t=t("label",{for:"current-price"},"Актуальная цена, руб",-1),bt={class:"form-floating mb-2"},ft=t("label",{for:"old-price"},"Старая цена, руб",-1),gt={class:"form-check mb-2"},vt=["id"],yt=["for"],$t=t("p",{class:"alert alert-light mb-2"}," Оставьте 0, если нет ограничения на максимальный вес ",-1),kt={class:"form-floating mb-2"},wt=t("label",{for:"weight_config-max"},"Максимально для покупки, грамм",-1),Ct=t("p",{class:"alert alert-light mb-2"}," Оставьте 0, если нет ограничения на минимальный вес ",-1),Ft={class:"form-floating mb-2"},Pt=t("label",{for:"weight_config-min"},"Минимально для покупки, грамм",-1),Mt=t("p",{class:"alert alert-light mb-2"}," Укажите с каким шагом можно купить данный товар. ",-1),Vt={class:"form-floating mb-2"},xt=t("label",{for:"weight_config-step"},"Шаг покупки, грамм",-1),Ut={class:"accordion-item border-0"},St=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-dimension","aria-expanded":"false","aria-controls":"collapseFive"}," Параметры ")],-1),It={id:"collapse-dimension",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},jt={class:"accordion-body px-0"},Lt={class:"form-floating mb-2"},Ot=t("label",{for:"vk-product-id"},"Высота, см",-1),Rt={class:"form-floating mb-2"},Tt=t("label",{for:"vk-product-id"},"Ширина, см",-1),Et={class:"form-floating mb-2"},Bt=t("label",{for:"vk-product-id"},"Длина, см",-1),zt={class:"form-floating mb-2"},Dt=t("label",{for:"vk-product-id"},"Вес, кг",-1),qt={class:"accordion-item border-0"},At=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive"}," Изображения к товару ")],-1),Nt={id:"collapseFive",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},Kt={class:"accordion-body px-0"},Jt={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},Wt={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},Xt=t("span",null,"+",-1),Gt={class:"mb-2 img-preview",style:{"margin-right":"10px"}},Ht={class:"remove"},Yt=["onClick"],Qt={class:"mb-2 img-preview",style:{"margin-right":"10px"}},Zt={class:"remove"},to=["onClick"],oo={class:"accordion-item border-0"},eo=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}," Интеграции ")],-1),so={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},io={class:"accordion-body px-0"},lo={class:"form-floating mb-2"},no=t("label",{for:"vk-product-id"},"Идентификатор товара VK",-1),ao={class:"form-floating mb-2"},ro=t("label",{for:"iiko"},"Идентификатор в IIKO",-1),co={class:"form-floating mb-2"},po=t("label",{for:"fronpad"},"Идентификатор во FrontPad",-1),uo={class:"accordion-item border-0"},mo=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}," Категории ")],-1),ho={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_o={class:"accordion-body px-0"},bo={key:0,class:"d-flex flex-wrap mb-2"},fo=["onClick"],go={class:"accordion-item border-0"},vo=t("h2",{class:"accordion-header"},[t("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"}," Характеристики ")],-1),yo={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},$o={class:"accordion-body px-0"},ko={class:"input-group mb-3"},wo={class:"form-floating"},Co=t("label",{for:"floatingInput"},"Название секции",-1),Fo=t("button",{class:"btn btn-outline-light text-primary"},[t("i",{class:"fa-solid fa-plus"})],-1),Po={key:0,class:"d-flex flex-wrap"},Mo={class:"badge bg-light p-2 mr-2 mb-1"},Vo=["onClick"],xo={class:"form-floating mb-2"},Uo={class:"form-floating mb-2"},So=["onUpdate:modelValue","id"],Io=["for"],jo={class:"form-floating mb-2"},Lo=["onUpdate:modelValue","id"],Oo=["for"],Ro={class:"form-floating mb-2"},To=["onUpdate:modelValue","id"],Eo=t("option",{value:null},"Без секции",-1),Bo=["value"],zo=["for"],Do=t("button",{type:"submit",class:"btn btn-primary w-100 sticky-bottom bottom-0 p-3"}," Сохранить товар ",-1);function qo(s,o,e,c,i,r){const a=S("lazy");return l(),n("div",N,[t("form",{onSubmit:o[30]||(o[30]=C((...d)=>r.submit&&r.submit(...d),["prevent"]))},[t("div",K,[t("div",J,[W,t("div",X,[t("div",G,[t("div",H,[u(t("input",{class:"form-check-input","onUpdate:modelValue":o[0]||(o[0]=d=>i.productForm.in_stop_list_at=d),type:"checkbox",value:"false",id:"in-stop-list-"+(i.productForm.id||"new")},null,8,Y),[[$,i.productForm.in_stop_list_at]]),t("label",{class:"form-check-label",for:"in-stop-list-"+(i.productForm.id||"new")}," Товар находится в стоп-листе ",8,Q)]),t("div",Z,[u(t("input",{class:"form-check-input","onUpdate:modelValue":o[1]||(o[1]=d=>i.productForm.not_for_delivery=d),type:"checkbox",value:"false",id:"not_for_delivery"},null,512),[[$,i.productForm.not_for_delivery]]),tt]),t("div",ot,[u(t("input",{type:"text",onInvalid:o[2]||(o[2]=d=>r.openInvalidTab(0)),"onUpdate:modelValue":o[3]||(o[3]=d=>i.productForm.title=d),class:"form-control",id:"title",placeholder:"Название",required:""},null,544),[[_,i.productForm.title]]),et]),t("div",st,[u(t("input",{type:"number",min:"0",max:"5",step:"0.5","onUpdate:modelValue":o[4]||(o[4]=d=>i.productForm.rating=d),class:"form-control",id:"rating",placeholder:"Рейтинг товара"},null,512),[[_,i.productForm.rating]]),it]),t("div",lt,[u(t("textarea",{class:"form-control font-12","onUpdate:modelValue":o[5]||(o[5]=d=>i.productForm.description=d),style:{"min-height":"200px"},onInvalid:o[6]||(o[6]=d=>r.openInvalidTab(0)),placeholder:"Напишите полное описание товара",id:"description"},`

                                `,544),[[_,i.productForm.description]]),nt]),t("div",at,[u(t("textarea",{class:"form-control font-12","onUpdate:modelValue":o[7]||(o[7]=d=>i.productForm.delivery_terms=d),style:{"min-height":"200px"},onInvalid:o[8]||(o[8]=d=>r.openInvalidTab(0)),placeholder:"Укажите особенности доставки товара",id:"delivery_terms"},`

                                `,544),[[_,i.productForm.delivery_terms]]),dt]),t("div",rt,[u(t("input",{type:"text","onUpdate:modelValue":o[9]||(o[9]=d=>i.productForm.article=d),class:"form-control",id:"article",placeholder:"Название артикула"},null,512),[[_,i.productForm.article]]),ct]),t("div",pt,[u(t("select",{class:"form-select font-12","onUpdate:modelValue":o[10]||(o[10]=d=>i.productForm.type=d),id:"type","aria-label":"Floating label select example"},[(l(!0),n(f,null,v(i.types,(d,h)=>(l(),n("option",{value:d.value},g(d.title),9,ut))),256))],512),[[M,i.productForm.type]]),mt]),t("div",ht,[u(t("input",{type:"number",onInvalid:o[11]||(o[11]=d=>r.openInvalidTab(0)),"onUpdate:modelValue":o[12]||(o[12]=d=>i.productForm.current_price=d),class:"form-control",id:"current-price",placeholder:"0 руб.",required:""},null,544),[[_,i.productForm.current_price]]),_t]),t("div",bt,[u(t("input",{type:"number","onUpdate:modelValue":o[13]||(o[13]=d=>i.productForm.old_price=d),class:"form-control",id:"old-price",placeholder:"0 руб"},null,512),[[_,i.productForm.old_price]]),ft]),t("div",gt,[u(t("input",{class:"form-check-input","onUpdate:modelValue":o[14]||(o[14]=d=>i.productForm.is_weight_product=d),type:"checkbox",value:"false",id:"is_weight_product-"+(i.productForm.id||"new")},null,8,vt),[[$,i.productForm.is_weight_product]]),t("label",{class:"form-check-label",for:"is_weight_product-"+(i.productForm.id||"new")},[t("span",{class:b({"fw-bold text-primary":!i.productForm.is_weight_product})},"Поштучный",2),m(" \\ "),t("span",{class:b({"fw-bold text-primary":i.productForm.is_weight_product})},"весовой",2)],8,yt)]),i.productForm.is_weight_product?(l(),n(f,{key:0},[$t,t("div",kt,[u(t("input",{type:"number","onUpdate:modelValue":o[15]||(o[15]=d=>i.productForm.weight_config.max=d),class:"form-control",id:"weight_config-max",placeholder:"0 грамм"},null,512),[[_,i.productForm.weight_config.max]]),wt]),Ct,t("div",Ft,[u(t("input",{type:"number","onUpdate:modelValue":o[16]||(o[16]=d=>i.productForm.weight_config.min=d),class:"form-control",id:"weight_config-min",placeholder:"0 грамм"},null,512),[[_,i.productForm.weight_config.min]]),Pt]),Mt,t("div",Vt,[u(t("input",{type:"number","onUpdate:modelValue":o[17]||(o[17]=d=>i.productForm.weight_config.step=d),class:"form-control",id:"weight_config-step",placeholder:"0 грамм"},null,512),[[_,i.productForm.weight_config.step]]),xt])],64)):p("",!0)])])]),t("div",Ut,[St,t("div",It,[t("div",jt,[t("div",Lt,[u(t("input",{type:"text","onUpdate:modelValue":o[18]||(o[18]=d=>i.productForm.dimension.height=d),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[_,i.productForm.dimension.height]]),Ot]),t("div",Rt,[u(t("input",{type:"text","onUpdate:modelValue":o[19]||(o[19]=d=>i.productForm.dimension.width=d),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[_,i.productForm.dimension.width]]),Tt]),t("div",Et,[u(t("input",{type:"text","onUpdate:modelValue":o[20]||(o[20]=d=>i.productForm.dimension.length=d),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[_,i.productForm.dimension.length]]),Bt]),t("div",zt,[u(t("input",{type:"text","onUpdate:modelValue":o[21]||(o[21]=d=>i.productForm.dimension.weight=d),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[_,i.productForm.dimension.weight]]),Dt])])])]),t("div",qt,[At,t("div",Nt,[t("div",Kt,[t("div",Jt,[t("label",Wt,[Xt,t("input",{type:"file",onInvalid:o[22]||(o[22]=d=>r.openInvalidTab(1)),id:"location-photos",multiple:"",accept:"image/*",onChange:o[23]||(o[23]=(...d)=>r.onChangePhotos&&r.onChangePhotos(...d)),style:{display:"none"}},null,32)]),i.productForm.images?(l(!0),n(f,{key:0},v(i.productForm.images,(d,h)=>(l(),n("div",Gt,[u(t("img",null,null,512),[[a,d]]),t("div",Ht,[t("a",{href:"javascript:void(0)",onClick:y=>r.removeImage(h)},"Удалить",8,Yt)])]))),256)):p("",!0),i.photos.length>0?(l(!0),n(f,{key:1},v(i.photos,(d,h)=>(l(),n("div",Qt,[u(t("img",null,null,512),[[a,r.getPhoto(d).imageUrl]]),t("div",Zt,[t("a",{href:"javascript:void(0)",onClick:y=>r.removePhoto(h)},"Удалить",8,to)])]))),256)):p("",!0)])])])]),t("div",oo,[eo,t("div",so,[t("div",io,[t("div",lo,[u(t("input",{type:"text","onUpdate:modelValue":o[24]||(o[24]=d=>i.productForm.vk_product_id=d),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[_,i.productForm.vk_product_id]]),no]),t("div",ao,[u(t("input",{type:"text","onUpdate:modelValue":o[25]||(o[25]=d=>i.productForm.iiko_article=d),class:"form-control",id:"iiko",placeholder:"Название артикула IIKO"},null,512),[[_,i.productForm.iiko_article]]),ro]),t("div",co,[u(t("input",{type:"text","onUpdate:modelValue":o[26]||(o[26]=d=>i.productForm.frontpad_article=d),class:"form-control",id:"fronpad",placeholder:"Название артикула FrontPad"},null,512),[[_,i.productForm.frontpad_article]]),po])])])]),t("div",uo,[mo,t("div",ho,[t("div",_o,[i.categories.length>0?(l(),n("div",bo,[(l(!0),n(f,null,v(i.categories,(d,h)=>(l(),n("span",{onClick:y=>r.selectCategory(d),class:b(["px-3 badge cursor-pointer mr-2 mb-1",{"bg-primary":i.productCategories.indexOf(d.id)!==-1,"bg-light":i.productCategories.indexOf(d.id)===-1}])},g(d.title),11,fo))),256))])):p("",!0)])])]),t("div",go,[vo,t("div",yo,[t("div",$o,[t("form",{onSubmit:o[28]||(o[28]=C((...d)=>r.addSection&&r.addSection(...d),["prevent"])),class:"form-floating mb-2"},[t("div",ko,[t("div",wo,[u(t("input",{type:"text","onUpdate:modelValue":o[27]||(o[27]=d=>i.sectionForm.section=d),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[_,i.sectionForm.section]]),Co]),Fo])],32),i.sections.length>0?(l(),n("div",Po,[(l(!0),n(f,null,v(i.sections,(d,h)=>(l(),n("span",Mo,[m(g(d)+" ",1),t("i",{onClick:y=>r.removeSection(h),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,Vo)]))),256))])):p("",!0),(l(!0),n(f,null,v(i.productForm.options,(d,h)=>(l(),n("div",xo,[t("div",Uo,[u(t("input",{type:"text","onUpdate:modelValue":y=>i.productForm.options[h].title=y,class:"form-control",id:"option-title-"+h,placeholder:"Характеристика"},null,8,So),[[_,i.productForm.options[h].title]]),t("label",{for:"option-title-"+h,class:"font-12 my-0 w-100 d-flex justify-content-between"}," Название характеристики ",8,Io)]),t("div",jo,[u(t("input",{type:"text","onUpdate:modelValue":y=>i.productForm.options[h].value=y,class:"form-control",id:"option-value-"+h,placeholder:"Значение"},null,8,Lo),[[_,i.productForm.options[h].value]]),t("label",{for:"option-value-"+h,class:"font-12 my-0"},"Значение характеристики",8,Oo)]),t("div",Ro,[u(t("select",{class:"form-select","onUpdate:modelValue":y=>i.productForm.options[h].section=y,id:"option-section-"+h,"aria-label":"Floating label select example"},[Eo,(l(!0),n(f,null,v(i.sections,y=>(l(),n("option",{value:y},g(y),9,Bo))),256))],8,To),[[M,i.productForm.options[h].section]]),t("label",{for:"option-section-"+h,class:"font-12 my-0"},"Секция товара",8,zo)])]))),256)),t("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:o[29]||(o[29]=(...d)=>r.addOption&&r.addOption(...d))},"Добавить характеристику ")])])])]),Do],32)])}const U=I(A,[["render",qo]]),Ao={class:"input-group mb-2"},No={class:"form-floating"},Ko=t("label",{for:"floatingInput"},"Критерии поиска товара",-1),Jo=t("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),Wo={class:"form-floating my-2"},Xo=L('<option value="id">По номеру товара</option><option value="title">По названию</option><option value="description">По описанию</option><option value="price">По цене</option><option value="old_price">По наличию скидки</option><option value="rating">По рейтингу</option><option value="updated_at">По дате добавления</option>',7),Go=[Xo],Ho=t("label",{for:"floatingSelect"},"Сортировать заказы по",-1),Yo={key:0},Qo=t("i",{class:"fa-solid fa-caret-up"},null,-1),Zo=t("i",{class:"fa-solid fa-caret-down"},null,-1),te={class:"form-check form-switch mb-2"},oe={class:"form-check-label",for:"need_in_stop"},ee={class:"form-check form-switch mb-2"},se=t("label",{class:"form-check-label",for:"need_removed"},"Отображать удаленные",-1),ie={class:"form-check form-switch mb-2"},le=t("label",{class:"form-check-label",for:"need_table"},"Отображать в виде таблицы",-1),ne={class:"form-check form-switch mb-2"},ae=t("label",{class:"form-check-label",for:"need_recommendation_config"},"Режим настройки рекомендаций",-1),de={key:0},re={key:1,class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},ce={class:"col"},pe={key:2,class:"row"},ue={class:"col-12"},me={class:"list-group"},he={class:"row row-cols-2"},_e={class:"col"},be=["onClick"],fe={class:"d-flex align-items-center"},ge={key:0,class:"badge text-bg-primary",style:{"font-size":"8px","min-width":"30px","margin-right":"5px"}},ve={key:1,class:"badge text-bg-danger",style:{"font-size":"8px","min-width":"30px","margin-right":"5px"}},ye={key:2,class:"badge text-bg-warning",style:{"font-size":"8px","min-width":"30px","margin-right":"5px"}},$e={class:"col d-flex justify-content-end align-items-center"},ke={class:"dropdown"},we=t("button",{class:"btn",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-bars"})],-1),Ce={class:"dropdown-menu"},Fe={key:0},Pe=["onClick"],Me={key:1},Ve=["onClick"],xe=["onClick"],Ue=["onClick"],Se={key:0,class:"row row-cols-1"},Ie={class:"col"},je={class:"d-flex mt-2 mb-2 justify-content-center"},Le={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},Oe=["onChange","name","id"],Re=["for"],Te=["onChange","checked","name","id"],Ee=["for"],Be=["onChange","checked","name","id"],ze=["for"],De={class:"modal fade",id:"product-modal-admin-info",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},qe={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},Ae={class:"modal-content"},Ne={class:"modal-header"},Ke=t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},null,-1),Je={class:"modal-body"},We={class:"card border-0"},Xe={style:{"min-height":"350px","object-fit":"contain"},class:"card-img",alt:"..."},Ge={class:"card-img-overlay d-flex flex-column justify-content-between p-0"},He={class:"shadow-bg"},Ye={class:"text-left text-white",style:{"font-weight":"700","line-height":"100%"}},Qe={class:"text-left mb-0 text-white"},Ze={class:"text-primary fw-bold"},ts={key:0,class:"row g-2 row-cols-5"},os={class:"col"},es=["onClick"],ss={class:"p-2"},is=t("p",{class:"mb-0"},"Рейтинг товара",-1),ls={class:"d-flex justify-content-between mb-3"},ns={class:"nav nav-tabs justify-content-center"},as={class:"text-justify py-2 fst-italic"},ds={key:0},rs={class:"list-group w-100 py-2 rounded-0"},cs={class:"list-group-item"},ps={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},us=t("div",{class:"d-flex justify-content-center align-items-center flex-column"},[t("div",{class:"spinner-grow text-primary my-3",role:"status"},[t("span",{class:"visually-hidden"},"Загружаем....")]),t("p",null,"Загружаем отзывы...")],-1),ms=[us],hs={key:2,class:"alert alert-light my-2",role:"alert"},_s={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},bs={class:"modal fade",id:"add-product-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},fs={class:"modal-dialog modal-fullscreen"},gs={class:"modal-content"},vs=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Добавление товара"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ys={class:"modal-body"},$s={class:"modal fade",id:"restore-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ks={class:"modal-dialog modal-dialog-centered"},ws={class:"modal-content"},Cs={class:"modal-body"},Fs=t("h6",{class:"text-center my-3"},"Восстановить данный товар?",-1),Ps={class:"d-flex justify-content-center"},Ms={class:"modal fade",id:"remove-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Vs={class:"modal-dialog modal-dialog-centered"},xs={class:"modal-content"},Us={class:"modal-body"},Ss=t("h6",{class:"text-center my-3"},"Вы действительно хотите удалить этот товар?",-1),Is={class:"d-flex justify-content-center"},js={class:"modal fade",id:"stop-list-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ls={class:"modal-dialog modal-dialog-centered"},Os={class:"modal-content"},Rs={class:"modal-body"},Ts={class:"text-center my-3"},Es={class:"d-flex justify-content-center"},Bs={props:["selected","isSimple"],data(){return{tab:0,operation_text:null,selected_image:null,search:null,products:[],reviews:[],modal:null,accept_stop_list_modal:null,accept_remove_modal:null,accept_restore_modal:null,add_product_modal:null,selected_product:null,paginate:null,review_paginate:null,loading_reviews:!0,need_removed:!1,need_in_stop:!1,need_table:!0,recommendations:[],need_recommendation_config:!1,sort:{param:null,direction:"asc"}}},watch:{need_in_stop:{handler:function(s){this.loadProducts()},deep:!0},need_removed:{handler:function(s){this.loadProducts()},deep:!0}},computed:{...x(["getProducts","getProductsPaginateObject"]),filteredProducts(){if(!this.products||this.products.length===0)return[];if(this.search instanceof Event)return this.products;if(!this.search)return this.products;const s=this.search instanceof Event||!this.search?"":this.search.toLowerCase();return this.products.filter(o=>{var e;return(e=o.title)==null?void 0:e.toLowerCase().includes(s)})},bot(){return window.currentBot},excludes(){var s,o;return((o=(s=this.bot.settings)==null?void 0:s.recommendation)==null?void 0:o.excludes)||[]}},mounted(){var o,e;this.recommendations=((e=(o=this.bot.settings)==null?void 0:o.recommendation)==null?void 0:e.products)||[];const s=localStorage.getItem("cashman_admin_product_list_page_index")!=null?localStorage.getItem("cashman_admin_product_list_page_index"):0;this.loadProducts(s),this.modal=new bootstrap.Modal(document.getElementById("product-modal-admin-info"),{}),this.accept_remove_modal=new bootstrap.Modal(document.getElementById("remove-modal"),{}),this.accept_restore_modal=new bootstrap.Modal(document.getElementById("restore-modal"),{}),this.add_product_modal=new bootstrap.Modal(document.getElementById("add-product-modal"),{}),this.accept_stop_list_modal=new bootstrap.Modal(document.getElementById("stop-list-modal"),{})},methods:{changeStatus(s,o){this.$store.dispatch("changeProductRecommendationStatus",{product_id:s,status:o}).then(e=>{let c=e;this.recommendations=c.products||[]}).catch(()=>{})},openAddProductModal(){this.add_product_modal.show()},openRestoreModal(s){this.selected_product=null,this.$nextTick(()=>{this.selected_product=s,this.accept_restore_modal.show()})},openStopListModal(s,o=null){this.operation_text=null,this.selected_product=null,this.$nextTick(()=>{this.operation_text=o,this.selected_product=s,this.accept_stop_list_modal.show()})},openRemoveModal(s){this.selected_product=null,this.$nextTick(()=>{this.selected_product=s,this.accept_remove_modal.show()})},nextReviews(s){this.loadReviews(s)},changeDirection(s){this.sort.direction=s,this.loadOrders(0)},loadReviews(s=0){return this.loading_reviews=!0,this.$store.dispatch("loadReviewsByProductId",{dataObject:{product_id:this.selected_product.id},page:s,size:30}).then(o=>{this.reviews=this.getReviews,this.review_paginate=this.getReviewsPaginateObject,this.loading_reviews=!1}).catch(()=>{this.loading_reviews=!1})},hideModal(){this.$nextTick(()=>{this.selected_product=null,this.modal.hide()})},hideStopListModal(){this.accept_stop_list_modal.hide()},hideRestoreModal(){this.accept_restore_modal.hide()},hideRemoveModal(){this.accept_remove_modal.hide()},selectProduct(s){this.selected_product=null,this.$nextTick(()=>{this.selected_product=s,this.loadReviews(),this.selected_image=this.selected_product.images[0]||null,this.selected_image=this.selected_product.images[0]||null,this.modal.show()})},nextProducts(s){localStorage.setItem("cashman_admin_product_list_page_index",s),this.loadProducts(s)},loadProducts(s=0){return s==null&&(s=localStorage.getItem("cashman_admin_product_list_page_index")!=null?localStorage.getItem("cashman_admin_product_list_page_index"):0),this.$store.dispatch("loadProducts",{dataObject:{search:this.search,direction:this.sort.direction,order_by:this.sort.param,need_removed:this.need_removed,need_all:!this.need_in_stop},page:s}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})},addToStopListProduct(){this.selected_product&&this.$store.dispatch("addToStopListProduct",this.selected_product.id).then(s=>{this.hideStopListModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно восстановлен",type:"success"})}).catch(()=>{this.hideStopListModal(),this.loadProducts()})},restoreProduct(){this.selected_product&&this.$store.dispatch("restoreProduct",this.selected_product.id).then(s=>{this.hideRestoreModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно восстановлен",type:"success"})}).catch(()=>{this.hideRestoreModal(),this.loadProducts()})},removeProduct(){this.selected_product&&this.$store.dispatch("removeShopProduct",this.selected_product.id).then(s=>{this.hideRemoveModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно удален",type:"success"})}).catch(()=>{this.hideRemoveModal(),this.loadProducts()})}}},zs=Object.assign(Bs,{__name:"ProductList",setup(s){return(o,e)=>{var i,r;const c=S("lazy");return l(),n(f,null,[t("form",{onSubmit:e[1]||(e[1]=C(a=>o.loadProducts(0),["prevent"]))},[t("div",Ao,[t("div",No,[u(t("input",{type:"text",class:"form-control border-light",placeholder:"Поиск товара","aria-label":"Поиск товара","onUpdate:modelValue":e[0]||(e[0]=a=>o.search=a),"aria-describedby":"button-addon2"},null,512),[[_,o.search]]),Ko]),Jo])],32),t("div",Wo,[u(t("select",{onChange:e[2]||(e[2]=a=>o.loadProducts(0)),"onUpdate:modelValue":e[3]||(e[3]=a=>o.sort.param=a),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},Go,544),[[M,o.sort.param]]),Ho]),o.sort.param!=null?(l(),n("p",Yo,[m("Направление сортировки: "),o.sort.direction==="asc"?(l(),n("span",{key:0,class:"fw-bold",onClick:e[4]||(e[4]=a=>o.changeDirection("desc"))},[m("по возрастанию "),Qo])):p("",!0),o.sort.direction==="desc"?(l(),n("span",{key:1,class:"fw-bold",onClick:e[5]||(e[5]=a=>o.changeDirection("asc"))},[m("по убыванию "),Zo])):p("",!0)])):p("",!0),t("div",te,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[6]||(e[6]=a=>o.need_in_stop=a),type:"checkbox",role:"switch",id:"need_in_stop"},null,512),[[$,o.need_in_stop]]),t("label",oe,[t("span",{class:b({"fw-bold text-primary":o.need_in_stop})},"Товар в стоп листе",2),m(" / "),t("span",{class:b({"fw-bold text-primary":!o.need_in_stop})},"Все товары",2)])]),t("div",ee,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[7]||(e[7]=a=>o.need_removed=a),type:"checkbox",role:"switch",id:"need_removed"},null,512),[[$,o.need_removed]]),se]),t("div",ie,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[8]||(e[8]=a=>o.need_table=a),type:"checkbox",role:"switch",id:"need_table"},null,512),[[$,o.need_table]]),le]),t("div",ne,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[9]||(e[9]=a=>o.need_recommendation_config=a),type:"checkbox",role:"switch",id:"need_recommendation_config"},null,512),[[$,o.need_recommendation_config]]),ae]),t("p",null,[m("Всего товаров: "),o.paginate?(l(),n("span",de,g(o.paginate.meta.total||0),1)):p("",!0)]),!s.isSimple&&!o.need_table?(l(),n("div",re,[(l(!0),n(f,null,v(o.filteredProducts,(a,d)=>(l(),n("div",ce,[(l(),k(T,{key:"product-"+a.id,class:b({selected:(s.selected||[]).indexOf(a.id)!=-1}),onSelect:h=>o.selectProduct(a),item:a},null,8,["class","onSelect","item"]))]))),256))])):p("",!0),s.isSimple||o.need_table?(l(),n("div",pe,[t("div",ue,[t("ul",me,[(l(!0),n(f,null,v(o.filteredProducts,(a,d)=>(l(),n("li",{class:b(["list-group-item",{"bg-success text-white fw-bold":(s.selected||[]).indexOf(a.id)!=-1,"bg-danger":a.deleted_at,"bg-warning":a.in_stop_list_at}])},[t("div",he,[t("div",_e,[t("p",{class:"text-decoration-underline mb-0",onClick:h=>o.selectProduct(a)},g(a.title),9,be),t("div",fe,[a.vk_product_id?(l(),n("span",ge,"VK")):p("",!0),a.iiko_article?(l(),n("span",ve,"IIKO")):p("",!0),a.frontpad_article?(l(),n("span",ye,"FrontPad")):p("",!0)])]),t("div",$e,[t("div",ke,[we,t("ul",Ce,[a.deleted_at==null?(l(),n("li",Fe,[t("a",{class:"dropdown-item",onClick:h=>o.openRemoveModal(a),href:"javascript:void(0)"},"Удалить товар",8,Pe)])):p("",!0),a.deleted_at?(l(),n("li",Me,[t("a",{class:"dropdown-item",onClick:h=>o.openRestoreModal(a),href:"javascript:void(0)"},"Восстановить товар",8,Ve)])):p("",!0),t("li",null,[a.in_stop_list_at==null?(l(),n("a",{key:0,class:"dropdown-item",onClick:h=>o.openStopListModal(a,"добавления в стоп лист"),href:"javascript:void(0)"},"Добавить в стоп-лист",8,xe)):p("",!0)]),t("li",null,[a.in_stop_list_at!=null?(l(),n("a",{key:0,class:"dropdown-item",onClick:h=>o.openStopListModal(a,"извлечения из стоп листа"),href:"javascript:void(0)"},"Вернуть из стоп-листа",8,Ue)):p("",!0)])])])])]),o.need_recommendation_config?(l(),n("div",Se,[t("div",Ie,[t("div",je,[t("div",Le,[t("input",{type:"radio",onChange:h=>o.changeStatus(a.id,0),class:"btn-check",name:"config-recommendation"+a.id,id:"config-recommendation-1-"+a.id,autocomplete:"off",checked:""},null,40,Oe),t("label",{class:"btn btn-outline-primary",style:{"font-size":"10px"},for:"config-recommendation-1-"+a.id},"Отмена",8,Re),t("input",{type:"radio",onChange:h=>o.changeStatus(a.id,1),checked:o.recommendations.indexOf(a.id)!==-1,class:"btn-check",name:"config-recommendation"+a.id,id:"config-recommendation-2-"+a.id,autocomplete:"off"},null,40,Te),t("label",{class:"btn btn-outline-primary",style:{"font-size":"10px"},for:"config-recommendation-2-"+a.id},"Рекомендация",8,Ee),t("input",{type:"radio",onChange:h=>o.changeStatus(a.id,2),checked:o.excludes.indexOf(a.id)!==-1,class:"btn-check",name:"config-recommendation"+a.id,id:"config-recommendation-3-"+a.id,autocomplete:"off"},null,40,Be),t("label",{class:"btn btn-outline-primary",style:{"font-size":"10px"},for:"config-recommendation-3-"+a.id},"Исключение",8,ze)])])])])):p("",!0)],2))),256))])])])):p("",!0),o.paginate?(l(),k(V,{key:3,simple:!0,onPagination_page:o.nextProducts,pagination:o.paginate},null,8,["onPagination_page","pagination"])):p("",!0),t("div",De,[t("div",qe,[t("div",Ae,[t("div",Ne,[Ke,t("button",{type:"button",class:"btn-close",onClick:e[10]||(e[10]=(...a)=>o.hideModal&&o.hideModal(...a))})]),t("div",Je,[o.selected_product!=null?(l(),n(f,{key:0},[t("div",We,[u(t("img",Xe,null,512),[[c,o.selected_image]]),t("div",Ge,[t("div",He,[t("h6",Ye,g(o.selected_product.title||"Не указан"),1),t("p",Qe,[m("Цена "),t("strong",Ze,g(o.selected_product.current_price||0)+"₽",1)])])])]),(((i=o.selected_product)==null?void 0:i.images)||[]).length>1?(l(),n("div",ts,[(l(!0),n(f,null,v((r=o.selected_product)==null?void 0:r.images,a=>(l(),n("div",os,[u(t("img",{style:{"min-height":"60px","object-fit":"contain"},onClick:d=>o.selected_image=a,class:b([{"border border-primary":o.selected_image===a},"img-thumbnail my-2"]),alt:"..."},null,10,es),[[c,a]])]))),256))])):p("",!0),t("div",ss,[is,t("h6",ls,[F(E,{rating:o.selected_product.rating},null,8,["rating"]),m(" "+g(o.selected_product.rating)+" из 5 ",1)])]),t("ul",ns,[t("li",{onClick:e[11]||(e[11]=a=>o.tab=0),class:"nav-item"},[t("a",{class:b(["nav-link",{active:o.tab===0}]),"aria-current":"page",href:"javascript:void(0)"},"Описание",2)]),t("li",{onClick:e[12]||(e[12]=a=>o.tab=2),class:"nav-item"},[t("a",{class:b(["nav-link",{active:o.tab===2}]),href:"javascript:void(0)"},"Редактор",2)]),t("li",{onClick:e[13]||(e[13]=a=>o.tab=1),class:"nav-item"},[t("a",{class:b(["nav-link",{active:o.tab===1}]),href:"javascript:void(0)"},"Отзывы",2)])]),u(t("div",null,[t("p",as,g(o.selected_product.description||"-"),1)],512),[[P,o.tab===0]]),u(t("div",null,[(o.reviews||[]).length>0?(l(),n("div",ds,[t("ul",rs,[(l(!0),n(f,null,v(o.reviews,(a,d)=>(l(),n("li",cs,[F(B,{"need-product":!1,modelValue:o.reviews[d],"onUpdate:modelValue":h=>o.reviews[d]=h},null,8,["modelValue","onUpdate:modelValue"])]))),256))]),o.review_paginate?(l(),k(V,{key:0,simple:!0,onPagination_page:o.nextReviews,pagination:o.review_paginate},null,8,["onPagination_page","pagination"])):p("",!0)])):p("",!0),(o.reviews||[]).length===0&&o.loading_reviews?(l(),n("div",ps,ms)):p("",!0),(o.reviews||[]).length===0&&!o.loading_reviews?(l(),n("div",hs," У данного товара еще нет отзывов! Для того чтобы оставить отзыв Вам необходимо заказать данный товар, после чего у вас появится возможность написать ваше впечатление от него;) ")):p("",!0)],512),[[P,o.tab===1]]),u(t("div",null,[F(U,{onRemoveProduct:o.openRemoveModal,onCallback:e[14]||(e[14]=a=>o.loadProducts(null)),modelValue:o.selected_product,"onUpdate:modelValue":e[15]||(e[15]=a=>o.selected_product=a)},null,8,["onRemoveProduct","modelValue"])],512),[[P,o.tab===2]])],64)):p("",!0)])])])]),t("nav",_s,[t("button",{onClick:e[16]||(e[16]=(...a)=>o.openAddProductModal&&o.openAddProductModal(...a)),class:"btn btn-primary w-100 p-3",type:"button"}," Добавить новый товар ")]),t("div",bs,[t("div",fs,[t("div",gs,[vs,t("div",ys,[F(U,{onCallback:e[17]||(e[17]=a=>o.loadProducts(null))})])])])]),t("div",$s,[t("div",ks,[t("div",ws,[t("div",Cs,[Fs,t("div",Ps,[t("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:e[18]||(e[18]=(...a)=>o.restoreProduct&&o.restoreProduct(...a))},"Да "),t("button",{type:"button",class:"btn btn-secondary px-3",onClick:e[19]||(e[19]=(...a)=>o.hideRestoreModal&&o.hideRestoreModal(...a))},"Нет")])])])])]),t("div",Ms,[t("div",Vs,[t("div",xs,[t("div",Us,[Ss,t("div",Is,[t("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:e[20]||(e[20]=(...a)=>o.removeProduct&&o.removeProduct(...a))},"Да "),t("button",{type:"button",class:"btn btn-secondary px-3",onClick:e[21]||(e[21]=(...a)=>o.hideRemoveModal&&o.hideRemoveModal(...a))},"Нет")])])])])]),t("div",js,[t("div",Ls,[t("div",Os,[t("div",Rs,[t("h6",Ts,"Выполнить операцию "+g(o.operation_text)+"?",1),t("div",Es,[t("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:e[22]||(e[22]=(...a)=>o.addToStopListProduct&&o.addToStopListProduct(...a))},"Да "),t("button",{type:"button",class:"btn btn-secondary px-3",onClick:e[23]||(e[23]=(...a)=>o.hideStopListModal&&o.hideStopListModal(...a))},"Нет")])])])])])],64)}}}),Ds={props:["item"],data(){return{categoryForm:{id:null,title:null,order_position:0}}},mounted(){this.item&&this.$nextTick(()=>{this.categoryForm.id=this.item.id||null,this.categoryForm.title=this.item.title||null,this.categoryForm.order_position=this.item.order_position||0})},methods:{storyCategory(){this.$store.dispatch("addProductCategory",{category:this.categoryForm}).then(()=>{this.$notify({title:"Категории товаров",text:"Данные успешно сохранены!",type:"success"}),this.$emit("callback")}).catch(()=>{this.$notify({title:"Категории товаров",text:"Ошибка сохранения категории!",type:"error"})})}}},qs={class:"form-floating mb-2"},As=t("label",{for:"floatingInput"},"Название категории",-1),Ns={class:"form-floating mb-3"},Ks=t("label",{for:"floatingInput"},"Позиция в выдаче",-1),Js={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},Ws={class:"btn btn-primary w-100 p-3",type:"submit"},Xs={key:0},Gs={key:1};function Hs(s,o,e,c,i,r){return l(),n("form",{onSubmit:o[2]||(o[2]=C((...a)=>r.storyCategory&&r.storyCategory(...a),["prevent"]))},[t("div",qs,[u(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>i.categoryForm.title=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[_,i.categoryForm.title]]),As]),t("div",Ns,[u(t("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=a=>i.categoryForm.order_position=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[_,i.categoryForm.order_position]]),Ks]),t("nav",Js,[t("button",Ws,[i.categoryForm.id?(l(),n("span",Xs,"Обновить категорию")):(l(),n("span",Gs,"Добавить категорию"))])])],32)}const j=I(Ds,[["render",Hs]]),Ys={class:"form-floating"},Qs=t("label",{for:"floatingInput"},"Поиск категории товара",-1),Zs=t("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),ti={class:"form-floating my-2"},oi=t("option",{value:"id"},"По id",-1),ei=t("option",{value:"title"},"По названию",-1),si=t("option",{value:"order_position"},"По позиции выдачи",-1),ii=t("option",{value:"is_active"},"По статусу",-1),li=t("option",{value:"updated_at"},"По дате добавления",-1),ni=t("label",{for:"floatingSelect"},"Сортировать заказы по",-1),ai={key:0},di=t("i",{class:"fa-solid fa-caret-up"},null,-1),ri=t("i",{class:"fa-solid fa-caret-down"},null,-1),ci={class:"form-check form-switch mb-2"},pi=t("label",{class:"form-check-label",for:"need_recommendation_config"},"Режим настройки рекомендаций",-1),ui={key:0},mi={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},hi={class:"col"},_i={class:"list-group"},bi={class:"list-group-item"},fi={class:"mb-2 d-flex justify-content-between"},gi={class:"fw-bold"},vi=["onClick"],yi=t("i",{class:"fa-regular fa-pen-to-square"},null,-1),$i=[yi],ki={class:"input-group"},wi=["onClick"],Ci={key:0,class:"fa-solid fa-eye text-primary"},Fi={key:1,class:"fa-solid fa-eye-slash text-light"},Pi={class:"form-floating"},Mi=["onChange","onUpdate:modelValue"],Vi=t("label",{for:""},"Позиция в выдаче",-1),xi=["onClick"],Ui=t("i",{class:"fa-solid fa-trash-can text-danger"},null,-1),Si=[Ui],Ii={key:0,class:"row row-cols-1"},ji={class:"col"},Li={class:"d-flex mt-2 mb-2 justify-content-center"},Oi={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},Ri=["onChange","name","id"],Ti=["for"],Ei=["onChange","checked","name","id"],Bi=["for"],zi={key:2,class:"alert alert-light"},Di=t("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[t("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},"data-bs-toggle":"modal","data-bs-target":"#category-form",class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"}," Добавить категорию ")],-1),qi={class:"modal fade",id:"category-edit-item-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ai={class:"modal-dialog modal-fullscreen"},Ni={class:"modal-content"},Ki=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ji={class:"modal-body"},Wi={class:"modal fade",id:"remove-category-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Xi={class:"modal-dialog"},Gi={class:"modal-content"},Hi=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление категории"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Yi={key:0,class:"modal-body"},Qi={class:"text-primary fw-bold"},Zi={key:1,class:"modal-footer"},tl=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть ",-1),ol={class:"modal fade",id:"category-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},el={class:"modal-dialog modal-fullscreen"},sl={class:"modal-content"},il=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ll={class:"modal-body"},nl={data(){return{selectedCategory:null,categoryEditorModal:null,removeModal:null,need_recommendation_config:!1,search:null,categories:[],paginate:null,recommendations:[],sort:{param:"id",direction:"asc"}}},computed:{...x(["getCategories","getCategoriesPaginateObject"]),bot(){return window.currentBot},recommendations(){var s,o;return((o=(s=this.bot.settings)==null?void 0:s.recommendation)==null?void 0:o.categories)||[]},filteredProductCategories(){return this.search?this.categories.filter(s=>s.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.categories}},mounted(){var s,o;this.recommendations=((o=(s=this.bot.settings)==null?void 0:s.recommendation)==null?void 0:o.categories)||[],this.loadProductCategories(),this.categoryEditorModal=new bootstrap.Modal(document.getElementById("category-edit-item-form"),{}),this.removeModal=new bootstrap.Modal(document.getElementById("remove-category-modal"),{})},methods:{changeStatus(s,o){this.$store.dispatch("changeCategoryRecommendationStatus",{category_id:s,status:o}).then(e=>{let c=e;this.recommendations=c.categories||[]}).catch(()=>{})},changeDirection(s){this.sort.direction=s,this.loadProductCategories(0)},updateCategory(s){this.$store.dispatch("storeProductCategory",{category:s,bot_id:this.bot.id}).then(o=>{this.$notify({title:"Конструктор ботов",text:"Данные сохранены!",type:"success"}),this.loadProductCategories(),this.categoryEditorModal.hide()}).catch(o=>{this.$notify({title:"Конструктор ботов",text:"Ошибка сохранения данных!",type:"error"}),this.categoryEditorModal.hide()})},changeCategoryStatus(s){let o=this.categories.findIndex(e=>s.id===e.id);o!==-1&&(this.categories[o].is_active=!this.categories[o].is_active,this.$store.dispatch("changeProductCategoryStatus",s.id).then(e=>{this.$notify({title:"Конструктор ботов",text:"Статус категории успешно изменен!",type:"success"})}).catch(e=>{}))},selectProductCategory(s){this.selectedCategory=null,this.$nextTick(()=>{this.selectedCategory=s,this.categoryEditorModal.show()})},nextProductCategories(s){this.loadProductCategories(s)},openRemoveModal(s){this.selectedCategory=null,this.$nextTick(()=>{this.selectedCategory=s,this.removeModal.show()})},removeProductCategory(s){this.$store.dispatch("removeProductCategory",{category_id:s.id}).then(o=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"}),this.loadProductCategories(),this.removeModal.hide(),this.selectedCategory=null}).catch(o=>{this.loadProductCategories(),this.$notify({title:"Конструктор ботов",text:"Ошибка удаления категории!",type:"error"}),this.selectedCategory=null,this.removeModal.hide()})},categoryFormCallback(){this.categoryEditorModal.hide(),this.loadProductCategories()},loadProductCategories(s=0){return this.$store.dispatch("loadCategories",{dataObject:{bot_id:this.bot.id,search:this.search,order_by:this.sort.param,direction:this.sort.direction},page:s,size:50}).then(()=>{this.categories=this.getCategories,this.paginate=this.getCategoriesPaginateObject})}}},al=Object.assign(nl,{__name:"ProductCategoryList",setup(s){return(o,e)=>(l(),n(f,null,[t("form",{class:"input-group mb-2",onSubmit:e[1]||(e[1]=C(c=>o.loadProductCategories(0),["prevent"]))},[t("div",Ys,[u(t("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=c=>o.search=c),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[_,o.search]]),Qs]),Zs],32),t("div",ti,[u(t("select",{onChange:e[2]||(e[2]=c=>o.loadProductCategories(0)),"onUpdate:modelValue":e[3]||(e[3]=c=>o.sort.param=c),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[oi,ei,m(" > "),si,ii,li],544),[[M,o.sort.param]]),ni]),o.sort.param!=null?(l(),n("p",ai,[m("Направление сортировки: "),o.sort.direction==="asc"?(l(),n("span",{key:0,class:"fw-bold",onClick:e[4]||(e[4]=c=>o.changeDirection("desc"))},[m("по возрастанию "),di])):p("",!0),o.sort.direction==="desc"?(l(),n("span",{key:1,class:"fw-bold",onClick:e[5]||(e[5]=c=>o.changeDirection("asc"))},[m("по убыванию "),ri])):p("",!0)])):p("",!0),t("div",ci,[u(t("input",{class:"form-check-input","onUpdate:modelValue":e[6]||(e[6]=c=>o.need_recommendation_config=c),type:"checkbox",role:"switch",id:"need_recommendation_config"},null,512),[[$,o.need_recommendation_config]]),pi]),t("p",null,[m("Всего категорий: "),o.paginate?(l(),n("span",ui,g(o.paginate.meta.total||0),1)):p("",!0)]),o.filteredProductCategories.length>0?(l(),n(f,{key:1},[t("div",mi,[t("div",hi,[t("ul",_i,[(l(!0),n(f,null,v(o.filteredProductCategories,(c,i)=>(l(),n("li",bi,[t("p",fi,[t("span",gi,g(c.title),1),t("a",{href:"javascript:void(0)",onClick:r=>o.selectProductCategory(c),class:"text-secondary"},$i,8,vi)]),t("div",ki,[t("button",{type:"button",onClick:r=>o.changeCategoryStatus(c),class:"btn border-light"},[c.is_active?(l(),n("i",Ci)):p("",!0),c.is_active?p("",!0):(l(),n("i",Fi))],8,wi),t("div",Pi,[u(t("input",{type:"number",onChange:r=>o.updateCategory(c),"onUpdate:modelValue":r=>c.order_position=r,class:"form-control border-light"},null,40,Mi),[[_,c.order_position]]),Vi]),t("button",{title:"Удалить товар",onClick:r=>o.openRemoveModal(c),class:"btn border-light"},Si,8,xi)]),o.need_recommendation_config?(l(),n("div",Ii,[t("div",ji,[t("div",Li,[t("div",Oi,[t("input",{type:"radio",onChange:r=>o.changeStatus(c.id,0),class:"btn-check",name:"config-category-recommendation-"+c.id,id:"config-category-recommendation-1-"+c.id,autocomplete:"off",checked:""},null,40,Ri),t("label",{class:"btn btn-outline-primary",for:"config-category-recommendation-1-"+c.id},"Отмена",8,Ti),t("input",{type:"radio",onChange:r=>o.changeStatus(c.id,1),checked:o.recommendations.indexOf(c.id)!==-1,class:"btn-check",name:"config-category-recommendation-"+c.id,id:"config-category-recommendation-2-"+c.id,autocomplete:"off"},null,40,Ei),t("label",{class:"btn btn-outline-primary",for:"config-category-recommendation-2-"+c.id},"Рекомендация",8,Bi)])])])])):p("",!0)]))),256))])])]),o.paginate?(l(),k(V,{key:0,onPagination_page:o.nextProductCategories,pagination:o.paginate},null,8,["onPagination_page","pagination"])):p("",!0)],64)):(l(),n("p",zi," К сожалению, вы еще не добавили ни одной категории продуктов! ")),Di,t("div",qi,[t("div",Ai,[t("div",Ni,[Ki,t("div",Ji,[o.selectedCategory?(l(),k(j,{key:0,onCallback:o.categoryFormCallback,item:o.selectedCategory},null,8,["onCallback","item"])):p("",!0)])])])]),t("div",Wi,[t("div",Xi,[t("div",Gi,[Hi,o.selectedCategory?(l(),n("div",Yi,[m(" Вы действительно хотите удалить "),t("strong",Qi,g(o.selectedCategory.title||"-")+"?",1)])):p("",!0),o.selectedCategory?(l(),n("div",Zi,[tl,t("button",{type:"button",onClick:e[7]||(e[7]=c=>o.removeProductCategory(o.selectedCategory)),class:"btn btn-primary"},"Да, удалить ")])):p("",!0)])])]),t("div",ol,[t("div",el,[t("div",sl,[il,t("div",ll,[F(j,{onCallback:o.categoryFormCallback},null,8,["onCallback"])])])])])],64))}});const w=s=>(O("data-v-5c95131a"),s=s(),R(),s),dl=["for"],rl=w(()=>t("i",{class:"fa-solid fa-image text-primary"},null,-1)),cl=["id"],pl=w(()=>t("p",{class:"mt-3 font-16 text-primary"}," Нажмите для выбора фотографии",-1)),ul={key:1,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},ml={key:0,class:"w-100 object-fit-cover",alt:""},hl={class:"remove"},_l=w(()=>t("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1)),bl={key:2,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},fl={class:"w-100 object-fit-cover"},gl={class:"remove"},vl=w(()=>t("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1)),yl={class:"form-floating mb-2"},$l=w(()=>t("label",{for:"floatingInput"},"Название подборки",-1)),kl={class:"form-floating mb-2"},wl=w(()=>t("label",{for:"floatingTextarea"},"Описание",-1)),Cl={class:"form-floating mb-2"},Fl=w(()=>t("label",{for:"floatingInput"},"Скидка на подборку, %",-1)),Pl={class:"form-floating mb-3"},Ml=w(()=>t("label",{for:"floatingInput"},"Позиция в выдаче",-1)),Vl=w(()=>t("p",{class:"alert alert-light mb-2"}," Делает подборку доступной для всех пользователей, позволяя им формировать заказ. ",-1)),xl={class:"form-check form-switch mb-2"},Ul=["id"],Sl=["for"],Il={class:"form-check form-switch mb-2"},jl=["id"],Ll=["for"],Ol={key:0,class:"fa-solid fa-chevron-up"},Rl={key:1,class:"fa-solid fa-chevron-down"},Tl={key:3},El=w(()=>t("p",{class:"alert alert-light"},[m(" При выборе товаров из одной и той же категории пользователь сможет указать один из этих продуктов по своему усмотрению. Если выбран флаг "),t("span",{class:"text-primary fw-bold"},'"все в категории"'),m(", то у пользователя не будет возможности выбирать, ему можно будет заказать всё как есть. ")],-1)),Bl={class:"form-check form-switch mb-2"},zl={class:"form-check-label",for:"collectionForm_choose_all_in_category"},Dl={class:"form-check form-switch mb-2"},ql={class:"form-check-label",for:"collectionForm_choose_all_in_category"},Al={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},Nl={class:"btn btn-primary w-100 p-3",type:"submit"},Kl={key:0},Jl={key:1},Wl={props:["item"],data(){return{photo:null,show_products:!1,collectionForm:{id:null,title:null,order_position:0,image:null,description:null,is_public:!0,is_active:!0,discount:0,products:[],config:{choose_all_in_category:!1,can_skip_categories:!1}}}},computed:{bot(){return window.currentBot},mappedProducts(){return this.collectionForm.products.map(({id:s})=>s)},uuid(){return D()}},mounted(){this.item&&this.$nextTick(()=>{this.collectionForm.id=this.item.id||null,this.collectionForm.title=this.item.title||null,this.collectionForm.order_position=this.item.order_position||0,this.collectionForm.image=this.item.image||null,this.collectionForm.description=this.item.description||null,this.collectionForm.discount=this.item.discount||0,this.collectionForm.is_public=this.item.is_public||!0,this.collectionForm.is_active=this.item.is_active||!0,this.collectionForm.config=this.item.config||{},this.collectionForm.products=this.item.products||[],(this.item.products||[]).length>0&&(this.show_products=!0)})},methods:{removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(s){const o=s.target.files;this.photo=o[0]},storeCollection(){let s=new FormData;Object.keys(this.collectionForm).forEach(o=>{const e=this.collectionForm[o]||"";typeof e=="object"?s.append(o,JSON.stringify(e)):s.append(o,e)}),this.photo&&s.append("photo",this.photo),this.$store.dispatch("storeCollection",{collectionForm:s}).then(()=>{this.$notify({title:"Коллекция товаров",text:"Данные успешно сохранены!",type:"success"}),this.$emit("callback"),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click())}).catch(()=>{this.$notify({title:"Коллекция товаров",text:"Ошибка сохранения категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click())})},selectProduct(s){let o=this.collectionForm.products.findIndex(e=>e.id==s.id);o===-1?this.collectionForm.products.push(s):this.collectionForm.products.splice(o,1)}}},Xl=Object.assign(Wl,{__name:"CollectionForm",setup(s){return(o,e)=>{const c=S("lazy");return l(),n("form",{onSubmit:e[12]||(e[12]=C((...i)=>o.storeCollection&&o.storeCollection(...i),["prevent"])),class:"pb-5 mb-5"},[!o.photo&&!o.collectionForm.image?(l(),n("label",{key:0,for:"photos-"+o.uuid,style:{"font-size":"14px","min-height":"300px"},class:"photo-loader my-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},[rl,t("input",{type:"file",id:"photos-"+o.uuid,accept:"image/*",onChange:e[0]||(e[0]=(...i)=>o.onChangePhotos&&o.onChangePhotos(...i)),style:{display:"none"}},null,40,cl),pl],8,dl)):p("",!0),o.collectionForm.image?(l(),n("div",ul,[o.collectionForm.image?u((l(),n("img",ml,null,512)),[[c,"/images-by-company-id/"+o.bot.company_id+"/"+o.collectionForm.image]]):p("",!0),t("div",hl,[t("a",{onClick:e[1]||(e[1]=i=>o.collectionForm.image=null),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_l,m(" Удалить фото")])])])):p("",!0),o.photo&&!o.collectionForm.image?(l(),n("div",bl,[u(t("img",fl,null,512),[[c,o.getPhoto().imageUrl]]),t("div",gl,[t("a",{onClick:e[2]||(e[2]=(...i)=>o.removePhoto&&o.removePhoto(...i)),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[vl,m(" Удалить фото")])])])):p("",!0),t("div",yl,[u(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=i=>o.collectionForm.title=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[_,o.collectionForm.title]]),$l]),t("div",kl,[u(t("textarea",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=i=>o.collectionForm.description=i),placeholder:"Leave a comment here",style:{"min-height":"150px"},required:"",id:"floatingTextarea"},null,512),[[_,o.collectionForm.description]]),wl]),t("div",Cl,[u(t("input",{type:"number",min:"0",max:"100","onUpdate:modelValue":e[5]||(e[5]=i=>o.collectionForm.discount=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[_,o.collectionForm.discount]]),Fl]),t("div",Pl,[u(t("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=i=>o.collectionForm.order_position=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[_,o.collectionForm.order_position]]),Ml]),Vl,t("div",xl,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=i=>o.collectionForm.is_active=i),role:"switch",id:"collectionForm_is_active-"+o.uuid},null,8,Ul),[[$,o.collectionForm.is_active]]),t("label",{class:"form-check-label",for:"collectionForm_is_active-"+o.uuid},[m("Отображение подборки: "),t("span",{class:b({"text-primary fw-bold":o.collectionForm.is_active})},"вкл",2),m(" \\ "),t("span",{class:b({"text-primary fw-bold":!o.collectionForm.is_active})},"выкл",2)],8,Sl)]),t("div",Il,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=i=>o.collectionForm.is_public=i),role:"switch",id:"collectionForm_is_public-"+o.uuid},null,8,jl),[[$,o.collectionForm.is_public]]),t("label",{class:"form-check-label",for:"collectionForm_is_public-"+o.uuid},[m("Является публичной: "),t("span",{class:b({"text-primary fw-bold":o.collectionForm.is_public})},"да",2),m(" \\ "),t("span",{class:b({"text-primary fw-bold":!o.collectionForm.is_public})},"нет",2)],8,Ll)]),t("button",{type:"button",onClick:e[9]||(e[9]=i=>o.show_products=!o.show_products),class:"btn btn-outline-primary p-2 w-100 mb-2"},[o.show_products?(l(),n("i",Rl)):(l(),n("i",Ol)),m(" Открыть выбор продуктов ")]),o.show_products?(l(),n("div",Tl,[El,t("div",Bl,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=i=>o.collectionForm.config.choose_all_in_category=i),role:"switch",id:"collectionForm_choose_all_in_category"},null,512),[[$,o.collectionForm.config.choose_all_in_category]]),t("label",zl,[m("Все в категории: "),t("span",{class:b({"text-primary fw-bold":o.collectionForm.config.choose_all_in_category})},"вкл",2),m(" \\ "),t("span",{class:b({"text-primary fw-bold":!o.collectionForm.config.choose_all_in_category})},"выкл",2)])]),t("div",Dl,[u(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=i=>o.collectionForm.config.can_skip_categories=i),role:"switch",id:"collectionForm_choose_all_in_category"},null,512),[[$,o.collectionForm.config.can_skip_categories]]),t("label",ql,[m("Разрешить пропуск категорий: "),t("span",{class:b({"text-primary fw-bold":o.collectionForm.config.can_skip_categories})},"вкл",2),m(" \\ "),t("span",{class:b({"text-primary fw-bold":!o.collectionForm.config.can_skip_categories})},"выкл",2)])]),F(z,{selected:o.mappedProducts,onSelect:o.selectProduct},null,8,["selected","onSelect"])])):p("",!0),t("nav",Al,[t("button",Nl,[o.collectionForm.id?(l(),n("span",Kl,"Обновить подборку")):(l(),n("span",Jl,"Добавить подборку"))])])],32)}}}),Gl=I(Xl,[["__scopeId","data-v-5c95131a"]]),Hl={class:"form-floating"},Yl=t("label",{for:"floatingInput"},"Поиск подборок",-1),Ql=t("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),Zl={class:"form-floating my-2"},tn=t("option",{value:"id"},"По id",-1),on=t("option",{value:"title"},"По названию",-1),en=L('<option value="order_position">По позиции выдачи</option><option value="is_active">По статусу</option><option value="is_public">По публичности</option><option value="discount">По величине скидки</option><option value="updated_at">По дате добавления</option>',5),sn=t("label",{for:"floatingSelect"},"Сортировать заказы по",-1),ln={key:0},nn=t("i",{class:"fa-solid fa-caret-up"},null,-1),an=t("i",{class:"fa-solid fa-caret-down"},null,-1),dn={key:0},rn={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},cn={class:"col"},pn={class:"list-group"},un={class:"list-group-item"},mn={class:"d-flex justify-content-between"},hn={class:"mb-0"},_n={class:"badge bg-primary mr-2"},bn=["onClick"],fn={class:"fw-bold"},gn={class:"dropdown"},vn=t("button",{class:"btn btn-outline-light",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-bars"})],-1),yn={class:"dropdown-menu"},$n=["onClick"],kn=t("i",{class:"fa-solid fa-eye"},null,-1),wn=["onClick"],Cn=t("i",{class:"fa-regular fa-pen-to-square"},null,-1),Fn=["onClick"],Pn=t("i",{class:"fa-solid fa-trash-can"},null,-1),Mn={key:2,class:"alert alert-light"},Vn={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},xn={class:"modal fade",id:"collection-items-show",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Un={class:"modal-dialog modal-fullscreen"},Sn={class:"modal-content"},In=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Демонстрация"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),jn={class:"modal-body pb-5 mb-5"},Ln={class:"modal fade",id:"collection-item-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},On={class:"modal-dialog modal-fullscreen"},Rn={class:"modal-content"},Tn=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),En={class:"modal-body"},Bn={class:"modal fade",id:"remove-collection-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},zn={class:"modal-dialog"},Dn={class:"modal-content"},qn=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление категории"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),An={key:0,class:"modal-body"},Nn={class:"text-primary fw-bold"},Kn={key:1,class:"modal-footer"},Jn=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть ",-1),Wn={data(){return{search:null,collections:[],paginate:null,loaded:!0,selected:null,sort:{param:"id",direction:"asc"}}},computed:{...x(["getCollections","getCollectionsPaginateObject"]),bot(){return window.currentBot},filteredProductCollections(){return this.search?this.collections.filter(s=>s.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.collections.filter(s=>!s.is_deleted)}},mounted(){this.loadProductCollections()},methods:{openModalDemo(s){this.loaded=!1,this.selected=s,new bootstrap.Modal("#collection-items-show",{}).show(),this.$nextTick(()=>{this.loaded=!0})},openRemoveModal(s){this.loaded=!1,this.selected=s,new bootstrap.Modal("#remove-collection-modal",{}).show(),this.$nextTick(()=>{this.loaded=!0})},openModalEditor(s){this.loaded=!1,this.selected=s,new bootstrap.Modal("#collection-item-form",{}).show(),this.$nextTick(()=>{this.loaded=!0})},changeDirection(s){this.sort.direction=s,this.loadProductCollections(0)},updateCollection(s){this.$store.dispatch("storeCollection",{collectionForm:s,bot_id:this.bot.id}).then(o=>{this.$notify({title:"Конструктор ботов",text:"Данные сохранены!",type:"success"})}).catch(o=>{this.$notify({title:"Конструктор ботов",text:"Ошибка сохранения данных!",type:"error"})})},selectProductCollection(s){this.loaded=!1,this.selected=s,this.$nextTick(()=>{this.loaded=!0})},nextProductCollections(s){this.loadProductCollections(s)},removeProductCollection(s){s.is_deleted=!0,this.$store.dispatch("removeProductCollection",{collectionId:s.id}).then(o=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"}),this.loadProductCollections(),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(e=>e.click())}).catch(o=>{this.loadProductCollections(),this.$notify({title:"Конструктор ботов",text:"Ошибка удаления категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(e=>e.click())})},loadProductCollections(s=0){return this.$store.dispatch("loadCollections",{dataObject:{search:this.search,order_by:this.sort.param,direction:this.sort.direction},page:s,size:10}).then(()=>{this.collections=this.getCollections,this.paginate=this.getCollectionsPaginateObject})}}},Xn=Object.assign(Wn,{__name:"CollectionList",setup(s){return(o,e)=>(l(),n(f,null,[t("form",{class:"input-group mb-2",onSubmit:e[1]||(e[1]=C(c=>o.loadProductCollections(0),["prevent"]))},[t("div",Hl,[u(t("input",{type:"search","onUpdate:modelValue":e[0]||(e[0]=c=>o.search=c),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[_,o.search]]),Yl]),Ql],32),t("div",Zl,[u(t("select",{onClick:e[2]||(e[2]=c=>o.loadProductCollections(0)),"onUpdate:modelValue":e[3]||(e[3]=c=>o.sort.param=c),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[tn,on,m(" > "),en],512),[[M,o.sort.param]]),sn]),o.sort.param!=null?(l(),n("p",ln,[m("Направление сортировки: "),o.sort.direction==="asc"?(l(),n("span",{key:0,class:"fw-bold",onClick:e[4]||(e[4]=c=>o.changeDirection("desc"))},[m("по возрастанию "),nn])):p("",!0),o.sort.direction==="desc"?(l(),n("span",{key:1,class:"fw-bold",onClick:e[5]||(e[5]=c=>o.changeDirection("asc"))},[m("по убыванию "),an])):p("",!0)])):p("",!0),t("p",null,[m("Всего подборок: "),o.paginate?(l(),n("span",dn,g(o.paginate.meta.total||0),1)):p("",!0)]),o.filteredProductCollections.length>0?(l(),n(f,{key:1},[t("div",rn,[t("div",cn,[t("ul",pn,[(l(!0),n(f,null,v(o.filteredProductCollections,(c,i)=>(l(),n("li",un,[t("div",mn,[t("p",hn,[t("span",_n," #"+g(c.id),1),t("span",{onClick:r=>o.openModalEditor(c),class:"fw-bold"},g(c.title),9,bn),t("small",fn," ("+g((c.products||[]).length)+" товаров)",1)]),t("div",gn,[vn,t("ul",yn,[t("li",null,[t("a",{href:"javascript:void(0)",onClick:r=>o.openModalDemo(c),class:"dropdown-item"},[kn,m(" Демо")],8,$n)]),t("li",null,[t("a",{href:"javascript:void(0)",onClick:r=>o.openModalEditor(c),class:"dropdown-item"},[Cn,m(" Редактировать")],8,wn)]),t("li",null,[t("a",{href:"javascript:void(0)",onClick:r=>o.openRemoveModal(c),class:"dropdown-item"},[Pn,m(" Удалить")],8,Fn)])])])])]))),256))])])]),o.paginate?(l(),k(V,{key:0,onPagination_page:o.nextProductCollections,pagination:o.paginate},null,8,["onPagination_page","pagination"])):p("",!0)],64)):(l(),n("p",Mn," К сожалению, вы еще не добавили ни одной коллекции продуктов! ")),t("nav",Vn,[t("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:e[6]||(e[6]=c=>o.openModalEditor(null)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"}," Добавить подборку ")]),t("div",xn,[t("div",Un,[t("div",Sn,[In,t("div",jn,[o.selected&&o.loaded?(l(),k(q,{key:0,item:o.selected},null,8,["item"])):p("",!0)])])])]),t("div",Ln,[t("div",On,[t("div",Rn,[Tn,t("div",En,[o.loaded?(l(),k(Gl,{key:0,onCallback:e[7]||(e[7]=c=>o.loadProductCollections(0)),item:o.selected},null,8,["item"])):p("",!0)])])])]),t("div",Bn,[t("div",zn,[t("div",Dn,[qn,o.selected&&o.loaded?(l(),n("div",An,[m(" Вы действительно хотите удалить "),t("strong",Nn,g(o.selected.title||"-")+" (#"+g(o.selected.id||"-")+")?",1)])):p("",!0),o.selected&&o.loaded?(l(),n("div",Kn,[Jn,t("button",{type:"button",onClick:e[8]||(e[8]=c=>o.removeProductCollection(o.selected)),class:"btn btn-primary"},"Да, удалить ")])):p("",!0)])])])],64))}});const Gn={class:"container py-3"},Hn={class:"row"},Yn={class:"col-12 py-2",style:{position:"sticky",top:"0px","z-index":"1000"}},Qn={class:"btn-group w-100 px-3 catalog-tabs py-2",style:{"overflow-x":"auto"}},Zn=t("i",{class:"fa-solid fa-users mr-2"},null,-1),ta=t("i",{class:"fa-solid fa-user-secret mr-2"},null,-1),oa=t("i",{class:"fa-solid fa-box-open mr-2"},null,-1),ea=t("i",{class:"fa-solid fa-arrows-rotate mr-2"},null,-1),sa={class:"col-12"},ia={class:"col-12"},la={key:0,class:"col-12"},na={class:"col-12"},aa={class:"form-floating mb-2"},da=t("label",{for:"floatingInput"},"Ссылка на страницу ВК с товарами",-1),ra=["disabled"],ca=t("i",{class:"fa-regular fa-floppy-disk mr-2"},null,-1),pa={key:0,class:"btn btn-outline-warning p-3 mb-1 w-100"},ua=t("i",{class:"fa-brands fa-vk mr-2"},null,-1),ma=t("span",{class:"spinner-border text-warning ml-2",style:{"border-width":"2px",width:"1rem",height:"1rem"},role:"status"},null,-1),ha=t("i",{class:"fa-brands fa-vk mr-2"},null,-1),_a={key:0,class:"col-12"},ba=t("i",{class:"fa-solid fa-gears mr-2"},null,-1),fa={key:1,class:"col-12"},ga=t("i",{class:"fa-solid fa-gears mr-2"},null,-1),va={class:"col-12"},ya=t("i",{class:"fa-solid fa-lock mr-2"},null,-1),$a=t("i",{class:"fa-solid fa-lock mr-2"},null,-1),ka={class:"col-12"},wa={class:"modal fade",id:"update-products-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ca={class:"modal-dialog modal-dialog-centered"},Fa={class:"modal-content"},Pa={class:"modal-body"},Ma=t("h6",{class:"text-center my-3"},"Вы действительно хотите обновить товар?",-1),Va=t("p",{class:"alert alert-warning mb-2"},"При обновлении будут загружены все товары из вк, текущие ваши товары будут удалены и заменены на новые.",-1),xa={class:"d-flex justify-content-center"},Ua={class:"modal fade",id:"update-products-from-frontpad-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Sa={class:"modal-dialog modal-dialog-centered"},Ia={class:"modal-content"},ja={class:"modal-body"},La={class:"nav nav-tabs mb-2 d-flex justify-content-center"},Oa={class:"nav-item"},Ra={class:"nav-item"},Ta=t("h6",{class:"text-center my-3"},"Вы действительно хотите обновить товар?",-1),Ea=t("p",{class:"alert alert-warning mb-2"}," Товар с фронтпада можно обвить раз в час!!Будут загружены полностью новые товары из FrontPad ",-1),Ba={class:"d-flex justify-content-center"},za={class:"form-floating mb-2"},Da=t("label",{for:"excelFileInput"},"Файл Excel",-1),qa=t("button",{class:"btn p-3 w-100 btn-primary"},"Отправить",-1),Aa={data(){return{tab:0,load:!1,url:null,link:null,frontpad_tab:0,selectedFile:null,update_products_modal:null,update_products_from_frontpad_modal:null,selectedProduct:null,botForm:{vk_shop_link:null}}},computed:{tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},mounted(){this.updateProducts(),this.botForm.vk_shop_link=window.currentBot.vk_shop_link||null,this.update_products_modal=new bootstrap.Modal(document.getElementById("update-products-modal"),{}),this.update_products_from_frontpad_modal=new bootstrap.Modal(document.getElementById("update-products-from-frontpad-modal"),{}),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$router.back()})},methods:{handleFileUpload(s){const o=s.target.files[0];o&&(this.selectedFile=o)},async submitFrontPadFile(){const s=new FormData;s.append("excel_file",this.selectedFile),this.$store.dispatch("updateProductsFromFrontPadExcel",{form:s}).then(o=>{this.$notify({title:"Импорт данных",text:"Успешно!"}),this.frontpad_tab=0,this.hideUpdateFrontPadModal()}).catch(o=>{this.frontpad_tab=0,this.hideUpdateFrontPadModal()})},doUpdateProducts(){this.exportProducts(),this.open(this.link,"_blank")},doUpdateFrontPadProducts(){this.load=!0,this.$store.dispatch("updateProductsFromFrontPad").then(s=>{this.load=!1,this.hideUpdateFrontPadModal()}).catch(()=>{this.load=!1,this.hideUpdateFrontPadModal()})},hideUpdateFrontPadModal(){this.update_products_from_frontpad_modal.hide()},openFrontPadUpdateModal(){this.update_products_from_frontpad_modal.show()},openUpdateModal(){this.update_products_modal.show()},hideUpdateModal(){this.update_products_modal.hide()},goTo(s){this.$router.push({name:s})},updateShopLink(){this.load=!0,this.$store.dispatch("updateShopLink",{botForm:this.botForm}).then(s=>{this.load=!1,this.updateProducts(),this.$notify({title:"Менеджер магазина",text:"Ссылка на источник в ВК обновлена",type:"success"})}).catch(()=>{this.load=!1})},refresh(){this.load=!0,this.selectedProduct=null,this.$nextTick(()=>{this.load=!1})},removeAllProducts(){this.load=!0,this.$store.dispatch("removeAllProducts").then(s=>{this.load=!1,this.$notify({title:"Менеджер магазина",text:"Все продукты удалены",type:"success"})}).catch(()=>{this.load=!1})},selectProduct(s){this.load=!0,this.$nextTick(()=>{this.selectedProduct=s,this.load=!1})},exportOrders(){this.$store.dispatch("exportAllOrders").then(s=>{this.load=!1,this.$notify({title:"Менеджер магазина",text:"Все заказы экспортированы в файл",type:"success"})}).catch(()=>{this.load=!1})},exportProducts(){this.$store.dispatch("exportAllProducts").then(s=>{this.load=!1,this.$notify({title:"Менеджер магазина",text:"Все продукты экспортированы в файл",type:"success"})}).catch(()=>{this.load=!1})},importProducts(){this.$notify({title:"Менеджер магазина",text:"Функция недоступна"})},updateProducts(){this.load=!0,this.$store.dispatch("updateProductsFromVk").then(s=>{this.link=s.data.url||null,this.load=!1,this.url=null}).catch(()=>{this.load=!1})},open(s){this.tg.openLink(s)}}},id=Object.assign(Aa,{__name:"Shop",setup(s){return(o,e)=>{var c,i;return l(),n(f,null,[t("div",Gn,[t("div",Hn,[t("div",Yn,[t("div",Qn,[t("button",{type:"button",class:b(["btn-info btn p-3",{active:o.tab===0}]),onClick:e[0]||(e[0]=r=>o.tab=0),style:{"min-width":"200px","line-height":"100%"},"aria-current":"page"},[Zn,m("Товары ")],2),t("button",{type:"button",class:b(["btn-info btn p-3",{active:o.tab===2}]),onClick:e[1]||(e[1]=r=>o.tab=2),style:{"min-width":"200px","line-height":"100%"}},[ta,m("Категории ")],2),t("button",{type:"button",class:b(["btn-info btn p-3",{active:o.tab===3}]),onClick:e[2]||(e[2]=r=>o.tab=3),style:{"min-width":"300px","line-height":"100%"}},[oa,m(" Подборки товара (комбо) ")],2),t("button",{type:"button",class:b(["btn-info btn p-3",{active:o.tab===4}]),onClick:e[3]||(e[3]=r=>o.tab=4),style:{"min-width":"300px","line-height":"100%"},"aria-current":"page"},[ea,m("Обновление данных ")],2)])]),u(t("div",sa,[o.load?p("",!0):(l(),k(zs,{key:0,onSelect:o.selectProduct},null,8,["onSelect"]))],512),[[P,o.tab===0]]),u(t("div",ia,[o.load?p("",!0):(l(),k(Xn,{key:0}))],512),[[P,o.tab===3]]),o.tab===1?(l(),n("div",la,[o.load?p("",!0):(l(),k(U,{key:0,item:o.selectedProduct,onRefresh:o.refresh},null,8,["item","onRefresh"]))])):p("",!0),o.tab===4?(l(),n(f,{key:1},[t("div",na,[t("form",{onSubmit:e[5]||(e[5]=C((...r)=>o.updateShopLink&&o.updateShopLink(...r),["prevent"])),class:"mb-2"},[t("div",aa,[u(t("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":e[4]||(e[4]=r=>o.botForm.vk_shop_link=r),"aria-describedby":"vk_shop_link"},null,512),[[_,o.botForm.vk_shop_link]]),da]),t("button",{disabled:o.load,class:"btn btn-outline-info w-100 p-3"},[ca,m(" Сохранить ")],8,ra)],32),o.link?p("",!0):(l(),n("p",pa,[ua,m("Подготовка ссылки "),ma])),o.link?(l(),n("a",{key:1,onClick:e[6]||(e[6]=(...r)=>o.openUpdateModal&&o.openUpdateModal(...r)),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 mb-2"},[ha,m(" Обновить товар из ВК ")])):p("",!0)]),(c=o.currentBot.frontPad)!=null&&c.is_active?(l(),n("div",_a,[t("a",{onClick:e[7]||(e[7]=(...r)=>o.openFrontPadUpdateModal&&o.openFrontPadUpdateModal(...r)),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 mb-2"},[ba,m(" Обновить товар из FrontPad ")])])):p("",!0),(i=o.currentBot.iiko)!=null&&i.is_active?(l(),n("div",fa,[t("a",{onClick:e[8]||(e[8]=r=>o.goTo("IikoV2")),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 mb-2"},[ga,m(" Обновить товар из IIKO ")])])):p("",!0),t("div",va,[t("button",{disabled:!0,onClick:e[9]||(e[9]=(...r)=>o.exportOrders&&o.exportOrders(...r)),class:"btn btn-success p-3 w-100 mb-2"},[ya,m(" Экспортировать заказы ")]),t("button",{disabled:!0,onClick:e[10]||(e[10]=(...r)=>o.importProducts&&o.importProducts(...r)),class:"btn btn-success p-3 w-100 mb-2"},[$a,m(" Импорт из XLS ")]),t("button",{onClick:e[11]||(e[11]=(...r)=>o.exportProducts&&o.exportProducts(...r)),class:"btn btn-success p-3 w-100 mb-2"}," Экспорт в XLS ")])],64)):p("",!0),u(t("div",ka,[F(al)],512),[[P,o.tab===2]])])]),t("div",wa,[t("div",Ca,[t("div",Fa,[t("div",Pa,[Ma,Va,t("div",xa,[t("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:e[12]||(e[12]=(...r)=>o.doUpdateProducts&&o.doUpdateProducts(...r))},"Да "),t("button",{type:"button",class:"btn btn-secondary px-3",onClick:e[13]||(e[13]=(...r)=>o.hideUpdateModal&&o.hideUpdateModal(...r))},"Нет")])])])])]),t("div",Ua,[t("div",Sa,[t("div",Ia,[t("div",ja,[t("ul",La,[t("li",Oa,[t("a",{class:b(["nav-link",{active:o.frontpad_tab===1}]),onClick:e[14]||(e[14]=r=>o.frontpad_tab=1),"aria-current":"page",href:"javascript:void(0)"},"API",2)]),t("li",Ra,[t("a",{onClick:e[15]||(e[15]=r=>o.frontpad_tab=0),class:b([{active:o.frontpad_tab===0},"nav-link"]),href:"javascript:void(0)"},"Эксель",2)])]),o.frontpad_tab===1?(l(),n(f,{key:0},[Ta,Ea,t("div",Ba,[t("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2 p-3",onClick:e[16]||(e[16]=(...r)=>o.doUpdateFrontPadProducts&&o.doUpdateFrontPadProducts(...r))},"Да "),t("button",{type:"button",class:"btn btn-secondary px-3",onClick:e[17]||(e[17]=(...r)=>o.hideUpdateFrontPadModal&&o.hideUpdateFrontPadModal(...r))},"Нет ")])],64)):p("",!0),o.frontpad_tab===0?(l(),n("form",{key:1,onSubmit:e[19]||(e[19]=C((...r)=>o.submitFrontPadFile&&o.submitFrontPadFile(...r),["prevent"]))},[t("div",za,[t("input",{type:"file",class:"form-control",id:"excelFileInput",accept:".xlsx,.xls",onChange:e[18]||(e[18]=(...r)=>o.handleFileUpload&&o.handleFileUpload(...r))},null,32),Da]),qa],32)):p("",!0)])])])])],64)}}});export{id as default};
