import{q as d,t as c,v as t,H as a,J as n,D as m,y as p,A as u,P as h}from"./index.es-4b6d32ea.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";const f={props:["bot"],data(){return{load:!1,slots:0,promoCodeForm:{code:null}}},computed:{getSelf(){return window.profile}},mounted(){},methods:{submitForm(){let s=new FormData;Object.keys(this.promoCodeForm).forEach(o=>{const r=this.promoCodeForm[o]||"";typeof r=="object"?s.append(o,JSON.stringify(r)):s.append(o,r)}),this.$store.dispatch("promoCodeActivate",{promoCodeForm:s}).then(o=>{this.slots=o.slots||0,this.promoCodeForm={code:null},this.$emit("callback",o.data),this.$notify("Промокод успешно активирован")}).catch(o=>{this.$notify("Ошибка активации промокода")})}}},b={class:"row"},F={class:"col-12"},v={class:"form-floating mb-3"},C=t("label",{for:"promo-code-field"},"Ваш код",-1),y={key:0,class:"col-12 mb-2"},w={class:"alert alert-success alert-dismissible fade show",role:"alert"},g=t("strong",null,"Внимание",-1),x=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),D={class:"col-12"},N=["disabled"];function S(s,o,r,V,e,l){return d(),c("form",{onSubmit:o[1]||(o[1]=h((...i)=>l.submitForm&&l.submitForm(...i),["prevent"])),class:"py-3"},[t("div",b,[t("div",F,[t("div",v,[a(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=i=>e.promoCodeForm.code=i),class:"form-control",id:"promo-code-field",placeholder:"Ваш код",required:""},null,512),[[n,e.promoCodeForm.code]]),C])]),e.slots>0?(d(),c("div",y,[t("div",w,[g,m(" Вам зачислено "+p(e.slots)+" слотов! ",1),x])])):u("",!0),t("div",D,[t("button",{disabled:(e.promoCodeForm.code||"").length===0,type:"submit",class:"btn btn-outline-success w-100 p-3"}," Активировать код ",8,N)])])],32)}const B=_(f,[["render",S]]);export{B as P};
