import{a as axios,o as openBlock,g as createElementBlock,j as createBaseVNode,n as normalizeClass,t as toDisplayString,k as normalizeStyle,l as createCommentVNode,p as createVNode,F as Fragment,q as renderList,s as createTextVNode,u as mapGetters,w as withDirectives,v as vModelText,x as createBlock,y as resolveDirective,z as createStaticVNode,A as renderSlot,B as withCtx,C as withModifiers,D as defineComponent,G as ref,H as computed,f as h,J as vModelRadio,K as unref,L as resolveComponent,M as vShow,N as vModelCheckbox,O as pushScopeId,P as popScopeId,Q as vModelDynamic,R as vModelSelect,S as useStore,T as mergeProps,U as normalizeProps,W as guardReactiveProps,X as onMounted,Y as commonjsGlobal,h as hooks,c as createStore,E as E$1,m as mitt,r as resolvePageComponent,b as createApp,V as VueTheMask,d as at,e as entry_esm,I,i as index$1,_ as __vitePreload}from"./index.es-7fe923e3.js";import{P as Pagination,_ as _sfc_main$4h,a as _sfc_main$4i,c as createRouter,b as createWebHashHistory,V as VueSocialSharing,e as entry_esm$1,v as vueTouchEvents}from"./vue3-simple-typeahead-af322e2b.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper-c27b6911.js";import{T as TelegramChannelHelper}from"./TelegramChannelHelper-510d1a84.js";import{s as script$c,a as script$5,b as script$9,c as script$8,d as script$4,e as script$6,f as script$7,g as gBase64}from"./base64-35aa8d2f.js";import{K as Ka$1}from"./main-f4ba7aa5.js";import{V as Vue3JsonEditor}from"./vue3-json-editor.esm.prod-2ea2d4db.js";import{v as v4}from"./v4-4a60fe23.js";import{C as Carousel,S as Slide,P as Pagination$1,N as Navigation}from"./carousel.es-cb3e1d04.js";import{P as Pagination$2}from"./TelegramChannelHelper.vue_vue_type_style_index_0_lang-3e1392ba.js";import"./GlobalSlugList-dfed2e14.js";import{i as index}from"./vue3-perfect-scrollbar-8aa20407.js";import{u as util$1}from"./index-7fa68054.js";window.axios=axios;window.self.config=window.self.config||{};window.self.config.favorites=[];window.getDeviceType=function(){const o=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(o)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?"ios":/android/.test(o)?"android":"desktop"};window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const BotNotification={notification(o,t,a="notification"){window.dispatchEvent(new CustomEvent(a,{detail:{title:o,text:t}}))},success(o,t){this.notification(o,t,"success")},warning(o,t){this.notification(o,t,"warning")}},BotPages={open(o){window.dispatchEvent(new CustomEvent("open-page-menu-modal",{detail:{id:o}}))},keyboard(o,t){window.dispatchEvent(new CustomEvent("open-keyboard-editor",{detail:{select:o,keyboard:t}}))},reloadPageList(){window.dispatchEvent(new CustomEvent("reload-page-list"))},map(){window.dispatchEvent(new CustomEvent("open-map-modal"))},mapCallback(o){window.dispatchEvent(new CustomEvent("select-map-coords",{detail:{param:o}}))},rules(){window.dispatchEvent(new CustomEvent("open-rules-modal"))},selectRule(o){window.dispatchEvent(new CustomEvent("select-rule-event",{detail:{rule:o}}))},telegramChannelHelper(o){window.dispatchEvent(new CustomEvent("open-tg-helper-modal",{detail:{param:o}}))},telegramChannelCallback(o,t){window.dispatchEvent(new CustomEvent("select-telegram-channel-id",{detail:{channel:t,param:o}}))},notes(o){window.dispatchEvent(new CustomEvent("open-notes-modal",{detail:{param:o}}))},selectNote(o,t){window.dispatchEvent(new CustomEvent("select-notes-event",{detail:{note:o,param:t}}))}},Cart={add(o=null){window.dispatchEvent(new CustomEvent("add-to-cart",{detail:{product:o}}))}},CashBack={show(o=null){window.dispatchEvent(new CustomEvent("show-chashback-info",{detail:{item:o}}))},eventInfo(o=null){window.dispatchEvent(new CustomEvent("show-event-info",{detail:{item:o}}))},qr(o){window.dispatchEvent(new CustomEvent("show-qr-code",{detail:{code:o}}))}},ProductInfo={show(o){console.log("SHOW EVENT",o),window.dispatchEvent(new CustomEvent("product-info-event",{detail:{product:o}}))}},Preloader={toggle(){window.dispatchEvent(new CustomEvent("preloader-toggle"))},hide(){window.dispatchEvent(new CustomEvent("preloader-hide"))},show(){window.dispatchEvent(new CustomEvent("preloader-show"))}},_sfc_main$4g={props:{rating:{type:Number,default:0}}},_hoisted_1$48={class:"mb-0"};function _sfc_render$1p(o,t,a,i,s,r){return openBlock(),createElementBlock("p",_hoisted_1$48,[createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":a.rating>=1,"text-dark":a.rating<1}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":a.rating>=2,"text-dark":a.rating<2}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":a.rating>=3,"text-dark":a.rating<3}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":a.rating>=4,"text-dark":a.rating<4}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":a.rating>=5,"text-dark":a.rating<5}])},null,2)])}const Rating=_export_sfc(_sfc_main$4g,[["render",_sfc_render$1p]]),_hoisted_1$47={class:"item bg-theme pb-3 rounded-m shadow-l"},_hoisted_2$40={class:"card-bottom"},_hoisted_3$3S={class:"color-white text-center pr-2 pb-2"},_hoisted_4$3G=createBaseVNode("div",{class:"card-overlay bg-gradient"},null,-1),_hoisted_5$3y={class:"d-flex px-3"},_hoisted_6$3w={class:"mb-n1"},_hoisted_7$3n={key:0,class:"opacity-60"},_hoisted_8$3f={key:1,class:"color-red1-dark mb-0 font-11"},_hoisted_9$3a=["disabled"],_hoisted_10$2Z=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_11$2T=[_hoisted_10$2Z],__default__$2N={props:["item"],data(){return{showCart:!1}},computed:{currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},goToProduct(){this.$router.push({name:"product",params:{productId:this.item.id}})}}},_sfc_main$4f=Object.assign(__default__$2N,{__name:"ProductItemMini",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$47,[createBaseVNode("div",{"data-card-height":"200",class:"card mb-3",onClick:a[0]||(a[0]=(...i)=>t.goToProduct&&t.goToProduct(...i)),style:normalizeStyle([{height:"200px"},{"background-image":"url("+(o.item.images[0]||"")+")"}])},[createBaseVNode("div",_hoisted_2$40,[createBaseVNode("h5",_hoisted_3$3S,toDisplayString(o.item.title||"Без названия"),1)]),_hoisted_4$3G],4),createBaseVNode("div",_hoisted_5$3y,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_6$3w,toDisplayString(o.item.current_price||0)+"₽",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_7$3n,"было "+toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0),createVNode(Rating,{rating:o.item.rating},null,8,["rating"]),o.item.in_stop_list_at?(openBlock(),createElementBlock("p",_hoisted_8$3f,"Нет в наличии")):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:a[1]||(a[1]=(...i)=>t.addToCart&&t.addToCart(...i)),class:normalizeClass([{"bg-gray":o.item.in_stop_list_at!=null,"bg-highlight":o.item.in_stop_list_at==null},"btn btn-xs btn-center-xs rounded-s shadow-s text-uppercase font-900"]),disabled:o.item.in_stop_list_at!=null},_hoisted_11$2T,10,_hoisted_9$3a)])])]))}}),_sfc_main$4e={props:["item"],data(){return{showCart:!1}},computed:{currentPriceParts(){return{right:"00",left:this.item.current_price}},currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},goToProduct(){this.$router.push({name:"product",params:{productId:this.item.id}})}}},_hoisted_1$46={class:"card-top mt-3 mr-3"},_hoisted_2$3$=createBaseVNode("i",{class:"fa fa-shopping-cart"},null,-1),_hoisted_3$3R=[_hoisted_2$3$],_hoisted_4$3F=createBaseVNode("a",{href:"javascript:void(0)",class:"icon icon-s rounded-l shadow-xl bg-red2-dark color-white float-right ml-2 mr-2"},[createBaseVNode("i",{class:"fa fa-heart"})],-1),_hoisted_5$3x={class:"content mb-0"},_hoisted_6$3v={class:"d-flex"},_hoisted_7$3m={style:{"line-height":"130%"},class:"mb-n1 font-600 color-highlight d-flex flex-column"},_hoisted_8$3e={class:"font-700"},_hoisted_9$39={class:"ml-auto"},_hoisted_10$2Y={class:"font-300 opacity-30"},_hoisted_11$2S={key:0,class:"badge bg-highlight color-white px-3 py-1 mt-n1 text-uppercase d-block"},_hoisted_12$2N=createBaseVNode("div",{class:"card-overlay bg-gradient-fade rounded-l"},null,-1),_hoisted_13$2F=createBaseVNode("div",{class:"card-overlay"},null,-1);function _sfc_render$1o(o,t,a,i,s,r){return openBlock(),createElementBlock("div",{class:"card rounded-l shadow-xl bg-18 mb-3 d-block",style:normalizeStyle([{"background-image":"url("+(a.item.images[0]||"")+")"},{height:"320px",margin:"20px"}]),"data-card-height":"320"},[createBaseVNode("div",_hoisted_1$46,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=(...n)=>r.addToCart&&r.addToCart(...n)),style:{width:"50px",height:"50px"},class:"btn rounded-l shadow-xl bg-highlight color-white float-right"},_hoisted_3$3R),_hoisted_4$3F]),createBaseVNode("div",{class:"card-bottom mb-3",onClick:t[1]||(t[1]=(...n)=>r.goToProduct&&r.goToProduct(...n))},[createBaseVNode("div",_hoisted_5$3x,[createBaseVNode("div",_hoisted_6$3v,[createBaseVNode("div",null,[createBaseVNode("p",_hoisted_7$3m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.item.categories,n=>(openBlock(),createElementBlock("span",null,toDisplayString(n.title||"Без категории"),1))),256))]),createBaseVNode("h1",_hoisted_8$3e,toDisplayString(a.item.title||"Нет заголовка"),1)]),createBaseVNode("div",_hoisted_9$39,[createBaseVNode("h1",null,[createTextVNode("₽"+toDisplayString(r.currentPriceParts.left),1),createBaseVNode("sup",_hoisted_10$2Y,toDisplayString(r.currentPriceParts.right),1)]),r.oldPrice>0?(openBlock(),createElementBlock("span",_hoisted_11$2S,"Скидки")):createCommentVNode("",!0)])])])]),_hoisted_12$2N,_hoisted_13$2F],4)}const ProductItemLarge=_export_sfc(_sfc_main$4e,[["render",_sfc_render$1o]]),baseJS={handler(){$(window).on("load",function(){$(".menu").css("display","block"),$("#preloader").addClass("preloader-hide")}),$(document).ready(function(){function o(){var t=[["none","","",""],["red1","#D8334A","#BF263C","#9d0f23"],["red2","#ED5565","#DA4453","#a71222"],["orange","#FC6E51","#E9573F","#ce3319"],["yellow1","#FFCE54","#F6BB42","#e6a00f"],["yellow2","#E8CE4D","#E0C341","#dbb50c"],["green1","#A0D468","#8CC152","#5ba30b"],["green2","#2ECC71","#2ABA66","#0da24b"],["mint","#48CFAD","#37BC9B","#0fa781"],["teal","#A0CECB","#7DB1B1","#158383"],["aqua","#4FC1E9","#3BAFDA","#0a8ab9"],["blue1","#4FC1E9","#3BAFDA","#0b769d"],["blue2","#5D9CEC","#4A89DC","#1a64c6"],["magenta1","#AC92EC","#967ADC","#704dc9"],["magenta2","#8067B7","#6A50A7","#4e3190"],["pink1","#EC87C0","#D770AD","#c73c8e"],["pink2","#fa6a8e","#fb3365","#d30e3f"],["brown1","#BAA286","#AA8E69","#896b43"],["brown2","#8E8271","#7B7163","#584934"],["gray1","#F5F7FA","#E6E9ED","#c2c5c9"],["gray2","#CCD1D9","#AAB2BD","#88919d"],["dark1","#656D78","#434A54","#242b34"],["dark2","#3C3B3D","#323133","#1c191f"]],a=[["facebook","#3b5998"],["linkedin","#0077B5"],["twitter","#4099ff"],["google","#d34836"],["whatsapp","#34AF23"],["pinterest","#C92228"],["sms","#27ae60"],["mail","#3498db"],["dribbble","#EA4C89"],["phone","#27ae60"],["skype","#12A5F4"],["instagram","#e1306c"]],i=$(".menu");$("body"),$(".nav-fixed");var s=$("#footer-bar");$(".close-menu");var r=$(".header");$("#page"),$(".page-content");var n=$(".header, .page-content, #footer-bar");"scrollRestoration"in history&&(history.scrollRestoration="manual"),$("a").on("click",function(){var v=$(this).attr("href");if(v==="#")return!1}),$.fn.showMenu=function(){$(this).addClass("menu-active"),$("#footer-bar").addClass("footer-menu-hidden"),setTimeout(function(){$(".menu-hider").addClass("menu-active")},250)},$.fn.hideMenu=function(){$(this).removeClass("menu-active"),$("#footer-bar").removeClass("footer-menu-hidden"),$(".menu-hider").removeClass("menu-active")};function l(){$(".menu-hider").length||$("#page").append('<div class="menu-hider"><div>');var v=$(".menu-hider"),Q=$("[data-menu]");i.each(function(){var ct=$(this).data("menu-height"),Bt=$(this).data("menu-width");$(this).data("menu-active"),$(this).hasClass("menu-box-right")&&$(this).css("width",Bt),$(this).hasClass("menu-box-left")&&$(this).css("width",Bt),$(this).hasClass("menu-box-bottom")&&$(this).css("height",ct),$(this).hasClass("menu-box-top")&&$(this).css("height",ct),$(this).hasClass("menu-box-modal")&&$(this).css({height:ct,width:Bt})}),Q.on("click",function(){i.removeClass("menu-active"),v.addClass("menu-active");var ct=$(this).data("menu"),Bt=$("#"+ct),ro=$("#"+ct).data("menu-effect"),po=Bt.data("menu-width"),to=Bt.data("menu-height");$("body").addClass("modal-open"),Bt.hasClass("menu-header-clear")&&v.addClass("menu-active-clear");function vo(){Bt=Bt.addClass("menu-active")}return Bt.hasClass("menu-box-bottom")&&$("#footer-bar").addClass("footer-menu-hidden"),ro==="menu-parallax"&&(Bt.hasClass("menu-box-bottom")&&n.css("transform","translateY("+to/5*-1+"px)"),Bt.hasClass("menu-box-top")&&n.css("transform","translateY("+to/5+"px)"),Bt.hasClass("menu-box-left")&&n.css("transform","translateX("+po/5+"px)"),Bt.hasClass("menu-box-right")&&n.css("transform","translateX("+po/5*-1+"px)")),ro==="menu-push"&&(Bt.hasClass("menu-box-bottom")&&n.css("transform","translateY("+to*-1+"px)"),Bt.hasClass("menu-box-top")&&n.css("transform","translateY("+to+"px)"),Bt.hasClass("menu-box-left")&&n.css("transform","translateX("+po+"px)"),Bt.hasClass("menu-box-right")&&n.css("transform","translateX("+po*-1+"px)")),ro==="menu-push-full"&&(Bt.hasClass("menu-box-left")&&n.css("transform","translateX(100%)"),Bt.hasClass("menu-box-right")&&n.css("transform","translateX(-100%)")),vo(),!1});var M=$("[data-auto-activate]");M.length&&(M.addClass("menu-active"),v.addClass("menu-active")),$("body").removeClass("modal-open"),$(".menu-hider, .close-menu, .menu-close").on("click",function(){return i.removeClass("menu-active"),v.removeClass("menu-active menu-active-clear"),n.css("transform","translate(0,0)"),v.css("transform","translate(0,0)"),$("#footer-bar").removeClass("footer-menu-hidden"),$("body").removeClass("modal-open"),!1}),setTimeout(function(){var ct=$("#menu-main").data("menu-active");if($("#"+ct).addClass("nav-item-active"),$("[data-submenu]").on("click",function(){$(this).toggleClass("nav-item-active"),$(this).find(".fa-chevron-right").toggleClass("rotate-90");var ro=$(this).data("submenu");return $("#"+ro).slideToggle(250),!1}),$("[data-submenu]").each(function(){var ro=$(this).data("submenu"),po=$("#"+ro).children().length;$(this).find("strong").html(po)}),$(".nav-item-active").data("submenu")){$(".nav-item-active").find(".fa-chevron-right").toggleClass("rotate-90");var Bt=$(".nav-item-active").data("submenu");$("#"+Bt).slideDown(250)}$(".nav-item-active").parent().hasClass("submenu")&&$(".nav-item-active").parent().slideDown(250)},250)}function c(v,Q,M){if(M){var ct=new Date;ct.setTime(ct.getTime()+48*M*60*3600*1e3);var Bt="; expires="+ct.toGMTString()}else var Bt="";document.cookie=v+"="+Q+Bt+"; path=/"}function m(v){for(var Q=v+"=",M=document.cookie.split(";"),ct=0;ct<M.length;ct++){for(var Bt=M[ct];Bt.charAt(0)==" ";)Bt=Bt.substring(1,Bt.length);if(Bt.indexOf(Q)==0)return Bt.substring(Q.length,Bt.length)}return null}function p(v){c(v,"",-1)}function y(){$("body").find("#transitions-remove").remove()}function b(){$("body").append('<style id="transitions-remove">.btn, .header, #footer-bar, .menu-box, .menu-active, #page, .page-content{transition:all 0ms ease!important;}</style>'),setTimeout(function(){y()},10)}function k(){var v=$("[data-toggle-theme-switch], [data-toggle-theme], [data-toggle-theme-switch] input, [data-toggle-theme] input");$("[data-toggle-theme], [data-toggle-theme-switch]").off().on("click",function(){return b(),$("body").toggleClass("theme-light theme-dark"),setTimeout(function(){$("body").hasClass("detect-theme")&&$("body").removeClass("detect-theme"),$("body").hasClass("theme-light")&&(p("azures_dark_mode"),v.prop("checked",!1),c("azures_light_mode",!0,1)),$("body").hasClass("theme-dark")&&(p("azures_light_mode"),v.prop("checked",!0),c("azures_dark_mode",!0,1))},150),!1}),m("azures_dark_mode")&&(v.prop("checked",!0),$("body").removeClass("theme-light").addClass("theme-dark")),m("azures_light_mode")&&(v.prop("checked",!1),$("body").removeClass("theme-dark").addClass("theme-light"));function Q(){$("body").removeClass("theme-light").addClass("theme-dark"),$("#dark-mode-detected").removeClass("disabled"),p("azures_light_mode"),c("azures_dark_mode",!0,1)}function M(){$("body").removeClass("theme-dark").addClass("theme-light"),$("#dark-mode-detected").removeClass("disabled"),p("azures_dark_mode"),c("azures_light_mode",!0,1)}function ct(){$("#manual-mode-detected").removeClass("disabled")}function Bt(){const ro=window.matchMedia("(prefers-color-scheme: dark)").matches,po=window.matchMedia("(prefers-color-scheme: light)").matches;window.matchMedia("(prefers-color-scheme: no-preference)").matches,window.matchMedia("(prefers-color-scheme: dark)").addListener(to=>to.matches&&Q()),window.matchMedia("(prefers-color-scheme: light)").addListener(to=>to.matches&&M()),window.matchMedia("(prefers-color-scheme: no-preference)").addListener(to=>to.matches&&ct()),ro&&Q(),po&&M()}$("body").hasClass("detect-theme")&&Bt(),$(".detect-dark-mode").on("click",function(){return $("body").addClass("detect-theme"),Bt(),!1}),$(".disable-auto-dark-mode").on("click",function(){return $("body").removeClass("detect-theme"),$(this).remove(),!1})}k(),$(".footer-bar-2, .footer-bar-4, .footer-bar-5").length&&($(".footer-bar-2 strong, .footer-bar-4 strong, .footer-bar-5 strong").length||$(".footer-bar-2 .active-nav, .footer-bar-4 .active-nav, .footer-bar-5 .active-nav").append("<strong></strong>"));var V=$(".back-button, [data-back-button]");V.on("click",function(){window.history.go(-1)});var F=$(".copyright-year, #copyright-year"),x=new Date,J=x.getFullYear();F.html(J);function H(){$(".back-to-top").off().on("click",function(v){return v.preventDefault(),$("html, body").animate({scrollTop:0},350),!1})}H();var he=$(".back-to-top, [data-back-to-top], .back-to-top-badge, .back-to-top-icon"),se=$(".back-to-top-badge, .back-to-top-icon");he.on("click",function(v){return v.preventDefault(),$("html, body, .page-content").animate({scrollTop:0},350),!1});function ue(){se.addClass("back-to-top-visible")}function G(){se.removeClass("back-to-top-visible")}var le=$(".scroll-ad");function X(){le.addClass("scroll-ad-visible")}function N(){le.removeClass("scroll-ad-visible")}$(window).on("scroll",function(){var v=document.body.scrollHeight,Q=$(this).scrollTop()<=150,M=$(this).scrollTop()>=0;$(this).scrollTop()>=150;var ct=$(this).scrollTop()>=v-($(window).height()+300);Q===!0?(G(),N(),$(".header-auto-show").removeClass("header-active")):M===!0&&(ue(),X(),$(".header-auto-show").addClass("header-active")),ct==!0&&(G(),N())});var T=$(".tab-controls");function D(){var v=$(".tab-controls a");T.each(function(){var Q=$(this).parent().find(".tab-controls").data("tab-items");$(this).width();var M=$(this).find("a[data-tab-active]"),ct=$("#"+M.data("tab")),Bt=$(this).data("tab-active");$(this).find("a[data-tab]").css("width",100/Q+"%"),M.addClass(Bt),M.addClass("color-white"),ct.slideDown(0)}),v.on("click",function(){var Q=$(this).data("tab"),M=$("#"+Q),ct=$(this).parent().parent().find(".tab-content"),ct=$(this).parent().parent().parent().find(".tab-content");$(this).data("tab-order");var Bt=$(this).parent().parent().find(".tab-controls").data("tab-active");$(this).parent().find(v).removeClass(Bt).removeClass("color-white"),$(this).addClass(Bt).addClass("color-white"),$(this).parent().find("a").removeClass("no-click"),$(this).addClass("no-click"),ct.slideUp(250),M.slideDown(250)})}T.length&&D(),$(".text-size-increase").click(function(){$(".text-size-changer *").css("font-size","+=1")}),$(".text-size-decrease").click(function(){$(".text-size-changer *").css("font-size","-=1")}),$(".text-size-default").click(function(){$(".text-size-changer *").css("font-size","")});function O(){return $("[data-search]").on("keyup",function(){var v=$(this).val();v!=""?($(".search-header a").removeClass("disabled"),$(".search-trending").addClass("disabled"),$(".search-results").removeClass("disabled-search-list"),$("[data-filter-item]").addClass("disabled-search-item"),$('[data-filter-item][data-filter-name*="'+v.toLowerCase()+'"]').removeClass("disabled-search-item")):($(".search-header a").removeClass("disabled"),$(".search-trending").removeClass("disabled"),$(".search-results").addClass("disabled-search-list"),$("[data-filter-item]").removeClass("disabled-search-item"));var Q=$(".search-no-results"),M=$(".search-results").find(".search-result-list.disabled-search-item");M.length?Q.removeClass("disabled"):Q.addClass("disabled")}),!1}O(),$(".search-trending a").on("click",function(){var v=jQuery.Event("keydown");v.which=32,$(".search-trending").addClass("disabled");var Q=$(this).find("span").text().toLowerCase();return $(".search-header a").removeClass("disabled"),$(".search-header input").val(Q),$(".search-results").removeClass("disabled-search-list"),$("[data-filter-item]").addClass("disabled-search-item"),$('[data-filter-item][data-filter-name*="'+Q.toLowerCase()+'"]').removeClass("disabled-search-item"),$(".menu-search-trending").addClass("disabled-search-item"),!1}),$(".search-header a").on("click",function(){return $(".search-trending").removeClass("disabled"),$(".menu-search-trending").removeClass("disabled-search-item"),$(".search-results").addClass("disabled-search-list"),$(".search-header input").val(""),$(this).addClass("disabled"),!1}),setTimeout(function(){$(".user-slider").owlCarousel({loop:!1,margin:20,nav:!1,lazyLoad:!0,items:1,autoplay:!1,dots:!1,autoplayTimeout:4e3}),$(".user-list-slider").owlCarousel({loop:!0,margin:20,nav:!1,stagePadding:30,lazyLoad:!0,items:4,autoplay:!1,dots:!1,autoplayTimeout:4e3}),$(".single-slider").owlCarousel({loop:!0,margin:20,nav:!1,lazyLoad:!0,items:1,autoplay:!0,autoplayTimeout:4e3}),$(".single-slider-boxed").owlCarousel({loop:!0,stagePadding:30,margin:20,nav:!1,lazyLoad:!0,items:1,autoplay:!0,autoplayTimeout:4e3}),$(".cover-slider").owlCarousel({loop:!0,margin:0,nav:!1,lazyLoad:!0,items:1,autoplay:!0,autoplayTimeout:6e3}),$(".double-slider").owlCarousel({loop:!0,margin:20,stagePadding:20,nav:!1,lazyLoad:!1,items:2,autoplay:!1,autoplayTimeout:4e3}),$(".task-slider").owlCarousel({loop:!0,margin:20,nav:!1,stagePadding:50,lazyLoad:!0,items:2,autoplay:!1,autoplayTimeout:4e3}),$(".next-slide, .next-slide-arrow, .next-slide-text, .cover-next").on("click",function(){$(this).parent().find(".owl-carousel").trigger("next.owl.carousel")}),$(".prev-slide, .prev-slide-arrow, .prev-slide-text, .cover-prev").on("click",function(){$(this).parent().find(".owl-carousel").trigger("prev.owl.carousel")}),$(".next-slide-user").on("click",function(){$(this).closest(".owl-carousel").trigger("next.owl.carousel")}),$(".prev-slide-user").on("click",function(){$(this).closest(".owl-carousel").trigger("prev.owl.carousel")})},1e3),setTimeout(function(){$(".owl-prev, .owl-next").addClass("bg-highlight")});var z={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return z.Android()||z.iOS()||z.Windows()}};z.any()||($("body").addClass("is-not-ios"),$(".show-ios, .show-android").addClass("disabled"),$(".show-no-device").removeClass("disabled")),z.Android()&&($("body").addClass("is-not-ios"),$("head").append('<meta name="theme-color" content="#FFFFFF"> />'),$(".show-android").removeClass("disabled"),$(".show-ios, .show-no-device, .simulate-android, .simulate-iphones").addClass("disabled")),z.iOS()&&($("body").addClass("is-ios"),$(".show-ios").removeClass("disabled"),$(".show-android, .show-no-device, .simulate-android, .simulate-iphones").addClass("disabled")),$("[data-toast]").on("click",function(){return $(".toast, .snackbar-toast, .notification").toast("hide"),$("#"+$(this).data("toast")).toast("show"),!1}),$("[data-dismiss]").on("click",function(){var v=$(this).data("dismiss");$("#"+v).toast("hide")}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$('[data-toggle="collapse"]').length&&$('[data-toggle="collapse"]').on("click",function(v){v.preventDefault()}),$(".ios-input, .android-input, .classic-input").on("click",function(){var v=$(this).attr("id"),Q=$("[data-switch="+v+"]");Q.length&&Q.stop().animate({height:"toggle"},250)}),$("[data-activate]").on("click",function(){var v=$(this).data("activate");$("#"+v).trigger("click")}),$("[data-trigger-switch]").on("click",function(){var v=$(this).data("trigger-switch");$("#"+v).prop("checked")?$("#"+v).prop("checked",!1):$("#"+v).prop("checked",!0)});var de=$(".business-hours");function Ht(){if(de.length){var v=new Date(Date.now()),Q="day-"+new Date().toLocaleDateString("en",{weekday:"long"}).toLowerCase();v.getHours()+""+v.getMinutes();var M=$("."+Q),ct=de.data("closed-message").toString(),Bt=de.data("closed-message-under").toString(),ro=de.data("opened-message").toString(),po=de.data("opened-message-under").toString();$("[data-monday]").data("open"),$("[data-monday]").data("close"),$(".business-hours").openingTimes({openingTimes:{Monday:["08:00","17:00"],Tuesday:["08:00","17:30"],Wednesday:["08:00","17:00"],Thursday:["08:00","17:00"],Friday:["09:00","18:55"],Saturday:["09:00","12:00"]},openClass:"bg-green1-dark is-business-opened",closedClass:"bg-red2-dark is-business-closed"}),de.hasClass("is-business-opened")?($(".show-business-opened").removeClass("disabled"),$(".show-business-closed").addClass("disabled"),de.find("h1").html(ro),de.find("p").html(po),de.find("#business-hours-mail").remove(),M.addClass("bg-green1-dark")):($(".show-business-opened").addClass("disabled"),$(".show-business-closed").removeClass("disabled"),de.find("h1").html(ct),de.find("p").html(Bt),de.find("#business-hours-call").remove(),M.addClass("bg-red2-dark")),M.find("p").addClass("color-white")}}de.length&&Ht();function oo(){(function(v,Q,M){if(M in Q&&Q[M]){var ct,Bt=v.location,ro=/^(a|html)$/i;v.addEventListener("click",function(po){for(ct=po.target;!ro.test(ct.nodeName);)ct=ct.parentNode;"href"in ct&&(ct.href.indexOf("http")||~ct.href.indexOf(Bt.host))&&(po.preventDefault(),Bt.href=ct.href)},!1),$(".add-to-home").addClass("disabled"),$("body").addClass("is-on-homescreen")}})(document,window.navigator,"standalone")}if(oo(),$(".simulate-android-badge").on("click",function(){$(".add-to-home").removeClass("add-to-home-ios").addClass("add-to-home-visible add-to-home-android")}),$(".simulate-iphone-badge").on("click",function(){$(".add-to-home").removeClass("add-to-home-android").addClass("add-to-home-visible add-to-home-ios")}),$(".add-to-home").on("click",function(){$(".add-to-home").removeClass("add-to-home-visible")}),$(".simulate-android-banner").on("click",function(){$("#menu-install-pwa-android, .menu-hider").addClass("menu-active")}),$(".simulate-ios-banner").on("click",function(){$("#menu-install-pwa-ios, .menu-hider").addClass("menu-active")}),$.card_extender=function(){if($(".is-on-homescreen").length){var v=screen.height;$(".page-content, #page").css("min-height",v)}if(!$(".is-on-homescreen").length){var v=window.innerHeight;$(".page-content, #page").css("min-height",v)}$("[data-card-height]").each(function(){var Q=$(this).data("card-height"),M=$(".header").height(),ct=$("#footer-bar").height();$(this).css("height",Q),Q=="cover"&&(r.length&&s.length?($(this).css("height",v-M-ct),$(".map-full, .map-full iframe").css("height",v-M-ct+14)):($(this).css("height",v),$(".map-full, .map-full iframe").css("height",v))),Q=="cover-card"&&($(this).css("height",v-180),$(".map-full, .map-full iframe").css("height",v-180))})},$.card_extender(),$(window).resize(function(){$.card_extender()}),$(".show-map, .hide-map").on("click",function(){$(".map-full .caption").toggleClass("deactivate-map"),$(".map-but-1, .map-but-2").toggleClass("deactivate-map"),$(".map-full .hide-map").toggleClass("activate-map")}),$(".card-scale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-scale-image")}),$(".card-grayscale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-grayscale-image")}),$(".card-rotate").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-rotate-image")}),$(".card-blur").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-blur-image")}),$(".card-hide").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find(".card-center, .card-bottom, .card-top, .card-overlay").toggleClass("card-hide-image")}),$("#reading-progress-text").each(function(v){var Q=$(this).text().split(" ").length,M=Math.floor(Q/250),ct=Q%60;$(".reading-progress-words").append(Q),$(".reading-progress-time").append(M+":"+ct)}),$("[data-auto-show-ad]").length){var zt=$("[data-auto-show-ad]").data("auto-show-ad");setTimeout(function(){$("[data-auto-show-ad]").trigger("click")},zt*1e3)}$("[data-timed-ad]").on("click",function(){var v=$(this).data("timed-ad"),Q=$("#"+$(this).data("menu"));$(".menu-hider").addClass("no-click"),Q.find(".ad-time-close").addClass("no-click"),Q.find(".ad-time-close i").addClass("disabled"),Q.find(".ad-time-close span").removeClass("disabled");var M=setInterval(function(){if(v--,v<=0){$(".menu-hider").removeClass("no-click"),Q.find(".ad-time-close").removeClass("no-click"),Q.find(".ad-time-close i").removeClass("disabled"),Q.find(".ad-time-close span").addClass("disabled"),clearInterval(M);return}else Q.find(".ad-time-close span").html(v)},1e3)});function Xt(v){var Q,M,ct,Bt,ro;if(v=new Date(v),v=v.getTime(),isNaN(v))return;setInterval(po,1);function po(){var to=new Date,to=new Date(to.getUTCFullYear(),to.getUTCMonth(),to.getUTCDate(),to.getUTCHours(),to.getUTCMinutes(),to.getUTCSeconds()),vo=parseInt((v-to.getTime())/1e3);if(vo>=0)Q=parseInt(vo/31536e3),vo=vo%31536e3,M=parseInt(vo/86400),vo=vo%86400,ct=parseInt(vo/3600),vo=vo%3600,Bt=parseInt(vo/60),vo=vo%60,ro=parseInt(vo),$(".countdown").length&&($(".countdown #years")[0].innerHTML=parseInt(Q,10),$(".countdown #days")[0].innerHTML=parseInt(M,10),$(".countdown #hours")[0].innerHTML=("0"+ct).slice(-2),$(".countdown #minutes")[0].innerHTML=("0"+Bt).slice(-2),$(".countdown #seconds")[0].innerHTML=("0"+ro).slice(-2));else return}}Xt("01/19/2030 03:14:07 AM"),$(".accordion-btn").on("click",function(){$(this).addClass("no-click"),$(".accordion-icon").removeClass("rotate-180"),$(this).attr("aria-expanded")=="true"?$(this).parent().find(".accordion-icon").removeClass("rotate-180"):$(this).parent().find(".accordion-icon").addClass("rotate-180"),setTimeout(function(){$(".accordion-btn").removeClass("no-click")},250)}),$(".caption-scale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-scale-image")}),$(".caption-grayscale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-grayscale-image")}),$(".caption-rotate").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-rotate-image")}),$(".caption-blur").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-blur-image")}),$(".caption-hide").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find(".caption-center, .caption-bottom, .caption-top, .caption-overlay").toggleClass("caption-hide-image")});var no=$(".upload-file");function _o(){function v(Q){if(Q.files&&Q.files[0]){var M=new FileReader;M.onload=function(ct){$(".file-data img").attr("src",ct.target.result),$(".file-data img").attr("class","img-fluid rounded-xs mt-4")},M.readAsDataURL(Q.files[0])}}$(".upload-file").change(function(Q){v(this),Q.target.files[0].name,$(".upload-file-data").removeClass("disabled"),$(".upload-file-name").html(Q.target.files[0].name),$(".upload-file-modified").html(Q.target.files[0].lastModifiedDate),$(".upload-file-size").html(Q.target.files[0].size/1e3+"kb"),$(".upload-file-type").html(Q.target.files[0].type)})}no.length&&_o();var lo=$(".todo-list");function go(){$(".todo-list a").each(function(){$(this).find(".todo-icon").hasClass("far fa-square")?$(this).removeClass("opacity-70"):$(this).addClass("opacity-70")}),$(".todo-list a").on("click",function(){$(this).find(".todo-icon").toggleClass("far fa-square fa fa-check-square color-green1-dark"),$(this).find(".todo-icon").hasClass("far fa-square")?$(this).removeClass("opacity-70"):$(this).addClass("opacity-70")})}lo.length&&go();var yo=$(".check-age");function uo(){$(".check-age").on("click",function(){var v=$("#date-birth-day").val(),Q=$("#date-birth-month").val(),M=$("#date-birth-year").val(),ct=18,Bt=new Date;Bt.setFullYear(M,Q-1,v);var ro=new Date,po=new Date;return po.setFullYear(Bt.getFullYear()+ct,Q-1,v),ro-po>0?($("#menu-age").removeClass("menu-active"),$("#menu-age-okay").addClass("menu-active")):($("#menu-age").removeClass("menu-active"),$("#menu-age-fail").addClass("menu-active")),!0})}yo.length&&uo();var fe=$(".get-location");function Do(){"geolocation"in navigator?$(".location-support").html('Your browser and device <strong class="color-green2-dark">support</strong> Geolocation.'):$(".location-support").html('Your browser and device <strong class="color-red2-dark">support</strong> Geolocation.');function v(){const Q=document.querySelector(".location-coordinates");function M(Bt){const ro=Bt.coords.latitude,po=Bt.coords.longitude;Q.innerHTML="<strong>Longitude:</strong> "+po+"<br><strong>Latitude:</strong> "+ro;var to="http://maps.google.com/maps?q=",vo=ro+",",$s=po,Io="&z=18&t=h&output=embed",Xo="&z=18&t=h",Ho=to+vo+$s+Io,xo=to+vo+$s+Xo;$(".location-map").after('<iframe class="location-map" src="'+Ho+'"></iframe> <div class="clearfix"></div>'),$(".location-map").parent().after(" <a href="+xo+' class="btn btn-full btn-m bg-red2-dark rounded-xs text-uppercase font-900 mb-n1 mt-3">View on Google Maps</a>')}function ct(){Q.textContent="Unable to retrieve your location"}navigator.geolocation?(Q.textContent="Locating",navigator.geolocation.getCurrentPosition(M,ct)):Q.textContent="Geolocation is not supported by your browser"}$(".get-location").on("click",function(){$(this).addClass("disabled"),v()})}fe.length&&Do();var jo=/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,Co=/^((\+[1-9]{1,4}[ \-]*)|(\([0-9]{2,3}\)[ \-]*)|([0-9]{2,4})[ \-]*)*?[0-9]{3,4}?[ \-]*[0-9]{3,4}?$/,Lo=/[A-Za-z]{2}[A-Za-z]*[ ]?[A-Za-z]*/,Fo=/[A-Za-z]{2}[A-Za-z]*[ ]?[A-Za-z]*/,us=/^(http|https)?:\/\/[a-zA-Z0-9-\.]+\.[a-z]{2,4}/,ts=/[A-Za-z]{2}[A-Za-z]*[ ]?[A-Za-z]*/,Go="<i class='fa fa-check color-green1-dark'></i>",Qo="<i class='fa fa-exclamation-triangle color-red2-light'></i>";$(".input-required input, .input-required select, .input-required textarea").on("focusin keyup",function(){var v=$(this).parent().find("span").text();$(this).val()!=v&&$(this).val()!=""&&$(this).parent().find("span").addClass("input-style-1-active").removeClass("input-style-1-inactive"),$(this).val()===""&&$(this).parent().find("span").removeClass("input-style-1-inactive input-style-1-active")}),$(".input-required input, .input-required select, .input-required textarea").on("focusout",function(){$(this).parent().find("span").text(),$(this).val()===""&&$(this).parent().find("span").removeClass("input-style-1-inactive input-style-1-active"),$(this).parent().find("span").addClass("input-style-1-inactive")}),$(".input-required select").on("focusout",function(){var v=$(this)[0].value;v==="default"&&($(this).parent().find("em").html(Qo),$(this).parent().find("span").removeClass("input-style-1-inactive input-style-1-active")),v!="default"&&$(this).parent().find("em").html(Go)}),$('.input-required input[type="email"]').on("focusout",function(){jo.test($(this).val())?$(this).parent().find("em").html(Go):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Qo)}),$('.input-required input[type="tel"]').on("focusout",function(){Co.test($(this).val())?$(this).parent().find("em").html(Go):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Qo)}),$('.input-required input[type="password"]').on("focusout",function(){Fo.test($(this).val())?$(this).parent().find("em").html(Go):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Qo)}),$('.input-required input[type="url"]').on("focusout",function(){us.test($(this).val())?$(this).parent().find("em").html(Go):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Qo)}),$('.input-required input[type="name"]').on("focusout",function(){Lo.test($(this).val())?$(this).parent().find("em").html(Go):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Qo)}),$(".input-required textarea").on("focusout",function(){ts.test($(this).val())?$(this).parent().find("em").html(Go):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Qo)}),Date.prototype.toDateInputValue=function(){var v=new Date(this);return v.setMinutes(this.getMinutes()-this.getTimezoneOffset()),v.toJSON().slice(0,10)},$('input[type="date"]').val(new Date().toDateInputValue()),Date.prototype.toDateInputValue=function(){var v=new Date(this);return v.setMinutes(this.getMinutes()-this.getTimezoneOffset()),v.toJSON().slice(0,10)},$('input[type="date"]').val(new Date().toDateInputValue());var Fs=$(".offline-message");Fs.length||($("body").append('<p class="offline-message bg-red2-dark color-white center-text uppercase ultrabold">No internet connection detected</p> '),$("body").append('<p class="online-message bg-green1-dark color-white center-text uppercase ultrabold">You are back online</p>'));function Uo(){$(".offline-message").addClass("offline-message-active"),$(".online-message").removeClass("online-message-active"),setTimeout(function(){$(".offline-message").removeClass("offline-message-active")},2e3)}function Ro(){$(".online-message").addClass("online-message-active"),$(".offline-message").removeClass("offline-message-active"),setTimeout(function(){$(".online-message").removeClass("online-message-active")},2e3)}$(".simulate-offline").on("click",function(){Uo()}),$(".simulate-online").on("click",function(){Ro()});function Wo(v){Ro()}function xs(v){Uo()}window.addEventListener("online",Wo),window.addEventListener("offline",xs);var Jo=$(".generate-qr-result, .generate-qr-auto");function No(){var v=window.location.href,Q="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=";$(".generate-qr-auto").attr("src",Q+v),$(".generate-qr-button").on("click",function(){if(!$(this).parent().find(".fa").hasClass("fa-exclamation-triangle")){var M=$(".generate-qr-input").val();!M==""&&($(".generate-qr-result").empty(),setTimeout(function(){$(".generate-qr-result").append('<img class="mx-auto polaroid-effect shadow-l mt-4 delete-qr" width="200" src="'+Q+M+'" alt="img"><p class="font-11 text-center mb-0">'+M+"</p>")},30))}})}Jo.length&&No();var Ao=$("[data-vibrate]");function qo(){$("[data-vibrate]").on("click",function(){var v=$(this).data("vibrate");window.navigator.vibrate(v)}),$(".start-vibrating").on("click",function(){var v=$(".vibrate-demo").val();window.navigator.vibrate(v)}),$(".stop-vibrating").on("click",function(){window.navigator.vibrate(0),$(".vibrate-demo").val("")})}Ao.length&&qo();function ps(){var v=window.location.href,Q=document.title;$(".shareToFacebook").prop("href","https://www.facebook.com/sharer/sharer.php?u="+v),$(".shareToLinkedIn").prop("href","https://www.linkedin.com/shareArticle?mini=true&url="+v+"&title="+Q+"&summary=&source="),$(".shareToTwitter").prop("href","https://twitter.com/home?status="+v),$(".shareToPinterest").prop("href","https://pinterest.com/pin/create/button/?url="+v),$(".shareToWhatsApp").prop("href","whatsapp://send?text="+v),$(".shareToMail").prop("href","mailto:?body="+v),$(".shareToCopyLink").on("click",function(M){$(this).parent().find("p").html("Скопировано"),$(this).removeClass("bg-blue2-dark").addClass("bg-green1-dark"),$(this).find("i").attr("class",""),$(this).find("i").attr("class","fa fa-check font-22"),setTimeout(function(){$(".shareToCopyLink").parent().find("p").html("Копировать"),$(".shareToCopyLink").removeClass("bg-green1-dark").addClass("bg-blue2-dark"),$(".shareToCopyLink").find("i").attr("class",""),$(".shareToCopyLink").find("i").attr("class","fa fa-link font-22")},1e3)})}ps();var Po=$(".preload-img");$(function(){Po.lazyload({threshold:500})}),$("[data-lightbox]").addClass("default-link"),lightbox.option({alwaysShowNavOnTouchDevices:!0,resizeDuration:200,wrapAround:!1}),$("#lightbox").hammer().on("swipe",function(v){v.gesture.direction===4?$("#lightbox a.lb-prev").trigger("click"):v.gesture.direction===2&&$("#lightbox a.lb-next").trigger("click")}),$(".gallery-filter").length>0&&($(".gallery-filter").filterizr(),$(".gallery-filter-active").addClass("color-highlight")),$(".gallery-filter-controls li").on("click",function(){$(".gallery-filter-controls li").removeClass("gallery-filter-active color-highlight"),$(this).addClass("gallery-filter-active color-highlight")});var fs=$(".gallery-views"),Oo=$(".gallery-view-controls a"),To=$(".gallery-view-1-activate"),co=$(".gallery-view-2-activate"),Yo=$(".gallery-view-3-activate");To.on("click",function(){Oo.removeClass("color-highlight"),$(this).addClass("color-highlight"),fs.removeClass().addClass("gallery-views gallery-view-1")}),co.on("click",function(){Oo.removeClass("color-highlight"),$(this).addClass("color-highlight"),fs.removeClass().addClass("gallery-views gallery-view-2")}),Yo.on("click",function(){Oo.removeClass("color-highlight"),$(this).addClass("color-highlight"),fs.removeClass().addClass("gallery-views gallery-view-3")});var os=$("[data-search]");function bs(){os.on("keyup",function(){var v=$(this).val();$(this).parent().parent().find("[data-filter-item]"),v!=""?($(".search-results").removeClass("disabled-search-list"),$("[data-filter-item]").addClass("disabled-search"),$('[data-filter-item][data-filter-name*="'+v.toLowerCase()+'"]').removeClass("disabled-search")):($(".search-results").addClass("disabled-search-list"),$("[data-filter-item]").removeClass("disabled-search"))})}os.length&&bs();var gs="false";if(jQuery(document).ready(function(v){function Q(ct,Bt){gs="true";var ro=v("#"+ct).serialize();v.post(v("#"+ct).attr("action"),ro,function(po){v("#"+ct).addClass("disabled"),$(".contact-form").addClass("disabled"),v(".formSuccessMessageWrap").fadeIn(500)})}function M(ct,Bt){v(".formValidationError").hide(),v(".fieldHasError").removeClass("fieldHasError"),v("#"+ct+" .requiredField").each(function(ro){if(v(this).val()==""||v(this).val()==v(this).attr("data-dummy"))return v(this).val(v(this).attr("data-dummy")),v(this).focus(),v(this).addClass("fieldHasError"),v("#"+v(this).attr("id")+"Error").fadeIn(300),!1;if(v(this).hasClass("requiredEmailField")){var po=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,to="#"+v(this).attr("id");if(!po.test(v(to).val()))return v(to).focus(),v(to).addClass("fieldHasError"),v(to+"Error2").fadeIn(300),!1}gs=="false"&&ro==v("#"+ct+" .requiredField").length-1&&Q(ct)})}v(".formSuccessMessageWrap").hide(0),v(".formValidationError").fadeOut(0),v('input[type="text"], input[type="password"], textarea').focus(function(){v(this).val()==v(this).attr("data-dummy")&&v(this).val("")}),v("input, textarea").blur(function(){v(this).val()==""&&v(this).val(v(this).attr("data-dummy"))}),v(".contactSubmitButton").on("click",function(){return M(v(this).attr("data-formId")),!1})}),$(".chart").length>0){var ks=function(v,Q,M){var ct=document.createElement("script");ct.src=v,ct.onload=Q,ct.onreadystatechange=Q,M.appendChild(ct)},ss=function(){var v=$("#wallet-chart"),Q=$("#pie-chart"),M=$("#doughnut-chart"),ct=$("#polar-chart"),Bt=$("#vertical-chart"),ro=$("#horizontal-chart"),po=$("#line-chart");v.length&&new Chart(v,{type:"bar",data:{labels:["April","May","June","July"],datasets:[{label:"Income",backgroundColor:"#A0D468",data:[200,300,450,400]},{label:"Expenses",backgroundColor:"#ED5565",data:[190,250,350,300]},{label:"Savings",backgroundColor:"#5D9CEC",data:[250,150,400,250]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}}),Q.length&&new Chart(Q,{type:"pie",data:{labels:["Facebook","Twitter","WhatsApp"],datasets:[{backgroundColor:["#4A89DC","#4FC1E9","#A0D468"],borderColor:"rgba(255,255,255,0.5)",data:[7e3,3e3,2e3]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},tooltips:{enabled:!0},animation:{duration:1500}}}),M.length&&new Chart(M,{type:"doughnut",data:{labels:["Apple","Samsung","Google"],datasets:[{backgroundColor:["#CCD1D9","#5D9CEC","#FC6E51"],borderColor:"rgba(255,255,255,0.5)",data:[5500,4e3,3e3]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},tooltips:{enabled:!0},animation:{duration:1500},layout:{padding:{bottom:30}}}}),ct.length&&new Chart(ct,{type:"polarArea",data:{labels:["Windows","Mac","Linux"],datasets:[{backgroundColor:["#CCD1D9","#5D9CEC","#FC6E51"],borderColor:"rgba(255,255,255,0.5)",data:[7e3,1e4,5e3]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},tooltips:{enabled:!0},animation:{duration:1500},layout:{padding:{bottom:30}}}}),Bt.length&&new Chart(Bt,{type:"bar",data:{labels:["2010","2015","2020","2025"],datasets:[{label:"iOS",backgroundColor:"#A0D468",data:[900,1e3,1200,1400]},{label:"Android",backgroundColor:"#4A89DC",data:[890,950,1100,1300]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}}),ro.length&&new Chart(ro,{type:"horizontalBar",data:{labels:["2010","2013","2016","2020"],datasets:[{label:"Mobile",backgroundColor:"#BF263C",data:[330,400,580,590]},{label:"Responsive",backgroundColor:"#EC87C0",data:[390,450,550,570]}]},options:{legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}}),po.length&&new Chart(po,{type:"line",data:{labels:[2e3,2005,2010,2015,2010],datasets:[{data:[500,400,300,200,300],label:"Desktop Web",borderColor:"#D8334A"},{data:[0,100,300,400,500],label:"Mobile Web",borderColor:"#4A89DC"}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}})};ks("/shop/scripts/charts.js",ss,document.body)}m("azure_accept_cookie")==null?$("#menu-cookie-accept").length&&setTimeout(function(){$("#menu-cookie-accept, .menu-hider").addClass("menu-active"),$(".accept-cookie-policy").on("click",function(){c("azure_accept_cookie",!0,1)})},1500):$("#menu-welcome-modal").length&&setTimeout(function(){$("#menu-welcome-modal, .menu-hider").addClass("menu-active")},1500);function Mo(){$(document).ready(function(){$("#shape-cut-left").on("click",function(){$(".header-card").removeClass("shape-rounded shape-cut-right").addClass("shape-cut-left"),$(".footer-card").removeClass("shape-rounded shape-cut-right").addClass("shape-cut-left")}),$("#shape-cut-right").on("click",function(){$(".header-card").removeClass("shape-rounded shape-cut-left").addClass("shape-cut-right"),$(".footer-card").removeClass("shape-rounded shape-cut-left").addClass("shape-cut-right")}),$("#shape-rounded").on("click",function(){$(".header-card").removeClass("shape-cut-left shape-cut-right").addClass("shape-rounded"),$(".footer-card").removeClass("shape-cut-left shape-cut-right").addClass("shape-rounded")})})}function Vs(){feather.replace();var v=$(".feather");v.length&&v.each(function(){$(this).attr("stroke-width",$(this).data("feather-line")),$(this).attr("width",$(this).data("feather-size")),$(this).attr("height",$(this).data("feather-size")),$(this).css("width",$(this).data("feather-size")),$(this).css("height",$(this).data("feather-size"))})}Vs(),window.location.protocol==="file:"&&$("a").on("mouseover",function(){});var as=$(".page-title-large, .page-title-small, .menu-header a");function is(){var v=new Date().getHours(),Q,M=$(".greeting-text").data("username"),ct="Доброе утро",Bt="Добрый день",ro="Добрый вечер";v>=0&&v<12?Q=ct:v>=12&&v<17?Q=Bt:v>=17&&v<24&&(Q=ro),$(".greeting-text").html(Q+",<br>"+M)}as.length&&is();var Bo=$(".visit-detection");if(Bo.length){var Ko=new Date,Ns=Ko.getFullYear()+"/"+(Ko.getMonth()+1)+"/"+Ko.getDate(),rs=Ko.getHours()+":"+Ko.getMinutes()+":"+Ko.getSeconds();if(!m("azure_accept_cookie"))$(".never-visited").show(),$(".before-visited").hide(),c("azure_accept_cookie","<br>Your last visit was "+Ns+" at "+rs,1);else{var mo=m("azure_accept_cookie");$(".visit-before-time").html(mo),$(".never-visited").hide(),$(".before-visited").show(),c("azure_accept_cookie","<br>Your last visit was "+Ns+" at "+rs,1)}}var eo=$(".generated-styles"),ao=$(".generated-highlight");function io(v){var Q;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(v))return Q=v.substring(1).split(""),Q.length==3&&(Q=[Q[0],Q[0],Q[1],Q[1],Q[2],Q[2]]),Q="0x"+Q.join(""),"rgba("+[Q>>16&255,Q>>8&255,Q&255].join(",")+",0.3)"}function $o(){var v=m("azures-color-scheme");if(v==null)var v=$("body").data("highlight");var Q=t.map($s=>$s[0]);if(Q.indexOf(v)>-1){var M=Q.indexOf(v),ct=t[M][2],Bt=".color-highlight{color:"+ct+"!important}",ro=".bg-highlight, .page-item.active a{background-color:"+ct+"!important}",po=".footer-bar-1 .active-nav *, .footer-bar-3 .active-nav i{color:"+ct+"!important} .footer-bar-2 strong, .footer-bar-4 strong, .footer-bar-5 strong{background-color:"+ct+"!important; color:#FFF;}",to=".border-highlight{border-color:"+ct+"!important}",vo=".header-tab-active{border-color:"+ct+"!important}";ao.length||($("body").append('<style class="generated-highlight"></style>'),$("body").append('<style class="generated-background"></style>'),$(".generated-highlight").append(Bt,ro,po,to,vo))}}$o();function So(){$("[data-change-highlight]").on("click",function(v){var Q=$(this).data("change-highlight");$("body").attr("data-highlight",Q),$(".generated-highlight").remove(),c("azures-color-scheme",Q,1);var M=t.map($s=>$s[0]);if(M.indexOf(Q)>-1){var ct=M.indexOf(Q);if($(this).data("color-light")!==void 0)var Bt=t[ct][1];else var Bt=t[ct][2];var ro=".color-highlight{color:"+Bt+"!important}",po=".bg-highlight{background-color:"+Bt+"!important}",to=".footer-bar-1 .active-nav *, .footer-bar-3 .active-nav i{color:"+Bt+"!important} .footer-bar-2 strong, .footer-bar-4 strong, .footer-bar-5 strong{background-color:"+Bt+"!important; color:#FFF;}",vo=".border-highlight{border-color:"+Bt+"!important}";$("body").append('<style class="generated-highlight"></style>'),$(".generated-highlight").append(ro,po,to,vo)}return!1})}So(),eo.length||($("body").append('<style class="generated-styles"></style>'),$(".generated-styles").append("/*Generated using JS for lower CSS file Size, Easier Editing & Faster Loading*/"),t.forEach(function(v){$(".generated-styles").append('[data-feather-bg="'+v[0]+'-dark"]{ fill: '+v[2]+'!important;} [data-feather-bg="'+v[0]+'-light"]{ fill: '+v[1]+"!important;}")}),t.forEach(function(v){$(".generated-styles").append('[data-feather-bg="'+v[0]+'-fade-dark"]{ fill: '+io(v[2])+'!important;} [data-feather-bg="'+v[0]+'-fade-light"]{ fill: '+io(v[1])+"!important;}")}),t.forEach(function(v){$(".generated-styles").append('[data-feather-color="'+v[0]+'-dark"]{ stroke: '+v[2]+'!important;} [data-feather-color="'+v[0]+'-light"]{ stroke: '+v[1]+"!important;}")}),t.forEach(function(v){$(".generated-styles").append('[data-feather-color="'+v[0]+'-fade-dark"]{ stroke: '+io(v[2])+'!important;} [data-feather-color="'+v[0]+'-fade-light"]{ stroke: '+io(v[1])+"!important;}")}),t.forEach(function(v){$(".generated-styles").append(".bg-"+v[0]+"-light{ background-color: "+v[1]+"!important; color:#FFFFFF!important;} .bg-"+v[0]+"-light i, .bg-"+v[0]+"-dark i{color:#FFFFFF;} .bg-"+v[0]+"-dark{  background-color: "+v[2]+"!important; color:#FFFFFF!important;} .border-"+v[0]+"-light{ border-color:"+v[1]+"!important;} .border-"+v[0]+"-dark{  border-color:"+v[2]+"!important;} .color-"+v[0]+"-light{ color: "+v[1]+"!important;} .color-"+v[0]+"-dark{  color: "+v[2]+"!important;}")}),t.forEach(function(v){$(".generated-styles").append(".bg-fade-"+v[0]+"-light{ background-color: "+io(v[1])+"!important; color:#FFFFFF;} .bg-fade-"+v[0]+"-light i, .bg-"+v[0]+"-dark i{color:#FFFFFF;} .bg-fade-"+v[0]+"-dark{  background-color: "+io(v[2])+"!important; color:#FFFFFF;} .border-fade-"+v[0]+"-light{ border-color:"+io(v[1])+"!important;} .border-fade-"+v[0]+"-dark{  border-color:"+io(v[2])+"!important;} .color-fade-"+v[0]+"-light{ color: "+io(v[1])+"!important;} .color-fade-"+v[0]+"-dark{  color: "+io(v[2])+"!important;}")}),t.forEach(function(v){$(".generated-styles").append(".bg-gradient-"+v[0]+"{background-image: linear-gradient(to bottom, "+v[1]+" 0, "+v[2]+" 100%)}")}),a.forEach(function(v){$(".generated-styles").append(".bg-"+v[0]+"{background-color:"+v[1]+"!important; color:#FFFFFF;} .color-"+v[0]+"{color:"+v[1]+"!important;}")}),t.forEach(function(v){$(".generated-styles").append(".body-"+v[0]+"{background-image: linear-gradient(to bottom, "+v[1]+" 0, "+v[3]+" 100%)}")}));var Os=$("[data-menu-load]");Os.each(function(){var v=$(this).data("menu-load");$(this).load(v)}).promise().done(function(){setTimeout(function(){k(),l(),ps(),So(),Vs(),H(),Mo()},500)})}setTimeout(o,0),$(function(){})})}},_sfc_main$4d={data(){return{search:null,products:null}},watch:{search:function(){}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"])},methods:{loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o,size:20}).then(()=>{this.products=this.getProducts,baseJS.handler()})}}},_hoisted_1$45={class:"content mb-4"},_hoisted_2$3_={class:"search-box bg-theme rounded-m shadow-xl bottom-0"},_hoisted_3$3Q=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_4$3E={class:"search-results card card-style mx-0 mt-3 px-2"},_hoisted_5$3w={class:"list-group list-custom-large"},_hoisted_6$3u={href:"#","data-filter-item":"","data-filter-name":"all demo smartphone apple iphone"},_hoisted_7$3l=createBaseVNode("i",{class:"fab fa-apple color-gray2-dark"},null,-1),_hoisted_8$3d=createBaseVNode("strong",null,"Works on iOS 10 and Higher",-1),_hoisted_9$38=createBaseVNode("i",{class:"fa fa-angle-right mr-2"},null,-1);function _sfc_render$1n(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$45,[createBaseVNode("div",_hoisted_2$3_,[_hoisted_3$3Q,withDirectives(createBaseVNode("input",{type:"text",class:"border-0","onUpdate:modelValue":t[0]||(t[0]=n=>s.search=n),placeholder:"Что вы хотели бы найти? (найдем всё)"},null,512),[[vModelText,s.search]])]),createBaseVNode("div",_hoisted_4$3E,[createBaseVNode("div",_hoisted_5$3w,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.products,n=>(openBlock(),createElementBlock("a",_hoisted_6$3u,[_hoisted_7$3l,createBaseVNode("span",null,toDisplayString(n.title||"Не указано"),1),_hoisted_8$3d,_hoisted_9$38]))),256))])])])}const SearchBox=_export_sfc(_sfc_main$4d,[["render",_sfc_render$1n]]),CategoryList_vue_vue_type_style_index_0_lang$1="",_hoisted_1$44={key:0},_hoisted_2$3Z=["onClick"],_hoisted_3$3P={class:"card-center"},_hoisted_4$3D={class:"pl-3"},_hoisted_5$3v={class:"pl-3 mt-n2 font-12 color-highlight mb-0"},_hoisted_6$3t={class:"font-weight-bold"},_hoisted_7$3k=createBaseVNode("div",{class:"card-center opacity-30"},[createBaseVNode("i",{class:"fa fa-arrow-right opacity-50 float-right color-theme pr-3"})],-1),__default__$2M={props:["size","selected"],data(){return{categories:null,categories_paginate_object:null}},computed:{...mapGetters(["getCategories","getCategoriesPaginateObject"])},mounted(){this.loadCategories()},methods:{nextCategories(o){this.loadCategories(o)},select(o){return this.$emit("select",o)},inCategory(o){return this.selected.findIndex(a=>a.id===o)>=0},loadCategories(o=0){return this.$store.dispatch("loadCategories",{page:o,size:this.size||5}).then(()=>{this.categories=this.getCategories,this.categories_paginate_object=this.getCategoriesPaginateObject})}}},_sfc_main$4c=Object.assign(__default__$2M,{__name:"CategoryList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.categories?(openBlock(),createElementBlock("div",_hoisted_1$44,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.categories,i=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:s=>t.select(i),style:{height:"80px"},class:normalizeClass([{"border-blue2-dark":t.inCategory(i.id)},"card card-style m-0 mb-2 bordered"])},[createBaseVNode("div",_hoisted_3$3P,[createBaseVNode("h5",_hoisted_4$3D,toDisplayString(i.title||"Не указано"),1),createBaseVNode("p",_hoisted_5$3v,[createBaseVNode("span",_hoisted_6$3t,toDisplayString(i.count||0),1),createTextVNode(" ед. товаров в категории")])]),_hoisted_7$3k],10,_hoisted_2$3Z))),256))])):createCommentVNode("",!0),t.categories_paginate_object?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextCategories,pagination:t.categories_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$43=["data-src"],_hoisted_2$3Y={class:"card-bottom px-3"},_hoisted_3$3O={class:"font-40 line-height-xl"},_hoisted_4$3C={class:"pb-0 mb-0 font-12"},_hoisted_5$3u=createBaseVNode("i",{class:"fa fa-map-marker mr-2"},null,-1),_hoisted_6$3s=createBaseVNode("a",{href:"#/contact-us",class:"btn btn-m btn-border w-100 btn-full rounded-s mb-3 border-highlight color-highlight text-uppercase font-900"},[createBaseVNode("i",{class:"fa-regular fa-envelope mr-2"}),createTextVNode(" Написать нам ")],-1),_hoisted_7$3j=createBaseVNode("div",{class:"card-overlay bg-gradient-fade"},null,-1),_hoisted_8$3c={class:"card card-style p-3"},_hoisted_9$37=createBaseVNode("h5",null,"Галлерея продуктов",-1),_hoisted_10$2X={class:"row text-center row-cols-3 mb-n4"},_hoisted_11$2R=["href","title"],_hoisted_12$2M={class:"img-fluid rounded-xs preload-img",alt:"img"},_hoisted_13$2E={key:1,class:"single-slider owl-no-dots owl-carousel mt-n4 owl-loaded owl-drag"},_hoisted_14$2x=createBaseVNode("div",{class:"content mb-3"},[createBaseVNode("h5",{class:"float-left font-16 font-500"},"Случайные 20 товаров"),createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/products"},"Посмотреть все"),createBaseVNode("div",{class:"clearfix"})],-1),_hoisted_15$2u={key:2,class:"double-slider owl-carousel owl-no-dots"},_hoisted_16$2r=createBaseVNode("div",{class:"divider divider-margins mt-4"},null,-1),_hoisted_17$2h={key:3,class:"content mb-3"},_hoisted_18$2c=createBaseVNode("h5",{class:"float-left font-16 font-500"},"Ранее просмотрено",-1),_hoisted_19$26=createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#"},"Смотреть всё",-1),_hoisted_20$21=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_21$1_=[_hoisted_18$2c,_hoisted_19$26,_hoisted_20$21],_hoisted_22$1Y={key:4,class:"double-slider owl-carousel owl-no-dots"},_hoisted_23$1V=createStaticVNode('<div class="divider divider-margins mt-4"></div><div class="card mt-4 preload-img" data-src="/shop/images/pictures/20s.jpg"><div class="card-body"><h3 class="color-white font-600">Best Priced Pack</h3><p class="color-white opacity-80"> The best value pack you can purchase for your needs created especially to suit you. </p><div class="card rounded-m shadow-xl mb-0"><div class="content"><div class="d-flex pb-3"><div class="pr-3"><h5 class="font-14 font-600 opacity-80 pb-2">Appkit Mobile Website Template and PWA. </h5><h1 class="font-24 font-700">$21<sup class="font-15 opacity-50">.99</sup></h1></div><div class="ml-auto"><img src="/shop/images/pictures/2s.jpg" class="rounded-m shadow-xl" width="90"></div></div><div class="divider mb-4"></div><div class="d-flex pb-2"><div class="pr-3"><h5 class="font-14 font-600 opacity-80 pb-2">6 Months Hands on Support Included in Pack. </h5><h1 class="font-24 font-700 color-green1-dark">$0<sup class="font-15 opacity-50">.00</sup></h1></div><div class="ml-auto"><img src="/shop/images/pictures/3s.jpg" class="rounded-m shadow-xl" width="90"></div></div><div class="divider mb-4"></div><a href="#" class="btn btn-full btn-m bg-highlight font-700 text-uppercase rounded-m shadow-xl"> Add to Cart</a></div></div></div><div class="card-overlay bg-highlight opacity-95"></div><div class="card-overlay dark-mode-tint"></div></div><div class="divider divider-margins"></div><div class="content mb-3"><h5 class="float-left font-16 font-500">Категории товаров</h5><a class="float-right font-12 color-highlight mt-n1" href="#/categories">Посмотреть все</a><div class="clearfix"></div></div>',4),__default__$2L={data(){return{botUser:null,watches:null,products:null,paginate:null,randomProducts:null}},watch:{getSelf:function(){this.botUser=this.getSelf,baseJS.handler()},getWatches:function(){this.watches=this.getWatches.slice(0,10),baseJS.handler()},$route(o,t){this.loadRandomProducts(),this.watches=this.getWatches.slice(0,10)}},computed:{...mapGetters(["getProducts","getSelf","getWatches","getProductsPaginateObject"]),currentBot(){return window.currentBot},logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`}},mounted(){this.loadProducts(),this.loadRandomProducts(),this.watches=this.getWatches.slice(0,10)},methods:{nextProducts(o){this.loadProducts(o)},watchStore(){this.$store.watch(()=>this.$store.getters.getSelf,o=>{this.botUser=this.$store.getters.getSelf,baseJS.handler()})},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})},loadRandomProducts(){return this.$store.dispatch("loadRandomProducts").then(()=>{this.randomProducts=this.getProducts,baseJS.handler()})}}},_sfc_main$4b=Object.assign(__default__$2L,{__name:"Home",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.currentBot?(openBlock(),createElementBlock("div",{key:0,class:"card card-style preload-img","data-src":t.logo,style:{height:"500px"}},[createBaseVNode("div",_hoisted_2$3Y,[createBaseVNode("h1",_hoisted_3$3O,toDisplayString(t.currentBot.company.title||"Без названия"),1),createBaseVNode("p",_hoisted_4$3C,[_hoisted_5$3u,createTextVNode(toDisplayString(t.currentBot.company.address||"Без адреса"),1)]),createBaseVNode("p",null,toDisplayString(t.currentBot.description||"Без описания"),1),_hoisted_6$3s]),_hoisted_7$3j],8,_hoisted_1$43)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$3c,[_hoisted_9$37,createBaseVNode("div",_hoisted_10$2X,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.products,s=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link",href:"#/products/"+s.id,title:s.title},[withDirectives(createBaseVNode("img",_hoisted_12$2M,null,512),[[i,s.images[0]]])],8,_hoisted_11$2R))),256))]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)]),createVNode(SearchBox),t.randomProducts?(openBlock(),createElementBlock("div",_hoisted_13$2E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.randomProducts,(s,r)=>(openBlock(),createBlock(ProductItemLarge,{item:s},null,8,["item"]))),256))])):createCommentVNode("",!0),_hoisted_14$2x,t.randomProducts?(openBlock(),createElementBlock("div",_hoisted_15$2u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.randomProducts,(s,r)=>(openBlock(),createBlock(_sfc_main$4f,{item:s},null,8,["item"]))),256))])):createCommentVNode("",!0),_hoisted_16$2r,t.watches?(openBlock(),createElementBlock("div",_hoisted_17$2h,_hoisted_21$1_)):createCommentVNode("",!0),t.watches?(openBlock(),createElementBlock("div",_hoisted_22$1Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.watches,(s,r)=>(openBlock(),createBlock(_sfc_main$4f,{item:s},null,8,["item"]))),256))])):createCommentVNode("",!0),_hoisted_23$1V,createVNode(_sfc_main$4c)],64)}}}),Home=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$4b},Symbol.toStringTag,{value:"Module"})),ProductItemSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$42={key:0,class:"d-flex pb-2"},_hoisted_2$3X={style:{"object-fit":"cover",height:"100%"},class:"rounded-m shadow-xl",width:"110"},_hoisted_3$3N={class:"ml-auto w-100 pl-3"},_hoisted_4$3B={class:"font-14 font-600 opacity-80 pb-2"},_hoisted_5$3t=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_6$3r={class:"font-23 font-700 float-left pt-2"},_hoisted_7$3i=createBaseVNode("sup",{class:"font-15 opacity-50"},".00",-1),_hoisted_8$3b={class:"float-right"},_hoisted_9$36=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_10$2W={key:0,class:"in-cart-count"},_hoisted_11$2Q={key:1,class:"d-flex rounded-m shadow-xs flex-column mb-3"},_hoisted_12$2L={class:"mr-auto w-100"},_hoisted_13$2D={style:{"object-fit":"cover"},class:"rounded-m w-100"},_hoisted_14$2w={class:"ml-auto w-100 px-3"},_hoisted_15$2t={class:"font-14 font-600 opacity-80 pb-2"},_hoisted_16$2q={key:1},_hoisted_17$2g={key:2},_hoisted_18$2b={class:"row text-center row-cols-3 mb-0"},_hoisted_19$25=["href","title"],_hoisted_20$20=["data-src"],_hoisted_21$1Z=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_22$1X={class:"font-23 font-700 float-left pt-2"},_hoisted_23$1U=createBaseVNode("sup",{class:"font-15 opacity-50"},".00",-1),_hoisted_24$1P={class:"float-right"},_hoisted_25$1I=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_26$1C={key:0,class:"in-cart-count"},__default__$2K={props:["item","displayType"],data(){return{showCart:!1}},computed:{...mapGetters(["inCart"]),currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},goToProduct(){this.$router.push({name:"product",params:{productId:this.item.id}})}}},_sfc_main$4a=Object.assign(__default__$2K,{__name:"ProductItemSimple",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[o.displayType==0?(openBlock(),createElementBlock("div",_hoisted_1$42,[createBaseVNode("div",{class:"mr-auto",onClick:a[0]||(a[0]=(...s)=>t.addToCart&&t.addToCart(...s)),style:{"max-height":"100px"}},[withDirectives(createBaseVNode("img",_hoisted_2$3X,null,512),[[i,o.item.images[0]]])]),createBaseVNode("div",_hoisted_3$3N,[createBaseVNode("h5",_hoisted_4$3B,toDisplayString(o.item.title||"не указано"),1),_hoisted_5$3t,createBaseVNode("h3",_hoisted_6$3r,[createTextVNode("₽"+toDisplayString(o.item.current_price||0),1),_hoisted_7$3i]),createBaseVNode("div",_hoisted_8$3b,[createBaseVNode("button",{onClick:a[1]||(a[1]=(...s)=>t.addToCart&&t.addToCart(...s)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark position-relative"},[_hoisted_9$36,t.inCart(o.item.id)>0?(openBlock(),createElementBlock("span",_hoisted_10$2W,toDisplayString(t.inCart(o.item.id)),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0),o.displayType==1?(openBlock(),createElementBlock("div",_hoisted_11$2Q,[createBaseVNode("div",_hoisted_12$2L,[withDirectives(createBaseVNode("img",_hoisted_13$2D,null,512),[[i,o.item.images[0]]])]),createBaseVNode("div",_hoisted_14$2w,[createBaseVNode("h5",_hoisted_15$2t,toDisplayString(o.item.title||"не указано"),1),o.item.simplify?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:0,onClick:a[2]||(a[2]=s=>o.item.simplify=!0),href:"javascript:void(0)",class:"btn btn-m btn-full rounded-sm font-900 shadow-sm text-uppercase collapsed mb-2","aria-expanded":"false"}," Показать описание ")),o.item.simplify?(openBlock(),createElementBlock("p",_hoisted_16$2q,toDisplayString(o.item.description||"Нет описания"),1)):createCommentVNode("",!0),o.item.images.length>1&&o.item.simplify?(openBlock(),createElementBlock("div",_hoisted_17$2g,[createBaseVNode("div",_hoisted_18$2b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.item.images,(s,r)=>(openBlock(),createElementBlock("a",{class:"col mb-2","data-lightbox":"gallery-1",href:s,title:o.item.title},[withDirectives(createBaseVNode("img",{"data-src":s,class:"preload-img img-fluid rounded-xs",alt:"img"},null,8,_hoisted_20$20),[[i,s]])],8,_hoisted_19$25))),256))])])):createCommentVNode("",!0),o.item.simplify?(openBlock(),createElementBlock("a",{key:3,onClick:a[3]||(a[3]=s=>o.item.simplify=!1),href:"javascript:void(0)",class:"btn btn-m btn-full rounded-sm font-900 shadow-sm text-uppercase collapsed mb-2","aria-expanded":"false"}," Скрыть описание ")):createCommentVNode("",!0),_hoisted_21$1Z,createBaseVNode("h3",_hoisted_22$1X,[createTextVNode("₽"+toDisplayString(o.item.current_price||0),1),_hoisted_23$1U]),createBaseVNode("div",_hoisted_24$1P,[createBaseVNode("button",{onClick:a[4]||(a[4]=(...s)=>t.addToCart&&t.addToCart(...s)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark position-relative"},[_hoisted_25$1I,t.inCart(o.item.id)>0?(openBlock(),createElementBlock("span",_hoisted_26$1C,toDisplayString(t.inCart(o.item.id)),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)],64)}}}),_hoisted_1$41={key:0,class:"card card-style"},_hoisted_2$3W={class:"content"},_hoisted_3$3M=createBaseVNode("h3",null,"Наши товары",-1),_hoisted_4$3A={key:0},_hoisted_5$3s={class:"input-style input-style-2 has-icon input-required"},_hoisted_6$3q=createStaticVNode('<p class="mb-0">Цена товара</p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><input class="form-control" type="email" placeholder="От, руб"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><input class="form-control" type="email" placeholder="До, руб"></div></div></div>',2),_hoisted_8$3a={key:0,class:"fa-solid fa-chevron-down mr-2"},_hoisted_9$35={key:1,class:"fa-solid fa-filter mr-2"},_hoisted_10$2V=createBaseVNode("span",{class:"font-14"},"Фильтры товара",-1),_hoisted_11$2P={key:1,class:"card bg-20 mt-4 content rounded-m shadowl"},_hoisted_12$2K=createStaticVNode('<div class="card-body"><h4 class="color-white">Товар отсутствует</h4><p class="color-white"> На текущий момент товар на страницах сайта отсуствтует </p><div class="card card-style ml-0 mr-0 mb-3 bg-white"><div class="content"> You can add more content in here as well. This is used for example on the homepage in the Built for You section. </div></div></div><div class="card-overlay bg-gradient-green1 opacity-95 rounded-m shadow-l"></div><div class="card-overlay dark-mode-tint rounded-m shadow-l"></div>',3),_hoisted_15$2s=[_hoisted_12$2K],_hoisted_16$2p=createBaseVNode("div",{class:"content mb-3"},[createBaseVNode("h5",{class:"float-left font-16 font-500"},"Категории товаров"),createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/categories"},"Посмотреть все"),createBaseVNode("div",{class:"clearfix"})],-1),__default__$2J={data(){return{isCollapsed:!0,search:null,products:[],paginate:null}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products}},mounted(){this.loadProducts()},methods:{nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,baseJS.handler()})}}},_sfc_main$49=Object.assign(__default__$2J,{__name:"Products",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.filteredProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_1$41,[createBaseVNode("div",_hoisted_2$3W,[_hoisted_3$3M,t.isCollapsed?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$3A,[createBaseVNode("div",_hoisted_5$3s,[createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:a[0]||(a[0]=i=>t.loadProducts(0))}),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=i=>t.search=i),type:"name",placeholder:"Найди товар на странице"},null,512),[[vModelText,t.search]])]),_hoisted_6$3q])),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=i=>t.isCollapsed=!t.isCollapsed),class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3"},[t.isCollapsed?(openBlock(),createElementBlock("i",_hoisted_8$3a)):(openBlock(),createElementBlock("i",_hoisted_9$35)),_hoisted_10$2V]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(i,s)=>(openBlock(),createBlock(_sfc_main$4a,{item:i},null,8,["item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_11$2P,_hoisted_15$2s)),_hoisted_16$2p,createVNode(_sfc_main$4c)],64))}}),Products=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$49},Symbol.toStringTag,{value:"Module"})),_hoisted_1$40={key:0,class:"card card-style bg-25 mb-3",style:{height:"270px"}},_hoisted_2$3V={class:"card-center"},_hoisted_3$3L=createBaseVNode("p",{class:"text-center mb-2"},[createBaseVNode("i",{class:"fa-brands fa-shopify color-red2-dark fa-4x"})],-1),_hoisted_4$3z={class:"color-white font-700 text-center mb-0"},_hoisted_5$3r=createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"Вы смотрите товары в данной категории",-1),_hoisted_6$3p={class:"color-white text-center opacity-60 mt-n1 mb-3"},_hoisted_7$3h=createBaseVNode("a",{href:"#/categories",class:"btn btn-m font-900 text-uppercase bg-highlight btn-center-xl"},"Все категории",-1),_hoisted_8$39=createBaseVNode("div",{class:"card-overlay bg-black opacity-80"},null,-1),_hoisted_9$34={key:1,class:"card card-style"},_hoisted_10$2U={class:"content"},_hoisted_11$2O=createBaseVNode("h3",null,"Наши товары",-1),_hoisted_12$2J={class:"collapse",id:"collapse-8",style:{}},_hoisted_13$2C={class:"input-style input-style-2 has-icon input-required"},_hoisted_14$2v=createStaticVNode('<p class="mb-0 pb-1"> Цена: </p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">От, ₽</span><input class="form-control" type="email" placeholder="0 ₽"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">До, ₽</span><input class="form-control" type="email" placeholder="100 ₽"></div></div></div>',2),_hoisted_16$2o=createBaseVNode("a",{"data-toggle":"collapse",href:"#collapse-8",class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3","aria-expanded":"true"},[createBaseVNode("i",{class:"fa-solid fa-filter mr-2"}),createBaseVNode("span",{class:"font-14"},"Фильтры товара")],-1),_hoisted_17$2f={key:2,class:"card bg-20 mt-4 content rounded-m shadowl"},_hoisted_18$2a=createStaticVNode('<div class="card-body"><h4 class="color-white">Товар отсутствует</h4><p class="color-white"> На текущий момент товар на страницах сайта отсуствтует </p><div class="card card-style ml-0 mr-0 mb-3 bg-white"><div class="content"> You can add more content in here as well. This is used for example on the homepage in the Built for You section. </div></div></div><div class="card-overlay bg-gradient-green1 opacity-95 rounded-m shadow-l"></div><div class="card-overlay dark-mode-tint rounded-m shadow-l"></div>',3),_hoisted_21$1Y=[_hoisted_18$2a],_hoisted_22$1W=createBaseVNode("div",{class:"content mb-3"},[createBaseVNode("h5",{class:"float-left font-16 font-500"},"Категории товаров"),createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/categories"},"Посмотреть все"),createBaseVNode("div",{class:"clearfix"})],-1),__default__$2I={data(){return{search:null,category:null,products:[],paginate:null}},watch:{$route(o,t){this.loadCategory(),this.loadProducts()}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products}},mounted(){this.loadCategory(),this.loadProducts()},methods:{nextProducts(o){this.loadProducts(o)},loadCategory(){return this.$store.dispatch("loadCategory",{dataObject:{categoryId:this.$route.params.categoryId}}).then(o=>{this.category=o.data,baseJS.handler()})},loadProducts(o=0){return this.$store.dispatch("loadProductsInCategory",{dataObject:{category_id:this.$route.params.categoryId,search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,baseJS.handler()})}}},_sfc_main$48=Object.assign(__default__$2I,{__name:"ProductsInCategory",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.category?(openBlock(),createElementBlock("div",_hoisted_1$40,[createBaseVNode("div",_hoisted_2$3V,[_hoisted_3$3L,createBaseVNode("h2",_hoisted_4$3z,toDisplayString(t.category.title||"Не указана"),1),_hoisted_5$3r,createBaseVNode("p",_hoisted_6$3p,[createTextVNode("Товаров в категории "),createBaseVNode("strong",null,toDisplayString(t.category.count||0),1)]),_hoisted_7$3h]),_hoisted_8$39])):createCommentVNode("",!0),t.filteredProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_9$34,[createBaseVNode("div",_hoisted_10$2U,[_hoisted_11$2O,createBaseVNode("div",_hoisted_12$2J,[createBaseVNode("div",_hoisted_13$2C,[createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:a[0]||(a[0]=i=>t.loadProducts(0))}),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=i=>t.search=i),type:"name",placeholder:"Найди товар на странице"},null,512),[[vModelText,t.search]])]),_hoisted_14$2v]),_hoisted_16$2o,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(i,s)=>(openBlock(),createBlock(_sfc_main$4a,{item:i},null,8,["item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextProducts,simple:!0,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_17$2f,_hoisted_21$1Y)),_hoisted_22$1W,createVNode(_sfc_main$4c)],64))}}),ProductsInCategory=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$48},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3$={key:0,class:"card card-style"},_hoisted_2$3U={class:"card-top mt-3 mr-3"},_hoisted_3$3K={key:0,href:"#",style:{width:"50px",height:"50px"},class:"btn bg-highlight text-white order-highlight rounded-l shadow-xl d-flex justify-content-center align-items-center float-right mr-0"},_hoisted_4$3y=createBaseVNode("i",{class:"fa fa-heart"},null,-1),_hoisted_5$3q=[_hoisted_4$3y],_hoisted_6$3o={key:1,href:"#",style:{width:"50px",height:"50px"},class:"btn bg-red2-dark rounded-l d-flex justify-content-center align-items-center shadow-xl bg-red2-dark color-white float-right mr-0"},_hoisted_7$3g=createBaseVNode("i",{class:"fa fa-heart"},null,-1),_hoisted_8$38=[_hoisted_7$3g],_hoisted_9$33={class:"card-bottom pb-4 pl-3"},_hoisted_10$2T={class:"font-26",style:{"padding-right":"100px"}},_hoisted_11$2N={class:"card-bottom pb-4 pr-3"},_hoisted_12$2I={class:"font-30 text-right mb-3"},_hoisted_13$2B=createBaseVNode("sup",{class:"font-400 font-17 opacity-50"},".99",-1),_hoisted_14$2u={key:0,class:"badge bg-highlight color-white px-2 py-1 mt-n1 text-uppercase d-block float-right"},_hoisted_15$2r=createBaseVNode("div",{class:"card-overlay bg-gradient-fade rounded-0"},null,-1),_hoisted_16$2n={class:"content mt-n2"},_hoisted_17$2e={class:"row"},_hoisted_18$29={class:"col-12"},_hoisted_19$24={class:"d-flex"},_hoisted_20$1$={class:"pt-1"},_hoisted_21$1X=["data-activate"],_hoisted_22$1V={class:"ml-auto mr-1 pr-2"},_hoisted_23$1T={class:"custom-control classic-switch"},_hoisted_24$1O=["id"],_hoisted_25$1H=["for"],_hoisted_26$1B=createBaseVNode("i",{class:"fa fa-plus font-11 color-green1-dark"},null,-1),_hoisted_27$1x=["data-switch"],_hoisted_28$1v={class:"mb-0 pb-0 pt-2"},_hoisted_29$1q=createStaticVNode('<div class="col-12"><div><p class="font-10 mb-n2">Product Type</p><p class="font-12 color-theme font-700">Mobile PWA</p></div><div><p class="font-10 mb-n2">Code Platform</p><p class="font-12 color-theme font-700">Bootstrap 4.x</p></div><div><p class="font-10 mb-n2">Hybrid App</p><p class="font-12 color-theme font-700">PhoneGap &amp; Cordova</p></div><div><p class="font-10 mb-n2">Support</p><p class="font-12 color-theme font-700">Included</p></div></div>',1),_hoisted_30$1o=createBaseVNode("div",{class:"divider mt-4 mb-2"},null,-1),_hoisted_31$1l={class:"d-flex"},_hoisted_32$1i=createBaseVNode("p",{class:"mb-n1 font-10"},"Рейтинг & Отзывы",-1),_hoisted_33$1h={class:"float-left"},_hoisted_34$1e=createStaticVNode('<div class="ml-auto"><a class="icon icon-s mt-2 mr-2 rounded-m bg-red2-dark color-white" href="#"><i class="fa fa-bookmark"></i></a><a data-menu="menu-share" class="icon icon-s mt-2 rounded-m bg-highlight color-white" href="#"><i class="fa fa-share-alt"></i></a></div>',1),_hoisted_35$1b=createBaseVNode("div",{class:"divider mt-3"},null,-1),_hoisted_36$18={key:0,class:"row text-center mb-3"},_hoisted_37$14={class:"col-4 mb-n2"},_hoisted_38$11=createBaseVNode("i",{class:"fa-solid fa-plus font-22"},null,-1),_hoisted_39$10=[_hoisted_38$11],_hoisted_40$X={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},_hoisted_41$X={class:"font-22"},_hoisted_42$X={class:"col-4 mb-n2"},_hoisted_43$X=createBaseVNode("i",{class:"fa-solid fa-minus font-22"},null,-1),_hoisted_44$W=[_hoisted_43$X],_hoisted_45$W={key:1,class:"row text-center mb-3"},_hoisted_46$V={class:"col-12 mb-n2"},_hoisted_47$R=createBaseVNode("i",{class:"fa-solid fa-cart-plus font-12"},null,-1),_hoisted_48$R=createStaticVNode('<div class="card card-style"><div class="content"><h4 class="font-600">Product Showcase</h4><p class="mb-3"> A classic image slider representing the beautiful power of our product. This image slider can be made either single or double to suit your needs. </p></div><div class="double-slider text-center owl-no-dots owl-carousel"><div class="card rounded-m shadow-l bg-10" data-card-height="220"></div><div class="card rounded-m shadow-l bg-11" data-card-height="220"></div><div class="card rounded-m shadow-l bg-12" data-card-height="220"></div><div class="card rounded-m shadow-l bg-13" data-card-height="220"></div><div class="card rounded-m shadow-l bg-14" data-card-height="220"></div></div></div><div class="card card-style"><div class="content"><h4 class="font-700">Specifications</h4><p> A classic list of specifications that are necessary for products that give minor and major listed details. </p><div class="row mb-0"><div class="col-4"><p class="font-600 mb-n1 color-highlight">PWA</p><p>Compatible</p></div><div class="col-4"><p class="font-600 mb-n1 color-highlight">Platform</p><p>Bootstrap 4.x</p></div><div class="col-4"><p class="font-600 mb-n1 color-highlight">Support</p><p>Included</p></div><div class="w-100 mb-3"></div><div class="col-6"><p class="font-600 mb-n1 color-highlight">Hybrid App</p><p>Cordova or PhoneGap.</p></div><div class="col-6"><p class="font-600 mb-n1 color-highlight">Updates?</p><p>Constant Releases.</p></div></div><div class="divider mt-4"></div><a href="#" class="btn btn-full bg-green1-dark btn-l rounded-sm text-uppercase font-800"><i class="fa fa-shopping-bag pr-3"></i>Purchase Now</a></div></div>',2),_hoisted_50$M={key:1,class:"card card-style"},_hoisted_51$K=createBaseVNode("div",{class:"content"},[createBaseVNode("h3",null,"Другие изображения товара"),createBaseVNode("p",null," A gallery showcasing our product in a better view for you to see. ")],-1),_hoisted_52$K={class:"content"},_hoisted_53$J={class:"row text-center row-cols-3 mb-0"},_hoisted_54$I=["href","title"],_hoisted_55$F=["data-src"],_hoisted_56$E=createStaticVNode('<div class="card card-style"><div class="content"><h3>Testimonials</h3><p> Sharing feedback from our customers is always makes us happy. </p></div><div class="divider divider-margins"></div><div class="content mt-0"><h1 class="mb-n2 font-15 font-700">John Doeson</h1><h1 class="float-right font-700 font-30 mt-n3">5.00</h1><p class="mb-2 font-10"><i class="fa fa-check-circle color-highlight scale-icon mr-2"></i>Verified Purchase </p><p> The best support I have ever had. They are on top of things and with very fast and accurate replies.. </p></div><div class="divider divider-margins"></div><div class="content mt-0"><h1 class="mb-n2 font-15 font-700">Louder Johanna</h1><h1 class="float-right font-700 font-30 mt-n3">4.00</h1><p class="mb-2 font-10"><i class="fa fa-check-circle color-highlight scale-icon mr-2"></i>Verified Purchase </p><p> I hope they will keep the support they deliver, because for me that&#39;s the most important part of buying. </p></div><div class="divider divider-margins"></div><div class="content mt-0"><h1 class="mb-n2 font-15 font-700">Louder Johanna</h1><h1 class="float-right font-700 font-30 mt-n3">4.50</h1><p class="mb-2 font-10"><i class="fa fa-check-circle color-highlight scale-icon mr-2"></i>Verified Purchase </p><p> I like the way it&#39;s setup, did had to do some research before I got to know how it works though. </p></div><div class="content mt-0"><div class="divider"></div><div class="row mb-0"><div class="col-6"><a href="#" class="btn btn-full bg-green1-dark btn-m rounded-sm text-uppercase font-800">Purchase Now</a></div><div class="col-6"><a href="#" class="btn btn-full bg-highlight btn-m rounded-sm text-uppercase font-800">Add to Cart</a></div></div></div></div><div class="card mt-4 preload-img" data-src="images/pictures/20s.jpg"><div class="card-body"><h2 class="color-white font-700 pt-3">Recommended</h2><p class="color-white opacity-70 mb-4"> We recommend some more awesome products for you! Swipe left or right to check them out. </p><div class="double-slider owl-carousel owl-no-dots"><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-14"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">Sticky <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-18"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">AppKit <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-14"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">Kolor <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-18"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">Ultra <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-18"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">AMP <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a></div><a href="#" class="btn btn-full btn-m font-900 rounded-sm text-uppercase bg-white color-highlight">View All</a></div><div class="card-overlay bg-highlight opacity-95"></div><div class="card-overlay dark-mode-tint"></div></div>',2),__default__$2H={data(){return{product:null}},computed:{...mapGetters(["inCart","cartTotalCount"]),currentBot(){return window.currentBot},discount(){return Math.round(100-this.product.current_price/this.product.old_price*100)},currentPrice(){return this.product.current_price},checkInCart(){return this.inCart(this.product.id)}},mounted(){this.loadProduct()},methods:{incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Успешно добавлено в корзину!")},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Товар удален!")},loadProduct(){let o=this.$route.params.productId;this.$store.dispatch("loadProduct",{dataObject:{productId:o}}).then(t=>{this.product=t.data,this.$store.dispatch("addToWatch",this.product),baseJS.handler()})}}},_sfc_main$47=Object.assign(__default__$2H,{__name:"Product",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.product?(openBlock(),createElementBlock("div",_hoisted_1$3$,[createBaseVNode("div",{class:"card",style:normalizeStyle([{"background-image":"url("+(t.product.images[0]||"")+")"},{height:"250px"}])},[createBaseVNode("div",_hoisted_2$3U,[t.product.in_favorite?(openBlock(),createElementBlock("a",_hoisted_3$3K,_hoisted_5$3q)):(openBlock(),createElementBlock("a",_hoisted_6$3o,_hoisted_8$38))]),createBaseVNode("div",_hoisted_9$33,[createBaseVNode("h1",_hoisted_10$2T,toDisplayString(t.product.title||"Не указан"),1)]),createBaseVNode("div",_hoisted_11$2N,[createBaseVNode("h1",_hoisted_12$2I,[createTextVNode(toDisplayString(t.product.current_price||0),1),_hoisted_13$2B]),t.product.old_price>0?(openBlock(),createElementBlock("span",_hoisted_14$2u,toDisplayString(t.discount)+"% Скидка",1)):createCommentVNode("",!0)]),_hoisted_15$2r],4),createBaseVNode("div",_hoisted_16$2n,[createBaseVNode("div",_hoisted_17$2e,[createBaseVNode("div",_hoisted_18$29,[createBaseVNode("div",_hoisted_19$24,[createBaseVNode("div",_hoisted_20$1$,[createBaseVNode("h5",{"data-activate":"toggle-id-5-"+t.product.id,class:"font-500 font-13"},"Полное описание товара",8,_hoisted_21$1X)]),createBaseVNode("div",_hoisted_22$1V,[createBaseVNode("div",_hoisted_23$1T,[createBaseVNode("input",{type:"checkbox",class:"classic-input",id:"toggle-id-5-"+t.product.id},null,8,_hoisted_24$1O),createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-5-"+t.product.id},null,8,_hoisted_25$1H),_hoisted_26$1B])])]),createBaseVNode("div",{"data-switch":"toggle-id-5-"+t.product.id,class:"switch-is-unchecked"},[createBaseVNode("p",_hoisted_28$1v,toDisplayString(t.product.description||"Нет описания"),1)],8,_hoisted_27$1x)]),_hoisted_29$1q]),_hoisted_30$1o,createBaseVNode("div",_hoisted_31$1l,[createBaseVNode("div",null,[_hoisted_32$1i,createBaseVNode("h6",_hoisted_33$1h,toDisplayString(t.product.rating),1),createVNode(Rating,{rating:t.product.rating},null,8,["rating"])]),_hoisted_34$1e]),_hoisted_35$1b,t.checkInCart>0?(openBlock(),createElementBlock("div",_hoisted_36$18,[createBaseVNode("div",_hoisted_37$14,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=(...s)=>t.incProductCart&&t.incProductCart(...s)),class:"btn p-2 w-100 bg-highlight rounded-s shadow-l"},_hoisted_39$10)]),createBaseVNode("div",_hoisted_40$X,[createBaseVNode("strong",_hoisted_41$X,toDisplayString(t.checkInCart),1)]),createBaseVNode("div",_hoisted_42$X,[createBaseVNode("button",{onClick:a[1]||(a[1]=(...s)=>t.decProductCart&&t.decProductCart(...s)),type:"button",class:"btn p-2 w-100 bg-red1-dark rounded-s shadow-l"},_hoisted_44$W)])])):(openBlock(),createElementBlock("div",_hoisted_45$W,[createBaseVNode("div",_hoisted_46$V,[createBaseVNode("button",{type:"button",onClick:a[2]||(a[2]=(...s)=>t.incProductCart&&t.incProductCart(...s)),class:"btn btn-full bg-highlight btn-l rounded-sm text-uppercase font-800 w-100 p-3"},[_hoisted_47$R,createTextVNode(" В корзину "),createBaseVNode("strong",null,toDisplayString(t.currentPrice)+"₽",1)])])]))])])):createCommentVNode("",!0),_hoisted_48$R,t.product?(openBlock(),createElementBlock("div",_hoisted_50$M,[_hoisted_51$K,createBaseVNode("div",_hoisted_52$K,[createBaseVNode("div",_hoisted_53$J,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.product.images,(s,r)=>(openBlock(),createElementBlock("a",{class:"col mb-2","data-lightbox":"gallery-1",href:s,title:t.product.title},[withDirectives(createBaseVNode("img",{"data-src":s,class:"preload-img img-fluid rounded-xs",alt:"img"},null,8,_hoisted_55$F),[[i,s]])],8,_hoisted_54$I))),256))])])])):createCommentVNode("",!0),_hoisted_56$E],64)}}}),Product$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$47},Symbol.toStringTag,{value:"Module"})),_sfc_main$46={},_hoisted_1$3_={class:"card bg-20 mt-4 content rounded-m shadowl"},_hoisted_2$3T={class:"card-body"},_hoisted_3$3J={class:"color-white"},_hoisted_4$3x={class:"color-white"},_hoisted_5$3p={class:"card card-style ml-0 mr-0 mb-3 bg-white"},_hoisted_6$3n={class:"content"},_hoisted_7$3f=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-85 rounded-m shadow-l"},null,-1),_hoisted_8$37=createBaseVNode("div",{class:"card-overlay dark-mode-tint rounded-m shadow-l"},null,-1);function _sfc_render$1m(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$3_,[createBaseVNode("div",_hoisted_2$3T,[createBaseVNode("h4",_hoisted_3$3J,[renderSlot(o.$slots,"title")]),createBaseVNode("p",_hoisted_4$3x,[renderSlot(o.$slots,"head")]),createBaseVNode("div",_hoisted_5$3p,[createBaseVNode("div",_hoisted_6$3n,[renderSlot(o.$slots,"body")])])]),_hoisted_7$3f,_hoisted_8$37])}const EmptyCard=_export_sfc(_sfc_main$46,[["render",_sfc_render$1m]]),_hoisted_1$3Z={key:0,class:"card card-style"},_hoisted_2$3S={class:"content"},_hoisted_3$3I=createBaseVNode("h3",null,"Наши товары",-1),_hoisted_4$3w={class:"collapse",id:"collapse-8",style:{}},_hoisted_5$3o={class:"input-style input-style-2 has-icon input-required"},_hoisted_6$3m=createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass"},null,-1),_hoisted_7$3e=createStaticVNode('<p class="mb-0 pb-1"> Цена: </p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">От, ₽</span><input class="form-control" type="email" placeholder="0 ₽"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">До, ₽</span><input class="form-control" type="email" placeholder="100 ₽"></div></div></div>',2),_hoisted_9$32=createBaseVNode("a",{"data-toggle":"collapse",href:"#collapse-8",class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3","aria-expanded":"true"},[createBaseVNode("i",{class:"fa-solid fa-filter mr-2"}),createBaseVNode("span",{class:"font-14"},"Фильтры избранного товара")],-1),__default__$2G={data(){return{search:null}},computed:{...mapGetters(["getSelf","getFavorites"]),currentBot(){return window.currentBot},self(){return this.getSelf}},mounted(){this.getFavorites.length>0&&this.loadActualPriceInFav()},methods:{loadActualPriceInFav(){this.$store.dispatch("loadActualPriceInFav")}}},_sfc_main$45=Object.assign(__default__$2G,{__name:"Favorites",setup(o){return(t,a)=>t.getFavorites.length>0?(openBlock(),createElementBlock("div",_hoisted_1$3Z,[createBaseVNode("div",_hoisted_2$3S,[_hoisted_3$3I,createBaseVNode("div",_hoisted_4$3w,[createBaseVNode("div",_hoisted_5$3o,[_hoisted_6$3m,withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),type:"name",placeholder:"Найди товар на странице"},null,512),[[vModelText,t.search]])]),_hoisted_7$3e]),_hoisted_9$32,t.getFavorites.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.getFavorites,(i,s)=>(openBlock(),createBlock(_sfc_main$4a,{item:i},null,8,["item"]))),256)):createCommentVNode("",!0)])])):(openBlock(),createBlock(EmptyCard,{key:1},{title:withCtx(()=>[createTextVNode(" Товар отсутствует ")]),head:withCtx(()=>[createTextVNode(" На текущий момент товар на страницах сайта отсуствтует ")]),body:withCtx(()=>[createTextVNode(" Вы можете перейти в раздел товаров и попробовать добавить что-то в корзину или избранное ")]),_:1}))}}),Favorites=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$45},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3Y={key:0,class:"card card-style"},_hoisted_2$3R={class:"content"},_hoisted_3$3H=createBaseVNode("div",{class:"divider mt-3"},null,-1),_hoisted_4$3v=createBaseVNode("h4",null,"Итого",-1),_hoisted_5$3n=createBaseVNode("p",null," Ниже приведена итоговая цена заказа без учета стоимости доставки. Цена доставки расчитывается отдельно и зависит от расстояния. ",-1),_hoisted_6$3l={class:"row mb-0"},_hoisted_7$3d={key:0,class:"col-6 text-left"},_hoisted_8$36={class:"font-600"},_hoisted_9$31={class:"col-2 text-center"},_hoisted_10$2S={class:"font-600"},_hoisted_11$2M={key:1,class:"col-4 text-right"},_hoisted_12$2H={class:"font-600"},_hoisted_13$2A=createBaseVNode("sup",null,".00",-1),_hoisted_14$2t=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_15$2q={class:"row mb-0"},_hoisted_16$2m=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, ед.")],-1),_hoisted_17$2d={class:"col-6 text-right"},_hoisted_18$28=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, цена")],-1),_hoisted_19$23={class:"col-6 text-right"},_hoisted_20$1_=createBaseVNode("sup",null,".00",-1),_hoisted_21$1W=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_22$1U=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_23$1S=createBaseVNode("span",{class:"color-white"},"Перейти к оформлению",-1),_hoisted_24$1N=[_hoisted_22$1U,_hoisted_23$1S],__default__$2F={computed:{...mapGetters(["cartProducts","cartTotalCount","cartTotalPrice"]),tg(){return window.Telegram.WebApp}},mounted(){this.cartProducts.length>0&&this.loadActualProducts()},methods:{loadActualProducts(){this.$store.dispatch("loadActualPriceInCart")},startCheckout(){console.log("startCheckout"),this.$store.dispatch("startCheckout"),this.tg.close()}}},_sfc_main$44=Object.assign(__default__$2F,{__name:"Basket",setup(o){return(t,a)=>t.cartProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_1$3Y,[createBaseVNode("div",_hoisted_2$3R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(i,s)=>(openBlock(),createBlock(_sfc_main$4a,{item:i.product},null,8,["item"]))),256)),_hoisted_3$3H,_hoisted_4$3v,_hoisted_5$3n,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_6$3l,[i.product?(openBlock(),createElementBlock("div",_hoisted_7$3d,[createBaseVNode("h6",_hoisted_8$36,toDisplayString(i.product.title||"Не указано"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$31,[createBaseVNode("h6",_hoisted_10$2S,"x"+toDisplayString(i.quantity||1),1)]),i.product?(openBlock(),createElementBlock("div",_hoisted_11$2M,[createBaseVNode("h6",_hoisted_12$2H,[createTextVNode(toDisplayString(i.product.current_price)+" ",1),_hoisted_13$2A,createTextVNode("₽")])])):createCommentVNode("",!0)]))),256)),_hoisted_14$2t,createBaseVNode("div",_hoisted_15$2q,[_hoisted_16$2m,createBaseVNode("div",_hoisted_17$2d,[createBaseVNode("h4",null,toDisplayString(t.cartTotalCount)+" шт.",1)]),_hoisted_18$28,createBaseVNode("div",_hoisted_19$23,[createBaseVNode("h4",null,[createTextVNode(toDisplayString(t.cartTotalPrice),1),_hoisted_20$1_,createTextVNode("₽")])])]),_hoisted_21$1W,createBaseVNode("button",{onClick:a[0]||(a[0]=(...i)=>t.startCheckout&&t.startCheckout(...i)),class:"btn btn-full btn-sm rounded-s bg-highlight font-800 text-uppercase w-100"},_hoisted_24$1N)])])):(openBlock(),createBlock(EmptyCard,{key:1},{title:withCtx(()=>[createTextVNode(" Товар отсутствует ")]),head:withCtx(()=>[createTextVNode(" На текущий момент товар на страницах сайта отсуствтует ")]),body:withCtx(()=>[createTextVNode(" Вы можете перейти в раздел товаров и попробовать добавить что-то в корзину или избранное ")]),_:1}))}}),Basket=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$44},Symbol.toStringTag,{value:"Module"})),_sfc_main$43={computed:{tg(){return window.Telegram.WebApp}},methods:{close(){if(!this.tg){this.$botNotification.warning("Ошибочка","Вы находитесь не в боте!");return}this.tg.close()}}};function _sfc_render$1l(o,t,a,i,s,r){return openBlock(),createElementBlock("button",{onClick:t[0]||(t[0]=(...n)=>r.close&&r.close(...n)),type:"button",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light w-100"}," Вернуться в бота ")}const ReturnToBot=_export_sfc(_sfc_main$43,[["render",_sfc_render$1l]]),_hoisted_1$3X={class:"card card-style"},_hoisted_2$3Q={class:"content mb-0"},_hoisted_3$3G={key:0},_hoisted_4$3u={key:1},_hoisted_5$3m={key:2},_hoisted_6$3k={key:3},_hoisted_7$3c={class:"input-style input-style-2 has-icon"},_hoisted_8$35=createBaseVNode("i",{class:"input-icon fa fa-user"},null,-1),_hoisted_9$30={class:"input-style input-style-2 has-icon"},_hoisted_10$2R=createBaseVNode("i",{class:"input-icon fa-solid fa-phone"},null,-1),_hoisted_11$2L={class:"input-style input-style-2 has-icon"},_hoisted_12$2G=createBaseVNode("span",{class:"input-style-1-active input-style-1-inactive"},"Ваше сообщение",-1),_hoisted_13$2z=createBaseVNode("i",{class:"input-icon fa-solid fa-envelope-open-text"},null,-1),_hoisted_14$2s=createBaseVNode("em",null,"(нужно)",-1),_hoisted_15$2p=["disabled"],__default__$2E={props:["type"],data(){return{sending:!1,callbackForm:{name:null,phone:null,message:null}}},computed:{self(){return window.self}},mounted(){this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null,this.type==="booking"&&(this.callbackForm.message="Добрый день! Я хочу забронировать столик! Перезвоните мне.")},methods:{submitCallback(){let o=new FormData;this.sending=!0,Object.keys(this.callbackForm).forEach(t=>{const a=this.callbackForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.type&&o.append("type",this.type),this.$store.dispatch("callbackForm",{callbackForm:o}).then(t=>{this.callbackForm={message:null,name:null,phone:null},this.$botNotification.success("Обратная связь","Спасибо за сообщение"),this.sending=!1}).catch(t=>{this.sending=!1})}}},_sfc_main$42=Object.assign(__default__$2E,{__name:"CallbackForm",setup(o){return(t,a)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock("div",_hoisted_1$3X,[createBaseVNode("div",_hoisted_2$3Q,[o.type?createCommentVNode("",!0):(openBlock(),createElementBlock("h3",_hoisted_3$3G,"Обратная связь")),o.type==="booking"?(openBlock(),createElementBlock("h3",_hoisted_4$3u,"Бронирование столика")):createCommentVNode("",!0),o.type?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_5$3m," Вы можете оставить нам сообщение с пожеланиями по улучшению сервиса! ")),o.type==="booking"?(openBlock(),createElementBlock("p",_hoisted_6$3k," Укажите в текстовом сообщение критерии бронирования столика, или же оставьте сообщение без изменений! ")):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:a[3]||(a[3]=withModifiers((...s)=>t.submitCallback&&t.submitCallback(...s),["prevent"]))},[createBaseVNode("div",_hoisted_7$3c,[_hoisted_8$35,withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t.callbackForm.name=s),type:"text",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,t.callbackForm.name]])]),createBaseVNode("div",_hoisted_9$30,[_hoisted_10$2R,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[1]||(a[1]=s=>t.callbackForm.phone=s),placeholder:"+7(000)000-00-00",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.callbackForm.phone]])]),createBaseVNode("div",_hoisted_11$2L,[_hoisted_12$2G,_hoisted_13$2z,_hoisted_14$2s,withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%",padding:"35px"},"onUpdate:modelValue":a[2]||(a[2]=s=>t.callbackForm.message=s),type:"text",placeholder:"",required:""},null,512),[[vModelText,t.callbackForm.message]])]),createBaseVNode("button",{type:"submit",disabled:t.sending,class:"btn btn-full btn-m shadow-l rounded-s text-uppercase font-900 bg-green1-dark my-2 w-100"}," Отправить сообщение ",8,_hoisted_15$2p),createVNode(ReturnToBot,{class:"my-2"})],32)])])}}}),_sfc_main$41={data(){return{sending:!1,form:{name:null,phone:null}}},computed:{self(){return window.self}},mounted(){baseJS.handler(),this.form.name=this.self.fio_from_telegram||this.self.name,this.form.phone=this.self.phone||null},methods:{submit(){this.$emit("callback",this.form)}}},_hoisted_1$3W=["disabled"];function _sfc_render$1k(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[renderSlot(o.$slots,"head"),createBaseVNode("form",{onSubmit:t[0]||(t[0]=withModifiers((...n)=>r.submit&&r.submit(...n),["prevent"]))},[createBaseVNode("button",{type:"submit",disabled:s.sending,class:"btn btn-full btn-m shadow-l rounded-s text-uppercase font-900 bg-green1-dark w-100"}," Начать ",8,_hoisted_1$3W)],32)],64)}const PlayerForm=_export_sfc(_sfc_main$41,[["render",_sfc_render$1k]]),Schedule_vue_vue_type_style_index_0_lang="",_hoisted_1$3V={class:"card card-style"},_hoisted_2$3P=createBaseVNode("div",{class:"card-top"},[createBaseVNode("a",{id:"business-hours-mail",href:"#goto",class:"float-right btn btn-xs rounded-xl text-uppercase font-900 mt-5 mr-3 bg-white color-black"},"Написать нам")],-1),_hoisted_3$3F={key:0,class:"card-top mt-4 ml-3 pl-1"},_hoisted_4$3t=createBaseVNode("h1",{class:"color-white mt-1 font-20 font-700"},"Извините! мы закрыты!",-1),_hoisted_5$3l={class:"color-white opacity-90 mt-n2 mb-0"},_hoisted_6$3j={key:1,class:"card-top mt-4 ml-3 pl-1"},_hoisted_7$3b=createBaseVNode("h1",{class:"color-white mt-1 font-20 font-700"},"Мы открыты!",-1),_hoisted_8$34={class:"color-white opacity-90 mt-n2 mb-0"},_hoisted_9$2$={class:"content"},_hoisted_10$2Q=createBaseVNode("div",{class:"working-hours"},[createBaseVNode("p",null,[createBaseVNode("strong",null,"День недели")]),createBaseVNode("p",null,[createBaseVNode("strong",null,"Начало работы")]),createBaseVNode("p",null,[createBaseVNode("strong",null,"Конец работы")])],-1),_hoisted_11$2K={key:0},_hoisted_12$2F={key:1},_hoisted_13$2y={class:"ml-3 mr-3 alert alert-small rounded-s shadow-xl bg-green1-dark",role:"alert"},_hoisted_14$2r=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa fa-check"})],-1),_hoisted_15$2o=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"×",-1),_hoisted_16$2l={class:"ml-3 mr-3 alert alert-small rounded-s shadow-xl bg-red2-dark",role:"alert"},_hoisted_17$2c=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa fa-times-circle"})],-1),_hoisted_18$27=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"×",-1),_hoisted_19$22=createBaseVNode("div",{class:"divider divider-margins"},null,-1),__default__$2D={name:"App",data(){return{current_day:1,schedule:null,is_work:!1,opened_comment:null,closed_comment:null}},mounted(){this.loadServiceData().then(()=>{})},methods:{loadServiceData(){return this.$store.dispatch("scheduleLoadData").then(o=>{this.schedule=o.schedule,this.current_day=o.current_day,this.is_work=o.is_work,this.opened_comment=o.opened_comment,this.closed_comment=o.closed_comment,console.log(this.schedule)})}}},_sfc_main$40=Object.assign(__default__$2D,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3V,[createBaseVNode("div",{class:normalizeClass(["caption shadow-xl",{"bg-red2-dark is-business-closed":!t.is_work,"bg-green1-dark is-business-opened":t.is_work}]),style:{height:"120px"}},[_hoisted_2$3P,t.is_work?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$3F,[_hoisted_4$3t,createBaseVNode("p",_hoisted_5$3l,toDisplayString(t.closed_comment||"не указано"),1)])),t.is_work?(openBlock(),createElementBlock("div",_hoisted_6$3j,[_hoisted_7$3b,createBaseVNode("p",_hoisted_8$34,toDisplayString(t.opened_comment||"не указано"),1)])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["caption-overlay show-business-opened bg-green1-dark",{disabled:!t.is_work}])},null,2),createBaseVNode("div",{class:normalizeClass(["caption-overlay show-business-closed bg-red2-dark",{disabled:t.is_work}])},null,2)],2),createBaseVNode("div",_hoisted_9$2$,[_hoisted_10$2Q,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.schedule,(i,s)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["working-hours",{"bg-green1-dark":t.current_day==s&&t.is_work,"bg-red2-dark":t.current_day==s&&!t.is_work}])},[i.closed?(openBlock(),createElementBlock("div",_hoisted_11$2K,[createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==s}])},toDisplayString(i.day),3),createBaseVNode("p",{class:normalizeClass(["text-center opacity-00",{"text-white":t.current_day==s}])},"-",2),createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==s}])},"Не работает",2)])):(openBlock(),createElementBlock("div",_hoisted_12$2F,[createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==s}])},toDisplayString(i.day),3),createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==s}])},toDisplayString(i.start_at),3),createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==s}])},toDisplayString(i.end_at),3)]))],2))),256))])]),createBaseVNode("div",{class:normalizeClass(["show-business-opened mb-4",{disabled:!t.is_work}])},[createBaseVNode("div",_hoisted_13$2y,[_hoisted_14$2r,createBaseVNode("strong",null,toDisplayString(t.opened_comment||"Не указано"),1),_hoisted_15$2o])],2),createBaseVNode("div",{class:normalizeClass(["show-business-closed mb-4",{disabled:t.is_work}])},[createBaseVNode("div",_hoisted_16$2l,[_hoisted_17$2c,createBaseVNode("strong",null,toDisplayString(t.closed_comment||"Не указано"),1),_hoisted_18$27])],2),_hoisted_19$22,createVNode(_sfc_main$42,{id:"goto",name:"goto"})],64))}}),Schedule=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$40},Symbol.toStringTag,{value:"Module"})),_sfc_main$3$={props:["quiz","needReturn"],data(){return{types:["По порядку","Перемешать всё","Перемешать ответы","Перемешать вопросы"]}},mounted(){},computed:{isCompleted(){return!1}},methods:{returnBack(){this.$emit("return")},selectQuiz(o){this.$store.dispatch("startQuiz",{quiz_id:this.quiz.id}).then(t=>{}).catch(()=>{}),this.$emit("select",o)},openLinkModal(){let o=window.currentScript||null;this.$cashback.qr("005000000"+o)}}},_hoisted_1$3U={class:"px-1"},_hoisted_2$3O={key:0,class:"card w-100 shadow-xl rounded-sm"},_hoisted_3$3E={key:0,class:"card-img-top rounded-m p-2",alt:"..."},_hoisted_4$3s={class:"card-body"},_hoisted_5$3k={class:"card-title"},_hoisted_6$3i={class:"card-text"},_hoisted_7$3a={class:"list-group list-group-flush"},_hoisted_8$33={key:0,class:"list-group-item text-center text-danger"},_hoisted_9$2_={class:"list-group-item"},_hoisted_10$2P=createBaseVNode("i",{class:"fa-solid fa-shuffle"},null,-1),_hoisted_11$2J={key:1,class:"list-group-item"},_hoisted_12$2E=createBaseVNode("i",{class:"fa-solid fa-stopwatch-20"},null,-1),_hoisted_13$2x={key:2,class:"list-group-item"},_hoisted_14$2q={key:3,class:"list-group-item"},_hoisted_15$2n={key:4,class:"list-group-item"},_hoisted_16$2k=createBaseVNode("i",{class:"fa-regular fa-circle-question"},null,-1),_hoisted_17$2b={key:5,class:"list-group-item"},_hoisted_18$26=createBaseVNode("i",{class:"fa-solid fa-person-circle-question"},null,-1),_hoisted_19$21={key:6,class:"list-group-item"},_hoisted_20$1Z=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_21$1V={key:1,class:"card-body"},_hoisted_22$1T=["disabled"],_hoisted_23$1R={key:1,class:"alert alert-warning"},_hoisted_24$1M={key:2,class:"divider divider-small my-3 bg-highlight"},_hoisted_25$1G={key:2,class:"card-body"},_hoisted_26$1A={class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},_hoisted_27$1w={class:"card-center"},_hoisted_28$1u={class:"color-white font-700 text-center mb-0"},_hoisted_29$1p={class:"color-white text-center opacity-60 mt-n1 mb-0"},_hoisted_30$1n={key:0,class:"color-white text-center opacity-60 mt-n1 mb-0"},_hoisted_31$1k=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),_hoisted_32$1h={key:0,class:"divider divider-small my-3 bg-highlight"};function _sfc_render$1j(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$3U,[a.quiz?(openBlock(),createElementBlock("div",_hoisted_2$3O,[a.quiz.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_3$3E,null,512)),[[n,"/file-by-file-id/"+a.quiz.image]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$3s,[createBaseVNode("h5",_hoisted_5$3k,toDisplayString(a.quiz.title||"нет заголовка"),1),createBaseVNode("p",_hoisted_6$3i,toDisplayString(a.quiz.description||"нет заголовка"),1)]),createBaseVNode("ul",_hoisted_7$3a,[a.quiz.is_active?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_8$33,"Квиз недоступен")),createBaseVNode("li",_hoisted_9$2_,[_hoisted_10$2P,createTextVNode(" "+toDisplayString(s.types[a.quiz.display_type]),1)]),a.quiz.round_mode?(openBlock(),createElementBlock("li",_hoisted_11$2J,[_hoisted_12$2E,createTextVNode(" на вопрос "+toDisplayString(a.quiz.time_limit)+" сек ",1)])):createCommentVNode("",!0),a.quiz.round_mode?(openBlock(),createElementBlock("li",_hoisted_13$2x,"Режим викторины (квиза) ")):createCommentVNode("",!0),a.quiz.polling_mode?(openBlock(),createElementBlock("li",_hoisted_14$2q,"Режим опроса ")):createCommentVNode("",!0),(a.quiz.questions||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_15$2n,[_hoisted_16$2k,createTextVNode(" Число вопросов "+toDisplayString((a.quiz.questions||[]).length),1)])):createCommentVNode("",!0),!a.quiz.polling_mode&&(a.quiz.commands||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_17$2b,[_hoisted_18$26,createTextVNode(" Число команд "+toDisplayString((a.quiz.commands||[]).length),1)])):createCommentVNode("",!0),a.quiz.polling_mode?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_19$21,[_hoisted_20$1Z,createBaseVNode("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...l)=>r.openLinkModal&&r.openLinkModal(...l))},"Поделиться ссылкой")]))]),r.isCompleted?(openBlock(),createElementBlock("div",_hoisted_25$1G,[createBaseVNode("div",_hoisted_26$1A,[createBaseVNode("div",_hoisted_27$1w,[createBaseVNode("h3",_hoisted_28$1u," Баллов "+toDisplayString(a.quiz.personal_info.result_points||0),1),createBaseVNode("p",_hoisted_29$1p," Попытки "+toDisplayString(a.quiz.personal_info.current_attempts||0)+" / "+toDisplayString(a.quiz.personal_info.max_attempts||0),1),a.quiz.personal_info.completed_at!=null?(openBlock(),createElementBlock("p",_hoisted_30$1n,toDisplayString(o.$filters.currentFull(a.quiz.personal_info.completed_at)),1)):createCommentVNode("",!0)]),_hoisted_31$1k]),a.needReturn?(openBlock(),createElementBlock("div",_hoisted_32$1h)):createCommentVNode("",!0),a.needReturn?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",onClick:t[3]||(t[3]=(...l)=>r.returnBack&&r.returnBack(...l)),class:"btn btn-m btn-full mb-3 rounded-l text-uppercase font-900 shadow-s bg-red1-dark"},"Вернуться назад")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_21$1V,[(a.quiz.questions||[]).length>0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:t[1]||(t[1]=l=>r.selectQuiz(a.quiz)),disabled:!a.quiz.is_active,class:"btn btn-m w-100 btn-full mb-3 rounded-xl text-uppercase font-900 shadow-s bg-blue1-dark"},"Начать ",8,_hoisted_22$1T)):(openBlock(),createElementBlock("div",_hoisted_23$1R,"Вы не можете сейчас начать квиз! В нём нет вопросов!")),a.needReturn?(openBlock(),createElementBlock("div",_hoisted_24$1M)):createCommentVNode("",!0),a.needReturn?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:t[2]||(t[2]=(...l)=>r.returnBack&&r.returnBack(...l)),class:"btn btn-m btn-full mb-3 rounded-l text-uppercase font-900 shadow-s bg-red1-dark"},"Вернуться назад")):createCommentVNode("",!0)]))])):createCommentVNode("",!0)])}const QuizItem=_export_sfc(_sfc_main$3$,[["render",_sfc_render$1j]]),_sfc_main$3_={props:["quiz"],data(){return{types:["По порядку","Перемешать всё","Перемешать ответы","Перемешать вопросы"]}},computed:{isCompleted(){return!1}},methods:{selectQuiz(o){this.$store.dispatch("startQuiz",{quiz_id:this.quiz.id}).then(t=>{}).catch(()=>{}),this.$emit("select",o)},openLinkModal(o){this.$cashback.qr("007quiz"+o)}}},_hoisted_1$3T={key:0,class:"card card-style bg-1",style:{height:"200px"}},_hoisted_2$3N={class:"card-center"},_hoisted_3$3D={class:"color-white font-700 text-center mb-0"},_hoisted_4$3r={class:"color-white text-center opacity-60 mt-n1 mb-3"},_hoisted_5$3j=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1);function _sfc_render$1i(o,t,a,i,s,r){return a.quiz?(openBlock(),createElementBlock("div",_hoisted_1$3T,[createBaseVNode("div",_hoisted_2$3N,[createBaseVNode("h2",_hoisted_3$3D,toDisplayString(a.quiz.title||"нет заголовка"),1),createBaseVNode("p",_hoisted_4$3r,toDisplayString(a.quiz.description||"нет заголовка"),1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-m rounded-l font-900 text-uppercase bg-highlight btn-center-xl",onClick:t[0]||(t[0]=n=>r.selectQuiz(a.quiz))},"Детальнее о квизе")]),_hoisted_5$3j])):createCommentVNode("",!0)}const QuizItemSimple=_export_sfc(_sfc_main$3_,[["render",_sfc_render$1i]]),_hoisted_1$3S={class:"row mb-0"},_hoisted_2$3M=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"text-center"},"Квизы для вас")],-1),_hoisted_3$3C={key:0,class:"col-12 py-2"},_hoisted_4$3q={key:1,class:"col-12"},__default__$2C={data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,quizzes:[],search:null,paginate_object:null}},computed:{...mapGetters(["getQuizzes","getQuizzesPaginateObject"])},mounted(){this.loadQuizzes()},methods:{openQuiz(o){this.$emit("open",o)},removeQuiz(o){this.loading=!0,this.$store.dispatch("removeQuiz",{quizId:o}).then(t=>{this.loading=!1,this.loadQuizzes(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},createQuiz(){this.$emit("create")},nextQuizzes(o){this.loadQuizzes(o)},selectEvent(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizzes(0)},loadQuizzes(o=0){this.loading=!0,this.$store.dispatch("loadQuizzes",{dataObject:{search:this.search,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.quizzes=this.getQuizzes,this.paginate_object=this.getQuizzesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3Z=Object.assign(__default__$2C,{__name:"QuizList",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3S,[_hoisted_2$3M,t.quizzes.length>0?(openBlock(),createElementBlock("div",_hoisted_3$3C,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.quizzes,(i,s)=>(openBlock(),createBlock(QuizItemSimple,{onSelect:t.openQuiz,quiz:i},null,8,["onSelect","quiz"]))),256))])):createCommentVNode("",!0),t.quizzes.length>0?(openBlock(),createElementBlock("div",_hoisted_4$3q,[t.paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextQuizzes,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}}),BotMediaObject_vue_vue_type_style_index_0_lang="",_sfc_main$3Y={props:["type","content"],data(){return{url:null}},mounted(){this.url="https://media.your-cashman.com/"}},_hoisted_1$3R={class:"d-flex justify-content-center"},_hoisted_2$3L=["src"],_hoisted_3$3B=["src"],_hoisted_4$3p={key:2,class:"w-100",alt:""},_hoisted_5$3i={key:3,class:"w-100",alt:""},_hoisted_6$3h=["src"],_hoisted_7$39=["src"];function _sfc_render$1h(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$3R,[(a.type=="video"||a.type=="video_note")&&a.content.indexOf("http")==-1?(openBlock(),createElementBlock("video",{key:0,class:normalizeClass(["w-100",{"video-circle":a.type=="video_note"}]),controls:"",poster:"/images/load.gif"},[createBaseVNode("source",{src:s.url+a.content,type:"video/mp4"},null,8,_hoisted_2$3L)],2)):createCommentVNode("",!0),a.content.indexOf("http")!=-1?(openBlock(),createElementBlock("iframe",{key:1,class:"w-100",style:{"min-height":"300px"},src:a.content,frameborder:"0",allowfullscreen:""},`

        `,8,_hoisted_3$3B)):createCommentVNode("",!0),a.type=="photo"&&a.content.indexOf("http")==-1?withDirectives((openBlock(),createElementBlock("img",_hoisted_4$3p,null,512)),[[n,s.url+a.content]]):createCommentVNode("",!0),a.type=="photo"&&a.content.indexOf("http")!=-1?withDirectives((openBlock(),createElementBlock("img",_hoisted_5$3i,null,512)),[[n,a.content]]):createCommentVNode("",!0),a.type=="audio"&&a.content.indexOf("http")!=-1?(openBlock(),createElementBlock("audio",{key:4,controls:"",autoplay:"",src:a.content},null,8,_hoisted_6$3h)):createCommentVNode("",!0),a.type=="audio"&&a.content.indexOf("http")==-1?(openBlock(),createElementBlock("audio",{key:5,controls:"",autoplay:"",src:s.url+a.content},null,8,_hoisted_7$39)):createCommentVNode("",!0)])}const BotMediaObject=_export_sfc(_sfc_main$3Y,[["render",_sfc_render$1h]]),units=[{symbol:"D",value:24*60*60*1e3},{symbol:"H",value:60*60*1e3},{symbol:"m",value:60*1e3},{symbol:"s",value:1e3},{symbol:"S",value:100}];function replaceAll(o,t,a){const i="~"+t;return o.indexOf(i)>-1?o.split(i).map(s=>replaceAll(s,t,a)).join(i):o.replace(new RegExp(t,"g"),String(a))}function resolveCountdown(o,t="HH:mm:ss"){const a={};t.indexOf("~")>-1&&(t=t.replace(/~[DHmsS]/g,""));const i=units.filter(s=>t.indexOf(s.symbol)>-1);for(let s=0,r=i.length;s<r;s++){const{symbol:n,value:l}=i[s],c=r===1?Math.ceil(o/l):Math.floor(o/l);a[n]=c,a[n+n]=c<10?`0${c}`:c,o%=l}return a}function formatCountdown(o,t="HH:mm:ss"){const a=typeof o=="number"?resolveCountdown(o,t):o,i=Object.keys(a).sort((r,n)=>n.length-r.length);let s=t;return i.forEach(r=>{s=replaceAll(s,r,a[r])}),s.indexOf("~")>-1&&(s=s.replace(/~([DHmsS])/g,"$1")),s}var Countdown=defineComponent({name:"Countdown",emits:["change","finish"],props:{time:{type:Number,default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},setup(o,{emit:t}){const a=ref(o.time),i=ref(resolveCountdown(a.value,o.format)),s=ref(!1),r={restTime:o.time,now:0,timer:0},n=computed(()=>/s/i.test(o.format)?30:1e3),l=computed(()=>formatCountdown(i.value,o.format)),c=()=>{s.value||(r.now=Date.now(),r.restTime=a.value,window.clearInterval(r.timer),r.timer=window.setInterval(m,n.value),s.value=!0)},m=()=>{const{restTime:k,now:V}=r,F=Date.now()-V,x=k>F?k-F:0,J=resolveCountdown(x,o.format),H=formatCountdown(J,o.format);H!==l.value&&(t("change",{currentTime:x,resolved:J,formatted:H}),i.value=J),a.value=x,k<=F&&p()},p=()=>{y(),t("finish")},y=()=>{s.value=!1,window.clearInterval(r.timer)},b=()=>{a.value=r.restTime=o.time,i.value=resolveCountdown(o.time,o.format),y()};return o.autoStart&&c(),{currentTime:a,resolved:i,formatted:l,inCountdown:s,start:c,stop:p,reset:b}},render(){const{currentTime:o,resolved:t,formatted:a}=this;return h("div",null,this.$slots.default&&this.$slots.default({currentTime:o,resolved:t,formatted:a})||this.formatted)}});const QuizRoundQuestionList_vue_vue_type_style_index_0_lang="",_hoisted_1$3Q={key:0,class:"card card-style"},_hoisted_2$3K=createBaseVNode("div",{class:"content d-flex justify-content-center align-items-center flex-wrap",style:{"min-height":"300px"}},[createBaseVNode("div",null,[createBaseVNode("p",{class:"text-center w-100 font-weight-bold"},"Мы загружаем квиз!"),createBaseVNode("div",{class:"loader"})])],-1),_hoisted_3$3A=[_hoisted_2$3K],_hoisted_4$3o={key:1,class:"card card-style"},_hoisted_5$3h={class:"content"},_hoisted_6$3g={key:0},_hoisted_7$38={href:"javascript:void(0)",class:"chip chip-small bg-gray1-dark"},_hoisted_8$32=createBaseVNode("i",{class:"fa fa-check bg-green1-dark"},null,-1),_hoisted_9$2Z={class:"color-black font-400"},_hoisted_10$2O={class:"mb-0"},_hoisted_11$2I={key:1},_hoisted_12$2D={key:0,class:"mb-0 font-weight-bold text-center"},_hoisted_13$2w={key:1},_hoisted_14$2p=["for"],_hoisted_15$2m=["onUpdate:modelValue","id","value"],_hoisted_16$2j=["onClick"],_hoisted_17$2a={key:2},_hoisted_18$25=createBaseVNode("p",{class:"mb-0"},[createBaseVNode("small",null,"Открытый вопрос")],-1),_hoisted_19$20={class:"form-field form-name"},_hoisted_20$1Y={class:"contactNameField color-theme d-flex justify-content-between",for:"command-title"},_hoisted_21$1U=["onClick"],_hoisted_22$1S=["onUpdate:modelValue"],_hoisted_23$1Q=["onClick"],_hoisted_24$1L=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_25$1F={key:2},_hoisted_26$1z={class:"d-flex justify-content-center font-24"},_hoisted_27$1v={class:"countdown-item"},_hoisted_28$1t={class:"countdown-item"},_hoisted_29$1o=createBaseVNode("small",{class:"text-center w-100 d-block"},"У вас осталось времени",-1),_hoisted_30$1m=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_31$1j=["onClick"],_hoisted_32$1g={key:1},_hoisted_33$1g=createBaseVNode("h6",{class:"text-center my-2"}," А вот и результат ",-1),_hoisted_34$1d={key:0},_hoisted_35$1a={key:1,class:"text-center my-3"},_hoisted_36$17=["innerHTML"],_hoisted_37$13={key:2,class:"card card-style"},_hoisted_38$10={class:"content"},_hoisted_39$$=createBaseVNode("p",null,"Поздравляю! Вы прошли данный квиз! Ваш результат:",-1),_hoisted_40$W={key:0,class:"list-group list-group-numbered"},_hoisted_41$W={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_42$W={class:"ms-2 me-auto"},_hoisted_43$W={class:"fw-bold"},_hoisted_44$V={class:"my-2"},_hoisted_45$V=["innerHTML"],_hoisted_46$U=["innerHTML"],__default__$2B={props:["quiz"],components:{Countdown},data(){return{points:[],direction:"asc",order:"round",show:!0,step:0,is_finish:!1,is_group:!1,loading:!0,questions:[],answers:[],search:null,paginate_object:null,prepare:!1}},computed:{...mapGetters(["getQuizQuestions","getQuizQuestionsPaginateObject"]),successPercentCount(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{t.is_right&&o++}),o/this.points.length},summaryPoints(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{o+=t.points||0}),o}},mounted(){this.loadQuizQuestions()},methods:{isQuestionComplete(o){if(o>=this.answers.length||this.answers[o]===null)return!1;if(Array.isArray(this.answers)){let t=!1;return this.answers.forEach(a=>{a!=null&&(t=!0)}),t}return this.answers[o]!=null},completeAndExit(){this.$store.dispatch("completeQuiz",{quiz_id:this.quiz.id}).then(o=>{}).catch(()=>{}),this.$emit("complete")},finish(){this.step++,this.step>=this.questions.length&&(this.is_finish=!0)},next(){this.prepare=!1,this.step++},removeOpenAnswer(o,t){this.answers[o].splice(t,1)},addMoreOpenAnswer(o){this.answers[o].push(null)},checkAnswer(o,t){this.loading=!0,this.prepare=!0,this.$store.dispatch("checkQuizQuestionAnswer",{quiz_question_id:o,quiz_id:this.quiz.id,answers:JSON.stringify(this.answers[t])}).then(a=>{this.loading=!1,this.points.push(a)}).catch(()=>{this.loading=!1})},toggleAnswer(o,t){let a=this.answers[o].indexOf(t);a==-1?this.answers[o].push(t):this.answers[o].splice(a,1)},nextQuizQuestion(o){this.loadQuizQuestions(o)},selectQuizQuestion(o){this.$emit("select",o),this.$notify("Вопрос успешно выбран")},removeQuizQuestion(o){this.loading=!0,this.$store.dispatch("removeQuizQuestion",{quizQuestionId:o}).then(t=>{this.loading=!1,this.loadQuizQuestions(0),this.$notify("Вопрос успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Вопрос удаления сервиса")})},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizQuestions(0)},loadQuizQuestions(o=0){this.loading=!0,this.$store.dispatch("loadQuizQuestions",{dataObject:{quiz_id:this.quiz.id,search:this.search,order:this.order,direction:this.direction},page:o,size:-1}).then(t=>{this.loading=!1,this.questions=this.getQuizQuestions,this.answers=[],this.questions.forEach(a=>{let i=null;a.is_multiply?(i=[],a.answers.forEach(s=>{i.push(null)})):i=null,a.is_open&&(i=[null]),this.answers.push(i)}),this.paginate_object=this.getQuizQuestionsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3X=Object.assign(__default__$2B,{__name:"QuizRoundQuestionList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.questions.length===0?(openBlock(),createElementBlock("div",_hoisted_1$3Q,_hoisted_3$3A)):createCommentVNode("",!0),t.questions.length>0&&t.step<t.questions.length?(openBlock(),createElementBlock("div",_hoisted_4$3o,[createBaseVNode("div",_hoisted_5$3h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.questions,(i,s)=>(openBlock(),createElementBlock("div",null,[!t.prepare&&t.step==s?(openBlock(),createElementBlock("div",_hoisted_6$3g,[createBaseVNode("a",_hoisted_7$38,[_hoisted_8$32,createBaseVNode("strong",_hoisted_9$2Z,"Раунд "+toDisplayString(i.round||1),1)]),createBaseVNode("p",_hoisted_10$2O,toDisplayString(i.text||"не указан"),1),i.media_content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:i.content_type,content:i.media_content},null,8,["type","content"])):createCommentVNode("",!0),i.answers?(openBlock(),createElementBlock("div",_hoisted_11$2I,[i.is_multiply?(openBlock(),createElementBlock("p",_hoisted_12$2D,"Вы можете выбрать несколько ответов")):createCommentVNode("",!0),i.is_open?(openBlock(),createElementBlock("div",_hoisted_17$2a,[_hoisted_18$25,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.answers[s],(r,n)=>(openBlock(),createElementBlock("div",_hoisted_19$20,[createBaseVNode("label",_hoisted_20$1Y,[createTextVNode(" Ответ #"+toDisplayString(n+1)+" ",1),t.answers[s].length>1?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:l=>t.removeOpenAnswer(s,n)},"удалить",8,_hoisted_21$1U)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("input",{type:"text",name:"contactNameField",maxlength:"255","onUpdate:modelValue":l=>t.answers[s][n]=l,placeholder:"Например 'Новые люди'",class:"contactField round-small requiredField",id:"command-title",required:""},null,8,_hoisted_22$1S),[[vModelText,t.answers[s][n]]])]))),256)),createBaseVNode("a",{href:"javascript:void(0)",class:"text-center w-100 d-block",onClick:r=>t.addMoreOpenAnswer(s)},"Добавить еще ответ",8,_hoisted_23$1Q)])):(openBlock(),createElementBlock("div",_hoisted_13$2w,[i.is_multiply?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.answers,(r,n)=>(openBlock(),createElementBlock("label",{class:normalizeClass([{"bg-green2-dark border-green2-dark color-white":t.answers.indexOf(r.id)!=-1},"btn btn-border btn-m btn-full rounded-l mb-1 text-uppercase font-900 border-green2-dark d-flex justify-content-center align-items-center"]),for:"question-"+s+"-answer-"+n},[createTextVNode(toDisplayString(r.text)+" ",1),withDirectives(createBaseVNode("input",{type:"radio",name:"quiz",class:"d-none","onUpdate:modelValue":l=>t.answers[s]=l,id:"question-"+s+"-answer-"+n,value:r.id},null,8,_hoisted_15$2m),[[vModelRadio,t.answers[s]]])],10,_hoisted_14$2p))),256)),i.is_multiply?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(i.answers,(r,n)=>(openBlock(),createElementBlock("button",{class:normalizeClass([{"bg-red1-dark color-white":t.answers[s].indexOf(r.id)!=-1},"btn btn-border btn-m btn-full mb-1 rounded-l text-uppercase font-900 border-red2-dark w-100 d-flex justify-content-center align-items-center"]),onClick:l=>t.toggleAnswer(s,r.id),type:"button"},toDisplayString(r.text),11,_hoisted_16$2j))),256)):createCommentVNode("",!0)]))])):createCommentVNode("",!0),_hoisted_24$1L,o.quiz.polling_mode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$1F,[createBaseVNode("div",_hoisted_26$1z,[createVNode(unref(Countdown),{time:(o.quiz.time_limit||30)*1e3,onFinish:t.finish,format:"mm:ss"},{default:withCtx(({resolved:r})=>[createBaseVNode("span",_hoisted_27$1v,toDisplayString(r.mm),1),createTextVNode(" : "),createBaseVNode("span",_hoisted_28$1t,toDisplayString(r.ss),1)]),_:1},8,["time","onFinish"])]),_hoisted_29$1o])),_hoisted_30$1m,t.isQuestionComplete(s)?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:r=>t.checkAnswer(i.id,s),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-blue2-dark"}," Проверить ",8,_hoisted_31$1j)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.prepare&&t.step==s?(openBlock(),createElementBlock("div",_hoisted_32$1g,[_hoisted_33$1g,t.points[s]?(openBlock(),createElementBlock("div",_hoisted_34$1d,[t.points[s].question.content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:t.points[s].question.type,content:t.points[s].question.content},null,8,["type","content"])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.points[s]||{}).question?(openBlock(),createElementBlock("p",_hoisted_35$1a,[createBaseVNode("strong",{innerHTML:t.points[s].question.message||"Отлично! Идем дальше"},null,8,_hoisted_36$17)])):createCommentVNode("",!0),t.step<t.questions.length-1?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",onClick:a[0]||(a[0]=(...r)=>t.next&&t.next(...r)),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-green2-dark"}," Следующий вопрос ")):(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:a[1]||(a[1]=(...r)=>t.finish&&t.finish(...r)),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-green2-dark"}," Перейти к баллам "))])):createCommentVNode("",!0)]))),256))])])):createCommentVNode("",!0),t.is_finish?(openBlock(),createElementBlock("div",_hoisted_37$13,[createBaseVNode("div",_hoisted_38$10,[_hoisted_39$$,t.points.length>0?(openBlock(),createElementBlock("ol",_hoisted_40$W,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.points,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_41$W,[createBaseVNode("div",_hoisted_42$W,[createBaseVNode("div",_hoisted_43$W,toDisplayString(i.question.text||"Текст не указан"),1),createTextVNode(" "+toDisplayString(i.question.message||"-"),1)]),createBaseVNode("span",{class:normalizeClass(["badge rounded-pill text-white p-2",{"bg-success":i.is_right,"bg-danger":!i.is_right}])},toDisplayString(i.points||0)+" баллов",3)]))),256))])):createCommentVNode("",!0),createBaseVNode("h6",_hoisted_44$V,"Вы набрали "+toDisplayString(t.summaryPoints)+" баллов",1),t.successPercentCount>=o.quiz.success_percent?(openBlock(),createElementBlock("p",{key:1,innerHTML:o.quiz.success_message},null,8,_hoisted_45$V)):(openBlock(),createElementBlock("p",{key:2,innerHTML:o.quiz.failure_message},null,8,_hoisted_46$U)),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=(...i)=>t.completeAndExit&&t.completeAndExit(...i)),class:"btn btn-m btn-full mt-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"},"Завершить и выйти")])])):createCommentVNode("",!0)],64))}});({...mapGetters(["getQuizCommands","getQuizCommandsPaginateObject"])});const _hoisted_1$3P={key:0,class:"card card-style"},_hoisted_2$3J={class:"content"},__default__$2A={name:"App",data(){return{step:0,selectedQuiz:null}},computed:{},mounted(){},methods:{openQuiz(o){this.loadQuiz(o.id)},startQuiz(o){this.selectedQuiz=o,this.step=2},completeQuiz(){this.loadQuiz(selectedQuiz.id),this.step=0},loadQuiz(o){this.$store.dispatch("loadSingleQuiz",{quiz_id:o}).then(t=>{this.selectedQuiz=t.data,this.step=1}).catch(()=>{this.step=0})}}},_sfc_main$3W=Object.assign(__default__$2A,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$3P,[createBaseVNode("div",_hoisted_2$3J,[createVNode(_sfc_main$3Z,{onOpen:t.openQuiz},null,8,["onOpen"])])])):createCommentVNode("",!0),t.selectedQuiz&&t.step===1?(openBlock(),createBlock(QuizItem,{key:1,"need-return":!0,class:"p-1",quiz:t.selectedQuiz,onReturn:a[0]||(a[0]=i=>t.step=0),onSelect:a[1]||(a[1]=i=>t.step++)},null,8,["quiz"])):createCommentVNode("",!0),t.selectedQuiz&&t.step===2?(openBlock(),createBlock(_sfc_main$3X,{key:2,time:t.selectedQuiz.time_limit,onComplete:t.completeQuiz,"quiz-id":t.selectedQuiz.id},null,8,["time","onComplete","quiz-id"])):createCommentVNode("",!0)],64))}}),Quizzes=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3W},Symbol.toStringTag,{value:"Module"})),QuizFullQuestionList_vue_vue_type_style_index_0_lang="",_hoisted_1$3O={key:0,class:"card card-style"},_hoisted_2$3I=createBaseVNode("div",{class:"content d-flex justify-content-center align-items-center flex-wrap",style:{"min-height":"300px"}},[createBaseVNode("div",null,[createBaseVNode("p",{class:"text-center w-100 font-weight-bold"},"Мы загружаем квиз!"),createBaseVNode("div",{class:"loader"})])],-1),_hoisted_3$3z=[_hoisted_2$3I],_hoisted_4$3n={key:1,class:"card card-style"},_hoisted_5$3g={class:"content"},_hoisted_6$3f={class:"mb-5"},_hoisted_7$37={href:"javascript:void(0)",class:"chip chip-small bg-gray1-dark"},_hoisted_8$31=createBaseVNode("i",{class:"fa fa-check bg-green1-dark"},null,-1),_hoisted_9$2Y={class:"color-black font-400"},_hoisted_10$2N={class:"mb-0"},_hoisted_11$2H={key:1},_hoisted_12$2C={key:0,class:"mb-0 font-weight-bold text-center"},_hoisted_13$2v={key:1},_hoisted_14$2o=["for"],_hoisted_15$2l=["onUpdate:modelValue","id","value"],_hoisted_16$2i=["onClick"],_hoisted_17$29={key:2},_hoisted_18$24=createBaseVNode("p",{class:"mb-0"},[createBaseVNode("small",null,"Открытый вопрос")],-1),_hoisted_19$1$={class:"form-field form-name"},_hoisted_20$1X={class:"contactNameField color-theme d-flex justify-content-between",for:"command-title"},_hoisted_21$1T=["onClick"],_hoisted_22$1R=["onUpdate:modelValue"],_hoisted_23$1P=["onClick"],_hoisted_24$1K={key:2},_hoisted_25$1E=createBaseVNode("h6",{class:"text-center my-2"}," А вот и результат ",-1),_hoisted_26$1y={key:0},_hoisted_27$1u={key:1,class:"text-center my-3"},_hoisted_28$1s=["innerHTML"],_hoisted_29$1n={key:2,class:"card card-style"},_hoisted_30$1l={class:"content"},_hoisted_31$1i=createBaseVNode("p",null,"Поздравляю! Вы прошли данный квиз! Ваш результат:",-1),_hoisted_32$1f={key:0,class:"list-group list-group-numbered"},_hoisted_33$1f={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_34$1c={class:"ms-2 me-auto"},_hoisted_35$19={class:"fw-bold"},_hoisted_36$16={class:"my-2"},_hoisted_37$12=["innerHTML"],_hoisted_38$$=["innerHTML"],__default__$2z={props:["quiz"],components:{Countdown},data(){return{points:[],direction:"asc",order:"round",show:!0,step:0,is_finish:!1,is_group:!1,loading:!0,questions:[],answers:[],search:null,paginate_object:null,prepare:!1}},computed:{...mapGetters(["getQuizQuestions","getQuizQuestionsPaginateObject"]),successPercentCount(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{t.is_right&&o++}),o/this.points.length},summaryPoints(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{o+=t.points||0}),o}},mounted(){this.loadQuizQuestions()},methods:{completeAndExit(){this.$store.dispatch("completeQuiz",{quiz_id:this.quiz.id}).then(o=>{}).catch(()=>{}),this.$emit("complete")},finish(){this.is_finish=!0,this.$store.dispatch("checkAndCompleteFullQuiz",{quiz_id:this.quiz.id,answers:JSON.stringify(this.answers)}).then(o=>{this.points=o}).catch(o=>{})},removeOpenAnswer(o,t){this.answers[o].splice(t,1)},addMoreOpenAnswer(o){this.answers[o].push(null)},toggleAnswer(o,t){let a=this.answers[o].value.indexOf(t);a==-1?this.answers[o].value.push(t):this.answers[o].value.splice(a,1)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizQuestions(0)},loadQuizQuestions(o=0){this.loading=!0,this.$store.dispatch("loadQuizQuestions",{dataObject:{quiz_id:this.quiz.id,search:this.search,order:this.order,direction:this.direction},page:o,size:-1}).then(t=>{this.loading=!1,this.questions=this.getQuizQuestions,this.answers=[],this.questions.forEach(a=>{let i=null;a.is_multiply?i={id:a.id,value:[]}:i={id:a.id,value:null},a.is_open&&(i=[{id:a.id,value:null}]),this.answers.push(i)}),this.paginate_object=this.getQuizQuestionsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3V=Object.assign(__default__$2z,{__name:"QuizFullQuestionList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.questions.length===0?(openBlock(),createElementBlock("div",_hoisted_1$3O,_hoisted_3$3z)):createCommentVNode("",!0),t.questions.length>0&&t.step<t.questions.length?(openBlock(),createElementBlock("div",_hoisted_4$3n,[createBaseVNode("div",_hoisted_5$3g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.questions,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_6$3f,[createBaseVNode("a",_hoisted_7$37,[_hoisted_8$31,createBaseVNode("strong",_hoisted_9$2Y,"Раунд "+toDisplayString(i.round||1),1)]),createBaseVNode("p",_hoisted_10$2N,toDisplayString(i.text||"не указан"),1),i.media_content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:i.content_type,content:i.media_content},null,8,["type","content"])):createCommentVNode("",!0),i.answers?(openBlock(),createElementBlock("div",_hoisted_11$2H,[i.is_multiply?(openBlock(),createElementBlock("p",_hoisted_12$2C,"Вы можете выбрать несколько ответов")):createCommentVNode("",!0),i.is_open?(openBlock(),createElementBlock("div",_hoisted_17$29,[_hoisted_18$24,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.answers[s],(r,n)=>(openBlock(),createElementBlock("div",_hoisted_19$1$,[createBaseVNode("label",_hoisted_20$1X,[createTextVNode(" Ответ #"+toDisplayString(n+1)+" ",1),t.answers[s].length>1?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:l=>t.removeOpenAnswer(s,n)},"удалить",8,_hoisted_21$1T)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("input",{type:"text",name:"contactNameField",maxlength:"255","onUpdate:modelValue":l=>t.answers[s][n]=l,placeholder:"Например 'Новые люди'",class:"contactField round-small requiredField",id:"command-title",required:""},null,8,_hoisted_22$1R),[[vModelText,t.answers[s][n]]])]))),256)),createBaseVNode("a",{href:"javascript:void(0)",class:"text-center w-100 d-block",onClick:r=>t.addMoreOpenAnswer(s)},"Добавить еще ответ",8,_hoisted_23$1P)])):(openBlock(),createElementBlock("div",_hoisted_13$2v,[i.is_multiply?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.answers,(r,n)=>(openBlock(),createElementBlock("label",{class:normalizeClass([{"bg-green2-dark border-green2-dark color-white":t.answers[s].value==r.id},"btn btn-border btn-m btn-full rounded-l mb-1 text-uppercase font-900 border-green2-dark d-flex justify-content-center align-items-center"]),for:"question-"+s+"-answer-"+n},[createTextVNode(toDisplayString(r.text)+" ",1),withDirectives(createBaseVNode("input",{type:"radio",name:"quiz",class:"d-none","onUpdate:modelValue":l=>t.answers[s].value=l,id:"question-"+s+"-answer-"+n,value:r.id},null,8,_hoisted_15$2l),[[vModelRadio,t.answers[s].value]])],10,_hoisted_14$2o))),256)),i.is_multiply?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(i.answers,(r,n)=>(openBlock(),createElementBlock("button",{class:normalizeClass([{"bg-red1-dark color-white":t.answers[s].value.indexOf(r.id)!=-1},"btn btn-border btn-m btn-full mb-1 rounded-l text-uppercase font-900 border-red2-dark w-100 d-flex justify-content-center align-items-center"]),onClick:l=>t.toggleAnswer(s,r.id),type:"button"},toDisplayString(r.text),11,_hoisted_16$2i))),256)):createCommentVNode("",!0)]))])):createCommentVNode("",!0),t.points[s]?(openBlock(),createElementBlock("div",_hoisted_24$1K,[_hoisted_25$1E,t.points[s]?(openBlock(),createElementBlock("div",_hoisted_26$1y,[t.points[s].question.content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:t.points[s].question.type,content:t.points[s].question.content},null,8,["type","content"])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.points[s]||{}).question?(openBlock(),createElementBlock("p",_hoisted_27$1u,[createBaseVNode("strong",{innerHTML:t.points[s].question.message||"Отлично! Идем дальше"},null,8,_hoisted_28$1s)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),t.is_finish?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:a[0]||(a[0]=(...i)=>t.finish&&t.finish(...i)),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-green2-dark"}," Завершить опрос и посмотреть результат "))])])):createCommentVNode("",!0),t.is_finish?(openBlock(),createElementBlock("div",_hoisted_29$1n,[createBaseVNode("div",_hoisted_30$1l,[_hoisted_31$1i,t.points.length>0?(openBlock(),createElementBlock("ol",_hoisted_32$1f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.points,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_33$1f,[createBaseVNode("div",_hoisted_34$1c,[createBaseVNode("div",_hoisted_35$19,toDisplayString(i.question.text||"Текст не указан"),1),createTextVNode(" "+toDisplayString(i.question.message||"-"),1)]),createBaseVNode("span",{class:normalizeClass(["badge rounded-pill text-white p-2",{"bg-success":i.is_right,"bg-danger":!i.is_right}])},toDisplayString(i.points||0)+" баллов",3)]))),256))])):createCommentVNode("",!0),createBaseVNode("h6",_hoisted_36$16,"Вы набрали "+toDisplayString(t.summaryPoints)+" баллов",1),t.successPercentCount>=o.quiz.success_percent?(openBlock(),createElementBlock("p",{key:1,innerHTML:o.quiz.success_message},null,8,_hoisted_37$12)):(openBlock(),createElementBlock("p",{key:2,innerHTML:o.quiz.failure_message},null,8,_hoisted_38$$)),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[1]||(a[1]=(...i)=>t.completeAndExit&&t.completeAndExit(...i)),class:"btn btn-m btn-full mt-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"},"Завершить и выйти")])])):createCommentVNode("",!0)],64))}}),_hoisted_1$3N={key:0},_hoisted_2$3H={key:1},__default__$2y={name:"App",data(){return{step:0,loading:!1,quiz:null}},mounted(){this.loadQuiz()},methods:{completeQuiz(){this.loadQuiz(),this.step=0},loadQuiz(){this.loading=!0,this.$store.dispatch("loadSingleQuiz",{quiz_id:this.$route.params.quizId}).then(o=>{this.loading=!1,this.quiz=o.data}).catch(()=>{this.loading=!1})}}},_sfc_main$3U=Object.assign(__default__$2y,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.quiz&&t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$3N,[createVNode(QuizItem,{class:"p-1",quiz:t.quiz,onSelect:a[0]||(a[0]=i=>t.step++)},null,8,["quiz"])])):createCommentVNode("",!0),t.quiz&&t.step===1?(openBlock(),createElementBlock("div",_hoisted_2$3H,[t.quiz.round_mode?(openBlock(),createBlock(_sfc_main$3X,{key:0,onComplete:t.completeQuiz,quiz:t.quiz},null,8,["onComplete","quiz"])):createCommentVNode("",!0),t.quiz.round_mode?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$3V,{key:1,onComplete:t.completeQuiz,quiz:t.quiz},null,8,["onComplete","quiz"]))])):createCommentVNode("",!0)],64))}}),SingleQuiz=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3U},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3M={class:"card card-style"},_hoisted_2$3G={class:"content"},_hoisted_3$3y={class:"input-style input-style-2 input-required"},_hoisted_4$3m={class:"content"},_hoisted_5$3f={style:{"line-height":"100%"}},_hoisted_6$3e=createBaseVNode("strong",{class:"font-10"}," Тип сортировки:",-1),_hoisted_7$36={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_8$30={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_9$2X={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_10$2M={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_11$2G={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_12$2B={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_13$2u={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_14$2n={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_15$2k={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_16$2h={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_17$28={"data-card-height":"140",class:"card card-style rounded-m shadow-xl bg-18",style:{height:"140px"}},_hoisted_18$23={class:"card-top mt-4 ml-3"},_hoisted_19$1_={class:"color-white"},_hoisted_20$1W={class:"color-white mb-0 font-600 font-10"},_hoisted_21$1S={class:"color-white font-10 opacity-70 mt-2 mb-n1"},_hoisted_22$1Q=createBaseVNode("i",{class:"fa-solid fa-money-bill-wave pr-1"},null,-1),_hoisted_23$1O={class:"color-white font-10 opacity-70"},_hoisted_24$1J=createBaseVNode("i",{class:"fa fa-map-marker-alt"},null,-1),_hoisted_25$1D={class:"card-center mr-3"},_hoisted_26$1x=["onClick"],_hoisted_27$1t=createBaseVNode("div",{class:"card-overlay bg-black opacity-80"},null,-1),_hoisted_28$1r={key:1,class:"card card-style bg-red2-dark rounded-m shadow-xl"},_hoisted_29$1m=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Список событий"),createBaseVNode("p",{class:"color-white"}," На текущий момент нет событий в вашем списке. Попробуйте изменить параметры поиска. ")],-1),_hoisted_30$1k=[_hoisted_29$1m],__default__$2x={data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,events:[],search:null,paginate_object:null}},computed:{...mapGetters(["getAppointmentEvents","getAppointmentEventsPaginateObject"])},mounted(){this.loadAppointmentEvents()},methods:{nextAppointmentEvents(o){this.loadAppointmentEvents(o)},selectEvent(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentEvents(0)},loadAppointmentEvents(o=0){this.loading=!0,this.$store.dispatch("loadAppointmentEvents",{dataObject:{search:this.search,is_group:this.is_group,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.events=this.getAppointmentEvents,this.paginate_object=this.getAppointmentEventsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3T=Object.assign(__default__$2x,{__name:"AppointmentEventTable",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3M,[createBaseVNode("div",_hoisted_2$3G,[createBaseVNode("div",_hoisted_3$3y,[withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),type:"search",placeholder:"Поиск события"},null,512),[[vModelText,t.search]])]),createBaseVNode("button",{class:"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme w-100",onClick:a[1]||(a[1]=i=>t.loadAppointmentEvents(0)),type:"button",id:"appointment-search-event"},"Найти ")]),createBaseVNode("div",_hoisted_4$3m,[createBaseVNode("p",_hoisted_5$3f,[_hoisted_6$3e,createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[2]||(a[2]=i=>t.loadAndOrder("id")),href:"javascript:void(0)"},[createTextVNode("По порядку следования "),t.order==="id"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_7$36)):createCommentVNode("",!0),t.order==="id"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_8$30)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[3]||(a[3]=i=>t.loadAndOrder("title")),href:"javascript:void(0)"},[createTextVNode("По заголовку "),t.order==="title"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_9$2X)):createCommentVNode("",!0),t.order==="title"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_10$2M)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[4]||(a[4]=i=>t.loadAndOrder("subtitle")),href:"javascript:void(0)"},[createTextVNode("По подзаголовку "),t.order==="subtitle"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_11$2G)):createCommentVNode("",!0),t.order==="subtitle"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_12$2B)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[5]||(a[5]=i=>t.loadAndOrder("description")),href:"javascript:void(0)"},[createTextVNode("По описанию "),t.order==="description"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_13$2u)):createCommentVNode("",!0),t.order==="description"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_14$2n)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[6]||(a[6]=i=>t.loadAndOrder("updated_at")),href:"javascript:void(0)"},[createTextVNode("По дате добавления "),t.order==="updated_at"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_15$2k)):createCommentVNode("",!0),t.order==="updated_at"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_16$2h)):createCommentVNode("",!0)])])])]),t.events.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.events,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_17$28,[createBaseVNode("div",_hoisted_18$23,[createBaseVNode("h2",_hoisted_19$1_,toDisplayString(i.title||"Не указано"),1),createBaseVNode("h6",_hoisted_20$1W,toDisplayString(i.subtitle||"Не указано"),1),createBaseVNode("p",_hoisted_21$1S,[_hoisted_22$1Q,createTextVNode(" от "+toDisplayString(i.min_price||0)+" ₽",1)]),createBaseVNode("p",_hoisted_23$1O,[_hoisted_24$1J,createTextVNode(" "+toDisplayString(i.address||"Адрес не указан"),1)])]),createBaseVNode("div",_hoisted_25$1D,[createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.selectEvent(i),class:"float-right bg-highlight btn btn-xs text-uppercase font-900 rounded-xl font-11"},"Записаться",8,_hoisted_26$1x)]),_hoisted_27$1t]))),256)):(openBlock(),createElementBlock("div",_hoisted_28$1r,_hoisted_30$1k)),t.paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextAppointmentEvents,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$3L={class:"card card-style"},_hoisted_2$3F={class:"content"},_hoisted_3$3x={class:"mb-3"},_hoisted_4$3l={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_5$3e=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_6$3d=createBaseVNode("div",null," ФИО человека, который посетит запись ",-1),_hoisted_7$35=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_8$2$=createBaseVNode("div",null,"Нужно ",-1),_hoisted_9$2W={class:"mb-3"},_hoisted_10$2L={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_11$2F=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_12$2A=createBaseVNode("div",null," Номер телефона человека, который посетит запись ",-1),_hoisted_13$2t=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_14$2m=createBaseVNode("div",null,"Нужно ",-1),_hoisted_15$2j={class:"mb-3"},_hoisted_16$2g={class:"form-label mt-2",id:"bot-domain"},_hoisted_17$27=createBaseVNode("p",{class:"mb-0 line-height-xs"}," Дополнительная информация о вас",-1),_hoisted_18$22={class:"mb-0 line-height-xs"},_hoisted_19$1Z={key:0,class:"text-gray-400",style:{"font-size":"10px"}},_hoisted_20$1V={type:"submit",class:"btn btn-m btn-full w-100 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark"},_hoisted_21$1R={key:0},_hoisted_22$1P={key:1},__default__$2w={props:["eventId","appointment","selectedScheduleTime"],data(){return{step:0,load:!1,days:["понедельник","вторник","среду","четверг","пятницу","субботу","воскресенье"],appointmentForm:{id:null,appointment_event_id:null,appointment_schedule_id:null,status:0,name:null,phone:null,info:null}}},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.appointment&&this.$nextTick(()=>{this.appointmentForm={id:this.appointment.id||null,appointment_event_id:this.appointment.appointment_event_id||null,appointment_schedule_id:this.appointment.appointment_schedule_id||null,bot_user_id:this.appointment.bot_user_id||null,status:this.appointment.status||0,name:this.appointment.name||null,phone:this.appointment.phone||null,info:this.appointment.info||null}})},methods:{backToSelectSchedule(){this.$emit("back")},selectScheduleTime(o){if(o.appointment){this.$notify("Данное время уже занято!");return}this.selected_schedule_time=o,this.need_schedule_time=!1},selectBotUser(o){this.selected_bot_user=o,this.need_load_users=!1},clearAppointmentForm(){this.appointmentForm={id:null,appointment_event_id:null,appointment_schedule_id:null,status:0},this.selected_schedule_time=null,this.selected_bot_user=null},submitForm(){this.appointmentForm.appointment_schedule_id=this.selectedScheduleTime.id,this.appointmentForm.appointment_event_id=this.eventId;let o=new FormData;Object.keys(this.appointmentForm).forEach(t=>{const a=this.appointmentForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("storeAppointment",{dataObject:{appointmentForm:o}}).then(t=>{this.clearAppointmentForm(),this.$emit("callback"),this.$botNotification.success("Отлично!","Вы успешно записались!"),setTimeout(()=>{this.tg.close()},2e3)}).catch(t=>{this.$botNotification.warning("Упс..!","Кажется что-то пошло не так!")})}}},_sfc_main$3S=Object.assign(__default__$2w,{__name:"AppointmentForm",setup(o){return(t,a)=>{const i=resolveComponent("Popper"),s=resolveDirective("mask");return openBlock(),createElementBlock("div",_hoisted_1$3L,[createBaseVNode("div",_hoisted_2$3F,[createBaseVNode("button",{onClick:a[0]||(a[0]=(...r)=>t.backToSelectSchedule&&t.backToSelectSchedule(...r)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},"Назад "),createBaseVNode("form",{onSubmit:a[4]||(a[4]=withModifiers((...r)=>t.submitForm&&t.submitForm(...r),["prevent"]))},[createBaseVNode("div",_hoisted_3$3x,[createBaseVNode("label",_hoisted_4$3l,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_6$3d]),default:withCtx(()=>[_hoisted_5$3e]),_:1}),createTextVNode(" Ф.И.О. посетителя ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_8$2$]),default:withCtx(()=>[_hoisted_7$35]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Иванов Иван Иванович","aria-label":"ФИО","onUpdate:modelValue":a[1]||(a[1]=r=>t.appointmentForm.name=r),maxlength:"255","aria-describedby":"appointment-name",required:""},null,512),[[vModelText,t.appointmentForm.name]])]),createBaseVNode("div",_hoisted_9$2W,[createBaseVNode("label",_hoisted_10$2L,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_12$2A]),default:withCtx(()=>[_hoisted_11$2F]),_:1}),createTextVNode(" Телефонный номер посетителя ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_14$2m]),default:withCtx(()=>[_hoisted_13$2t]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"+7(000)000-00-00","aria-label":"номер телефона","onUpdate:modelValue":a[2]||(a[2]=r=>t.appointmentForm.phone=r),maxlength:"255","aria-describedby":"appointment-phone",required:""},null,512),[[s,"+7(###)###-##-##"],[vModelText,t.appointmentForm.phone]])]),createBaseVNode("div",_hoisted_15$2j,[createBaseVNode("label",_hoisted_16$2g,[_hoisted_17$27,createBaseVNode("p",_hoisted_18$22,[t.appointmentForm.info?(openBlock(),createElementBlock("small",_hoisted_19$1Z," Длина текста "+toDisplayString(t.appointmentForm.info.length)+" / 255",1)):createCommentVNode("",!0)])]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Информация от клиента","aria-label":"Информация от клиента",maxlength:"255","onUpdate:modelValue":a[3]||(a[3]=r=>t.appointmentForm.info=r),"aria-describedby":"appointment-info"},`
                    `,512),[[vModelText,t.appointmentForm.info]])]),createBaseVNode("button",_hoisted_20$1V,[t.appointmentForm.id==null?(openBlock(),createElementBlock("span",_hoisted_21$1R,"Записаться")):(openBlock(),createElementBlock("span",_hoisted_22$1P,"Обновить запись"))])],32)])])}}}),_hoisted_1$3K={class:"card card-style"},_hoisted_2$3E={class:"content"},_hoisted_3$3w={key:0,class:"font-700 font-12 text-center my-2"},_hoisted_4$3k={class:"color-red1-dark"},_hoisted_5$3d={key:1,class:"font-700 font-12 text-center my-2"},_hoisted_6$3c={style:{"line-height":"100%"}},_hoisted_7$34=createBaseVNode("strong",{class:"font-10"}," Тип сортировки:",-1),_hoisted_8$2_={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_9$2V={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_10$2K={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_11$2E={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_12$2z={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_13$2s={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_14$2l={class:"card card-style border"},_hoisted_15$2i={class:"content"},_hoisted_16$2f={class:"table text-center rounded-sm shadow-l",style:{overflow:"hidden"}},_hoisted_17$26=createBaseVNode("th",{scope:"row"},"День",-1),_hoisted_18$21=createBaseVNode("th",{scope:"row"},"Время",-1),_hoisted_19$1Y=createBaseVNode("th",{scope:"row"},"Дата",-1),_hoisted_20$1U=["disabled","onClick"],_hoisted_21$1Q={key:0},_hoisted_22$1O={key:1},_hoisted_23$1N={key:1,class:"card card-style bg-red2-dark rounded-m shadow-xl"},_hoisted_24$1I=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Расписание"),createBaseVNode("p",{class:"color-white"}," В данный временной период нет ни одного доступного времени для записи. Попробуйте выбрать другой временной период. Для выбора временного периода нажми на любой день интересующей вас недели. ")],-1),_hoisted_25$1C=[_hoisted_24$1I],__default__$2v={props:["eventId"],components:{VueDatePicker:Ka$1},data(){return{date:null,loading:!0,schedule:[],order:null,direction:null,months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","октябрь","Ноябрь","Декабрь"],days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],paginate_object:null}},watch:{date:{handler:function(o){this.loadAppointmentSchedules()},deep:!0}},computed:{...mapGetters(["getAppointmentSchedules","getAppointmentSchedulesPaginateObject"])},mounted(){this.date=new Date,this.loadAppointmentSchedules()},methods:{selectTime(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentSchedules(0)},nextAppointmentSchedule(o){this.loadAppointmentSchedules(o)},loadAppointmentSchedules(o=0){this.loading=!0,this.$store.dispatch("loadAppointmentSchedules",{dataObject:{date:this.date||null,event_id:this.eventId,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.schedule=this.getAppointmentSchedules,this.paginate_object=this.getAppointmentSchedulesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3R=Object.assign(__default__$2v,{__name:"AppointmentScheduleList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3K,[createBaseVNode("div",_hoisted_2$3E,[createVNode(unref(Ka$1),{inline:"","auto-apply":"",locale:"ru","enable-time-picker":!1,modelValue:t.date,"onUpdate:modelValue":a[0]||(a[0]=i=>t.date=i)},null,8,["modelValue"]),t.schedule.length>0?(openBlock(),createElementBlock("p",_hoisted_3$3w,[createTextVNode("Есть "),createBaseVNode("strong",_hoisted_4$3k,toDisplayString(t.schedule.length),1),createTextVNode(" ячейки для записи")])):(openBlock(),createElementBlock("p",_hoisted_5$3d,"Нет доступных ячеек для записи")),createBaseVNode("p",_hoisted_6$3c,[_hoisted_7$34,createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[1]||(a[1]=i=>t.loadAndOrder("day")),href:"javascript:void(0)"},[createTextVNode("По дню недели "),t.order==="day"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_8$2_)):createCommentVNode("",!0),t.order==="day"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_9$2V)):createCommentVNode("",!0)]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[2]||(a[2]=i=>t.loadAndOrder("start_time")),href:"javascript:void(0)"},[createTextVNode("По времени начала "),t.order==="start_time"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_10$2K)):createCommentVNode("",!0),t.order==="start_time"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_11$2E)):createCommentVNode("",!0)]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:a[3]||(a[3]=i=>t.loadAndOrder("end_time")),href:"javascript:void(0)"},[createTextVNode("По времени окончания "),t.order==="end_time"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_12$2z)):createCommentVNode("",!0),t.order==="end_time"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_13$2s)):createCommentVNode("",!0)])])])]),t.schedule.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.schedule,i=>(openBlock(),createElementBlock("div",_hoisted_14$2l,[createBaseVNode("div",_hoisted_15$2i,[createBaseVNode("table",_hoisted_16$2f,[createBaseVNode("tbody",null,[createBaseVNode("tr",{class:normalizeClass([{"bg-gray2-dark":i.appointment!=null,"bg-highlight":i.appointment==null},"color-gray1-dark"])},[_hoisted_17$26,createBaseVNode("td",null,toDisplayString(t.days[i.day-1]),1)],2),createBaseVNode("tr",{class:normalizeClass([{"bg-gray2-dark":i.appointment!=null,"bg-highlight":i.appointment==null},"color-gray1-dark"])},[_hoisted_18$21,createBaseVNode("td",null,toDisplayString(i.start_time||"-")+" - "+toDisplayString(i.end_time||"-"),1)],2),createBaseVNode("tr",{class:normalizeClass([{"bg-gray2-dark":i.appointment!=null,"bg-highlight":i.appointment==null},"color-gray1-dark"])},[_hoisted_19$1Y,createBaseVNode("td",null,toDisplayString(i.year||"-")+" "+toDisplayString(t.months[i.month||0])+" "+toDisplayString(i.day_number),1)],2)])]),createBaseVNode("button",{disabled:i.appointment!=null,onClick:s=>t.selectTime(i),class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light w-100"},[i.appointment!=null?(openBlock(),createElementBlock("span",_hoisted_21$1Q," Данное время уже занято ")):(openBlock(),createElementBlock("span",_hoisted_22$1O," Выбрать время "))],8,_hoisted_20$1U)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_23$1N,_hoisted_25$1C)),t.paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextAppointmentSchedule,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$3J={class:"card card-style"},_hoisted_2$3D={class:"content"},_hoisted_3$3v={key:0,class:"card-img-top rounded-m p-2",alt:"..."},_hoisted_4$3j=createBaseVNode("div",{class:"divider mb-3 mt-1"},null,-1),_hoisted_5$3c={key:1,class:"p-3"},_hoisted_6$3b={class:"row text-center row-cols-3 mb-n4"},_hoisted_7$33=["href"],_hoisted_8$2Z={class:"img-fluid rounded-xs preload-img",alt:"img"},_hoisted_9$2U={key:2,class:"divider mb-3 mt-1"},_hoisted_10$2J={class:"font-700 mb-2"},_hoisted_11$2D={class:"font-700 mb-2 font-12"},_hoisted_12$2y={class:"mt-n1 mb-3"},_hoisted_13$2r=createBaseVNode("span",{class:"d-block font-700 font-12"},"Описание услуги",-1),_hoisted_14$2k={class:"font-10 opacity-70 mb-2"},_hoisted_15$2h=createBaseVNode("i",{class:"fa fa-map-marker-alt"},null,-1),_hoisted_16$2e=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("span",{class:"d-block font-700 font-12"},"Сервисы")],-1),_hoisted_17$25={key:3,class:"list-group"},_hoisted_18$20={class:"border border-gray1-dark rounded-s shadow-xs p-3 d-flex align-items-center mb-2"},_hoisted_19$1X=["onClick"],_hoisted_20$1T={class:"ml-2 d-flex flex-column"},_hoisted_21$1P=["onClick"],_hoisted_22$1N=["onClick"],_hoisted_23$1M={key:0},_hoisted_24$1H={href:"#",class:"chip chip-small bg-dark2-dark"},_hoisted_25$1B=createBaseVNode("i",{class:"fa-solid fa-layer-group bg-green1-dark"},null,-1),_hoisted_26$1w={class:"color-white"},_hoisted_27$1s={key:0,href:"#",class:"chip chip-small bg-gray2-dark"},_hoisted_28$1q=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar bg-green1-dark"},null,-1),_hoisted_29$1l=createBaseVNode("span",{class:"color-white"},"Нужна предоплата",-1),_hoisted_30$1j=[_hoisted_28$1q,_hoisted_29$1l],_hoisted_31$1h={class:"font-12"},_hoisted_32$1e={key:0,class:"font-700"},_hoisted_33$1e={key:1,class:"font-700"},_hoisted_34$1b={key:1,class:"p-3"},_hoisted_35$18={class:"row text-center row-cols-3 mb-n4"},_hoisted_36$15=["href"],_hoisted_37$11={class:"img-fluid rounded-xs preload-img",alt:"img"},__default__$2u={props:["event"],data(){return{selectedSchedule:null}},methods:{back(){this.$emit("back")},toggleService(o){this.event.services[o].show_full=!this.event.services[o].show_full},selectSchedule(o){this.selectedSchedule=o,this.$emit("next",o),this.$botNotification.success("Расписание","Отлично! Дата выбрана, остался последний шаг")}}},_sfc_main$3Q=Object.assign(__default__$2u,{__name:"AppointmentDetails",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3J,[createBaseVNode("div",_hoisted_2$3D,[createBaseVNode("button",{onClick:a[0]||(a[0]=(...s)=>t.back&&t.back(...s)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},"Назад "),o.event.images.length>0?withDirectives((openBlock(),createElementBlock("img",_hoisted_3$3v,null,512)),[[i,"/file-by-file-id/"+o.event.images[0]]]):createCommentVNode("",!0),_hoisted_4$3j,o.event.images.length>1?(openBlock(),createElementBlock("div",_hoisted_5$3c,[createBaseVNode("div",_hoisted_6$3b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.event.images,s=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link","data-lightbox":"gallery-1",href:"/file-by-file-id/"+s},[withDirectives(createBaseVNode("img",_hoisted_8$2Z,null,512),[[i,"/file-by-file-id/"+s]])],8,_hoisted_7$33))),256))])])):createCommentVNode("",!0),o.event.images.length>1?(openBlock(),createElementBlock("div",_hoisted_9$2U)):createCommentVNode("",!0),createBaseVNode("h2",_hoisted_10$2J,toDisplayString(o.event.title||"Не указано"),1),createBaseVNode("h6",_hoisted_11$2D,toDisplayString(o.event.subtitle||"Не указано"),1),createBaseVNode("p",_hoisted_12$2y,[_hoisted_13$2r,createBaseVNode("em",null,toDisplayString(o.event.description||"Не указано"),1)]),createBaseVNode("p",_hoisted_14$2k,[_hoisted_15$2h,createTextVNode(" "+toDisplayString(o.event.address||"Адрес не указан"),1)]),_hoisted_16$2e,o.event.services.length>0?(openBlock(),createElementBlock("div",_hoisted_17$25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.event.services,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_18$20,[createBaseVNode("i",{class:"fa-solid fa-clock-rotate-left font-20 color-blue2-dark",onClick:n=>t.toggleService(r)},null,8,_hoisted_19$1X),createBaseVNode("div",_hoisted_20$1T,[createBaseVNode("span",{class:"mb-0 line-height-xs font-700",onClick:n=>t.toggleService(r)},toDisplayString(s.title||"Не указано"),9,_hoisted_21$1P),createBaseVNode("em",{class:"mb-0 line-height-xs font-10",onClick:n=>t.toggleService(r)},toDisplayString(s.description||"Не указано "),9,_hoisted_22$1N),s.show_full?(openBlock(),createElementBlock("div",_hoisted_23$1M,[createBaseVNode("a",_hoisted_24$1H,[_hoisted_25$1B,createBaseVNode("span",_hoisted_26$1w,toDisplayString(s.category||"Не указано"),1)]),s.need_prepayment?(openBlock(),createElementBlock("a",_hoisted_27$1s,_hoisted_30$1j)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_31$1h,[createTextVNode(" Цена услуги "),(s.discount_price||0)===0?(openBlock(),createElementBlock("span",_hoisted_32$1e,toDisplayString(s.price)+" ₽",1)):(openBlock(),createElementBlock("span",_hoisted_33$1e,toDisplayString(s.discount_price)+" ₽ ",1))]),s.images.length>0?(openBlock(),createElementBlock("div",_hoisted_34$1b,[createBaseVNode("div",_hoisted_35$18,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.images,n=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link","data-lightbox":"gallery-1",href:"/file-by-file-id/"+n},[withDirectives(createBaseVNode("img",_hoisted_37$11,null,512),[[i,"/file-by-file-id/"+n]])],8,_hoisted_36$15))),256))])])):createCommentVNode("",!0)])):createCommentVNode("",!0)])]))),256))])):createCommentVNode("",!0)])]),o.event?(openBlock(),createBlock(_sfc_main$3R,{key:0,onSelect:t.selectSchedule,"event-id":o.event.id},null,8,["onSelect","event-id"])):createCommentVNode("",!0)],64)}}}),_hoisted_1$3I={key:0},_hoisted_2$3C={key:1},_hoisted_3$3u={key:2},_hoisted_4$3i={key:3},__default__$2t={name:"App",data(){return{step:1,loading:!1,selectedEvent:null,selectedSchedule:null}},mounted(){},methods:{nextToForm(o){this.selectedSchedule=o,this.step=3},backToSelectEvent(){this.step=1,this.selectedEvent=null},backToSelectSchedule(){this.selectedSchedule=null,this.step=2},selectEvent(o){this.selectedEvent=o,this.step=2}}},_sfc_main$3P=Object.assign(__default__$2t,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$3I)):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_2$3C,[createVNode(_sfc_main$3T,{onSelect:t.selectEvent},null,8,["onSelect"])])):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock("div",_hoisted_3$3u,[createVNode(_sfc_main$3Q,{onNext:t.nextToForm,onBack:t.backToSelectEvent,event:t.selectedEvent},null,8,["onNext","onBack","event"])])):createCommentVNode("",!0),t.step===3?(openBlock(),createElementBlock("div",_hoisted_4$3i,[createVNode(_sfc_main$3S,{onBack:t.backToSelectSchedule,"event-id":t.selectedEvent.id,"selected-schedule-time":t.selectedSchedule},null,8,["onBack","event-id","selected-schedule-time"])])):createCommentVNode("",!0)],64))}}),Appointments=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3P},Symbol.toStringTag,{value:"Module"})),OneArmedBandit_vue_vue_type_style_index_0_scoped_a02108c1_lang="",_sfc_main$3O={data(){return{money_amount:1e3}},mounted(){class o{constructor(l){let c=l;this.getWalletValue=()=>c,this.checkCanPlay=m=>c>=m,this.changeWalletValue=(m,p="+")=>{if(typeof m=="number"&&!isNaN(m)){if(p==="+")return c+=m;if(p==="-")return c-=m;throw new Error("Nieprawidłowy operator działania.")}else throw new Error("Nieprawidłowa liczba.")}}}class t{constructor(){this.options=["banana","plum","cherry"];let l=this.drawResult();this.getDrawResult=()=>l}drawResult(){let l=[];for(let c=0;c<this.options.length;c++){const m=Math.floor(Math.random()*this.options.length),p=this.options[m];l.push(p)}return l}}class a{static moneyWinInGame(l,c){return l?3*(Math.random()*(c-1)+1):0}static checkWinner(l){return l[0]===l[1]&&l[1]===l[2]||l[0]!==l[1]&&l[1]!==l[2]&&l[0]!==l[2]}}class i{constructor(){this.gameResults=[]}addGameToStatistics(l,c){let m={win:l,bid:c};this.gameResults.push(m)}showGameStatistics(){let l=this.gameResults.length,c=this.gameResults.filter(p=>p.win).length,m=this.gameResults.filter(p=>!p.win).length;return[l,c,m]}}class s{constructor(l=200){this.stats=new i,this.wallet=new o(l),document.getElementById("spin").addEventListener("click",this.startGame.bind(this)),this.inputBid=document.getElementById("bid"),this.walletSaldo=document.querySelector('[data-summary="user-cash"]'),this.lastGame=document.querySelector('[data-summary="last-game"]'),this.numberOfSpins=document.querySelector('[data-summary="spins"]'),this.numberOfWins=document.querySelector('[data-summary="wins"]'),this.numberOfLoses=document.querySelector('[data-summary="losses"]'),this.fruitsInMachine=[...document.querySelectorAll('[data-option="fruit"]')],this.render()}render(l=["url(../../images/bandit/dolar_start_sign.png)","url(../../images/bandit/dolar_start_sign.png)","url(../../images/bandit/dolar_start_sign.png)"],c=this.wallet.getWalletValue(),m=[0,0,0],p="",y="",b=0){y?(document.querySelector(".summary p:nth-child(2)").style.color="rgb(6, 214, 6)",document.querySelector(".summary p:nth-child(2)").style.textShadow="2px 5px 30px rgb(6, 214, 6);",p=`You win +${b*3}!`):!y&&y!==""&&(document.querySelector(".summary p:nth-child(2)").style.color="rgb(251, 17, 17)",document.querySelector(".summary p:nth-child(2)").style.textShadow="2px 5px 30px rgb(251, 17, 17);",p=`You lose -${b}`),this.walletSaldo.textContent=c,this.lastGame.textContent=p,this.numberOfSpins.textContent=m[0],this.numberOfWins.textContent=m[1],this.numberOfLoses.textContent=m[2],this.fruitsInMachine.forEach((k,V)=>k.style.backgroundImage=l[V])}startGame(){if(this.inputBid.value<1)return alert("Bid value cannot be lower than 1$.");const l=Math.floor(this.inputBid.value);if(!this.wallet.checkCanPlay(l))return alert("You don't have enough cash in wallet!");this.wallet.changeWalletValue(l,"-"),this.draw=new t;const c=r.draw.getDrawResult();c[0]==="plum"&&(this.render[0]=this.fruitsInMachine[0].style.backgroundImage="url(../../images/bandit/plum_transparent.png)"),c[1]==="plum"&&(this.render[1]=this.fruitsInMachine[1].style.backgroundImage="url(../../images/bandit/plum_transparent.png)"),c[2]==="plum"&&(this.render[2]=this.fruitsInMachine[2].style.backgroundImage="url(../../images/bandit/plum_transparent.png)"),c[0]==="banana"&&(this.render[0]=this.fruitsInMachine[0].style.backgroundImage="url(../../images/bandit/banana_transparent.png)"),c[1]==="banana"&&(this.render[1]=this.fruitsInMachine[1].style.backgroundImage="url(../../images/bandit/banana_transparent.png)"),c[2]==="banana"&&(this.render[2]=this.fruitsInMachine[2].style.backgroundImage="url(../../images/bandit/banana_transparent.png)"),c[0]==="cherry"&&(this.render[0]=this.fruitsInMachine[0].style.backgroundImage="url(../../images/bandit/cherries_transparent.png)"),c[1]==="cherry"&&(this.render[1]=this.fruitsInMachine[1].style.backgroundImage="url(../../images/bandit/cherries_transparent.png)"),c[2]==="cherry"&&(this.render[2]=this.fruitsInMachine[2].style.backgroundImage="url(../../images/bandit/cherries_transparent.png)");const m=a.checkWinner(c),p=a.moneyWinInGame(m,l);p&&this.wallet.changeWalletValue(p,"+"),this.stats.addGameToStatistics(m,l),this.render([c],this.wallet.getWalletValue(),this.stats.showGameStatistics(),this.wonMoney,m,l)}}const r=new s(this.money_amount)}},_hoisted_1$3H={class:"one-armed-bandit"},_hoisted_2$3B=createStaticVNode('<h1 class="mb-5" data-v-a02108c1>Однорукий бандит</h1><section class="machine" data-v-a02108c1><div class="cover" data-v-a02108c1><div class="inside-cover" data-v-a02108c1><div class="screen-1" data-option="fruit" data-v-a02108c1></div><div class="screen-2" data-option="fruit" data-v-a02108c1></div><div class="screen-3" data-option="fruit" data-v-a02108c1></div></div></div></section><section class="panel" data-v-a02108c1><input type="number" placeholder="$$$" id="bid" data-v-a02108c1><button class="spin" id="spin" data-v-a02108c1>КРУТИТЬ</button></section><section class="summary py-3" data-v-a02108c1><h3 class="mb-3 text-white" data-v-a02108c1>Доступно CashBack: <span data-summary="user-cash" data-v-a02108c1>0</span> $</h3><p class="mb-0 text-white" data-v-a02108c1>Прошлый результат: <span data-summary="last-game" data-v-a02108c1></span> $</p><p class="mb-0 text-white" data-v-a02108c1>За сегодня попыток: <span data-summary="spins" data-v-a02108c1>0</span> раз</p><p class="mb-0 text-white" data-v-a02108c1>Победы: <span data-summary="wins" data-v-a02108c1>0</span></p><p class="mb-0 text-white" data-v-a02108c1>Проигрыши: <span data-summary="losses" data-v-a02108c1>0</span></p></section>',4),_hoisted_6$3a=[_hoisted_2$3B];function _sfc_render$1g(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$3H,_hoisted_6$3a)}const OneArmedBandit=_export_sfc(_sfc_main$3O,[["render",_sfc_render$1g],["__scopeId","data-v-a02108c1"]]),_hoisted_1$3G=createBaseVNode("div",{class:"card card-style"},[createBaseVNode("div",{class:"content"},[createBaseVNode("p",{class:"mb-2 text-center font-18"},[createBaseVNode("strong",null,"Внимание!"),createTextVNode(" Правила игры: ")]),createBaseVNode("ul",{style:{padding:"0px 20px"}},[createBaseVNode("li",null,"цена ставки меняется в зависимости от популярности игры (чем популярнее тем выше)"),createBaseVNode("li",null,"ставка берется из вашего CashBack"),createBaseVNode("li",null,"за каждый выигрыш вы получаете игровые деньги, которые суммируются к вашему CashBack и используются для игровой ставки, но не начисляются вам как CashBack"),createBaseVNode("li",null,"каждый проигрыш списывает ваш реальный CashBack"),createBaseVNode("li",null,[createTextVNode("одна из игровых комбинация может принести вам супер-приз - "),createBaseVNode("strong",null,"Пицца 50 см")])])])],-1),_hoisted_2$3A={class:"card card-style"},_hoisted_3$3t={class:"content"},_sfc_main$3N={__name:"OneArmedBanditPage",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$3G,createBaseVNode("div",_hoisted_2$3A,[createBaseVNode("div",_hoisted_3$3t,[createVNode(OneArmedBandit)])])],64))}},OneArmedBanditPage=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3N},Symbol.toStringTag,{value:"Module"})),CategoryInlineList_vue_vue_type_style_index_0_lang="",_hoisted_1$3F={key:0,class:"d-flex flex-wrap"},_hoisted_2$3z=["onClick"],_hoisted_3$3s={class:"font-14"},__default__$2s={props:["size","selected","active"],data(){return{categories:null,categories_paginate_object:null}},computed:{...mapGetters(["getCategories","getCategoriesPaginateObject"])},mounted(){this.loadCategories()},methods:{nextCategories(o){this.loadCategories(o)},select(o){return this.$emit("select",o)},inCategory(o){return this.selected.findIndex(a=>a.id===o)>=0},loadCategories(o=0){return this.$store.dispatch("loadCategories",{page:o,size:this.size||5}).then(()=>{this.categories=this.getCategories,this.categories_paginate_object=this.getCategoriesPaginateObject})}}},_sfc_main$3M=Object.assign(__default__$2s,{__name:"CategoryInlineList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.categories?(openBlock(),createElementBlock("div",_hoisted_1$3F,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.categories,i=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:s=>t.select(i),class:normalizeClass([{"bg-green2-dark":t.inCategory(i.id),"bg-gray2-dark":o.active.indexOf(i.id)===-1&&!t.inCategory(i.id)},"m-0 mb-2 badge mr-2 bg-green2-dark rounded-l font-14 category-badge p-3"])},[createTextVNode(toDisplayString(i.title||"Не указано")+" ",1),createBaseVNode("span",_hoisted_3$3s,toDisplayString(i.count||0),1)],10,_hoisted_2$3z))),256))])):createCommentVNode("",!0),t.categories_paginate_object&&t.categories_paginate_object.meta.total>o.size?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextCategories,pagination:t.categories_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),SelfProductDelivery_vue_vue_type_style_index_0_lang="",_hoisted_1$3E={class:"d-flex flex-column"},_hoisted_2$3y={class:"card card-style"},_hoisted_3$3r={class:"content"},_hoisted_4$3h={class:"tab-controls mb-2 tabs-round tab-animated tabs-medium tabs-rounded d-flex justify-content-between"},_hoisted_5$3b={class:"row mb-0"},_hoisted_6$39={class:"col-12"},_hoisted_7$32={class:"mb-0 d-flex justify-content-between"},_hoisted_8$2Y={key:0,class:"mb-2 text-center"},_hoisted_9$2T={key:0},_hoisted_10$2I={class:"d-flex justify-content-between"},_hoisted_11$2C={key:0,class:"fa-solid fa-magnifying-glass"},_hoisted_12$2x={key:1,class:"fa-solid fa-chevron-up"},_hoisted_13$2q={key:2,class:"font-14"},_hoisted_14$2j={key:3,class:"font-14"},_hoisted_15$2g={class:"d-flex"},_hoisted_16$2d=createBaseVNode("i",{class:"fa-solid fa-list"},null,-1),_hoisted_17$24=[_hoisted_16$2d],_hoisted_18$1$=createBaseVNode("i",{class:"fa-regular fa-address-card"},null,-1),_hoisted_19$1W=[_hoisted_18$1$],_hoisted_20$1S={key:1},_hoisted_21$1O={class:"input-style input-style-2 has-icon input-required"},_hoisted_22$1M=createBaseVNode("p",{class:"mb-0"},"Цена товара",-1),_hoisted_23$1L={class:"row mb-0"},_hoisted_24$1G={class:"col-6"},_hoisted_25$1A={class:"input-style input-style-2 input-required"},_hoisted_26$1v={class:"col-6"},_hoisted_27$1r={class:"input-style input-style-2 input-required"},_hoisted_28$1p=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_29$1k=createBaseVNode("span",{class:"color-white"},"Найти товар",-1),_hoisted_30$1i=[_hoisted_28$1p,_hoisted_29$1k],_hoisted_31$1g={key:2},_hoisted_32$1d={key:3},_hoisted_33$1d=createBaseVNode("p",null,"К сожалению, никаких товаров еще нет в магазине:(",-1),_hoisted_34$1a=[_hoisted_33$1d],_hoisted_35$17=createBaseVNode("h4",null,"Итого",-1),_hoisted_36$14=createBaseVNode("p",null," Ниже приведена итоговая цена заказа без учета стоимости доставки. Цена доставки рассчитывается отдельно и зависит от расстояния. ",-1),_hoisted_37$10=["onClick"],_hoisted_38$_={key:0,class:"col-6 text-left"},_hoisted_39$_={class:"font-600"},_hoisted_40$V={class:"col-2 d-flex justify-content-between align-items-center"},_hoisted_41$V=createBaseVNode("i",{class:"fa-regular fa-square-minus mr-2"},null,-1),_hoisted_42$V={class:"font-600 mb-0"},_hoisted_43$V=createBaseVNode("i",{class:"fa-regular fa-square-plus ml-2 color-green2-dark"},null,-1),_hoisted_44$U={key:1,class:"col-4 text-right"},_hoisted_45$U={class:"font-600"},_hoisted_46$T=createBaseVNode("sup",null,".00",-1),_hoisted_47$Q=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_48$Q={key:0,class:"row mb-0"},_hoisted_49$M=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, ед.")],-1),_hoisted_50$L={class:"col-6 text-right"},_hoisted_51$J=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, цена")],-1),_hoisted_52$J={class:"col-6 text-right"},_hoisted_53$I={key:0},_hoisted_54$H=createBaseVNode("sup",null,".00",-1),_hoisted_55$E={key:1},_hoisted_56$D=createBaseVNode("sup",null,".00",-1),_hoisted_57$C={key:0,class:"col-6 text-left"},_hoisted_58$A=createBaseVNode("h4",null," Использовать CashBack",-1),_hoisted_59$A=[_hoisted_58$A],_hoisted_60$z={key:1,class:"col-6 text-right"},_hoisted_61$y={key:0,class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_62$w={key:0,class:"custom-control-label",style:{"padding-left":"30px"},for:"toggle-use_cashback"},_hoisted_63$w={key:1,class:"custom-control-label",style:{"padding-left":"30px"},for:"toggle-use_cashback"},_hoisted_64$u=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_65$u=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_66$u={key:2,class:"col-6 text-left"},_hoisted_67$u=createBaseVNode("h4",null,"Доступно для списания",-1),_hoisted_68$u=[_hoisted_67$u],_hoisted_69$u={key:3,class:"col-6 text-right"},_hoisted_70$u=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),_hoisted_71$u=createBaseVNode("span",{class:"color-white"},"Очистить корзину",-1),_hoisted_72$s=[_hoisted_70$u,_hoisted_71$u],_hoisted_73$r=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_74$q=createBaseVNode("h4",null,"Оформление заказа",-1),_hoisted_75$q={class:"input-style input-style-2 has-icon"},_hoisted_76$o=createBaseVNode("i",{class:"input-icon fa fa-user"},null,-1),_hoisted_77$o={class:"input-style input-style-2 has-icon"},_hoisted_78$m=createBaseVNode("i",{class:"input-icon fa-solid fa-phone"},null,-1),_hoisted_79$m=createBaseVNode("p",{class:"mb-0 text-left"},"Как хотите получить заказ?",-1),_hoisted_80$m={class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_81$m={key:0,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_82$m={key:1,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_83$j=createBaseVNode("i",{class:"fa-solid fa-person-walking-luggage font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_84$i=createBaseVNode("i",{class:"fa-solid fa-truck font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_85$h={key:1,class:"input-style input-style-2 has-icon"},_hoisted_86$h=createBaseVNode("i",{class:"input-icon fa-solid fa-city"},null,-1),_hoisted_87$h={key:2,class:"input-style input-style-2 has-icon"},_hoisted_88$h=createBaseVNode("i",{class:"input-icon fa-solid fa-road"},null,-1),_hoisted_89$g={key:3,class:"input-style input-style-2 has-icon"},_hoisted_90$g=createBaseVNode("i",{class:"input-icon fa-solid fa-house-user"},null,-1),_hoisted_91$g={key:4,class:"input-style input-style-2 has-icon"},_hoisted_92$g=createBaseVNode("i",{class:"input-icon fa-solid fa-door-open"},null,-1),_hoisted_93$g={key:5,class:"input-style input-style-2 has-icon"},_hoisted_94$g=createBaseVNode("i",{class:"input-icon fa-solid fa-house-flag"},null,-1),_hoisted_95$g={key:6,class:"input-style input-style-2 has-icon"},_hoisted_96$e=createBaseVNode("i",{class:"input-icon fa-solid fa-layer-group"},null,-1),_hoisted_97$e={key:7,class:"input-style input-style-2 has-icon"},_hoisted_98$e=createBaseVNode("span",{class:"input-style-1-active input-style-1-inactive"},"Информация для доставщика",-1),_hoisted_99$e=createBaseVNode("i",{class:"input-icon fa-solid fa-envelope-open-text"},null,-1),_hoisted_100$e=createBaseVNode("p",{class:"mb-0 text-left"},"К какому времени заказ должен быть готов?",-1),_hoisted_101$e={class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_102$e={key:0,class:"custom-control-label pl-5",for:"toggle-when-ready"},_hoisted_103$e={key:1,class:"custom-control-label pl-5",for:"toggle-when-ready"},_hoisted_104$d=createBaseVNode("i",{class:"fa-solid fa-clock font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_105$d=createBaseVNode("i",{class:"fa-solid fa-mug-hot font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_106$c={key:8,class:"input-style input-style-2 has-icon"},_hoisted_107$c=createBaseVNode("i",{class:"input-icon fa-regular fa-clock"},null,-1),_hoisted_108$c={key:9,class:"mb-0 text-left"},_hoisted_109$c={key:10,class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_110$b={key:0,class:"custom-control-label pl-5",for:"toggle-has-disability"},_hoisted_111$a={key:1,class:"custom-control-label pl-5",for:"toggle-has-disability"},_hoisted_112$a=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_113$a=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_114$a={key:11,class:"list-group list-custom-small"},_hoisted_115$8={class:"border-0",href:"javascript:void(0)"},_hoisted_116$8=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-head-side-mask shadow-s bg-red1-dark"},null,-1),_hoisted_117$8=createBaseVNode("span",null,"Болею",-1),_hoisted_118$8={class:"custom-control scale-switch ios-switch"},_hoisted_119$8=createBaseVNode("label",{class:"custom-control-label",for:"switch-1"},null,-1),_hoisted_120$7=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_121$7={class:"border-0",href:"javascript:void(0)"},_hoisted_122$7=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-eye shadow-s bg-red1-dark"},null,-1),_hoisted_123$7=createBaseVNode("span",null,"Слабовидящий",-1),_hoisted_124$7={class:"custom-control scale-switch ios-switch"},_hoisted_125$7=createBaseVNode("label",{class:"custom-control-label",for:"switch-2"},null,-1),_hoisted_126$7=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_127$7={class:"border-0",href:"javascript:void(0)"},_hoisted_128$7=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-wheelchair shadow-s bg-red1-dark"},null,-1),_hoisted_129$7=createBaseVNode("span",null,"Ограничения мобильности",-1),_hoisted_130$6={class:"custom-control scale-switch ios-switch"},_hoisted_131$6=createBaseVNode("label",{class:"custom-control-label",for:"switch-3"},null,-1),_hoisted_132$5=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_133$4={class:"border-0",href:"javascript:void(0)"},_hoisted_134$4=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-ear-deaf shadow-s bg-red1-dark"},null,-1),_hoisted_135$4=createBaseVNode("span",null,"Плохо слышит \\ говорит",-1),_hoisted_136$4={class:"custom-control scale-switch ios-switch"},_hoisted_137$4=createBaseVNode("label",{class:"custom-control-label",for:"switch-4"},null,-1),_hoisted_138$4=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_139$4={key:12,class:"mb-0 text-left"},_hoisted_140$4={key:13,class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_141$4={key:0,class:"custom-control-label pl-5",for:"toggle-payment-cash"},_hoisted_142$4={key:1,class:"custom-control-label pl-5",for:"toggle-payment-cash"},_hoisted_143$4=createBaseVNode("i",{class:"fa-solid fa-money-bill-1-wave font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_144$4=createBaseVNode("i",{class:"fa-solid fa-credit-card font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_145$4={key:14},_hoisted_146$4=createBaseVNode("h6",null,"Мы можем подготовить для вас сдачу с:",-1),_hoisted_147$4={class:"row row-cols-2 mb-0"},_hoisted_148$4={class:"col"},_hoisted_149$4=["onClick"],_hoisted_150$4=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,"или введите другую сумму...")],-1),_hoisted_151$4={class:"input-style input-style-2 has-icon"},_hoisted_152$4=createBaseVNode("i",{class:"input-icon fa-solid fa-door-open"},null,-1),_hoisted_153$4=createBaseVNode("p",{class:"mb-0 text-left"},"Число персон",-1),_hoisted_154$4={class:"row text-center mr-2 ml-2 mb-3"},_hoisted_155$4={class:"col-4 mb-n2"},_hoisted_156$4=createBaseVNode("i",{class:"fa-solid fa-minus font-22"},null,-1),_hoisted_157$4=[_hoisted_156$4],_hoisted_158$4={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},_hoisted_159$4={class:"font-22"},_hoisted_160$4={class:"col-4 mb-n2"},_hoisted_161$4=createBaseVNode("i",{class:"fa-solid fa-plus font-22"},null,-1),_hoisted_162$4=[_hoisted_161$4],_hoisted_163$4=["innerHTML"],_hoisted_164$4={key:16},_hoisted_165$3=["disabled"],_hoisted_166$3={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_167$3={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_168$3={key:2,class:"color-white"},_hoisted_169$3={key:3,class:"color-white"},__default__$2r={props:["type"],data(){return{tab:0,settings:{can_use_cash:!0,delivery_price_text:null,min_price:0,min_price_for_cashback:0,menu_list_type:0,need_category_by_page:!1},product_type_display:1,spent_time_counter:0,is_requested:!1,isCollapsed:!0,search:null,products:[],paginate:null,categories:[],sending:!1,min_price:null,max_price:null,moneyVariants:[500,1e3,2e3,5e3],deliveryForm:{name:null,phone:null,address:null,city:null,street:null,building:null,flat_number:null,entrance_number:null,floor_number:null,info:null,need_pickup:!1,has_disability:!1,use_cashback:!1,disabilities:[],money:null,cash:!0,persons:1,time:null,when_ready:!0}}},watch:{"deliveryForm.cash":{handler:function(o){this.deliveryForm.cash||(this.deliveryForm.money=null)},deep:!0}},computed:{...mapGetters(["getProducts","getProductsPaginateObject","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),getCurrentBot(){return window.currentBot},cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,a=this.getCurrentBot.max_cashback_use_percent||0,i=t*(a/100);return Math.min(i,o)},filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products},tg(){return window.Telegram.WebApp},activeCategories(){let o=[];return this.filteredProducts.forEach(t=>{o.push(t.categories.map(a=>a.id))}),[...new Set(o.map(t=>t[0])),...new Set(o.map(t=>t[1]))]}},mounted(){localStorage.getItem("cashman_self_product_delivery_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_self_product_delivery_counter"))),localStorage.getItem("cashman_self_product_type_display")!=null&&(this.product_type_display=parseInt(localStorage.getItem("cashman_self_product_type_display")||0)),this.deliveryForm.name=localStorage.getItem("cashman_self_product_delivery_form_name")!=null?localStorage.getItem("cashman_self_product_delivery_form_name"):null,this.deliveryForm.phone=localStorage.getItem("cashman_self_product_delivery_form_phone")!=null?localStorage.getItem("cashman_self_product_delivery_form_phone"):null,this.deliveryForm.address=localStorage.getItem("cashman_self_product_delivery_form_address")!=null?localStorage.getItem("cashman_self_product_delivery_form_address"):null,this.deliveryForm.city=localStorage.getItem("cashman_self_product_delivery_form_city")!=null?localStorage.getItem("cashman_self_product_delivery_form_city"):null,this.deliveryForm.street=localStorage.getItem("cashman_self_product_delivery_form_street")!=null?localStorage.getItem("cashman_self_product_delivery_form_street"):null,this.deliveryForm.building=localStorage.getItem("cashman_self_product_delivery_form_building")!=null?localStorage.getItem("cashman_self_product_delivery_form_building"):null,this.deliveryForm.flat_number=localStorage.getItem("cashman_self_product_delivery_form_flat_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_flat_number"):null,this.deliveryForm.entrance_number=localStorage.getItem("cashman_self_product_delivery_form_entrance_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_entrance_number"):null,this.deliveryForm.disabilities=localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")!=null?JSON.parse(localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")):[],this.deliveryForm.disabilities.length>0&&(this.deliveryForm.has_disability=!0),this.loadProducts(),this.loadShopModuleData(),this.cartProducts.length>0&&this.loadActualProducts(),window.addEventListener("scroll-to-basket",o=>{this.tab=2,document.querySelector("#basket").scrollIntoView({behavior:"smooth"})})},methods:{doSwipeLeft(){let o=this.cartProducts.length>0?2:1;this.tab===0?this.tab=o:this.tab--},doSwipeRight(){let o=this.cartProducts.length>0?2:1;this.tab===o?this.tab=0:this.tab++},decPersons(){this.deliveryForm.persons=this.deliveryForm.persons>1?this.deliveryForm.persons-1:this.deliveryForm.persons},incPersons(){this.deliveryForm.persons=this.deliveryForm.persons<100?this.deliveryForm.persons+1:this.deliveryForm.persons},selectProductTypeDisplay(o){this.product_type_display=o,localStorage.setItem("cashman_self_product_type_display",this.product_type_display)},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",this.spent_time_counter)},1e3)},clearCart(){this.tab=1,this.$store.dispatch("clearCart").then(()=>{this.$botNotification.success("Корзина","Корзина успешно очищена")})},resetCategories(){this.categories=[],this.loadProducts(0)},selectCategory(o){if(this.settings.need_category_by_page)this.categories=[o];else{let t=this.categories.findIndex(a=>a.id===o.id);t!==-1?this.categories.splice(t,1):this.categories.push(o)}this.settings.need_category_by_page&&(this.tab=1),this.loadProducts(0)},nextProducts(o){this.loadProducts(o)},loadShopModuleData(){return this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{o&&Object.keys(o).forEach(t=>{t&&(this.settings[t]=o[t])})})})},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search,categories:this.categories.length>0?this.categories.map(t=>t.id):null,min_price:this.min_price||null,max_price:this.max_price||null},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,baseJS.handler()})},startCheckout(){if(this.is_requested){this.$botNotification.warning("Упс!",`Сделать повторный заказ можно через <strong>${this.spent_time_counter} сек.</strong>`);return}localStorage.setItem("cashman_self_product_delivery_form_name",this.deliveryForm.name||""),localStorage.setItem("cashman_self_product_delivery_form_phone",this.deliveryForm.phone||""),localStorage.setItem("cashman_self_product_delivery_form_address",this.deliveryForm.address||""),localStorage.setItem("cashman_self_product_delivery_form_city",this.deliveryForm.city||""),localStorage.setItem("cashman_self_product_delivery_form_street",this.deliveryForm.street||""),localStorage.setItem("cashman_self_product_delivery_form_building",this.deliveryForm.building||""),localStorage.setItem("cashman_self_product_delivery_form_flat_number",this.deliveryForm.flat_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_number",this.deliveryForm.entrance_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_disabilities",JSON.stringify(this.deliveryForm.disabilities||[]));let o=new FormData;this.sending=!0,Object.keys(this.deliveryForm).forEach(t=>{const a=this.deliveryForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.type&&o.append("type",this.type),this.$store.dispatch("startCheckout",{deliveryForm:o}).then(t=>{this.deliveryForm={message:null,name:null,phone:null},this.$botNotification.success("Доставка","Дальнейшая инструкция отправлена вам в бот!"),this.tab=1,this.$store.dispatch("clearCart"),this.tg.close(),this.sending=!1}).catch(t=>{this.sending=!1}),this.startTimer(),this.is_requested=!0},loadActualProducts(){this.$store.dispatch("loadActualPriceInCart")},removeCategory(o){this.categories.splice(o,1)},addToCart(o){this.$cart.add(o.product)}}},_sfc_main$3L=Object.assign(__default__$2r,{__name:"SelfProductDelivery",setup(o){return(t,a)=>{var r,n,l,c,m,p,y;const i=resolveDirective("mask"),s=resolveDirective("touch");return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$3E,[createBaseVNode("div",_hoisted_2$3y,[createBaseVNode("div",_hoisted_3$3r,[createBaseVNode("div",_hoisted_4$3h,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass(["w-100",{"bg-blue2-dark color-white no-click":t.tab===0}]),onClick:a[0]||(a[0]=b=>t.tab=0)},"Категории",2),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass(["w-100",{"bg-blue2-dark color-white no-click":t.tab===1}]),onClick:a[1]||(a[1]=b=>t.tab=1)},"Товары",2),t.cartProducts.length>0?(openBlock(),createElementBlock("a",{key:0,class:normalizeClass([{"bg-blue2-dark color-white no-click":t.tab===2},"w-100"]),onClick:a[2]||(a[2]=b=>t.tab=2),href:"javascript:void(0)"},"Корзина",2)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("div",_hoisted_5$3b,[createBaseVNode("div",_hoisted_6$39,[createBaseVNode("p",_hoisted_7$32,[createTextVNode("Категории товара "),t.categories.length>0?(openBlock(),createElementBlock("a",{key:0,onClick:a[3]||(a[3]=b=>t.resetCategories()),href:"javascript:void(0)"},"Сбросить")):createCommentVNode("",!0)]),t.paginate?(openBlock(),createElementBlock("p",_hoisted_8$2Y,[createBaseVNode("small",null,"Всего товаров найдено ("+toDisplayString(t.paginate.meta.total)+")",1)])):createCommentVNode("",!0),createVNode(_sfc_main$3M,{"single-mode":!0,active:t.activeCategories,selected:t.categories,onSelect:t.selectCategory},null,8,["active","selected","onSelect"])])],512),[[vShow,t.tab===0]]),withDirectives(createBaseVNode("div",null,[t.paginate?(openBlock(),createElementBlock("div",_hoisted_9$2T,[createBaseVNode("div",_hoisted_10$2I,[createBaseVNode("a",{href:"javascript:void(0)",style:{"border-radius":"10px !important"},onClick:a[4]||(a[4]=b=>t.isCollapsed=!t.isCollapsed),class:"btn btn-border btn-m bg-red2-dark btn-full mb-3 text-uppercase font-900 color-blue2-dark mr-2"},[t.isCollapsed?(openBlock(),createElementBlock("i",_hoisted_11$2C)):(openBlock(),createElementBlock("i",_hoisted_12$2x)),t.isCollapsed?(openBlock(),createElementBlock("span",_hoisted_13$2q)):(openBlock(),createElementBlock("span",_hoisted_14$2j))]),createBaseVNode("div",_hoisted_15$2g,[createBaseVNode("a",{href:"javascript:void(0)",style:{"border-radius":"10px !important"},onClick:a[5]||(a[5]=b=>t.selectProductTypeDisplay(0)),class:normalizeClass([{"bg-blue2-dark":t.product_type_display==0},"btn btn-border btn-m btn-full mb-3 text-uppercase font-900 color-blue2-dark mr-2"])},_hoisted_17$24,2),createBaseVNode("a",{href:"javascript:void(0)",style:{"border-radius":"10px !important"},onClick:a[6]||(a[6]=b=>t.selectProductTypeDisplay(1)),class:normalizeClass([{"bg-blue2-dark":t.product_type_display==1},"btn btn-border btn-m btn-full mb-3 text-uppercase font-900 color-blue2-dark"])},_hoisted_19$1W,2)])])])):createCommentVNode("",!0),t.isCollapsed?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_20$1S,[createBaseVNode("div",_hoisted_21$1O,[createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:a[7]||(a[7]=b=>t.loadProducts(0))}),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[8]||(a[8]=b=>t.search=b),type:"search",placeholder:"Название товара"},null,512),[[vModelText,t.search]])]),_hoisted_22$1M,createBaseVNode("div",_hoisted_23$1L,[createBaseVNode("div",_hoisted_24$1G,[createBaseVNode("div",_hoisted_25$1A,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[9]||(a[9]=b=>t.min_price=b),class:"form-control",type:"number",min:"0",placeholder:"От, руб"},null,512),[[vModelText,t.min_price]])])]),createBaseVNode("div",_hoisted_26$1v,[createBaseVNode("div",_hoisted_27$1r,[withDirectives(createBaseVNode("input",{class:"form-control",min:"0","onUpdate:modelValue":a[10]||(a[10]=b=>t.max_price=b),type:"number",placeholder:"До, руб"},null,512),[[vModelText,t.max_price]])])])]),createBaseVNode("button",{onClick:a[11]||(a[11]=b=>t.loadProducts(0)),class:"btn btn-full btn-sm rounded-s bg-highlight font-800 text-uppercase w-100 mb-2"},_hoisted_30$1i)])),t.products.length>0?(openBlock(),createElementBlock("div",_hoisted_31$1g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(b,k)=>(openBlock(),createBlock(_sfc_main$4a,{"display-type":t.product_type_display,item:b},null,8,["display-type","item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_32$1d,_hoisted_34$1a))],512),[[vShow,t.tab===1]]),withDirectives(createBaseVNode("div",null,[t.cartProducts.length>0?(openBlock(),createElementBlock("form",{key:0,id:"basket",onSubmit:a[35]||(a[35]=withModifiers((...b)=>t.startCheckout&&t.startCheckout(...b),["prevent"]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(b,k)=>(openBlock(),createBlock(_sfc_main$4a,{item:b.product},null,8,["item"]))),256)),_hoisted_35$17,_hoisted_36$14,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(b,k)=>(openBlock(),createElementBlock("div",{class:"row mb-0",onClick:V=>t.addToCart(b)},[b.product?(openBlock(),createElementBlock("div",_hoisted_38$_,[createBaseVNode("h6",_hoisted_39$_,toDisplayString(b.product.title||"Не указано"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_40$V,[_hoisted_41$V,createBaseVNode("h6",_hoisted_42$V,"x"+toDisplayString(b.quantity||1),1),_hoisted_43$V]),b.product?(openBlock(),createElementBlock("div",_hoisted_44$U,[createBaseVNode("h6",_hoisted_45$U,[createTextVNode(toDisplayString(b.product.current_price||0)+" ",1),_hoisted_46$T,createTextVNode("₽")])])):createCommentVNode("",!0)],8,_hoisted_37$10))),256)),_hoisted_47$Q,t.getSelf?(openBlock(),createElementBlock("div",_hoisted_48$Q,[_hoisted_49$M,createBaseVNode("div",_hoisted_50$L,[createBaseVNode("h4",null,toDisplayString(t.cartTotalCount)+" шт.",1)]),_hoisted_51$J,createBaseVNode("div",_hoisted_52$J,[(r=t.deliveryForm)!=null&&r.use_cashback?createCommentVNode("",!0):(openBlock(),createElementBlock("h4",_hoisted_53$I,[createTextVNode(toDisplayString(t.cartTotalPrice),1),_hoisted_54$H,createTextVNode("₽")])),(n=t.deliveryForm)!=null&&n.use_cashback?(openBlock(),createElementBlock("h4",_hoisted_55$E,[createTextVNode(toDisplayString(t.cartTotalPrice-t.cashbackLimit),1),_hoisted_56$D,createTextVNode("₽ ")])):createCommentVNode("",!0)]),t.getSelf.cashBack&&t.settings.min_price_for_cashback<t.cartTotalPrice?(openBlock(),createElementBlock("div",_hoisted_57$C,_hoisted_59$A)):createCommentVNode("",!0),t.getSelf.cashBack&&t.settings.min_price_for_cashback<t.cartTotalPrice?(openBlock(),createElementBlock("div",_hoisted_60$z,[t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_61$y,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[12]||(a[12]=b=>t.deliveryForm.use_cashback=b),class:"ios-input",id:"toggle-use_cashback"},null,512),[[vModelCheckbox,t.deliveryForm.use_cashback]]),(l=t.deliveryForm)!=null&&l.use_cashback?(openBlock(),createElementBlock("label",_hoisted_62$w)):createCommentVNode("",!0),(c=t.deliveryForm)!=null&&c.use_cashback?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_63$w)),_hoisted_64$u,_hoisted_65$u]))])):createCommentVNode("",!0),(m=t.deliveryForm)!=null&&m.use_cashback?(openBlock(),createElementBlock("div",_hoisted_66$u,_hoisted_68$u)):createCommentVNode("",!0),(p=t.deliveryForm)!=null&&p.use_cashback?(openBlock(),createElementBlock("div",_hoisted_69$u,[createBaseVNode("h4",null,toDisplayString(t.cashbackLimit)+"₽",1)])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("button",{onClick:a[13]||(a[13]=(...b)=>t.clearCart&&t.clearCart(...b)),class:"btn btn-full btn-sm rounded-l bg-red1-dark font-800 text-uppercase w-100"},_hoisted_72$s),_hoisted_73$r,_hoisted_74$q,createBaseVNode("div",_hoisted_75$q,[_hoisted_76$o,withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":a[14]||(a[14]=b=>t.deliveryForm.name=b),type:"text",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,t.deliveryForm.name]])]),createBaseVNode("div",_hoisted_77$o,[_hoisted_78$m,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[15]||(a[15]=b=>t.deliveryForm.phone=b),placeholder:"+7(000)000-00-00",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.deliveryForm.phone]])]),_hoisted_79$m,createBaseVNode("div",_hoisted_80$m,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[16]||(a[16]=b=>t.deliveryForm.need_pickup=b),class:"ios-input",id:"toggle-need-pickup"},null,512),[[vModelCheckbox,t.deliveryForm.need_pickup]]),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_81$m,"Доставка")),t.deliveryForm.need_pickup?(openBlock(),createElementBlock("label",_hoisted_82$m,"Самовывоз")):createCommentVNode("",!0),_hoisted_83$j,_hoisted_84$i]),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_85$h,[_hoisted_86$h,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[17]||(a[17]=b=>t.deliveryForm.city=b),placeholder:"Ваш город",required:""},null,512),[[vModelText,t.deliveryForm.city]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_87$h,[_hoisted_88$h,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[18]||(a[18]=b=>t.deliveryForm.street=b),placeholder:"Улица",required:""},null,512),[[vModelText,t.deliveryForm.street]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_89$g,[_hoisted_90$g,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[19]||(a[19]=b=>t.deliveryForm.building=b),placeholder:"Номер дома",required:""},null,512),[[vModelText,t.deliveryForm.building]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_91$g,[_hoisted_92$g,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[20]||(a[20]=b=>t.deliveryForm.flat_number=b),placeholder:"Номер квартиры"},null,512),[[vModelText,t.deliveryForm.flat_number]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_93$g,[_hoisted_94$g,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[21]||(a[21]=b=>t.deliveryForm.entrance_number=b),placeholder:"Номер подъезда"},null,512),[[vModelText,t.deliveryForm.entrance_number]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_95$g,[_hoisted_96$e,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[22]||(a[22]=b=>t.deliveryForm.floor_number=b),placeholder:"Номер этажа"},null,512),[[vModelText,t.deliveryForm.floor_number]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_97$e,[_hoisted_98$e,_hoisted_99$e,withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%",padding:"35px"},"onUpdate:modelValue":a[23]||(a[23]=b=>t.deliveryForm.info=b),type:"text",placeholder:""},null,512),[[vModelText,t.deliveryForm.info]])])),_hoisted_100$e,createBaseVNode("div",_hoisted_101$e,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=b=>t.deliveryForm.when_ready=b),class:"ios-input",id:"toggle-when-ready"},null,512),[[vModelCheckbox,t.deliveryForm.when_ready]]),t.deliveryForm.when_ready?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_102$e,"Ко времени")),t.deliveryForm.when_ready?(openBlock(),createElementBlock("label",_hoisted_103$e,"По готовности")):createCommentVNode("",!0),_hoisted_104$d,_hoisted_105$d]),t.deliveryForm.when_ready?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_106$c,[_hoisted_107$c,withDirectives(createBaseVNode("input",{class:"form-control",type:"datetime-local","onUpdate:modelValue":a[25]||(a[25]=b=>t.deliveryForm.time=b),placeholder:"Время доставки"},null,512),[[vModelText,t.deliveryForm.time]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_108$c,"Ограничения по здоровью")),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_109$c,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[26]||(a[26]=b=>t.deliveryForm.has_disability=b),class:"ios-input",id:"toggle-has-disability"},null,512),[[vModelCheckbox,t.deliveryForm.has_disability]]),t.deliveryForm.has_disability?(openBlock(),createElementBlock("label",_hoisted_110$b,"Есть")):createCommentVNode("",!0),t.deliveryForm.has_disability?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_111$a,"Нет")),_hoisted_112$a,_hoisted_113$a])),t.deliveryForm.has_disability?(openBlock(),createElementBlock("div",_hoisted_114$a,[createBaseVNode("a",_hoisted_115$8,[_hoisted_116$8,_hoisted_117$8,createBaseVNode("div",_hoisted_118$8,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"болею","onUpdate:modelValue":a[27]||(a[27]=b=>t.deliveryForm.disabilities=b),class:"ios-input",id:"switch-1"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_119$8]),_hoisted_120$7]),createBaseVNode("a",_hoisted_121$7,[_hoisted_122$7,_hoisted_123$7,createBaseVNode("div",_hoisted_124$7,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"слабовидящий","onUpdate:modelValue":a[28]||(a[28]=b=>t.deliveryForm.disabilities=b),class:"ios-input",id:"switch-2"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_125$7]),_hoisted_126$7]),createBaseVNode("a",_hoisted_127$7,[_hoisted_128$7,_hoisted_129$7,createBaseVNode("div",_hoisted_130$6,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"ограничения мобильности","onUpdate:modelValue":a[29]||(a[29]=b=>t.deliveryForm.disabilities=b),class:"ios-input",id:"switch-3"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_131$6]),_hoisted_132$5]),createBaseVNode("a",_hoisted_133$4,[_hoisted_134$4,_hoisted_135$4,createBaseVNode("div",_hoisted_136$4,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"проблемы со слухом \\ голосом","onUpdate:modelValue":a[30]||(a[30]=b=>t.deliveryForm.disabilities=b),class:"ios-input",id:"switch-4"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_137$4]),_hoisted_138$4])])):createCommentVNode("",!0),t.settings.can_use_cash?(openBlock(),createElementBlock("p",_hoisted_139$4,"Способы оплаты")):createCommentVNode("",!0),t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_140$4,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[31]||(a[31]=b=>t.deliveryForm.cash=b),class:"ios-input",id:"toggle-payment-cash"},null,512),[[vModelCheckbox,t.deliveryForm.cash]]),t.deliveryForm.cash?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_141$4,"Переводом")),t.deliveryForm.cash?(openBlock(),createElementBlock("label",_hoisted_142$4,"Наличные")):createCommentVNode("",!0),_hoisted_143$4,_hoisted_144$4])):createCommentVNode("",!0),t.deliveryForm.cash&&t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_145$4,[_hoisted_146$4,createBaseVNode("div",_hoisted_147$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moneyVariants,b=>(openBlock(),createElementBlock("div",_hoisted_148$4,[createBaseVNode("button",{class:normalizeClass(["btn btn-outline-success w-100 mb-2 rounded-xl",{"btn-success text-white":t.deliveryForm.money===b}]),type:"button",onClick:k=>t.deliveryForm.money=b},toDisplayString(b)+"₽ ",11,_hoisted_149$4)]))),256))]),_hoisted_150$4,createBaseVNode("div",_hoisted_151$4,[_hoisted_152$4,withDirectives(createBaseVNode("input",{class:"form-control",type:"number",min:"0","onUpdate:modelValue":a[32]||(a[32]=b=>t.deliveryForm.money=b),placeholder:"С какой суммы нужна сдача"},null,512),[[vModelText,t.deliveryForm.money]])])])):createCommentVNode("",!0),_hoisted_153$4,createBaseVNode("div",_hoisted_154$4,[createBaseVNode("div",_hoisted_155$4,[createBaseVNode("button",{onClick:a[33]||(a[33]=(...b)=>t.decPersons&&t.decPersons(...b)),type:"button",class:"btn p-2 w-100 bg-green1-dark rounded-l m-0"},_hoisted_157$4)]),createBaseVNode("div",_hoisted_158$4,[createBaseVNode("strong",_hoisted_159$4,toDisplayString(t.deliveryForm.persons),1)]),createBaseVNode("div",_hoisted_160$4,[createBaseVNode("button",{type:"button",onClick:a[34]||(a[34]=(...b)=>t.incPersons&&t.incPersons(...b)),class:"btn p-2 w-100 bg-green2-dark rounded-l m-0"},_hoisted_162$4)])]),t.settings.delivery_price_text?(openBlock(),createElementBlock("p",{key:15,innerHTML:t.settings.delivery_price_text},null,8,_hoisted_163$4)):createCommentVNode("",!0),t.settings.min_price?(openBlock(),createElementBlock("p",_hoisted_164$4,"Минимальная цена заказа "+toDisplayString(t.settings.min_price||0)+" руб",1)):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",disabled:t.spent_time_counter>0||((y=t.deliveryForm)!=null&&y.use_cashback?t.settings.min_price>t.cartTotalPrice-t.cashbackLimit:t.settings.min_price>t.cartTotalPrice),class:"btn btn-full btn-sm rounded-l bg-highlight font-800 text-uppercase w-100 mb-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("i",_hoisted_166$3)):(openBlock(),createElementBlock("i",_hoisted_167$3)),t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_168$3,"Оформить")):(openBlock(),createElementBlock("span",_hoisted_169$3,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_165$3)],32)):createCommentVNode("",!0)],512),[[vShow,t.tab===2]])])])])),[[s,t.doSwipeLeft,"swipe",{left:!0}],[s,t.doSwipeRight,"swipe",{right:!0}]])}}}),__default__$2q={},_sfc_main$3K=Object.assign(__default__$2q,{__name:"Main",setup(o){return(t,a)=>(openBlock(),createBlock(_sfc_main$3L))}}),Main$2=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3K},Symbol.toStringTag,{value:"Module"})),Promocode_vue_vue_type_style_index_0_lang="",_hoisted_1$3D={class:"card card-style"},_hoisted_2$3x={class:"content"},_hoisted_3$3q=createBaseVNode("p",{class:"text-center font-weight-bold mb-0"},"Приветствуем!",-1),_hoisted_4$3g=createBaseVNode("p",{class:"text-center font-italic"}," У вас есть промокод? Отлично! Активируйте его прямо сейчас и наслаждайтесь эксклюзивными преимуществами! ",-1),_hoisted_5$3a={class:"input-style input-style-2 has-icon"},_hoisted_6$38=createBaseVNode("i",{class:"input-icon fa-solid fa-terminal"},null,-1),_hoisted_7$31=["disabled"],_hoisted_8$2X={key:0,class:"color-white"},_hoisted_9$2S={key:1,class:"color-white"},__default__$2p={name:"App",data(){return{spent_time_counter:0,is_requested:!1,promocodeForm:{code:null}}},mounted(){localStorage.getItem("cashman_promocode_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_promocode_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_promocode_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.$store.dispatch("activatePromocode",{promocodeForm:this.promocodeForm}).then(o=>{this.$notify({title:"Промокод",text:"Промокод успешно активирован!",type:"success"}),this.promocodeForm.code=null}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка активации промокода!",type:"error"})})}}},_sfc_main$3J=Object.assign(__default__$2p,{setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3D,[createBaseVNode("div",_hoisted_2$3x,[_hoisted_3$3q,_hoisted_4$3g,createBaseVNode("form",{onSubmit:a[1]||(a[1]=withModifiers((...i)=>t.submit&&t.submit(...i),["prevent"]))},[createBaseVNode("div",_hoisted_5$3a,[_hoisted_6$38,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.promocodeForm.code=i),placeholder:"Ваш промокод",required:""},null,512),[[vModelText,t.promocodeForm.code]])]),createBaseVNode("button",{type:"submit",disabled:t.spent_time_counter>0,class:"btn btn-full btn-sm rounded-l bg-highlight font-800 text-uppercase w-100 mb-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_8$2X,"Активировать промокод")):(openBlock(),createElementBlock("span",_hoisted_9$2S,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_7$31)],32)])]))}}),Promocode=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3J},Symbol.toStringTag,{value:"Module"})),FriendsGame_vue_vue_type_style_index_0_lang$1="",_hoisted_1$3C={class:"card card-style"},_hoisted_2$3w={class:"content d-flex justify-content-center flex-wrap"},_hoisted_3$3p={class:"img-avatar"},_hoisted_4$3f=["innerHTML"],_hoisted_5$39={key:0,class:"content"},_hoisted_6$37={class:"text-center mb-2"},_hoisted_7$30={class:"text-center mb-2"},_hoisted_8$2W={class:"mb-2 text-primary-emphasis"},_hoisted_9$2R={class:"progress w-100",style:{height:"40px","border-radius":"25px"},role:"progressbar","aria-label":"Basic example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},_hoisted_10$2H=createBaseVNode("p",{class:"my-2"},"Когда полоска вашего прогресса достигнет 100% вы сможете получить свои бонусы!",-1),_hoisted_11$2B={class:"content"},_hoisted_12$2w={key:1},_hoisted_13$2p={key:2},_hoisted_14$2i=["disabled"],__default__$2o={name:"App",data(){return{action:null,settings:{image:null,rules:null},friendsForm:{friends_invite:0,current_friends:0,needed_friends:0,friends_on_start:0,start_at:null,complete_at:null}}},computed:{currentBot(){return window.currentBot},progress(){let o=this.friendsForm.needed_friends||0,t=this.friendsForm.current_friends||0,a=this.friendsForm.friends_on_start||0;return(t-a)/(o-a)*100}},mounted(){this.prepareUserData()},methods:{start(){this.$store.dispatch("friendsGameStart").then(o=>{this.prepareUserData(),this.$botNotification.success("Отлично!","Игра началась! Поехали приглашать друзей")}).catch(()=>{this.$botNotification.warning("Упс...!","Игра почему-то не началась...")})},complete(){this.$store.dispatch("friendsGameFinish").then(o=>{this.prepareUserData(),this.$botNotification.success("Отлично!","Спасибо за участие в задании, скоро вы получите свои бонусы!")}).catch(()=>{this.$botNotification.warning("Упс...!","Мы не можем закончить это задание...")})},lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("friendsGamePrepare").then(o=>{this.action=o.action,this.settings.rules=o.rules||null,this.settings.image=o.image||null,this.action.data&&(this.friendsForm.current_friends=this.action.data.current_friends||0,this.friendsForm.needed_friends=this.action.data.needed_friends||0,this.friendsForm.friends_invite=this.action.data.friends_invite||0,this.friendsForm.friends_on_start=this.action.data.friends_on_start||0,this.friendsForm.start_at=this.action.data.start_at||null,this.friendsForm.complete_at=this.action.data.complete_at||null)})}}},_sfc_main$3I=Object.assign(__default__$2o,{setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$3C,[createBaseVNode("div",_hoisted_2$3w,[createBaseVNode("div",_hoisted_3$3p,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+t.currentBot.id+"/"+t.currentBot.image]])]),createBaseVNode("p",null,[createTextVNode(" Перед началом квеста нажмите кнопку «Начать». Затем перейдите в главное меню Бота и нажмите кнопку «Пригласить Друзей/Подруг». Там вы найдете свою реферальную ссылку, которую легко можно отправить тем, кого хотели бы пригласить в наш Бот. Для выполнения квеста нужно пригласить "),createBaseVNode("strong",null,toDisplayString((t.friendsForm.needed_friends||0)-(t.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей/подруг , которые активируют нашего бота по вашей реферальной ссылке. ")]),t.settings.rules?(openBlock(),createElementBlock("p",{key:0,innerHTML:t.settings.rules},null,8,_hoisted_4$3f)):createCommentVNode("",!0)]),t.friendsForm.start_at!=null?(openBlock(),createElementBlock("div",_hoisted_5$39,[createBaseVNode("p",_hoisted_6$37,[createTextVNode("У вас сейчас "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.friends_invite||0),1),createTextVNode(" / "),createBaseVNode("strong",null,toDisplayString((t.friendsForm.needed_friends||0)-(t.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_7$30,[createTextVNode("По заданию приглашено "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.friends_invite||0),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_8$2W,[createTextVNode("Текущий прогресс "),createBaseVNode("strong",null,toDisplayString(t.progress)+"%",1)]),createBaseVNode("div",_hoisted_9$2R,[createBaseVNode("div",{class:"progress-bar bg-success progress-bar-striped",style:normalizeStyle({width:t.progress+"%"})},toDisplayString(t.progress.toFixed(2))+"% ",5)]),_hoisted_10$2H])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11$2B,[t.friendsForm.complete_at==null&&t.friendsForm.start_at==null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-m btn-full my-3 rounded-xl text-uppercase font-900 shadow-s bg-green2-dark w-100",onClick:a[0]||(a[0]=(...s)=>t.start&&t.start(...s))},"Приступить к заданию")):createCommentVNode("",!0),t.friendsForm.start_at!=null?(openBlock(),createElementBlock("p",_hoisted_12$2w,[createTextVNode("Задание начато "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.start_at),1)])):createCommentVNode("",!0),t.friendsForm.complete_at!=null?(openBlock(),createElementBlock("p",_hoisted_13$2p,[createTextVNode("Задание завершено "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.complete_at),1)])):createCommentVNode("",!0),t.friendsForm.start_at!=null?(openBlock(),createElementBlock("button",{key:3,type:"button",onClick:a[1]||(a[1]=(...s)=>t.complete&&t.complete(...s)),disabled:t.progress<100||t.friendsForm.complete_at!=null||t.friendsForm.start_at==null,class:"btn btn-m btn-full my-3 rounded-xl text-uppercase font-900 shadow-s bg-green2-dark w-100"},"Получить награды",8,_hoisted_14$2i)):createCommentVNode("",!0),createVNode(ReturnToBot)])])}}}),FriendsGame$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3I},Symbol.toStringTag,{value:"Module"})),SushiCalc_vue_vue_type_style_index_0_lang="",_sfc_main$3H={data(){return{timer:null,message:"",roll_coating:77,summary_count:0,summary_weight:0,summary_price:0,price:0,weight:0,fillings:[]}},watch:{roll_coating:function(o,t){t&&this.removeItem(t),o&&this.addItem(o)},summary_count:function(o){this.summary_price=this.price*this.summary_count,this.summary_weight=this.weight*this.summary_count},fillings:function(o){},products:function(o,t){return o}},computed:{...mapGetters(["getIngredientsFilling","getIngredientsCategory","getAllFillings"]),products(){return this.$store.getters.cartProducts}},mounted(){},methods:{addToCart(){},clearCalc(){},decrementSummary(){},incrementSummary(){},hasManyItems(o){return this.getAllFillings.filter(t=>t===o).length},removeItem(o){},addItem(o){},getCategory(o){return this.getIngredientsCategory(o)},getFilling(o){return this.getIngredientsFilling(o)},sendMessage(o){}}},_hoisted_1$3B={class:"card card-style"},_hoisted_2$3v={class:"content"},_hoisted_3$3o=createBaseVNode("h1",{class:"text-center mt-4 mb-4"},"Собираем вкусный ролл",-1),_hoisted_4$3e=createBaseVNode("h2",{class:"text-center"},[createBaseVNode("mark",null,"Выбираем покрытие ролла")],-1),_hoisted_5$38={class:"my-4"},_hoisted_6$36={class:"container-wrapper"},_hoisted_7$2$={class:"container"},_hoisted_8$2V={class:"badge badge-weight"},_hoisted_9$2Q={class:"badge"},_hoisted_10$2G=["disabled","value"],_hoisted_11$2A=["disabled","value"],_hoisted_12$2v=createBaseVNode("span",{class:"checkmark"},null,-1),_hoisted_13$2o={class:"my-4"},_hoisted_14$2h={class:"container-wrapper"},_hoisted_15$2f={class:"w-100 font-14"},_hoisted_16$2c={class:"badge badge-weight"},_hoisted_17$23={class:"badge"},_hoisted_18$1_=["disabled","value"],_hoisted_19$1V=["disabled","value"],_hoisted_20$1R=createBaseVNode("span",{class:"checkmark"},null,-1),_hoisted_21$1N=createBaseVNode("h2",{class:"text-center"},[createBaseVNode("mark",null,"А теперь выбираем начинку ролла...")],-1),_hoisted_22$1L={class:"row mt-4"},_hoisted_23$1K={class:"col-12 col-sm-12 col-md-6"},_hoisted_24$1F={class:"container-wrapper"},_hoisted_25$1z={class:"container"},_hoisted_26$1u={class:"badge badge-weight"},_hoisted_27$1q={class:"badge"},_hoisted_28$1o=["disabled","value"],_hoisted_29$1j=["value","disabled"],_hoisted_30$1h=createBaseVNode("span",{class:"checkmark"},null,-1),_hoisted_31$1f={key:0},_hoisted_32$1c={key:0,class:"counter-wrapper"},_hoisted_33$1c={class:"counter"},_hoisted_34$19=["onClick"],_hoisted_35$16=["onClick"],_hoisted_36$13=createBaseVNode("hr",null,null,-1),_hoisted_37$$={class:"text-center mb-4"},_hoisted_38$Z={class:"row d-flex justify-content-center result"},_hoisted_39$Z={class:"col-12 col-sm-12 col-md-6 col-lg-4"},_hoisted_40$U=createBaseVNode("h3",{class:"text-center"},"Сколько таких роллов сделать?",-1),_hoisted_41$U={class:"summary"},_hoisted_42$U=createBaseVNode("i",{class:"fa-solid fa-minus font-16 p-3"},null,-1),_hoisted_43$U=[_hoisted_42$U],_hoisted_44$T=createBaseVNode("i",{class:"fa-solid fa-plus font-16 p-3"},null,-1),_hoisted_45$T=[_hoisted_44$T],_hoisted_46$S=createBaseVNode("hr",null,null,-1),_hoisted_47$P={class:"d-flex justify-content-center"},_hoisted_48$P={key:0,class:"text-center mt-4"},_hoisted_49$L={class:"text-white"},_hoisted_50$K={class:"d-flex justify-content-center flex-wrap mt-4"},_hoisted_51$I={class:"col-12 col-sm-6 col-md-6 d-flex justify-content-center"},_hoisted_52$I=["disabled"],_hoisted_53$H={class:"col-12 col-sm-6 col-md-6 d-flex justify-content-center"};function _sfc_render$1f(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$3B,[createBaseVNode("div",_hoisted_2$3v,[_hoisted_3$3o,_hoisted_4$3e,createBaseVNode("div",_hoisted_5$38,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.getFilling(11),n=>(openBlock(),createElementBlock("div",_hoisted_6$36,[createBaseVNode("label",_hoisted_7$2$,[createTextVNode(toDisplayString(n.title),1),createBaseVNode("span",_hoisted_8$2V,toDisplayString(n.weight)+" гр.",1),createBaseVNode("span",_hoisted_9$2Q,toDisplayString(n.price|o.currency),1),n.checked?withDirectives((openBlock(),createElementBlock("input",{key:0,checked:"checked",type:"checkbox",disabled:n.disabled||r.hasManyItems(n.id)>1,"onUpdate:modelValue":t[0]||(t[0]=l=>s.fillings=l),value:n.id},null,8,_hoisted_10$2G)),[[vModelCheckbox,s.fillings]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"checkbox",disabled:n.disabled||r.hasManyItems(n.id)>1,"onUpdate:modelValue":t[1]||(t[1]=l=>o.pizza_base=l),value:n.id},null,8,_hoisted_11$2A)),[[vModelCheckbox,o.pizza_base]]),_hoisted_12$2v])]))),256))]),createBaseVNode("div",_hoisted_13$2o,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.getFilling(9),n=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_14$2h,[createBaseVNode("label",_hoisted_15$2f,[createTextVNode(toDisplayString(n.title),1),createBaseVNode("span",_hoisted_16$2c,toDisplayString(n.weight)+" гр.",1),createBaseVNode("span",_hoisted_17$23,toDisplayString(n.price|o.currency),1),n.checked?withDirectives((openBlock(),createElementBlock("input",{key:0,checked:"checked",type:"radio",name:"roll_coating",disabled:n.disabled||r.hasManyItems(n.id)>1,"onUpdate:modelValue":t[2]||(t[2]=l=>s.roll_coating=l),value:n.id},null,8,_hoisted_18$1_)),[[vModelRadio,s.roll_coating]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"radio",name:"roll_coating",disabled:n.disabled||r.hasManyItems(n.id)>1,"onUpdate:modelValue":t[3]||(t[3]=l=>s.roll_coating=l),value:n.id},null,8,_hoisted_19$1V)),[[vModelRadio,s.roll_coating]]),_hoisted_20$1R])])]))),256))]),_hoisted_21$1N,createBaseVNode("div",_hoisted_22$1L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.getFilling(10),n=>(openBlock(),createElementBlock("div",_hoisted_23$1K,[createBaseVNode("div",_hoisted_24$1F,[createBaseVNode("label",_hoisted_25$1z,[createTextVNode(toDisplayString(n.title),1),createBaseVNode("span",_hoisted_26$1u,toDisplayString(n.weight)+" гр.",1),createBaseVNode("span",_hoisted_27$1q,toDisplayString(n.price|o.currency),1),n.checked?withDirectives((openBlock(),createElementBlock("input",{key:0,checked:"checked",type:"checkbox",name:"filling",disabled:n.disabled||r.hasManyItems(n.id)>1||s.fillings.length>=6&&s.fillings.indexOf(n.id)===-1,"onUpdate:modelValue":t[4]||(t[4]=l=>s.fillings=l),value:n.id},null,8,_hoisted_28$1o)),[[vModelCheckbox,s.fillings]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"checkbox",name:"filling",value:n.id,disabled:n.disabled||r.hasManyItems(n.id)>1||s.fillings.length>=6&&s.fillings.indexOf(n.id)===-1,"onUpdate:modelValue":t[5]||(t[5]=l=>s.fillings=l)},null,8,_hoisted_29$1j)),[[vModelCheckbox,s.fillings]]),_hoisted_30$1h]),n.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_31$1f,[r.hasManyItems(n.id)>0?(openBlock(),createElementBlock("div",_hoisted_32$1c,[createBaseVNode("div",_hoisted_33$1c,[createBaseVNode("button",{class:"btn btn-counter",onClick:l=>r.removeItem(n.id)},"-",8,_hoisted_34$19),createBaseVNode("p",null,toDisplayString(r.hasManyItems(n.id)),1),createBaseVNode("button",{class:"btn btn-counter",onClick:l=>r.addItem(n.id)},"+",8,_hoisted_35$16)])])):createCommentVNode("",!0)]))])]))),256))]),_hoisted_36$13,createBaseVNode("p",_hoisted_37$$,[createBaseVNode("em",null,[createBaseVNode("strong",null,[createTextVNode("Цена указана за 1 порцию роллов (вы заказали "),createBaseVNode("mark",null,toDisplayString(s.summary_count),1),createTextVNode(" порций). Порция включает в себя 8 штук роллов общей массой "),createBaseVNode("mark",null,toDisplayString(s.weight),1),createTextVNode(" грамм.")])])]),createBaseVNode("div",_hoisted_38$Z,[createBaseVNode("div",_hoisted_39$Z,[_hoisted_40$U,createBaseVNode("div",_hoisted_41$U,[createBaseVNode("button",{class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark",onClick:t[6]||(t[6]=(...n)=>r.decrementSummary&&r.decrementSummary(...n))},_hoisted_43$U),createBaseVNode("p",null,toDisplayString(s.summary_count),1),createBaseVNode("button",{class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark",onClick:t[7]||(t[7]=(...n)=>r.incrementSummary&&r.incrementSummary(...n))},_hoisted_45$T)]),_hoisted_46$S,createBaseVNode("div",_hoisted_47$P,[createBaseVNode("ul",null,[createBaseVNode("li",null,[createTextVNode("Вес: "),createBaseVNode("strong",null,toDisplayString(s.summary_weight)+" грамм",1)]),createBaseVNode("li",null,[createTextVNode("Цена: "),createBaseVNode("strong",null,toDisplayString(s.summary_price)+" руб",1)])])]),s.message.length>0?(openBlock(),createElementBlock("p",_hoisted_48$P,[createBaseVNode("mark",_hoisted_49$L,toDisplayString(s.message),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_50$K,[createBaseVNode("div",_hoisted_51$I,[createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100",disabled:s.summary_count===0,onClick:t[8]||(t[8]=(...n)=>r.addToCart&&r.addToCart(...n))}," В корзину ",8,_hoisted_52$I)]),createBaseVNode("div",_hoisted_53$H,[createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100",onClick:t[9]||(t[9]=(...n)=>r.clearCalc&&r.clearCalc(...n))}," Очистить ")])])])])])])}const SushiCalc=_export_sfc(_sfc_main$3H,[["render",_sfc_render$1f]]),_sfc_main$3G={__name:"FoodConstructors",setup(o){return(t,a)=>(openBlock(),createBlock(SushiCalc))}},FoodConstructors=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3G},Symbol.toStringTag,{value:"Module"}));var script=defineComponent({name:"Roulette",emits:["wheelStart","wheelEnd"],props:{items:{type:Object,required:!0,validator:function(t){return t.length>=4}},firstItemIndex:{type:Object,required:!1,default:function(){return{value:0}}},wheelResultIndex:{type:Object,required:!1,default:function(){return{value:null}},validator:function(t){return typeof t.value=="number"}},centeredIndicator:{type:Boolean,required:!1,default:!1},indicatorPosition:{type:String,required:!1,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},size:{type:Number,required:!1,default:300},displayShadow:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:4},resultVariation:{type:Number,required:!1,default:0,validator:function(t){return t>=0&&t<=100}},easing:{type:String,required:!1,default:"ease",validator:function(t){return["ease","bounce"].includes(t)}},counterClockwise:{type:Boolean,required:!1,default:!1},horizontalContent:{type:Boolean,required:!1,default:!1},displayBorder:{type:Boolean,required:!1,default:!1},displayIndicator:{type:Boolean,required:!1,default:!0},baseDisplay:{type:Boolean,required:!1,default:!1},baseSize:{type:Number,required:!1,default:100},baseDisplayShadow:{type:Boolean,required:!1,default:!1},baseDisplayIndicator:{type:Boolean,required:!1,default:!1},baseBackground:{type:String,required:!1,default:""}},data:function(){return{randomIdRoulette:0,itemSelected:null,processingLock:!1}},computed:{itemAngle:function(){return 360/this.items.length},startingAngle:function(){return this.centeredIndicator?-1*this.firstItemIndex.value*this.itemAngle-this.itemAngle/2:-1*this.firstItemIndex.value*this.itemAngle},degreesVariation:function(){if(!this.resultVariation)return 0;var t=this.itemAngle/2*this.resultVariation/100*-1,a=this.itemAngle/2*this.resultVariation/100;return Number((Math.random()*(a-t)+t).toFixed(2))},counterClockWiseOperator:function(){return this.counterClockwise?-1:1}},mounted:function(){var t=this;this.randomIdRoulette=Number((Math.random()*(999999-1)+1).toFixed(0)),this.$nextTick(function(){t.reset(),document.querySelector("#wheel-container-".concat(t.randomIdRoulette," .wheel")).addEventListener("transitionend",function(){t.processingLock=!1,t.$emit("wheel-end",t.itemSelected)})})},methods:{reset:function(){this.itemSelected=null,document.querySelector("#wheel-container-".concat(this.randomIdRoulette," .wheel")).style.transform="rotate(".concat(this.startingAngle,"deg)")},launchWheel:function(){if(!(this.processingLock&&this.itemSelected!=null)){this.processingLock=!0;var t;this.wheelResultIndex.value!==null?t=this.wheelResultIndex.value%this.items.length:t=Math.floor(Math.random()*this.items.length+1)-1;var a=document.querySelector("#wheel-container-".concat(this.randomIdRoulette," .wheel"));this.itemSelected=this.items[t],a.style.transform="rotate(".concat(this.counterClockWiseOperator*(360*3)+-t*this.itemAngle-this.itemAngle/2+this.degreesVariation,"deg)"),this.$emit("wheel-start",this.itemSelected)}}}}),_hoisted_1$3A=["id"],_hoisted_2$3u={class:"wheel-base"},_hoisted_3$3n={key:0,class:"wheel-base-indicator"},_hoisted_4$3d=["innerHTML"];function render(o,t,a,i,s,r){return openBlock(),createElementBlock("div",{id:"wheel-container-".concat(o.randomIdRoulette),class:normalizeClass(["wheel-container",["indicator-".concat(o.indicatorPosition),{"wheel-container-indicator":o.displayIndicator},{"wheel-container-shadow":o.displayShadow},{"wheel-container-border":o.displayBorder}]])},[o.baseDisplay?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["wheel-base-container",[{"wheel-base-container-shadow":o.baseDisplayShadow}]]),style:normalizeStyle({width:"".concat(o.baseSize,"px"),height:"".concat(o.baseSize,"px"),background:"".concat(o.baseBackground)})},[createBaseVNode("div",_hoisted_2$3u,[renderSlot(o.$slots,"baseContent")]),o.baseDisplayIndicator?(openBlock(),createElementBlock("div",_hoisted_3$3n)):createCommentVNode("",!0)],6)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["wheel",["easing-".concat(o.easing),{"wheel-border":o.displayBorder}]]),style:normalizeStyle({width:"".concat(o.size,"px"),height:"".concat(o.size,"px"),transitionDuration:"".concat(o.duration,"s"),transform:"rotate(".concat(o.startingAngle,"deg)")})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,function(n,l){return openBlock(),createElementBlock("div",{key:n.id,class:"wheel-item",style:normalizeStyle({transform:"rotate(".concat(o.itemAngle*l,"deg) skewY(").concat(-(90-o.itemAngle),"deg)"),background:n.background})},[createBaseVNode("div",{class:normalizeClass(["content",{"horizontal-content":o.horizontalContent}]),style:normalizeStyle({transform:"skewY(".concat(90-o.itemAngle,"deg) rotate(").concat(o.itemAngle/2,"deg)")})},[createBaseVNode("span",{style:normalizeStyle({color:n.textColor}),innerHTML:n.htmlContent},null,12,_hoisted_4$3d)],6)],4)}),128))],6)],10,_hoisted_1$3A)}function styleInject(o,t){t===void 0&&(t={});var a=t.insertAt;if(!(!o||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o))}}var css_248z=`.wheel-container[data-v-2d0cf945],
.wheel-base[data-v-2d0cf945],
.wheel-base-container[data-v-2d0cf945],
.wheel-base-indicator[data-v-2d0cf945] {
  transition: transform 1s ease-in-out;
}
.wheel-container[data-v-2d0cf945] {
  position: relative;
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  cursor: pointer;
}
.wheel-container-indicator[data-v-2d0cf945]:before {
  content: "";
  position: absolute;
  z-index: 4;
  width: 0;
  height: 0;
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-top: 20px solid black;
  transform: translateX(-50%);
}
.wheel-container.indicator-top[data-v-2d0cf945] {
  transform: rotate(0deg);
}
.wheel-container.indicator-right[data-v-2d0cf945] {
  transform: rotate(90deg);
}
.wheel-container.indicator-right .wheel-base[data-v-2d0cf945] {
  transform: rotate(-90deg);
}
.wheel-container.indicator-bottom[data-v-2d0cf945] {
  transform: rotate(180deg);
}
.wheel-container.indicator-bottom .wheel-base[data-v-2d0cf945] {
  transform: rotate(-180deg);
}
.wheel-container.indicator-left[data-v-2d0cf945] {
  transform: rotate(270deg);
}
.wheel-container.indicator-left .wheel-base[data-v-2d0cf945] {
  transform: rotate(-270deg);
}
.wheel-container-border[data-v-2d0cf945] {
  border: 8px solid black;
}
.wheel-container-shadow[data-v-2d0cf945] {
  box-shadow: 5px 5px 15px -5px #000000;
}
.wheel-base-container[data-v-2d0cf945] {
  position: absolute;
  z-index: 2;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  border: 5px solid black;
  transform: translate(-50%, -50%);
}
.wheel-base-container-shadow[data-v-2d0cf945] {
  box-shadow: 5px 5px 15px -5px #000000;
}
.wheel-base-container .wheel-base[data-v-2d0cf945] {
  position: absolute;
  z-index: 2;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  width: 100%;
  height: 100%;
  border-radius: 50%;
}
.wheel-base-container .wheel-base-indicator[data-v-2d0cf945] {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
}
.wheel-base-container .wheel-base-indicator[data-v-2d0cf945]:before {
  content: "";
  position: absolute;
  z-index: 1;
  top: -20px;
  width: 0;
  height: 0;
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-bottom: 20px solid black;
  transform: translateX(-50%);
}
.wheel[data-v-2d0cf945] {
  background: white;
  border-radius: 50%;
  margin: auto;
  overflow: hidden;
}
.wheel.easing-ease[data-v-2d0cf945] {
  transition: transform cubic-bezier(0.65, 0, 0.35, 1);
}
.wheel.easing-bounce[data-v-2d0cf945] {
  transition: transform cubic-bezier(0.49, 0.02, 0.52, 1.12);
}
.wheel-border[data-v-2d0cf945]:after {
  content: "";
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  z-index: 3;
  border-radius: 50%;
  background-image: linear-gradient(to left, black 33%, rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 3px 1px;
  /* background:linear-gradient(red,purple,orange); */
  -webkit-mask: radial-gradient(transparent 65%, #000 66%);
  mask: radial-gradient(transparent 65%, #000 66%);
}
.wheel-item[data-v-2d0cf945] {
  overflow: hidden;
  position: absolute;
  top: 0;
  right: 0;
  width: 50%;
  height: 50%;
  transform-origin: 0% 100%;
  border: 1px solid black;
}
.wheel-item[data-v-2d0cf945]:nth-child(odd) {
  background-color: skyblue;
}
.wheel-item[data-v-2d0cf945]:nth-child(even) {
  background-color: pink;
}
.wheel .content[data-v-2d0cf945] {
  position: absolute;
  left: -100%;
  width: 200%;
  height: 200%;
  text-align: center;
  transform: skewY(30deg) rotate(0deg);
  padding-top: 20px;
}
.wheel .content.horizontal-content[data-v-2d0cf945] {
  left: initial;
  right: 100%;
  width: 50%;
  height: 250%;
  text-align: right;
}
.wheel .content.horizontal-content span[data-v-2d0cf945] {
  display: block;
  transform: rotate(270deg);
}`;styleInject(css_248z);script.render=render;script.__scopeId="data-v-2d0cf945";const Wheel_vue_vue_type_style_index_0_lang="",_hoisted_1$3z={key:0,class:"card card-style"},_hoisted_2$3t={class:"content"},_hoisted_3$3m=createBaseVNode("h4",null,"Правила данной игры",-1),_hoisted_4$3c={key:0,class:"mb-2"},_hoisted_5$37=createBaseVNode("p",{style:{"font-weight":"900",color:"red"},class:"mb-2"},"Вы израсходовали все ваши попытки",-1),_hoisted_6$35=[_hoisted_5$37],_hoisted_7$2_={key:2,class:"m-0 p-0"},_hoisted_8$2U={class:"d-flex flex-column mb-2"},_hoisted_9$2P={key:1,class:"card card-style"},_hoisted_10$2F={class:"content d-flex justify-content-center flex-wrap"},_hoisted_11$2z=createBaseVNode("div",null,"Поехали",-1),_hoisted_12$2u=createBaseVNode("h3",null,"Анкета участника акции",-1),_hoisted_13$2n=createBaseVNode("p",null," Для участия в конкурсе и дальнейшего получения приза необходимо заполнить данную анкету! Укажите своё имя и номер телефона чтоб менеджер мог выдать Вам приз по итогу. ",-1),__default__$2n={name:"App",components:{Roulette:script},data(){return{winResultMessage:"Наш менеджер свяжется с вами для дальнейших инструкций.",rules:null,rouletteKey:0,action:null,hasProfileData:!1,winForm:{win:null},items:[]}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("wheelOfFortunePrepare").then(o=>{this.action=o.action})},loadServiceData(){return this.$store.dispatch("wheelOfFortuneLoadData").then(o=>{let t=1;this.rules=o.rules,this.winResultMessage=o.callback_message;const a=o.wheels;this.items=[],a.forEach(i=>{this.items.push({id:t,name:i.value,htmlContent:i.value,textColor:"",background:""}),t++})})},submit(){let o=new FormData;Object.keys(this.winForm).forEach(a=>{const i=this.winForm[a]||"";typeof i=="object"?o.append(a,JSON.stringify(i)):o.append(a,i)});const t=this.winForm.win||"Что-то интересное...";this.$store.dispatch("wheelOfFortuneWin",{winForm:o}).then(a=>{this.winForm.win=null,this.winForm.name=null,this.winForm.phone=null,this.prepareUserData()}).catch(a=>{}),this.$botNotification.success("Вы выиграли!",t)},launchWheel(){this.rouletteKey+=1,setTimeout(()=>this.$refs.wheel.launchWheel(),0)},wheelStartedCallback(){},callbackPlayerForm(o){this.winForm={...this.winForm,...o},this.hasProfileData=!0},wheelEndedCallback(o){if(!o)return;const t=o.id;setTimeout(()=>{this.winForm.win=t,this.submit(),this.hasProfileData=!1},2e3),this.$botNotification.success("Победа!","Вы выиграли приз <strong>"+(this.winForm.win||"-")+"</strong>.")}}},_sfc_main$3F=Object.assign(__default__$2n,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$3z,[createBaseVNode("div",_hoisted_2$3t,[_hoisted_3$3m,createBaseVNode("p",null,toDisplayString(t.rules),1),t.canPlay?(openBlock(),createElementBlock("p",_hoisted_4$3c,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",null,toDisplayString(t.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",null,toDisplayString(t.action.max_attempts||1),1)])):(openBlock(),createElementBlock("div",{key:1,onClick:a[0]||(a[0]=(...i)=>t.lose&&t.lose(...i))},_hoisted_6$35)),t.action.data?(openBlock(),createElementBlock("ul",_hoisted_7$2_,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.data,i=>(openBlock(),createElementBlock("li",_hoisted_8$2U,[createBaseVNode("span",null,[createTextVNode("Приз "),createBaseVNode("strong",null,"№"+toDisplayString(i.win||"Отсуствует"),1)]),createBaseVNode("span",null,[createTextVNode("Описание "),createBaseVNode("strong",null,toDisplayString(i.description||"Отсуствует"),1)]),createBaseVNode("span",null,[createTextVNode("Победитель "),createBaseVNode("strong",null,toDisplayString(i.name||"Не указано"),1)]),createBaseVNode("span",null,[createTextVNode("Телефон "),createBaseVNode("strong",null,toDisplayString(i.phone||"Не указано"),1)])]))),256))])):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.canPlay&&t.hasProfileData?(openBlock(),createElementBlock("div",_hoisted_9$2P,[createBaseVNode("div",_hoisted_10$2F,[(openBlock(),createBlock(unref(script),{ref:"wheel",size:"300",key:t.rouletteKey,items:t.items,"centered-indicator":"","indicator-position":"top","display-shadow":"","display-border":"","base-display":"","base-display-indicator":"","base-background":"orange","base-display-shadow":"",easing:"bounce",onWheelStart:t.wheelStartedCallback,onWheelEnd:t.wheelEndedCallback,onClick:t.launchWheel},{baseContent:withCtx(()=>[_hoisted_11$2z]),_:1},8,["items","onWheelStart","onWheelEnd","onClick"]))])])):createCommentVNode("",!0),t.canPlay&&!t.hasProfileData?(openBlock(),createBlock(PlayerForm,{key:2,onCallback:t.callbackPlayerForm},{head:withCtx(()=>[_hoisted_12$2u,_hoisted_13$2n]),_:1},8,["onCallback"])):createCommentVNode("",!0)],64))}}),Wheel=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3F},Symbol.toStringTag,{value:"Module"})),WheelSecond_vue_vue_type_style_index_0_lang="",_sfc_main$3E={props:["items"],mounted(){const o=this.items,t=document.querySelector(".deal-wheel"),a=t.querySelector(".spinner"),i=t.querySelector(".btn-spin"),s=t.querySelector(".ticker"),r=360/o.length,n=Math.floor(180/o.length),l="is-spinning",c="selected",m=window.getComputedStyle(a);let p,y=0,b=0,k;const V=()=>{o.forEach(({text:se,color:ue,reaction:G},le)=>{const X=r*le*-1-n;a.insertAdjacentHTML("beforeend",`<li class="prize" data-reaction=${G} style="--rotate: ${X}deg">
        <span class="text">${se}</span>
      </li>`)})},F=()=>{a.setAttribute("style",`background: conic-gradient(
      from -90deg,
      ${o.map(({color:se},ue)=>`${se} 0 ${100/o.length*(o.length-ue)-.25}%,black 0 ${100/o.length*(o.length-ue)}%`).reverse()}
    );`)},x=()=>{F(),V(),k=t.querySelectorAll(".prize")},J=(se,ue)=>(se=Math.ceil(se),ue=Math.floor(ue),Math.floor(Math.random()*(ue-se+1))+se),H=()=>{const se=m.transform.split("(")[1].split(")")[0].split(","),ue=se[0],G=se[1];let le=Math.atan2(G,ue);le<0&&(le+=2*Math.PI);const X=Math.round(le*(180/Math.PI)),N=Math.floor(X/r);b!==N&&(s.style.animation="none",setTimeout(()=>s.style.animation=null,10),b=N),p=requestAnimationFrame(H)},he=()=>{const se=Math.floor(y/r);if(se<0||se>=k.length){H();return}k[se].classList.add(c),this.$emit("callback",se)};i.addEventListener("click",()=>{i.disabled=!0,y=Math.floor(Math.random()*360+J(2e3,5e3)),k.forEach(se=>se.classList.remove(c)),t.classList.add(l),a.style.setProperty("--rotate",y),s.style.animation="none",H()}),a.addEventListener("transitionend",()=>{cancelAnimationFrame(p),y%=360,he(),t.classList.remove(l),a.style.setProperty("--rotate",y),i.disabled=!1}),x()}},_hoisted_1$3y={class:"deal-container"},_hoisted_2$3s={class:"deal-wheel"},_hoisted_3$3l=createStaticVNode('<div class="outer-circle"></div><div class="deal-wheel-full"><div class="inner-circle"></div><div class="inner-circle-2"></div></div><ul class="spinner"></ul><div class="ticker"><div class="circle"></div><div class="arrow"></div></div>',4),_hoisted_7$2Z={class:"btn-spin"};function _sfc_render$1e(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$3y,[createBaseVNode("div",_hoisted_2$3s,[_hoisted_3$3l,createBaseVNode("button",_hoisted_7$2Z,[renderSlot(o.$slots,"baseContent")])])])}const WheelSecond=_export_sfc(_sfc_main$3E,[["render",_sfc_render$1e]]),WheelCustom_vue_vue_type_style_index_0_lang$1="",_hoisted_1$3x={key:0,class:"card card-style"},_hoisted_2$3r={class:"content"},_hoisted_3$3k=createBaseVNode("h4",null,"Правила данной игры",-1),_hoisted_4$3b=["innerHTML"],_hoisted_5$36={key:0,class:"mb-2"},_hoisted_6$34=createBaseVNode("p",{style:{"font-weight":"900",color:"red"},class:"mb-2"},"Вы израсходовали все ваши попытки",-1),_hoisted_7$2Y=[_hoisted_6$34],_hoisted_8$2T={key:2,class:"m-0 p-0"},_hoisted_9$2O={class:"d-flex flex-column mb-2"},_hoisted_10$2E={key:1,class:"card card-style"},_hoisted_11$2y={class:"content d-flex justify-content-center flex-wrap"},__default__$2m={name:"App",data(){return{winResultMessage:"Наш менеджер свяжется с вами для дальнейших инструкций.",rules:null,rouletteKey:0,action:null,hasProfileData:!1,wheelDataLoaded:!1,winForm:{win:null},items:[]}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("wheelOfFortuneCustomPrepare").then(o=>{this.action=o.action})},loadServiceData(){return this.wheelDataLoaded=!1,this.$store.dispatch("wheelOfFortuneCustomLoadData").then(o=>{let t=0;const a=["#645b00","#9a4000","#831814","#831131","#83118d","#7529eb","#0e2e75","#115965","#0f6b2b","#476c17","#756d21","#854a1c"];this.rules=o.rules,this.winResultMessage=o.callback_message;const i=o.wheels.sort(()=>Math.random()-.5);this.items=[],i.forEach(s=>{this.items.push({text:s.value,color:a[t]}),t=t<a.length?t+1:0}),this.wheelDataLoaded=!0})},submit(){let o=new FormData;Object.keys(this.winForm).forEach(a=>{const i=this.winForm[a]||"";typeof i=="object"?o.append(a,JSON.stringify(i)):o.append(a,i)});const t=this.winForm.win||null;o.append("description",this.items[t].text||"Без описания"),this.$store.dispatch("wheelOfFortuneCustomWin",{winForm:o}).then(a=>{this.winForm.win=null,this.winForm.name=null,this.winForm.phone=null,this.prepareUserData(),this.tg.close()}).catch(a=>{}),this.$botNotification.success("Вы выиграли!","Вы выиграли приз "+(t?this.items[t].text:"Что-то интересное..."))},callbackPlayerForm(o){this.winForm={...this.winForm,...o},this.hasProfileData=!0},wheelEndedCallback(o){this.wheelDataLoaded=!1,console.log("game event",o);const t=o;setTimeout(()=>{this.winForm.win=t,this.submit()},2e3)}}},_sfc_main$3D=Object.assign(__default__$2m,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$3x,[createBaseVNode("div",_hoisted_2$3r,[_hoisted_3$3k,createBaseVNode("p",{innerHTML:t.rules},null,8,_hoisted_4$3b),t.canPlay&&t.action?(openBlock(),createElementBlock("p",_hoisted_5$36,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",null,toDisplayString(t.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",null,toDisplayString(t.action.max_attempts||1),1)])):(openBlock(),createElementBlock("div",{key:1,onClick:a[0]||(a[0]=(...i)=>t.lose&&t.lose(...i))},_hoisted_7$2Y)),t.action?(openBlock(),createElementBlock("ul",_hoisted_8$2T,[t.action.data?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.action.data,i=>(openBlock(),createElementBlock("li",_hoisted_9$2O,[createBaseVNode("span",null,[createTextVNode("Название приза "),createBaseVNode("strong",null,toDisplayString(i.description||"Отсутствует"),1)]),createBaseVNode("span",null,[createTextVNode("Победитель "),createBaseVNode("strong",null,toDisplayString(i.name||"Не указано"),1)]),createBaseVNode("span",null,[createTextVNode("Телефон "),createBaseVNode("strong",null,toDisplayString(i.phone||"Не указано"),1)])]))),256)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"my-2"})])])):createCommentVNode("",!0),t.canPlay&&t.wheelDataLoaded?(openBlock(),createElementBlock("div",_hoisted_10$2E,[createBaseVNode("div",_hoisted_11$2y,[createVNode(WheelSecond,{items:t.items,onCallback:t.wheelEndedCallback},{baseContent:withCtx(()=>[createTextVNode(" Испытай удачу ")]),_:1},8,["items","onCallback"])])])):createCommentVNode("",!0)],64))}}),WheelCustom$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3D},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3w={class:"card card-style"},_hoisted_2$3q={class:"content mb-2"},_hoisted_3$3j=createStaticVNode('<h3>Часто задаваемые вопросы</h3><p class="color-highlight font-12 mt-n2 mb-2">Действительно важные вопросы</p><p> Нам часто задают эти вопросы, поэтому мы создали этот небольшой раздел, чтобы помочь вам понять как работает наша система. </p><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-1" class="font-600">Что такое система CashBack?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-1"><label class="custom-control-label" for="question-1"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-1" class="switch-is-unchecked"><p class="mb-1">CashBack - это система, которая позволяет пользователям зарабатывать бонусы при оплате покупок в различных заведениях. В данном случае, CashBack начисляет бонусы после каждой покупки еды и напитков в заведении.</p><p class="mb-1">Для участия в программе нужно иметь профиль в системе, где вы сможете отслеживать количество накопленных бонусов и получать информацию о специальных предложениях и акциях.</p><p class="mb-1">Чтобы начислить бонусы, необходимо отсканировать свой QR-код из своего профиля после каждой покупки в заведении. Количество начисляемых бонусов зависит от условий программы и может изменяться.</p><p class="mb-1">CashBack позволяет пользователям получать дополнительные выгоды и бонусы при стандартных покупках в различных заведениях. Кроме того, это помогает заведениям удерживать постоянных клиентов и мотивировать их к повторным визитам.</p><p class="mb-1"> Общие рекомендации использования системы CashBack:</p><ul><li>Создайте профиль в системе и связанный с ним QR-код заранее.</li><li>Проверяйте условия программы, чтобы понимать, какие покупки позволят вам заработать больше бонусов. </li><li>Следите за акциями и специальными предложениями, чтобы получить дополнительные бонусы. </li><li>Не забывайте отсканировать свой QR-код после каждой покупки, чтобы начислить бонусы. </li><li>Используйте накопленные бонусы для оплаты следующих покупок или обменяйте их на подарки и скидки. </li></ul></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-2" class="font-600"> О нашем продукте</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-2"><label class="custom-control-label" for="question-2"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-2" class="switch-is-unchecked"><p class="mb-2">Для начала немного о нашем продукте: Кэш Бэк Бот - это телеграм бот с несколькими инновационными и очень важными функциями для любого бизнеса:</p><ol><li> Это 2х или 3х уровневая система лояльности на основе Кеш Бэка, которая встраивается в телеграмм предприятия, она дает и списывает Кеш бек с помощью нескольких простых действий. Так же она привлекает клиентов, возвращает их снова и снова, а еще она мотивирует их рекомендовать Ваш бизнес своим друзьям и знакомым с помощью множества удобных функционалов. </li><li> Это Ваша новая социальная сеть, где вы можете вести блог о вашем бизнесе, а так же делать рекламу и управлять клиентской базой. Очень важно, что на телеграмм не распространились санкции, поэтому привлекать новых клиентов легче, чем например через инстаграм. </li><li> Клиентская база, которая формируется автоматически по вашему запросу (пол, возраст, район проживания клиента и т.д), с номерами клиентов и гостей вашего бизнеса, которым можно делать рассылку с помощью бота (совершенно бесплатно) </li><li> Удобное меню и логистика по боту, с помощью кнопок в меню: прайс, фото, контактные данные, меню, акции, услуги и так далее, все что может помочь клиенту узнать о Вас все. </li></ol><p class="mb-2">Вообщем Кеш Бек Бот это супер технологичный, современный и удобный сервис, который включает самые лучшие рекламные и маркетинговые ресурсы для Вашего бизнеса. На данный момент сложно себе представить, ресурс который лучше справиться с функцией увеличения продаж и прибыли в Вашем бизнесе.</p></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-3" class="font-600"> Как это работает?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-3"><label class="custom-control-label" for="question-3"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div>',11),_hoisted_14$2g=createBaseVNode("div",{"data-switch":"question-3",class:"switch-is-unchecked"},[createBaseVNode("iframe",{style:{width:"100%"},src:"https://www.youtube.com/embed/pxuuL7I4OBQ",title:"Система Лояльности с помощью Телеграмм Бота",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1),_hoisted_15$2e=createStaticVNode('<div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-4" class="font-600"> Примеры работы бота</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-4"><label class="custom-control-label" for="question-4"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div>',2),_hoisted_17$22={"data-switch":"question-4",class:"switch-is-unchecked"},_hoisted_18$1Z={class:"list-group list-custom-small"},_hoisted_19$1U=["onClick"],_hoisted_20$1Q=createBaseVNode("i",{class:"fa-solid fa-robot font-14 color-brown1-dark"},null,-1),_hoisted_21$1M=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),__default__$2l={data(){return{examples:[{title:"ARCoffee - бот для кофейни",url:"https://t.me/arcoffee_dn_bot"},{title:"Д•Р•У•З•Ь•Я - бот для ресторана",url:"https://t.me/friends_coffee_bot"},{title:"Амати бот - Клуб красоты Амати",url:"https://t.me/amati_beauty_bot"}]}},computed:{tg(){return window.Telegram.WebApp}},mounted(){},methods:{open(o){this.tg.openLink(o)}}},_sfc_main$3C=Object.assign(__default__$2l,{__name:"ProjectInfoCard",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3w,[createBaseVNode("div",_hoisted_2$3q,[_hoisted_3$3j,_hoisted_14$2g,_hoisted_15$2e,createBaseVNode("div",_hoisted_17$22,[createBaseVNode("div",_hoisted_18$1Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.examples,(i,s)=>(openBlock(),createElementBlock("a",{href:"#",onClick:r=>t.open(i.url)},[_hoisted_20$1Q,createBaseVNode("span",null,toDisplayString(i.title||"Не указан заголовок"),1),_hoisted_21$1M],8,_hoisted_19$1U))),256))])]),createVNode(ReturnToBot,{class:"my-2"})])]))}}),CashOut_vue_vue_type_style_index_0_scoped_afc2d6b1_lang="",_withScopeId$q=o=>(pushScopeId("data-v-afc2d6b1"),o=o(),popScopeId(),o),_hoisted_1$3v={key:0},_hoisted_2$3p={class:"card card-style p-3"},_hoisted_3$3i={class:"col-12"},_hoisted_4$3a={class:"mb-3"},_hoisted_5$35=_withScopeId$q(()=>createBaseVNode("h6",{class:"text-center"},"Какую сумму желаете вывести?",-1)),_hoisted_6$33={class:"input-style input-style-2"},_hoisted_7$2X={class:"col-12"},_hoisted_8$2S={class:"d-flex mb-2"},_hoisted_9$2N={class:"pt-1"},_hoisted_10$2D={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_11$2x={key:0},_hoisted_12$2t={key:1},_hoisted_13$2m={class:"ml-auto mr-4 pr-2"},_hoisted_14$2f={class:"custom-control ios-switch"},_hoisted_15$2d=_withScopeId$q(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1)),_hoisted_16$2b={key:0,class:"col-12"},_hoisted_17$21=_withScopeId$q(()=>createBaseVNode("h6",{class:"text-center"},"Введите номер телефона",-1)),_hoisted_18$1Y={class:"input-style input-style-2"},_hoisted_19$1T={key:1,class:"col-12"},_hoisted_20$1P=_withScopeId$q(()=>createBaseVNode("h6",{class:"text-center"},"Введите номер карты",-1)),_hoisted_21$1L={class:"input-style input-style-2"},_hoisted_22$1K={class:"col-12"},_hoisted_23$1J=_withScopeId$q(()=>createBaseVNode("h6",{class:"text-center"},"Укажите инициалы получателя и название банка",-1)),_hoisted_24$1E={class:"input-style input-style-2"},_hoisted_25$1y={class:"col-12"},_hoisted_26$1t=["disabled"],_hoisted_27$1p=_withScopeId$q(()=>createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1)),_hoisted_28$1n={class:"col-12"},__default__$2k={data(){return{load:!1,botUser:null,need_phone:!1,withDrawMoneyForm:{amount:null,card:null,info:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.withDrawMoneyForm.amount=this.botUser.cashBack.amount||0}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{submit(){this.load=!0,this.$store.dispatch("withDrawMoney",{withDrawMoneyForm:this.withDrawMoneyForm}).then(o=>{this.load=!1,this.$botNotification.success("Вывод средств","Данные успешно переданы на обработку!"),this.tg.close()}).catch(()=>{this.load=!1,this.$botNotification.warning("Вывод средств","Ошибка обработки данных!")})}}},_sfc_main$3B=Object.assign(__default__$2k,{__name:"CashOut",setup(o){return(t,a)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$3v,[createBaseVNode("div",_hoisted_2$3p,[createBaseVNode("form",{onSubmit:a[5]||(a[5]=withModifiers((...s)=>t.submit&&t.submit(...s),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_3$3i,[createBaseVNode("p",_hoisted_4$3a,"На вашем счету накопилось "+toDisplayString(t.botUser.cashBack.amount||0)+" руб. ",1),_hoisted_5$35,createBaseVNode("div",_hoisted_6$33,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"1000 руб.","aria-label":"withDrawMoneyForm-amount","onUpdate:modelValue":a[0]||(a[0]=s=>t.withDrawMoneyForm.amount=s),"aria-describedby":"withDrawMoneyForm-amount",required:""},null,512),[[vModelText,t.withDrawMoneyForm.amount]])])]),createBaseVNode("div",_hoisted_7$2X,[createBaseVNode("div",_hoisted_8$2S,[createBaseVNode("div",_hoisted_9$2N,[createBaseVNode("h5",_hoisted_10$2D,[t.need_phone?(openBlock(),createElementBlock("span",_hoisted_11$2x,"На карту")):(openBlock(),createElementBlock("span",_hoisted_12$2t,"По номеру телефона"))])]),createBaseVNode("div",_hoisted_13$2m,[createBaseVNode("div",_hoisted_14$2f,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>t.need_phone=s),type:"checkbox",class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.need_phone]]),_hoisted_15$2d])])])]),t.need_phone?(openBlock(),createElementBlock("div",_hoisted_16$2b,[_hoisted_17$21,createBaseVNode("div",_hoisted_18$1Y,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[2]||(a[2]=s=>t.withDrawMoneyForm.card=s),placeholder:"+7(000)000-00-00","aria-label":"withDrawMoneyForm-card","aria-describedby":"withDrawMoneyForm-card",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.withDrawMoneyForm.card]])])])):createCommentVNode("",!0),t.need_phone?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_19$1T,[_hoisted_20$1P,createBaseVNode("div",_hoisted_21$1L,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[3]||(a[3]=s=>t.withDrawMoneyForm.card=s),placeholder:"0000 0000 0000 0000","aria-label":"withDrawMoneyForm-card","aria-describedby":"withDrawMoneyForm-card",required:""},null,512),[[i,"#### #### #### ####"],[vModelText,t.withDrawMoneyForm.card]])])])),createBaseVNode("div",_hoisted_22$1K,[_hoisted_23$1J,createBaseVNode("div",_hoisted_24$1E,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Иванов И.И., сбер","aria-label":"withDrawMoneyForm-info","onUpdate:modelValue":a[4]||(a[4]=s=>t.withDrawMoneyForm.info=s),"aria-describedby":"withDrawMoneyForm-info",required:""},null,512),[[vModelText,t.withDrawMoneyForm.info]])])]),createBaseVNode("div",_hoisted_25$1y,[createBaseVNode("button",{type:"submit",disabled:t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить заявку ",8,_hoisted_26$1t)]),_hoisted_27$1p,createBaseVNode("div",_hoisted_28$1n,[createVNode(ReturnToBot,{class:"mb-2"})])],32)])])):createCommentVNode("",!0),createVNode(_sfc_main$3C)],64)}}}),CashOut=_export_sfc(_sfc_main$3B,[["__scopeId","data-v-afc2d6b1"]]),CashOut$1=Object.freeze(Object.defineProperty({__proto__:null,default:CashOut},Symbol.toStringTag,{value:"Module"})),SaveUp_vue_vue_type_style_index_0_lang="",_hoisted_1$3u={key:0,class:"card card-style"},_hoisted_2$3o={class:"content"},_hoisted_3$3h=createBaseVNode("h4",null,"Правила данной акции",-1),_hoisted_4$39={key:1,class:"card card-style"},_hoisted_5$34={class:"content"},_hoisted_6$32=createBaseVNode("h6",{class:"text-center"},"Ваша личная накопительная карта",-1),_hoisted_7$2W=createBaseVNode("p",null,null,-1),_hoisted_8$2R={class:"d-flex justify-content-around flex-wrap save-up"},_hoisted_9$2M=["innerHTML"],_hoisted_10$2C={key:1},_hoisted_11$2w=createBaseVNode("i",{class:"fa-solid fa-question"},null,-1),_hoisted_12$2s=[_hoisted_11$2w],__default__$2j={name:"App",data(){return{rules:null,action:null,icon:null,icon_color:null}},mounted(){this.prepareUserData()},methods:{requestClick(){this.$cashback.qr("002")},prepareUserData(){return this.$store.dispatch("bonusProductPrepare").then(o=>{this.action=o.action,this.rules=o.rules,this.icon=o.icon,this.icon_color=o.icon_color})},submit(){this.$store.dispatch("wheelOfFortuneWin",this.productForm).then(o=>{this.winForm={win:null,name:null,phone:null},this.$botNotification.success("Вы выиграли!","Наш менеджер свяжется с вами для дальнейших инструкций."),this.prepareUserData()}).catch(o=>{})}}},_sfc_main$3A=Object.assign(__default__$2j,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$3u,[createBaseVNode("div",_hoisted_2$3o,[_hoisted_3$3h,createBaseVNode("p",null,toDisplayString(t.rules),1)])])):createCommentVNode("",!0),t.action?(openBlock(),createElementBlock("div",_hoisted_4$39,[createBaseVNode("div",_hoisted_5$34,[_hoisted_6$32,_hoisted_7$2W,createBaseVNode("ul",_hoisted_8$2R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.max_attempts||10,i=>(openBlock(),createElementBlock("li",{class:normalizeClass({active:i<=t.action.current_attempts}),onClick:a[0]||(a[0]=(...s)=>t.requestClick&&t.requestClick(...s))},[i<=t.action.current_attempts?(openBlock(),createElementBlock("span",{key:0,innerHTML:t.icon,style:normalizeStyle({color:t.icon_color})},null,12,_hoisted_9$2M)):(openBlock(),createElementBlock("span",_hoisted_10$2C,_hoisted_12$2s))],2))),256))]),createVNode(ReturnToBot)])])):createCommentVNode("",!0)],64))}}),SaveUp=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3A},Symbol.toStringTag,{value:"Module"})),Quest_vue_vue_type_style_index_0_lang="",_hoisted_1$3t={key:0,class:"card card-style"},_hoisted_2$3n={class:"content"},_hoisted_3$3g=createBaseVNode("h4",null,"Правила данного задания",-1),_hoisted_4$38={key:0},_hoisted_5$33={key:1,class:"card card-style"},_hoisted_6$31={class:"content"},_hoisted_7$2V={class:"card mb-0"},_hoisted_8$2Q={class:"card-body"},_hoisted_9$2L={for:"photos",class:"photo-loader mb-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},_hoisted_10$2B=createBaseVNode("i",{class:"fa-brands fa-instagram font-36"},null,-1),_hoisted_11$2v=createBaseVNode("p",{class:"mt-3 font-16"}," Нажмите для выбора фотографии",-1),_hoisted_12$2r={key:0,class:"img-preview w-100"},_hoisted_13$2l={class:"w-100 object-fit-cover"},_hoisted_14$2e={class:"remove"},_hoisted_15$2c=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_16$2a=createBaseVNode("div",{class:"card card-style my-3"},[createBaseVNode("div",{class:"content"},[createBaseVNode("h3",null,"Анкета участника акции"),createBaseVNode("p",null," Для участия в конкурсе и дальнейшего получения приза необходимо заполнить данную анкету! Укажите своё имя и номер телефона чтоб менеджер мог выдать Вам приз по итогу. ")])],-1),__default__$2i={name:"App",data(){return{rules:null,sending:!1,action:null,photo:null,hasProfileData:!1,instaForm:{comment:null,name:null,phone:null}}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("instagramQuestPrepare").then(o=>{this.action=o.action,this.canPlay||this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")})},loadServiceData(){return this.$store.dispatch("instagramQuestLoadData").then(o=>{this.rules=o.rules})},removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0]},callbackPlayerForm(o){this.instaForm={...this.instaForm,...o},this.hasProfileData=!0},submit(){let o=new FormData;Object.keys(this.instaForm).forEach(t=>{const a=this.instaForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.append("photo",this.photo),this.$store.dispatch("instagramQuestResult",{instaForm:o}).then(t=>{this.sending=!1,this.instaForm={comment:null,name:null,phone:null},this.photo=null,this.hasProfileData=!1,this.$botNotification.success("Вы выиграли!","Наш менеджер свяжется с вами для дальнейших инструкций."),setTimeout(()=>{this.prepareUserData()},5e3)}).catch(t=>{})}}},_sfc_main$3z=Object.assign(__default__$2i,{setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$3t,[createBaseVNode("div",_hoisted_2$3n,[_hoisted_3$3g,createBaseVNode("p",null,toDisplayString(t.rules),1),t.canPlay?(openBlock(),createElementBlock("p",_hoisted_4$38,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",null,toDisplayString(t.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",null,toDisplayString(t.action.max_attempts||1),1)])):(openBlock(),createElementBlock("p",{key:1,onClick:a[0]||(a[0]=(...s)=>t.lose&&t.lose(...s)),style:{"font-weight":"900",color:"red"}},"Вы израсходовали все ваши попытки"))])])):createCommentVNode("",!0),t.canPlay&&t.hasProfileData?(openBlock(),createElementBlock("div",_hoisted_5$33,[createBaseVNode("div",_hoisted_6$31,[createBaseVNode("div",_hoisted_7$2V,[createBaseVNode("div",_hoisted_8$2Q,[createBaseVNode("label",_hoisted_9$2L,[_hoisted_10$2B,createBaseVNode("input",{type:"file",id:"photos",accept:"image/*",onChange:a[1]||(a[1]=(...s)=>t.onChangePhotos&&t.onChangePhotos(...s)),style:{display:"none"}},null,32),_hoisted_11$2v]),t.photo?(openBlock(),createElementBlock("div",_hoisted_12$2r,[withDirectives(createBaseVNode("img",_hoisted_13$2l,null,512),[[i,t.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_14$2e,[createBaseVNode("a",{onClick:a[2]||(a[2]=(...s)=>t.removePhoto&&t.removePhoto(...s)),class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s border-danger text-danger"},[_hoisted_15$2c,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0)])]),t.photo?(openBlock(),createElementBlock("button",{key:0,onClick:a[3]||(a[3]=(...s)=>t.submit&&t.submit(...s)),type:"button",class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-green1-light w-100 mt-2 mb-2"}," Получить приз ")):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-0"})])])):createCommentVNode("",!0),t.canPlay&&!t.hasProfileData?(openBlock(),createBlock(PlayerForm,{key:2,onCallback:t.callbackPlayerForm},{head:withCtx(()=>[_hoisted_16$2a]),_:1},8,["onCallback"])):createCommentVNode("",!0)],64)}}}),Quest=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3z},Symbol.toStringTag,{value:"Module"})),_sfc_main$3y={__name:"Empty",setup(o){return(t,a)=>(openBlock(),createBlock(_sfc_main$42))}},Empty=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3y},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3s={class:"card card-style"},_hoisted_2$3m={class:"content"},_hoisted_3$3f={class:"mb-0"},_hoisted_4$37={key:0},_hoisted_5$32=createBaseVNode("strong",null,"CashBack",-1),_hoisted_6$30={key:1},_hoisted_7$2U=createBaseVNode("b",null,"номер телефона",-1),_hoisted_8$2P={class:"row mb-0 px-3"},_hoisted_9$2K={class:"col-6 p-1"},_hoisted_10$2A={class:"col-6 p-1"},_hoisted_11$2u={key:1,class:"card card-style"},_hoisted_12$2q={class:"content mb-2"},_hoisted_13$2k=createBaseVNode("h3",null,"Список администраторов",-1),_hoisted_14$2d=createBaseVNode("p",null," Список всех администраторов системы с их статусами и последним временем онлайн ",-1),_hoisted_15$2b={class:"list-group list-boxes"},_hoisted_16$29=["onClick"],_hoisted_17$20=createBaseVNode("i",{class:"fa font-20 fa-mobile color-blue2-dark"},null,-1),_hoisted_18$1X={key:0,class:"color-green1-dark"},_hoisted_19$1S={key:1,class:"color-red2-light"},_hoisted_20$1O={key:2,class:"fa fa-check-circle color-green1-dark"},_hoisted_21$1K={key:3,class:"fa fa-times-circle color-red2-light"},_hoisted_22$1J={key:2,class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},_hoisted_23$1I=createBaseVNode("div",{class:"card-center"},[createBaseVNode("h3",{class:"color-white font-700 text-center mb-0"},"Список администраторов"),createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"К сожалению, администраторы не найдены:(")],-1),_hoisted_24$1D=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),_hoisted_25$1x=[_hoisted_23$1I,_hoisted_24$1D],__default__$2h={data(){return{admins:[],admins_paginate_object:null,type:0}},computed:{...mapGetters(["getAdmins","getAdminsPaginateObject"]),self(){return window.self},currentBot(){return window.currentBot}},mounted(){this.loadAdmins()},methods:{nextAdminPage(o){this.loadAdmins(o)},sendRequest(o,t){if(!o.is_work){this.$botNotification.warning("Упс!","Администратор офлайн!");return}this.$store.dispatch("requestAdmin",{dataObject:{bot_id:this.currentBot.id,admin_telegram_chat_id:o.telegram_chat_id,user_telegram_chat_id:this.self.telegram_chat_id}}).then(a=>{this.$botNotification.success("Отлично!","Выбранный Администратор оповещен!")}).catch(()=>{})},loadAdmins(o=0){this.$store.dispatch("loadAdmins",{dataObject:{bot_domain:this.currentBot.bot_domain},page:o}).then(t=>{this.admins=this.getAdmins,this.admins_paginate_object=this.getAdminsPaginateObject}).catch(()=>{})}}},_sfc_main$3x=Object.assign(__default__$2h,{__name:"Booking",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3s,[createBaseVNode("div",_hoisted_2$3m,[createBaseVNode("p",_hoisted_3$3f,[createTextVNode(" Вы можете выбрать администратора из списка активных администраторов и прислать ему запрос "),t.type===0?(openBlock(),createElementBlock("span",_hoisted_4$37,[createTextVNode("на начисление "),_hoisted_5$32,createTextVNode(".")])):createCommentVNode("",!0),t.type===1?(openBlock(),createElementBlock("span",_hoisted_6$30,[createTextVNode("на бронирование столика. Обязательно укажите свой "),_hoisted_7$2U,createTextVNode(" для обратной связи.")])):createCommentVNode("",!0),createTextVNode(" К запросу Вы можете прикрепить текстовое сообщение, которое также получит выбранный администратор. ")]),createBaseVNode("div",_hoisted_8$2P,[createBaseVNode("div",_hoisted_9$2K,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=i=>t.type=0),class:normalizeClass(["btn btn-border btn-m btn-full rounded-sm text-uppercase font-900 w-100",{"bg-highlight":t.type===0,"border-highlight color-highlight bg-theme":t.type!==0}])}," Начислить баллы ",2)]),createBaseVNode("div",_hoisted_10$2A,[createBaseVNode("button",{type:"button",onClick:a[1]||(a[1]=i=>t.type=1),class:normalizeClass(["btn btn-border btn-m btn-full rounded-sm text-uppercase font-900 w-100",{"bg-highlight":t.type===1,"border-highlight color-highlight bg-theme":t.type!==1}])}," Забронировать столик ",2)])])])]),t.type===1?(openBlock(),createBlock(_sfc_main$42,{key:0,type:"booking"})):createCommentVNode("",!0),t.type===0&&t.admins.length>0?(openBlock(),createElementBlock("div",_hoisted_11$2u,[createBaseVNode("div",_hoisted_12$2q,[_hoisted_13$2k,_hoisted_14$2d,createBaseVNode("div",_hoisted_15$2b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.admins,(i,s)=>(openBlock(),createElementBlock("a",{href:"#",onClick:withModifiers(r=>t.sendRequest(i,s),["prevent"]),class:normalizeClass([{"border-green1-dark":i.is_work,"border-red1-dark":!i.is_work},"border rounded-s shadow-xs"])},[_hoisted_17$20,createBaseVNode("span",null,toDisplayString(i.user.fio_from_telegram||i.user.name||"Не указано")+" ("+toDisplayString(t.$filters.timeAgo(i.updated_at))+")",1),createBaseVNode("strong",null,toDisplayString(i.phone||"Номер телефона не указан"),1),i.is_work?(openBlock(),createElementBlock("u",_hoisted_18$1X,"В сети")):(openBlock(),createElementBlock("u",_hoisted_19$1S,"Не в сети")),i.is_work?(openBlock(),createElementBlock("i",_hoisted_20$1O)):(openBlock(),createElementBlock("i",_hoisted_21$1K))],10,_hoisted_16$29))),256))]),t.admins_paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-2",onPagination_page:t.nextAdminPage,pagination:t.admins_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-2"})])])):createCommentVNode("",!0),t.type===0&&t.admins.length===0?(openBlock(),createElementBlock("div",_hoisted_22$1J,_hoisted_25$1x)):createCommentVNode("",!0)],64))}}),Booking=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3x},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3r=createBaseVNode("div",{class:"card card-style"},[createBaseVNode("div",{class:"content"},[createBaseVNode("p",{class:"mb-0"},[createTextVNode(" Вы можете выбрать администратора из списка активных администраторов и прислать ему запрос на зачисление "),createBaseVNode("strong",null,"CashBack"),createTextVNode(". К запросу вы можете прикрепить текстовое сообщение, которое также получит выбранный администратор. ")])])],-1),_hoisted_2$3l={key:0,class:"card card-style"},_hoisted_3$3e={class:"content mb-2"},_hoisted_4$36=createBaseVNode("h3",null,"Список администраторов",-1),_hoisted_5$31=createBaseVNode("p",null," Список всех администраторов системы с их статусами и последним временем онлайн ",-1),_hoisted_6$2$={class:"list-group list-boxes"},_hoisted_7$2T=["onClick"],_hoisted_8$2O=createBaseVNode("i",{class:"fa font-20 fa-mobile color-blue2-dark"},null,-1),_hoisted_9$2J={key:0,class:"color-green1-dark"},_hoisted_10$2z={key:1,class:"color-red2-light"},_hoisted_11$2t={key:2,class:"fa fa-check-circle color-green1-dark"},_hoisted_12$2p={key:3,class:"fa fa-times-circle color-red2-light"},_hoisted_13$2j={key:1,class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},_hoisted_14$2c=createBaseVNode("div",{class:"card-center"},[createBaseVNode("h3",{class:"color-white font-700 text-center mb-0"},"Список администраторов"),createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"К сожалению, администраторы не найдены:(")],-1),_hoisted_15$2a=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),_hoisted_16$28=[_hoisted_14$2c,_hoisted_15$2a],__default__$2g={data(){return{spent_time_counter:0,is_requested:!1,admins:[],admins_paginate_object:null,type:0}},computed:{...mapGetters(["getAdmins","getAdminsPaginateObject"]),self(){return window.self},currentBot(){return window.currentBot}},mounted(){this.loadAdmins(),localStorage.getItem("cashman_admin_request_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_admin_request_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,30):30;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_admin_request_counter",this.spent_time_counter)},1e3)},nextAdminPage(o){this.loadAdmins(o)},sendRequest(o,t){if(!o.is_work){this.$botNotification.warning("Упс!","Администратор офлайн!");return}if(this.is_requested){this.$botNotification.warning("Упс!",`Вызвать администратора можно через <strong>${this.spent_time_counter} сек.</strong>`);return}this.$store.dispatch("requestAdmin",{dataObject:{bot_id:this.currentBot.id,admin_telegram_chat_id:o.telegram_chat_id,user_telegram_chat_id:this.self.telegram_chat_id}}).then(a=>{this.$botNotification.success("Отлично!","Выбранный Администратор оповещен!"),this.startTimer(),this.is_requested=!0}).catch(()=>{})},loadAdmins(o=0){this.$store.dispatch("loadAdmins",{dataObject:{bot_domain:this.currentBot.bot_domain},page:o}).then(t=>{this.admins=this.getAdmins,this.admins_paginate_object=this.getAdminsPaginateObject}).catch(()=>{})}}},_sfc_main$3w=Object.assign(__default__$2g,{__name:"Admins",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$3r,t.admins.length>0?(openBlock(),createElementBlock("div",_hoisted_2$3l,[createBaseVNode("div",_hoisted_3$3e,[_hoisted_4$36,_hoisted_5$31,createBaseVNode("div",_hoisted_6$2$,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.admins,(i,s)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:withModifiers(r=>t.sendRequest(i,s),["prevent"]),class:normalizeClass([{"border-green1-dark":i.is_work,"border-red1-dark":!i.is_work},"border rounded-s shadow-xs"])},[_hoisted_8$2O,createBaseVNode("span",null,toDisplayString(i.user.fio_from_telegram||i.user.name||"Не указано")+" ("+toDisplayString(t.$filters.timeAgo(i.updated_at))+")",1),createBaseVNode("strong",null,toDisplayString(i.phone||"Номер телефона не указан"),1),i.is_work?(openBlock(),createElementBlock("u",_hoisted_9$2J,"В сети")):(openBlock(),createElementBlock("u",_hoisted_10$2z,"Не в сети")),i.is_work?(openBlock(),createElementBlock("i",_hoisted_11$2t)):(openBlock(),createElementBlock("i",_hoisted_12$2p))],10,_hoisted_7$2T))),256))]),t.admins_paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-2",onPagination_page:t.nextAdminPage,pagination:t.admins_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-2"})])])):createCommentVNode("",!0),t.type===0&&t.admins.length===0?(openBlock(),createElementBlock("div",_hoisted_13$2j,_hoisted_16$28)):createCommentVNode("",!0)],64))}}),Admins=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3w},Symbol.toStringTag,{value:"Module"})),Vip_vue_vue_type_style_index_0_scoped_a1775696_lang="",_withScopeId$p=o=>(pushScopeId("data-v-a1775696"),o=o(),popScopeId(),o),_hoisted_1$3q={key:0},_hoisted_2$3k={key:0,class:"card card-style p-3"},_hoisted_3$3d={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_4$35={class:"img-avatar"},_hoisted_5$30={class:"img-avatar"},_hoisted_6$2_={class:"col-12"},_hoisted_7$2S=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимущества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_8$2N=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),_hoisted_9$2I={class:"input-style input-style-2"},_hoisted_10$2y={class:"col-12"},_hoisted_11$2s={key:0,class:"mb-3"},_hoisted_12$2o=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой номер телефона",-1)),_hoisted_13$2i={class:"input-style input-style-2"},_hoisted_14$2b={key:0,class:"col-12"},_hoisted_15$29=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_16$27=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Вы мужчина или женщина?",-1)),_hoisted_17$1$={class:"row mb-0"},_hoisted_18$1W={class:"col-6 p-3"},_hoisted_19$1R=_withScopeId$p(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_20$1N=_withScopeId$p(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_21$1J=[_hoisted_19$1R,_hoisted_20$1N],_hoisted_22$1I={class:"col-6 p-3"},_hoisted_23$1H=_withScopeId$p(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_24$1C=_withScopeId$p(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_25$1w=[_hoisted_23$1H,_hoisted_24$1C],_hoisted_26$1s={key:1,class:"col-12"},_hoisted_27$1o=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),_hoisted_28$1m=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой день рождения",-1)),_hoisted_29$1i={class:"input-style input-style-2"},_hoisted_30$1g={key:2,class:"col-12"},_hoisted_31$1e=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_32$1b=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1)),_hoisted_33$1b={class:"input-style input-style-2"},_hoisted_34$18=createStaticVNode('<datalist id="datalistCityOptions" data-v-a1775696><option value="Краснодар" data-v-a1775696></option><option value="Ростов-на-Дону" data-v-a1775696></option><option value="Таганрог" data-v-a1775696></option><option value="Донецк" data-v-a1775696></option><option value="Москва" data-v-a1775696></option></datalist>',1),_hoisted_35$15={class:"col-12"},_hoisted_36$12={key:0},_hoisted_37$_={class:"text-center"},_hoisted_38$Y={key:0,class:"input-style input-style-2"},_hoisted_39$Y=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_40$T={key:1,class:"row mb-0"},_hoisted_41$T={class:"col-6 p-3"},_hoisted_42$T=["onClick"],_hoisted_43$T=_withScopeId$p(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_44$S=_withScopeId$p(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_45$S=[_hoisted_43$T,_hoisted_44$S],_hoisted_46$R={class:"col-6 p-3"},_hoisted_47$O=["onClick"],_hoisted_48$O=_withScopeId$p(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_49$K=_withScopeId$p(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_50$J=[_hoisted_48$O,_hoisted_49$K],_hoisted_51$H={class:"col-12"},_hoisted_52$H=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_53$G=_withScopeId$p(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_54$G={class:"d-flex mb-3"},_hoisted_55$D={class:"pt-1"},_hoisted_56$C={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_57$B={key:0},_hoisted_58$z={key:1},_hoisted_59$z={class:"ml-auto mr-4 pr-2"},_hoisted_60$y={class:"custom-control ios-switch"},_hoisted_61$x=_withScopeId$p(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_62$v=["disabled"],_hoisted_63$v={key:1,class:"card card-style p-3"},_hoisted_64$t={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_65$t={class:"img-avatar"},_hoisted_66$t={class:"img-avatar"},_hoisted_67$t={class:"col-12"},_hoisted_68$t=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_69$t=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),_hoisted_70$t={class:"input-style input-style-2"},_hoisted_71$t=_withScopeId$p(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_72$r={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_73$q={class:"img-avatar"},_hoisted_74$p={class:"img-avatar"},_hoisted_75$p={class:"col-12"},_hoisted_76$n={class:"mb-3"},_hoisted_77$n=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой номер телефона",-1)),_hoisted_78$l={class:"input-style input-style-2"},_hoisted_79$l=_withScopeId$p(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_80$l={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_81$l={class:"img-avatar"},_hoisted_82$l={class:"img-avatar"},_hoisted_83$i={class:"col-12"},_hoisted_84$h=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_85$g=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Ты мужчина или женщина?",-1)),_hoisted_86$g={class:"row mb-0"},_hoisted_87$g={class:"col-6 p-3"},_hoisted_88$g=_withScopeId$p(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_89$f=_withScopeId$p(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_90$f=[_hoisted_88$g,_hoisted_89$f],_hoisted_91$f={class:"col-6 p-3"},_hoisted_92$f=_withScopeId$p(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_93$f=_withScopeId$p(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_94$f=[_hoisted_92$f,_hoisted_93$f],_hoisted_95$f=_withScopeId$p(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_96$d={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_97$d={class:"img-avatar"},_hoisted_98$d={class:"img-avatar"},_hoisted_99$d={class:"col-12"},_hoisted_100$d=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_101$d=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1)),_hoisted_102$d={class:"input-style input-style-2"},_hoisted_103$d=createStaticVNode('<datalist id="datalistCityOptions" data-v-a1775696><option value="Краснодар" data-v-a1775696></option><option value="Ростов-на-Дону" data-v-a1775696></option><option value="Таганрог" data-v-a1775696></option><option value="Донецк" data-v-a1775696></option><option value="Москва" data-v-a1775696></option></datalist>',1),_hoisted_104$c=_withScopeId$p(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_105$c={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_106$b={class:"img-avatar"},_hoisted_107$b={class:"img-avatar"},_hoisted_108$b={class:"col-12"},_hoisted_109$b=_withScopeId$p(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочитайте мои условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_110$a=_withScopeId$p(()=>createBaseVNode("h6",{class:"text-center"},"Последний шаг",-1)),_hoisted_111$9=_withScopeId$p(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_112$9={class:"d-flex mb-3"},_hoisted_113$9={class:"pt-1"},_hoisted_114$9={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_115$7={key:0},_hoisted_116$7={key:1},_hoisted_117$7={class:"ml-auto mr-4 pr-2"},_hoisted_118$7={class:"custom-control ios-switch"},_hoisted_119$7=_withScopeId$p(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_120$6=["disabled"],_hoisted_121$6={key:2,class:"card card-style p-3"},_hoisted_122$6=_withScopeId$p(()=>createBaseVNode("li",null,"Накопление CashBack за покупки",-1)),_hoisted_123$6=_withScopeId$p(()=>createBaseVNode("li",null,"Оплата товаров через CashBak",-1)),_hoisted_124$6=_withScopeId$p(()=>createBaseVNode("li",null,"Реферальная программа",-1)),_hoisted_125$6=_withScopeId$p(()=>createBaseVNode("h6",null,"Ваши данные:",-1)),_hoisted_126$6={class:"mb-0"},_hoisted_127$6={class:"mb-0"},_hoisted_128$6={class:"mb-0"},_hoisted_129$6={class:"mb-0"},_hoisted_130$5={class:"mb-0"},_hoisted_131$5={key:0},_hoisted_132$4={key:1},__default__$2f={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadCashBackModuleData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(a=>a.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(a=>{if(a.is_active){let i=this.getUserFieldValue(a.id),s=i.value,r=i.config;this.vipForm.fields.push({id:a.id,title:a.label,description:a.description,key:a.key,value:a.type===2?s==="1":s,type:a.type,pattern:a.pattern,required:a.required,config:r})}})})},nextStep(){this.step++},loadCashBackModuleData(){this.loading=!0,this.$store.dispatch("loadCashBackModuleData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveVip",{...this.vipForm}).then(o=>{this.loading=!1,this.tg.close()}).catch(()=>{this.loading=!1})}}},_sfc_main$3v=Object.assign(__default__$2f,{__name:"Vip",setup(o){return(t,a)=>{const i=resolveDirective("lazy"),s=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$3q,[!t.botUser.is_vip&&t.settings.display_type==0?(openBlock(),createElementBlock("div",_hoisted_2$3k,[createBaseVNode("form",{onSubmit:a[7]||(a[7]=withModifiers((...r)=>t.submit&&t.submit(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_3$3d,[createBaseVNode("div",_hoisted_4$35,[withDirectives(createBaseVNode("img",_hoisted_5$30,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_6$2_,[_hoisted_7$2S,_hoisted_8$2N,createBaseVNode("div",_hoisted_9$2I,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":a[0]||(a[0]=r=>t.vipForm.name=r),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,t.vipForm.name]])])]),createBaseVNode("div",_hoisted_10$2y,[t.vipForm.name?(openBlock(),createElementBlock("p",_hoisted_11$2s,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(t.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):createCommentVNode("",!0),_hoisted_12$2o,createBaseVNode("div",_hoisted_13$2i,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[1]||(a[1]=r=>t.vipForm.phone=r),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[s,"+7(###)###-##-##"],[vModelText,t.vipForm.phone]])])]),t.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_14$2b,[_hoisted_15$29,_hoisted_16$27,createBaseVNode("div",_hoisted_17$1$,[createBaseVNode("div",_hoisted_18$1W,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[2]||(a[2]=r=>t.vipForm.sex=!0)},_hoisted_21$1J,2)]),createBaseVNode("div",_hoisted_22$1I,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[3]||(a[3]=r=>t.vipForm.sex=!1)},_hoisted_25$1w,2)])])])):createCommentVNode("",!0),t.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_26$1s,[_hoisted_27$1o,_hoisted_28$1m,createBaseVNode("div",_hoisted_29$1i,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[4]||(a[4]=r=>t.vipForm.birthday=r),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,t.vipForm.birthday]])])])):createCommentVNode("",!0),t.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_30$1g,[_hoisted_31$1e,_hoisted_32$1b,createBaseVNode("div",_hoisted_33$1b,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[5]||(a[5]=r=>t.vipForm.city=r),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,t.vipForm.city]]),_hoisted_34$18])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_35$15,[t.settings[r.key]?(openBlock(),createElementBlock("div",_hoisted_36$12,[createBaseVNode("h6",_hoisted_37$_,toDisplayString(r.description),1),r.type===0||r.type===1?(openBlock(),createElementBlock("div",_hoisted_38$Y,[withDirectives(createBaseVNode("input",{type:r.type===1?"number":"text","onUpdate:modelValue":l=>t.vipForm.fields[n].value=l,class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:r.title,pattern:t.vipForm.fields[n].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:t.vipForm.fields[n].requried},null,8,_hoisted_39$Y),[[vModelDynamic,t.vipForm.fields[n].value]])])):createCommentVNode("",!0),r.type===2?(openBlock(),createElementBlock("div",_hoisted_40$T,[createBaseVNode("div",_hoisted_41$T,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.fields[n].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[n].value=!0},_hoisted_45$S,10,_hoisted_42$T)]),createBaseVNode("div",_hoisted_46$R,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.fields[n].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[n].value=!1},_hoisted_50$J,10,_hoisted_47$O)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),createBaseVNode("div",_hoisted_51$H,[_hoisted_52$H,_hoisted_53$G,createBaseVNode("div",_hoisted_54$G,[createBaseVNode("div",_hoisted_55$D,[createBaseVNode("h5",_hoisted_56$C,[t.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_57$B,"С правилами ознакомилась")),t.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_58$z,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_59$z,[createBaseVNode("div",_hoisted_60$y,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[6]||(a[6]=r=>t.confirm=r),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_61$x])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_62$v)])],32)])):createCommentVNode("",!0),!t.botUser.is_vip&&t.settings.display_type==1?(openBlock(),createElementBlock("div",_hoisted_63$v,[t.step===0?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[9]||(a[9]=withModifiers((...r)=>t.nextStep&&t.nextStep(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_64$t,[createBaseVNode("div",_hoisted_65$t,[withDirectives(createBaseVNode("img",_hoisted_66$t,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_67$t,[_hoisted_68$t,_hoisted_69$t,createBaseVNode("div",_hoisted_70$t,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":a[8]||(a[8]=r=>t.vipForm.name=r),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,t.vipForm.name]])]),_hoisted_71$t])],32)):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[11]||(a[11]=withModifiers((...r)=>t.nextStep&&t.nextStep(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_72$r,[createBaseVNode("div",_hoisted_73$q,[withDirectives(createBaseVNode("img",_hoisted_74$p,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_75$p,[createBaseVNode("p",_hoisted_76$n,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(t.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])]),_hoisted_77$n,createBaseVNode("div",_hoisted_78$l,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[10]||(a[10]=r=>t.vipForm.phone=r),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[s,"+7(###)###-##-##"],[vModelText,t.vipForm.phone]])]),_hoisted_79$l])],32)):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock("form",{key:2,onSubmit:a[14]||(a[14]=withModifiers((...r)=>t.nextStep&&t.nextStep(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_80$l,[createBaseVNode("div",_hoisted_81$l,[withDirectives(createBaseVNode("img",_hoisted_82$l,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_83$i,[_hoisted_84$h,_hoisted_85$g,createBaseVNode("div",_hoisted_86$g,[createBaseVNode("div",_hoisted_87$g,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[12]||(a[12]=r=>t.vipForm.sex=!0)},_hoisted_90$f,2)]),createBaseVNode("div",_hoisted_91$f,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[13]||(a[13]=r=>t.vipForm.sex=!1)},_hoisted_94$f,2)])]),_hoisted_95$f])],32)):createCommentVNode("",!0),t.step===3?(openBlock(),createElementBlock("form",{key:3,onSubmit:a[16]||(a[16]=withModifiers((...r)=>t.nextStep&&t.nextStep(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_96$d,[createBaseVNode("div",_hoisted_97$d,[withDirectives(createBaseVNode("img",_hoisted_98$d,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_99$d,[_hoisted_100$d,_hoisted_101$d,createBaseVNode("div",_hoisted_102$d,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[15]||(a[15]=r=>t.vipForm.city=r),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,t.vipForm.city]]),_hoisted_103$d]),_hoisted_104$c])],32)):createCommentVNode("",!0),t.step===4?(openBlock(),createElementBlock("form",{key:4,onSubmit:a[19]||(a[19]=withModifiers((...r)=>t.submit&&t.submit(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_105$c,[createBaseVNode("div",_hoisted_106$b,[withDirectives(createBaseVNode("img",_hoisted_107$b,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_108$b,[_hoisted_109$b,_hoisted_110$a,_hoisted_111$9,createBaseVNode("div",_hoisted_112$9,[createBaseVNode("div",_hoisted_113$9,[createBaseVNode("h5",_hoisted_114$9,[t.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_115$7,"С правилами озакномилась")),t.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_116$7,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_117$7,[createBaseVNode("div",_hoisted_118$7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[17]||(a[17]=r=>t.confirm=r),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_119$7])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_120$6),createBaseVNode("button",{type:"button",onClick:a[18]||(a[18]=r=>t.step=0),class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100 mb-2"}," Исправить ошибки ")])],32)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_121$6,[createTextVNode(" Поздравляем! Вы являетесь нашим VIP-пользователем! Вам доступны следующие возможности: "),createBaseVNode("ul",null,[_hoisted_122$6,_hoisted_123$6,_hoisted_124$6,createBaseVNode("li",null,[_hoisted_125$6,createBaseVNode("p",_hoisted_126$6,"Имя: "+toDisplayString(t.botUser.name||"Не указано"),1),createBaseVNode("p",_hoisted_127$6,"Телефон: "+toDisplayString(t.botUser.phone||"Не указано"),1),createBaseVNode("p",_hoisted_128$6,"Город: "+toDisplayString(t.botUser.city||"Не указано"),1),createBaseVNode("p",_hoisted_129$6,"Пол: "+toDisplayString(t.botUser.sex?"Мужской":"Женский"),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,r=>(openBlock(),createElementBlock("p",_hoisted_130$5,[createTextVNode(toDisplayString(r.title)+": ",1),r.config.type===2?(openBlock(),createElementBlock("span",_hoisted_131$5,toDisplayString(r.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),r.config.type===0||r.config.type===1?(openBlock(),createElementBlock("span",_hoisted_132$4,toDisplayString(r.value),1)):createCommentVNode("",!0)]))),256))])]),createVNode(ReturnToBot,{class:"mb-2"})])):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(_sfc_main$3C)],64)}}}),Vip=_export_sfc(_sfc_main$3v,[["__scopeId","data-v-a1775696"]]),Vip$1=Object.freeze(Object.defineProperty({__proto__:null,default:Vip},Symbol.toStringTag,{value:"Module"})),ProfileForm_vue_vue_type_style_index_0_scoped_ecffb0b9_lang="",_withScopeId$o=o=>(pushScopeId("data-v-ecffb0b9"),o=o(),popScopeId(),o),_hoisted_1$3p={key:0},_hoisted_2$3j={key:0,class:"card card-style p-3"},_hoisted_3$3c={key:0,class:"col-12 d-flex justify-content-center mb-3"},_hoisted_4$34={class:"img-avatar"},_hoisted_5$2$={key:0,class:"img-avatar"},_hoisted_6$2Z={key:1},_hoisted_7$2R={class:"col-12"},_hoisted_8$2M=["innerHTML"],_hoisted_9$2H={class:"input-style input-style-2"},_hoisted_10$2x={key:1,class:"col-12"},_hoisted_11$2r=["innerHTML"],_hoisted_12$2n={class:"input-style input-style-2"},_hoisted_13$2h={key:2,class:"col-12"},_hoisted_14$2a=["innerHTML"],_hoisted_15$28={class:"input-style input-style-2"},_hoisted_16$26={key:3,class:"col-12"},_hoisted_17$1_=["innerHTML"],_hoisted_18$1V={class:"row mb-0"},_hoisted_19$1Q={class:"col-6 p-3"},_hoisted_20$1M=_withScopeId$o(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_21$1I=_withScopeId$o(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_22$1H=[_hoisted_20$1M,_hoisted_21$1I],_hoisted_23$1G={class:"col-6 p-3"},_hoisted_24$1B=_withScopeId$o(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_25$1v=_withScopeId$o(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_26$1r=[_hoisted_24$1B,_hoisted_25$1v],_hoisted_27$1n={key:4,class:"col-12"},_hoisted_28$1l=["innerHTML"],_hoisted_29$1h={class:"input-style input-style-2"},_hoisted_30$1f={key:5,class:"col-12"},_hoisted_31$1d=["innerHTML"],_hoisted_32$1a={class:"input-style input-style-2"},_hoisted_33$1a={class:"col-12"},_hoisted_34$17={key:0},_hoisted_35$14={class:"text-center"},_hoisted_36$11={key:0,class:"input-style input-style-2"},_hoisted_37$Z=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_38$X={key:1,class:"row mb-0"},_hoisted_39$X={class:"col-6 p-3"},_hoisted_40$S=["onClick"],_hoisted_41$S=_withScopeId$o(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_42$S=_withScopeId$o(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_43$S=[_hoisted_41$S,_hoisted_42$S],_hoisted_44$R={class:"col-6 p-3"},_hoisted_45$R=["onClick"],_hoisted_46$Q=_withScopeId$o(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_47$N=_withScopeId$o(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_48$N=[_hoisted_46$Q,_hoisted_47$N],_hoisted_49$J={class:"col-12"},_hoisted_50$I=_withScopeId$o(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_51$G=_withScopeId$o(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_52$G={class:"d-flex mb-3"},_hoisted_53$F={class:"pt-1"},_hoisted_54$F={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_55$C={key:0},_hoisted_56$B={key:1},_hoisted_57$A={class:"ml-auto mr-4 pr-2"},_hoisted_58$y={class:"custom-control ios-switch"},_hoisted_59$y=_withScopeId$o(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_60$x=["disabled"],_hoisted_61$w={key:1,class:"card card-style p-3"},_hoisted_62$u=["innerHTML"],_hoisted_63$u=_withScopeId$o(()=>createBaseVNode("h6",null,"Ваши данные:",-1)),_hoisted_64$s={class:"mb-0"},_hoisted_65$s={key:0,class:"mb-0"},_hoisted_66$s={key:1,class:"mb-0"},_hoisted_67$s={key:2,class:"mb-0"},_hoisted_68$s={key:3,class:"mb-0"},_hoisted_69$s={key:4,class:"mb-0"},_hoisted_70$s={class:"mb-0"},_hoisted_71$s={key:0},_hoisted_72$q={key:1},__default__$2e={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0,need_phone:!0,need_email:!0,need_profile_form_image:!0,form_image:null,pre_birthday_text:null,pre_email_text:null,pre_age_text:null,pre_city_text:null,pre_sex_text:null,pre_name_text:null,pre_phone_text:null,text_after_submit:null},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadProfileFormData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(a=>a.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(a=>{if(a.is_active){let i=this.getUserFieldValue(a.id),s=i.value,r=i.config;this.vipForm.fields.push({id:a.id,title:a.label,description:a.description,key:a.key,value:a.type===2?s==="1":s,type:a.type,pattern:a.pattern,required:a.required,config:r})}})})},loadProfileFormData(){this.loading=!0,this.$store.dispatch("loadProfileFormData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveProfileFormData",{dataObject:this.vipForm}).then(o=>{this.loading=!1,this.tg.close()}).catch(()=>{this.loading=!1})}}},_sfc_main$3u=Object.assign(__default__$2e,{__name:"ProfileForm",setup(o){return(t,a)=>{const i=resolveDirective("lazy"),s=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$3p,[t.botUser.is_vip?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$3j,[createBaseVNode("form",{onSubmit:a[8]||(a[8]=withModifiers((...r)=>t.submit&&t.submit(...r),["prevent"])),class:"row mb-0"},[t.settings.need_profile_form_image?(openBlock(),createElementBlock("div",_hoisted_3$3c,[createBaseVNode("div",_hoisted_4$34,[t.settings.form_image?withDirectives((openBlock(),createElementBlock("img",_hoisted_5$2$,null,512)),[[i,t.settings.form_image]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_6$2Z,null,512)),[[i,"/images-by-bot-id/"+t.currentBot.id+"/"+t.currentBot.image]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$2R,[t.settings.pre_name_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_name_text},null,8,_hoisted_8$2M)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$2H,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":a[0]||(a[0]=r=>t.vipForm.name=r),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,t.vipForm.name]])])]),t.settings.need_phone?(openBlock(),createElementBlock("div",_hoisted_10$2x,[t.settings.pre_phone_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_phone_text},null,8,_hoisted_11$2r)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$2n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[1]||(a[1]=r=>t.vipForm.phone=r),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[s,["+7(###)###-##-##"]],[vModelText,t.vipForm.phone]])])])):createCommentVNode("",!0),t.settings.need_email?(openBlock(),createElementBlock("div",_hoisted_13$2h,[t.settings.pre_email_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_email_text},null,8,_hoisted_14$2a)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$28,[withDirectives(createBaseVNode("input",{type:"email",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[2]||(a[2]=r=>t.vipForm.email=r),placeholder:"example@test.com","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[vModelText,t.vipForm.email]])])])):createCommentVNode("",!0),t.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_16$26,[t.settings.pre_sex_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_sex_text},null,8,_hoisted_17$1_)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$1V,[createBaseVNode("div",_hoisted_19$1Q,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[3]||(a[3]=r=>t.vipForm.sex=!0)},_hoisted_22$1H,2)]),createBaseVNode("div",_hoisted_23$1G,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[4]||(a[4]=r=>t.vipForm.sex=!1)},_hoisted_26$1r,2)])])])):createCommentVNode("",!0),t.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_27$1n,[t.settings.pre_birthday_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_birthday_text},null,8,_hoisted_28$1l)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_29$1h,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[5]||(a[5]=r=>t.vipForm.birthday=r),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,t.vipForm.birthday]])])])):createCommentVNode("",!0),t.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_30$1f,[t.settings.pre_city_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_city_text},null,8,_hoisted_31$1d)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$1a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=r=>t.vipForm.city=r),class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Ваш город","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,t.vipForm.city]])])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_33$1a,[t.settings[r.key]?(openBlock(),createElementBlock("div",_hoisted_34$17,[createBaseVNode("h6",_hoisted_35$14,toDisplayString(r.description),1),r.type===0||r.type===1?(openBlock(),createElementBlock("div",_hoisted_36$11,[withDirectives(createBaseVNode("input",{type:r.type===1?"number":"text","onUpdate:modelValue":l=>t.vipForm.fields[n].value=l,class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:r.title,pattern:t.vipForm.fields[n].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:t.vipForm.fields[n].requried},null,8,_hoisted_37$Z),[[vModelDynamic,t.vipForm.fields[n].value]])])):createCommentVNode("",!0),r.type===2?(openBlock(),createElementBlock("div",_hoisted_38$X,[createBaseVNode("div",_hoisted_39$X,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.fields[n].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[n].value=!0},_hoisted_43$S,10,_hoisted_40$S)]),createBaseVNode("div",_hoisted_44$R,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.fields[n].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[n].value=!1},_hoisted_48$N,10,_hoisted_45$R)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),createBaseVNode("div",_hoisted_49$J,[_hoisted_50$I,_hoisted_51$G,createBaseVNode("div",_hoisted_52$G,[createBaseVNode("div",_hoisted_53$F,[createBaseVNode("h5",_hoisted_54$F,[t.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_55$C,"С правилами ознакомилась")),t.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_56$B,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_57$A,[createBaseVNode("div",_hoisted_58$y,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[7]||(a[7]=r=>t.confirm=r),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_59$y])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_60$x)])],32)])),t.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_61$w,[createBaseVNode("p",{innerHTML:t.settings.text_after_submit},null,8,_hoisted_62$u),_hoisted_63$u,createBaseVNode("p",_hoisted_64$s,"Имя: "+toDisplayString(t.botUser.name||"Не указано"),1),t.settings.need_phone?(openBlock(),createElementBlock("p",_hoisted_65$s,"Телефон: "+toDisplayString(t.botUser.phone||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_email?(openBlock(),createElementBlock("p",_hoisted_66$s,"Email: "+toDisplayString(t.botUser.email||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_city?(openBlock(),createElementBlock("p",_hoisted_67$s,"Город: "+toDisplayString(t.botUser.city||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_birthday?(openBlock(),createElementBlock("p",_hoisted_68$s,"Дата рождения: "+toDisplayString(t.botUser.birthday||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_sex?(openBlock(),createElementBlock("p",_hoisted_69$s,"Пол: "+toDisplayString(t.botUser.sex?"Мужской":"Женский"),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,r=>(openBlock(),createElementBlock("p",_hoisted_70$s,[createTextVNode(toDisplayString(r.title)+": ",1),r.config.type===2?(openBlock(),createElementBlock("span",_hoisted_71$s,toDisplayString(r.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),r.config.type===0||r.config.type===1?(openBlock(),createElementBlock("span",_hoisted_72$q,toDisplayString(r.value),1)):createCommentVNode("",!0)]))),256)),createVNode(ReturnToBot,{class:"mb-2"})])):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(_sfc_main$3C)],64)}}}),ProfileForm=_export_sfc(_sfc_main$3u,[["__scopeId","data-v-ecffb0b9"]]),ProfileForm$1=Object.freeze(Object.defineProperty({__proto__:null,default:ProfileForm},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3o=createStaticVNode('<div class="card card-style bg-25 mb-3" data-card-height="200" style="height:200px;"><div class="card-center"><p class="text-center mb-2"><i class="fa-brands fa-shopify color-red2-dark fa-4x"></i></p><h2 class="color-white font-700 text-center mb-0">Категории товара</h2><p class="color-white text-center opacity-60 mt-n1 mb-3">Список доступных в магазине категорий</p></div><div class="card-overlay bg-black opacity-80"></div></div>',1),__default__$2d={},_sfc_main$3t=Object.assign(__default__$2d,{__name:"Categories",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$3o,createVNode(_sfc_main$4c,{size:"10"})],64))}}),Categories=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3t},Symbol.toStringTag,{value:"Module"})),PagesList_vue_vue_type_style_index_0_lang="",_hoisted_1$3n={class:"search-box bg-theme rounded-xs shadow-xs bottom-0 mb-2"},_hoisted_2$3i=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_3$3b={key:0,class:"list-group w-100"},_hoisted_4$33={class:"list-group-item cursor-pointer page-menu-item btn btn-outline-info mb-3"},_hoisted_5$2_={class:"d-flex justify-content-between align-items-center"},_hoisted_6$2Y=["onClick"],_hoisted_7$2Q={key:0},_hoisted_8$2L={key:1},_hoisted_9$2G=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_10$2w=[_hoisted_9$2G],_hoisted_11$2q=["onClick"],_hoisted_12$2m=createBaseVNode("i",{class:"fa-solid fa-ellipsis"},null,-1),_hoisted_13$2g=[_hoisted_12$2m],_hoisted_14$29={key:2,class:"alert alert-warning",role:"alert"},__default__$2c={props:["current","editor"],data(){return{bot:null,loading:!0,pages:[],search:null,pages_paginate_object:null,need_new_page:!1}},computed:{...mapGetters(["getPages","getPagesPaginateObject"])},mounted(){this.loadPages(),window.addEventListener("reload-page-list",o=>{this.loadPages()})},methods:{openPageMenuModal(o){this.$botPages.open(o)},selectPage(o){this.$emit("callback",o),this.$botNotification.notification("Страницы","Вы выбрали страницу из списка! Все остальные действия будут производится для этой страницы")},nextPages(o){this.loadPages(o)},loadPages(o=0){this.loading=!0,this.$store.dispatch("loadPages",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.pages=this.getPages,this.pages_paginate_object=this.getPagesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3s=Object.assign(__default__$2c,{__name:"PagesList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$3n,[_hoisted_2$3i,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"border-0",placeholder:"Поиск страницы"},null,512),[[vModelText,t.search]])]),createBaseVNode("button",{class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-3 w-100",onClick:a[1]||(a[1]=(...i)=>t.loadPages&&t.loadPages(...i)),type:"button",id:"button-addon2"},"Найти "),t.pages.length>0?(openBlock(),createElementBlock("ul",_hoisted_3$3b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pages,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_4$33,[createBaseVNode("div",_hoisted_5$2_,[createBaseVNode("strong",{onClick:r=>t.selectPage(i),class:"font-12"},[createTextVNode("#"+toDisplayString(i.id||"Не указано")+" ",1),i.slug?(openBlock(),createElementBlock("span",_hoisted_7$2Q,toDisplayString(i.slug.command||"Не указано"),1)):createCommentVNode("",!0),o.current&&o.current===i.id?(openBlock(),createElementBlock("span",_hoisted_8$2L,_hoisted_10$2w)):createCommentVNode("",!0)],8,_hoisted_6$2Y),o.editor?(openBlock(),createElementBlock("button",{key:0,class:"btn",type:"button",onClick:r=>t.openPageMenuModal(i.id),"aria-expanded":"false"},_hoisted_13$2g,8,_hoisted_11$2q)):createCommentVNode("",!0)])]))),256))])):createCommentVNode("",!0),t.pages_paginate_object?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextPages,pagination:t.pages_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_14$29," Созданных страниц не найдено! "))],64))}}),_sfc_main$3r={props:["botUser"],data(){return{isEdit:!1,messages:[],botUserForm:{id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:null,blocked_message:null}}},watch:{isEdit:function(){this.botUserForm.id=this.botUser.id,this.botUserForm.is_vip=this.botUser.is_vip,this.botUserForm.is_admin=this.botUser.is_admin,this.botUserForm.is_work=this.botUser.is_work,this.botUserForm.is_manager=this.botUser.is_manager,this.botUserForm.is_deliveryman=this.botUser.is_deliveryman,this.botUserForm.user_in_location=this.botUser.user_in_location,this.botUserForm.name=this.botUser.name||this.botUser.username||this.botUser.id,this.botUserForm.phone=this.botUser.phone,this.botUserForm.email=this.botUser.email,this.botUserForm.birthday=this.botUser.birthday||null,this.botUserForm.city=this.botUser.city||null,this.botUserForm.country=this.botUser.country||null,this.botUserForm.address=this.botUser.address||null,this.botUserForm.sex=this.botUser.sex||!1,this.botUserForm.is_blocked=this.botUser.blocked_at!=null,this.botUserForm.blocked_message=this.botUser.blocked_message||null}},methods:{alert(o){this.messages.push(o)},removeMessage(o){this.messages.splice(o,1)},submit(){this.$store.dispatch("updateBotUser",{botUserForm:this.botUserForm}).then(()=>{this.isEdit=!1,this.messages=[],this.botUserForm={id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:!1},this.$emit("update"),this.$botNotification.notification("Редактирование данных","Данные успешно обновлены!")}).catch(()=>{this.$botNotification.warning("Редактирование данных","Ошибка обновления данных")})}}},_hoisted_1$3m={key:0},_hoisted_2$3h=createBaseVNode("i",{class:"fa-solid fa-user-pen mr-2"},null,-1),_hoisted_3$3a={key:1},_hoisted_4$32=createBaseVNode("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),_hoisted_5$2Z={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},_hoisted_6$2X=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_7$2P=createBaseVNode("th",{scope:"row"},"ID в системе",-1),_hoisted_8$2K={class:"font-weight-bold"},_hoisted_9$2F=createBaseVNode("th",{scope:"row"},"Дата регистрации",-1),_hoisted_10$2v={class:"font-weight-bold"},_hoisted_11$2p=createBaseVNode("th",{scope:"row"},"Телеграм ID",-1),_hoisted_12$2l={class:"font-weight-bold"},_hoisted_13$2f=createBaseVNode("th",{scope:"row"},"Имя",-1),_hoisted_14$28={class:"font-weight-bold"},_hoisted_15$27=createBaseVNode("th",{scope:"row"},"Имя из телеграмма",-1),_hoisted_16$25={class:"font-weight-bold"},_hoisted_17$1Z=createBaseVNode("th",{scope:"row"},"Домен пользователя",-1),_hoisted_18$1U={class:"font-weight-bold"},_hoisted_19$1P=createBaseVNode("th",{scope:"row"},"Номер телефона",-1),_hoisted_20$1L={class:"font-weight-bold"},_hoisted_21$1H=createBaseVNode("th",{scope:"row"},"Возраст",-1),_hoisted_22$1G={class:"font-weight-bold"},_hoisted_23$1F=createBaseVNode("th",{scope:"row"},"Пол",-1),_hoisted_24$1A={class:"font-weight-bold"},_hoisted_25$1u=createBaseVNode("th",{scope:"row"},"Страна",-1),_hoisted_26$1q={class:"font-weight-bold"},_hoisted_27$1m=createBaseVNode("th",{scope:"row"},"Город",-1),_hoisted_28$1k={class:"font-weight-bold"},_hoisted_29$1g=createBaseVNode("th",{scope:"row"},"Адрес",-1),_hoisted_30$1e={class:"font-weight-bold"},_hoisted_31$1c=createBaseVNode("th",{scope:"row"},"VIP",-1),_hoisted_32$19={class:"font-weight-bold"},_hoisted_33$19=createBaseVNode("th",{scope:"row"},"Администратор",-1),_hoisted_34$16={class:"font-weight-bold"},_hoisted_35$13=createBaseVNode("th",{scope:"row"},"Доставщик",-1),_hoisted_36$10={class:"font-weight-bold"},_hoisted_37$Y=createBaseVNode("th",{scope:"row"},"На работе",-1),_hoisted_38$W={class:"font-weight-bold"},_hoisted_39$W=createBaseVNode("th",{scope:"row"},"В заведении",-1),_hoisted_40$R={class:"font-weight-bold"},_hoisted_41$R={key:0},_hoisted_42$R=createBaseVNode("th",{scope:"row"},"Пользователь заблокирован",-1),_hoisted_43$R={class:"font-weight-bold"},_hoisted_44$Q={class:"mb-0"},_hoisted_45$Q={class:"mb-0"},_hoisted_46$P={class:"form-group mb-2"},_hoisted_47$M=createBaseVNode("label",{for:""},"Ф.И.О пользователя",-1),_hoisted_48$M={class:"form-group mb-2"},_hoisted_49$I=createBaseVNode("label",{for:""},"Телефон",-1),_hoisted_50$H={class:"form-group mb-2"},_hoisted_51$F=createBaseVNode("label",{for:""},"Почта",-1),_hoisted_52$F={class:"form-group mb-2"},_hoisted_53$E=createBaseVNode("label",{for:""},"Адрес",-1),_hoisted_54$E={class:"form-group mb-2"},_hoisted_55$B=createBaseVNode("label",{for:""},"Дата рождения",-1),_hoisted_56$A={class:"form-group mb-2"},_hoisted_57$z=createBaseVNode("label",{for:""},"Страна",-1),_hoisted_58$x={class:"form-group mb-2"},_hoisted_59$x=createBaseVNode("label",{for:""},"Город",-1),_hoisted_60$w={class:"row mb-0"},_hoisted_61$v=createBaseVNode("p",{class:"col-12 mb-0"},"Администратор",-1),_hoisted_62$t={class:"col-6"},_hoisted_63$t=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_64$r={class:"col-6"},_hoisted_65$r=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_66$r={class:"row mb-0"},_hoisted_67$r=createBaseVNode("p",{class:"col-12 mb-0"},"VIP",-1),_hoisted_68$r={class:"col-6"},_hoisted_69$r=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_70$r={class:"col-6"},_hoisted_71$r=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_72$p={class:"row mb-0"},_hoisted_73$p=createBaseVNode("p",{class:"col-12 mb-0"},"Доставщик",-1),_hoisted_74$o={class:"col-6"},_hoisted_75$o=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_76$m={class:"col-6"},_hoisted_77$m=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_78$k={class:"row mb-0"},_hoisted_79$k=createBaseVNode("p",{class:"col-12 mb-0"},"Менеджер",-1),_hoisted_80$k={class:"col-6"},_hoisted_81$k=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_82$k={class:"col-6"},_hoisted_83$h=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_84$g={class:"row mb-0"},_hoisted_85$f=createBaseVNode("p",{class:"col-12 mb-0"},"Работает",-1),_hoisted_86$f={class:"col-6"},_hoisted_87$f=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_88$f={class:"col-6"},_hoisted_89$e=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_90$e={class:"row mb-0"},_hoisted_91$e=createBaseVNode("p",{class:"col-12 mb-0"},"В заведении",-1),_hoisted_92$e={class:"col-6"},_hoisted_93$e=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_94$e={class:"col-6"},_hoisted_95$e=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_96$c={class:"row mb-0"},_hoisted_97$c=createBaseVNode("p",{class:"col-12 mb-0"},"Заблокирован",-1),_hoisted_98$c={class:"col-6"},_hoisted_99$c=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_100$c={class:"col-6"},_hoisted_101$c=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_102$c={key:0,class:"col-12"},_hoisted_103$c=createBaseVNode("label",{for:""},"Сообщение блокировки",-1),_hoisted_104$b={class:"row mb-0"},_hoisted_105$b=createBaseVNode("p",{class:"col-12 mb-0"},"Пол",-1),_hoisted_106$a={class:"col-6"},_hoisted_107$a=createBaseVNode("i",{class:"fa-solid fa-mars mr-1"},null,-1),_hoisted_108$a={class:"col-6"},_hoisted_109$a=createBaseVNode("i",{class:"fa-solid fa-venus mr-1"},null,-1),_hoisted_110$9={class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_111$8={class:"custom-alert-text"},_hoisted_112$8=["onClick"],_hoisted_113$8=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mt-2 mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Сохранить ",-1),_hoisted_114$8=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1);function _sfc_render$1d(o,t,a,i,s,r){const n=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=l=>s.isEdit=!s.isEdit),class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-brown2-dark"},[s.isEdit?(openBlock(),createElementBlock("span",_hoisted_3$3a,[_hoisted_4$32,createTextVNode(" Завершить редактирование")])):(openBlock(),createElementBlock("span",_hoisted_1$3m,[_hoisted_2$3h,createTextVNode(" Редактировать пользователя")]))]),s.isEdit?createCommentVNode("",!0):(openBlock(),createElementBlock("table",_hoisted_5$2Z,[_hoisted_6$2X,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_7$2P,createBaseVNode("td",_hoisted_8$2K,toDisplayString(a.botUser.id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_9$2F,createBaseVNode("td",_hoisted_10$2v,toDisplayString(o.$filters.current(a.botUser.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_11$2p,createBaseVNode("td",_hoisted_12$2l,toDisplayString(a.botUser.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.name==null})},[_hoisted_13$2f,createBaseVNode("td",_hoisted_14$28,toDisplayString(a.botUser.name||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_15$27,createBaseVNode("td",_hoisted_16$25,toDisplayString(a.botUser.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_17$1Z,createBaseVNode("td",_hoisted_18$1U,toDisplayString(a.botUser.username||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.phone==null})},[_hoisted_19$1P,createBaseVNode("td",_hoisted_20$1L,toDisplayString(a.botUser.phone||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.age==null})},[_hoisted_21$1H,createBaseVNode("td",_hoisted_22$1G,toDisplayString(a.botUser.age||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_23$1F,createBaseVNode("td",_hoisted_24$1A,toDisplayString(a.botUser.sex?"Мужчина":"Женщина"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.country==null})},[_hoisted_25$1u,createBaseVNode("td",_hoisted_26$1q,toDisplayString(a.botUser.country||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.city==null})},[_hoisted_27$1m,createBaseVNode("td",_hoisted_28$1k,toDisplayString(a.botUser.city||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.address==null})},[_hoisted_29$1g,createBaseVNode("td",_hoisted_30$1e,toDisplayString(a.botUser.address||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_31$1c,createBaseVNode("td",_hoisted_32$19,toDisplayString(a.botUser.is_vip?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_33$19,createBaseVNode("td",_hoisted_34$16,toDisplayString(a.botUser.is_admin?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_35$13,createBaseVNode("td",_hoisted_36$10,toDisplayString(a.botUser.is_deliveryman?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_37$Y,createBaseVNode("td",_hoisted_38$W,toDisplayString(a.botUser.is_work?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_39$W,createBaseVNode("td",_hoisted_40$R,toDisplayString(a.botUser.user_in_location?"Да":"Нет"),1)]),a.botUser.blocked_at?(openBlock(),createElementBlock("tr",_hoisted_41$R,[_hoisted_42$R,createBaseVNode("td",_hoisted_43$R,[createBaseVNode("p",_hoisted_44$Q,toDisplayString(o.$filters.current(a.botUser.blocked_at)),1),createBaseVNode("p",_hoisted_45$Q,[createBaseVNode("em",null,toDisplayString(a.botUser.blocked_message??"Без сообщения"),1)])])])):createCommentVNode("",!0)])])),s.isEdit?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[27]||(t[27]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_46$P,[_hoisted_47$M,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>s.botUserForm.name=l),onInvalid:t[2]||(t[2]=l=>r.alert("Вы не указали имя!")),placeholder:"Иванов Иван Иванович",required:""},null,544),[[vModelText,s.botUserForm.name]])]),createBaseVNode("div",_hoisted_48$M,[_hoisted_49$I,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=l=>s.botUserForm.phone=l),onInvalid:t[4]||(t[4]=l=>r.alert("Вы не указали телефон!")),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,544),[[vModelText,s.botUserForm.phone],[n,"+7(###)###-##-##"]])]),createBaseVNode("div",_hoisted_50$H,[_hoisted_51$F,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=l=>s.botUserForm.email=l),placeholder:"example@gmail.com"},null,512),[[vModelText,s.botUserForm.email]])]),createBaseVNode("div",_hoisted_52$F,[_hoisted_53$E,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=l=>s.botUserForm.address=l),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[vModelText,s.botUserForm.address]])]),createBaseVNode("div",_hoisted_54$E,[_hoisted_55$B,withDirectives(createBaseVNode("input",{type:"date",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=l=>s.botUserForm.birthday=l),placeholder:"12/01/2023"},null,512),[[vModelText,s.botUserForm.birthday]])]),createBaseVNode("div",_hoisted_56$A,[_hoisted_57$z,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=l=>s.botUserForm.country=l),placeholder:"Россия"},null,512),[[vModelText,s.botUserForm.country]])]),createBaseVNode("div",_hoisted_58$x,[_hoisted_59$x,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=l=>s.botUserForm.city=l),placeholder:"Краснодар"},null,512),[[vModelText,s.botUserForm.city]])]),createBaseVNode("div",_hoisted_60$w,[_hoisted_61$v,createBaseVNode("div",_hoisted_62$t,[createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=l=>s.botUserForm.is_admin=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.is_admin,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.is_admin},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_63$t,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_64$r,[createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=l=>s.botUserForm.is_admin=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.is_admin,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.is_admin},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_65$r,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_66$r,[_hoisted_67$r,createBaseVNode("div",_hoisted_68$r,[createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=l=>s.botUserForm.is_vip=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.is_vip},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_69$r,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_70$r,[createBaseVNode("button",{type:"button",onClick:t[13]||(t[13]=l=>s.botUserForm.is_vip=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.is_vip},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_71$r,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_72$p,[_hoisted_73$p,createBaseVNode("div",_hoisted_74$o,[createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=l=>s.botUserForm.is_deliveryman=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.is_deliveryman},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_75$o,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_76$m,[createBaseVNode("button",{type:"button",onClick:t[15]||(t[15]=l=>s.botUserForm.is_deliveryman=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.is_deliveryman},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_77$m,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_78$k,[_hoisted_79$k,createBaseVNode("div",_hoisted_80$k,[createBaseVNode("button",{type:"button",onClick:t[16]||(t[16]=l=>s.botUserForm.is_manager=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.is_manager},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_81$k,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_82$k,[createBaseVNode("button",{type:"button",onClick:t[17]||(t[17]=l=>s.botUserForm.is_manager=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.is_manager},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_83$h,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_84$g,[_hoisted_85$f,createBaseVNode("div",_hoisted_86$f,[createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=l=>s.botUserForm.is_work=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.is_work},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_87$f,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_88$f,[createBaseVNode("button",{type:"button",onClick:t[19]||(t[19]=l=>s.botUserForm.is_work=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.is_work},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_89$e,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_90$e,[_hoisted_91$e,createBaseVNode("div",_hoisted_92$e,[createBaseVNode("button",{type:"button",onClick:t[20]||(t[20]=l=>s.botUserForm.user_in_location=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.user_in_location},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_93$e,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_94$e,[createBaseVNode("button",{type:"button",onClick:t[21]||(t[21]=l=>s.botUserForm.user_in_location=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.user_in_location},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_95$e,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_96$c,[_hoisted_97$c,createBaseVNode("div",_hoisted_98$c,[createBaseVNode("button",{type:"button",onClick:t[22]||(t[22]=l=>s.botUserForm.is_blocked=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.is_blocked,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.is_blocked},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_99$c,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_100$c,[createBaseVNode("button",{type:"button",onClick:t[23]||(t[23]=l=>s.botUserForm.is_blocked=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.is_blocked,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.is_blocked},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_101$c,createTextVNode(" Нет ")],2)]),s.botUserForm.is_blocked?(openBlock(),createElementBlock("div",_hoisted_102$c,[_hoisted_103$c,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[24]||(t[24]=l=>s.botUserForm.blocked_message=l),placeholder:"Увы и ах.. "},null,512),[[vModelText,s.botUserForm.blocked_message]])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_104$b,[_hoisted_105$b,createBaseVNode("div",_hoisted_106$a,[createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=l=>s.botUserForm.sex=!0),class:normalizeClass([{"bg-blue1-dark text-white":s.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":!s.botUserForm.sex},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_107$a,createTextVNode(" Муж ")],2)]),createBaseVNode("div",_hoisted_108$a,[createBaseVNode("button",{type:"button",onClick:t[26]||(t[26]=l=>s.botUserForm.sex=!1),class:normalizeClass([{"bg-blue1-dark text-white":!s.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":s.botUserForm.sex},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_109$a,createTextVNode(" Жен ")],2)])]),s.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.messages,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_110$9,[createBaseVNode("p",_hoisted_111$8,toDisplayString(l||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:m=>r.removeMessage(c),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_112$8)]))),256)):createCommentVNode("",!0),_hoisted_113$8,_hoisted_114$8],32)):createCommentVNode("",!0)],64)}const UserInfo$1=_export_sfc(_sfc_main$3r,[["render",_sfc_render$1d]]),_hoisted_1$3l={class:"card card-style bg-theme pb-0"},_hoisted_2$3g={class:"content"},_hoisted_3$39=createBaseVNode("p",{class:"mb-0"},"Введите номер телефона (или фрагмент) пользователя или его Ф.И.О.",-1),_hoisted_4$31={class:"search-box bg-theme rounded-s shadow-xl bottom-0"},_hoisted_5$2Y=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_6$2W={class:"d-flex w-100",style:{height:"70px","overflow-x":"scroll","min-width":"100%"}},_hoisted_7$2O={class:"scroll d-flex",style:{"min-width":"1000px"}},_hoisted_8$2J={class:"fac fac-checkbox py-2 my-2"},_hoisted_9$2E=createBaseVNode("span",null,null,-1),_hoisted_10$2u=createBaseVNode("label",{for:"need-admins-checkbox"},"Только администраторы",-1),_hoisted_11$2o={class:"fac fac-checkbox py-2 my-2"},_hoisted_12$2k=createBaseVNode("span",null,null,-1),_hoisted_13$2e=createBaseVNode("label",{for:"need-with-phone-checkbox"},"Только с телефоном",-1),_hoisted_14$27={class:"fac fac-checkbox py-2 my-2"},_hoisted_15$26=createBaseVNode("span",null,null,-1),_hoisted_16$24=createBaseVNode("label",{for:"need-deliveryman"},"Только доставщики",-1),_hoisted_17$1Y={class:"fac fac-checkbox py-2 my-2"},_hoisted_18$1T=createBaseVNode("span",null,null,-1),_hoisted_19$1O=createBaseVNode("label",{for:"need-without-phone-checkbox"},"Только без телефоном",-1),_hoisted_20$1K={class:"fac fac-checkbox py-2 my-2"},_hoisted_21$1G=createBaseVNode("span",null,null,-1),_hoisted_22$1F=createBaseVNode("label",{for:"need-vip-checkbox"},"Только вип",-1),_hoisted_23$1E={class:"fac fac-checkbox py-2 my-2"},_hoisted_24$1z=createBaseVNode("span",null,null,-1),_hoisted_25$1t=createBaseVNode("label",{for:"need-not-vip-checkbox"},"Только не вип",-1),_hoisted_26$1p=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full my-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-1"}),createTextVNode("Искать ")],-1),_hoisted_27$1l={key:0,class:"card card-style mx-0 mt-3 pt-2 pb-0 mb-2"},_hoisted_28$1j={class:"w-100 text-center p-2 mb-0"},_hoisted_29$1f={class:"list-group list-custom-large"},_hoisted_30$1d=["onClick"],_hoisted_31$1b={key:0,class:"fa-solid fa-a color-red2-dark"},_hoisted_32$18={key:1,class:"fa-solid fa-u color-green2-dark"},_hoisted_33$18=createBaseVNode("i",{class:"fa fa-angle-right mr-2"},null,-1),_hoisted_34$15=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_35$12=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),__default__$2b={data(){return{loading:!0,users:null,search:null,need_admins:!1,need_vip:!1,need_not_vip:!1,need_with_phone:!1,need_without_phone:!1,need_deliveryman:!1,users_paginate_object:null}},computed:{...mapGetters(["getUsers","getUsersPaginateObject"])},mounted(){this.loadUsers(0)},methods:{downloadBotUsers(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotUsers").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})},downloadCashBackHistory(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadCashBackHistory").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})},nextUsers(o){this.loadUsers(o)},selectUser(o){this.$emit("select",o)},loadUsers(o=0){this.loading=!0,this.$store.dispatch("loadUsers",{dataObject:{search:this.search,need_admins:this.need_admins,need_vip:this.need_vip,need_not_vip:this.need_not_vip,need_deliveryman:this.need_deliveryman,need_with_phone:this.need_with_phone,need_without_phone:this.need_without_phone},page:o}).then(t=>{this.loading=!1,this.users=this.getUsers,this.users_paginate_object=this.getUsersPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3q=Object.assign(__default__$2b,{__name:"UserSearchForm",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3l,[createBaseVNode("div",_hoisted_2$3g,[_hoisted_3$39,createBaseVNode("form",{onSubmit:a[7]||(a[7]=withModifiers(i=>t.loadUsers(0),["prevent"]))},[createBaseVNode("div",_hoisted_4$31,[_hoisted_5$2Y,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"border-0",placeholder:"Кого ищем?"},null,512),[[vModelText,t.search]])]),createBaseVNode("div",_hoisted_6$2W,[createBaseVNode("div",_hoisted_7$2O,[createBaseVNode("div",_hoisted_8$2J,[_hoisted_9$2E,withDirectives(createBaseVNode("input",{id:"need-admins-checkbox","onUpdate:modelValue":a[1]||(a[1]=i=>t.need_admins=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_admins]]),_hoisted_10$2u]),createBaseVNode("div",_hoisted_11$2o,[_hoisted_12$2k,withDirectives(createBaseVNode("input",{id:"need-with-phone-checkbox","onUpdate:modelValue":a[2]||(a[2]=i=>t.need_with_phone=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_with_phone]]),_hoisted_13$2e]),createBaseVNode("div",_hoisted_14$27,[_hoisted_15$26,withDirectives(createBaseVNode("input",{id:"need-deliveryman","onUpdate:modelValue":a[3]||(a[3]=i=>t.need_deliveryman=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_deliveryman]]),_hoisted_16$24]),createBaseVNode("div",_hoisted_17$1Y,[_hoisted_18$1T,withDirectives(createBaseVNode("input",{id:"need-without-phone-checkbox","onUpdate:modelValue":a[4]||(a[4]=i=>t.need_without_phone=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_without_phone]]),_hoisted_19$1O]),createBaseVNode("div",_hoisted_20$1K,[_hoisted_21$1G,withDirectives(createBaseVNode("input",{id:"need-vip-checkbox","onUpdate:modelValue":a[5]||(a[5]=i=>t.need_vip=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_vip]]),_hoisted_22$1F]),createBaseVNode("div",_hoisted_23$1E,[_hoisted_24$1z,withDirectives(createBaseVNode("input",{id:"need-not-vip-checkbox","onUpdate:modelValue":a[6]||(a[6]=i=>t.need_not_vip=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_not_vip]]),_hoisted_25$1t])])]),_hoisted_26$1p],32),t.users?(openBlock(),createElementBlock("div",_hoisted_27$1l,[createBaseVNode("small",_hoisted_28$1j,"Найдено "+toDisplayString(t.users_paginate_object.meta.total),1),createBaseVNode("div",_hoisted_29$1f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.users,(i,s)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:r=>t.selectUser(i)},[i.is_admin?(openBlock(),createElementBlock("i",_hoisted_31$1b)):(openBlock(),createElementBlock("i",_hoisted_32$18)),createBaseVNode("span",null,toDisplayString(i.name||i.fio_from_telegram||"Не указано"),1),createBaseVNode("strong",null,toDisplayString(i.phone||"Телефон не указан"),1),_hoisted_33$18],8,_hoisted_30$1d))),256))]),t.users_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,class:"mt-4",onPagination_page:t.nextUsers,pagination:t.users_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[8]||(a[8]=(...i)=>t.downloadBotUsers&&t.downloadBotUsers(...i)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[_hoisted_34$15,createTextVNode(" Скачать список пользователей ")]),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[9]||(a[9]=(...i)=>t.downloadCashBackHistory&&t.downloadCashBackHistory(...i)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[_hoisted_35$12,createTextVNode(" Скачать историю CashBack ")]),createVNode(ReturnToBot,{class:"mt-3"})])]))}}),_hoisted_1$3k={key:1,id:"user-profile-info"},_hoisted_2$3f={class:"card card-style bg-theme pb-0"},_hoisted_3$38={class:"content mb-0"},_hoisted_4$30={class:"tab-controls mb-5 tabs-round tab-animated tabs-medium tabs-rounded shadow-xl"},_hoisted_5$2X=createBaseVNode("i",{class:"fa fa-heart"},null,-1),_hoisted_6$2V=createBaseVNode("i",{class:"fa fa-star"},null,-1),_hoisted_7$2N={key:0},_hoisted_8$2I=createBaseVNode("h3",null,"Информация о пользователе",-1),_hoisted_9$2D=createBaseVNode("p",{class:"mb-2"}," Ваша персональная информация ",-1),_hoisted_10$2t={key:1},_hoisted_11$2n={key:0,class:"list-group list-boxes w-100"},_hoisted_12$2j=["onClick"],_hoisted_13$2d={key:0,class:"color-green2-dark"},_hoisted_14$26={key:1,class:"color-red1-dark"},_hoisted_15$25={key:2,class:"fa fa-circle-up color-green2-dark"},_hoisted_16$23={key:3,class:"fa-regular fa-circle-down color-red1-dark"},_hoisted_17$1X={key:1},_hoisted_18$1S=createBaseVNode("div",{class:"divider-icon divider-margins bg-blue2-dark my-4"},[createBaseVNode("i",{class:"fa font-17 color-blue2-dark fa-cog bg-white"})],-1),_hoisted_19$1N={key:0,class:"content mt-0"},_hoisted_20$1J={class:"mb-3"},_hoisted_21$1F={class:"mb-3"},_hoisted_22$1E=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Написать сообщение",-1),_hoisted_23$1D={class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_24$1y={key:0,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_25$1s={key:1,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_26$1o=createBaseVNode("i",{class:"fa-solid fa-font font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_27$1k=createBaseVNode("i",{class:"fa-solid fa-photo-film font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_28$1i={key:0,class:"mb-3"},_hoisted_29$1e={class:"mb-3"},_hoisted_30$1c=["disabled"],_hoisted_31$1a={class:"mb-3"},_hoisted_32$17=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_33$17={class:"mb-3"},_hoisted_34$14=["disabled"],_hoisted_35$11={class:"mb-3"},_hoisted_36$$=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_37$X={class:"mb-3"},_hoisted_38$V=["disabled"],_hoisted_39$V={class:"mb-3"},_hoisted_40$Q=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Значение на оплату, руб",-1),_hoisted_41$Q={class:"mb-3"},_hoisted_42$Q=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Введите сообщение для пользователя",-1),_hoisted_43$Q={class:"mb-3"},_hoisted_44$P=["disabled"],_hoisted_45$P={class:"mb-2"},_hoisted_46$O={key:1},_hoisted_47$L=createBaseVNode("h6",null,"В боте поддерживается списание CashBack по категориям",-1),_hoisted_48$L=createBaseVNode("option",{selected:""},"Общий CashBack",-1),_hoisted_49$H=["value"],_hoisted_50$G={class:"mb-3"},_hoisted_51$E=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма списания CashBack, руб",-1),_hoisted_52$E={class:"mb-3"},_hoisted_53$D=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина списания",-1),_hoisted_54$D={class:"mb-3"},_hoisted_55$A=["disabled"],_hoisted_56$z={class:"mb-2"},_hoisted_57$y={class:"mb-2"},_hoisted_58$w={key:1},_hoisted_59$w=createBaseVNode("h6",null,"В боте поддерживается начисление CashBack по категориям",-1),_hoisted_60$v=createBaseVNode("option",{selected:""},"Общий CashBack",-1),_hoisted_61$u=["value"],_hoisted_62$s=createBaseVNode("em",null,"Начисления по реферальной системе происходя только для общего CashBack-а. CashBack-по категориям не суммируется с общим и отображается пользователю отдельно.",-1),_hoisted_63$s={class:"form-check mb-3"},_hoisted_64$q=createBaseVNode("label",{class:"form-check-label",for:"need_custom_cashback_amount"}," Нужен нестандартный % CashBack ",-1),_hoisted_65$q={key:2,class:"mb-3"},_hoisted_66$q=createBaseVNode("label",{for:"bill-percent",class:"form-label"},"% CashBack-а",-1),_hoisted_67$q={class:"mb-3"},_hoisted_68$q=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма в чеке, руб",-1),_hoisted_69$q={class:"mb-3"},_hoisted_70$q=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Информация о чеке, номер",-1),_hoisted_71$q={class:"mb-3"},_hoisted_72$o=["disabled"],_hoisted_73$o={class:"form-check form-switch my-2"},_hoisted_74$n=createBaseVNode("label",{class:"form-check-label",for:"switchCheckDefault"}," Тихий режим (не оповещать пользователя о смене статуса) ",-1),_hoisted_75$n={class:"mb-3"},_hoisted_76$l=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина добавления администратора",-1),_hoisted_77$l={class:"mb-3"},_hoisted_78$j=["disabled"],_hoisted_79$j={class:"mb-3"},_hoisted_80$j=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина разжалования администратора",-1),_hoisted_81$j={class:"mb-3"},_hoisted_82$j=["disabled"],_hoisted_83$g={class:"mb-3"},_hoisted_84$f=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_85$e=createBaseVNode("h6",null,"Список доступных страниц:",-1),_hoisted_86$e={key:0,class:"mb-2"},_hoisted_87$e={class:"mb-3"},_hoisted_88$e=["disabled"],__default__$2a={data(){return{botUser:null,statistic:null,loading:!1,reloadUsers:!1,tab:0,section:0,cashback:[],referrals:[],request_telegram_chat_id:null,cashback_paginate_object:null,referrals_paginate_object:null,invoiceForm:{amount:100,info:null},userDataForm:{info:null},locationForm:{info:null,content:null,content_type:null,need_media_content:!1},adminForm:{info:null,silent_mode:!1},pageForm:{page_id:null,info:null},cashbackForm:{percent:null,need_custom_percents:!1,category:null,amount:null,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf,this.loadCashBack()},"cashbackForm.need_custom_percents":function(){this.cashbackForm.need_custom_percents||(this.cashbackForm.percent=null,this.cashbackForm.amount=null)},tab:function(){this.tab===1&&this.loadCashBack()},section:function(){this.invoiceForm={amount:100,info:null},this.userDataForm={info:null},this.locationForm={info:null,need_media_content:!1},this.adminForm={info:null},this.cashbackForm={percent:null,need_custom_percents:!1,amount:null,info:null}}},mounted(){this.getSelf&&(this.botUser=this.getSelf);const o=new URLSearchParams(window.location.search);let t=JSON.parse(o.get("user"));t&&(this.request_telegram_chat_id=t,this.loadReceiverUserData(),this.loadCashBack())},methods:{pageListCallback(o){this.pageForm.page_id=o.id},updateUserInfo(){this.reloadUsers=!0,this.botUser=null,this.request_telegram_chat_id=null,this.$nextTick(()=>{this.reloadUsers=!1})},selectUser(o){this.request_telegram_chat_id=o.telegram_chat_id,this.loadReceiverUserData(),this.loadCashBack()},showInfo(o){this.$cashback.show(o)},nextCashBackPage(o){this.loadCashBack(o)},loadReceiverUserData(){this.loading=!0,this.reloadUsers=!0,this.$store.dispatch("loadReceiverUserData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.botUser=o.data,this.loading=!1,this.reloadUsers=!1,this.$nextTick(()=>{let t=document.getElementById("user-profile-info");window.scrollTo(t.offsetLeft,t.offsetTop-70)})}).catch(()=>{this.botUser=null,this.loading=!1,this.reloadUsers=!1})},loadCashBack(o=0){this.request_telegram_chat_id&&this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id},page:o}).then(t=>{this.loading=!1,this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})},loadUsers(o=0){this.$store.dispatch("loadSearchUsers",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id},page:o}).then(t=>{this.loading=!1,this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})},requestUserMenu(){this.loading=!0,this.$store.dispatch("requestRefreshMenu",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$botNotification.success("Отлично!","Вы отправили запрос на обновление меню у попльзователя")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},goToUserChatHistory(){this.$router.push({name:"AdminChatLog",params:{botUserId:this.botUser.id}})},requestUserData(){this.loading=!0,this.$store.dispatch("requestUserData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$botNotification.success("Отлично!","Вы отправили запрос на заполнение пользовательских данных")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},acceptUserInLocation(){this.loading=!0,this.$store.dispatch("userMessage",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.locationForm}}).then(o=>{this.loading=!1,this.locationForm.info=null,this.locationForm.content=null,this.locationForm.content_type=null,this.locationForm.need_media_content=!1,this.$botNotification.success("Отлично!","Вы отметили пользователя в заведении и отправили ему сообщение")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},removeCashBack(){if(!this.request_telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("removeCashBack",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.loadReceiverUserData(),this.loadCashBack(),this.$botNotification.success("Отлично!","Вы успешно списали кэшбэк")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},sendPageToUser(){if(!this.request_telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("sendPageToUser",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.pageForm}}).then(o=>{this.loading=!1,this.pageForm.page_id=null,this.pageForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно отправили пользователю страницу")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},addCashBack(){if(!this.request_telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("addCashBack",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.loadReceiverUserData(),this.loadCashBack(),this.$botNotification.success("Отлично!","Вы успешно зачислили кэшбэк")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},sendInvoice(){this.loading=!0,this.$store.dispatch("sendInvoice",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.invoiceForm}}).then(o=>{this.loading=!1,this.invoiceForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно отправили пользователю запрос на оплату")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},selectMediaForMessage(o){this.locationForm.content=o.file_id||null,this.locationForm.content_type=o.type||null},addAdmin(){this.loading=!0,this.$store.dispatch("addAdmin",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.adminForm}}).then(o=>{this.loading=!1,this.adminForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно назначили пользователя администратором")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},removeAdmin(){this.loading=!0,this.$store.dispatch("removeAdmin",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.adminForm}}).then(o=>{this.loading=!1,this.adminForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно убрали пользователя из администраторов")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},scanQR(){this.tg.showScanQrPopup({text:"test"},o=>(document.write("<br>"+o),this.tg.closeScanQrPopup(),!0))},openSection(o){this.section=o}}},_sfc_main$3p=Object.assign(__default__$2a,{__name:"Main",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.reloadUsers?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$3q,{key:0,onSelect:t.selectUser},null,8,["onSelect"])),t.request_telegram_chat_id?(openBlock(),createElementBlock("div",_hoisted_1$3k,[createBaseVNode("div",_hoisted_2$3f,[createBaseVNode("div",_hoisted_3$38,[createBaseVNode("div",_hoisted_4$30,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass({"bg-blue2-dark color-white":t.tab===0}),onClick:a[0]||(a[0]=withModifiers(i=>t.tab=0,["prevent"])),style:{width:"50%"}},[_hoisted_5$2X,createTextVNode(" Инфо ")],2),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass({"bg-blue2-dark color-white":t.tab===1}),onClick:a[1]||(a[1]=withModifiers(i=>t.tab=1,["prevent"])),style:{width:"50%"}},[_hoisted_6$2V,createTextVNode(" CashBack ")],2)]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_7$2N,[_hoisted_8$2I,_hoisted_9$2D,t.botUser&&!t.reloadUsers?(openBlock(),createBlock(UserInfo$1,{key:0,onUpdate:t.updateUserInfo,"bot-user":t.botUser},null,8,["onUpdate","bot-user"])):createCommentVNode("",!0),createVNode(ReturnToBot)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_10$2t,[t.cashback.length>0?(openBlock(),createElementBlock("div",_hoisted_11$2n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cashback,(i,s)=>(openBlock(),createElementBlock("a",{onClick:withModifiers(r=>t.showInfo(i),["prevent"]),class:normalizeClass([{"border-green2-dark":i.operation_type,"border-red1-dark":!i.operation_type},"border rounded-s shadow-xs"]),href:"javascript:void(0)"},[createBaseVNode("i",{class:normalizeClass(["fa font-20 fa-mobile",{"color-green2-dark":i.operation_type,"color-red1-dark":!i.operation_type}])},null,2),createBaseVNode("span",null,toDisplayString(i.amount||0)+" руб. (чек "+toDisplayString(i.money_in_check||0)+" руб.)",1),createBaseVNode("strong",null,toDisplayString(i.employee.fio_from_telegram||"Не указано"),1),i.operation_type?(openBlock(),createElementBlock("u",_hoisted_13$2d,"Начисление")):(openBlock(),createElementBlock("u",_hoisted_14$26,"Списание")),i.operation_type?(openBlock(),createElementBlock("i",_hoisted_15$25)):(openBlock(),createElementBlock("i",_hoisted_16$23))],10,_hoisted_12$2j))),256))])):(openBlock(),createElementBlock("p",_hoisted_17$1X,"У пользователя еще нет операций с CashBack-ом")),t.cashback_paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextCashBackPage,pagination:t.cashback_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_hoisted_18$1S,t.botUser?(openBlock(),createElementBlock("div",_hoisted_19$1N,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=withModifiers(i=>t.openSection(5),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===5,"color-blue2-dark":t.section!==5},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Написать пользователю сообщение",2),t.section===5?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[6]||(a[6]=withModifiers((...i)=>t.acceptUserInLocation&&t.acceptUserInLocation(...i),["prevent"]))},[createBaseVNode("div",_hoisted_20$1J,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-link",onClick:a[3]||(a[3]=(...i)=>t.goToUserChatHistory&&t.goToUserChatHistory(...i))},"Глянуть историю переписки с пользователем")]),createBaseVNode("div",_hoisted_21$1F,[_hoisted_22$1E,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":a[4]||(a[4]=i=>t.locationForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.locationForm.info]])]),createBaseVNode("div",_hoisted_23$1D,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=i=>t.locationForm.need_media_content=i),class:"ios-input",id:"toggle-need-pickup"},null,512),[[vModelCheckbox,t.locationForm.need_media_content]]),t.locationForm.need_media_content?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_24$1y,"Нужен медиа контент")),t.locationForm.need_media_content?(openBlock(),createElementBlock("label",_hoisted_25$1s,"Не нужен")):createCommentVNode("",!0),_hoisted_26$1o,_hoisted_27$1k]),t.locationForm.need_media_content?(openBlock(),createElementBlock("div",_hoisted_28$1i,[createVNode(_sfc_main$4h,{"need-audio":!0,"need-video-note":!0,"need-video":!0,"need-photo":!0,onSelect:t.selectMediaForMessage,selected:[t.locationForm.content]},null,8,["onSelect","selected"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_29$1e,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_30$1c)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[7]||(a[7]=withModifiers(i=>t.openSection(8),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===8,"color-blue2-dark":t.section!==8},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Обновить меню пользователю ",2),t.section===8?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[9]||(a[9]=withModifiers((...i)=>t.requestUserMenu&&t.requestUserMenu(...i),["prevent"]))},[createBaseVNode("div",_hoisted_31$1a,[_hoisted_32$17,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":a[8]||(a[8]=i=>t.userDataForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.userDataForm.info]])]),createBaseVNode("div",_hoisted_33$17,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Запросить ",8,_hoisted_34$14)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[10]||(a[10]=withModifiers(i=>t.openSection(7),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===7,"color-blue2-dark":t.section!==7},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Запросить заполнение анкеты ",2),t.section===7?(openBlock(),createElementBlock("form",{key:2,onSubmit:a[12]||(a[12]=withModifiers((...i)=>t.requestUserData&&t.requestUserData(...i),["prevent"]))},[createBaseVNode("div",_hoisted_35$11,[_hoisted_36$$,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":a[11]||(a[11]=i=>t.userDataForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.userDataForm.info]])]),createBaseVNode("div",_hoisted_37$X,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Запросить ",8,_hoisted_38$V)])],32)):createCommentVNode("",!0),t.currentBot.payment_provider_token?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:a[13]||(a[13]=withModifiers(i=>t.openSection(6),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===6,"color-blue2-dark":t.section!==6},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Запрос на оплату",2)):createCommentVNode("",!0),t.section===6?(openBlock(),createElementBlock("form",{key:4,onSubmit:a[16]||(a[16]=withModifiers((...i)=>t.sendInvoice&&t.sendInvoice(...i),["prevent"]))},[createBaseVNode("div",_hoisted_39$V,[_hoisted_40$Q,withDirectives(createBaseVNode("input",{class:"form-control",type:"number",min:"100",step:"50",placeholder:"100","onUpdate:modelValue":a[14]||(a[14]=i=>t.invoiceForm.amount=i),id:"bill-amount",required:""},null,512),[[vModelText,t.invoiceForm.amount]])]),createBaseVNode("div",_hoisted_41$Q,[_hoisted_42$Q,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст запроса","onUpdate:modelValue":a[15]||(a[15]=i=>t.invoiceForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.invoiceForm.info]])]),createBaseVNode("div",_hoisted_43$Q,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить запрос ",8,_hoisted_44$P)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[17]||(a[17]=withModifiers(i=>t.openSection(1),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===1,"color-blue2-dark":t.section!==1},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Списать CashBack",2),t.section===1?(openBlock(),createElementBlock("form",{key:5,onSubmit:a[21]||(a[21]=withModifiers((...i)=>t.removeCashBack&&t.removeCashBack(...i),["prevent"]))},[createBaseVNode("p",null,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(t.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),t.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.botUser.cashBack.subs,i=>(openBlock(),createElementBlock("p",_hoisted_45$P,toDisplayString(i.title||"Без названия")+" - "+toDisplayString(i.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),t.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_46$O,[_hoisted_47$L,withDirectives(createBaseVNode("select",{class:"form-control mb-2","onUpdate:modelValue":a[18]||(a[18]=i=>t.cashbackForm.category=i),required:""},[_hoisted_48$L,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.currentBot.cashback_config,i=>(openBlock(),createElementBlock("option",{value:i.title},toDisplayString(i.title||"Без названия"),9,_hoisted_49$H))),256))],512),[[vModelSelect,t.cashbackForm.category]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_50$G,[_hoisted_51$E,withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":a[19]||(a[19]=i=>t.cashbackForm.amount=i),placeholder:"Сумма",required:""},null,512),[[vModelText,t.cashbackForm.amount]])]),createBaseVNode("div",_hoisted_52$E,[_hoisted_53$D,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":a[20]||(a[20]=i=>t.cashbackForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.cashbackForm.info]])]),createBaseVNode("div",_hoisted_54$D,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_55$A)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[22]||(a[22]=withModifiers(i=>t.openSection(2),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===2,"color-blue2-dark":t.section!==2},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Начислить CashBack",2),t.section===2?(openBlock(),createElementBlock("form",{key:6,onSubmit:a[28]||(a[28]=withModifiers((...i)=>t.addCashBack&&t.addCashBack(...i),["prevent"]))},[createBaseVNode("p",_hoisted_56$z,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(t.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),t.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.botUser.cashBack.subs,i=>(openBlock(),createElementBlock("p",_hoisted_57$y,toDisplayString(i.title||"Без названия")+" - "+toDisplayString(i.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),t.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_58$w,[_hoisted_59$w,withDirectives(createBaseVNode("select",{class:"form-control mb-2","onUpdate:modelValue":a[23]||(a[23]=i=>t.cashbackForm.category=i),required:""},[_hoisted_60$v,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.currentBot.cashback_config,i=>(openBlock(),createElementBlock("option",{value:i.title},toDisplayString(i.title||"Без названия"),9,_hoisted_61$u))),256))],512),[[vModelSelect,t.cashbackForm.category]]),_hoisted_62$s])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_63$s,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[24]||(a[24]=i=>t.cashbackForm.need_custom_percents=i),type:"checkbox",value:"",id:"need_custom_cashback_amount"},null,512),[[vModelCheckbox,t.cashbackForm.need_custom_percents]]),_hoisted_64$q]),t.cashbackForm.need_custom_percents?(openBlock(),createElementBlock("div",_hoisted_65$q,[_hoisted_66$q,withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-percent","onUpdate:modelValue":a[25]||(a[25]=i=>t.cashbackForm.percent=i),placeholder:"Значите %",required:""},null,512),[[vModelText,t.cashbackForm.percent]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_67$q,[_hoisted_68$q,withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":a[26]||(a[26]=i=>t.cashbackForm.amount=i),placeholder:"Сумма",required:""},null,512),[[vModelText,t.cashbackForm.amount]])]),createBaseVNode("div",_hoisted_69$q,[_hoisted_70$q,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":a[27]||(a[27]=i=>t.cashbackForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.cashbackForm.info]])]),createBaseVNode("div",_hoisted_71$q,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_72$o)])],32)):createCommentVNode("",!0),t.botUser.is_admin?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:7,href:"javascript:void(0)",onClick:a[29]||(a[29]=withModifiers(i=>t.openSection(3),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===3,"color-blue2-dark":t.section!==3},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Назначить администратором ",2)),t.section===3?(openBlock(),createElementBlock("form",{key:8,onSubmit:a[32]||(a[32]=withModifiers((...i)=>t.addAdmin&&t.addAdmin(...i),["prevent"]))},[createBaseVNode("div",_hoisted_73$o,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[30]||(a[30]=i=>t.adminForm.silent_mode=i),type:"checkbox",role:"switch",id:"switchCheckDefault"},null,512),[[vModelCheckbox,t.adminForm.silent_mode]]),_hoisted_74$n]),createBaseVNode("div",_hoisted_75$n,[_hoisted_76$l,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":a[31]||(a[31]=i=>t.adminForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.adminForm.info]])]),createBaseVNode("div",_hoisted_77$l,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Подтвердить ",8,_hoisted_78$j)])],32)):createCommentVNode("",!0),t.botUser.is_admin?(openBlock(),createElementBlock("a",{key:9,href:"javascript:void(0)",onClick:a[33]||(a[33]=withModifiers(i=>t.openSection(4),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===4,"color-blue2-dark":t.section!==4},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Убрать администратора ",2)):createCommentVNode("",!0),t.section===4?(openBlock(),createElementBlock("form",{key:10,onSubmit:a[35]||(a[35]=withModifiers((...i)=>t.removeAdmin&&t.removeAdmin(...i),["prevent"]))},[createBaseVNode("div",_hoisted_79$j,[_hoisted_80$j,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":a[34]||(a[34]=i=>t.adminForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.adminForm.info]])]),createBaseVNode("div",_hoisted_81$j,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Подтвердить ",8,_hoisted_82$j)])],32)):createCommentVNode("",!0),t.section===9?(openBlock(),createElementBlock("form",{key:11,onSubmit:a[38]||(a[38]=withModifiers((...i)=>t.sendPageToUser&&t.sendPageToUser(...i),["prevent"]))},[createBaseVNode("div",_hoisted_83$g,[_hoisted_84$f,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":a[36]||(a[36]=i=>t.pageForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.pageForm.info]])]),_hoisted_85$e,t.pageForm.page_id?(openBlock(),createElementBlock("p",_hoisted_86$e,[createTextVNode("Вы выбрали #"+toDisplayString(t.pageForm.page_id)+" ",1),createBaseVNode("span",{class:"ml-2 text-danger custom-radio",onClick:a[37]||(a[37]=i=>t.pageForm.page_id=null)},"убрать")])):createCommentVNode("",!0),createVNode(_sfc_main$3s,{editor:!1,onCallback:t.pageListCallback},null,8,["onCallback"]),createBaseVNode("div",_hoisted_87$e,[createBaseVNode("button",{disabled:t.loading&&!t.pageForm.page_id,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_88$e)])],32)):createCommentVNode("",!0)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64))}}),Main$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3p},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3j={class:"card card-style"},_hoisted_2$3e={key:0,class:"content d-flex flex-wrap"},_hoisted_3$37={class:"mt-2 pt-2 w-100"},_hoisted_4$2$={key:0,class:"speech-bubble color-black"},_hoisted_5$2W={key:1,class:"speech-bubble color-white bg-highlight"},_hoisted_6$2U={key:2,class:"speech-left"},_hoisted_7$2M={key:1,class:"content"},_hoisted_8$2H={key:2,class:"content"},_hoisted_9$2C=createBaseVNode("p",null,"Переписка с данным пользователем еще не сохранена",-1),_hoisted_10$2s=[_hoisted_9$2C],__default__$29={data(){return{botUserId:null,loading:!1,history:[],paginate_object:null}},computed:{...mapGetters(["getChatHistory","getChatHistoryPaginateObject"])},mounted(){this.botUserId=this.$route.params.botUserId,this.loadChatHistory()},methods:{nextChatHistory(o){this.loadChatHistory(o)},loadChatHistory(o=0){this.loading=!0,this.$store.dispatch("loadChatHistory",{dataObject:{bot_user_id:this.botUserId||null},page:o}).then(t=>{this.history=this.getChatHistory||[],this.paginate_object=this.getChatHistoryPaginateObject||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},_sfc_main$3o=Object.assign(__default__$29,{__name:"ChatHistory",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3j,[t.history.length>0?(openBlock(),createElementBlock("div",_hoisted_2$3e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.history,i=>(openBlock(),createElementBlock("div",_hoisted_3$37,[i.from_bot_user_id==t.botUserId?(openBlock(),createElementBlock("div",_hoisted_4$2$,toDisplayString(i.text||"Текст сообщения"),1)):createCommentVNode("",!0),i.from_bot_user_id!=t.botUserId?(openBlock(),createElementBlock("div",_hoisted_5$2W,toDisplayString(i.text||"Текст сообщения"),1)):createCommentVNode("",!0),i.media_content?(openBlock(),createElementBlock("div",_hoisted_6$2U,[createVNode(BotMediaObject,{content:i.media_content,type:i.content_type},null,8,["content","type"])])):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0),t.history.length>0?(openBlock(),createElementBlock("div",_hoisted_7$2M,[t.paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-4",simple:!0,onPagination_page:t.nextChatHistory,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot)])):(openBlock(),createElementBlock("div",_hoisted_8$2H,_hoisted_10$2s))]))}}),ChatHistory=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3o},Symbol.toStringTag,{value:"Module"})),KeyboardConstructor_vue_vue_type_style_index_0_lang$1="",_sfc_main$3n={props:["editedKeyboard","type"],components:{Vue3JsonEditor},computed:{uuid(){return v4()}},watch:{keyboard:{handler:function(o){this.save()},deep:!0}},data(){return{showCode:!1,showAssign:!1,selectedRow:null,load:!1,rowCount:1,keyboard:[],select:{row:0,col:0,type:this.type||"reply"}}},mounted(){this.editedKeyboard&&this.$nextTick(()=>{this.keyboard=this.editedKeyboard.menu})},methods:{moveCol(o,t=0){o!==this.select.row&&(this.select.row=o,this.select.col=0,this.select.text=this.keyboard[this.select.row][this.select.col].text);let a=this.select.row,i=this.select.col,s=this.keyboard[a].length,r=t===0?i-1>=0?i-1:s-1:i<s-1?i+1:0,n=this.keyboard[a][i];this.keyboard[a][i]=this.keyboard[a][r],this.keyboard[a][r]=n,this.select.row=a,this.select.col=r,this.select.text=this.keyboard[a][r].text},moveRow(o=0){if(this.selectedRow==null)return;let t=this.keyboard.length,a=o===0?this.selectedRow-1>=0?this.selectedRow-1:t-1:this.selectedRow<t-1?this.selectedRow+1:0,i=this.keyboard[this.selectedRow];this.keyboard[this.selectedRow]=this.keyboard[a],this.keyboard[a]=i,this.selectedRow=a},openKeyboardEditorMenu(o,t){this.$botPages.keyboard({row:o,col:t,type:this.type},this.keyboard)},save(){this.$emit("save",this.keyboard)},onJsonChange(o){this.keyboard=o,this.save()},removeColFromRow(o){this.keyboard[o].length>1?this.keyboard[o].splice(this.keyboard[o].length-1,1):this.keyboard.splice(o,1),this.keyboard.length===0&&(this.selectedRow=null),this.save()},addRowAbove(){this.addRow(!0)},addRowBelow(){this.addRow(!1)},addRow(o=!1){if(this.selectedRow==null)this.keyboard?this.keyboard.push([{text:"No Text"}]):this.keyboard=[[{text:"No Text"}]],this.selectedRow=null;else{let t=o?this.selectedRow:this.selectedRow+1;this.keyboard.splice(t,0,[{text:"No Text"}])}this.save()},addColToRow(o){this.keyboard[o].push({text:"No Text"}),this.save()},selectIndex(o,t){this.selectedRow=o,this.select.row=o,this.select.col=t,this.select.text=this.keyboard[o][t].text,this.load=!0,this.$nextTick(()=>{this.load=!1})},removeCol(o,t){this.keyboard[o].length>1?this.keyboard[o].splice(t,1):this.keyboard.splice(1,1),this.save()}}},_hoisted_1$3i=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"}),createTextVNode("Инструкция")],-1),_hoisted_2$3d=createBaseVNode("div",{class:"text-left w-100"},[createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-down"}),createTextVNode(" - добавление в нижнюю часть новой строки (кнопки)")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"}),createTextVNode(" - добавление строки над выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"}),createTextVNode(" - добавление строки под выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-plus"}),createTextVNode(" - добавление кнопки на строку")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-minus"}),createTextVNode(" - удаление крайней левой кнопки из строки либо самой строки")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-xmark"}),createTextVNode(" - отмена выделения")])],-1),_hoisted_3$36={class:"mb-2 d-flex justify-content-between align-items-center"},_hoisted_4$2_=createBaseVNode("i",{class:"fa-solid fa-arrow-down"},null,-1),_hoisted_5$2V=[_hoisted_4$2_],_hoisted_6$2T=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"},null,-1),_hoisted_7$2L=[_hoisted_6$2T],_hoisted_8$2G=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"},null,-1),_hoisted_9$2B=[_hoisted_8$2G],_hoisted_10$2r=createBaseVNode("i",{class:"fa-solid fa-arrows-up-to-line"},null,-1),_hoisted_11$2m=[_hoisted_10$2r],_hoisted_12$2i=createBaseVNode("i",{class:"fa-solid fa-arrows-down-to-line"},null,-1),_hoisted_13$2c=[_hoisted_12$2i],_hoisted_14$25=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_15$24=[_hoisted_14$25],_hoisted_16$22={class:"form-check"},_hoisted_17$1W=["id"],_hoisted_18$1R=["for"],_hoisted_19$1M={key:0,class:"text-danger font-weight-bold p-0 m-0"},_hoisted_20$1I={key:1,style:{"overflow-x":"scroll",padding:"5px 20px"},class:"mb-3"},_hoisted_21$1E={style:{"min-width":"1000px",width:"100%"}},_hoisted_22$1D={class:"row mb-0"},_hoisted_23$1C={class:"col-2 d-flex justify-content-around p-2"},_hoisted_24$1x=["onClick"],_hoisted_25$1r=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_26$1n=[_hoisted_25$1r],_hoisted_27$1j=["onClick"],_hoisted_28$1h=createBaseVNode("i",{class:"fa-solid fa-minus"},null,-1),_hoisted_29$1d=[_hoisted_28$1h],_hoisted_30$1b=["onClick"],_hoisted_31$19=createBaseVNode("i",{class:"fa-solid fa-caret-left"},null,-1),_hoisted_32$16=[_hoisted_31$19],_hoisted_33$16=["onClick"],_hoisted_34$13=createBaseVNode("i",{class:"fa-solid fa-caret-right"},null,-1),_hoisted_35$10=[_hoisted_34$13],_hoisted_36$_={class:"col-10 d-flex justify-content-center p-1"},_hoisted_37$W={class:"btn-group dropdown-center w-100 m-1"},_hoisted_38$U=["onClick","onUpdate:modelValue"],_hoisted_39$U=["onClick"],_hoisted_40$P=createBaseVNode("i",{class:"fa-solid fa-bars"},null,-1),_hoisted_41$P=[_hoisted_40$P],_hoisted_42$P={key:0,class:"mb-0"},_hoisted_43$P=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код клавиатуры",-1);function _sfc_render$1c(o,t,a,i,s,r){const n=resolveComponent("Popper"),l=resolveComponent("Vue3JsonEditor");return openBlock(),createElementBlock(Fragment,null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_2$3d]),default:withCtx(()=>[_hoisted_1$3i]),_:1}),createBaseVNode("div",_hoisted_3$36,[createBaseVNode("div",null,[s.selectedRow==null?(openBlock(),createElementBlock("button",{key:0,title:"добавление в нижнюю часть новой строки (кнопки)",type:"button",class:"btn btn-primary mb-2",onClick:t[0]||(t[0]=(...c)=>r.addRow&&r.addRow(...c))},_hoisted_5$2V)):createCommentVNode("",!0),s.selectedRow!=null?(openBlock(),createElementBlock("button",{key:1,type:"button",title:"добавление строки над выбранной строкой",class:"btn btn-primary mb-2",onClick:t[1]||(t[1]=(...c)=>r.addRowAbove&&r.addRowAbove(...c))},_hoisted_7$2L)):createCommentVNode("",!0),s.selectedRow!=null?(openBlock(),createElementBlock("button",{key:2,type:"button",title:"добавление строки под выбранной строкой",class:"btn btn-primary mb-2 ml-2",onClick:t[2]||(t[2]=(...c)=>r.addRowBelow&&r.addRowBelow(...c))},_hoisted_9$2B)):createCommentVNode("",!0),s.selectedRow!=null?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-primary mb-2 ml-2",onClick:t[3]||(t[3]=c=>r.moveRow(0))},_hoisted_11$2m)):createCommentVNode("",!0),s.selectedRow!=null?(openBlock(),createElementBlock("button",{key:4,type:"button",class:"btn btn-primary mb-2 ml-2",onClick:t[4]||(t[4]=c=>r.moveRow(1))},_hoisted_13$2c)):createCommentVNode("",!0),s.selectedRow!=null?(openBlock(),createElementBlock("button",{key:5,type:"button",class:"btn btn-outline-danger mb-2 ml-2",onClick:t[5]||(t[5]=c=>s.selectedRow=null)},_hoisted_15$24)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$22,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=c=>s.showCode=c),id:"showCode"+r.uuid},null,8,_hoisted_17$1W),[[vModelCheckbox,s.showCode]]),createBaseVNode("label",{class:"form-check-label",for:"showCode"+r.uuid}," Отобразить код ",8,_hoisted_18$1R)])]),s.keyboard.length===0?(openBlock(),createElementBlock("p",_hoisted_19$1M,"Элементы клавиатуры еще не добавлены")):createCommentVNode("",!0),s.keyboard.length>0?(openBlock(),createElementBlock("div",_hoisted_20$1I,[createBaseVNode("div",_hoisted_21$1E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.keyboard,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_22$1D,[createBaseVNode("div",_hoisted_23$1C,[createBaseVNode("button",{type:"button",title:"добавление кнопки на строку",class:"btn btn-link w-100",onClick:p=>r.addColToRow(m)},_hoisted_26$1n,8,_hoisted_24$1x),createBaseVNode("button",{type:"button",title:"удаление крайней левой кнопки из строки либо самой строки",class:"btn btn-link w-100",onClick:p=>r.removeColFromRow(m)},_hoisted_29$1d,8,_hoisted_27$1j),createBaseVNode("button",{type:"button",class:"btn btn-link w-100",onClick:p=>r.moveCol(m,0)},_hoisted_32$16,8,_hoisted_30$1b),createBaseVNode("button",{type:"button",class:"btn btn-link w-100",onClick:p=>r.moveCol(m,1)},_hoisted_35$10,8,_hoisted_33$16)]),createBaseVNode("div",_hoisted_36$_,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c,(p,y)=>(openBlock(),createElementBlock("div",_hoisted_37$W,[withDirectives(createBaseVNode("input",{type:"text",onClick:b=>r.selectIndex(m,y),class:"btn btn-outline-primary w-100","onUpdate:modelValue":b=>s.keyboard[m][y].text=b},null,8,_hoisted_38$U),[[vModelText,s.keyboard[m][y].text]]),createBaseVNode("button",{type:"button",onClick:b=>r.openKeyboardEditorMenu(m,y),class:"btn btn-outline-primary","aria-expanded":"false","data-bs-reference":"parent"},_hoisted_41$P,8,_hoisted_39$U)]))),256))])]))),256)),s.showCode?(openBlock(),createElementBlock("div",_hoisted_42$P,[_hoisted_43$P,s.load?createCommentVNode("",!0):(openBlock(),createBlock(l,{key:0,mode:"code",modelValue:s.keyboard,"onUpdate:modelValue":t[7]||(t[7]=c=>s.keyboard=c),"show-btns":!1,expandedOnStart:!0,onJsonChange:r.onJsonChange},null,8,["modelValue","onJsonChange"]))])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)}const KeyboardConstructor=_export_sfc(_sfc_main$3n,[["render",_sfc_render$1c]]),KeyboardCard_vue_vue_type_style_index_0_lang="",_hoisted_1$3h={key:0,class:"mb-2 px-1"},_hoisted_2$3c=["disabled"],_hoisted_3$35=createBaseVNode("i",{class:"fa-solid fa-arrow-left"},null,-1),_hoisted_4$2Z=[_hoisted_3$35],_hoisted_5$2U=["data-bs-target","disabled"],_hoisted_6$2S=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_7$2K=[_hoisted_6$2S],_hoisted_8$2F=["disabled"],_hoisted_9$2A=createBaseVNode("i",{class:"fa-regular fa-floppy-disk"},null,-1),_hoisted_10$2q=[_hoisted_9$2A],_hoisted_11$2l={key:1,class:"d-flex justify-content-between"},_hoisted_12$2h={class:"mr-2"},_hoisted_13$2b=["disabled"],_hoisted_14$24={key:0,class:"fa-solid fa-check"},_hoisted_15$23={key:1,class:"fa-regular fa-pen-to-square"},_hoisted_16$21=["disabled"],_hoisted_17$1V=createBaseVNode("i",{class:"fa-regular fa-clone"},null,-1),_hoisted_18$1Q=[_hoisted_17$1V],_hoisted_19$1L=["disabled"],_hoisted_20$1H=createBaseVNode("i",{class:"fa-regular fa-floppy-disk"},null,-1),_hoisted_21$1D=[_hoisted_20$1H],_hoisted_22$1C=["disabled"],_hoisted_23$1B=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_24$1w=[_hoisted_23$1B],_hoisted_25$1q={key:2},_hoisted_26$1m={class:"mb-0"},_hoisted_27$1i={key:0},_hoisted_28$1g={key:1},_hoisted_29$1c={class:"mb-0"},_hoisted_30$1a={class:"mb-1 d-flex justify-content-between"},_hoisted_31$18={class:"mb-1 px-1 w-100"},_hoisted_32$15={type:"button",class:"btn btn-outline-primary w-100 font-10 p-2"},_hoisted_33$15=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),__default__$28={props:["keyboard","selectMode"],data:()=>({is_edited:!1,editMode:!1,load:!1,keyboardForm:null}),computed:{uuid(){return v4()}},watch:{keyboardForm:{handler(o){this.is_edited=!0},deep:!0}},mounted(){const o=this.keyboard;this.keyboardForm=o,this.$nextTick(()=>{this.is_edited=!1})},methods:{removeKeyboard(){this.$store.dispatch("removeKeyboardTemplate",{templateId:this.keyboardForm.id}).then(o=>{this.load=!0,this.$nextTick(()=>{this.load=!1}),this.$botNotification.success("Конструктор клавитатуры","Клавиатура успешно удалена!"),this.$emit("callback",this.keyboardForm.id)}).catch(()=>{this.$emit("callback",this.keyboardForm.id),this.$botNotification.warning("Конструктор клавитатуры","Ошибка удаления клавиатуры")})},saveKeyboard(o){this.keyboardForm.menu=o,this.$botNotification.notification("Конструктор клавитатуры","Клавиатура успешно выбрана!")},selectCard(){this.$emit("select",this.keyboardForm)},duplicateKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const a=this.keyboardForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("createKeyboardTemplate",{keyboardForm:o}).then(t=>{this.$botNotification.success("Конструктор ботов","Меню успешно продублировано!"),this.load=!0,this.$nextTick(()=>{this.load=!1}),this.$emit("reload")})},updateKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const a=this.keyboardForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("editKeyboardTemplate",{keyboardForm:o}).then(t=>{this.load=!0,this.$nextTick(()=>{this.load=!1,this.is_edited=!1}),this.$botNotification.success("Конструктор клавитатуры","Клавиатура успешно сохранена!"),this.$emit("callback")}).catch(()=>{this.is_edited=!0})}}},_sfc_main$3m=Object.assign(__default__$28,{__name:"KeyboardCard",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[o.selectMode?(openBlock(),createElementBlock("div",_hoisted_1$3h,[createBaseVNode("button",{onClick:a[0]||(a[0]=(...i)=>t.selectCard&&t.selectCard(...i)),disabled:t.load,type:"button",class:"btn btn-outline-success mr-2"},_hoisted_4$2Z,8,_hoisted_2$3c),createBaseVNode("button",{"data-bs-toggle":"modal","data-bs-target":"#open-construct-"+t.uuid,disabled:t.load,type:"button",title:"Редактировать клавиатуру",class:"btn btn-outline-success mr-2"},_hoisted_7$2K,8,_hoisted_5$2U),createBaseVNode("button",{onClick:a[1]||(a[1]=(...i)=>t.updateKeyboard&&t.updateKeyboard(...i)),type:"button",title:"Обновить клавиатуру",disabled:t.load||!t.is_edited,class:normalizeClass(["btn mr-2",{"btn-outline-primary have-change":t.is_edited,"btn-outline-secondary":!t.is_edited}])},_hoisted_10$2q,10,_hoisted_8$2F)])):createCommentVNode("",!0),o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_11$2l,[createBaseVNode("div",null,[createBaseVNode("strong",_hoisted_12$2h,"#"+toDisplayString(o.keyboard.id),1),createBaseVNode("button",{"data-bs-toggle":"modal",onClick:a[2]||(a[2]=i=>t.editMode=!t.editMode),disabled:t.load,type:"button",title:"Редактировать клавиатуру",class:"btn btn-outline-success mr-2"},[t.editMode?(openBlock(),createElementBlock("i",_hoisted_14$24)):(openBlock(),createElementBlock("i",_hoisted_15$23))],8,_hoisted_13$2b),createBaseVNode("button",{onClick:a[3]||(a[3]=(...i)=>t.duplicateKeyboard&&t.duplicateKeyboard(...i)),type:"button",title:"Дублировать клавиатуру",disabled:t.load,class:"btn btn-outline-primary mr-2"},_hoisted_18$1Q,8,_hoisted_16$21),createBaseVNode("button",{onClick:a[4]||(a[4]=(...i)=>t.updateKeyboard&&t.updateKeyboard(...i)),type:"button",title:"Обновить клавиатуру",disabled:t.load||!t.is_edited,class:normalizeClass(["btn mr-2",{"btn-outline-primary have-change":t.is_edited,"btn-outline-secondary":!t.is_edited}])},_hoisted_21$1D,10,_hoisted_19$1L)]),createBaseVNode("button",{onClick:a[5]||(a[5]=(...i)=>t.removeKeyboard&&t.removeKeyboard(...i)),type:"button",disabled:t.load,title:"Удалить клавиатуру",class:"btn btn-outline-danger mr-2"},_hoisted_24$1w,8,_hoisted_22$1C)])),o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$1q,[createBaseVNode("p",_hoisted_26$1m,[createTextVNode("Тип клавиатуры: "),o.keyboard.type==="reply"?(openBlock(),createElementBlock("strong",_hoisted_27$1i,"Нижняя клавиатура")):createCommentVNode("",!0),o.keyboard.type==="inline"?(openBlock(),createElementBlock("strong",_hoisted_28$1g,"Встроенная клавиатура")):createCommentVNode("",!0)]),createBaseVNode("p",_hoisted_29$1c,[createTextVNode("Мнемоническое имя: "),createBaseVNode("strong",null,toDisplayString(o.keyboard.slug),1)])])),t.editMode?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:3},renderList(o.keyboard.menu,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_30$1a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_31$18,[createBaseVNode("button",_hoisted_32$15,toDisplayString(r.text),1)]))),256))]))),256)),t.keyboardForm&&t.editMode?(openBlock(),createBlock(KeyboardConstructor,{key:4,onSave:t.saveKeyboard,"edited-keyboard":t.keyboardForm},null,8,["onSave","edited-keyboard"])):createCommentVNode("",!0),_hoisted_33$15],64))}}),_hoisted_1$3g={key:0},_hoisted_2$3b=createBaseVNode("h6",null,"Форма создания шаблона клавиатуры",-1),_hoisted_3$34={class:"mb-3"},_hoisted_4$2Y=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"Тип",-1),_hoisted_5$2T=createBaseVNode("option",{value:"reply"},"Нижняя клавиатура",-1),_hoisted_6$2R=createBaseVNode("option",{value:"inline"},"Встроенная клавиатура",-1),_hoisted_7$2J=[_hoisted_5$2T,_hoisted_6$2R],_hoisted_8$2E={class:"mb-3"},_hoisted_9$2z={class:"form-label d-flex justify-content-between",id:"bot-domain"},_hoisted_10$2p=createBaseVNode("span",null,"Мнемоническое имя",-1),_hoisted_11$2k=createBaseVNode("i",{class:"fa-solid fa-arrows-rotate"},null,-1),_hoisted_12$2g=[_hoisted_11$2k],_hoisted_13$2a={class:"col-12"},_hoisted_14$23=createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green1-dark w-100"}," Добавить новый шаблон клавиатуры ",-1),_hoisted_15$22=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$20={key:1,class:"mb-1"},_hoisted_17$1U={class:"badge bg-warning"},_hoisted_18$1P={class:"mb-3"},_hoisted_19$1K={key:1,class:"card"},_hoisted_20$1G={class:"card-body"},_hoisted_21$1C={key:3,class:"mb-3"},_hoisted_22$1B=createBaseVNode("div",{class:"alert alert-warning",role:"alert"},[createBaseVNode("p",null,"Список шаблонов клавиатур пуст!")],-1),_hoisted_23$1A=[_hoisted_22$1B],__default__$27={props:["selectMode","type"],data(){return{keyboards:[],load:!1,editedKeyboard:null,selectMenuIndex:null,keyboardForm:{type:"reply",slug:null,menu:[]}}},computed:{filteredKeyboard(){return this.type?this.keyboards.filter(o=>o.type==this.type):this.keyboards}},mounted(){this.loadMenusByBotTemplate(),this.generateSlug()},methods:{selectCard(o){this.$emit("select",o)},keyboardCallbackAction(o){let t=this.keyboards.find(a=>a.id===o);t.deleted_at=new Date,this.loadMenusByBotTemplate()},loadMenusByBotTemplate(){this.$store.dispatch("loadBotKeyboards").then(o=>{this.$nextTick(()=>{this.keyboards=o.data})})},submitKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const a=this.keyboardForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("createKeyboardTemplate",{keyboardForm:o}).then(t=>{this.keyboardForm={type:"reply",slug:null,menu:[]},this.load=!0,this.$nextTick(()=>{this.load=!1}),this.loadMenusByBotTemplate()})},generateSlug(){this.keyboardForm.slug=v4()},changeKeyboardFormMenu(o){this.keyboardForm.menu=o}}},_sfc_main$3l=Object.assign(__default__$27,{__name:"KeyboardList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$3g,[_hoisted_2$3b,createBaseVNode("form",{onSubmit:a[3]||(a[3]=withModifiers((...i)=>t.submitKeyboard&&t.submitKeyboard(...i),["prevent"]))},[createBaseVNode("div",_hoisted_3$34,[_hoisted_4$2Y,withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=i=>t.keyboardForm.type=i),class:"form-control"},_hoisted_7$2J,512),[[vModelSelect,t.keyboardForm.type]])]),createBaseVNode("div",_hoisted_8$2E,[createBaseVNode("label",_hoisted_9$2z,[_hoisted_10$2p,createBaseVNode("a",{onClick:a[1]||(a[1]=(...i)=>t.generateSlug&&t.generateSlug(...i)),href:"javascript:void(0)"},_hoisted_12$2g)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Мнемоническое имя","aria-label":"Мнемоническое имя","onUpdate:modelValue":a[2]||(a[2]=i=>t.keyboardForm.slug=i),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.keyboardForm.slug]])]),createBaseVNode("div",_hoisted_13$2a,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(KeyboardConstructor,{key:0,onSave:t.changeKeyboardFormMenu,"edited-keyboard":t.keyboardForm},null,8,["onSave","edited-keyboard"]))]),_hoisted_14$23],32),_hoisted_15$22])),t.keyboards?(openBlock(),createElementBlock("p",_hoisted_16$20,[createTextVNode("В списке клавиатур "),createBaseVNode("span",_hoisted_17$1U,toDisplayString(t.filteredKeyboard.length)+" ед.",1)])):createCommentVNode("",!0),t.keyboards?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.filteredKeyboard,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_18$1P,[i.deleted_at?(openBlock(),createElementBlock("div",_hoisted_19$1K,[createBaseVNode("div",_hoisted_20$1G,[createBaseVNode("p",null,"Удаленная клавиатура #"+toDisplayString(i.id),1)])])):(openBlock(),createBlock(_sfc_main$3m,{key:0,"select-mode":o.selectMode,onSelect:t.selectCard,onReload:t.loadMenusByBotTemplate,onCallback:t.keyboardCallbackAction,keyboard:i},null,8,["select-mode","onSelect","onReload","onCallback","keyboard"]))]))),256)):createCommentVNode("",!0),t.filteredKeyboard.length===0?(openBlock(),createElementBlock("div",_hoisted_21$1C,_hoisted_23$1A)):createCommentVNode("",!0)],64))}}),_hoisted_1$3f={class:"mb-3"},_hoisted_2$3a=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_3$33=[_hoisted_2$3a],_hoisted_4$2X={class:"mb-3"},_hoisted_5$2S={class:"d-flex justify-content-between flex-wrap align-items-center mb-2"},_hoisted_6$2Q=createBaseVNode("label",{class:"form-label",id:"bot-main-channel"},"Канал для постов",-1),_hoisted_7$2I=createBaseVNode("i",{class:"fa-brands fa-telegram mr-2 color-blue2-dark"},null,-1),_hoisted_8$2D=[_hoisted_7$2I],_hoisted_9$2y=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_10$2o=createBaseVNode("div",null,"Нужно ",-1),_hoisted_11$2j={class:"mb-2"},_hoisted_12$2f={class:"form-label d-flex justify-content-between align-items-center mb-2",id:"bot-domain"},_hoisted_13$29=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_14$22=createBaseVNode("div",null,"Нужно ",-1),_hoisted_15$21={class:"form-floating"},_hoisted_16$1$={for:"floatingTextarea2"},_hoisted_17$1T={key:0},_hoisted_18$1O={class:"mb-2"},_hoisted_19$1J={class:"form-check"},_hoisted_20$1F=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_21$1B={key:0,class:"mb-2"},_hoisted_22$1A=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_23$1z={class:"d-flex justify-content-center flex-wrap"},_hoisted_24$1v={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_25$1p={class:"row"},_hoisted_26$1l={key:0,class:"col-12 d-flex flex-wrap"},_hoisted_27$1h={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_28$1f={class:"remove"},_hoisted_29$1b=["onClick"],_hoisted_30$19={class:"mb-2"},_hoisted_31$17={class:"form-check"},_hoisted_32$14=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_33$14={key:1,class:"mb-2"},_hoisted_34$12={key:0},_hoisted_35$$={key:1},_hoisted_36$Z=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Отправить сообщение в канал ",-1),__default__$26={data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{text:"",inline_keyboard:null,channel:null}}},computed:{currentBot(){return window.currentBot}},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.mailForm[o.detail.param]=o.detail.channel})},methods:{addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){let o=new FormData;if(Object.keys(this.mailForm).forEach(t=>{const a=this.mailForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch("sendToChannel",{mailForm:o}).then(t=>{this.load=!0,this.photos=[],this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={text:"",channel:null,inline_keyboard:null},this.$botNotification.success("Отлично!","Сообщение успешно отправлено в канал!")}).catch(t=>{this.$botNotification.warning("Упс...","Ошибка отправки сообщения в канал")})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(t=>{t.ok&&(this.mailForm.channel=t.result.chat.id),t.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),t.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.mailForm.channel=null)}).catch(()=>{}))}}},_sfc_main$3k=Object.assign(__default__$26,{__name:"MailToChannel",setup(o){return(t,a)=>{const i=resolveComponent("Popper"),s=resolveDirective("lazy");return t.currentBot?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[11]||(a[11]=withModifiers((...r)=>t.submitMail&&t.submitMail(...r),["prevent"]))},[createBaseVNode("div",_hoisted_1$3f,[t.mailForm.channel!=null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-info",onClick:a[0]||(a[0]=r=>t.mailForm.channel=null)},_hoisted_3$33)):createCommentVNode("",!0),createTextVNode(" , "),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{"btn-info":t.mailForm.channel===t.currentBot.main_channel,"btn-outline-info":t.mailForm.channel!==t.currentBot.main_channel}]),onClick:a[1]||(a[1]=r=>t.mailForm.channel=t.currentBot.main_channel)},"Главный канал ",2),createTextVNode(" , "),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{"btn-info":t.mailForm.channel===t.currentBot.order_channel,"btn-outline-info":t.mailForm.channel!==t.currentBot.order_channel}]),onClick:a[2]||(a[2]=r=>t.mailForm.channel=t.currentBot.order_channel)},"Канал заказов ",2)]),createBaseVNode("div",_hoisted_4$2X,[createBaseVNode("div",_hoisted_5$2S,[_hoisted_6$2Q,createBaseVNode("span",{onClick:a[3]||(a[3]=r=>t.requestChannelId("channel"))},_hoisted_8$2D),createVNode(i,null,{content:withCtx(()=>[_hoisted_10$2o]),default:withCtx(()=>[_hoisted_9$2y]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":a[4]||(a[4]=r=>t.mailForm.channel=r),maxlength:"255",onBlur:a[5]||(a[5]=(...r)=>t.requestTelegramChannelId&&t.requestTelegramChannelId(...r)),"aria-describedby":"bot-main-channel",required:""},null,544),[[vModelText,t.mailForm.channel]])]),createBaseVNode("div",_hoisted_11$2j,[createBaseVNode("label",_hoisted_12$2f,[createTextVNode(" Текстовое содержимое страницы "),createVNode(i,null,{content:withCtx(()=>[_hoisted_14$22]),default:withCtx(()=>[_hoisted_13$29]),_:1})]),createBaseVNode("div",_hoisted_15$21,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.mailForm.text=r),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"},required:""},null,512),[[vModelText,t.mailForm.text]]),createBaseVNode("label",_hoisted_16$1$,[createTextVNode("Содержимое страницы "),t.mailForm.text?(openBlock(),createElementBlock("span",_hoisted_17$1T,toDisplayString(t.mailForm.text.length)+"/4096 ",1)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_18$1O,[createBaseVNode("div",_hoisted_19$1J,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[7]||(a[7]=r=>t.need_page_images=r),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_20$1F])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_21$1B,[_hoisted_22$1A,createBaseVNode("div",_hoisted_23$1z,[createBaseVNode("label",_hoisted_24$1v,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:a[8]||(a[8]=(...r)=>t.onChangePhotos&&t.onChangePhotos(...r)),style:{display:"none"}},null,32)]),createBaseVNode("div",_hoisted_25$1p,[t.photos.length>0?(openBlock(),createElementBlock("div",_hoisted_26$1l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.photos,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_27$1h,[withDirectives(createBaseVNode("img",null,null,512),[[s,t.getPhoto(r).imageUrl]]),createBaseVNode("div",_hoisted_28$1f,[createBaseVNode("a",{onClick:l=>t.removePhoto(n)},"Удалить",8,_hoisted_29$1b)])]))),256))])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_30$19,[createBaseVNode("div",_hoisted_31$17,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[9]||(a[9]=r=>t.need_inline_menu=r),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_32$14])]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_33$14,[createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:a[10]||(a[10]=r=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_35$$," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_34$12," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$3l,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_36$Z],32)):createCommentVNode("",!0)}}}),_hoisted_1$3e={class:"mb-2"},_hoisted_2$39={class:"form-label d-flex justify-content-between align-items-center mb-1"},_hoisted_3$32=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_4$2W=createBaseVNode("div",null,"Нужно ",-1),_hoisted_5$2R={class:"mb-1 text-center"},_hoisted_6$2P={key:0},_hoisted_7$2H={class:"form-floating"},_hoisted_8$2C={class:"mb-2"},_hoisted_9$2x={class:"mb-2"},_hoisted_10$2n={class:"form-check"},_hoisted_11$2i=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения в рассылке (максимум 10) ",-1),_hoisted_12$2e={key:0,class:"mb-2"},_hoisted_13$28={class:"mb-2"},_hoisted_14$21={class:"form-check"},_hoisted_15$20=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_16$1_={key:1,class:"mb-2"},_hoisted_17$1S={key:0},_hoisted_18$1N={key:1},_hoisted_19$1I=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full my-3 rounded-xl text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Поставить сообщение в очередь ",-1),__default__$25={components:{VueDatePicker:Ka$1},data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{message:"",inline_keyboard:null,cron_time:null,images:[]}}},computed:{currentBot(){return window.currentBot}},mounted(){},methods:{selectImages(o){this.mailForm.images||(this.mailForm.images=[]);let t=this.mailForm.images.indexOf(o.file_id);t!==-1?this.mailForm.images.splice(t,1):this.mailForm.images.push(o.file_id)},addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){let o=new FormData;Object.keys(this.mailForm).forEach(t=>{const a=this.mailForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("sendToQueue",{mailForm:o}).then(t=>{this.load=!0,this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={message:"",images:null,inline_keyboard:null},this.$botNotification.success("Отлично!","Сообщение успешно отправлено в очередь рассылки!"),this.$emit("callback")}).catch(t=>{this.$botNotification.warning("Упс...","Ошибка отправки сообщения в очередь")})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(t=>{t.ok&&(this.mailForm.channel=t.result.chat.id),t.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),t.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.mailForm.channel=null)}).catch(()=>{}))}}},_sfc_main$3j=Object.assign(__default__$25,{__name:"MailToBot",setup(o){return(t,a)=>{const i=resolveComponent("Popper");return t.currentBot?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[5]||(a[5]=withModifiers((...s)=>t.submitMail&&t.submitMail(...s),["prevent"]))},[createBaseVNode("div",_hoisted_1$3e,[createBaseVNode("label",_hoisted_2$39,[createTextVNode(" Текстовое содержимое рассылки "),createVNode(i,null,{content:withCtx(()=>[_hoisted_4$2W]),default:withCtx(()=>[_hoisted_3$32]),_:1})]),createBaseVNode("p",_hoisted_5$2R,[t.mailForm.message?(openBlock(),createElementBlock("span",_hoisted_6$2P,toDisplayString(t.mailForm.message.length)+"/4096 ",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$2H,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>t.mailForm.message=s),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"},required:""},null,512),[[vModelText,t.mailForm.message]])])]),createBaseVNode("div",_hoisted_8$2C,[withDirectives(createBaseVNode("input",{type:"datetime-local",class:"form-control w-100","onUpdate:modelValue":a[1]||(a[1]=s=>t.mailForm.cron_time=s),required:""},null,512),[[vModelText,t.mailForm.cron_time]])]),createBaseVNode("div",_hoisted_9$2x,[createBaseVNode("div",_hoisted_10$2n,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=s=>t.need_page_images=s),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_11$2i])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_12$2e,[createVNode(_sfc_main$4h,{"need-photo":!0,selected:t.mailForm.images,onSelect:t.selectImages},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$28,[createBaseVNode("div",_hoisted_14$21,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[3]||(a[3]=s=>t.need_inline_menu=s),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_15$20])]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_16$1_,[createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:a[4]||(a[4]=s=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_18$1N," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_17$1S," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$3l,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_19$1I],32)):createCommentVNode("",!0)}}}),_hoisted_1$3d={key:0},_hoisted_2$38={key:0,class:"card card-style"},_hoisted_3$31={class:"content mb-2"},_hoisted_4$2V=createBaseVNode("p",{class:"mb-2"},"Выберите куда вы хотите отправить сообщение",-1),_hoisted_5$2Q=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_6$2O={key:1,class:"card card-style bg-red2-dark"},_hoisted_7$2G=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Внимание!"),createBaseVNode("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),_hoisted_8$2B=[_hoisted_7$2G],__default__$24={data(){return{tab:0,botUser:null,statistic:null,loading:!1}},computed:{...mapGetters(["getSelf"])},watch:{getSelf:function(){this.botUser=this.getSelf,this.prepareStatistic()}},mounted(){this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic())},methods:{prepareStatistic(){return this.$store.dispatch("statisticLoad").then(o=>{this.statistic=o.statistic})}}},_sfc_main$3i=Object.assign(__default__$24,{__name:"Promotion",setup(o){return(t,a)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$3d,[t.botUser.is_admin?(openBlock(),createElementBlock("div",_hoisted_2$38,[createBaseVNode("div",_hoisted_3$31,[_hoisted_4$2V,createBaseVNode("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=i=>t.tab=1),class:normalizeClass([{"border-green2-dark color-green2-dark":t.tab===1,"border-teal-dark color-gray2-dark":t.tab!==1},"btn btn-border btn-m btn-full mb-2 rounded-0 text-uppercase font-900 bg-theme"])}," Рассылка в канал ",2),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[1]||(a[1]=i=>t.tab=0),class:normalizeClass([{"border-green2-dark color-green2-dark":t.tab===0,"border-teal-dark color-gray2-dark":t.tab!==0},"btn btn-border btn-m btn-full mb-2 rounded-0 text-uppercase font-900 bg-theme"])}," Рассылка в бота ",2),t.tab===1?(openBlock(),createBlock(_sfc_main$3k,{key:0})):createCommentVNode("",!0),t.tab===0?(openBlock(),createBlock(_sfc_main$3j,{key:1})):createCommentVNode("",!0),_hoisted_5$2Q,createVNode(ReturnToBot,{class:"mb-2"})])])):(openBlock(),createElementBlock("div",_hoisted_6$2O,_hoisted_8$2B))])):createCommentVNode("",!0)}}),Promotion=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3i},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3c={key:0},_hoisted_2$37={key:0,class:"card card-style"},_hoisted_3$30={class:"content mb-2"},_hoisted_4$2U=createBaseVNode("h3",null,"Основная статистика",-1),_hoisted_5$2P=createBaseVNode("p",null," Сводка всех показателей эффективности работы системы ",-1),_hoisted_6$2N={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},_hoisted_7$2F=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_8$2A=createBaseVNode("th",{scope:"row"},"Всего пользователей в БД",-1),_hoisted_9$2w={class:"font-weight-bold"},_hoisted_10$2m=createBaseVNode("th",{scope:"row"},"Всего VIP",-1),_hoisted_11$2h={class:"font-weight-bold"},_hoisted_12$2d=createBaseVNode("th",{scope:"row"},"Администраторы в БД",-1),_hoisted_13$27={class:"font-weight-bold"},_hoisted_14$20=createBaseVNode("th",{scope:"row"},"Администраторы за работой",-1),_hoisted_15$1$={class:"font-weight-bold"},_hoisted_16$1Z=createBaseVNode("th",{scope:"row"},"Пользователей за день",-1),_hoisted_17$1R={class:"font-weight-bold"},_hoisted_18$1M=createBaseVNode("th",{scope:"row"},"VIP за день",-1),_hoisted_19$1H={class:"font-weight-bold"},_hoisted_20$1E=createBaseVNode("th",{scope:"row"},"Выдано кэшбэка за день, руб",-1),_hoisted_21$1A={class:"font-weight-bold"},_hoisted_22$1z={key:0},_hoisted_23$1y=createBaseVNode("th",{scope:"row"},"Списано кэшбэка за день, руб",-1),_hoisted_24$1u={class:"font-weight-bold"},_hoisted_25$1o={key:0},_hoisted_26$1k=createBaseVNode("th",{scope:"row"},"Всего кэшбэка на счету у пользователей, руб",-1),_hoisted_27$1g={class:"font-weight-bold"},_hoisted_28$1e={key:0},_hoisted_29$1a=createBaseVNode("th",{scope:"row"},"Всего кэшбэка начислено пользователям, руб",-1),_hoisted_30$18={class:"font-weight-bold"},_hoisted_31$16={key:0},_hoisted_32$13=createBaseVNode("th",{scope:"row"},"Всего кэшбэка списано у пользователей, руб",-1),_hoisted_33$13={class:"font-weight-bold"},_hoisted_34$11={key:0},_hoisted_35$_=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка первого уровня, руб",-1),_hoisted_36$Y={class:"font-weight-bold"},_hoisted_37$V={key:0},_hoisted_38$T=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка второго уровня, руб",-1),_hoisted_39$T={class:"font-weight-bold"},_hoisted_40$O={key:0},_hoisted_41$O=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка третьего уровня, руб",-1),_hoisted_42$O={class:"font-weight-bold"},_hoisted_43$O={key:0},_hoisted_44$O={key:1,class:"text-danger"},_hoisted_45$O=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_46$N={key:1,class:"card card-style bg-red2-dark"},_hoisted_47$K=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Внимание!"),createBaseVNode("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),_hoisted_48$K=[_hoisted_47$K],__default__$23={data(){return{botUser:null,statistic:null,loading:!1}},computed:{...mapGetters(["getSelf"])},watch:{getSelf:function(){this.botUser=this.getSelf,this.prepareStatistic()}},mounted(){this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic())},methods:{prepareStatistic(){return this.$store.dispatch("statisticLoad").then(o=>{this.statistic=o.statistic})},downloadBotStatistic(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotStatistic").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})}}},_sfc_main$3h=Object.assign(__default__$23,{__name:"Statistic",setup(o){return(t,a)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$3c,[t.botUser.is_admin?(openBlock(),createElementBlock("div",_hoisted_2$37,[createBaseVNode("div",_hoisted_3$30,[_hoisted_4$2U,_hoisted_5$2P,t.statistic?(openBlock(),createElementBlock("table",_hoisted_6$2N,[_hoisted_7$2F,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_8$2A,createBaseVNode("td",_hoisted_9$2w,toDisplayString(t.statistic.users_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_10$2m,createBaseVNode("td",_hoisted_11$2h,toDisplayString(t.statistic.vip_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_12$2d,createBaseVNode("td",_hoisted_13$27,toDisplayString(t.statistic.admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_14$20,createBaseVNode("td",_hoisted_15$1$,toDisplayString(t.statistic.work_admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_16$1Z,createBaseVNode("td",_hoisted_17$1R,toDisplayString(t.statistic.users_in_bd_today||0),1)]),createBaseVNode("tr",null,[_hoisted_18$1M,createBaseVNode("td",_hoisted_19$1H,toDisplayString(t.statistic.vip_in_bd_today||0),1)]),createBaseVNode("tr",null,[_hoisted_20$1E,createBaseVNode("td",_hoisted_21$1A,[createTextVNode(toDisplayString((t.statistic.cashback_day_up||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_22$1z,"("+toDisplayString(t.statistic.cashback_day_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_23$1y,createBaseVNode("td",_hoisted_24$1u,[createTextVNode(toDisplayString((t.statistic.cashback_day_down||0).toFixed(2))+" ",1),t.statistic.cashback_day_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_25$1o,"("+toDisplayString(t.statistic.cashback_day_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_26$1k,createBaseVNode("td",_hoisted_27$1g,[createTextVNode(toDisplayString((t.statistic.summary_cashback||0).toFixed(2))+" ",1),t.statistic.summary_cashback_people_count?(openBlock(),createElementBlock("strong",_hoisted_28$1e,"("+toDisplayString(t.statistic.summary_cashback_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_29$1a,createBaseVNode("td",_hoisted_30$18,[createTextVNode(toDisplayString((t.statistic.cashback_summary_up||0).toFixed(2))+" ",1),t.statistic.cashback_summary_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_31$16,"("+toDisplayString(t.statistic.cashback_summary_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_32$13,createBaseVNode("td",_hoisted_33$13,[createTextVNode(toDisplayString((t.statistic.cashback_summary_down||0).toFixed(2))+" ",1),t.statistic.cashback_summary_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_34$11,"("+toDisplayString(t.statistic.cashback_summary_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_35$_,createBaseVNode("td",_hoisted_36$Y,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_1||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_1_people_count?(openBlock(),createElementBlock("strong",_hoisted_37$V,"("+toDisplayString(t.statistic.cashback_day_up_level_1_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_38$T,createBaseVNode("td",_hoisted_39$T,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_2||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_2_people_count?(openBlock(),createElementBlock("strong",_hoisted_40$O,"("+toDisplayString(t.statistic.cashback_day_up_level_2_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_41$O,createBaseVNode("td",_hoisted_42$O,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_3||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_3_people_count?(openBlock(),createElementBlock("strong",_hoisted_43$O,"("+toDisplayString(t.statistic.cashback_day_up_level_3_people_count)+" чел)",1)):createCommentVNode("",!0)])])])])):(openBlock(),createElementBlock("p",_hoisted_44$O,"Статистика еще не загружена")),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=(...i)=>t.downloadBotStatistic&&t.downloadBotStatistic(...i)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[_hoisted_45$O,createTextVNode(" Скачать статистику ")]),createVNode(ReturnToBot)])])):(openBlock(),createElementBlock("div",_hoisted_46$N,_hoisted_48$K))])):createCommentVNode("",!0)}}),Statistic$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3h},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3b={key:0},_hoisted_2$36={key:0,class:"card card-style"},_hoisted_3$2$={class:"content mb-2"},_hoisted_4$2T=createBaseVNode("h3",null,"Информация о пользователе",-1),_hoisted_5$2O=createBaseVNode("p",null," Ваша персональная информация ",-1),_hoisted_6$2M=createBaseVNode("div",{class:"divider-icon divider-margins bg-blue2-dark my-4"},[createBaseVNode("i",{class:"fa font-17 color-blue2-dark fa-cog bg-white"})],-1),_hoisted_7$2E=["disabled"],_hoisted_8$2z={key:0},_hoisted_9$2v={key:1},_hoisted_10$2l=["disabled"],_hoisted_11$2g={key:1,class:"card card-style bg-red2-dark"},_hoisted_12$2c=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Внимание!"),createBaseVNode("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),_hoisted_13$26=[_hoisted_12$2c],__default__$22={data(){return{botUser:null,loading:!1}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{loadSelf(){this.$store.dispatch("loadSelf")},loadReceiverUserData(){this.loading=!0,this.$store.dispatch("loadReceiverUserData",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id}}).then(o=>{this.botUser=o.data,this.loading=!1}).catch(()=>{this.loading=!1})},selfRemove(){this.loading=!0,this.$store.dispatch("selfRemove").then(o=>{this.loading=!1,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы больше не являетесь администратором"),setTimeout(()=>{this.tg.close()},1e3)}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},workStateChange(){this.loading=!0,this.$store.dispatch("workStateChange").then(o=>{this.loading=!1,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно изменили свой рабочий статус")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})}}},_sfc_main$3g=Object.assign(__default__$22,{__name:"WorkStatus",setup(o){return(t,a)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$3b,[t.botUser.is_admin?(openBlock(),createElementBlock("div",_hoisted_2$36,[createBaseVNode("div",_hoisted_3$2$,[_hoisted_4$2T,_hoisted_5$2O,createVNode(UserInfo$1,{onUpdate:t.loadSelf,"bot-user":t.botUser},null,8,["onUpdate","bot-user"]),createVNode(ReturnToBot),_hoisted_6$2M,createBaseVNode("button",{type:"button",disabled:t.loading,onClick:a[0]||(a[0]=(...i)=>t.workStateChange&&t.workStateChange(...i)),class:"btn btn-m btn-full mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-light w-100"},[t.botUser.is_work?(openBlock(),createElementBlock("span",_hoisted_8$2z,"Завершить рабочую смену")):createCommentVNode("",!0),t.botUser.is_work?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_9$2v,"Начать рабочую смены"))],8,_hoisted_7$2E),createBaseVNode("button",{type:"button",disabled:t.loading||!t.botUser.is_admin,onClick:a[1]||(a[1]=(...i)=>t.selfRemove&&t.selfRemove(...i)),class:"btn btn-m btn-full mb-1 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Разжаловать себя из администраторов ",8,_hoisted_10$2l)])])):(openBlock(),createElementBlock("div",_hoisted_11$2g,_hoisted_13$26))])):createCommentVNode("",!0)}}),WorkStatus=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3g},Symbol.toStringTag,{value:"Module"})),_sfc_main$3f={data(){return{}},computed:{...mapGetters(["getCashBack","getCashBackPaginateObject"]),tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{}};function _sfc_render$1b(o,t,a,i,s,r){return null}const AdminOrders=_export_sfc(_sfc_main$3f,[["render",_sfc_render$1b]]),Orders$1=Object.freeze(Object.defineProperty({__proto__:null,default:AdminOrders},Symbol.toStringTag,{value:"Module"})),_sfc_main$3e={data(){return{}},computed:{...mapGetters(["getCashBack","getCashBackPaginateObject"]),tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{}};function _sfc_render$1a(o,t,a,i,s,r){return null}const AdminUsers=_export_sfc(_sfc_main$3e,[["render",_sfc_render$1a]]),Users=Object.freeze(Object.defineProperty({__proto__:null,default:AdminUsers},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3a={class:"card card-style bg-theme pb-0"},_hoisted_2$35={class:"content"},_hoisted_3$2_=createBaseVNode("p",{class:"mb-0"},"Введите информацию о событии или о пользователе",-1),_hoisted_4$2S={class:"search-box bg-theme rounded-s shadow-xl bottom-0"},_hoisted_5$2N=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_6$2L=["placeholder"],_hoisted_7$2D={class:"mt-2 mb-0"},_hoisted_8$2y={key:0,style:{color:"red"}},_hoisted_9$2u={class:"row mt-2 mb-2"},_hoisted_10$2k={class:"col-4"},_hoisted_11$2f=createBaseVNode("i",{class:"fa-solid fa-users"},null,-1),_hoisted_12$2b=[_hoisted_11$2f],_hoisted_13$25={class:"col-4"},_hoisted_14$1$=createBaseVNode("i",{class:"fa-solid fa-bolt"},null,-1),_hoisted_15$1_=[_hoisted_14$1$],_hoisted_16$1Y={class:"col-4"},_hoisted_17$1Q=createBaseVNode("i",{class:"fa-solid fa-phone"},null,-1),_hoisted_18$1L=[_hoisted_17$1Q],_hoisted_19$1G=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full my-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-1"}),createTextVNode("Искать ")],-1),_hoisted_20$1D={key:0,class:"mx-0 mt-3 px-2"},_hoisted_21$1z={class:"w-100 text-center p-2 mb-0"},_hoisted_22$1y={class:"w-100",style:{"overflow-y":"scroll"}},_hoisted_23$1x={class:"table text-center rounded-sm"},_hoisted_24$1t=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Ф.И.О."),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Телефон"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Название события"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"№ попытки"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Номер приза"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Подверждено"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Дата розыгрыша"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Действие")])],-1),_hoisted_25$1n=["onClick"],_hoisted_26$1j={style:{"min-width":"200px"},class:"border-dark1-dark text-left"},_hoisted_27$1f={style:{"min-width":"200px"},class:"border-dark1-dark"},_hoisted_28$1d={style:{"min-width":"200px"},class:"border-dark1-dark"},_hoisted_29$19={class:"border-dark1-dark"},_hoisted_30$17={class:"border-dark1-dark"},_hoisted_31$15={style:{"min-width":"200px"},class:"border-dark1-dark"},_hoisted_32$12={key:0,class:"fa-regular fa-circle-check color-green2-light"},_hoisted_33$12={key:1,class:"fa-regular fa-circle-xmark color-red2-light"},_hoisted_34$10={class:"border-dark1-dark"},_hoisted_35$Z={class:"border-dark1-dark"},_hoisted_36$X={key:1},__default__$21={data(){return{loading:!0,actions:[],search:null,filter:null,paginate_object:null}},computed:{...mapGetters(["getActions","getActionsPaginateObject"]),preparedFilterName(){return this.filter?[{slug:"users",text:"Ф.И.О. пользователя"},{slug:"event",text:"по типу события"},{slug:"phone",text:"по номеру телефона"}].find(t=>t.slug===this.filter).text:null}},mounted(){this.loadActions(0)},methods:{nextActions(o){this.loadActions(o)},openActionDetails(o){this.$cashback.eventInfo(o)},loadActions(o=0){this.loading=!0,this.$store.dispatch("loadActions",{dataObject:{search:this.search,filter:this.filter},page:o}).then(t=>{this.loading=!1,this.actions=this.getActions,this.paginate_object=this.getActionsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$3d=Object.assign(__default__$21,{__name:"Actions",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3a,[createBaseVNode("div",_hoisted_2$35,[_hoisted_3$2_,createBaseVNode("form",{onSubmit:a[5]||(a[5]=withModifiers(i=>t.loadActions(0),["prevent"]))},[createBaseVNode("div",_hoisted_4$2S,[_hoisted_5$2N,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"border-0",placeholder:t.preparedFilterName||"Поиск по событию"},null,8,_hoisted_6$2L),[[vModelText,t.search]])]),createBaseVNode("p",_hoisted_7$2D,[createTextVNode("Фильтры: "),t.filter?(openBlock(),createElementBlock("span",_hoisted_8$2y,[createTextVNode(toDisplayString(t.preparedFilterName)+" ",1),createBaseVNode("i",{onClick:a[1]||(a[1]=i=>t.filter=null),class:"ml-2 fa-solid fa-xmark"})])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$2u,[createBaseVNode("div",_hoisted_10$2k,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=i=>t.filter="users"),class:normalizeClass([{"border-red2-dark color-red2-dark":t.filter==="users","border-gray2-dark color-gray2-dark":t.filter!=="users"},"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 bg-theme"])},_hoisted_12$2b,2)]),createBaseVNode("div",_hoisted_13$25,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[3]||(a[3]=i=>t.filter="event"),class:normalizeClass([{"border-red2-dark color-red2-dark":t.filter==="event","border-gray2-dark color-gray2-dark":t.filter!=="event"},"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme"])},_hoisted_15$1_,2)]),createBaseVNode("div",_hoisted_16$1Y,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[4]||(a[4]=i=>t.filter="phone"),class:normalizeClass([{"border-red2-dark color-red2-dark":t.filter==="phone","border-gray2-dark color-gray2-dark":t.filter!=="phone"},"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme"])},_hoisted_18$1L,2)])]),_hoisted_19$1G],32),t.actions.length>0?(openBlock(),createElementBlock("div",_hoisted_20$1D,[createBaseVNode("small",_hoisted_21$1z,"Найдено "+toDisplayString(t.paginate_object.meta.total)+" записей",1),createBaseVNode("div",_hoisted_22$1y,[createBaseVNode("table",_hoisted_23$1x,[_hoisted_24$1t,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.actions,(i,s)=>(openBlock(),createElementBlock("tr",{class:"bg-theme",onClick:r=>t.openActionDetails(i)},[createBaseVNode("td",_hoisted_26$1j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(r,n)=>(openBlock(),createElementBlock("span",null,toDisplayString(r.name),1))),256))]),createBaseVNode("td",_hoisted_27$1f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(r,n)=>(openBlock(),createElementBlock("span",null,toDisplayString(r.phone),1))),256))]),createBaseVNode("td",_hoisted_28$1d,toDisplayString(i.slug.command)+" (#"+toDisplayString(i.slug.id)+") ",1),createBaseVNode("td",_hoisted_29$19,toDisplayString(i.current_attempts),1),createBaseVNode("td",_hoisted_30$17,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(r,n)=>(openBlock(),createElementBlock("span",null,toDisplayString(r.win),1))),256))]),createBaseVNode("td",_hoisted_31$15,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(r,n)=>(openBlock(),createElementBlock("span",null,[r.answered_at?(openBlock(),createElementBlock("i",_hoisted_32$12)):(openBlock(),createElementBlock("i",_hoisted_33$12))]))),256))]),createBaseVNode("td",_hoisted_34$10,toDisplayString(t.$filters.current(i.completed_at)),1),createBaseVNode("td",_hoisted_35$Z,toDisplayString(t.$filters.current(i.completed_at)),1)],8,_hoisted_25$1n))),256))])])]),t.paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-4",simple:!0,onPagination_page:t.nextActions,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot)])):(openBlock(),createElementBlock("p",_hoisted_36$X,"К сожалению никаких подходящих событий не найдено"))])]))}}),Actions=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3d},Symbol.toStringTag,{value:"Module"})),_sfc_main$3c={props:["bot","item"],data(){return{sectionForm:{section:null},categoryForm:{label:null},tab:0,types:[{title:"Готовый продукт",value:1},{title:"Товар на вес",value:2},{title:"Конструктор товара",value:3}],productCategories:[],sections:["Общие характеристики","Дополнительная информация"],photos:[],categories:[],removed_options:[],productForm:{article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]}}},computed:{...mapGetters(["getCategories"])},mounted(){this.loadProductCategories(),this.item&&this.$nextTick(()=>{this.productForm={id:this.item.id||null,article:this.item.article||null,vk_product_id:this.item.vk_product_id||null,title:this.item.title||null,description:this.item.description||null,images:this.item.images||null,type:this.item.type||1,old_price:this.item.old_price||null,current_price:this.item.current_price||null,variants:this.item.variants||null,in_stop_list_at:this.item.in_stop_list_at||null,bot_id:this.item.bot_id||null,options:this.item.options||null,reviews:this.item.reviews||null},this.options=[],this.item.categories.forEach(o=>{this.productCategories.push(o.id)})})},methods:{prepareCategoryName(o){let t=this.categories.find(a=>a.value===o);return t?t.label:o},removeProduct(){this.$store.dispatch("removeProductCategory",{category_id:id}).then(()=>{this.loadProductCategories(),this.$botNotification.notification("Конструктор ботов","Продукт успешно удален!")})},removeCategory(o){let t=this.categories.findIndex(a=>a.id===o)||null;t&&this.categories.splice(t,1),this.$store.dispatch("removeProductCategory",{category_id:o}).then(()=>{this.loadProductCategories(),this.$botNotification.notification("Конструктор ботов","Категория успешно удалена!")})},addCategory(){const o=this.categoryForm.label;this.categoryForm.label=null,this.$store.dispatch("addProductCategory",{category:o}).then(()=>{this.loadProductCategories()})},selectCategory(o){this.productCategories||(this.productCategories=[]);let t=this.productCategories.indexOf(o.id);t!==-1?this.productCategories.splice(t,1):this.productCategories.push(o.id)},submit(){let o=new FormData;if(Object.keys(this.productForm).forEach(t=>{const a=this.productForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.bot&&o.append("bot_id",this.bot.id),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.removed_options.length>0&&o.append("removed_options",JSON.stringify(this.removed_options)),this.productCategories.length>0&&o.append("categories",JSON.stringify(this.productCategories)),this.$store.dispatch("saveProduct",{productForm:o}).then(t=>{this.load=!0,this.$botNotification.notification("Конструктор ботов","Продукт успешно сохранен!"),this.clearForm(),this.$emit("refresh")}).catch(t=>{})},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},loadProductCategories(){this.$store.dispatch("loadCategories").then(()=>{this.categories=this.getCategories})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removeSection(o){this.sections.splice(o,1)},addSection(){this.sections.push(this.sectionForm.section),this.sectionForm.section=null},addOption(){this.productForm.options||(this.productForm.options=[]),this.productForm.options.push({id:null,key:null,value:null,title:null,section:null})},addVariant(){this.productForm.variants||(this.productForm.variants=[]),this.productForm.variants.push({key:null,value:null})},removeProductCategory(o){},removeVariant(o){this.productForm.variants.splice(o,1)},removeOption(o){this.productForm.options[o].id&&this.removed_options.push(this.productForm.options[o].id),this.productForm.options.splice(o,1)},removeImage(o){this.productForm.images.splice(o,1)},removePhoto(o){this.photos.splice(o,1)},clearForm(){const o={article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]};this.photos=[],this.removed_options=[],this.productCategories=[],this.productForm=o}}},_hoisted_1$39={class:"card card-style"},_hoisted_2$34={class:"content"},_hoisted_3$2Z=createBaseVNode("h6",null,"Управление категориями",-1),_hoisted_4$2R={key:0,class:"d-flex flex-wrap"},_hoisted_5$2M={class:"px-3 font-10 rounded mr-1 mb-1 cursor-pointer"},_hoisted_6$2K=["onClick"],_hoisted_7$2C={class:"mb-2"},_hoisted_8$2x=createBaseVNode("label",{for:"exampleDropdownFormEmail1",class:"form-label"},"Новая категория",-1),_hoisted_9$2t={class:"card card-style bg-theme pb-0"},_hoisted_10$2j={class:"content"},_hoisted_11$2e={class:"d-flex justify-content-between flex-wrap"},_hoisted_12$2a=createBaseVNode("i",{class:"fa-solid fa-plus mr-1"},null,-1),_hoisted_13$24={class:"form-check"},_hoisted_14$1_=createBaseVNode("label",{class:"form-check-label",for:"in-stop-list"}," Товар находится в стоп-листе ",-1),_hoisted_15$1Z=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$1X=createBaseVNode("h6",null,"Выбор категории",-1),_hoisted_17$1P={key:0,class:"d-flex flex-wrap"},_hoisted_18$1K=["onClick"],_hoisted_19$1F=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_20$1C={class:"mb-2"},_hoisted_21$1y=createBaseVNode("label",{for:"vk-product-id"},"Идентификатор товара VK",-1),_hoisted_22$1x={class:"mb-2"},_hoisted_23$1w=createBaseVNode("label",{for:"article"},"Артикул товара",-1),_hoisted_24$1s={class:"mb-2"},_hoisted_25$1m=createBaseVNode("label",{for:"title"},"Название товара",-1),_hoisted_26$1i={class:"mb-2"},_hoisted_27$1e=createBaseVNode("label",{for:"type"},"Тип товара",-1),_hoisted_28$1c=["value"],_hoisted_29$18={class:"mb-2"},_hoisted_30$16=createBaseVNode("label",{for:"description"},"Описание товара",-1),_hoisted_31$14={class:"mb-2"},_hoisted_32$11=createBaseVNode("label",{for:"current-price"},"Актуальная цена, руб",-1),_hoisted_33$11={class:"mb-2"},_hoisted_34$$=createBaseVNode("label",{for:"old-price"},"Старая цена, руб",-1),_hoisted_35$Y=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_36$W={key:0},_hoisted_37$U={class:"mb-2"},_hoisted_38$S={class:"mb-2"},_hoisted_39$S=["for"],_hoisted_40$N=["onUpdate:modelValue","id"],_hoisted_41$N={class:"mb-2"},_hoisted_42$N=["for"],_hoisted_43$N=["onUpdate:modelValue","id"],_hoisted_44$N=["onClick"],_hoisted_45$N=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_46$M=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_47$J=createBaseVNode("h6",null,"Характеристики товара",-1),_hoisted_48$J={class:"mb-2"},_hoisted_49$G=createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",type:"submit",id:"button-addon2"},"Добавить секцию ",-1),_hoisted_50$F={key:0,class:"d-flex flex-wrap"},_hoisted_51$D={class:"px-3 text-white rounded bg-info mr-1 mb-1 cursor-pointer font-12"},_hoisted_52$D=["onClick"],_hoisted_53$C=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_54$C={class:"mb-2"},_hoisted_55$z={class:"form-floating mb-2"},_hoisted_56$y=["for"],_hoisted_57$x=["onClick"],_hoisted_58$v=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),_hoisted_59$v=[_hoisted_58$v],_hoisted_60$u=["onUpdate:modelValue","id"],_hoisted_61$t={class:"form-floating mb-2"},_hoisted_62$r=["for"],_hoisted_63$r=["onUpdate:modelValue","id"],_hoisted_64$p={class:"form-floating mb-2"},_hoisted_65$p=["for"],_hoisted_66$p=["onUpdate:modelValue","id"],_hoisted_67$p=createBaseVNode("option",{value:null},"Без секции",-1),_hoisted_68$p=["value"],_hoisted_69$p=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_70$p={class:"mb-2"},_hoisted_71$p=createBaseVNode("h6",null,"Фотографии товара",-1),_hoisted_72$n={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_73$n={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_74$m=createBaseVNode("span",null,"+",-1),_hoisted_75$m={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_76$k={class:"remove"},_hoisted_77$k=["onClick"],_hoisted_78$i={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_79$i={class:"remove"},_hoisted_80$i=["onClick"],_hoisted_81$i=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Сохранить ",-1),_hoisted_82$i={key:0,class:"divider divider-small my-3 bg-highlight"};function _sfc_render$19(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$39,[createBaseVNode("div",_hoisted_2$34,[_hoisted_3$2Z,s.categories.length>0?(openBlock(),createElementBlock("div",_hoisted_4$2R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.categories,(l,c)=>(openBlock(),createElementBlock("p",_hoisted_5$2M,[createBaseVNode("span",null,toDisplayString(l.title),1),createBaseVNode("i",{onClick:m=>r.removeCategory(l.id),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,_hoisted_6$2K)]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$2C,[_hoisted_8$2x,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=l=>s.categoryForm.label=l),id:"exampleDropdownFormEmail1",placeholder:"Название категории"},null,512),[[vModelText,s.categoryForm.label]])]),createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",type:"button",onClick:t[1]||(t[1]=(...l)=>r.addCategory&&r.addCategory(...l))},"Добавить категорию ")])]),createBaseVNode("div",_hoisted_9$2t,[createBaseVNode("div",_hoisted_10$2j,[createBaseVNode("form",{onSubmit:t[16]||(t[16]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_11$2e,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-green2-light w-100",onClick:t[2]||(t[2]=(...l)=>r.clearForm&&r.clearForm(...l))},[_hoisted_12$2a,createTextVNode(" Новый товар ")]),createBaseVNode("div",_hoisted_13$24,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=l=>s.productForm.in_stop_list_at=l),type:"checkbox",value:"false",id:"in-stop-list"},null,512),[[vModelCheckbox,s.productForm.in_stop_list_at]]),_hoisted_14$1_])]),_hoisted_15$1Z,_hoisted_16$1X,s.categories.length>0?(openBlock(),createElementBlock("div",_hoisted_17$1P,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.categories,(l,c)=>(openBlock(),createElementBlock("p",{class:normalizeClass(["px-3 font-10 rounded mr-1 mb-1 cursor-pointer",{"bg-info text-white":s.productCategories.indexOf(l.id)!=-1}])},[createBaseVNode("span",{onClick:m=>r.selectCategory(l)},toDisplayString(l.title),9,_hoisted_18$1K)],2))),256))])):createCommentVNode("",!0),_hoisted_19$1F,createBaseVNode("div",_hoisted_20$1C,[_hoisted_21$1y,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>s.productForm.vk_product_id=l),disabled:!0,class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,s.productForm.vk_product_id]])]),createBaseVNode("div",_hoisted_22$1x,[_hoisted_23$1w,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>s.productForm.article=l),class:"form-control",id:"article",placeholder:"Название артикула"},null,512),[[vModelText,s.productForm.article]])]),createBaseVNode("div",_hoisted_24$1s,[_hoisted_25$1m,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>s.productForm.title=l),class:"form-control",id:"title",placeholder:"Название"},null,512),[[vModelText,s.productForm.title]])]),createBaseVNode("div",_hoisted_26$1i,[_hoisted_27$1e,withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":t[7]||(t[7]=l=>s.productForm.type=l),id:"type","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.types,(l,c)=>(openBlock(),createElementBlock("option",{value:l.value},toDisplayString(l.title),9,_hoisted_28$1c))),256))],512),[[vModelSelect,s.productForm.type]])]),createBaseVNode("div",_hoisted_29$18,[_hoisted_30$16,withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":t[8]||(t[8]=l=>s.productForm.description=l),placeholder:"Напишие полное описание товара",id:"description"},null,512),[[vModelText,s.productForm.description]])]),createBaseVNode("div",_hoisted_31$14,[_hoisted_32$11,withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=l=>s.productForm.current_price=l),class:"form-control",id:"current-price",placeholder:"0 руб.",required:""},null,512),[[vModelText,s.productForm.current_price]])]),createBaseVNode("div",_hoisted_33$11,[_hoisted_34$$,withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=l=>s.productForm.old_price=l),class:"form-control",id:"old-price",placeholder:"0 руб"},null,512),[[vModelText,s.productForm.old_price]])]),_hoisted_35$Y,createBaseVNode("h6",null,[createTextVNode("Варианты товара "),s.productForm.variants?(openBlock(),createElementBlock("span",_hoisted_36$W,"("+toDisplayString(s.productForm.variants.length)+")",1)):createCommentVNode("",!0)]),createBaseVNode("button",{type:"button",class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",onClick:t[11]||(t[11]=(...l)=>r.addVariant&&r.addVariant(...l))},"Добавить вариант "),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.productForm.variants,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_37$U,[createBaseVNode("div",_hoisted_38$S,[createBaseVNode("label",{for:"variant-key-"+c},"Ключ",8,_hoisted_39$S),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m=>s.productForm.variants[c].key=m,class:"form-control",id:"variant-key-"+c,placeholder:"Название варианта",required:""},null,8,_hoisted_40$N),[[vModelText,s.productForm.variants[c].key]])]),createBaseVNode("div",_hoisted_41$N,[createBaseVNode("label",{for:"variant-value-"+c},"Значение",8,_hoisted_42$N),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m=>s.productForm.variants[c].value=m,class:"form-control",id:"variant-value-"+c,placeholder:"Величина\\значение варианта",required:""},null,8,_hoisted_43$N),[[vModelText,s.productForm.variants[c].value]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:m=>r.removeVariant(c)},[_hoisted_45$N,createTextVNode(" Удалить вариант ")],8,_hoisted_44$N)]))),256)),_hoisted_46$M,_hoisted_47$J,createBaseVNode("div",_hoisted_48$J,[createBaseVNode("form",{onSubmit:t[13]||(t[13]=withModifiers((...l)=>r.addSection&&r.addSection(...l),["prevent"])),class:"mb-2"},[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=l=>s.sectionForm.section=l),class:"form-control mb-2",placeholder:"Название секции","aria-label":"Recipient's username","aria-describedby":"button-addon2",required:""},null,512),[[vModelText,s.sectionForm.section]]),_hoisted_49$G],32),s.sections.length>0?(openBlock(),createElementBlock("div",_hoisted_50$F,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.sections,(l,c)=>(openBlock(),createElementBlock("span",_hoisted_51$D,[createTextVNode(toDisplayString(l)+" ",1),createBaseVNode("i",{onClick:m=>r.removeSection(c),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,_hoisted_52$D)]))),256))])):createCommentVNode("",!0),_hoisted_53$C]),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.productForm.options,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_54$C,[createBaseVNode("div",_hoisted_55$z,[createBaseVNode("label",{for:"option-title-"+c,class:"font-12 my-0 w-100 d-flex justify-content-between"},[createTextVNode(" Название характеристики "),createBaseVNode("button",{type:"button",class:"btn btn-link color-red2-light font-12 p-0",onClick:m=>r.removeOption(c)},_hoisted_59$v,8,_hoisted_57$x)],8,_hoisted_56$y),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m=>s.productForm.options[c].title=m,class:"form-control",id:"option-title-"+c,placeholder:"Характеристика"},null,8,_hoisted_60$u),[[vModelText,s.productForm.options[c].title]])]),createBaseVNode("div",_hoisted_61$t,[createBaseVNode("label",{for:"option-value-"+c,class:"font-12 my-0"},"Значение характеристики",8,_hoisted_62$r),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m=>s.productForm.options[c].value=m,class:"form-control",id:"option-value-"+c,placeholder:"Значение"},null,8,_hoisted_63$r),[[vModelText,s.productForm.options[c].value]])]),createBaseVNode("div",_hoisted_64$p,[createBaseVNode("label",{for:"option-section-"+c,class:"font-12 my-0"},"Секция товара",8,_hoisted_65$p),withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":m=>s.productForm.options[c].section=m,id:"option-section-"+c,"aria-label":"Floating label select example"},[_hoisted_67$p,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.sections,m=>(openBlock(),createElementBlock("option",{value:m},toDisplayString(m),9,_hoisted_68$p))),256))],8,_hoisted_66$p),[[vModelSelect,s.productForm.options[c].section]])])]))),256)),createBaseVNode("button",{type:"button",class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",onClick:t[14]||(t[14]=(...l)=>r.addOption&&r.addOption(...l))},"Добавить характеристику "),_hoisted_69$p,createBaseVNode("div",_hoisted_70$p,[_hoisted_71$p,createBaseVNode("div",_hoisted_72$n,[createBaseVNode("label",_hoisted_73$n,[_hoisted_74$m,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:t[15]||(t[15]=(...l)=>r.onChangePhotos&&r.onChangePhotos(...l)),style:{display:"none"}},null,32)]),s.productForm.images?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.productForm.images,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_75$m,[withDirectives(createBaseVNode("img",null,null,512),[[n,l]]),createBaseVNode("div",_hoisted_76$k,[createBaseVNode("a",{href:"javascript:void(0)",onClick:m=>r.removeImage(c)},"Удалить",8,_hoisted_77$k)])]))),256)):createCommentVNode("",!0),s.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(s.photos,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_78$i,[withDirectives(createBaseVNode("img",null,null,512),[[n,r.getPhoto(l).imageUrl]]),createBaseVNode("div",_hoisted_79$i,[createBaseVNode("a",{href:"javascript:void(0)",onClick:m=>r.removePhoto(c)},"Удалить",8,_hoisted_80$i)])]))),256)):createCommentVNode("",!0)])]),_hoisted_81$i],32),s.productForm.id?(openBlock(),createElementBlock("div",_hoisted_82$i)):createCommentVNode("",!0),s.productForm.id?(openBlock(),createElementBlock("button",{key:1,onClick:t[17]||(t[17]=(...l)=>r.removeProduct&&r.removeProduct(...l)),type:"button",class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark w-100"},"Удалить товар ")):createCommentVNode("",!0)])])],64)}const ProductForm$1=_export_sfc(_sfc_main$3c,[["render",_sfc_render$19]]),_sfc_main$3b={props:["item"],data(){return{}},methods:{selectProduct(){this.$emit("select",this.item),window.scrollTo(50,400)},preparedImgUrl(o){if(o.toLocaleLowerCase().startsWith("https://")||o.toLocaleLowerCase().startsWith("http://"))return o},removeProduct(){this.$store.dispatch("removeProduct",this.item.id).then(o=>{this.$botNotification.success("Продукты","Продукт успешно удален!")}).catch(o=>{})},duplicateProduct(){this.$store.dispatch("duplicateProduct",this.item.id).then(o=>{this.$botNotification.success("Продукты","Продукт успешно продублирован!")}).catch(o=>{})}},mounted(){},computed:{}},_hoisted_1$38={class:"d-flex pb-2"},_hoisted_2$33={class:"mr-auto"},_hoisted_3$2Y={class:"rounded-m shadow-xl",width:"110"},_hoisted_4$2Q={class:"ml-auto w-100 pl-3"},_hoisted_5$2L={class:"font-14 font-600 opacity-80 pb-2"},_hoisted_6$2J=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_7$2B={class:"font-23 font-700 float-left pt-2"},_hoisted_8$2w={key:0,style:{"text-decoration":"line-through"},class:"font-15 opacity-50"},_hoisted_9$2s={class:"float-right"},_hoisted_10$2i={class:"input-style input-style-1 mt-1"},_hoisted_11$2d=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_12$29=[_hoisted_11$2d];function _sfc_render$18(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$38,[createBaseVNode("div",_hoisted_2$33,[withDirectives(createBaseVNode("img",_hoisted_3$2Y,null,512),[[n,r.preparedImgUrl(a.item.images[0])]])]),createBaseVNode("div",_hoisted_4$2Q,[createBaseVNode("h5",_hoisted_5$2L,"#"+toDisplayString(a.item.id)+" "+toDisplayString(a.item.title),1),_hoisted_6$2J,createBaseVNode("h1",_hoisted_7$2B,[createTextVNode(toDisplayString(a.item.current_price)+"₽",1),a.item.old_price?(openBlock(),createElementBlock("sup",_hoisted_8$2w,toDisplayString(a.item.old_price)+"₽",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$2s,[createBaseVNode("div",_hoisted_10$2i,[createBaseVNode("button",{onClick:t[0]||(t[0]=(...l)=>r.selectProduct&&r.selectProduct(...l)),class:"btn btn-full btn-sm rounded-sm bg-highlight font-800 text-uppercase"},_hoisted_12$29)])])])])}const ProductCard=_export_sfc(_sfc_main$3b,[["render",_sfc_render$18]]),_hoisted_1$37={class:"card card-style"},_hoisted_2$32={class:"content"},_hoisted_3$2X=createBaseVNode("button",{class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark w-100 mb-0",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_4$2P={key:0},__default__$20={data(){return{search:null,products:[],paginate:null}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.products}},mounted(){this.loadProducts()},methods:{selectProduct(o){this.$emit("select",o)},nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})}}},_sfc_main$3a=Object.assign(__default__$20,{__name:"ProductList",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$37,[createBaseVNode("div",_hoisted_2$32,[createBaseVNode("form",{onSubmit:a[1]||(a[1]=withModifiers(i=>t.loadProducts(0),["prevent"]))},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Поиск товара","aria-label":"Поиск товара","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),_hoisted_3$2X],32),createBaseVNode("p",null,[createTextVNode("Всего товаров: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_4$2P,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(i,s)=>(openBlock(),createBlock(ProductCard,{onSelect:r=>t.selectProduct(i),item:i},null,8,["onSelect","item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])]))}}),_hoisted_1$36={class:"card card-style"},_hoisted_2$31={class:"content mb-0"},_hoisted_3$2W=createBaseVNode("h3",{class:"font-700"},"Управление магазином",-1),_hoisted_4$2O={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_5$2K=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_6$2I=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_7$2A=createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),_hoisted_8$2v=["disabled"],_hoisted_9$2r=createBaseVNode("i",{class:"fa-regular fa-floppy-disk mr-2"},null,-1),_hoisted_10$2h=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_11$2c={key:0,class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme w-100"},_hoisted_12$28=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_13$23=createBaseVNode("span",{class:"spinner-border color-blue2-dark font-12 ml-2",style:{"border-width":"2px",width:"1rem",height:"1rem"},role:"status"},null,-1),_hoisted_14$1Z=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_15$1Y=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_16$1W=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_17$1O=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_18$1J=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_19$1E=["disabled"],_hoisted_20$1B=createBaseVNode("i",{class:"fa-solid fa-trash mr-2"},null,-1),_hoisted_21$1x=createBaseVNode("h6",null,null,-1),__default__$1$={data(){return{load:!1,url:null,link:null,bot:null,selectedProduct:null,botForm:{vk_shop_link:null}}},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.updateProducts(),this.botForm.vk_shop_link=window.currentBot.vk_shop_link||null},methods:{updateShopLink(){this.load=!0,this.$store.dispatch("updateShopLink",{botForm:this.botForm}).then(o=>{this.load=!1,this.updateProducts(),this.$botNotification.notification("Менеджер магазина","Ссылка на источник в ВК обновлена")}).catch(()=>{this.load=!1})},exportOrders(){this.$botNotification.notification("Менеджер магазина","Функция недоступна")},exportProducts(){this.$botNotification.notification("Менеджер магазина","Функция недоступна")},importProducts(){this.$botNotification.notification("Менеджер магазина","Функция недоступна")},refresh(){this.load=!0,this.selectedProduct=null,this.$nextTick(()=>{this.load=!1})},removeAllProducts(){this.load=!0,this.$store.dispatch("removeAllProducts").then(o=>{this.load=!1,this.$botNotification.notification("Менеджер магазина","Все продукты удалены")}).catch(()=>{this.load=!1})},selectProduct(o){this.load=!0,this.$nextTick(()=>{this.selectedProduct=o,this.load=!1})},updateProducts(){this.load=!0,this.$store.dispatch("updateProductsFromVk").then(o=>{this.link=o.data.url||null,this.load=!1,this.url=null}).catch(()=>{this.load=!1})},open(o){this.tg.openLink(o)}}},_sfc_main$39=Object.assign(__default__$1$,{__name:"ShopManager",setup(o){return(t,a)=>{const i=resolveComponent("Popper");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$36,[createBaseVNode("div",_hoisted_2$31,[_hoisted_3$2W,createBaseVNode("form",{onSubmit:a[1]||(a[1]=withModifiers((...s)=>t.updateShopLink&&t.updateShopLink(...s),["prevent"])),class:"mb-2"},[createBaseVNode("label",_hoisted_4$2O,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_6$2I]),default:withCtx(()=>[_hoisted_5$2K]),_:1}),createTextVNode(" ВК-группа ")]),_hoisted_7$2A]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":a[0]||(a[0]=s=>t.botForm.vk_shop_link=s),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,t.botForm.vk_shop_link]]),createBaseVNode("button",{disabled:t.load,class:"btn btn-m btn-full mb-3 mt-2 rounded-sm text-uppercase font-900 shadow-s bg-red2-dark w-100"},[_hoisted_9$2r,createTextVNode(" Сохранить ")],8,_hoisted_8$2v)],32),_hoisted_10$2h,t.link?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_11$2c,[_hoisted_12$28,createTextVNode(" Подготовка ссылки "),_hoisted_13$23])),t.link?(openBlock(),createElementBlock("a",{key:1,onClick:a[2]||(a[2]=s=>t.open(t.link)),href:"javascript:void(0)",type:"button",class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme w-100"},[_hoisted_14$1Z,createTextVNode(" Обновить товар из ВК ")])):createCommentVNode("",!0),createBaseVNode("button",{onClick:a[3]||(a[3]=(...s)=>t.exportOrders&&t.exportOrders(...s)),class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"},[_hoisted_15$1Y,createTextVNode(" Экспортировать заказы ")]),createBaseVNode("button",{onClick:a[4]||(a[4]=(...s)=>t.importProducts&&t.importProducts(...s)),class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"},[_hoisted_16$1W,createTextVNode(" Импорт из XLS ")]),createBaseVNode("button",{onClick:a[5]||(a[5]=(...s)=>t.exportProducts&&t.exportProducts(...s)),class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"},[_hoisted_17$1O,createTextVNode(" Экспорт в XLS ")]),_hoisted_18$1J,createBaseVNode("button",{onClick:a[6]||(a[6]=(...s)=>t.removeAllProducts&&t.removeAllProducts(...s)),disabled:t.load,class:"btn btn-m btn-full mb-3 rounded-sm text-uppercase font-900 shadow-s bg-red2-dark w-100"},[_hoisted_20$1B,createTextVNode(" Удалить товары ")],8,_hoisted_19$1E)])]),_hoisted_21$1x,t.load?createCommentVNode("",!0):(openBlock(),createBlock(ProductForm$1,{key:0,item:t.selectedProduct,onRefresh:t.refresh},null,8,["item","onRefresh"])),t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$3a,{key:1,onSelect:t.selectProduct},null,8,["onSelect"]))],64)}}}),ShopManager=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$39},Symbol.toStringTag,{value:"Module"})),_sfc_main$38={props:["company"],data(){return{locations:[],deletedLocations:[],locationForm:{id:null,lat:null,lon:null,address:null,description:null,location_channel:null,can_booking:!1,photos:[],company_id:null}}},computed:{...mapGetters(["getSelf","getCompany","getLocations"])},mounted(){this.loadLocationsByCompany(),window.addEventListener("select-map-coords",o=>{this.locationForm.lat=o.detail.param.lat,this.locationForm.lon=o.detail.param.lon})},methods:{openMapModal(){this.$botPages.map()},loadLocationsByCompany(){this.$store.dispatch("loadLocationsByCompany").then(o=>{this.locations=this.getLocations}).catch(()=>{})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.locationForm.photos.splice(o,1)},removeItem(o){this.locations[o].id!=null&&this.deletedLocations.push(this.locations[o].id),this.locations.splice(o,1)},submitLocations(){this.locations.forEach(o=>{let t=new FormData;if(Object.keys(o).forEach(a=>{const i=o[a]||"";typeof i=="object"?t.append(a,JSON.stringify(i)):t.append(a,i)}),o.photos){for(let a=0;a<o.photos.length;a++)t.append("files[]",o.photos[a]);t.delete("photos")}this.deletedLocations.length>0&&t.append("deleted_locations",JSON.stringify(this.deletedLocations)),this.$store.dispatch("createLocation",{locationForm:t}).then(a=>{this.$emit("callback"),this.$botNotification.success("Локация","Локация успешно созадана и сохранена")}).catch(a=>{})})},selectLocation(o){this.locationForm=o},submitLocation(){this.locationForm.company_id=this.company.id,this.locations.push(this.locationForm),this.$botNotification.success("Локация","Локация успешно добавлена в список. Не забудьте сохранить"),this.locationForm={id:null,lat:null,lon:null,address:null,description:null,location_channel:null,can_booking:!1,photos:[]}},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.locationForm.photos.push(t[a])}}},_hoisted_1$35={class:"card card-style"},_hoisted_2$30={class:"content"},_hoisted_3$2V={class:"fac fac-checkbox fac-red"},_hoisted_4$2N=createBaseVNode("span",null,null,-1),_hoisted_5$2J=createBaseVNode("label",{for:"box1-fac-checkbox"}," Можно бронировать столик",-1),_hoisted_6$2H=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"location-address"},[createTextVNode(" Адрес заведения "),createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно")],-1),_hoisted_7$2z=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_8$2u=createBaseVNode("h6",null,"Геопозиция",-1),_hoisted_9$2q=createBaseVNode("i",{class:"fa-solid fa-location-dot mr-2"},null,-1),_hoisted_10$2g=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"location-lat"},[createTextVNode(" Широта "),createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно")],-1),_hoisted_11$2b=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"location-lon"},[createTextVNode(" Долгота "),createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно")],-1),_hoisted_12$27={class:"form-label d-flex justify-content-between mt-2",id:"location-description"},_hoisted_13$22={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},_hoisted_14$1Y=createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно",-1),_hoisted_15$1X=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$1V=createBaseVNode("h6",null,"Фотографии локаций",-1),_hoisted_17$1N={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_18$1I={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_19$1D=createBaseVNode("span",null,"+",-1),_hoisted_20$1A={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_21$1w={class:"remove"},_hoisted_22$1w=["onClick"],_hoisted_23$1v={class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100",type:"submit"},_hoisted_24$1r={key:0},_hoisted_25$1l={key:1},_hoisted_26$1h={key:0,class:"mt-3"},_hoisted_27$1d={class:"card card-style bg-25","data-card-height":"200",style:{height:"250px"}},_hoisted_28$1b={class:"card-center"},_hoisted_29$17=createBaseVNode("p",{class:"text-center mb-2"},[createBaseVNode("i",{class:"fa-solid fa-location-dot color-red2-dark fa-4x"})],-1),_hoisted_30$15={class:"color-white font-700 text-center mb-0"},_hoisted_31$13=createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-3"},"Локации компании ",-1),_hoisted_32$10={class:"p-3"},_hoisted_33$10=["disabled"],_hoisted_34$_=createBaseVNode("div",{class:"card-overlay bg-black opacity-80"},null,-1),_hoisted_35$X=["onClick"],_hoisted_36$V={class:"content"},_hoisted_37$T={key:0,href:"javascript:void(0)",class:"chip chip-small bg-dark2-dark w-100 my-3"},_hoisted_38$R=createBaseVNode("i",{class:"fa fa-check bg-green1-dark"},null,-1),_hoisted_39$R=createBaseVNode("span",{class:"color-white"},"Можно забронировать столик",-1),_hoisted_40$M=[_hoisted_38$R,_hoisted_39$R],_hoisted_41$M={key:0},_hoisted_42$M={key:1},_hoisted_43$M={key:2,class:"w-100 d-flex"},_hoisted_44$M={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_45$M={key:3,class:"w-100 d-flex"},_hoisted_46$L={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_47$I=["onClick"],_hoisted_48$I=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1);function _sfc_render$17(o,t,a,i,s,r){const n=resolveDirective("mask"),l=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$35,[createBaseVNode("div",_hoisted_2$30,[createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...c)=>r.submitLocation&&r.submitLocation(...c),["prevent"]))},[createBaseVNode("div",_hoisted_3$2V,[_hoisted_4$2N,withDirectives(createBaseVNode("input",{id:"box1-fac-checkbox","onUpdate:modelValue":t[0]||(t[0]=c=>s.locationForm.can_booking=c),type:"checkbox",value:"0"},null,512),[[vModelCheckbox,s.locationForm.can_booking]]),_hoisted_5$2J]),_hoisted_6$2H,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Адрес","aria-label":"Адрес",maxlength:"255","onUpdate:modelValue":t[1]||(t[1]=c=>s.locationForm.address=c),"aria-describedby":"location-address",required:""},null,512),[[vModelText,s.locationForm.address]]),_hoisted_7$2z,_hoisted_8$2u,createBaseVNode("p",{class:"mb-2",onClick:t[2]||(t[2]=(...c)=>r.openMapModal&&r.openMapModal(...c))},[_hoisted_9$2q,createTextVNode(" Открыть карту")]),_hoisted_10$2g,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"##.######","aria-label":"Широта",maxlength:"255","onUpdate:modelValue":t[3]||(t[3]=c=>s.locationForm.lat=c),"aria-describedby":"location-lat",required:""},null,512),[[n,"##.######"],[vModelText,s.locationForm.lat]]),_hoisted_11$2b,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"##.######","aria-label":"Долгота",maxlength:"255","onUpdate:modelValue":t[4]||(t[4]=c=>s.locationForm.lon=c),"aria-describedby":"location-lon",required:""},null,512),[[n,"##.######"],[vModelText,s.locationForm.lon]]),createBaseVNode("label",_hoisted_12$27,[createTextVNode(" Описание локации "),s.locationForm.description?(openBlock(),createElementBlock("small",_hoisted_13$22," Длина текста "+toDisplayString(s.locationForm.description.length),1)):createCommentVNode("",!0),_hoisted_14$1Y]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Описание локации","aria-label":"Описание локации",maxlength:"255","onUpdate:modelValue":t[5]||(t[5]=c=>s.locationForm.description=c),"aria-describedby":"location-description",required:""},`
                    `,512),[[vModelText,s.locationForm.description]]),_hoisted_15$1X,_hoisted_16$1V,createBaseVNode("div",_hoisted_17$1N,[createBaseVNode("label",_hoisted_18$1I,[_hoisted_19$1D,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:t[6]||(t[6]=(...c)=>r.onChangePhotos&&r.onChangePhotos(...c)),style:{display:"none"}},null,32)]),s.locationForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.locationForm.photos,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_20$1A,[withDirectives(createBaseVNode("img",null,null,512),[[l,r.getPhoto(c).imageUrl]]),createBaseVNode("div",_hoisted_21$1w,[createBaseVNode("a",{onClick:p=>r.removePhoto(m)},"Удалить",8,_hoisted_22$1w)])]))),256)):createCommentVNode("",!0)]),createBaseVNode("button",_hoisted_23$1v,[s.locationForm.id?(openBlock(),createElementBlock("span",_hoisted_24$1r,"Обновить расположение")):(openBlock(),createElementBlock("span",_hoisted_25$1l,"Добавить расположение"))])],32)])]),s.locations?(openBlock(),createElementBlock("div",_hoisted_26$1h,[createBaseVNode("div",_hoisted_27$1d,[createBaseVNode("div",_hoisted_28$1b,[_hoisted_29$17,createBaseVNode("h2",_hoisted_30$15,toDisplayString(a.company.title||"Не установлен"),1),_hoisted_31$13,createBaseVNode("div",_hoisted_32$10,[createBaseVNode("button",{onClick:t[8]||(t[8]=(...c)=>r.submitLocations&&r.submitLocations(...c)),disabled:s.locations.length===0&&s.deletedLocations.length===0,class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить локации заведений ",8,_hoisted_33$10)])]),_hoisted_34$_]),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.locations,(c,m)=>(openBlock(),createElementBlock("div",{class:"card card-style",onClick:p=>r.selectLocation(c)},[createBaseVNode("div",_hoisted_36$V,[createBaseVNode("h4",null,toDisplayString(c.address||"Не указано"),1),c.can_booking?(openBlock(),createElementBlock("a",_hoisted_37$T,_hoisted_40$M)):createCommentVNode("",!0),createBaseVNode("ul",null,[c.location_channel?(openBlock(),createElementBlock("li",_hoisted_41$M,[createTextVNode("Канал заведения "),createBaseVNode("strong",null,toDisplayString(c.location_channel),1)])):createCommentVNode("",!0),createBaseVNode("li",null,toDisplayString(c.description||"Не указано"),1),createBaseVNode("li",null,"Широта: "+toDisplayString(c.lat),1),createBaseVNode("li",null,"Долгота: "+toDisplayString(c.lon),1)]),c.photos?(openBlock(),createElementBlock("h6",_hoisted_42$M,"Фотографии локаций")):createCommentVNode("",!0),c.photos?(openBlock(),createElementBlock("div",_hoisted_43$M,[c.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(c.photos,(p,y)=>(openBlock(),createElementBlock("div",_hoisted_44$M,[withDirectives(createBaseVNode("img",null,null,512),[[l,r.getPhoto(p).imageUrl]])]))),256)):createCommentVNode("",!0)])):createCommentVNode("",!0),c.images?(openBlock(),createElementBlock("div",_hoisted_45$M,[c.images.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(c.images,(p,y)=>(openBlock(),createElementBlock("div",_hoisted_46$L,[withDirectives(createBaseVNode("img",null,null,512),[[l,"/images-by-company-id/"+a.company.id+"/"+p]])]))),256)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:p=>r.removeItem(m),class:"btn btn-outline-danger py-1 px-3 text-center w-100"},[_hoisted_48$I,createTextVNode(" Удалить ")],8,_hoisted_47$I)])],8,_hoisted_35$X))),256))])):createCommentVNode("",!0)],64)}const Location=_export_sfc(_sfc_main$38,[["render",_sfc_render$17]]),CompanyManager_vue_vue_type_style_index_0_lang="",_hoisted_1$34={class:"card card-style bg-1",style:{height:"350px"}},_hoisted_2$2$={key:0,class:"card-center"},_hoisted_3$2U={class:"w-100 d-flex justify-content-center p-3"},_hoisted_4$2M={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_5$2I={class:"color-white font-700 text-center mb-0"},_hoisted_6$2G={class:"color-white text-center opacity-60 mt-n1 mb-3"},_hoisted_7$2y={key:1,class:"card-center"},_hoisted_8$2t=createBaseVNode("p",null,"Загружаем данные компании",-1),_hoisted_9$2p=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_10$2f=[_hoisted_8$2t,_hoisted_9$2p],_hoisted_11$2a=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_12$26={key:0,class:"card card-style"},_hoisted_13$21={key:0,class:"content"},_hoisted_14$1X={class:"form-label d-flex justify-content-between align-items-center",id:"company-title"},_hoisted_15$1W=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_16$1U=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_17$1M=createBaseVNode("div",null,"Нужно ",-1),_hoisted_18$1H={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"company-title"},_hoisted_19$1C=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_20$1z=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_21$1v=createBaseVNode("div",null,"Нужно ",-1),_hoisted_22$1v=["value"],_hoisted_23$1u={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"company-slug"},_hoisted_24$1q=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_25$1k=createBaseVNode("div",null,[createTextVNode("Название компании на АНГЛИЙСКОМ"),createBaseVNode("br"),createTextVNode(" без пробелов! можно использовать _"),createBaseVNode("br"),createTextVNode(" Должно быть уникальным! Не отображается пользователю. ")],-1),_hoisted_26$1g=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_27$1c=createBaseVNode("div",null,"Нужно ",-1),_hoisted_28$1a={class:"form-label d-flex justify-content-between align-items-center flex-wrap mt-2",id:"company-description"},_hoisted_29$16=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_30$14=createBaseVNode("div",null,'Добавится в раздел "О Нас"',-1),_hoisted_31$12=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_32$$=createBaseVNode("div",null,"Нужно ",-1),_hoisted_33$$={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_34$Z={class:"form-label",id:"company-address"},_hoisted_35$W=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_36$U=createBaseVNode("div",null,[createTextVNode("Где находится главное заведение компании!"),createBaseVNode("br"),createTextVNode('Можно не указывать, т.к. есть еще "Локации" ')],-1),_hoisted_37$S=createBaseVNode("label",{class:"form-label",id:"company-email"},"Основная почта компании",-1),_hoisted_38$Q=createBaseVNode("label",{class:"form-label",id:"company-manager"},"Менеджер компании",-1),_hoisted_39$Q=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_40$L=createBaseVNode("h6",{class:"d-flex justify-content-between align-items-center"},[createTextVNode("Логотип компании "),createBaseVNode("i",{class:"fa-solid fa-star color-red2-dark"})],-1),_hoisted_41$L={class:"d-flex justify-content-center"},_hoisted_42$L={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_43$L={key:0,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_44$L={class:"remove"},_hoisted_45$L=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_46$K=[_hoisted_45$L],_hoisted_47$H={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_48$H={class:"remove"},_hoisted_49$F=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_50$E=[_hoisted_49$F],_hoisted_51$C=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_52$C=createBaseVNode("h6",null,"Телефонные номера",-1),_hoisted_53$B=createBaseVNode("div",{class:"d-flex justify-content-between"},[createBaseVNode("small",null,"Номер")],-1),_hoisted_54$B=["onUpdate:modelValue","aria-describedby"],_hoisted_55$y=["onClick"],_hoisted_56$x=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_57$w=[_hoisted_56$x],_hoisted_58$u=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_59$u=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_60$t=createBaseVNode("div",{class:"d-flex justify-content-between"},[createBaseVNode("small",null,"Ссылка")],-1),_hoisted_61$s=["onUpdate:modelValue","aria-describedby"],_hoisted_62$q=["onClick"],_hoisted_63$q=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_64$o=[_hoisted_63$q],_hoisted_65$o=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_66$o=createBaseVNode("h6",null,"График работы",-1),_hoisted_67$o={class:"d-flex justify-content-between align-items-center"},_hoisted_68$o=createBaseVNode("small",null,"День недели ",-1),_hoisted_69$o=createBaseVNode("small",null,"Заполнить\\очистить",-1),_hoisted_70$o=[_hoisted_69$o],_hoisted_71$o=["onUpdate:modelValue","aria-describedby"],_hoisted_72$m=["onClick"],_hoisted_73$m=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_74$l=[_hoisted_73$m],_hoisted_75$l=["disabled"],_hoisted_76$j=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_77$j=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить данные компании ",-1),_hoisted_78$h={key:1,class:"content"},_hoisted_79$h=createBaseVNode("p",null,"Загружаем данные компании",-1),_hoisted_80$h=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_81$h=[_hoisted_79$h,_hoisted_80$h],_hoisted_82$h={key:1},__default__$1_={data(){return{step:0,load:!1,photo:null,removedImage:null,need_reset:!1,vat_codes:[{id:1,title:"Общая система налогообложения"},{id:2,title:"Упрощенная (УСН, доходы)"},{id:3,title:"Упрощенная (УСН, доходы минус расходы)"},{id:4,title:"Единый налог на вмененный доход (ЕНВД)"},{id:5,title:"Единый сельскохозяйственный налог (ЕСН)"},{id:6,title:"Патентная система налогообложения"}],company:null,companyForm:{id:null,title:null,slug:null,description:null,address:null,phones:[""],links:[""],email:null,vat_code:1,schedule:[],manager:null}}},computed:{...mapGetters(["getSelf","getCompany"])},watch:{companyForm:{handler(o){this.need_reset=!0},deep:!0}},mounted(){this.loadCompany()},methods:{resetForm(){this.photo=null,this.removedImage=null,this.companyForm={id:null,title:null,slug:null,description:null,address:null,phones:[""],links:[""],email:null,schedule:[],manager:null,vat_code:1},this.$nextTick(()=>{this.need_reset=!1})},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0],this.companyForm.image=null},schedulePlaceholder(){this.companyForm.schedule.length>0?this.companyForm.schedule=[]:this.companyForm.schedule=["Понедельник - с 8:00 до 20:00","Вторник - с 8:00 до 20:00","Среда - с 8:00 до 20:00","Четверг - с 8:00 до 20:00","Пятница - с 8:00 до 20:00","Суббота - с 8:00 до 20:00","Воскресенье - выходной"]},removeCompanyImage(){this.removedImage=this.companyForm.image,this.companyForm.image=null},addItem(o){this.companyForm[o].push("")},removeItem(o,t){this.companyForm[o].splice(t,1)},submitForm(){let o=new FormData;Object.keys(this.companyForm).forEach(t=>{const a=this.companyForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.append("company_logo",this.photo),this.removedImage!=null&&o.append("removed_image",this.removedImage),this.$store.dispatch(this.companyForm.id===null?"createCompany":"updateCompany",{companyForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.notification("Компания","Компания успешно создана")}).catch(t=>{})},loadCompany(){this.$store.dispatch("loadCompany").then(()=>{this.$nextTick(()=>{const o=this.getCompany;this.company=o,this.companyForm={id:o.id||null,title:o.title||null,slug:o.slug||null,image:o.image||null,description:o.description||null,address:o.address||null,phones:o.phones||[""],links:o.links||[""],email:o.email||null,vat_code:o.vat_code||1,schedule:o.schedule||[],manager:o.manager||null}})})}}},_sfc_main$37=Object.assign(__default__$1_,{__name:"CompanyManager",setup(o){return(t,a)=>{const i=resolveComponent("Popper"),s=resolveDirective("lazy"),r=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$34,[t.company?(openBlock(),createElementBlock("div",_hoisted_2$2$,[createBaseVNode("div",_hoisted_3$2U,[withDirectives(createBaseVNode("img",_hoisted_4$2M,null,512),[[s,"/images-by-company-id/"+t.company.id+"/"+t.company.image]])]),createBaseVNode("h2",_hoisted_5$2I,toDisplayString(t.company.title||"Нет названия"),1),createBaseVNode("p",_hoisted_6$2G,toDisplayString(t.company.address||"Нет адреса"),1),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=n=>t.step=0),class:normalizeClass([{"bg-highlight":t.step===0,"bg-gray2-light":t.step!==0},"btn btn-m font-900 text-uppercase btn-center-xl mb-2"])}," Информация о компании ",2),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[1]||(a[1]=n=>t.step=1),class:normalizeClass([{"bg-highlight":t.step===1,"bg-gray2-light":t.step!==1},"btn btn-m font-900 text-uppercase btn-center-xl"])}," Информация о расположении ",2)])):(openBlock(),createElementBlock("div",_hoisted_7$2y,_hoisted_10$2f)),_hoisted_11$2a]),t.step===0?(openBlock(),createElementBlock("div",_hoisted_12$26,[t.company?(openBlock(),createElementBlock("div",_hoisted_13$21,[createBaseVNode("form",{onSubmit:a[16]||(a[16]=withModifiers((...n)=>t.submitForm&&t.submitForm(...n),["prevent"]))},[createBaseVNode("label",_hoisted_14$1X,[createBaseVNode("span",null,[createVNode(i,{content:"Название вашей компании"},{default:withCtx(()=>[_hoisted_15$1W]),_:1}),createTextVNode(" Название компании ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_17$1M]),default:withCtx(()=>[_hoisted_16$1U]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Название","aria-label":"Название","onUpdate:modelValue":a[2]||(a[2]=n=>t.companyForm.title=n),maxlength:"255","aria-describedby":"company-title",required:""},null,512),[[vModelText,t.companyForm.title]]),createBaseVNode("label",_hoisted_18$1H,[createBaseVNode("span",null,[createVNode(i,{content:"Тип налогооблажения вашей компании"},{default:withCtx(()=>[_hoisted_19$1C]),_:1}),createTextVNode(" Тип налогооблажения ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_21$1v]),default:withCtx(()=>[_hoisted_20$1z]),_:1})]),withDirectives(createBaseVNode("select",{type:"text",class:"form-control","aria-label":"Выберите налогооблажение","onUpdate:modelValue":a[3]||(a[3]=n=>t.companyForm.vat_code=n),"aria-describedby":"company-vat-code",required:""},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vat_codes,(n,l)=>(openBlock(),createElementBlock("option",{value:n.id},toDisplayString(n.title||"Не указано"),9,_hoisted_22$1v))),256))],512),[[vModelSelect,t.companyForm.vat_code]]),createBaseVNode("label",_hoisted_23$1u,[createBaseVNode("span",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_25$1k]),default:withCtx(()=>[_hoisted_24$1q]),_:1}),createTextVNode(" Домен компании ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_27$1c]),default:withCtx(()=>[_hoisted_26$1g]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Мнемоническое имя","aria-label":"Мнемоническое имя","onUpdate:modelValue":a[4]||(a[4]=n=>t.companyForm.slug=n),pattern:"^[a-zA-Z][a-zA-Z0-9-_]{1,40}$",maxlength:"255","aria-describedby":"company-slug",required:""},null,512),[[vModelText,t.companyForm.slug]]),createBaseVNode("label",_hoisted_28$1a,[createBaseVNode("span",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_30$14]),default:withCtx(()=>[_hoisted_29$16]),_:1}),createTextVNode(" Описание компании ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_32$$]),default:withCtx(()=>[_hoisted_31$12]),_:1}),t.companyForm.description?(openBlock(),createElementBlock("small",_hoisted_33$$," Длина текста "+toDisplayString(t.companyForm.description.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",style:{"min-height":"250px"},placeholder:"Описание компании","aria-label":"Описание компании","onUpdate:modelValue":a[5]||(a[5]=n=>t.companyForm.description=n),"aria-describedby":"company-description",required:""},null,512),[[vModelText,t.companyForm.description]]),createBaseVNode("label",_hoisted_34$Z,[createVNode(i,null,{content:withCtx(()=>[_hoisted_36$U]),default:withCtx(()=>[_hoisted_35$W]),_:1}),createTextVNode(" Основной адрес компании")]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Адрес","aria-label":"Адрес",maxlength:"255","onUpdate:modelValue":a[6]||(a[6]=n=>t.companyForm.address=n),"aria-describedby":"company-address"},null,512),[[vModelText,t.companyForm.address]]),_hoisted_37$S,withDirectives(createBaseVNode("input",{type:"email",class:"form-control",placeholder:"Почтовый адрес","aria-label":"Почтовый адрес",maxlength:"255","onUpdate:modelValue":a[7]||(a[7]=n=>t.companyForm.email=n),"aria-describedby":"company-email"},null,512),[[vModelText,t.companyForm.email]]),_hoisted_38$Q,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя менеджера","aria-label":"Имя менеджера","onUpdate:modelValue":a[8]||(a[8]=n=>t.companyForm.manager=n),maxlength:"255","aria-describedby":"company-manager"},null,512),[[vModelText,t.companyForm.manager]]),_hoisted_39$Q,_hoisted_40$L,createBaseVNode("div",_hoisted_41$L,[createBaseVNode("label",_hoisted_42$L,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",accept:"image/*",onChange:a[9]||(a[9]=(...n)=>t.onChangePhotos&&t.onChangePhotos(...n)),style:{display:"none"}},null,32)]),t.photo?(openBlock(),createElementBlock("div",_hoisted_43$L,[withDirectives(createBaseVNode("img",null,null,512),[[s,t.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_44$L,[createBaseVNode("a",{onClick:a[10]||(a[10]=n=>t.photo=null)},_hoisted_46$K)])])):createCommentVNode("",!0),t.companyForm.image?(openBlock(),createElementBlock("div",_hoisted_47$H,[withDirectives(createBaseVNode("img",null,null,512),[[s,"/images/"+t.companyForm.slug+"/"+t.companyForm.image]]),createBaseVNode("div",_hoisted_48$H,[createBaseVNode("a",{onClick:a[11]||(a[11]=(...n)=>t.removeCompanyImage&&t.removeCompanyImage(...n))},_hoisted_50$E)])])):createCommentVNode("",!0)]),_hoisted_51$C,_hoisted_52$C,_hoisted_53$B,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companyForm.phones,(n,l)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2",key:"phone"+l},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control w-100 mr-2",placeholder:"+7(000)000-00-00","aria-label":"Номер телефона",maxlength:"255","onUpdate:modelValue":c=>t.companyForm.phones[l]=c,"aria-describedby":"company-phone-"+l},null,8,_hoisted_54$B),[[r,"+7(###)###-##-##"],[vModelText,t.companyForm.phones[l]]]),createBaseVNode("button",{type:"button",onClick:c=>t.removeItem("phones",l),class:"btn btn-outline-danger py-1 px-3"},_hoisted_57$w,8,_hoisted_55$y)]))),128)),createBaseVNode("button",{type:"button",onClick:a[12]||(a[12]=n=>t.addItem("phones")),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще номер "),_hoisted_58$u,_hoisted_59$u,_hoisted_60$t,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companyForm.links,(n,l)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2",key:"link"+l},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mr-2 w-100",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":c=>t.companyForm.links[l]=c,"aria-describedby":"company-link-"+l},null,8,_hoisted_61$s),[[vModelText,t.companyForm.links[l]]]),createBaseVNode("button",{type:"button",onClick:c=>t.removeItem("links",l),class:"btn btn-outline-danger py-1 px-3"},_hoisted_64$o,8,_hoisted_62$q)]))),128)),createBaseVNode("button",{type:"button",onClick:a[13]||(a[13]=n=>t.addItem("links")),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_65$o,_hoisted_66$o,createBaseVNode("div",_hoisted_67$o,[_hoisted_68$o,createBaseVNode("a",{href:"javascript:void(0)",onClick:a[14]||(a[14]=(...n)=>t.schedulePlaceholder&&t.schedulePlaceholder(...n))},_hoisted_70$o)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companyForm.schedule,(n,l)=>(openBlock(),createElementBlock("div",{key:"link"+l,class:"d-flex justify-content-between mb-2"},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mr-2 w-100",placeholder:"День недели и время работы","aria-label":"День недели и время работы",maxlength:"255","onUpdate:modelValue":c=>t.companyForm.schedule[l]=c,"aria-describedby":"company-schedule-"+l},null,8,_hoisted_71$o),[[vModelText,t.companyForm.schedule[l]]]),createBaseVNode("button",{type:"button",onClick:c=>t.removeItem("schedule",l),class:"btn btn-outline-danger py-1 px-3"},_hoisted_74$l,8,_hoisted_72$m)]))),128)),createBaseVNode("button",{type:"button",disabled:t.companyForm.schedule.length===7,onClick:a[15]||(a[15]=n=>t.addItem("schedule")),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще время работы ",8,_hoisted_75$l),_hoisted_76$j,_hoisted_77$j],32)])):(openBlock(),createElementBlock("div",_hoisted_78$h,_hoisted_81$h))])):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_82$h,[t.company&&!t.load?(openBlock(),createBlock(Location,{key:0,company:t.company},null,8,["company"])):createCommentVNode("",!0)])):createCommentVNode("",!0)],64)}}}),CompanyManager=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$37},Symbol.toStringTag,{value:"Module"})),BotManager_vue_vue_type_style_index_0_lang$1="",_sfc_main$36={data(){return{selected_warning:null,load:!1,need_payments:!1,need_shop:!1,bot:null,need_threads:!1,need_cashback_config:!1,cashback_fire_periods:[{title:"Не сгорает",value:0},{title:"7 дней",value:7},{title:"15 дней",value:15},{title:"30 дней",value:30},{title:"60 дней",value:60},{title:"60 дней",value:90},{title:"120 дней",value:120},{title:"180 дней",value:180},{title:"360 дней",value:360}],warnings:[{title:"Сумма чека больше чем",key:"bill_sum_more_then"},{title:"Сумма начисления кэшбэка больше чем",key:"cashback_up_sum_more_then"},{title:"Сумма списания кэшбэка больше чем",key:"cashback_down_sum_more_then"}],botForm:{title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,vk_shop_link:null,callback_link:null,balance:null,tax_per_day:null,welcome_message:null,image:null,description:null,info_link:null,commands:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,cashback_fire_percent:0,cashback_fire_period:0,photos:[],selected_bot_template_id:null,pages:[],warnings:[],amo:null,is_active:!1}}},computed:{filteredWarnings(){return this.botForm.warnings.length===0?this.warnings:this.warnings.filter(o=>!(this.botForm.warnings.findIndex(t=>t.rule_key===o.key)>=0))}},watch:{need_threads:function(o,t){let a=[{title:"Отзывы",key:"reviews",value:null},{title:"Операции с cashback",key:"cashback",value:null},{title:"Вопросы",key:"questions",value:null},{title:"Конкурсы",key:"actions",value:null},{title:"Заказы",key:"orders",value:null},{title:"Вывод средств",key:"ask-money",value:null}];this.need_threads&&!this.botForm.message_threads&&(this.botForm.message_threads=a),this.need_threads&&this.botForm.message_threads&&a.forEach(i=>{this.botForm.message_threads.findIndex(r=>r.key===i.key)===-1&&this.botForm.message_threads.push(i)})},need_payments:function(o,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},mounted(){this.loadBotAdminConfig(),window.addEventListener("select-telegram-channel-id",o=>{this.botForm[o.detail.param]=o.detail.channel})},methods:{removeCommands(o){this.botForm.commands.splice(o,1)},addCommands(){this.botForm.commands==null&&(this.botForm.commands=[]),this.botForm.commands.push({command:null,description:null})},loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.botForm={id:this.bot.id||null,title:this.bot.title||null,short_description:this.bot.short_description||null,long_description:this.bot.long_description||null,is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,message_threads:this.bot.message_threads||null,cashback_config:this.bot.cashback_config||null,commands:this.bot.commands||null,cashback_fire_percent:this.bot.cashback_fire_percent||0,cashback_fire_period:this.bot.cashback_fire_period||0,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,callback_link:this.bot.callback_link||null,image:this.bot.image||null,description:this.bot.description||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1||10,level_2:this.bot.level_2||0,level_3:this.bot.level_3||0,warnings:this.bot.warnings||[],photos:this.bot.photos||[],amo:this.bot.amo||null,is_active:this.bot.is_active||!1},this.botForm.commands==null&&(this.botForm.commands=[{command:"/start",description:"начни с этой команды"},{command:"/admins",description:"доступные администраторы в системе"},{command:"/help",description:"как использовать систему"},{command:"/about",description:"о CashMan"}]),this.botForm.payment_provider_token&&(this.need_payments=!0),this.botForm.vk_shop_link&&(this.need_shop=!0),this.botForm.cashback_config&&(this.need_cashback_config=!0)})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o){const t=o.target.files;this.botForm.image=null;for(let a=0;a<t.length;a++)this.botForm.photos.push(t[a])},addItem(o){this.botForm[o].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(o,t){this.botForm[o].splice(t,1)},removePhoto(o){o?this.botForm.photos.splice(o,1):this.botForm.image=null},switchStatus(){this.$store.dispatch("switchBotStatus").then(()=>{this.$botNotification.success("Конструктор ботов","Статус бота успешно изменен!")})},addBot(){let o=new FormData;Object.keys(this.botForm).forEach(t=>{const a=this.botForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.company&&o.append("company_id",this.company.id);for(let t=0;t<this.botForm.photos.length;t++)o.append("images[]",this.botForm.photos[t]);o.delete("photos"),this.$store.dispatch(this.bot==null?"createBot":"updateBot",{botForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.success("Конструктор ботов",this.bot==null?"Бот успешно создан!":"Бот успешно обновлен!"),this.bot==null&&(this.botForm={title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,balance:null,tax_per_day:null,cashback_fire_percent:0,cashback_fire_period:0,image:null,description:null,info_link:null,social_links:[],warnings:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,photos:[],selected_bot_template_id:null,pages:[],is_active:!1})}).catch(t=>{})},getWarning(o){let t=this.warnings.find(a=>a.key===o);return t||{title:"Не найдено"}},removeWarning(o){this.botForm.warnings.splice(o,1)},removeCashBackConfig(o){this.botForm.cashback_config.splice(o,1)},addCashBackConfig(){this.botForm.cashback_config=this.botForm.cashback_config==null?[]:this.botForm.cashback_config,this.botForm.cashback_config.push({title:null})},addWarning(){const o=this.selected_warning;this.botForm.warnings.push({rule_key:o.key,rule_value:0,is_active:!0}),this.selected_warning=null},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},openUrl(o){this.tg.openLink(o)}}},_hoisted_1$33={class:"card card-style bg-1",style:{height:"330px"}},_hoisted_2$2_={key:0,class:"card-center"},_hoisted_3$2T={class:"w-100 d-flex justify-content-center p-3"},_hoisted_4$2L={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_5$2H={class:"color-white font-700 text-center mb-2"},_hoisted_6$2F={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_7$2x={href:"#",class:"color-white"},_hoisted_8$2s=createBaseVNode("i",{class:"fa-solid fa-sack-dollar"},null,-1),_hoisted_9$2o={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_10$2e=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar"},null,-1),_hoisted_11$29={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_12$25=createBaseVNode("i",{class:"fa-regular fa-calendar-days"},null,-1),_hoisted_13$20={class:"w-100 d-flex justify-content-center py-4"},_hoisted_14$1W={class:"custom-control ios-switch"},_hoisted_15$1V=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1),_hoisted_16$1T={key:0,class:"ml-5 text-white"},_hoisted_17$1L={key:1,class:"ml-5 text-white"},_hoisted_18$1G={key:1,class:"card-center"},_hoisted_19$1B=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_20$1y=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_21$1u=[_hoisted_19$1B,_hoisted_20$1y],_hoisted_22$1u=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_23$1t={key:0,class:"content"},_hoisted_24$1p={class:"mb-0"},_hoisted_25$1j={class:"mb-2"},_hoisted_26$1f={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-domain"},_hoisted_27$1b=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_28$19=createBaseVNode("div",null,'Строго взять из BotFather! ТО что при создании с окончанием на "bot"',-1),_hoisted_29$15=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_30$13=createBaseVNode("div",null,"Нужно ",-1),_hoisted_31$11={key:0},_hoisted_32$_={class:"mb-2"},_hoisted_33$_={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center flex-wrap",id:"bot-token"},_hoisted_34$Y=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_35$V=createBaseVNode("div",null,"Взять из BotFater при создании бота! Длинная нечитаемая подсвеченная строка! ",-1),_hoisted_36$T=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_37$R=createBaseVNode("div",null,"Нужно ",-1),_hoisted_38$P={class:"mb-2"},_hoisted_39$P=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-token-dev"},"Токен бота (для тестирования)",-1),_hoisted_40$K={class:"mb-2"},_hoisted_41$K={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-title"},_hoisted_42$K=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_43$K=createBaseVNode("div",null,"Имя бота, которая отображается у всех пользователей в боте",-1),_hoisted_44$K={class:"mb-2"},_hoisted_45$K={class:"d-flex justify-content-between flex-wrap"},_hoisted_46$J={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-short-description"},_hoisted_47$G=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_48$G=createBaseVNode("div",null,"Описание бота, которое отобразится при переходе в бота по ссылке",-1),_hoisted_49$E={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_50$D={class:"mb-2"},_hoisted_51$B={class:"d-flex justify-content-between flex-wrap"},_hoisted_52$B={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-short-description"},_hoisted_53$A=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_54$A=createBaseVNode("div",null,"Данное описание отобразится при первом переходе в бота или после очистки бота пользователем ",-1),_hoisted_55$x={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_56$w=createBaseVNode("div",{class:"divider divider-large my-4"},null,-1),_hoisted_57$v=createBaseVNode("h6",null,"Команды в боте",-1),_hoisted_58$t={key:0},_hoisted_59$t=createBaseVNode("em",null,"К сожалению, вы еще не добавили ни 1й команды в меню бота",-1),_hoisted_60$s=[_hoisted_59$t],_hoisted_61$r=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Например, команда "),createBaseVNode("b",null,"/start"),createTextVNode(", а описание к ней: "),createBaseVNode("b",null,"начало работы с системой")])],-1),_hoisted_62$p={class:"mb-2"},_hoisted_63$p=["onUpdate:modelValue","aria-describedby"],_hoisted_64$n={class:"mb-2"},_hoisted_65$n=["onUpdate:modelValue","aria-describedby"],_hoisted_66$n=["onClick"],_hoisted_67$n=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_68$n=createBaseVNode("div",{class:"divider divider-small my-4 bg-highlight"},null,-1),_hoisted_69$n={class:"mb-2"},_hoisted_70$n=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Данные команды отображаются в кнопке "),createBaseVNode("b",null,"Меню"),createTextVNode(" слева от поля ввода в боте")])],-1),_hoisted_71$n=createBaseVNode("div",{class:"divider divider-large my-4"},null,-1),_hoisted_72$l={class:"mb-2"},_hoisted_73$l={class:"d-flex justify-content-between align-items-center flex-wrap"},_hoisted_74$k={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center w-100",id:"bot-order-channel"},_hoisted_75$k=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_76$i=createBaseVNode("div",null,"Ввести адрес ссылки на канал в форму после добавления тоукена ",-1),_hoisted_77$i=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_78$g=[_hoisted_77$i],_hoisted_79$g=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_80$g=createBaseVNode("div",null,"Нужно ",-1),_hoisted_81$g={class:"mb-2"},_hoisted_82$g={class:"d-flex justify-content-between"},_hoisted_83$f={class:"form-label d-flex justify-content-between mt-2",id:"bot-main-channel"},_hoisted_84$e=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_85$d=[_hoisted_84$e],_hoisted_86$d={class:"mb-2"},_hoisted_87$d={class:"form-check"},_hoisted_88$d=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо добавить рассылку по топикам для канала заказов (он же системный канал) ",-1),_hoisted_89$d={key:1,class:"mb-2"},_hoisted_90$d=createBaseVNode("p",{class:"mb-2 font-italic"},[createTextVNode("Для того, чтоб узнать идентификатор топика в группе впишите в чат "),createBaseVNode("strong",null,'"Мой id"')],-1),_hoisted_91$d={class:"list-group"},_hoisted_92$d={class:"list-group-item"},_hoisted_93$d={class:"mb-0"},_hoisted_94$d=["onUpdate:modelValue"],_hoisted_95$d={key:0,class:"mb-0"},_hoisted_96$b={class:"mb-2"},_hoisted_97$b={class:"d-flex justify-content-between flex-wrap"},_hoisted_98$b={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-description"},_hoisted_99$b=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_100$b=createBaseVNode("div",null,"Отобразится пользователю при первом запуске",-1),_hoisted_101$b=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_102$b=createBaseVNode("div",null,"Нужно ",-1),_hoisted_103$b={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_104$a={class:"mb-2"},_hoisted_105$a={class:"d-flex justify-content-between flex-wrap"},_hoisted_106$9={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-description"},_hoisted_107$9=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_108$9=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_109$9=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_110$8=createBaseVNode("div",null,"Нужно ",-1),_hoisted_111$7={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_112$7={class:"mb-2"},_hoisted_113$7={class:"d-flex justify-content-between flex-wrap"},_hoisted_114$7={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-maintenance-message"},_hoisted_115$6=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_116$6=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_117$6=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_118$6=createBaseVNode("div",null,"Нужно ",-1),_hoisted_119$6={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_120$5={class:"mb-2"},_hoisted_121$5={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-level-1"},_hoisted_122$5=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_123$5=createBaseVNode("div",null,"Нужно ",-1),_hoisted_124$5={class:"mb-2"},_hoisted_125$5=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-2"},"Уровень 2 CashBack, %",-1),_hoisted_126$5={class:"mb-2"},_hoisted_127$5=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},"Уровень 3 CashBack, %",-1),_hoisted_128$5={class:"mb-2"},_hoisted_129$5=createBaseVNode("label",{class:"form-label",id:"cashback-fired-period"},"Период сгорания CashBack",-1),_hoisted_130$4=["value"],_hoisted_131$4={key:0,class:"mb-3"},_hoisted_132$3=createBaseVNode("label",{class:"form-label",id:"cashback-fired-level"},"Уровень сгорания CashBack, %",-1),_hoisted_133$3={class:"mb-2"},_hoisted_134$3={class:"form-check"},_hoisted_135$3=createBaseVNode("label",{class:"form-check-label",for:"need-cashback-config"}," Необходимо настроить CashBack по категориям ",-1),_hoisted_136$3={key:1,class:"mb-2"},_hoisted_137$3=createBaseVNode("h6",null,"Настройка категорий CashBack-а",-1),_hoisted_138$3={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_139$3=createBaseVNode("small",null,"Название категории",-1),_hoisted_140$3=["onClick"],_hoisted_141$3=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_142$3=[_hoisted_141$3],_hoisted_143$3=["onUpdate:modelValue","aria-describedby"],_hoisted_144$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_145$3={class:"mb-2"},_hoisted_146$3={class:"form-group"},_hoisted_147$3=createBaseVNode("label",{class:"form-check-label",for:"warning-rules"},[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation text-danger"}),createTextVNode(" Правила критических оповещений ")],-1),_hoisted_148$3=createBaseVNode("option",{value:null},"Не выбрано",-1),_hoisted_149$3=["value"],_hoisted_150$3={class:"card"},_hoisted_151$3={class:"m-0"},_hoisted_152$3={class:"form-check"},_hoisted_153$3=["onUpdate:modelValue","id"],_hoisted_154$3=["for"],_hoisted_155$3={key:0},_hoisted_156$3={key:1},_hoisted_157$3=["onUpdate:modelValue"],_hoisted_158$3=["onClick"],_hoisted_159$3=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_160$3=[_hoisted_159$3],_hoisted_161$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_162$3={class:"mb-2"},_hoisted_163$3={class:"form-check"},_hoisted_164$3=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему ",-1),_hoisted_165$2={key:2,class:"mb-2"},_hoisted_166$2={class:"form-check"},_hoisted_167$2=["value"],_hoisted_168$2=createBaseVNode("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),_hoisted_169$2={class:"mb-2"},_hoisted_170$1={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_171$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_172$1=createBaseVNode("div",null,"Если в боте планируется оплата, то необходимо через BotFather привязать нужную платежную систему и указать в данном поле полученный токен ",-1),_hoisted_173$1=createBaseVNode("a",{href:"https://t.me/botfather",target:"_blank"},"Подключить",-1),_hoisted_174$1={class:"mb-2"},_hoisted_175$1={class:"form-check"},_hoisted_176$1=createBaseVNode("label",{class:"form-check-label",for:"need-shop"}," Необходимо интегрировать магазин в бота ",-1),_hoisted_177$1={key:3,class:"mb-2"},_hoisted_178$1={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_179$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_180$1=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_181$1=createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),_hoisted_182$1={class:"mb-2"},_hoisted_183$1={class:"form-label d-flex justify-content-between mt-2",id:"bot-callback-url"},_hoisted_184$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_185$1=createBaseVNode("div",null,"Ссылка на внешний сервис для обратной связи ",-1),_hoisted_186$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_187$1={class:"mb-2"},_hoisted_188$1={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_189$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_190$1=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_191$1=createBaseVNode("a",{target:"_blank",href:"https://telegra.ph"},"Создать",-1),_hoisted_192$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_193$1=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_194$1={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_195$1=createBaseVNode("small",null,"Ссылка",-1),_hoisted_196$1=["onClick"],_hoisted_197$1=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_198$1=[_hoisted_197$1],_hoisted_199$1=["onUpdate:modelValue","aria-describedby"],_hoisted_200$1=["onUpdate:modelValue"],_hoisted_201=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_202={class:"d-flex justify-content-between align-items-center"},_hoisted_203=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_204=createBaseVNode("div",null,"Нужно ",-1),_hoisted_205={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_206={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_207=createBaseVNode("span",null,"+",-1),_hoisted_208={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_209={class:"remove"},_hoisted_210=["onClick"],_hoisted_211=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_212=[_hoisted_211],_hoisted_213={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_214={class:"remove"},_hoisted_215=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_216=[_hoisted_215],_hoisted_217=["disabled"],_hoisted_218={key:1,class:"content"},_hoisted_219=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_220=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_221=[_hoisted_219,_hoisted_220];function _sfc_render$16(o,t,a,i,s,r){const n=resolveComponent("Popper"),l=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$33,[s.bot?(openBlock(),createElementBlock("div",_hoisted_2$2_,[createBaseVNode("div",_hoisted_3$2T,[withDirectives(createBaseVNode("img",_hoisted_4$2L,null,512),[[l,"/images-by-company-id/"+s.bot.company_id+"/"+s.bot.image]])]),createBaseVNode("h2",_hoisted_5$2H,toDisplayString(s.bot.bot_domain||"Нет домена"),1),createBaseVNode("p",_hoisted_6$2F,[createBaseVNode("a",_hoisted_7$2x,[_hoisted_8$2s,createTextVNode(" Баланс "+toDisplayString(s.bot.balance||"0")+" ₽",1)])]),createBaseVNode("p",_hoisted_9$2o,[_hoisted_10$2e,createTextVNode(" Тариф "+toDisplayString(s.bot.tax_per_day||"0")+" ₽/день ",1)]),createBaseVNode("p",_hoisted_11$29,[_hoisted_12$25,createTextVNode(" Дней "+toDisplayString(s.bot.balance/s.bot.tax_per_day)+" осталось ",1)]),createBaseVNode("div",_hoisted_13$20,[createBaseVNode("div",_hoisted_14$1W,[withDirectives(createBaseVNode("input",{type:"checkbox",onChange:t[0]||(t[0]=(...c)=>r.switchStatus&&r.switchStatus(...c)),"onUpdate:modelValue":t[1]||(t[1]=c=>s.botForm.is_active=c),class:"ios-input",id:"toggle-id-1"},null,544),[[vModelCheckbox,s.botForm.is_active]]),_hoisted_15$1V]),s.botForm.is_active?(openBlock(),createElementBlock("span",_hoisted_16$1T,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_17$1L,"Выкл"))])])):(openBlock(),createElementBlock("div",_hoisted_18$1G,_hoisted_21$1u)),_hoisted_22$1u]),createBaseVNode("form",{onSubmit:t[38]||(t[38]=withModifiers((...c)=>r.addBot&&r.addBot(...c),["prevent"])),class:"card card-style"},[s.bot?(openBlock(),createElementBlock("div",_hoisted_23$1t,[createBaseVNode("div",_hoisted_24$1p,[createBaseVNode("div",_hoisted_25$1j,[createBaseVNode("label",_hoisted_26$1f,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_28$19]),default:withCtx(()=>[_hoisted_27$1b]),_:1}),createTextVNode(" Доменное имя бота из BotFather ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_30$13]),default:withCtx(()=>[_hoisted_29$15]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота","onUpdate:modelValue":t[2]||(t[2]=c=>s.botForm.bot_domain=c),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,s.botForm.bot_domain]]),s.botForm.bot_domain?(openBlock(),createElementBlock("p",_hoisted_31$11,[createTextVNode("Проверить работу бота "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[3]||(t[3]=c=>r.openUrl("https://t.me/"+s.botForm.bot_domain))},"@"+toDisplayString(s.botForm.bot_domain),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_32$_,[createBaseVNode("label",_hoisted_33$_,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_35$V]),default:withCtx(()=>[_hoisted_34$Y]),_:1}),createTextVNode(" Токен бота ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_37$R]),default:withCtx(()=>[_hoisted_36$T]),_:1}),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[4]||(t[4]=c=>r.openUrl("https://t.me/botfather")),class:"w-100",target:"_blank"},"Создать нового бота в ТГ")]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[5]||(t[5]=c=>s.botForm.bot_token=c),maxlength:"255","aria-describedby":"bot-token",required:""},null,512),[[vModelText,s.botForm.bot_token]])]),createBaseVNode("div",_hoisted_38$P,[_hoisted_39$P,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[6]||(t[6]=c=>s.botForm.bot_token_dev=c),maxlength:"255","aria-describedby":"bot-token-dev"},null,512),[[vModelText,s.botForm.bot_token_dev]])]),createBaseVNode("div",_hoisted_40$K,[createBaseVNode("label",_hoisted_41$K,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_43$K]),default:withCtx(()=>[_hoisted_42$K]),_:1}),createTextVNode(" Отображаемое имя бота ")])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Отображаемое имя бота","aria-label":"Отображаемое имя бота","onUpdate:modelValue":t[7]||(t[7]=c=>s.botForm.title=c),maxlength:"64","aria-describedby":"bot-title"},null,512),[[vModelText,s.botForm.title]])]),createBaseVNode("div",_hoisted_44$K,[createBaseVNode("div",_hoisted_45$K,[createBaseVNode("label",_hoisted_46$J,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_48$G]),default:withCtx(()=>[_hoisted_47$G]),_:1}),createTextVNode(" Короткое описание бота ")])]),s.botForm.short_description?(openBlock(),createElementBlock("small",_hoisted_49$E," Длина текста "+toDisplayString(s.botForm.short_description.length)+" / 120",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Короткое описание бота","aria-label":"Короткое описание бота","onUpdate:modelValue":t[8]||(t[8]=c=>s.botForm.short_description=c),maxlength:"120",style:{"min-height":"200px"},"aria-describedby":"short-description"},`
                    `,512),[[vModelText,s.botForm.short_description]])]),createBaseVNode("div",_hoisted_50$D,[createBaseVNode("div",_hoisted_51$B,[createBaseVNode("label",_hoisted_52$B,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_54$A]),default:withCtx(()=>[_hoisted_53$A]),_:1}),createTextVNode(" Длинное описание бота ")])]),s.botForm.long_description?(openBlock(),createElementBlock("small",_hoisted_55$x," Длина текста "+toDisplayString(s.botForm.long_description.length)+" / 512",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Длинное описание бота","aria-label":"Длинное описание бота","onUpdate:modelValue":t[9]||(t[9]=c=>s.botForm.long_description=c),maxlength:"512",style:{"min-height":"200px"},"aria-describedby":"short-description"},`
                    `,512),[[vModelText,s.botForm.long_description]])]),_hoisted_56$w,_hoisted_57$v,s.botForm.commands?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_58$t,_hoisted_60$s)),_hoisted_61$r,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.commands,(c,m)=>(openBlock(),createElementBlock("div",{class:"mb-2",key:"commands-"+m},[createBaseVNode("div",_hoisted_62$p,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Название команды","aria-label":"Название команды",maxlength:"255","onUpdate:modelValue":p=>s.botForm.commands[m].command=p,"aria-describedby":"bot-command-"+m,required:""},null,8,_hoisted_63$p),[[vModelText,s.botForm.commands[m].command]])]),createBaseVNode("div",_hoisted_64$n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255","onUpdate:modelValue":p=>s.botForm.commands[m].description=p,"aria-describedby":"bot-command-description-"+m,required:""},null,8,_hoisted_65$n),[[vModelText,s.botForm.commands[m].description]])]),createBaseVNode("button",{type:"button",onClick:p=>r.removeCommands(m),class:"btn btn-outline-danger w-100"},[_hoisted_67$n,createTextVNode(" Удалить команду ")],8,_hoisted_66$n),_hoisted_68$n]))),128)),createBaseVNode("div",_hoisted_69$n,[_hoisted_70$n,createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=c=>r.addCommands()),class:"btn btn-success w-100"},"Добавить еще команду ")]),_hoisted_71$n,createBaseVNode("div",_hoisted_72$l,[createBaseVNode("div",_hoisted_73$l,[createBaseVNode("label",_hoisted_74$k,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_76$i]),default:withCtx(()=>[_hoisted_75$k]),_:1}),createTextVNode(" Канал для заказов (id) "),createBaseVNode("span",{onClick:t[11]||(t[11]=c=>r.requestChannelId("order_channel"))},_hoisted_78$g)]),createVNode(n,null,{content:withCtx(()=>[_hoisted_80$g]),default:withCtx(()=>[_hoisted_79$g]),_:1})])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[12]||(t[12]=c=>s.botForm.order_channel=c),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[vModelText,s.botForm.order_channel]])]),createBaseVNode("div",_hoisted_81$g,[createBaseVNode("div",_hoisted_82$g,[createBaseVNode("label",_hoisted_83$f,[createTextVNode("Канал для постов (id,рекламный) "),createBaseVNode("span",{onClick:t[13]||(t[13]=c=>r.requestChannelId("main_channel"))},_hoisted_85$d)])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[14]||(t[14]=c=>s.botForm.main_channel=c),maxlength:"255","aria-describedby":"bot-main-channel"},null,512),[[vModelText,s.botForm.main_channel]])]),createBaseVNode("div",_hoisted_86$d,[createBaseVNode("div",_hoisted_87$d,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[15]||(t[15]=c=>s.need_threads=c),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,s.need_threads]]),_hoisted_88$d])]),s.need_threads?(openBlock(),createElementBlock("div",_hoisted_89$d,[_hoisted_90$d,createBaseVNode("ul",_hoisted_91$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.message_threads,(c,m)=>(openBlock(),createElementBlock("li",_hoisted_92$d,[createBaseVNode("p",_hoisted_93$d,toDisplayString(c.title)+" ("+toDisplayString(c.key)+")",1),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Идентификатор топика","onUpdate:modelValue":p=>s.botForm.message_threads[m].value=p},null,8,_hoisted_94$d),[[vModelText,s.botForm.message_threads[m].value]])]))),256))])])):createCommentVNode("",!0)]),s.botForm.bot_token?(openBlock(),createElementBlock("div",_hoisted_95$d,[createBaseVNode("div",_hoisted_96$b,[createBaseVNode("div",_hoisted_97$b,[createBaseVNode("label",_hoisted_98$b,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_100$b]),default:withCtx(()=>[_hoisted_99$b]),_:1}),createTextVNode(" Приветственное сообщение ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_102$b]),default:withCtx(()=>[_hoisted_101$b]),_:1})]),s.botForm.welcome_message?(openBlock(),createElementBlock("small",_hoisted_103$b," Длина текста "+toDisplayString(s.botForm.welcome_message.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое приветствие при запуске бота","aria-label":"Текстовое приветствие при запуске бота","onUpdate:modelValue":t[16]||(t[16]=c=>s.botForm.welcome_message=c),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,s.botForm.welcome_message]])]),createBaseVNode("div",_hoisted_104$a,[createBaseVNode("div",_hoisted_105$a,[createBaseVNode("label",_hoisted_106$9,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_108$9]),default:withCtx(()=>[_hoisted_107$9]),_:1}),createTextVNode(" Описание бота ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_110$8]),default:withCtx(()=>[_hoisted_109$9]),_:1})]),s.botForm.description?(openBlock(),createElementBlock("small",_hoisted_111$7," Длина текста "+toDisplayString(s.botForm.description.length)+" / 255",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое описание бота","aria-label":"Текстовое описание бота","onUpdate:modelValue":t[17]||(t[17]=c=>s.botForm.description=c),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,s.botForm.description]])]),createBaseVNode("div",_hoisted_112$7,[createBaseVNode("div",_hoisted_113$7,[createBaseVNode("label",_hoisted_114$7,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_116$6]),default:withCtx(()=>[_hoisted_115$6]),_:1}),createTextVNode(" Режим тех. работ ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_118$6]),default:withCtx(()=>[_hoisted_117$6]),_:1})]),s.botForm.maintenance_message?(openBlock(),createElementBlock("small",_hoisted_119$6," Длина текста "+toDisplayString(s.botForm.maintenance_message.length)+" / 255 ",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":t[18]||(t[18]=c=>s.botForm.maintenance_message=c),maxlength:"255",style:{"min-height":"200px"},"aria-describedby":"bot-maintenance-message",required:""},`
                    `,512),[[vModelText,s.botForm.maintenance_message]])]),createBaseVNode("div",_hoisted_120$5,[createBaseVNode("label",_hoisted_121$5,[createTextVNode(" Уровень 1 CashBack, % "),createVNode(n,null,{content:withCtx(()=>[_hoisted_123$5]),default:withCtx(()=>[_hoisted_122$5]),_:1})]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[19]||(t[19]=c=>s.botForm.level_1=c),min:"0","aria-describedby":"bot-level-1",required:""},null,512),[[vModelText,s.botForm.level_1]])]),createBaseVNode("div",_hoisted_124$5,[_hoisted_125$5,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[20]||(t[20]=c=>s.botForm.level_2=c),min:"0","aria-describedby":"bot-level-2"},null,512),[[vModelText,s.botForm.level_2]])]),createBaseVNode("div",_hoisted_126$5,[_hoisted_127$5,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[21]||(t[21]=c=>s.botForm.level_3=c),min:"0","aria-describedby":"bot-level-3"},null,512),[[vModelText,s.botForm.level_3]])]),createBaseVNode("div",_hoisted_128$5,[_hoisted_129$5,withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[22]||(t[22]=c=>s.botForm.cashback_fire_period=c),id:"cashback-fired-period"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.cashback_fire_periods,c=>(openBlock(),createElementBlock("option",{value:c.value},toDisplayString(c.title||"Не указано"),9,_hoisted_130$4))),256))],512),[[vModelSelect,s.botForm.cashback_fire_period]])]),s.botForm.cashback_fire_period>0?(openBlock(),createElementBlock("div",_hoisted_131$4,[_hoisted_132$3,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень сгорания CashBack","onUpdate:modelValue":t[23]||(t[23]=c=>s.botForm.cashback_fire_percent=c),min:"0",max:"100","aria-describedby":"cashback-fired-level"},null,512),[[vModelText,s.botForm.cashback_fire_percent]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_133$3,[createBaseVNode("div",_hoisted_134$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[24]||(t[24]=c=>s.need_cashback_config=c),type:"checkbox",id:"need-cashback-config"},null,512),[[vModelCheckbox,s.need_cashback_config]]),_hoisted_135$3])]),s.need_cashback_config?(openBlock(),createElementBlock("div",_hoisted_136$3,[_hoisted_137$3,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.cashback_config,(c,m)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+m},[createBaseVNode("div",_hoisted_138$3,[_hoisted_139$3,createBaseVNode("button",{type:"button",onClick:p=>r.removeCashBackConfig(m),class:"btn btn-link text-danger"},_hoisted_142$3,8,_hoisted_140$3)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название категории","aria-label":"Название категории",maxlength:"255","onUpdate:modelValue":p=>s.botForm.cashback_config[m].title=p,"aria-describedby":"bot-cashback-config-"+m,required:""},null,8,_hoisted_143$3),[[vModelText,s.botForm.cashback_config[m].title]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=c=>r.addCashBackConfig()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще категорию "),_hoisted_144$3])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_145$3,[createBaseVNode("div",_hoisted_146$3,[_hoisted_147$3,withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[26]||(t[26]=c=>s.selected_warning=c),onChange:t[27]||(t[27]=(...c)=>r.addWarning&&r.addWarning(...c)),id:"warning-rules"},[_hoisted_148$3,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filteredWarnings,c=>(openBlock(),createElementBlock("option",{value:c},toDisplayString(c.title),9,_hoisted_149$3))),256))],544),[[vModelSelect,s.selected_warning]])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.warnings,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_150$3,[createBaseVNode("p",_hoisted_151$3,toDisplayString(r.getWarning(c.rule_key).title||"Не найдено"),1),createBaseVNode("div",_hoisted_152$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":p=>s.botForm.warnings[m].is_active=p,type:"checkbox",id:"warning-is-active-"+m},null,8,_hoisted_153$3),[[vModelCheckbox,s.botForm.warnings[m].is_active]]),createBaseVNode("label",{class:"form-check-label",for:"warning-is-active-"+m},[s.botForm.warnings[m].is_active?(openBlock(),createElementBlock("span",_hoisted_155$3,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_156$3,"Выкл"))],8,_hoisted_154$3)]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control mb-2",placeholder:"Значение","onUpdate:modelValue":p=>s.botForm.warnings[m].rule_value=p,min:"0","aria-describedby":"bot-level-3"},null,8,_hoisted_157$3),[[vModelText,s.botForm.warnings[m].rule_value]]),createBaseVNode("button",{onClick:p=>r.removeWarning(m),type:"button",class:"btn btn-outline-danger"},_hoisted_160$3,8,_hoisted_158$3),_hoisted_161$3]))),256))]),createBaseVNode("div",_hoisted_162$3,[createBaseVNode("div",_hoisted_163$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[28]||(t[28]=c=>s.need_payments=c),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,s.need_payments]]),_hoisted_164$3])]),s.need_payments?(openBlock(),createElementBlock("div",_hoisted_165$2,[createBaseVNode("div",_hoisted_166$2,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",value:s.botForm.auto_cashback_on_payments,"onUpdate:modelValue":t[29]||(t[29]=c=>s.botForm.auto_cashback_on_payments=c),id:"bot-auto-cashback-on-payments"},null,8,_hoisted_167$2),[[vModelCheckbox,s.botForm.auto_cashback_on_payments]]),_hoisted_168$2]),createBaseVNode("div",_hoisted_169$2,[createBaseVNode("label",_hoisted_170$1,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_172$1]),default:withCtx(()=>[_hoisted_171$1]),_:1}),createTextVNode(" Токен платежной системы ")]),_hoisted_173$1]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"уровень CashBack","onUpdate:modelValue":t[30]||(t[30]=c=>s.botForm.payment_provider_token=c),"aria-describedby":"bot-level-3"},null,512),[[vModelText,s.botForm.payment_provider_token]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_174$1,[createBaseVNode("div",_hoisted_175$1,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[31]||(t[31]=c=>s.need_shop=c),type:"checkbox",id:"need-shop"},null,512),[[vModelCheckbox,s.need_shop]]),_hoisted_176$1])]),s.need_shop?(openBlock(),createElementBlock("div",_hoisted_177$1,[createBaseVNode("label",_hoisted_178$1,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_180$1]),default:withCtx(()=>[_hoisted_179$1]),_:1}),createTextVNode(" ВК-группа ")]),_hoisted_181$1]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":t[32]||(t[32]=c=>s.botForm.vk_shop_link=c),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,s.botForm.vk_shop_link]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_182$1,[createBaseVNode("label",_hoisted_183$1,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_185$1]),default:withCtx(()=>[_hoisted_184$1]),_:1}),createTextVNode(" ВК-группа ")])]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на внешний сервис","aria-label":"Ссылка на внешний сервис","onUpdate:modelValue":t[33]||(t[33]=c=>s.botForm.callback_link=c),"aria-describedby":"callback_link"},null,512),[[vModelText,s.botForm.callback_link]])]),_hoisted_186$1,createBaseVNode("div",_hoisted_187$1,[createBaseVNode("label",_hoisted_188$1,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_190$1]),default:withCtx(()=>[_hoisted_189$1]),_:1}),createTextVNode(" Информационная ссылка ")]),_hoisted_191$1]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Ссылка ресурс telegraph","aria-label":"Ссылка ресурс telegraph",maxlength:"255","onUpdate:modelValue":t[34]||(t[34]=c=>s.botForm.info_link=c),"aria-describedby":"bot-info-link"},null,512),[[vModelText,s.botForm.info_link]])]),_hoisted_192$1,_hoisted_193$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.social_links,(c,m)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+m},[createBaseVNode("div",_hoisted_194$1,[_hoisted_195$1,createBaseVNode("button",{type:"button",onClick:p=>r.removeItem("social_links",m),class:"btn btn-link text-danger"},_hoisted_198$1,8,_hoisted_196$1)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название ссылки","aria-label":"Название ссылки",maxlength:"255","onUpdate:modelValue":p=>s.botForm.social_links[m].title=p,"aria-describedby":"bot-social-link-"+m,required:""},null,8,_hoisted_199$1),[[vModelText,s.botForm.social_links[m].title]]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":p=>s.botForm.social_links[m].url=p},null,8,_hoisted_200$1),[[vModelText,s.botForm.social_links[m].url]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[35]||(t[35]=c=>r.addSocialLinks()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_201,createBaseVNode("h6",_hoisted_202,[createTextVNode("Аватар для бота "),createVNode(n,null,{content:withCtx(()=>[_hoisted_204]),default:withCtx(()=>[_hoisted_203]),_:1})]),createBaseVNode("div",_hoisted_205,[createBaseVNode("label",_hoisted_206,[_hoisted_207,createBaseVNode("input",{type:"file",id:"bot-photos",multiple:"",accept:"image/*",onChange:t[36]||(t[36]=(...c)=>r.onChangePhotos&&r.onChangePhotos(...c)),style:{display:"none"}},null,32)]),s.botForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.botForm.photos,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_208,[withDirectives(createBaseVNode("img",null,null,512),[[l,r.getPhoto(c).imageUrl]]),createBaseVNode("div",_hoisted_209,[createBaseVNode("a",{onClick:p=>r.removePhoto(m)},_hoisted_212,8,_hoisted_210)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_213,[withDirectives(createBaseVNode("img",null,null,512),[[l,"/images-by-bot-id/"+s.bot.id+"/"+s.botForm.image]]),createBaseVNode("div",_hoisted_214,[createBaseVNode("a",{onClick:t[37]||(t[37]=c=>r.removePhoto())},_hoisted_216)])]))]),createBaseVNode("button",{disabled:!s.botForm.bot_token,type:"submit",class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить настройки ",8,_hoisted_217)])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_218,_hoisted_221))],32)],64)}const AdminBotManager=_export_sfc(_sfc_main$36,[["render",_sfc_render$16]]),BotManager$1=Object.freeze(Object.defineProperty({__proto__:null,default:AdminBotManager},Symbol.toStringTag,{value:"Module"})),BotSlugListSimple_vue_vue_type_style_index_0_lang$1="",_hoisted_1$32=createBaseVNode("h6",null,"Добавление нового скрипта в бота",-1),_hoisted_2$2Z={key:0,class:"list-group list-boxes"},_hoisted_3$2S=["onClick"],_hoisted_4$2K={class:"font-12 slug-span"},_hoisted_5$2G={class:"slug-strong"},_hoisted_6$2E={key:0,class:"color-green1-dark"},_hoisted_7$2w={key:1,class:"fa-solid fa-globe color-green1-dark"},_hoisted_8$2r={key:2,class:"color-blue2-dark"},_hoisted_9$2n={key:3,class:"fa-solid fa-thumbtack color-blue2-dark"},_hoisted_10$2d={key:1,class:"alert alert-danger",role:"alert"},_hoisted_11$28={class:"mb-3"},__default__$1Z={props:["global"],data(){return{load:!1,paginate:null,search:null,slugs:[]}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs?this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",a=o.command||"",i=o.comment||"";return a.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1}):[]}},mounted(){this.loadSlugs()},methods:{nextSlugs(o){this.loadSlugs(o)},selectSlug(o){this.$emit("callback",{id:o.id||null,slug:o.slug,comment:o.comment,command:o.command}),this.$botNotification.notification("Скрипты","Вы выбрали скрипт из списка!")},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.global||!1},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})}}},_sfc_main$35=Object.assign(__default__$1Z,{__name:"BotSlugListSimple",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$32,createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mt-1 mb-1","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),placeholder:"Поиск нужного скрипта по описанию"},null,512),[[vModelText,t.search]])]),t.filteredSlugs.length>0?(openBlock(),createElementBlock("div",_hoisted_2$2Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredSlugs,(i,s)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:r=>t.selectSlug(i),class:normalizeClass([{"border-green1-dark":i.is_global,"border-blue2-dark":!i.is_global},"border rounded-s shadow-xs"])},[createBaseVNode("span",_hoisted_4$2K," #"+toDisplayString(i.id)+" "+toDisplayString(i.command||"Нет команды"),1),createBaseVNode("strong",_hoisted_5$2G,toDisplayString(i.comment||"Нет описания"),1),i.is_global?(openBlock(),createElementBlock("u",_hoisted_6$2E,"Глобальный")):createCommentVNode("",!0),i.is_global?(openBlock(),createElementBlock("i",_hoisted_7$2w)):createCommentVNode("",!0),i.is_global?createCommentVNode("",!0):(openBlock(),createElementBlock("u",_hoisted_8$2r,"Локальный")),i.is_global?createCommentVNode("",!0):(openBlock(),createElementBlock("i",_hoisted_9$2n))],10,_hoisted_3$2S))),256))])):(openBlock(),createElementBlock("div",_hoisted_10$2d,' У Вас еще нет добавленных скриптов! Воспользуйтесь разделом "Скрипты" для добавления. ')),createBaseVNode("div",_hoisted_11$28,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])],64))}}),_hoisted_1$31={key:0},_hoisted_2$2Y={class:"mb-2"},_hoisted_3$2R={key:0,class:"list-group list-boxes"},_hoisted_4$2J=["onClick"],_hoisted_5$2F={key:1,class:"alert alert-warning",role:"alert"},__default__$1Y={data(){return{loading:!0,dialogs:[],search:null,dialogs_paginate_object:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"])},mounted(){this.loadDialogs()},methods:{selectDialog(o){this.$emit("select-dialog",o),this.$botNotification.notification("Диалоги","Вы выбрали диалог из списка!")},nextDialogs(o){this.loadDialogs(o)},loadDialogs(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialogs=this.getDialogs,this.dialogs_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$34=Object.assign(__default__$1Y,{__name:"BotDialogGroupListSimple",setup(o){return(t,a)=>t.dialogs.length>0?(openBlock(),createElementBlock("div",_hoisted_1$31,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.dialogs,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_2$2Y,[createBaseVNode("h6",null," #"+toDisplayString(i.id)+" - "+toDisplayString(i.title||"Не указано ")+" ("+toDisplayString(i.slug||"Не указано")+")",1),i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("div",_hoisted_3$2R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(r,n)=>(openBlock(),createElementBlock("div",{onClick:l=>t.selectDialog(r),class:"border border-green1-dark rounded-s shadow-xs p-3 mb-2"}," #"+toDisplayString(r.id)+" "+toDisplayString(r.pre_text||"-"),9,_hoisted_4$2J))),256))])):createCommentVNode("",!0)]))),256)),t.dialogs_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextDialogs,pagination:t.dialogs_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5$2F," У выбранного бота нет созданных диалоговых групп "))}}),_hoisted_1$30=createBaseVNode("div",{class:"alert alert-success",role:"alert"},' Проверка правил идет по методу "И" - все правила должны выполняться для перехода на данную страницу, иначе будет вызвана страница из блока "иначе". Действия для "иначе" добавлять не обязательно. ',-1),_hoisted_2$2X=createBaseVNode("h6",null,"Блок условий",-1),_hoisted_3$2Q={key:0,class:"py-2"},_hoisted_4$2I={class:"form-label",id:"bot-domain"},_hoisted_5$2E=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_6$2D=createBaseVNode("div",null,"Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие будет выполнено ",-1),_hoisted_7$2v={class:"list-group list-custom-small list-icon-0 bg-green1-dark pl-3 pr-4"},_hoisted_8$2q=createBaseVNode("i",{class:"fa-solid font-14 fa-scale-balanced"},null,-1),_hoisted_9$2m=createBaseVNode("span",{class:"font-14 color-white"},"Доступные для выбора условия",-1),_hoisted_10$2c=createBaseVNode("i",{class:"fa fa-angle-down"},null,-1),_hoisted_11$27=[_hoisted_8$2q,_hoisted_9$2m,_hoisted_10$2c],_hoisted_12$24={key:1},_hoisted_13$1$={key:2,class:"list-group"},_hoisted_14$1V={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_15$1U={class:"form-check"},_hoisted_16$1S={class:"form-check-label",for:"bot-user-is-vip"},_hoisted_17$1K={key:0},_hoisted_18$1F={key:1},_hoisted_19$1A=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_20$1x=[_hoisted_19$1A],_hoisted_21$1t={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_22$1t={class:"form-check"},_hoisted_23$1s={class:"form-check-label",for:"bot-user-is-admin"},_hoisted_24$1o={key:0},_hoisted_25$1i={key:1},_hoisted_26$1e=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_27$1a=[_hoisted_26$1e],_hoisted_28$18={key:2,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_29$14={class:"form-check"},_hoisted_30$12={class:"form-check-label",for:"bot-user-is-deliveryman"},_hoisted_31$10={key:0},_hoisted_32$Z={key:1},_hoisted_33$Z=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_34$X=[_hoisted_33$Z],_hoisted_35$U={key:3,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_36$S={class:"form-check"},_hoisted_37$Q={class:"form-check-label",for:"bot-user-is-work"},_hoisted_38$O={key:0},_hoisted_39$O={key:1},_hoisted_40$J=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_41$J=[_hoisted_40$J],_hoisted_42$J={key:4,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_43$J={class:"form-check"},_hoisted_44$J={class:"form-check-label",for:"bot-user-in-location"},_hoisted_45$J={key:0},_hoisted_46$I={key:1},_hoisted_47$F=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_48$F=[_hoisted_47$F],_hoisted_49$D={key:5,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_50$C=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Возраст от ",-1),_hoisted_51$A=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_52$A=[_hoisted_51$A],_hoisted_53$z={key:6,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_54$z=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Только для города ",-1),_hoisted_55$w=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_56$v=[_hoisted_55$w],_hoisted_57$u={key:7,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_58$s={class:"form-check"},_hoisted_59$s={class:"form-check-label",for:"bot-user-sex"},_hoisted_60$r={key:0},_hoisted_61$q={key:1},_hoisted_62$o=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_63$o=[_hoisted_62$o],_hoisted_64$m={key:8,class:"list-group-item"},_hoisted_65$m={class:"mb-3"},_hoisted_66$m={class:"d-flex justify-content-between align-items-center"},_hoisted_67$m={class:"form-label d-flex w-100 align-items-center",id:"bot-order-channel"},_hoisted_68$m=["onClick"],_hoisted_69$m=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_70$m=[_hoisted_69$m],_hoisted_71$m=["onUpdate:modelValue"],_hoisted_72$k={key:3,class:"mt-5"},_hoisted_73$k={key:4,class:"d-flex justify-content-between"},_hoisted_74$j={key:6,class:"py-2"},_hoisted_75$j={class:"form-label",id:"bot-domain"},_hoisted_76$h=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_77$h=createBaseVNode("div",null,'Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие не будет выполнено и будет вызван блок "иначе" ',-1),__default__$1X={props:["bot","rulesForm"],mounted(){window.addEventListener("select-rule-event",o=>{this.addRulesFromEvent(o.detail.rule)})},methods:{hasRuleKey(o){return this.rulesForm.rules_if==null?!1:Object.keys(this.rulesForm.rules_if.bot_user).find(t=>t===o)!=null},modifyChannel(o){this.rulesForm.rules_if.channels[o.param]=o.text},removeChannelFromRule(o){this.rulesForm.rules_if.channels.splice(o,1),this.checkRules()},checkRules(){const o=Object.getOwnPropertyNames(this.rulesForm.rules_if.bot_user),t=this.rulesForm.rules_if.channels;o.length===0&&t.length===0&&(this.rulesForm.rules_if=null)},removeRule(o){delete this.rulesForm.rules_if.bot_user[o],this.checkRules()},addRulesFromEvent(o){this.rulesForm.rules_if||(this.rulesForm.rules_if={bot_user:{},channels:[]}),o.rules_block==="bot_user"&&(this.rulesForm.rules_if.bot_user={...this.rulesForm.rules_if.bot_user,...o.rule}),o.rules_block==="channels"&&this.rulesForm.rules_if.channels.push(o.rule.channel)},attachPageToRule(o){o.id!=this.rulesForm.id?this.rulesForm.rules_else_page_id=o.id:this.$botNotification.warning("Правила страниц","Вы не можете связать данную страницу с собой")},openRulesModal(){this.$botPages.rules()}}},_sfc_main$33=Object.assign(__default__$1X,{__name:"PageRules",setup(o){return(t,a)=>{const i=resolveComponent("Popper");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$30,_hoisted_2$2X,o.rulesForm.rules_if?(openBlock(),createElementBlock("div",_hoisted_3$2Q,[createBaseVNode("label",_hoisted_4$2I,[createVNode(i,null,{content:withCtx(()=>[_hoisted_6$2D]),default:withCtx(()=>[_hoisted_5$2E]),_:1}),createTextVNode(" Сообщение при успешном прохождении условий (не обязательно) ")]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":a[0]||(a[0]=s=>o.rulesForm.rules_if_message=s),maxlength:"255","aria-describedby":"rules-else-message"},`
            `,512),[[vModelText,o.rulesForm.rules_if_message]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$2v,[createBaseVNode("a",{onClick:a[1]||(a[1]=(...s)=>t.openRulesModal&&t.openRulesModal(...s)),href:"javascript:void(0)"},_hoisted_11$27)]),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_12$24,"Выбранные условия")):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("ul",_hoisted_13$1$,[t.hasRuleKey("is_vip")?(openBlock(),createElementBlock("li",_hoisted_14$1V,[createBaseVNode("div",_hoisted_15$1U,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=s=>o.rulesForm.rules_if.bot_user.is_vip=s),type:"checkbox",id:"bot-user-is-vip"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_vip]]),createBaseVNode("label",_hoisted_16$1S,[o.rulesForm.rules_if.bot_user.is_vip?(openBlock(),createElementBlock("span",_hoisted_17$1K,"Является VIP-пользователем")):(openBlock(),createElementBlock("span",_hoisted_18$1F,"Не является VIP-пользователем"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[3]||(a[3]=s=>t.removeRule("is_vip"))},_hoisted_20$1x)])):createCommentVNode("",!0),t.hasRuleKey("is_admin")?(openBlock(),createElementBlock("li",_hoisted_21$1t,[createBaseVNode("div",_hoisted_22$1t,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[4]||(a[4]=s=>o.rulesForm.rules_if.bot_user.is_admin=s),type:"checkbox",id:"bot-user-is-admin"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_admin]]),createBaseVNode("label",_hoisted_23$1s,[o.rulesForm.rules_if.bot_user.is_admin?(openBlock(),createElementBlock("span",_hoisted_24$1o,"Является администратором")):(openBlock(),createElementBlock("span",_hoisted_25$1i,"Не является администратором"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[5]||(a[5]=s=>t.removeRule("is_admin"))},_hoisted_27$1a)])):createCommentVNode("",!0),t.hasRuleKey("is_deliveryman")?(openBlock(),createElementBlock("li",_hoisted_28$18,[createBaseVNode("div",_hoisted_29$14,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[6]||(a[6]=s=>o.rulesForm.rules_if.bot_user.is_deliveryman=s),type:"checkbox",id:"bot-user-is-deliveryman"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_deliveryman]]),createBaseVNode("label",_hoisted_30$12,[o.rulesForm.rules_if.bot_user.is_deliveryman?(openBlock(),createElementBlock("span",_hoisted_31$10,"Является доставщиком")):(openBlock(),createElementBlock("span",_hoisted_32$Z,"Не является доставщиком"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[7]||(a[7]=s=>t.removeRule("is_deliveryman"))},_hoisted_34$X)])):createCommentVNode("",!0),t.hasRuleKey("is_work")?(openBlock(),createElementBlock("li",_hoisted_35$U,[createBaseVNode("div",_hoisted_36$S,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[8]||(a[8]=s=>o.rulesForm.rules_if.bot_user.is_work=s),type:"checkbox",id:"bot-user-is-work"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_work]]),createBaseVNode("label",_hoisted_37$Q,[o.rulesForm.rules_if.bot_user.is_work?(openBlock(),createElementBlock("span",_hoisted_38$O,"За работой")):(openBlock(),createElementBlock("span",_hoisted_39$O,"Не работает"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[9]||(a[9]=s=>t.removeRule("is_work"))},_hoisted_41$J)])):createCommentVNode("",!0),t.hasRuleKey("user_in_location")?(openBlock(),createElementBlock("li",_hoisted_42$J,[createBaseVNode("div",_hoisted_43$J,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[10]||(a[10]=s=>o.rulesForm.rules_if.bot_user.user_in_location=s),type:"checkbox",id:"bot-user-in-location"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.user_in_location]]),createBaseVNode("label",_hoisted_44$J,[o.rulesForm.rules_if.bot_user.user_in_location?(openBlock(),createElementBlock("span",_hoisted_45$J,"Находится в заведении")):(openBlock(),createElementBlock("span",_hoisted_46$I,"Не находится в заведении"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[11]||(a[11]=s=>t.removeRule("user_in_location"))},_hoisted_48$F)])):createCommentVNode("",!0),t.hasRuleKey("age")?(openBlock(),createElementBlock("li",_hoisted_49$D,[createBaseVNode("div",null,[_hoisted_50$C,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Возраст от","aria-label":"Возраст от","onUpdate:modelValue":a[12]||(a[12]=s=>o.rulesForm.rules_if.bot_user.age=s),maxlength:"255","aria-describedby":"bot-user-age"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.age]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[13]||(a[13]=s=>t.removeRule("age"))},_hoisted_52$A)])):createCommentVNode("",!0),t.hasRuleKey("city")?(openBlock(),createElementBlock("li",_hoisted_53$z,[createBaseVNode("div",null,[_hoisted_54$z,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Город","aria-label":"Город","onUpdate:modelValue":a[14]||(a[14]=s=>o.rulesForm.rules_if.bot_user.city=s),maxlength:"255","aria-describedby":"bot-user-city"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.city]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[15]||(a[15]=s=>t.removeRule("city"))},_hoisted_56$v)])):createCommentVNode("",!0),t.hasRuleKey("sex")?(openBlock(),createElementBlock("li",_hoisted_57$u,[createBaseVNode("div",_hoisted_58$s,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[16]||(a[16]=s=>o.rulesForm.rules_if.bot_user.sex=s),type:"checkbox",id:"bot-user-sex"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.sex]]),createBaseVNode("label",_hoisted_59$s,[o.rulesForm.rules_if.bot_user.sex?(openBlock(),createElementBlock("span",_hoisted_60$r,"Только для мужчин")):(openBlock(),createElementBlock("span",_hoisted_61$q,"Только для женщин"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[17]||(a[17]=s=>t.removeRule("sex"))},_hoisted_63$o)])):createCommentVNode("",!0),o.rulesForm.rules_if.channels.length>0?(openBlock(),createElementBlock("li",_hoisted_64$m,[createTextVNode("Проверка нахождения в канале \\ группе: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.rulesForm.rules_if.channels,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_65$m,[createBaseVNode("div",_hoisted_66$m,[createBaseVNode("label",_hoisted_67$m,[createVNode(TelegramChannelHelper,{token:o.bot.bot_token,param:`${r}`,onCallback:t.modifyChannel},null,8,["token","param","onCallback"]),createTextVNode(" Канал для проверки ")]),createBaseVNode("button",{type:"button",class:"btn btn-link text-danger",onClick:n=>t.removeChannelFromRule(r)},_hoisted_70$m,8,_hoisted_68$m)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":n=>o.rulesForm.rules_if.channels[r]=n,maxlength:"255","aria-describedby":"bot-order-channel"},null,8,_hoisted_71$m),[[vModelText,o.rulesForm.rules_if.channels[r]]])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_72$k,"Иначе")):createCommentVNode("",!0),o.rulesForm.rules_else_page_id?(openBlock(),createElementBlock("p",_hoisted_73$k,[createTextVNode("Вы выбрали страницу #"+toDisplayString(o.rulesForm.rules_else_page_id)+' в качестве условия "иначе" ',1),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[18]||(a[18]=s=>o.rulesForm.rules_else_page_id=null)},"Очистить")])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createBlock(_sfc_main$3s,{key:5,current:o.rulesForm.id,onCallback:t.attachPageToRule,editor:!1},null,8,["current","onCallback"])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("div",_hoisted_74$j,[createBaseVNode("label",_hoisted_75$j,[createVNode(i,null,{content:withCtx(()=>[_hoisted_77$h]),default:withCtx(()=>[_hoisted_76$h]),_:1}),createTextVNode(" Сообщение в случае невыполнения условий (не обязательно) ")]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":a[19]||(a[19]=s=>o.rulesForm.rules_else_message=s),maxlength:"255","aria-describedby":"rules-else-message"},`
            `,512),[[vModelText,o.rulesForm.rules_else_message]])])):createCommentVNode("",!0)],64)}}}),_hoisted_1$2$={class:"card card-style"},_hoisted_2$2W={class:"content mb-0"},_hoisted_3$2P=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_4$2H={key:1,class:"w-100 d-flex justify-content-between py-4"},_hoisted_5$2D={key:0,class:"ml-1"},_hoisted_6$2C={key:1,class:"ml-1"},_hoisted_7$2u={class:"custom-control ios-switch mr-5"},_hoisted_8$2p=createBaseVNode("label",{class:"custom-control-label",for:"need_show_qr_and_link"},null,-1),_hoisted_9$2l={key:2,class:"mb-2"},_hoisted_10$2b={class:"d-flex justify-content-center"},_hoisted_11$26={style:{width:"300px",height:"300px"}},_hoisted_12$23={class:"mb-2"},_hoisted_13$1_={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_14$1U=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_15$1T=createBaseVNode("div",null,[createTextVNode(" Команда должна начинаться с символва . и *"),createBaseVNode("br"),createTextVNode(" Например: .*Меню"),createBaseVNode("br")],-1),_hoisted_16$1R=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_17$1J=createBaseVNode("div",null,"Нужно ",-1),_hoisted_18$1E={class:"mb-2"},_hoisted_19$1z={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_20$1w=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_21$1s=createBaseVNode("div",null,"Напишите для себя пояснение для чего нужна данная страница. Это поможет другим менеджерам лучше понять Вас. ",-1),_hoisted_22$1s=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_23$1r=createBaseVNode("div",null,"Нужно ",-1),_hoisted_24$1n={class:"mb-2"},_hoisted_25$1h={class:"form-check"},_hoisted_26$1d=createBaseVNode("label",{class:"form-check-label",for:"is_external"}," Внешнее управление страницей ",-1),_hoisted_27$19={key:3},_hoisted_28$17={class:"mb-2"},_hoisted_29$13={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_30$11=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_31$$=createBaseVNode("div",null,[createTextVNode(" Текстовый редактор. Данный текст будет в таком"),createBaseVNode("br"),createTextVNode(" же виде отображен в посте в телеграм. ")],-1),_hoisted_32$Y=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_33$Y=createBaseVNode("div",null,"Нужно ",-1),_hoisted_34$W={class:"form-floating"},_hoisted_35$T={for:"floatingTextarea2"},_hoisted_36$R={key:0},_hoisted_37$P={class:"mb-2"},_hoisted_38$N={class:"form-check"},_hoisted_39$N=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_40$I={key:0,class:"mb-2"},_hoisted_41$I=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_42$I={class:"d-flex flex-wrap justify-content-center"},_hoisted_43$I={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_44$I={class:"mb-2 mr-2 img-preview"},_hoisted_45$I={class:"remove"},_hoisted_46$H=["onClick"],_hoisted_47$E={key:0},_hoisted_48$E={key:1,class:"d-flex flex-wrap justify-content-center"},_hoisted_49$C={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_50$B={class:"remove"},_hoisted_51$z=["onClick"],_hoisted_52$z={class:"mb-2"},_hoisted_53$y={class:"form-check"},_hoisted_54$y=createBaseVNode("label",{class:"form-check-label",for:"need-page-video"}," Видео к странице ",-1),_hoisted_55$v={key:1,class:"mb-2"},_hoisted_56$u=createBaseVNode("p",{class:"alert alert-danger mb-2 rounded-s"}," Внимание! не больше 10 видео на 1й странице! ",-1),_hoisted_57$t={class:"mb-2"},_hoisted_58$r={class:"form-check"},_hoisted_59$r=createBaseVNode("label",{class:"form-check-label",for:"need-page-sticker"}," Стикер к странице ",-1),_hoisted_60$q={key:2,class:"mb-2"},_hoisted_61$p={class:"mb-2"},_hoisted_62$n={class:"form-check"},_hoisted_63$n=createBaseVNode("label",{class:"form-check-label",for:"need-reply-menu"}," Нижнее меню страницы ",-1),_hoisted_64$l={class:"mb-2"},_hoisted_65$l={class:"form-check"},_hoisted_66$l=createBaseVNode("label",{class:"form-check-label",for:"need-page-audio"}," Звук к странице ",-1),_hoisted_67$l={key:3,class:"mb-2"},_hoisted_68$l=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 аудио (audio) на 1й странице! Или 1 голосовое (voice) ",-1),_hoisted_69$l={class:"mb-2"},_hoisted_70$l={class:"form-check"},_hoisted_71$l=createBaseVNode("label",{class:"form-check-label",for:"need-page-document"}," Документ \\ презентацию к странице \\ картинку в оригинале ",-1),_hoisted_72$j={key:4,class:"mb-2"},_hoisted_73$j=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 документов на 1й странице! ",-1),_hoisted_74$i={key:5,class:"mb-2"},_hoisted_75$i=createBaseVNode("h6",null,"Конструктор нижнего меню",-1),_hoisted_76$g={class:"mb-2"},_hoisted_77$g={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_78$f=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_79$f=createBaseVNode("div",null," Заголовок для отображения в нижнем меню ",-1),_hoisted_80$f={key:0},_hoisted_81$f={key:1},_hoisted_82$f={class:"mb-2"},_hoisted_83$e={class:"form-check"},_hoisted_84$d=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_85$c={key:6,class:"mb-2"},_hoisted_86$c=createBaseVNode("h6",null,"Конструктор меню в сообщении",-1),_hoisted_87$c={key:0},_hoisted_88$c={key:1},_hoisted_89$c={class:"mb-2"},_hoisted_90$c={class:"form-check"},_hoisted_91$c=createBaseVNode("label",{class:"form-check-label",for:"need-page-attach"}," Связать с другой страницей ",-1),_hoisted_92$c={key:7,class:"mb-2"},_hoisted_93$c={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_94$c=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_95$c=[_hoisted_94$c],_hoisted_96$a={class:"mb-2"},_hoisted_97$a={class:"form-check"},_hoisted_98$a=createBaseVNode("label",{class:"form-check-label",for:"need-slug-attach"}," Привязать скрипт ",-1),_hoisted_99$a={key:8,class:"mb-2"},_hoisted_100$a={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_101$a=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_102$a=[_hoisted_101$a],_hoisted_103$a={class:"mb-2"},_hoisted_104$9={class:"form-check"},_hoisted_105$9=createBaseVNode("label",{class:"form-check-label",for:"need-dialog-attach"}," Привязать начало диалога ",-1),_hoisted_106$8={key:9,class:"mb-2"},_hoisted_107$8={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_108$8=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_109$8=[_hoisted_108$8],_hoisted_110$7={class:"mb-2"},_hoisted_111$6={class:"form-check"},_hoisted_112$6=createBaseVNode("label",{class:"form-check-label",for:"need-rules"}," Нужны правила загрузки страницы ",-1),_hoisted_113$6={key:4,class:"mb-2"},_hoisted_114$6=createBaseVNode("button",{class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-3 w-100"},"Сохранить страницу ",-1),__default__$1W={props:["page"],data(){return{need_show_qr_and_link:!1,need_clean:!1,load:!1,photos:[],showReplyTemplateSelector:!1,showInlineTemplateSelector:!1,need_page_sticker:!1,need_page_audios:!1,need_page_documents:!1,need_page_video:!1,need_page_images:!1,need_rules:!1,need_inline_menu:!1,need_reply_menu:!1,need_attach_page:!1,need_attach_dialog:!1,need_attach_slug:!1,bot:null,pageForm:{id:null,content:"",command:null,slug:null,comment:null,sticker:null,images:[],videos:[],audios:[],documents:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,next_page_id:null,next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if:null,rules_else_page_id:null,rules_if_message:null,rules_else_message:null}}},watch:{need_rules:function(o,t){this.need_rules||(this.pageForm.rules_if=null,this.pageForm.rules_else_page_id=null,this.pageForm.rules_if_message=null,this.pageForm.rules_else_message=null)},need_page_audios:function(o,t){this.need_page_audios||(this.pageForm.audios=[])},need_page_documents:function(o,t){this.need_page_documents||(this.pageForm.documents=[])},need_page_sticker:function(o,t){this.need_page_sticker||(this.pageForm.sticker=null)},need_page_images:function(o,t){this.need_page_images||(this.photos=[],this.pageForm.images=[])},need_page_video:function(o,t){this.need_page_video||(this.pageForm.videos=[])},need_inline_menu:function(o,t){this.need_inline_menu||(this.pageForm.inline_keyboard=null,this.pageForm.inline_keyboard_id=null)},need_reply_menu:function(o,t){this.need_reply_menu||(this.pageForm.reply_keyboard=null,this.pageForm.reply_keyboard_id=null)},need_attach_page:function(o,t){this.need_attach_page||(this.pageForm.next_page_id=null)},need_attach_dialog:function(o,t){this.need_attach_dialog||(this.pageForm.next_bot_dialog_command_id=null)},need_attach_slug:function(o,t){this.need_attach_slug||(this.pageForm.next_bot_menu_slug_id=null)},pageForm:{handler:function(o){this.pageForm.reply_keyboard!=null&&(this.need_reply_menu=!0),this.pageForm.inline_keyboard!=null&&(this.need_inline_menu=!0),this.pageForm.images.length>0&&(this.need_page_images=!0),this.pageForm.next_bot_dialog_command_id!=null&&(this.need_attach_dialog=!0),this.pageForm.next_bot_menu_slug_id!=null&&(this.need_attach_slug=!0),this.pageForm.next_page_id!=null&&(this.need_attach_page=!0),this.pageForm.rules_if!=null&&(this.need_rules=!0),this.pageForm.videos.length>0&&(this.need_page_video=!0),this.pageForm.audios.length>0&&(this.need_page_audios=!0),this.pageForm.documents.length>0&&(this.need_page_documents=!0),this.pageForm.sticker&&(this.need_page_sticker=!0),this.need_clean=!0},deep:!0}},computed:{currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},pageLink(){if(!this.pageForm.id)return"Ссылка недоступна";let o="";for(let t=0;t<10-(""+this.pageForm.id).length;t++)o+="0";return o+=this.pageForm.id,"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("004"+o)}},mounted(){if(this.loadBot(),this.page){let o=this.page;this.photos=[],this.pageForm={id:o.id,slug_id:o.slug?o.slug.id:null,content:o.content,command:o.slug?o.slug.command:null,slug:o.slug?o.slug.slug:null,comment:o.slug?o.slug.comment:null,images:o.images||[],reply_keyboard_title:o.reply_keyboard_title||null,reply_keyboard_id:o.reply_keyboard_id||null,inline_keyboard_id:o.inline_keyboard_id||null,reply_keyboard:o.replyKeyboard||null,inline_keyboard:o.inlineKeyboard||null,next_page_id:o.next_page_id||null,next_bot_dialog_command_id:o.next_bot_dialog_command_id||null,next_bot_menu_slug_id:o.next_bot_menu_slug_id||null,is_external:o.is_external||!1,videos:o.videos||[],audios:o.audios||[],sticker:o.sticker||null,documents:o.documents||[],rules_if:o.rules_if||null,rules_else_page_id:o.rules_else_page_id||null,rules_if_message:o.rules_if_message||null,rules_else_message:o.rules_else_message||null}}else this.clearForm()},methods:{copyToClipBoard(o){navigator.clipboard.writeText(o).then(()=>{this.$botNotification.notification("Конструктор страниц","Ссылка скопирована в буфер")}).catch(t=>{this.$botNotification.warning("Копирование","Ошибка копирования")})},loadBot(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},associateDialog(o){this.pageForm.next_bot_dialog_command_id=o.id},associateSlug(o){this.pageForm.next_bot_menu_slug_id=o.id},attachPage(o){o.id!=this.pageForm.id?this.pageForm.next_page_id=o.id:this.$botNotification.warning("Конструктор страниц","Вы не можете связать данную страницу с собой")},injectContent(o){this.pageForm.content?this.pageForm.content+=o.text:this.pageForm.content=o.text},clearForm(){this.photos=[],this.pageForm={id:null,content:null,command:null,slug:null,comment:null,sticker:null,images:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,reply_keyboard_id:null,inline_keyboard_id:null,next_page_id:null,videos:[],audios:[],documents:[],next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if_message:null,rules_else_message:null},this.photos=[],this.showReplyTemplateSelector=!1,this.showInlineTemplateSelector=!1,this.need_page_sticker=!1,this.need_page_video=!1,this.need_page_images=!1,this.need_inline_menu=!1,this.need_reply_menu=!1,this.need_attach_page=!1,this.need_attach_dialog=!1,this.need_attach_slug=!1,this.need_rules=!1,this.need_page_audios=!1,this.need_page_documents=!1,this.$nextTick(()=>{this.need_clean=!1})},submitPage(){let o=new FormData;if(Object.keys(this.pageForm).forEach(t=>{const a=this.pageForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch(this.pageForm.id==null?"createPage":"updatePage",{pageForm:o}).then(t=>{this.load=!0,this.$nextTick(()=>{this.load=!1,this.clearForm()}),this.$emit("callback",t.data),this.$botNotification.success("Конструктор страниц",this.pageForm.id==null?"Страница успешно создана!":"Страница успешно обновлена!")}).catch(t=>{})},saveInlineKeyboard(o){this.pageForm.inline_keyboard=o},selectReplyKeyboard(o){this.pageForm.reply_keyboard=o,this.showReplyTemplateSelector=!1},selectInlineKeyboard(o){this.pageForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},saveReplyKeyboard(o){this.pageForm.reply_keyboard=o},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.pageForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},onChange(o){this.pageForm.content=o},selectVideo(o){this.pageForm.videos||(this.pageForm.videos=[]);let t=this.pageForm.videos.indexOf(o.file_id);t!==-1?this.pageForm.videos.splice(t,1):this.pageForm.videos.push(o.file_id)},selectAudio(o){this.pageForm.audios||(this.pageForm.audios=[]);let t=this.pageForm.audios.indexOf(o.file_id);if(o.type==="voice"){if(t!==-1){this.pageForm.audios.splice(t,1);return}this.pageForm.audios=[o.file_id];return}t!==-1?this.pageForm.audios.splice(t,1):this.pageForm.audios.push(o.file_id)},selectSticker(o){this.pageForm.sticker=o.file_id},selectDocument(o){this.pageForm.documents||(this.pageForm.documents=[]);let t=this.pageForm.documents.indexOf(o.file_id);t!==-1?this.pageForm.documents.splice(t,1):this.pageForm.documents.push(o.file_id)}}},_sfc_main$32=Object.assign(__default__$1W,{__name:"Page",setup(o){return(t,a)=>{const i=resolveComponent("Popper"),s=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$2$,[createBaseVNode("div",_hoisted_2$2W,[t.bot?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[25]||(a[25]=withModifiers((...r)=>t.submitPage&&t.submitPage(...r),["prevent"]))},[t.pageForm.id||t.need_clean?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"w-100 text-center d-block",onClick:a[0]||(a[0]=(...r)=>t.clearForm&&t.clearForm(...r))},[_hoisted_3$2P,createTextVNode(" Очистить форму")])):createCommentVNode("",!0),t.pageForm.id?(openBlock(),createElementBlock("div",_hoisted_4$2H,[t.need_show_qr_and_link?(openBlock(),createElementBlock("span",_hoisted_5$2D,"Отобразить QR-код и ссылку на страницу")):(openBlock(),createElementBlock("span",_hoisted_6$2C,"Не отображать QR-код и ссылку на страницу")),createBaseVNode("div",_hoisted_7$2u,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=r=>t.need_show_qr_and_link=r),class:"ios-input",id:"need_show_qr_and_link"},null,512),[[vModelCheckbox,t.need_show_qr_and_link]]),_hoisted_8$2p])])):createCommentVNode("",!0),t.pageForm.id&&t.need_show_qr_and_link?(openBlock(),createElementBlock("div",_hoisted_9$2l,[createBaseVNode("p",null,[createTextVNode("Ссылка на текущую страницу: "),createBaseVNode("span",{class:"font-weight-bold",onClick:a[2]||(a[2]=r=>t.copyToClipBoard(t.pageLink))},toDisplayString(t.pageLink),1)]),createBaseVNode("div",_hoisted_10$2b,[withDirectives(createBaseVNode("img",_hoisted_11$26,null,512),[[s,t.qr]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$23,[createBaseVNode("label",_hoisted_13$1_,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_15$1T]),default:withCtx(()=>[_hoisted_14$1U]),_:1}),createTextVNode(" Команда ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_17$1J]),default:withCtx(()=>[_hoisted_16$1R]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":a[3]||(a[3]=r=>t.pageForm.command=r),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.pageForm.command]])]),createBaseVNode("div",_hoisted_18$1E,[createBaseVNode("label",_hoisted_19$1z,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_21$1s]),default:withCtx(()=>[_hoisted_20$1w]),_:1}),createTextVNode(" Описание страницы ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_23$1r]),default:withCtx(()=>[_hoisted_22$1s]),_:1})]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Описание страницы","aria-label":"Описание страницы","onUpdate:modelValue":a[4]||(a[4]=r=>t.pageForm.comment=r),maxlength:"255","aria-describedby":"bot-domain",required:""},`
            `,512),[[vModelText,t.pageForm.comment]])]),createBaseVNode("div",_hoisted_24$1n,[createBaseVNode("div",_hoisted_25$1h,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[5]||(a[5]=r=>t.pageForm.is_external=r),type:"checkbox",id:"is_external"},null,512),[[vModelCheckbox,t.pageForm.is_external]]),_hoisted_26$1d])]),t.pageForm.is_external?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_27$19,[createBaseVNode("div",_hoisted_28$17,[createBaseVNode("label",_hoisted_29$13,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_31$$]),default:withCtx(()=>[_hoisted_30$11]),_:1}),createTextVNode(" Контент ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_33$Y]),default:withCtx(()=>[_hoisted_32$Y]),_:1})]),createBaseVNode("div",_hoisted_34$W,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.pageForm.content=r),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"}},null,512),[[vModelText,t.pageForm.content]]),createBaseVNode("label",_hoisted_35$T,[createTextVNode("Содержимое страницы "),t.pageForm.content?(openBlock(),createElementBlock("span",_hoisted_36$R,toDisplayString(t.pageForm.content.length)+"/4096 ",1)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_37$P,[createBaseVNode("div",_hoisted_38$N,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[7]||(a[7]=r=>t.need_page_images=r),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_39$N])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_40$I,[_hoisted_41$I,createBaseVNode("div",_hoisted_42$I,[createBaseVNode("label",_hoisted_43$I,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:a[8]||(a[8]=(...r)=>t.onChangePhotos&&t.onChangePhotos(...r)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_44$I,[withDirectives(createBaseVNode("img",null,null,512),[[s,t.getPhoto(r).imageUrl]]),createBaseVNode("div",_hoisted_45$I,[createBaseVNode("a",{href:"javascript:void(0)",onClick:l=>t.removePhoto(n)},"Удалить",8,_hoisted_46$H)])]))),256)):createCommentVNode("",!0)]),t.pageForm.images.length>0?(openBlock(),createElementBlock("h6",_hoisted_47$E,"Ранее загруженные фотографии")):createCommentVNode("",!0),t.pageForm.images.length>0?(openBlock(),createElementBlock("div",_hoisted_48$E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pageForm.images,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_49$C,[withDirectives(createBaseVNode("img",null,null,512),[[s,"/images-by-bot-id/"+t.bot.id+"/"+r]]),createBaseVNode("div",_hoisted_50$B,[createBaseVNode("a",{href:"javascript:void(0)",onClick:l=>t.removeImage(n)},"Удалить",8,_hoisted_51$z)])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_52$z,[createBaseVNode("div",_hoisted_53$y,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[9]||(a[9]=r=>t.need_page_video=r),type:"checkbox",id:"need-page-video"},null,512),[[vModelCheckbox,t.need_page_video]]),_hoisted_54$y])]),t.need_page_video?(openBlock(),createElementBlock("div",_hoisted_55$v,[_hoisted_56$u,createVNode(_sfc_main$4h,{"need-video":!0,"need-video-note":!0,selected:t.pageForm.videos,onSelect:t.selectVideo},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_57$t,[createBaseVNode("div",_hoisted_58$r,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[10]||(a[10]=r=>t.need_page_sticker=r),type:"checkbox",id:"need-page-sticker"},null,512),[[vModelCheckbox,t.need_page_sticker]]),_hoisted_59$r])]),t.need_page_sticker?(openBlock(),createElementBlock("div",_hoisted_60$q,[createVNode(_sfc_main$4h,{"need-sticker":!0,selected:[t.pageForm.sticker],onSelect:t.selectSticker},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_61$p,[createBaseVNode("div",_hoisted_62$n,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[11]||(a[11]=r=>t.need_reply_menu=r),type:"checkbox",id:"need-reply-menu"},null,512),[[vModelCheckbox,t.need_reply_menu]]),_hoisted_63$n])]),createBaseVNode("div",_hoisted_64$l,[createBaseVNode("div",_hoisted_65$l,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[12]||(a[12]=r=>t.need_page_audios=r),type:"checkbox",id:"need-page-audio"},null,512),[[vModelCheckbox,t.need_page_audios]]),_hoisted_66$l])]),t.need_page_audios?(openBlock(),createElementBlock("div",_hoisted_67$l,[_hoisted_68$l,createVNode(_sfc_main$4h,{"need-audio":!0,selected:t.pageForm.audios,onSelect:t.selectAudio},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_69$l,[createBaseVNode("div",_hoisted_70$l,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[13]||(a[13]=r=>t.need_page_documents=r),type:"checkbox",id:"need-page-document"},null,512),[[vModelCheckbox,t.need_page_documents]]),_hoisted_71$l])]),t.need_page_documents?(openBlock(),createElementBlock("div",_hoisted_72$j,[_hoisted_73$j,createVNode(_sfc_main$4h,{"need-document":!0,selected:t.pageForm.documents,onSelect:t.selectDocument},null,8,["selected","onSelect"])])):createCommentVNode("",!0),t.need_reply_menu?(openBlock(),createElementBlock("div",_hoisted_74$i,[_hoisted_75$i,createBaseVNode("div",_hoisted_76$g,[createBaseVNode("label",_hoisted_77$g,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_79$f]),default:withCtx(()=>[_hoisted_78$f]),_:1}),createTextVNode(" Команда ")])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Заголовок нижнего меню","aria-label":"Заголовок нижнего меню","onUpdate:modelValue":a[14]||(a[14]=r=>t.pageForm.reply_keyboard_title=r),maxlength:"255","aria-describedby":"bot-domain"},null,512),[[vModelText,t.pageForm.reply_keyboard_title]])]),createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showReplyTemplateSelector,"btn-primary":t.showReplyTemplateSelector}]),type:"button",onClick:a[15]||(a[15]=r=>t.showReplyTemplateSelector=!t.showReplyTemplateSelector)},[t.showReplyTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_81$f," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_80$f," Открыть шаблоны меню"))],2),t.showReplyTemplateSelector?(openBlock(),createBlock(_sfc_main$3l,{key:0,class:"mb-2",type:"reply",onSelect:t.selectReplyKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"reply",onSave:t.saveReplyKeyboard,"edited-keyboard":t.pageForm.reply_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_82$f,[createBaseVNode("div",_hoisted_83$e,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[16]||(a[16]=r=>t.need_inline_menu=r),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_84$d])]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_85$c,[_hoisted_86$c,createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:a[17]||(a[17]=r=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_88$c," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_87$c," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$3l,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.pageForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_89$c,[createBaseVNode("div",_hoisted_90$c,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[18]||(a[18]=r=>t.need_attach_page=r),type:"checkbox",id:"need-page-attach"},null,512),[[vModelCheckbox,t.need_attach_page]]),_hoisted_91$c])]),t.need_attach_page?(openBlock(),createElementBlock("div",_hoisted_92$c,[t.pageForm.next_page_id?(openBlock(),createElementBlock("p",_hoisted_93$c,[createTextVNode("Связано со страницей #"+toDisplayString(t.pageForm.next_page_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:a[19]||(a[19]=r=>t.pageForm.next_page_id=null)},_hoisted_95$c)])):createCommentVNode("",!0),createVNode(_sfc_main$3s,{current:t.pageForm.id,onCallback:t.attachPage,editor:!1},null,8,["current","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_96$a,[createBaseVNode("div",_hoisted_97$a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[20]||(a[20]=r=>t.need_attach_slug=r),type:"checkbox",id:"need-slug-attach"},null,512),[[vModelCheckbox,t.need_attach_slug]]),_hoisted_98$a])]),t.need_attach_slug?(openBlock(),createElementBlock("div",_hoisted_99$a,[t.pageForm.next_bot_menu_slug_id?(openBlock(),createElementBlock("p",_hoisted_100$a,[createTextVNode("Связано со скриптом #"+toDisplayString(t.pageForm.next_bot_menu_slug_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:a[21]||(a[21]=r=>t.pageForm.next_bot_menu_slug_id=null)},_hoisted_102$a)])):createCommentVNode("",!0),createVNode(_sfc_main$35,{global:!0,onCallback:t.associateSlug},null,8,["onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_103$a,[createBaseVNode("div",_hoisted_104$9,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[22]||(a[22]=r=>t.need_attach_dialog=r),type:"checkbox",id:"need-dialog-attach"},null,512),[[vModelCheckbox,t.need_attach_dialog]]),_hoisted_105$9])]),t.need_attach_dialog?(openBlock(),createElementBlock("div",_hoisted_106$8,[t.pageForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("p",_hoisted_107$8,[createTextVNode(" Связано с диалогом #"+toDisplayString(t.pageForm.next_bot_dialog_command_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:a[23]||(a[23]=r=>t.pageForm.next_bot_dialog_command_id=null)},_hoisted_109$8)])):createCommentVNode("",!0),createVNode(_sfc_main$34,{onSelectDialog:t.associateDialog},null,8,["onSelectDialog"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_110$7,[createBaseVNode("div",_hoisted_111$6,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[24]||(a[24]=r=>t.need_rules=r),type:"checkbox",id:"need-rules"},null,512),[[vModelCheckbox,t.need_rules]]),_hoisted_112$6])])])),t.need_rules?(openBlock(),createElementBlock("div",_hoisted_113$6,[createVNode(_sfc_main$33,{bot:t.bot,"rules-form":t.pageForm},null,8,["bot","rules-form"])])):createCommentVNode("",!0),_hoisted_114$6],32)):createCommentVNode("",!0)])])}}}),_hoisted_1$2_={class:"card card-style"},_hoisted_2$2V={class:"content mb-0"},__default__$1V={data(){return{page:null,loadPage:!1,loadPageList:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},pageListCallback(o){this.loadPage=!0,this.page=o,this.$nextTick(()=>{this.loadPage=!1})},pageCallback(o){this.loadPageList=!0,this.$nextTick(()=>{this.loadPageList=!1})}}},_sfc_main$31=Object.assign(__default__$1V,{__name:"Pages",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2_,[createBaseVNode("div",_hoisted_2$2V,[t.loadPageList?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$3s,{key:0,editor:!0,onCallback:t.pageListCallback},null,8,["onCallback"]))])]),t.loadPage?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$32,{key:0,page:t.page,onCallback:t.pageCallback},null,8,["page","onCallback"]))],64))}}),Pages$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$31},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2Z={key:0,class:"list-group list-custom-large d-flex flex-wrap"},_hoisted_2$2U={class:"w-100"},_hoisted_3$2O=["onClick"],_hoisted_4$2G=createBaseVNode("i",{class:"font-14 fa-solid fa-scroll rounded-xl shadow-xl bg-blue2-dark"},null,-1),_hoisted_5$2C={style:{"line-height":"100%","padding-top":"10px","padding-right":"51px"}},_hoisted_6$2B={class:"badge bg-red2-dark font-8"},_hoisted_7$2t=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_8$2o={class:"mb-3"},_hoisted_9$2k=createBaseVNode("div",{class:"border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 my-3"},[createBaseVNode("p",null," Вы можете добавить данный скрипт изменив сразу название команды на нужное непосредственно ВАМ! Меняется только название. ")],-1),_hoisted_10$2a=["disabled"],_hoisted_11$25={key:2,class:"mb-2"},_hoisted_12$22=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," К сожалению еще нет глобальных скриптов ",-1),_hoisted_13$1Z=[_hoisted_12$22],__default__$1U={props:["canAdd","bot"],data(){return{search:null,slugs:[],slugs_paginate_object:null,slugForm:{command:null,comment:null,slug:null,config:[],is_global:!0,bot_id:null}}},computed:{...mapGetters(["getGlobalSlugs","getGlobalSlugsPaginateObject"]),filteredAllSlugs(){return this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",a=o.command||"",i=o.comment||"";return a.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1})}},mounted(){this.loadAllSlugs()},methods:{loadAllSlugs(o=0){this.$store.dispatch("loadGlobalSlugs",{dataObject:{search:this.search||null,needGlobal:!0},page:o}).then(t=>{this.slugs=this.getGlobalSlugs,this.slugs_paginate_object=this.getGlobalSlugsPaginateObject})},removeSlug(o){this.$store.dispatch("removeSlug",{dataObject:{slugId:o.id}}).then(t=>{this.$botNotification.notification("Команды","Команда успешно удалена"),this.loadAllSlugs()}).catch(t=>{this.loadAllSlugs()})},nextSlugs(o){this.loadAllSlugs(o)},selectSlug(o){this.slugForm.id=o.id||null,this.slugForm.slug=o.slug,this.slugForm.comment=o.comment,this.slugForm.command=this.command||o.command,this.slugForm.config=o.config||[],this.slugForm.is_global=o.is_global||!1,this.$emit("select",o)},addSlug(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const a=this.slugForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("createSlug",{slugForm:o}).then(t=>{this.$botNotification.notification("Конструктор команд","Команда успешно обновлена"),this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0,this.$emit("callback")}).catch(t=>{})}}},_sfc_main$30=Object.assign(__default__$1U,{__name:"GlobalSlugList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("div",_hoisted_1$2Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredAllSlugs,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_2$2U,[i?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:r=>t.selectSlug(i),class:"d-block w-100",style:{"min-height":"70px"}},[_hoisted_4$2G,createBaseVNode("span",_hoisted_5$2C,toDisplayString(i.command||"Не указана"),1),createBaseVNode("strong",null,toDisplayString(i.slug),1),createBaseVNode("span",_hoisted_6$2B,"#"+toDisplayString(i.id),1),_hoisted_7$2t],8,_hoisted_3$2O)):createCommentVNode("",!0),t.slugForm.id==i.id&&t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[1]||(a[1]=withModifiers((...r)=>t.addSlug&&t.addSlug(...r),["prevent"])),class:"mb-0 d-flex flex-wrap"},[createBaseVNode("div",_hoisted_8$2o,[_hoisted_9$2k,withDirectives(createBaseVNode("input",{type:"text",class:"form-control w-100",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":a[0]||(a[0]=r=>t.slugForm.command=r),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.slugForm.command]])]),createBaseVNode("button",{disabled:t.slugForm.slug==null,class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green1-dark w-100 p-3"},"Добавить скрипт в бота ",8,_hoisted_10$2a)],32)):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0),t.slugs_paginate_object?(openBlock(),createBlock(Pagination,{key:1,onPagination_page:t.nextSlugs,pagination:t.slugs_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_11$25,_hoisted_13$1Z))],64))}}),_hoisted_1$2Y={class:"form-floating mb-2"},_hoisted_2$2T=createBaseVNode("label",{for:"floatingInput"},"Команда",-1),_hoisted_3$2N={class:"form-floating mb-2"},_hoisted_4$2F=createBaseVNode("label",{for:"floatingInput"},"Описание скрипта",-1),_hoisted_5$2B=createBaseVNode("h6",null," Параметры скрипта ",-1),_hoisted_6$2A={class:"mb-2"},_hoisted_7$2s=["onClick"],_hoisted_8$2n=createBaseVNode("hr",null,null,-1),_hoisted_9$2j={key:0},_hoisted_10$29={class:"mb-1"},_hoisted_11$24=["onClick"],_hoisted_12$21=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_13$1Y=[_hoisted_12$21],_hoisted_14$1T=["onClick"],_hoisted_15$1S=createBaseVNode("i",{class:"fa-solid fa-caret-left"},null,-1),_hoisted_16$1Q=[_hoisted_15$1S],_hoisted_17$1I=["onClick"],_hoisted_18$1D=createBaseVNode("i",{class:"fa-solid fa-caret-right"},null,-1),_hoisted_19$1y=[_hoisted_18$1D],_hoisted_20$1v={key:0,class:"form-floating mb-1"},_hoisted_21$1r=["for"],_hoisted_22$1r=["id","onUpdate:modelValue"],_hoisted_23$1q={key:1,class:"form-check mb-1 mt-2"},_hoisted_24$1m=["onUpdate:modelValue","id"],_hoisted_25$1g=["for"],_hoisted_26$1c={key:2,class:"form-floating mb-1 mt-2"},_hoisted_27$18=["for"],_hoisted_28$16=["onUpdate:modelValue","id"],_hoisted_29$12={key:3,class:"form-floating mb-1 mt-2"},_hoisted_30$10=["for"],_hoisted_31$_=["onUpdate:modelValue","id"],_hoisted_32$X={key:4,class:"form-floating mb-1 mt-2"},_hoisted_33$X=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код",-1),_hoisted_34$V={key:5,class:"form-check mb-1 mt-2"},_hoisted_35$S=["for"],_hoisted_36$Q=["onUpdate:modelValue","id"],_hoisted_37$O={key:6,class:"form-floating mb-3"},_hoisted_38$M=["for"],_hoisted_39$M=["id","onUpdate:modelValue"],_hoisted_40$H={key:7,class:"form-floating mb-3"},_hoisted_41$H=["for"],_hoisted_42$H=["id","onUpdate:modelValue"],_hoisted_43$H=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_44$H={key:1,class:"mb-2"},_hoisted_45$H=createBaseVNode("p",{class:"mb-0"},"Параметры скрипта еще не добавлены",-1),_hoisted_46$G=[_hoisted_45$H],_hoisted_47$D={class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-mint-dark w-100"},_hoisted_48$D={key:0},_hoisted_49$B={key:1},__default__$1T={components:{Vue3JsonEditor},props:["item"],data(){return{filters:[],simple:!0,configTypes:[{title:"Текстовый или числовой параметр",type:"text"},{title:"Большое текстовое поле",type:"large-text"},{title:"Канал обратной связи",type:"channel"},{title:"Логический оператор",type:"boolean"},{title:"Ссылка на изображение",type:"image"},{title:"Цвет",type:"color"},{title:"Geo",type:"geo"},{title:"Номер телефона",type:"phone"},{title:"JSON",type:"json"}],bot:null,photos:[],slugForm:{bot_id:null,id:null,command:null,comment:null,slug:null,config:[],is_global:!0}}},computed:{...mapGetters(["getCurrentBot"]),filteredConfigs(){return this.filters.length==0?this.slugForm.config:this.slugForm.config.filter(o=>this.filters.indexOf(o.type)>=0)}},mounted(){this.item&&(this.slugForm.id=this.item.id||null,this.slugForm.command=this.item.command,this.slugForm.comment=this.item.comment,this.slugForm.bot_id=this.item.bot_id,this.slugForm.slug=this.item.slug,this.slugForm.config=this.item.config||[],this.slugForm.is_global=this.item.is_global||!1)},methods:{move(o,t=0){let a=this.slugForm.config[o],i=this.slugForm.config.length||0,s=t===0?o-1>=0?o-1:i-1:o<i-1?o+1:0;this.slugForm.config[o]=this.slugForm.config[s],this.slugForm.config[s]=a},toggleFilter(o){let t=this.filters.indexOf(o);t>=0?this.filters.splice(t,1):this.filters.push(o)},addTextTo(o,t={text:null}){this.slugForm.config[o].value=t.text},submit(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const a=this.slugForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch(this.slugForm.id===null?"createSlug":"updateSlug",{slugForm:o}).then(t=>{this.$botNotification.notification("Команды","Команда успешно обновлена"),this.slugForm.id===null&&(this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0),this.$emit("callback")}).catch(t=>{})},addConfig(o){this.slugForm.config.splice(0,0,{key:null,value:null,type:o||"text"})},removeConfigItem(o){try{this.slugForm.config.splice(o,1)}catch{this.slugForm.config=[]}},selectPhoto(o,t){this.filteredConfigs[t].value=o.file_id}}},_sfc_main$2$=Object.assign(__default__$1T,{__name:"SlugForm",setup(o){return(t,a)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock("form",{id:"slugForm",onSubmit:a[2]||(a[2]=withModifiers((...s)=>t.submit&&t.submit(...s),["prevent"]))},[createBaseVNode("div",_hoisted_1$2Y,[_hoisted_2$2T,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=s=>t.slugForm.command=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.slugForm.command]])]),createBaseVNode("div",_hoisted_3$2N,[_hoisted_4$2F,withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":a[1]||(a[1]=s=>t.slugForm.comment=s),style:{"min-height":"200px"},class:"form-control font-12",id:"floatingInput",placeholder:"name@example.com",required:""},`
            `,512),[[vModelText,t.slugForm.comment]])]),_hoisted_5$2B,createBaseVNode("p",_hoisted_6$2A,[createTextVNode("Фильтры: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.configTypes,(s,r)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mb-1 bg-gray-100 cursor-pointer mr-1",{"bg-info text-white":t.filters.indexOf(s.type)>=0}]),onClick:n=>t.toggleFilter(s.type)},toDisplayString(s.type),11,_hoisted_7$2s))),256))]),_hoisted_8$2n,t.filteredConfigs.length>0?(openBlock(),createElementBlock("div",_hoisted_9$2j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredConfigs,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_10$29,[createBaseVNode("button",{onClick:n=>t.removeConfigItem(r),class:"btn btn-outline-info",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_13$1Y,8,_hoisted_11$24),createBaseVNode("button",{onClick:n=>t.move(r,0),style:{"margin-left":"5px"},class:"btn btn-outline-info",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_16$1Q,8,_hoisted_14$1T),createBaseVNode("button",{onClick:n=>t.move(r,1),style:{"margin-left":"5px"},class:"btn btn-outline-info",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_19$1y,8,_hoisted_17$1I),t.filteredConfigs[r].type==="text"||t.filteredConfigs[r].type==="channel"?(openBlock(),createElementBlock("div",_hoisted_20$1v,[createBaseVNode("label",{for:"field-input-"+r},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[r].key),1)],8,_hoisted_21$1r),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"field-input-"+r,"onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,placeholder:"name@example.com"},null,8,_hoisted_22$1r),[[vModelText,t.filteredConfigs[r].value]])])):createCommentVNode("",!0),t.filteredConfigs[r].type==="boolean"?(openBlock(),createElementBlock("div",_hoisted_23$1q,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,type:"checkbox",value:"false",id:"filtered-config-"+r+"-checkbox"},null,8,_hoisted_24$1m),[[vModelCheckbox,t.filteredConfigs[r].value]]),createBaseVNode("label",{class:"form-check-label",for:"filtered-config-"+r+"-checkbox"},[createTextVNode(toDisplayString(t.filteredConfigs[r].value?"Истина":"Ложь")+" для ",1),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[r].key),1)],8,_hoisted_25$1g)])):createCommentVNode("",!0),t.filteredConfigs[r].type==="geo"?(openBlock(),createElementBlock("div",_hoisted_26$1c,[createBaseVNode("label",{for:"filtered-config-"+r+"-geo"},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[r].key),1)],8,_hoisted_27$18),withDirectives(createBaseVNode("input",{class:"form-control",placeholder:"##.######,##.######","onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,type:"text",id:"filtered-config-"+r+"-geo"},null,8,_hoisted_28$16),[[i,"##.######,##.######"],[vModelText,t.filteredConfigs[r].value]])])):createCommentVNode("",!0),t.filteredConfigs[r].type==="phone"?(openBlock(),createElementBlock("div",_hoisted_29$12,[createBaseVNode("label",{for:"filtered-config-"+r+"-phone"},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[r].key),1)],8,_hoisted_30$10),withDirectives(createBaseVNode("input",{class:"form-control",placeholder:"+7(###)###-##-##","onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,type:"text",id:"filtered-config-"+r+"-phone"},null,8,_hoisted_31$_),[[i,"+7(###)###-##-##"],[vModelText,t.filteredConfigs[r].value]])])):createCommentVNode("",!0),t.filteredConfigs[r].type==="json"?(openBlock(),createElementBlock("div",_hoisted_32$X,[_hoisted_33$X,createVNode(unref(Vue3JsonEditor),{mode:"code",modelValue:t.filteredConfigs[r].value,"onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,"show-btns":!1,expandedOnStart:!0},null,8,["modelValue","onUpdate:modelValue"])])):createCommentVNode("",!0),t.filteredConfigs[r].type==="color"?(openBlock(),createElementBlock("div",_hoisted_34$V,[createBaseVNode("label",{for:"filtered-config-"+r+"-color"},[createBaseVNode("p",{style:normalizeStyle({color:t.filteredConfigs[r].value})},[createTextVNode("Цвет: "+toDisplayString(t.filteredConfigs[r].value)+" для ",1),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[r].key),1)],4)],8,_hoisted_35$S),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,type:"color",id:"filtered-config-"+r+"-color"},null,8,_hoisted_36$Q),[[vModelText,t.filteredConfigs[r].value]])])):createCommentVNode("",!0),t.filteredConfigs[r].type==="large-text"?(openBlock(),createElementBlock("div",_hoisted_37$O,[createBaseVNode("label",{for:"field-input-"+r},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[r].key),1)],8,_hoisted_38$M),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",id:"field-input-"+r,"onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,style:{"min-height":"200px"},placeholder:"name@example.com"},`
                            `,8,_hoisted_39$M),[[vModelText,t.filteredConfigs[r].value]])])):createCommentVNode("",!0),t.filteredConfigs[r].type==="image"?(openBlock(),createElementBlock("div",_hoisted_40$H,[createBaseVNode("label",{for:"field-input-"+r},"FileId ссылка на изображение",8,_hoisted_41$H),withDirectives(createBaseVNode("input",{class:"form-control mb-2",id:"field-input-"+r,type:"text",disabled:"true","onUpdate:modelValue":n=>t.filteredConfigs[r].value=n,placeholder:"name@example.com"},null,8,_hoisted_42$H),[[vModelText,t.filteredConfigs[r].value]]),createVNode(_sfc_main$4h,{"need-video":!1,"need-photo":!0,selected:[t.filteredConfigs[r].value],onSelect:n=>t.selectPhoto(n,r)},null,8,["selected","onSelect"])])):createCommentVNode("",!0),_hoisted_43$H]))),256))])):(openBlock(),createElementBlock("div",_hoisted_44$H,_hoisted_46$G)),createBaseVNode("button",_hoisted_47$D,[t.slugForm.id==null?(openBlock(),createElementBlock("span",_hoisted_48$D," Сохранить команду ")):(openBlock(),createElementBlock("span",_hoisted_49$B," Обновить команду "))])],32)}}}),Slug_vue_vue_type_style_index_0_lang$1="",_hoisted_1$2X={class:"btn w-100 text-left border-blue2-light p-2",type:"button"},_hoisted_2$2S={key:0,class:"fa-solid fa-chevron-up"},_hoisted_3$2M={key:1,class:"fa-solid fa-chevron-down"},_hoisted_4$2E={key:0,class:"py-2"},_hoisted_5$2A={class:"d-flex justify-content-between align-items-center"},_hoisted_6$2z={key:0,class:"fa-regular fa-pen-to-square"},_hoisted_7$2r={key:1,class:"fa-solid fa-xmark"},_hoisted_8$2m={key:0,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_9$2i={key:1,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_10$28=createBaseVNode("i",{class:"fa-solid fa-clone"},null,-1),_hoisted_11$23=[_hoisted_10$28],_hoisted_12$20=createBaseVNode("i",{class:"fa-regular fa-trash-can color-white"},null,-1),_hoisted_13$1X=[_hoisted_12$20],_hoisted_14$1S={key:1,class:"list-group list-group-numbered mt-2"},_hoisted_15$1R={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_16$1P={class:"ms-2 me-auto"},_hoisted_17$1H=createBaseVNode("div",{class:"fw-bold"},"Идентификатор",-1),_hoisted_18$1C={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_19$1x={class:"ms-2 me-auto"},_hoisted_20$1u=createBaseVNode("div",{class:"fw-bold"},"Команда",-1),_hoisted_21$1q={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_22$1q={class:"ms-2 me-auto"},_hoisted_23$1p=createBaseVNode("div",{class:"fw-bold"},"Мнемоническое имя",-1),_hoisted_24$1l={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_25$1f={class:"ms-2 me-auto"},_hoisted_26$1b=createBaseVNode("div",{class:"fw-bold"},"Пояснение",-1),_hoisted_27$17={key:0,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_28$15={class:"ms-2 me-auto"},_hoisted_29$11=createBaseVNode("div",{class:"fw-bold"},"Набор параметров скрипта",-1),_hoisted_30$$={key:1,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_31$Z=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Привязана страница")],-1),_hoisted_32$W=[_hoisted_31$Z],_hoisted_33$W={key:2,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_34$U=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Глобальный скрипт")],-1),_hoisted_35$R=[_hoisted_34$U],__default__$1S={props:["item","bot","selectMode"],data(){return{showMenu:!1,edit:!1,load:!1,simple:!0}},mounted(){},methods:{toggleMenu(){this.showMenu=!this.showMenu,this.simple=!0,this.edit=!1},switchEditor(){this.simple=!0,this.edit=!this.edit},switchSimple(){this.simple=!this.simple,this.edit=!1},selectCard(){this.$emit("select",this.item)},slugFormCallback(){this.load=!0,this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},editSlug(){this.load=!0,this.$nextTick(()=>{this.load=!1})},selectSlug(){this.load=!0,this.$emit("select",this.item),this.$nextTick(()=>{this.load=!1})},duplicateSlug(){this.load=!0,this.$store.dispatch("duplicateSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$botNotification.success("Конструктор команд","Команда успешно продублирована"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},removeSlug(){this.load=!0,this.$store.dispatch("removeSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$botNotification.success("Конструктор команд","Команда успешно удалена"),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})}}},_sfc_main$2_=Object.assign(__default__$1S,{__name:"Slug",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2X,[createBaseVNode("p",{onClick:a[0]||(a[0]=(...i)=>t.toggleMenu&&t.toggleMenu(...i)),class:"w-100 mb-0"},[t.showMenu?(openBlock(),createElementBlock("i",_hoisted_2$2S)):(openBlock(),createElementBlock("i",_hoisted_3$2M)),createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)]),t.showMenu?(openBlock(),createElementBlock("div",_hoisted_4$2E,[createBaseVNode("div",_hoisted_5$2A,[createBaseVNode("a",{onClick:a[1]||(a[1]=(...i)=>t.switchEditor&&t.switchEditor(...i)),href:"javascript:void(0)",title:"Редактировать команду",style:{width:"auto"},class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-mint-dark"},[t.edit?(openBlock(),createElementBlock("i",_hoisted_7$2r)):(openBlock(),createElementBlock("i",_hoisted_6$2z))]),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=(...i)=>t.switchSimple&&t.switchSimple(...i)),class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-mint-dark"},[t.simple?(openBlock(),createElementBlock("i",_hoisted_8$2m)):(openBlock(),createElementBlock("i",_hoisted_9$2i))]),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-mint-dark",onClick:a[3]||(a[3]=(...i)=>t.duplicateSlug&&t.duplicateSlug(...i))},_hoisted_11$23),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-red1-dark",onClick:a[4]||(a[4]=(...i)=>t.removeSlug&&t.removeSlug(...i))},_hoisted_13$1X)])])):createCommentVNode("",!0),!t.simple&&!t.edit?(openBlock(),createElementBlock("ol",_hoisted_14$1S,[createBaseVNode("li",_hoisted_15$1R,[createBaseVNode("div",_hoisted_16$1P,[_hoisted_17$1H,createTextVNode(" №"+toDisplayString(o.item.id||"Нет идентификатора"),1)])]),createBaseVNode("li",_hoisted_18$1C,[createBaseVNode("div",_hoisted_19$1x,[_hoisted_20$1u,createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)])]),createBaseVNode("li",_hoisted_21$1q,[createBaseVNode("div",_hoisted_22$1q,[_hoisted_23$1p,createTextVNode(" "+toDisplayString(o.item.slug||"Slug"),1)])]),createBaseVNode("li",_hoisted_24$1l,[createBaseVNode("div",_hoisted_25$1f,[_hoisted_26$1b,createTextVNode(" "+toDisplayString(o.item.comment||"Пояснение не указано"),1)])]),o.item.config?(openBlock(),createElementBlock("li",_hoisted_27$17,[createBaseVNode("div",_hoisted_28$15,[_hoisted_29$11,o.item.config?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(o.item.config,i=>(openBlock(),createElementBlock("p",null,[createBaseVNode("strong",null,toDisplayString(i.key||"Ключ не найден")+":",1),createTextVNode(toDisplayString(i.value||"Не указано"),1)]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),o.item.page?(openBlock(),createElementBlock("li",_hoisted_30$$,_hoisted_32$W)):createCommentVNode("",!0),o.item.is_global?(openBlock(),createElementBlock("li",_hoisted_33$W,_hoisted_35$R)):createCommentVNode("",!0)])):createCommentVNode("",!0),!t.load&&t.edit?(openBlock(),createBlock(_sfc_main$2$,{key:2,item:o.item,onCallback:t.slugFormCallback},null,8,["item","onCallback"])):createCommentVNode("",!0)]))}}),_hoisted_1$2W={key:0},_hoisted_2$2R=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_3$2L={key:1},_hoisted_4$2D=createBaseVNode("i",{class:"fa-regular fa-square-minus"},null,-1),_hoisted_5$2z={key:0,class:"mb-2"},_hoisted_6$2y={class:"form-floating mb-3"},_hoisted_7$2q=createBaseVNode("label",{for:"floatingInput"},"Быстрый поиск команды",-1),_hoisted_8$2l={class:"form-check"},_hoisted_9$2h={class:"form-check-label",for:"need_global"},_hoisted_10$27={key:0},_hoisted_11$22={key:1},_hoisted_12$1$={class:"mb-1"},_hoisted_13$1W={class:"mb-3"},_hoisted_14$1R={key:2,class:"mb-3"},_hoisted_15$1Q=createBaseVNode("div",{class:"alert alert-danger",role:"alert"}," У Вас еще нет добавленных скриптов! ",-1),_hoisted_16$1O=[_hoisted_15$1Q],__default__$1R={props:["command","bot"],data(){return{need_global:!0,show:!1,slugs:[],paginate:null,ownSearch:null,slugForm:{command:null,comment:null,slug:null}}},watch:{need_global:function(o,t){this.loadSlugs()}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs.length===0?[]:this.ownSearch==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",a=o.command||"",i=o.comment||"";return a.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||i.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||t.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1})}},mounted(){this.loadSlugs(),this.command&&this.$nextTick(()=>{this.slugForm.command=this.command})},methods:{nextSlugs(o){this.loadSlugs(o)},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.need_global},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},callbackSlugs(){this.loadSlugs()},selectSlug(o){this.$emit("select",o)},loadAllSlugs(){this.$store.dispatch("loadAllSlugs").then(o=>{this.allSlugs=o.data})},addSlug(o){}}},_sfc_main$2Z=Object.assign(__default__$1R,{__name:"BotSlugList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=i=>t.show=!t.show),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"},[t.show?(openBlock(),createElementBlock("span",_hoisted_3$2L,[_hoisted_4$2D,createTextVNode(" Свернуть форму добавления")])):(openBlock(),createElementBlock("span",_hoisted_1$2W,[_hoisted_2$2R,createTextVNode(" Добавить глобальный скрипт")]))]),t.show?(openBlock(),createElementBlock("div",_hoisted_5$2z,[o.bot?(openBlock(),createBlock(_sfc_main$30,{key:0,"can-add":!0,bot:o.bot,onCallback:t.loadSlugs},null,8,["bot","onCallback"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$2y,[_hoisted_7$2q,withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=i=>t.ownSearch=i),class:"form-control",id:"floatingInput",placeholder:"Название команды"},null,512),[[vModelText,t.ownSearch]])]),createBaseVNode("div",_hoisted_8$2l,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=i=>t.need_global=i),type:"checkbox",id:"need_global"},null,512),[[vModelCheckbox,t.need_global]]),createBaseVNode("label",_hoisted_9$2h,[t.need_global?(openBlock(),createElementBlock("span",_hoisted_10$27,"Глобальные")):(openBlock(),createElementBlock("span",_hoisted_11$22,"Локальные"))])]),t.slugs&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.filteredSlugs,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_12$1$,[createVNode(_sfc_main$2_,{item:i,bot:o.bot,onCallback:t.callbackSlugs,onSelect:t.selectSlug},null,8,["item","bot","onCallback","onSelect"])]))),256)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$1W,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)]),t.filteredSlugs.length===0?(openBlock(),createElementBlock("div",_hoisted_14$1R,_hoisted_16$1O)):createCommentVNode("",!0)],64))}}),_hoisted_1$2V={class:"card card-style"},_hoisted_2$2Q={class:"card-body"},__default__$1Q={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$2Y=Object.assign(__default__$1Q,{__name:"Slugs",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2V,[createBaseVNode("div",_hoisted_2$2Q,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$2Z,{key:0,bot:t.bot},null,8,["bot"]))])]))}}),Slugs$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2Y},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2U={key:0,class:"mb-2"},_hoisted_2$2P={class:"badge bg-success text-white"},_hoisted_3$2K=createBaseVNode("span",{class:"ml-1 mr-1"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_4$2C={key:0,class:"badge bg-primary text-white"},_hoisted_5$2y={key:1},_hoisted_6$2x={class:"form-floating mb-2"},_hoisted_7$2p=["for"],_hoisted_8$2k=["id"],_hoisted_9$2g={class:"mb-2"},_hoisted_10$26={class:"form-check"},_hoisted_11$21=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Диалог без ожидания ответа ",-1),_hoisted_12$1_={key:1,class:"form-floating mb-2"},_hoisted_13$1V=["for"],_hoisted_14$1Q=["id"],_hoisted_15$1P={key:2,class:"form-floating mb-2"},_hoisted_16$1N=["for"],_hoisted_17$1G=["id"],_hoisted_18$1B={key:3,class:"mb-2"},_hoisted_19$1w={class:"mb-2"},_hoisted_20$1t=["for"],_hoisted_21$1p=["value"],_hoisted_22$1p=["for"],_hoisted_23$1o=["id"],_hoisted_24$1k={key:4,class:"mb-2"},_hoisted_25$1e=["for"],_hoisted_26$1a=["id"],_hoisted_27$16=createBaseVNode("option",{value:null,selected:""},"Не указан",-1),_hoisted_28$14=["value"],_hoisted_29$10={class:"mb-2"},_hoisted_30$_={class:"d-flex justify-content-between"},_hoisted_31$Y=["for"],_hoisted_32$V=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_33$V=[_hoisted_32$V],_hoisted_34$T=["id"],_hoisted_35$Q={class:"mb-2"},_hoisted_36$P={class:"form-check"},_hoisted_37$N=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-image"}," В диалоге нужно изображение ",-1),_hoisted_38$L={class:"form-check"},_hoisted_39$L=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-inline"}," В диалоге нужно меню к тексту ",-1),_hoisted_40$G={class:"form-check"},_hoisted_41$G=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-reply"}," В диалоге нужно нижнее меню ",-1),_hoisted_42$G={key:5,class:"mb-2"},_hoisted_43$G=createBaseVNode("h6",null,"Фотографии к диалогу",-1),_hoisted_44$G={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_45$G={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_46$F=createBaseVNode("span",null,"+",-1),_hoisted_47$C={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_48$C={class:"remove"},_hoisted_49$A=["onClick"],_hoisted_50$A={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_51$y={class:"remove"},_hoisted_52$y=["onClick"],_hoisted_53$x={key:6,class:"mb-2"},_hoisted_54$x=createBaseVNode("h6",null,"Кнопки к вопросу",-1),_hoisted_55$u={key:7,class:"mb-2"},_hoisted_56$t=createBaseVNode("h6",null,"Кнопки нижнего меню к вопросу",-1),_hoisted_57$s={class:"mb-2"},_hoisted_58$q=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Сохранить в переменную ",-1),_hoisted_59$q=createBaseVNode("option",{selected:""},"Не выбрано",-1),_hoisted_60$p=["value"],_hoisted_61$o={class:"form-check mb-2"},_hoisted_62$m=createBaseVNode("label",{class:"form-check-label font-12",for:"need-set-flags"}," Установить флаги в соответствующее значение ",-1),_hoisted_63$m={key:8,class:"mb-2"},_hoisted_64$k=createBaseVNode("h6",{class:"my-3"},"Выберите необходимые флаги",-1),_hoisted_65$k=["onClick"],_hoisted_66$k={class:"mb-2"},_hoisted_67$k={type:"submit",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark w-100"},_hoisted_68$k={key:0},_hoisted_69$k={key:1},_hoisted_70$k={key:9,class:"divider divider-small my-3 bg-highlight"},_hoisted_71$k=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),__default__$1P={props:["item","bot"],data(){return{need_images:!1,need_inline_keyboard:!1,need_reply_keyboard:!1,need_set_flags:!1,commands:[],flags_variants:[{title:"Является VIP",key:"is_vip",value:null},{title:"Является Админом",key:"is_admin",value:null},{title:"За работой",key:"is_work",value:null},{title:"Является менеджером",key:"is_manager",value:null}],store_variants:[{title:"Имя",key:"name"},{title:"Почта",key:"email"},{title:"Возраст",key:"age"},{title:"Город",key:"city"},{title:"Страна",key:"country"},{title:"Адрес",key:"address"},{title:"Телефон",key:"phone"},{title:"День рождение",key:"birthday"}],expressions:[{expression:null,description:"Нет проверки"},{expression:"/([a-z0-9]+)/i",description:"Проверка набора из латинских букв и цифр"},{expression:"/([а-яё0-9]+)/iu",description:"Проверка на кириллицу и цифры"},{expression:"/(?P<digit>\\d+)/",description:"Проверка на число"},{expression:"/^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$/",description:"Проверка Email"},{expression:"/^((8|+7)[- ]?)?((?d{3})?[- ]?)?[d- ]{7,10}$/",description:"Проверка номера телефона"},{expression:"/^(0[1-9]|[12][0-9]|3[01])[.](0[1-9]|1[012])[.](19|20)dd$/",description:"Проверка даты по формату"},{expression:"/^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])$/",description:"Проверка даты по формату YYYY-MM-DD"},{expression:"/^(https?://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$/",description:"Проверка доменного имени"}],commandForm:{id:null,slug:null,pre_text:null,post_text:null,error_text:null,bot_id:null,input_pattern:null,inline_keyboard_id:null,reply_keyboard_id:null,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,reply_keyboard:null,is_empty:!1,result_flags:[],store_to:null},photos:[]}},computed:{...mapGetters(["getDialogs"])},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.commandForm[o.detail.param]=o.detail.channel}),this.item&&this.$nextTick(()=>{this.commandForm={id:this.item.id||null,slug:this.item.slug||null,pre_text:this.item.pre_text||null,post_text:this.item.post_text||null,error_text:this.item.error_text||null,is_empty:this.item.is_empty||!1,input_pattern:this.item.input_pattern||null,inline_keyboard_id:this.item.inline_keyboard_id||null,reply_keyboard_id:this.item.reply_keyboard_id||null,images:this.item.images||[],next_bot_dialog_command_id:this.item.next_bot_dialog_command_id||null,bot_dialog_group_id:this.item.bot_dialog_group_id||null,result_channel:this.item.result_channel||null,inline_keyboard:this.item.inline_keyboard||null,reply_keyboard:this.item.reply_keyboard||null,result_flags:this.item.result_flags||[],store_to:this.item.store_to||null},this.bot&&(this.commandForm.bot_id=this.bot.id||null),this.commandForm.inline_keyboard_id!=null&&(this.need_inline_keyboard=!0),this.commandForm.reply_keyboard_id!=null&&(this.need_reply_keyboard=!0),this.commandForm.images.length>0&&(this.need_images=!0),this.commandForm.result_flags.length>0&&(this.need_set_flags=!0)}),this.bot&&this.$nextTick(()=>{this.commandForm.bot_id=this.bot.id}),this.loadGroups()},methods:{unlinkCommand(){this.loading=!0,this.$store.dispatch("unlinkDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$botNotification.success("Команды","Диалоговая команда успешно продублирована!"),this.$emit("callback")}).catch(o=>{this.loading=!1})},removeCommand(){this.loading=!0,this.$store.dispatch("removeDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$botNotification.success("Команды","Диалоговая команда успешно удалена!"),this.$emit("callback")}).catch(o=>{this.loading=!1})},loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{simple:!0},page:o,size:100}).then(t=>{this.loading=!1,this.commands=this.getDialogs}).catch(()=>{this.loading=!1})},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},submit(){this.loading=!0;let o=new FormData;if(Object.keys(this.commandForm).forEach(t=>{const a=this.commandForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos){for(let t=0;t<this.photos.length;t++)o.append("files[]",this.photos[t]);o.delete("photos")}this.$store.dispatch(this.commandForm.id?"updateDialogCommand":"createDialogCommand",{dialogCommandForm:o}).then(t=>{this.loading=!1,this.$botNotification.success("Команды","Успешная обработка диалоговой команды!"),this.commandForm.id==null&&(this.commandForm={id:null,slug:null,pre_text:null,post_text:null,error_text:null,input_pattern:null,inline_keyboard_id:null,is_empty:!1,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,result_flags:[],store_to:null},this.photos=[]),this.$emit("callback")}).catch(t=>{this.loading=!1})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o,t){this[o].splice(t,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},saveInlineKeyboard(o){this.commandForm.inline_keyboard=o},saveReplyKeyboard(o){this.commandForm.reply_keyboard=o},addTextTo(o={param:null,text:null}){this.commandForm[o.param]=o.text},selectFlag(o){this.commandForm.result_flags||(this.commandForm.result_flags=[]);let t=this.commandForm.result_flags.indexOf(o.key);t===-1?this.commandForm.result_flags.push(o.key):this.commandForm.result_flags.splice(t,1)}}},_sfc_main$2X=Object.assign(__default__$1P,{__name:"BotDialogCommandForm",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:a[16]||(a[16]=withModifiers((...s)=>t.submit&&t.submit(...s),["prevent"]))},[t.commandForm.id?(openBlock(),createElementBlock("p",_hoisted_1$2U,[createBaseVNode("span",_hoisted_2$2P,"#"+toDisplayString(t.commandForm.id),1),_hoisted_3$2K,t.commandForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("span",_hoisted_4$2C,[createTextVNode("#"+toDisplayString(t.commandForm.next_bot_dialog_command_id||"-")+" ",1),createBaseVNode("i",{class:"ml-2 fa-solid fa-link-slash",onClick:a[0]||(a[0]=(...s)=>t.unlinkCommand&&t.unlinkCommand(...s))})])):(openBlock(),createElementBlock("span",_hoisted_5$2y,"не связан"))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$2x,[createBaseVNode("label",{for:"commandForm-pre-text-"+t.commandForm.id,class:"font-12"},"Текст диалога",8,_hoisted_7$2p),withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-pre-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":a[1]||(a[1]=s=>t.commandForm.pre_text=s),required:""},`

            `,8,_hoisted_8$2k),[[vModelText,t.commandForm.pre_text]])]),createBaseVNode("div",_hoisted_9$2g,[createBaseVNode("div",_hoisted_10$26,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=s=>t.commandForm.is_empty=s),id:"need-empty-dialog",checked:""},null,512),[[vModelCheckbox,t.commandForm.is_empty]]),_hoisted_11$21])]),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$1_,[createBaseVNode("label",{for:"commandForm-post-text-"+t.commandForm.id,class:"font-12"},"Текст после успешного завершения диалога",8,_hoisted_13$1V),withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-post-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":a[3]||(a[3]=s=>t.commandForm.post_text=s),required:""},`
            `,8,_hoisted_14$1Q),[[vModelText,t.commandForm.post_text]])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15$1P,[createBaseVNode("label",{for:"commandForm-error-text-"+t.commandForm.id,class:"font-12"},"Текст на случай ошибки корректности данных",8,_hoisted_16$1N),withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-error-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":a[4]||(a[4]=s=>t.commandForm.error_text=s),required:""},`
            `,8,_hoisted_17$1G),[[vModelText,t.commandForm.error_text]])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_18$1B,[createBaseVNode("div",_hoisted_19$1w,[createBaseVNode("label",{class:"form-label font-12",for:"commandForm-result-channel-"+t.commandForm.id},"Регулярное выражение для автоматической проверки данных ",8,_hoisted_20$1t),withDirectives(createBaseVNode("select",{id:"next-dialog-select",class:"form-select form-control font-12","onUpdate:modelValue":a[5]||(a[5]=s=>t.commandForm.input_pattern=s)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.expressions,s=>(openBlock(),createElementBlock("option",{value:s.expression},toDisplayString(s.description||"-"),9,_hoisted_21$1p))),256))],512),[[vModelSelect,t.commandForm.input_pattern]])]),createBaseVNode("label",{for:"custom-regular-expression"+t.commandForm.id,class:"font-12"},"или впишите своё",8,_hoisted_22$1p),withDirectives(createBaseVNode("input",{id:"custom-regular-expression"+t.commandForm.id,type:"text",class:"form-control",placeholder:"Регулярное выражение","aria-label":"Регулярное выражение","onUpdate:modelValue":a[6]||(a[6]=s=>t.commandForm.input_pattern=s),maxlength:"255","aria-describedby":"commandForm-input-pattern"},null,8,_hoisted_23$1o),[[vModelText,t.commandForm.input_pattern]])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_24$1k,[createBaseVNode("label",{for:"next-dialog-select"+t.commandForm.id,class:"font-12"},"Следующий диалог",8,_hoisted_25$1e),createBaseVNode("select",{id:"next-dialog-select"+t.commandForm.id,class:"form-select form-control font-12","aria-label":"Default select example"},[_hoisted_27$16,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.commands,(s,r)=>(openBlock(),createElementBlock("option",{value:s.id},"#"+toDisplayString(s.id)+" "+toDisplayString(s.pre_text||"Без текста"),9,_hoisted_28$14))),256))],8,_hoisted_26$1a)])),createBaseVNode("div",_hoisted_29$10,[createBaseVNode("div",_hoisted_30$_,[createBaseVNode("label",{class:"form-label",for:"commandForm-result-channel-"+t.commandForm.id},"Канал для отправки данных ",8,_hoisted_31$Y),createBaseVNode("span",{onClick:a[7]||(a[7]=s=>t.requestChannelId("result_channel"))},_hoisted_33$V)]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":a[8]||(a[8]=s=>t.commandForm.result_channel=s),id:"commandForm-result-channel-"+t.commandForm.id,"aria-describedby":"bot-order-channel"},null,8,_hoisted_34$T),[[vModelText,t.commandForm.result_channel]])]),createBaseVNode("div",_hoisted_35$Q,[createBaseVNode("div",_hoisted_36$P,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=s=>t.need_images=s),id:"need-dialog-image",checked:""},null,512),[[vModelCheckbox,t.need_images]]),_hoisted_37$N]),createBaseVNode("div",_hoisted_38$L,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=s=>t.need_inline_keyboard=s),id:"need-dialog-menu-inline",checked:""},null,512),[[vModelCheckbox,t.need_inline_keyboard]]),_hoisted_39$L]),createBaseVNode("div",_hoisted_40$G,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=s=>t.need_reply_keyboard=s),id:"need-dialog-menu-reply",checked:""},null,512),[[vModelCheckbox,t.need_reply_keyboard]]),_hoisted_41$G])]),t.need_images?(openBlock(),createElementBlock("div",_hoisted_42$G,[_hoisted_43$G,createBaseVNode("div",_hoisted_44$G,[createBaseVNode("label",_hoisted_45$G,[_hoisted_46$F,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:a[12]||(a[12]=(...s)=>t.onChangePhotos&&t.onChangePhotos(...s)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_47$C,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(s).imageUrl]]),createBaseVNode("div",_hoisted_48$C,[createBaseVNode("a",{onClick:n=>t.removePhoto("photos",r)},"Удалить",8,_hoisted_49$A)])]))),256)):createCommentVNode("",!0),t.commandForm.images&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.commandForm.images,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_50$A,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+o.bot.id+"/"+s]]),createBaseVNode("div",_hoisted_51$y,[createBaseVNode("a",{onClick:n=>t.removePhoto("images",r)},"Удалить",8,_hoisted_52$y)])]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.need_inline_keyboard?(openBlock(),createElementBlock("div",_hoisted_53$x,[_hoisted_54$x,createVNode(KeyboardConstructor,{onSave:t.saveInlineKeyboard,"edited-keyboard":t.commandForm.inline_keyboard},null,8,["onSave","edited-keyboard"])])):createCommentVNode("",!0),t.need_reply_keyboard?(openBlock(),createElementBlock("div",_hoisted_55$u,[_hoisted_56$t,createVNode(KeyboardConstructor,{onSave:t.saveReplyKeyboard,"edited-keyboard":t.commandForm.reply_keyboard},null,8,["onSave","edited-keyboard"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_57$s,[_hoisted_58$q,withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":a[13]||(a[13]=s=>t.commandForm.store_to=s)},[_hoisted_59$q,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.store_variants,s=>(openBlock(),createElementBlock("option",{value:s.key},toDisplayString(s.title||"Не указано"),9,_hoisted_60$p))),256))],512),[[vModelSelect,t.commandForm.store_to]])]),createBaseVNode("div",_hoisted_61$o,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[14]||(a[14]=s=>t.need_set_flags=s),id:"need-set-flags",checked:""},null,512),[[vModelCheckbox,t.need_set_flags]]),_hoisted_62$m]),t.need_set_flags?(openBlock(),createElementBlock("div",_hoisted_63$m,[_hoisted_64$k,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.flags_variants,s=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mr-2",{"bg-info text-white":t.commandForm.result_flags.indexOf(s.key)!=-1}]),onClick:r=>t.selectFlag(s)},toDisplayString(s.title),11,_hoisted_65$k))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_66$k,[createBaseVNode("button",_hoisted_67$k,[t.commandForm.id?(openBlock(),createElementBlock("span",_hoisted_68$k,"Обновить диалог")):(openBlock(),createElementBlock("span",_hoisted_69$k,"Добавить диалог"))])]),t.commandForm.id?(openBlock(),createElementBlock("div",_hoisted_70$k)):createCommentVNode("",!0),t.commandForm.id?(openBlock(),createElementBlock("a",{key:10,onClick:a[15]||(a[15]=(...s)=>t.removeCommand&&t.removeCommand(...s)),title:"Удаление команды",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},[_hoisted_71$k,createTextVNode(" Удалить диалог ")])):createCommentVNode("",!0)],32)}}}),DialogCommandCard_vue_vue_type_style_index_0_lang$1="",_hoisted_1$2T={class:"btn w-100 text-left border-blue2-light",type:"button"},_hoisted_2$2O={key:0,class:"fa-solid fa-chevron-up"},_hoisted_3$2J={key:1,class:"fa-solid fa-chevron-down"},__default__$1O={props:["item","bot"],data(){return{showMenu:!1}},methods:{selectDialog(){this.$emit("select",this.item)}}},_sfc_main$2W=Object.assign(__default__$1O,{__name:"DialogCommandCard",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2T,[createBaseVNode("p",{onClick:a[0]||(a[0]=i=>t.showMenu=!t.showMenu),class:"w-100 mb-0"},[t.showMenu?(openBlock(),createElementBlock("i",_hoisted_2$2O)):(openBlock(),createElementBlock("i",_hoisted_3$2J)),createTextVNode(" "+toDisplayString(o.item.pre_text||"Нет команды"),1)]),t.showMenu?(openBlock(),createBlock(_sfc_main$2X,{key:0,bot:o.bot,item:o.item},null,8,["bot","item"])):createCommentVNode("",!0)]))}}),_hoisted_1$2S={key:0},_hoisted_2$2N=createBaseVNode("i",{class:"fa-regular fa-comment-dots mr-2"},null,-1),_hoisted_3$2I={key:1},_hoisted_4$2B=createBaseVNode("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),_hoisted_5$2x=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_6$2w={key:1},_hoisted_7$2o={class:"mb-2"},_hoisted_8$2j={key:0},_hoisted_9$2f={class:"mb-2"},_hoisted_10$25={key:1},_hoisted_11$20={key:2,class:"row"},_hoisted_12$1Z=createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет созданных диалоговых групп ")],-1),_hoisted_13$1U=[_hoisted_12$1Z],__default__$1N={props:["bot"],data(){return{needCreate:!1,loading:!0,dialog_groups:[],search:null,link:null,group:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"]),filteredCommands(){return this.link?this.dialog_groups.find(t=>t.id===this.link.group_id).bot_dialog_commands.filter(t=>t.id!=this.link.id):[]}},mounted(){this.loadGroups()},methods:{loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialog_groups=this.getDialogs,this.dialog_groups_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2V=Object.assign(__default__$1N,{__name:"BotDialogGroupList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=i=>t.needCreate=!t.needCreate),class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark w-100"},[t.needCreate?(openBlock(),createElementBlock("span",_hoisted_3$2I,[_hoisted_4$2B,createTextVNode("Скрыть создание диалога ")])):(openBlock(),createElementBlock("span",_hoisted_1$2S,[_hoisted_2$2N,createTextVNode("Создать новый диалог ")]))]),o.bot&&t.needCreate?(openBlock(),createBlock(_sfc_main$2X,{key:0,onCallback:t.loadGroups,bot:o.bot},null,8,["onCallback","bot"])):createCommentVNode("",!0),_hoisted_5$2x,t.dialog_groups.length>0?(openBlock(),createElementBlock("div",_hoisted_6$2w,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.dialog_groups,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_7$2o,[i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("div",_hoisted_8$2j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_9$2f,[o.bot?(openBlock(),createBlock(_sfc_main$2W,{key:0,bot:o.bot,onCallback:t.loadGroups,item:r},null,8,["bot","onCallback","item"])):createCommentVNode("",!0)]))),256))])):(openBlock(),createElementBlock("p",_hoisted_10$25,"Диалоговых скриптов не найдено"))]))),256))])):(openBlock(),createElementBlock("div",_hoisted_11$20,_hoisted_13$1U))],64))}}),_hoisted_1$2R={class:"card card-style"},_hoisted_2$2M={class:"card-body"},__default__$1M={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$2U=Object.assign(__default__$1M,{__name:"Dialogs",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2R,[createBaseVNode("div",_hoisted_2$2M,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$2V,{key:0,bot:t.bot},null,8,["bot"]))])]))}}),Dialogs$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2U},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2Q={class:"card card-style"},_hoisted_2$2L={class:"card-body"},__default__$1L={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$2T=Object.assign(__default__$1L,{__name:"Keyboards",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2Q,[createBaseVNode("div",_hoisted_2$2L,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$3l,{key:0,bot:t.bot,"select-mode":!1},null,8,["bot"]))])]))}}),Keyboards=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2T},Symbol.toStringTag,{value:"Module"})),_sfc_main$2S={props:["data","bot"],components:{Vue3JsonEditor},data(){return{load:!1,custom_fields:null,fields:[{title:"Телефонный номер",field:"phone"},{title:"Ф.И.О.",field:"fio_from_telegram"},{title:"Почта",field:"email"},{title:"Дата рождения",field:"birthday"},{title:"Возраст",field:"age"},{title:"Страна",field:"country"},{title:"Адрес",field:"address"},{title:"Пол",field:"sex"},{title:"Идентификатор чата",field:"fio_from_telegram"}],hasConnect:!1,amoForm:{client_id:null,client_secret:null,auth_code:null,redirect_uri:null,subdomain:null,bot_id:null,fields:null}}},mounted(){this.data&&this.$nextTick(()=>{this.amoForm.client_id=this.data.client_id||null,this.amoForm.client_secret=this.data.client_secret||null,this.amoForm.auth_code=this.data.auth_code||null,this.amoForm.redirect_uri=this.data.redirect_uri||null,this.amoForm.subdomain=this.data.subdomain||null,this.amoForm.bot_id=this.data.bot_id||this.bot.id||null,this.amoForm.fields=this.data.fields||null})},methods:{loadAmoFields(){this.load=!0,this.custom_fields=null,this.$store.dispatch("loadAmoFields").then(o=>{this.custom_fields=o._embedded.custom_fields.contacts||null,this.$nextTick(()=>{this.load=!1}),this.$botNotification.success("Работа с AMO","Справочная информация успешно загружена")}).catch(o=>{this.$botNotification.warning("Работа с AMO","Ошибка работы со справочной информацией")})},removeField(o){this.amoForm.fields&&this.amoForm.fields.splice(o,1)},addField(){this.amoForm.fields||(this.amoForm.fields=[]),this.amoForm.fields.push({key:null,field:null,enum:null})},syncAmo(){this.$store.dispatch("syncAmo").then(o=>{this.$botNotification.success("Работа с AMO","Данные CRM успешно сохранены")}).catch(o=>{this.$botNotification.warning("Работа с AMO","Ошибка работы")})},submitAmo(){let o=new FormData;Object.keys(this.amoForm).forEach(t=>{const a=this.amoForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("saveAmoCRM",{amoForm:o}).then(t=>{this.$botNotification.success("Работа с AMO","Данные CRM успешно сохранены")}).catch(t=>{})}}},_hoisted_1$2P={class:"card card-style"},_hoisted_2$2K={class:"content mb-0"},_hoisted_3$2H=createBaseVNode("h3",null,"Настройка AMO",-1),_hoisted_4$2A=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("a",{target:"_blank",href:"https://www.amocrm.ru/developers/content/oauth/step-by-step"},"Документация для разработчика "),createTextVNode(" по шагам")],-1),_hoisted_5$2w={class:"mb-2"},_hoisted_6$2v={class:"form-label d-flex justify-content-between mt-2",id:"client_id"},_hoisted_7$2n=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_8$2i=createBaseVNode("div",null,"ID интеграции",-1),_hoisted_9$2e=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_10$24=createBaseVNode("div",null,"Нужно ",-1),_hoisted_11$1$={class:"mb-2"},_hoisted_12$1Y={class:"form-label d-flex justify-content-between mt-2",id:"client_secret"},_hoisted_13$1T=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_14$1P=createBaseVNode("div",null,"Секрет интеграции",-1),_hoisted_15$1O=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_16$1M=createBaseVNode("div",null,"Нужно ",-1),_hoisted_17$1F={class:"mb-2"},_hoisted_18$1A={class:"form-label d-flex justify-content-between mt-2",id:"auth_code"},_hoisted_19$1v=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_20$1s=createBaseVNode("div",null,"Полученный код авторизации",-1),_hoisted_21$1o=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_22$1o=createBaseVNode("div",null,"Нужно ",-1),_hoisted_23$1n={class:"mb-2"},_hoisted_24$1j={class:"form-label d-flex justify-content-between mt-2",id:"subdomain2"},_hoisted_25$1d=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_26$19=createBaseVNode("div",null,"Ваш поддомен в системе AMO CRM",-1),_hoisted_27$15=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_28$13=createBaseVNode("div",null,"Нужно ",-1),_hoisted_29$$=["disabled"],_hoisted_30$Z={class:"mb-2"},_hoisted_31$X=["id"],_hoisted_32$U=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_33$U=createBaseVNode("div",null,"Ключевое значение из справочника",-1),_hoisted_34$S=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_35$P=createBaseVNode("div",null,"Нужно ",-1),_hoisted_36$O=["onUpdate:modelValue"],_hoisted_37$M={class:"mb-2"},_hoisted_38$K=["id"],_hoisted_39$K=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_40$F=createBaseVNode("div",null,"Поле из списка для связи",-1),_hoisted_41$F=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_42$F=createBaseVNode("div",null,"Нужно ",-1),_hoisted_43$F=["onUpdate:modelValue"],_hoisted_44$F=["value"],_hoisted_45$F={class:"mb-2"},_hoisted_46$E=["id"],_hoisted_47$B=["onUpdate:modelValue"],_hoisted_48$B=["onClick"],_hoisted_49$z=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_50$z=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mt-3 mb-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-1"}),createTextVNode(" Сохранить настройку AMO ")],-1),_hoisted_51$x=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1);function _sfc_render$15(o,t,a,i,s,r){const n=resolveComponent("Popper"),l=resolveComponent("Vue3JsonEditor");return openBlock(),createElementBlock("div",_hoisted_1$2P,[createBaseVNode("div",_hoisted_2$2K,[_hoisted_3$2H,createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...c)=>r.submitAmo&&r.submitAmo(...c),["prevent"]))},[_hoisted_4$2A,createBaseVNode("div",_hoisted_5$2w,[createBaseVNode("label",_hoisted_6$2v,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_8$2i]),default:withCtx(()=>[_hoisted_7$2n]),_:1}),createTextVNode(" client_id ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_10$24]),default:withCtx(()=>[_hoisted_9$2e]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_id","aria-label":"client_id","onUpdate:modelValue":t[0]||(t[0]=c=>s.amoForm.client_id=c),"aria-describedby":"client_id",required:""},null,512),[[vModelText,s.amoForm.client_id]])]),createBaseVNode("div",_hoisted_11$1$,[createBaseVNode("label",_hoisted_12$1Y,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_14$1P]),default:withCtx(()=>[_hoisted_13$1T]),_:1}),createTextVNode(" client_secret ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_16$1M]),default:withCtx(()=>[_hoisted_15$1O]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_secret","aria-label":"client_secret","onUpdate:modelValue":t[1]||(t[1]=c=>s.amoForm.client_secret=c),"aria-describedby":"client_secret",required:""},null,512),[[vModelText,s.amoForm.client_secret]])]),createBaseVNode("div",_hoisted_17$1F,[createBaseVNode("label",_hoisted_18$1A,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_20$1s]),default:withCtx(()=>[_hoisted_19$1v]),_:1}),createTextVNode(" auth_code ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_22$1o]),default:withCtx(()=>[_hoisted_21$1o]),_:1})]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",style:{"min-height":"250px"},placeholder:"auth_code","aria-label":"auth_code","onUpdate:modelValue":t[2]||(t[2]=c=>s.amoForm.auth_code=c),"aria-describedby":"auth_code",required:""},`
                                    `,512),[[vModelText,s.amoForm.auth_code]])]),createBaseVNode("div",_hoisted_23$1n,[createBaseVNode("label",_hoisted_24$1j,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_26$19]),default:withCtx(()=>[_hoisted_25$1d]),_:1}),createTextVNode(" subdomain ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_28$13]),default:withCtx(()=>[_hoisted_27$15]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"subdomain","aria-label":"subdomain","onUpdate:modelValue":t[3]||(t[3]=c=>s.amoForm.subdomain=c),"aria-describedby":"subdomain",required:""},null,512),[[vModelText,s.amoForm.subdomain]])]),createBaseVNode("button",{type:"button",disabled:!s.amoForm.client_id||!s.amoForm.auth_code||!s.amoForm.client_secret||!s.amoForm.subdomain,onClick:t[4]||(t[4]=(...c)=>r.loadAmoFields&&r.loadAmoFields(...c)),class:"btn w-100 btn-m btn-full rounded-s mb-1 rounded-0 text-uppercase font-900 shadow-s bg-green2-dark"}," Загрузить справочную информацию ",8,_hoisted_29$$),!s.load&&s.custom_fields?(openBlock(),createBlock(l,{key:0,mode:"tree",modelValue:s.custom_fields,"onUpdate:modelValue":t[5]||(t[5]=c=>s.custom_fields=c),"show-btns":!1,expandedOnStart:!1},null,8,["modelValue"])):createCommentVNode("",!0),s.amoForm.fields?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(s.amoForm.fields,(c,m)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_30$Z,[createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-key-"+m},[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_33$U]),default:withCtx(()=>[_hoisted_32$U]),_:1}),createTextVNode(" Ключевое значение из справочника ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_35$P]),default:withCtx(()=>[_hoisted_34$S]),_:1})],8,_hoisted_31$X),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"Ключ","aria-label":"Ключ","onUpdate:modelValue":p=>s.amoForm.fields[m].key=p,"aria-describedby":"Ключ",required:""},null,8,_hoisted_36$O),[[vModelText,s.amoForm.fields[m].key]])]),createBaseVNode("div",_hoisted_37$M,[createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-field-"+m},[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_40$F]),default:withCtx(()=>[_hoisted_39$K]),_:1}),createTextVNode(" Поле из списка для связи ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_42$F]),default:withCtx(()=>[_hoisted_41$F]),_:1})],8,_hoisted_38$K),withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":p=>s.amoForm.fields[m].field=p},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.fields,p=>(openBlock(),createElementBlock("option",{value:p.field},toDisplayString(p.title||"Ошибка"),9,_hoisted_44$F))),256))],8,_hoisted_43$F),[[vModelSelect,s.amoForm.fields[m].field]])]),createBaseVNode("div",_hoisted_45$F,[createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-enum-"+m}," Перечисление (enum) из справочника ",8,_hoisted_46$E),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Перечисление","aria-label":"Перечисление","onUpdate:modelValue":p=>s.amoForm.fields[m].enum=p,"aria-describedby":"Перечисление"},null,8,_hoisted_47$B),[[vModelText,s.amoForm.fields[m].enum]])]),createBaseVNode("button",{type:"button",onClick:p=>r.removeField(m),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-red1-dark color-red1-dark bg-theme w-100"}," Удалитьс связь полей ",8,_hoisted_48$B),_hoisted_49$z]))),256)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=(...c)=>r.addField&&r.addField(...c)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить связь полей "),_hoisted_50$z],32),_hoisted_51$x,createBaseVNode("a",{href:"javascript:void(0)",onClick:t[8]||(t[8]=(...c)=>r.syncAmo&&r.syncAmo(...c)),class:"btn btn-m btn-full rounded-s mb-3 rounded-0 text-uppercase font-900 shadow-s bg-green2-dark"}," Синохрозировать ")])])}const AmoForm$1=_export_sfc(_sfc_main$2S,[["render",_sfc_render$15]]),__default__$1K={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.amo=this.bot.amo})}}},_sfc_main$2R=Object.assign(__default__$1K,{__name:"Amo",setup(o){return(t,a)=>!t.load&&t.bot?(openBlock(),createBlock(AmoForm$1,{key:0,bot:t.bot,data:t.bot.amo},null,8,["bot","data"])):createCommentVNode("",!0)}}),Amo$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2R},Symbol.toStringTag,{value:"Module"})),_sfc_main$2Q={props:["data","bot"],data(){return{load:!1,yClientsForm:{login:null,password:null,partner_token:null,company:null}}},mounted(){this.data&&this.$nextTick(()=>{this.yClientsForm.login=this.data.login||null,this.yClientsForm.password=this.data.password||null,this.yClientsForm.partner_token=this.data.partner_token||null,this.yClientsForm.company=this.data.company||null})},methods:{submitYClients(){let o=new FormData;Object.keys(this.yClientsForm).forEach(t=>{const a=this.yClientsForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("saveYClients",{yClientsForm:o}).then(t=>{this.$botNotification.success("Работа с YClients","Данные успешно сохранены")}).catch(t=>{this.$botNotification.warning("Работа с YClients","Ошибочка")})}}},_hoisted_1$2O=createBaseVNode("h3",null,"Настройка YClients",-1),_hoisted_2$2J={class:"form-floating mb-2"},_hoisted_3$2G=createBaseVNode("label",{for:"login"}," Логин ",-1),_hoisted_4$2z={class:"form-floating mb-2"},_hoisted_5$2v=createBaseVNode("label",{for:"password"}," Пароль ",-1),_hoisted_6$2u={class:"form-floating mb-2"},_hoisted_7$2m=createBaseVNode("label",{for:"partner_token"}," Партнерский тоукен ",-1),_hoisted_8$2h={class:"form-floating mb-2"},_hoisted_9$2d=createBaseVNode("label",{for:"partner_token"}," ID компании, в которую записывать клиентов ",-1),_hoisted_10$23=createBaseVNode("button",{class:"btn btn-primary w-100 p-3"}," Сохранить ",-1);function _sfc_render$14(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2O,createBaseVNode("form",{onSubmit:t[4]||(t[4]=withModifiers((...n)=>r.submitYClients&&r.submitYClients(...n),["prevent"]))},[createBaseVNode("div",_hoisted_2$2J,[withDirectives(createBaseVNode("input",{type:"text",id:"login",class:"form-control",placeholder:"Ваш логин","aria-label":"Ваш логин","onUpdate:modelValue":t[0]||(t[0]=n=>s.yClientsForm.login=n),"aria-describedby":"Ваш логин",required:""},null,512),[[vModelText,s.yClientsForm.login]]),_hoisted_3$2G]),createBaseVNode("div",_hoisted_4$2z,[withDirectives(createBaseVNode("input",{type:"text",id:"password",class:"form-control",placeholder:"Ваш пароль","aria-label":"Ваш пароль","onUpdate:modelValue":t[1]||(t[1]=n=>s.yClientsForm.password=n),"aria-describedby":"Ваш пароль",required:""},null,512),[[vModelText,s.yClientsForm.password]]),_hoisted_5$2v]),createBaseVNode("div",_hoisted_6$2u,[withDirectives(createBaseVNode("input",{type:"text",id:"partner_token",class:"form-control",placeholder:"Ваш партнерский тоукен","aria-label":"Ваш партнерский тоукен","onUpdate:modelValue":t[2]||(t[2]=n=>s.yClientsForm.partner_token=n),"aria-describedby":"Ваш партнерский тоукен",required:""},null,512),[[vModelText,s.yClientsForm.partner_token]]),_hoisted_7$2m]),createBaseVNode("div",_hoisted_8$2h,[withDirectives(createBaseVNode("input",{type:"number",id:"throttle",class:"form-control",placeholder:"ID компании","aria-label":"ID компании","onUpdate:modelValue":t[3]||(t[3]=n=>s.yClientsForm.company=n),"aria-describedby":"ID компании",required:""},null,512),[[vModelText,s.yClientsForm.company]]),_hoisted_9$2d]),_hoisted_10$23],32)],64)}const YClientsForm=_export_sfc(_sfc_main$2Q,[["render",_sfc_render$14]]),__default__$1J={data(){return{load:!1,bot:null,y_clients:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.y_clients=this.bot.y_clients})}}},_sfc_main$2P=Object.assign(__default__$1J,{__name:"YClients",setup(o){return(t,a)=>!t.load&&t.bot?(openBlock(),createBlock(YClientsForm,{key:0,bot:t.bot,data:t.bot.y_clients},null,8,["bot","data"])):createCommentVNode("",!0)}}),YClients$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2P},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2N={key:0,id:"user-profile-info"},_hoisted_2$2I={class:"card card-style bg-theme pb-0"},_hoisted_3$2F={class:"content mb-0"},_hoisted_4$2y={key:0,class:"card card-style"},_hoisted_5$2u={class:"content"},_hoisted_6$2t={class:"text-center"},_hoisted_7$2l={class:"mb-0 text-center font-weight-bold"},_hoisted_8$2g={class:"mb-0 text-center font-weight-bold"},_hoisted_9$2c={key:0},_hoisted_10$22=createBaseVNode("i",{class:"fa-solid fa-rotate mr-1 color-green2-light"},null,-1),_hoisted_11$1_={key:1},_hoisted_12$1X=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-1 color-red1-light"},null,-1),_hoisted_13$1S={class:"mb-0"},_hoisted_14$1O={class:"d-flex justify-content-around flex-wrap save-up"},_hoisted_15$1N=["onClick"],_hoisted_16$1L=["innerHTML"],_hoisted_17$1E={key:1},_hoisted_18$1z=createBaseVNode("i",{class:"fa-solid fa-question"},null,-1),_hoisted_19$1u=[_hoisted_18$1z],_hoisted_20$1r=["disabled"],_hoisted_21$1n={class:"mb-3"},_hoisted_22$1n=createBaseVNode("label",{for:"user-name",class:"form-label"},"Запросите имя пользователя",-1),_hoisted_23$1m={class:"mb-3"},_hoisted_24$1i=createBaseVNode("label",{for:"user-phone",class:"form-label"},"Запросите телефон пользователя",-1),_hoisted_25$1c=createBaseVNode("div",{class:"mb-1"},[createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Обменять бонусы ")],-1),__default__$1I={data(){return{action:null,botUser:null,loading:!1,icon:null,icon_color:null,reloadable:!1,request_telegram_chat_id:null,need_show_form:!1,userForm:{name:null,phone:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf);const o=new URLSearchParams(window.location.search),t=JSON.parse(o.get("user"));t&&(this.request_telegram_chat_id=t,this.loadActionData())},methods:{requestClick(){if(this.loading){this.$botNotification.warning("Упс!","Вы уже выполняете это действие");return}this.loading=!0,this.$store.dispatch("bonusProductCheck",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.loading=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно отметили бонус пользователю")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},exchange(){this.loading=!0,this.$store.dispatch("bonusProductExchange",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userForm}}).then(o=>{this.loading=!1,this.need_show_form=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно обменяли бонусы пользователя на приз!")}).catch(()=>{this.loading=!1,this.need_show_form=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},completeClick(){this.$botNotification.success("Отлично!","В этой ячейке уже есть отметка о бонусе:)")},loadActionData(){this.loading=!0,this.$store.dispatch("loadActionData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.action=o.action,this.icon=o.icon,this.icon_color=o.icon_color,this.reloadable=o.reloadable,this.botUser=o.action.bot_user,this.userForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.userForm.phone=this.botUser.phone||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},_sfc_main$2O=Object.assign(__default__$1I,{__name:"BonusProduct",setup(o){return(t,a)=>{const i=resolveDirective("mask");return t.request_telegram_chat_id?(openBlock(),createElementBlock("div",_hoisted_1$2N,[createBaseVNode("div",_hoisted_2$2I,[createBaseVNode("div",_hoisted_3$2F,[t.botUser?(openBlock(),createBlock(UserInfo$1,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-3"})])]),t.action?(openBlock(),createElementBlock("div",_hoisted_4$2y,[createBaseVNode("div",_hoisted_5$2u,[createBaseVNode("h6",_hoisted_6$2t,"Личная накопительная карта пользвателя #"+toDisplayString(t.action.slug_id),1),createBaseVNode("p",_hoisted_7$2l,toDisplayString(t.action.slug.command||"Не указана"),1),createBaseVNode("p",_hoisted_8$2g,[t.reloadable?(openBlock(),createElementBlock("span",_hoisted_9$2c,[_hoisted_10$22,createTextVNode("После обмена перезагружается по новой")])):(openBlock(),createElementBlock("span",_hoisted_11$1_,[_hoisted_12$1X,createTextVNode("Единоразовая акция")]))]),createBaseVNode("p",_hoisted_13$1S,toDisplayString(t.action.slug.comment||"Не указан"),1),createBaseVNode("ul",_hoisted_14$1O,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.max_attempts||10,s=>(openBlock(),createElementBlock("li",{class:normalizeClass({active:s<=t.action.current_attempts}),onClick:r=>s<=t.action.current_attempts?t.completeClick():t.requestClick()},[s<=t.action.current_attempts?(openBlock(),createElementBlock("span",{key:0,innerHTML:t.icon,style:normalizeStyle({color:t.icon_color})},null,12,_hoisted_16$1L)):(openBlock(),createElementBlock("span",_hoisted_17$1E,_hoisted_19$1u))],10,_hoisted_15$1N))),256))]),t.need_show_form?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[0]||(a[0]=withModifiers(s=>t.need_show_form=!0,["prevent"])),disabled:t.action.current_attempts!==t.action.max_attempts,class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-green2-light w-100 mb-1"}," Обменять бонусы ",8,_hoisted_20$1r)),t.need_show_form?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[3]||(a[3]=withModifiers((...s)=>t.exchange&&t.exchange(...s),["prevent"]))},[createBaseVNode("div",_hoisted_21$1n,[_hoisted_22$1n,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-name","onUpdate:modelValue":a[1]||(a[1]=s=>t.userForm.name=s),placeholder:"Имя пользователя",required:""},null,512),[[vModelText,t.userForm.name]])]),createBaseVNode("div",_hoisted_23$1m,[_hoisted_24$1i,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-phone","onUpdate:modelValue":a[2]||(a[2]=s=>t.userForm.phone=s),placeholder:"Номер телефона пользователя",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.userForm.phone]])]),_hoisted_25$1c],32)):createCommentVNode("",!0),createVNode(ReturnToBot)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),BonusProduct=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2O},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2M={key:0,id:"user-profile-info"},_hoisted_2$2H={class:"card card-style bg-theme pb-0"},_hoisted_3$2E={class:"content mb-0"},_hoisted_4$2x={key:0,class:"card card-style"},_hoisted_5$2t={class:"content"},_hoisted_6$2s={class:"text-center"},_hoisted_7$2k={class:"mb-0 text-center font-weight-bold"},_hoisted_8$2f={class:"mb-0 text-center font-weight-bold"},_hoisted_9$2b={key:0},_hoisted_10$21=createBaseVNode("i",{class:"fa-solid fa-rotate mr-1 color-green2-light"},null,-1),_hoisted_11$1Z={key:1},_hoisted_12$1W=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-1 color-red1-light"},null,-1),_hoisted_13$1R={class:"mb-0"},_hoisted_14$1N={class:"d-flex justify-content-around flex-wrap save-up"},_hoisted_15$1M=["onClick"],_hoisted_16$1K=["innerHTML"],_hoisted_17$1D={key:1},_hoisted_18$1y=createBaseVNode("i",{class:"fa-solid fa-question"},null,-1),_hoisted_19$1t=[_hoisted_18$1y],_hoisted_20$1q=["disabled"],_hoisted_21$1m={class:"mb-3"},_hoisted_22$1m=createBaseVNode("label",{for:"user-name",class:"form-label"},"Запросите имя пользователя",-1),_hoisted_23$1l={class:"mb-3"},_hoisted_24$1h=createBaseVNode("label",{for:"user-phone",class:"form-label"},"Запросите телефон пользователя",-1),_hoisted_25$1b=createBaseVNode("div",{class:"mb-1"},[createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Обменять бонусы ")],-1),__default__$1H={data(){return{action:null,botUser:null,loading:!1,icon:null,icon_color:null,reloadable:!1,request_telegram_chat_id:null,need_show_form:!1,userForm:{name:null,phone:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf);const o=new URLSearchParams(window.location.search),t=JSON.parse(o.get("user"));t&&(this.request_telegram_chat_id=t,this.loadActionData())},methods:{requestClick(){if(this.loading){this.$botNotification.warning("Упс!","Вы уже выполняете это действие");return}this.loading=!0,this.$store.dispatch("bonusProductCheck",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.loading=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно отметили бонус пользователю")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},exchange(){this.loading=!0,this.$store.dispatch("bonusProductExchange",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userForm}}).then(o=>{this.loading=!1,this.need_show_form=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно обменяли бонусы пользователя на приз!")}).catch(()=>{this.loading=!1,this.need_show_form=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},completeClick(){this.$botNotification.success("Отлично!","В этой ячейке уже есть отметка о бонусе:)")},loadActionData(){this.loading=!0,this.$store.dispatch("loadActionData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.action=o.action,this.icon=o.icon,this.icon_color=o.icon_color,this.reloadable=o.reloadable,this.botUser=o.action.bot_user,this.userForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.userForm.phone=this.botUser.phone||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},_sfc_main$2N=Object.assign(__default__$1H,{__name:"MessageToUser",setup(o){return(t,a)=>{const i=resolveDirective("mask");return t.request_telegram_chat_id?(openBlock(),createElementBlock("div",_hoisted_1$2M,[createBaseVNode("div",_hoisted_2$2H,[createBaseVNode("div",_hoisted_3$2E,[t.botUser?(openBlock(),createBlock(UserInfo$1,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-3"})])]),t.action?(openBlock(),createElementBlock("div",_hoisted_4$2x,[createBaseVNode("div",_hoisted_5$2t,[createBaseVNode("h6",_hoisted_6$2s,"Личная накопительная карта пользвателя #"+toDisplayString(t.action.slug_id),1),createBaseVNode("p",_hoisted_7$2k,toDisplayString(t.action.slug.command||"Не указана"),1),createBaseVNode("p",_hoisted_8$2f,[t.reloadable?(openBlock(),createElementBlock("span",_hoisted_9$2b,[_hoisted_10$21,createTextVNode("После обмена перезагружается по новой")])):(openBlock(),createElementBlock("span",_hoisted_11$1Z,[_hoisted_12$1W,createTextVNode("Единоразовая акция")]))]),createBaseVNode("p",_hoisted_13$1R,toDisplayString(t.action.slug.comment||"Не указан"),1),createBaseVNode("ul",_hoisted_14$1N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.max_attempts||10,s=>(openBlock(),createElementBlock("li",{class:normalizeClass({active:s<=t.action.current_attempts}),onClick:r=>s<=t.action.current_attempts?t.completeClick():t.requestClick()},[s<=t.action.current_attempts?(openBlock(),createElementBlock("span",{key:0,innerHTML:t.icon,style:normalizeStyle({color:t.icon_color})},null,12,_hoisted_16$1K)):(openBlock(),createElementBlock("span",_hoisted_17$1D,_hoisted_19$1t))],10,_hoisted_15$1M))),256))]),t.need_show_form?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[0]||(a[0]=withModifiers(s=>t.need_show_form=!0,["prevent"])),disabled:t.action.current_attempts!==t.action.max_attempts,class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-green2-light w-100 mb-1"}," Обменять бонусы ",8,_hoisted_20$1q)),t.need_show_form?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[3]||(a[3]=withModifiers((...s)=>t.exchange&&t.exchange(...s),["prevent"]))},[createBaseVNode("div",_hoisted_21$1m,[_hoisted_22$1m,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-name","onUpdate:modelValue":a[1]||(a[1]=s=>t.userForm.name=s),placeholder:"Имя пользователя",required:""},null,512),[[vModelText,t.userForm.name]])]),createBaseVNode("div",_hoisted_23$1l,[_hoisted_24$1h,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-phone","onUpdate:modelValue":a[2]||(a[2]=s=>t.userForm.phone=s),placeholder:"Номер телефона пользователя",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.userForm.phone]])]),_hoisted_25$1b],32)):createCommentVNode("",!0),createVNode(ReturnToBot)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),MessageToUser=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2N},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2L={key:0},_hoisted_2$2G={class:"d-flex flex-column mt-2"},_hoisted_3$2D={class:"d-flex my-3 w-100"},_hoisted_4$2w={class:"pt-1"},_hoisted_5$2s={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_6$2r={key:0},_hoisted_7$2j={key:1},_hoisted_8$2e={class:"ml-auto mr-4 pr-2"},_hoisted_9$2a={class:"custom-control ios-switch ios-switch-icon"},_hoisted_10$20=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),_hoisted_11$1Y=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_12$1V=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_13$1Q={key:0},_hoisted_14$1M=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_15$1L=["onClick"],_hoisted_16$1J=createBaseVNode("a",{href:"#",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_17$1C={key:1},_hoisted_18$1x=createBaseVNode("div",{class:"alert alert-warning mt-2",role:"alert"}," К сожалению мы не нашли нужных ботов... ",-1),_hoisted_19$1s=[_hoisted_18$1x],__default__$1G={props:{companyId:null,selectedBotId:null},data(){return{need_self_bots:!1,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],search:null,bots_paginate_object:null}},watch:{need_self_bots:function(){this.loadBots()}},computed:{...mapGetters(["getBots","getBotsPaginateObject","getCurrentCompany"]),filteredBots(){return this.bots?this.bots.filter(o=>o.deleted_at==null):[]}},mounted(){this.loadBots()},methods:{duplicate(o){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:o,company_id:this.getCurrentCompany.id}}).then(t=>{let a=this.bots_paginate_object.meta.current_page||0;this.loadBots(a),this.$notify("Указанный бот успешно продублирован")})},selectBot(o){this.$emit("callback",o),this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(o){this.loadBots(o)},loadBots(o=0){this.loading=!0,this.$store.dispatch("loadSimpleBots",{dataObject:{companyId:this.companyId||null,needSelfBots:this.need_self_bots,search:this.search},page:o}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2M=Object.assign(__default__$1G,{__name:"BotList",setup(o){return(t,a)=>t.show?(openBlock(),createElementBlock("div",_hoisted_1$2L,[createBaseVNode("div",_hoisted_2$2G,[withDirectives(createBaseVNode("input",{type:"search",class:"form-control mb-2",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:a[1]||(a[1]=(...i)=>t.loadBots&&t.loadBots(...i)),type:"button",id:"button-addon2"},"Найти ")]),createBaseVNode("div",_hoisted_3$2D,[createBaseVNode("div",_hoisted_4$2w,[createBaseVNode("h5",_hoisted_5$2s,[t.need_self_bots?(openBlock(),createElementBlock("strong",_hoisted_6$2r,"Все боты в системе")):createCommentVNode("",!0),t.need_self_bots?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_7$2j,"Только мои боты"))])]),createBaseVNode("div",_hoisted_8$2e,[createBaseVNode("div",_hoisted_9$2a,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=i=>t.need_self_bots=i),class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.need_self_bots]]),_hoisted_10$20,_hoisted_11$1Y,_hoisted_12$1V])])]),t.bots.length>0?(openBlock(),createElementBlock("div",_hoisted_13$1Q,[_hoisted_14$1M,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredBots,(i,s)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",class:normalizeClass(["d-flex justify-content-between align-items-center btn btn-border px-2 py-1 btn-full mb-2 rounded-xl text-uppercase font-900 bg-theme",{" border-blue2-dark color-blue2-dark":o.selectedBotId!=i.id," border-green2-dark color-green2-dark":o.selectedBotId===i.id}])},[createBaseVNode("strong",{onClick:r=>t.selectBot(i),class:"font-12 w-100 text-center",style:{"word-wrap":"break-word"}},[createBaseVNode("i",{class:normalizeClass([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),createTextVNode(toDisplayString(i.bot_domain||"Не указано"),1)],8,_hoisted_15$1L),_hoisted_16$1J],2))),256)),t.bots_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_17$1C,_hoisted_19$1s))])):createCommentVNode("",!0)}}),CompanyList_vue_vue_type_style_index_0_lang="",_hoisted_1$2K={key:0},_hoisted_2$2F=createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-1"},null,-1),_hoisted_3$2C={key:0},_hoisted_4$2v=["onClick"],_hoisted_5$2r=["onClick"],_hoisted_6$2q=createBaseVNode("i",{class:"fa-solid fa-boxes-packing"},null,-1),_hoisted_7$2i=[_hoisted_6$2q],_hoisted_8$2d=["onClick"],_hoisted_9$29=createBaseVNode("i",{class:"fa-solid fa-box-open"},null,-1),_hoisted_10$1$=[_hoisted_9$29],_hoisted_11$1X={key:1,class:"row text-center row-cols-3 mb-n4"},_hoisted_12$1U=["onClick","title"],_hoisted_13$1P=["alt"],_hoisted_14$1L={key:0,class:"company-bot-count-badge rounded-circle bg-highlight text-white"},_hoisted_15$1K={key:0,class:"col-12 mb-2"},_hoisted_16$1I={class:"col-12 mb-3"},_hoisted_17$1B={key:2,class:"alert alert-warning",role:"alert"},__default__$1F={props:["visualMode"],data(){return{selectedCompanyId:null,show:!0,loading:!0,companies:[],search:null,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],companies_paginate_object:null}},computed:{...mapGetters(["getCompanies","getCompaniesPaginateObject"]),filteredCompanies(){if(!this.companies)return[];if(this.selectedFilters.length===0&&this.search==null)return this.companies;if(this.selectedFilters.length===0&&this.search!=null)return this.companies.filter(t=>(t.title||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1);let o=[];return this.selectedFilters.forEach(t=>{switch(t.slug){case"active":this.companies.filter(a=>a.deleted_at==null).forEach(a=>{o.push(a)});break;case"archive":this.companies.filter(a=>a.deleted_at!=null).forEach(a=>{o.push(a)});break}}),this.search==null?o:o.filter(t=>(t.title||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1)}},mounted(){this.loadCompanies(),this.selectFilter("active")},methods:{addToArchive(o){this.$store.dispatch("removeManagerCompany",{companyId:o}).then(t=>{let a=this.companies_paginate_object.meta.current_page||0;this.loadCompanies(a),this.$notify("Указанный клиент успешно перемещен в архив")})},extractFromArchive(o){this.$store.dispatch("restoreCompany",{companyId:o}).then(t=>{let a=this.companies_paginate_object.meta.current_page||0;this.loadCompanies(a),this.$notify("Указанный клиент успешно перемещен из архива")})},selectFilter(o){let t=this.filters.find(i=>i.slug===o),a=this.selectedFilters.findIndex(i=>i.slug===o);t&&a===-1?this.selectedFilters.push(t):this.selectedFilters.splice(a,1)},removeSelectedFilter(o){let t=this.selectedFilters.findIndex(a=>a.slug===o);this.selectedFilters.splice(t,1)},selectCompany(o){this.selectedCompanyId=o?o.id:null,this.$emit("callback",o)},nextCompanies(o){this.loadCompanies(o)},loadCompanies(o=0){this.loading=!0,this.$store.dispatch("loadManagersCompanies",{dataObject:{search:this.search},page:o,size:12}).then(t=>{this.loading=!1,this.companies=this.getCompanies,this.companies_paginate_object=this.getCompaniesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2L=Object.assign(__default__$1F,{__name:"CompanyList",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return t.show?(openBlock(),createElementBlock("div",_hoisted_1$2K,[withDirectives(createBaseVNode("input",{type:"search",class:"form-control w-100 mb-2",placeholder:"Поиск компании","aria-label":"Поиск компании","onUpdate:modelValue":a[0]||(a[0]=s=>t.search=s),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),createBaseVNode("button",{class:"w-100 btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:a[1]||(a[1]=s=>t.loadCompanies(0)),type:"button",id:"button-addon2"},[_hoisted_2$2F,createTextVNode(" Найти ")]),t.companies.length>0&&!o.visualMode?(openBlock(),createElementBlock("div",_hoisted_3$2C,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredCompanies,(s,r)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",class:normalizeClass(["btn btn-border btn-xs btn-full mb-2 rounded-sm text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme mb-1 d-flex justify-content-between align-items-center",{"btn-outline-info":s.deleted_at==null,"btn-outline-danger border-danger":s.deleted_at!=null}])},[createBaseVNode("span",{class:normalizeClass(["mb-0",{"text-danger":s.deleted_at!=null}]),onClick:n=>t.selectCompany(s)},toDisplayString(s.title||"Не указано"),11,_hoisted_4$2v),s.deleted_at==null?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-border btn-xs btn-full rounded-xl text-uppercase font-900 border-red2-dark color-red2-dark bg-theme",type:"button",onClick:n=>t.addToArchive(s.id),title:"В архив"},_hoisted_7$2i,8,_hoisted_5$2r)):createCommentVNode("",!0),s.deleted_at!=null?(openBlock(),createElementBlock("button",{key:1,class:"btn btn-border btn-xs btn-full rounded-xl text-uppercase font-900 border-green2-dark color-green2-dark bg-theme",type:"button",onClick:n=>t.extractFromArchive(s.id),title:"Из архива"},_hoisted_10$1$,8,_hoisted_8$2d)):createCommentVNode("",!0)],2))),256)),t.companies_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextCompanies,pagination:t.companies_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.companies.length>0&&o.visualMode?(openBlock(),createElementBlock("div",_hoisted_11$1X,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companies,s=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link",href:"javascript:void(0)",onClick:r=>t.selectCompany(s),title:s.title||"Без названия"},[withDirectives(createBaseVNode("img",{class:"img-fluid rounded-xs preload-img",alt:s.title||"Не указано"},null,8,_hoisted_13$1P),[[i,"/images-by-company-id/"+s.id+"/"+s.image]]),createBaseVNode("span",{class:normalizeClass([{"company-border-select":t.selectedCompanyId==s.id},"company-image-badge"])},toDisplayString(s.title||"Без названия"),3),s.bot_count>0?(openBlock(),createElementBlock("span",_hoisted_14$1L,toDisplayString(s.bot_count||0),1)):createCommentVNode("",!0)],8,_hoisted_12$1U))),256)),t.selectedCompanyId?(openBlock(),createElementBlock("div",_hoisted_15$1K,[createBaseVNode("a",{class:"col mb-4 default-link",href:"javascript:void(0)",onClick:a[2]||(a[2]=s=>t.selectCompany(null))}," Сброс ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$1I,[t.companies_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextCompanies,pagination:t.companies_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_17$1B," Вы еще не завели ни одного клиента! "))])):createCommentVNode("",!0)}}}),BaseBotConstructor_vue_vue_type_style_index_0_lang="",_hoisted_1$2J={key:0,class:"card card-style"},_hoisted_2$2E={class:"content mb-0"},_hoisted_3$2B=createBaseVNode("h2",null,"Создание клиента",-1),_hoisted_4$2u=createBaseVNode("h6",null,"Так-с, создаем нового клиента или используем уже созданного клиента?",-1),_hoisted_5$2q=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_6$2p=createBaseVNode("h6",null,"Выбрать клиента из списка",-1),_hoisted_7$2h={key:1,class:"card card-style"},_hoisted_8$2c={class:"content mb-0"},_hoisted_9$28=createBaseVNode("h2",{class:"my-5"},"Персональная информация",-1),_hoisted_10$1_=createBaseVNode("p",{class:"mt-2 mb-2"},[createBaseVNode("span",{class:"badge bg-light text-primary p-2 mr-2"},[createBaseVNode("i",{class:"fa-regular fa-bell"})]),createTextVNode(" Напишите подробную информацию о клиенте и его фото")],-1),_hoisted_11$1W={class:"form-floating mb-2 w-100"},_hoisted_12$1T=createBaseVNode("label",{for:"form-selfInfo-name",class:"text-primary"},"Ф.И.О. клиента",-1),_hoisted_13$1O={class:"form-floating mb-2 w-100"},_hoisted_14$1K=createBaseVNode("label",{for:"form-selfInfo-phone",class:"text-primary"},"Личный номер телефона клиента для связи менеджера",-1),_hoisted_15$1J={class:"form-floating mb-2 w-100"},_hoisted_16$1H=createBaseVNode("label",{for:"form-selfInfo-text",class:"text-primary"},"Информация о клиенте:",-1),_hoisted_17$1A=createBaseVNode("h2",{class:"my-5"},"Информация о бизнесе",-1),_hoisted_18$1w=createBaseVNode("p",{class:"mt-2 mb-2"},[createBaseVNode("span",{class:"badge bg-light text-primary p-2 mr-2"},[createBaseVNode("i",{class:"fa-regular fa-bell"})]),createTextVNode(" Напишите подробную информацию о бизнесе клиента и добавьте логотип компании. Он будет использоваться для общедоступной информации о клиенте.")],-1),_hoisted_19$1r={class:"form-floating mb-2 w-100"},_hoisted_20$1p=createBaseVNode("label",{for:"form-business-info-name",class:"text-primary"},"Название организации клиента (имя компании)",-1),_hoisted_21$1l={class:"form-floating mb-2 w-100"},_hoisted_22$1l=createBaseVNode("label",{for:"form-business-info-text",class:"text-primary"},"Информация о бизнесе:",-1),_hoisted_23$1k=createBaseVNode("h2",{class:"my-5"},"Контактная информация",-1),_hoisted_24$1g={class:"card bg-20 m-0 content rounded-m shadow mb-2 w-100"},_hoisted_25$1a={class:"card-body"},_hoisted_26$18=createBaseVNode("h6",{class:"color-white"},[createTextVNode("А также добавьте контактную информацию, нажав на "),createBaseVNode("i",{class:"fa-solid fa-square-plus"})],-1),_hoisted_27$14={class:"card card-style ml-0 mr-0 mb-3 bg-white"},_hoisted_28$12={class:"content"},_hoisted_29$_=["onUpdate:modelValue"],_hoisted_30$Y=["value"],_hoisted_31$W={class:"form-floating w-100"},_hoisted_32$T=["for"],_hoisted_33$T=["pattern","id","onUpdate:modelValue"],_hoisted_34$R=["pattern","id","onUpdate:modelValue"],_hoisted_35$O={class:"form-floating mt-1"},_hoisted_36$N=["for"],_hoisted_37$L=["onUpdate:modelValue","id"],_hoisted_38$J={class:"d-flex justify-content-center mt-3"},_hoisted_39$J=["onClick"],_hoisted_40$E=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_41$E=[_hoisted_40$E],_hoisted_42$E=["onClick"],_hoisted_43$E=createBaseVNode("i",{class:"fa-solid fa-clone"},null,-1),_hoisted_44$E=[_hoisted_43$E],_hoisted_45$E=createBaseVNode("i",{class:"fa-solid fa-square-plus mr-1"},null,-1),_hoisted_46$D={key:0,class:"divider divider-small my-3 bg-white"},_hoisted_47$A=createBaseVNode("i",{class:"fa-solid fa-trash mr-1"},null,-1),_hoisted_48$A=createBaseVNode("div",{class:"card-overlay bg-blue2-dark opacity-95 rounded-m shadow-l"},null,-1),_hoisted_49$y=createBaseVNode("div",{class:"card-overlay dark-mode-tint rounded-m shadow-l"},null,-1),_hoisted_50$y={class:"mt-3 w-100"},_hoisted_51$w={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_52$x={class:"custom-alert-text"},_hoisted_53$w=["onClick"],_hoisted_54$w=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_55$t=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),_hoisted_56$s={key:2,class:"card card-style"},_hoisted_57$r={class:"content mb-0"},_hoisted_58$p=createBaseVNode("h2",null,"Создадим непосредственно бота",-1),_hoisted_59$p=createBaseVNode("h6",null,[createBaseVNode("span",{class:"badge bg-light text-primary p-2 mr-2"},[createBaseVNode("i",{class:"fa-regular fa-bell"})]),createTextVNode("Первым делом необходимо имя бота (на русском - для пользователей, на английском - как ссылка на вашего бота)")],-1),_hoisted_60$o={class:"form-floating mb-2 w-100"},_hoisted_61$n=createBaseVNode("label",{for:"floatingTextarea",class:"text-primary"},"Название бота (на русском)",-1),_hoisted_62$l=createStaticVNode('<div class="border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 mb-2"><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i> Ссылка должна быть длинной (от 7 символов) и, по возможности, уникальной. </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>Ссылка должна заканчиваться словом &quot;bot&quot; </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>Ссылка должна состоть только из английских символов и символов нижнего подчеркивания </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>В ссылке нельзя ставить пробелы </p><strong>Рекомендации для коллег</strong></div>',1),_hoisted_63$l={class:"d-flex w-100"},_hoisted_64$j={class:"pt-1"},_hoisted_65$j={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_66$j={key:0},_hoisted_67$j={key:1},_hoisted_68$j={class:"ml-auto mr-4 pr-2"},_hoisted_69$j={class:"custom-control ios-switch ios-switch-icon"},_hoisted_70$j=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),_hoisted_71$j=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_72$i=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_73$i={key:0,class:"form-floating mb-2 w-100"},_hoisted_74$h=createBaseVNode("label",{for:"form-bot-domain",class:"text-primary"},"Доменное имя бота на английском",-1),_hoisted_75$h={class:"border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 mb-2"},_hoisted_76$f=createBaseVNode("p",{class:"mb-1"},[createTextVNode("Если у Вас есть "),createBaseVNode("a",{href:"https://t.me/botFather",class:"text-primary"},"Token"),createTextVNode(", то Вы сразу же сможете протестировать своего бота на практике. Если же Token-а нет, то вам помогут его создать наши менеджеры.")],-1),_hoisted_77$f={class:"d-flex"},_hoisted_78$e={class:"pt-1"},_hoisted_79$e={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_80$e={key:0},_hoisted_81$e={key:1},_hoisted_82$e={class:"ml-auto mr-4 pr-2"},_hoisted_83$d={class:"custom-control ios-switch ios-switch-icon"},_hoisted_84$c=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),_hoisted_85$b=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_86$b=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_87$b={key:1,class:"form-floating mb-2 w-100"},_hoisted_88$b=createBaseVNode("label",{for:"floatingTextarea",class:"text-primary"},"Телеграм token бота",-1),_hoisted_89$b={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_90$b={class:"custom-alert-text"},_hoisted_91$b=["onClick"],_hoisted_92$b=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_93$b=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),_hoisted_94$b={key:3,class:"card card-style"},_hoisted_95$b={class:"content mb-0"},_hoisted_96$9={class:"d-flex w-100"},_hoisted_97$9={class:"pt-1"},_hoisted_98$9={"data-activate":"toggle-need-create-bot",class:"font-500 font-13"},_hoisted_99$9={key:0},_hoisted_100$9={key:1},_hoisted_101$9={class:"ml-auto mr-4 pr-2"},_hoisted_102$9={class:"custom-control ios-switch ios-switch-icon"},_hoisted_103$9=createBaseVNode("label",{class:"custom-control-label",for:"toggle-need-create-bot"},null,-1),_hoisted_104$8=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_105$8=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_106$7={key:0},_hoisted_107$7={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_108$7={class:"custom-alert-text"},_hoisted_109$7=["onClick"],_hoisted_110$6=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_111$5=createBaseVNode("h2",null,"Хочу себе в бота ",-1),_hoisted_112$5={key:0},_hoisted_113$5=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1 text-danger"},null,-1),_hoisted_114$5=[_hoisted_113$5],_hoisted_115$5={class:"row mb-2"},_hoisted_116$5={class:"col-6 col-md-4 col-lg-3 mb-2 position-relative"},_hoisted_117$5={class:"relative"},_hoisted_118$5=["disabled","value","id"],_hoisted_119$5=["for"],_hoisted_120$4={class:"small"},_hoisted_121$4=["onClick"],_hoisted_122$4=createBaseVNode("i",{class:"fa-regular fa-lightbulb"},null,-1),_hoisted_123$4=[_hoisted_122$4],_hoisted_124$4={key:0},_hoisted_125$4={class:"badge bg-light text-primary mr-2"},_hoisted_126$4={key:1},_hoisted_127$4=createBaseVNode("p",{class:"alert border-success m-0 my-2"},"Опишите ваши индивидуальные потребности и наши разработчики неприменно реализуют данную фичу для Вас!",-1),_hoisted_128$4={class:"form-floating mt-1"},_hoisted_129$4=createBaseVNode("label",{class:"text-primary",for:"individual-description-textarea"},"Описание фичи",-1),_hoisted_130$3={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_131$3={class:"custom-alert-text"},_hoisted_132$2=["onClick"],_hoisted_133$2=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_134$2=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),_hoisted_135$2={key:4,class:"card card-style"},_hoisted_136$2={class:"content mb-0"},_hoisted_137$2=createBaseVNode("h6",null,"Добавьте нужные страницы в бота:",-1),_hoisted_138$2={class:"form-floating mb-2 w-100"},_hoisted_139$2=createBaseVNode("label",{for:"pageForm-title",class:"text-primary"},"Название страницы",-1),_hoisted_140$2=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Добавить страницу ",-1),_hoisted_141$2=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_142$2={key:0},_hoisted_143$2={class:"d-flex align-items-center btn w-100 btn-border mb-2 rounded-sm text-left font-900 border-blue1-dark color-blue1-dark bg-theme"},_hoisted_144$2={key:0,class:"w-100 p-2 font-12"},_hoisted_145$2=["onUpdate:modelValue"],_hoisted_146$2=["onClick"],_hoisted_147$2=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_148$2=[_hoisted_147$2],_hoisted_149$2={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_150$2={class:"custom-alert-text"},_hoisted_151$2=["onClick"],_hoisted_152$2=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_153$2=createBaseVNode("p",{class:"mb-2"},"Так-с, финальный этап! Сейчас мы создадим демо и сможем перейти к завершению создания бота!",-1),_hoisted_154$2={key:5,class:"card card-style"},_hoisted_155$2={class:"content mb-0"},_hoisted_156$2={class:"w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_157$2=createBaseVNode("h2",null,"Демонстрация работы бота",-1),_hoisted_158$2={href:"#"},_hoisted_159$2={class:"mb-0"},_hoisted_160$2={class:"mobile mb-2 p-0"},_hoisted_161$2=["src"],_hoisted_162$2={key:0,class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_163$2=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation"})],-1),_hoisted_164$2=createBaseVNode("strong",null,"Тоукен не указан!",-1),_hoisted_165$1=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"× ",-1),_hoisted_166$1=[_hoisted_163$2,_hoisted_164$2,_hoisted_165$1],_hoisted_167$1={key:6,class:"card card-style"},_hoisted_168$1={class:"content mb-0"},_hoisted_169$1=createStaticVNode('<h2 class="text-center mt-3 mb-0">Оформление заказа</h2><h6 class="text-center mb-3">Выберите тариф для подключения</h6><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-green2-dark text-uppercase">Пробный</h1><h3 class="pricing-value text-center bg-green1-light color-white font-40">3999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-green1-light font-16">Разовый на 1 месяц</h2><ul class="pricing-list text-center"><li>1 бот</li><li>до 20 страниц</li><li>до 10 любых модулей</li><li>1 месяц тех. поддержки</li></ul><a href="#" class="btn btn-s bg-green2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.01% персональной скидки менеджера</p></div><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-blue2-dark text-uppercase">Базовый</h1><h3 class="pricing-value text-center bg-blue2-light color-white font-40">6999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-blue2-light font-16">+2500руб\\месяц</h2><ul class="pricing-list text-center"><li>до 3х ботов</li><li>до 20 страниц в боте</li><li>жо 20 модулей в боте</li><li>неограниченно тех.поддержка</li><li>интеграция с CRM</li><li>до 2х пользовательских модулей индивидуальной разработки</li></ul><a href="#" class="btn btn-s bg-blue2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.05% персональной скидки менеджера</p></div><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-red2-dark text-uppercase">V.I.P.</h1><h3 class="pricing-value text-center bg-red2-light color-white font-40">26999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-red2-light font-16">+6 500руб\\месяц</h2><ul class="pricing-list text-center"><li>неограниченное число ботов</li><li>неограниченно страниц</li><li>неограниченно модулей</li><li>неограниченно тех.поддержка</li><li>интеграция с CRM</li><li>пользовательская индивидуальная разработка</li></ul><a href="#" class="btn btn-s bg-red2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.5% персональной скидки менеджера</p></div>',5),__default__$1E={props:["start"],data(){return{messages:[],load:!1,step:0,pageForm:{title:null},form:{name:null,botDomain:null,has_token:!1,has_name:!1,need_all_photo:!0,token:null,need_create_bot:!0,selected_bot_id:null,selected_company_id:null,cashback:{level_1:7,level_2:3,level_3:1},greeting:{text:null,avatar:null,profile:null,need_photo:!0},contacts:{need_photo:!0,image:null,links:[]},selfInfo:{name:null,phone:null,text:null,image:null,need_photo:!0},businessInfo:{name:null,text:null,image:null,need_photo:!0},functions:["cashback","friends-system","ask-a-question","location","wheel-of-fortune"],pages:[{title:"/start",comment:"Начни с этого момента",isStatic:!0},{title:"/help",comment:"Страница помощи",isStatic:!0},{title:"/about",comment:"Страница описания бота",isStatic:!0}],individual:null},contactTypes:[{title:"Номер телефона",mask:"+7(###)###-##-##",pattern:null,slug:"phone-number",icon:"fa-solid fa-mobile-screen"},{title:"Эл.почта",pattern:null,mask:null,slug:"email",icon:"fa-solid fa-at"},{title:"Адресс",pattern:null,mask:null,slug:"address",icon:"fa-solid fa-location-dot"},{title:"Соц.сети",pattern:null,mask:null,slug:"social-link",icon:"fa-solid fa-square-share-nodes"},{title:"Сайт",pattern:null,mask:null,slug:"web-site-link",icon:"fa-solid fa-laptop"},{title:"Месенджер",pattern:null,mask:null,slug:"messenger-link",icon:"fa-regular fa-envelope"}],moreFunctions:[{title:"КэшБек",description:"Например три уровня  7% , 3% и 1% + фото.",slug:"cashback",icon:"fa-solid fa-sack-dollar",is_active:!0},{title:"Бонус за рекомендации",description:"Приграси 5 друзе и получи подарок",slug:"referral-bonus",icon:"fa-solid fa-money-bill-trend-up",is_active:!0},{title:"AMO CRM",description:"Интеграция с AMO CRM",slug:"amo-crm",icon:"fa-solid fa-money-bill-trend-up",is_active:!0},{title:"Система друзей",description:"Реферальная система друзей",slug:"friends-system",icon:"fa-solid fa-people-pulling",is_active:!0},{title:"Регистрация на мероприятия",slug:"event-form",description:"Вы можете регистрировать людей на мероприятия через нашего чат бата или же сообщать о своих ближайших мероприятиях",icon:"fa-solid fa-calendar-check",is_active:!0},{title:"Интеграция с каналами Telegram",description:"Мы может интегрировать ваш канал в наш бот",slug:"telegram-channel-integration",icon:"fa-brands fa-telegram",is_active:!0},{title:"Лид магнит",slug:"lead-magnet",icon:"fa-solid fa-magnet",description:"Лид магнит продумывается индивидуально",is_active:!0},{title:"Воронка продаж",slug:"sales-funnel",description:"Воронка продаж продумывается индивидуально",icon:"fa-solid fa-filter-circle-dollar",is_active:!0},{title:"Отзывы",slug:"reviews",description:"Можете добавить отзывы в бот чтобы людям не приходилось искать отзовы на других площадках ",icon:"fa-solid fa-magnifying-glass-dollar",is_active:!0},{title:"Задать вопрос",slug:"ask-a-question",description:"Люди смогут задавать вопрос прямо в бот, а Вы отвечать им уже лично",icon:"fa-solid fa-clipboard-question",is_active:!0},{title:"Получить онлайн консультацию",slug:"online-consultation",description:"Запись на консультацию",icon:"fa-solid fa-circle-info",is_active:!0},{title:"Локация",slug:"location",description:"Ваш адрес, если необходим вашему бизнесу ",icon:"fa-solid fa-map-location-dot",is_active:!0},{title:"Акции",slug:"promotions",description:"Вы сможете выкладывать акции и распродажи",icon:"fa-solid fa-percent",is_active:!0},{title:"Наши клиенты",slug:"our-clients",description:"Сюда Вы сможете выложить фото ваших гостей ",icon:"fa-solid fa-carrot",is_active:!0},{title:"Инвесторам",slug:"investors",description:"Предложения для инвестрора",icon:"fa-solid fa-comment-dollar",is_active:!0},{title:"Стоимость услуг",slug:"cost-of-services",description:"Ваш прайс или меню",icon:"fa-solid fa-money-check-dollar",is_active:!0},{title:"Ваш магазин",slug:"custom-shop",description:"Ваш индивидуальный магазин внутри бота с возможностью оплаты онлайн",icon:"fa-brands fa-shopify",is_active:!0},{title:"Забронировать номер/столик",slug:"booking",description:"Человет сможет заброниравать в боте или же выйти на менеджера",icon:"fa-solid fa-utensils",is_active:!0},{title:"Атмосфера",slug:"atmosphere",description:"Фото Вашей атмосферы",icon:"fa-solid fa-trophy",is_active:!0},{title:"Курсы",slug:"courses",description:"Информация о курсах",icon:"fa-solid fa-graduation-cap",is_active:!0},{title:"Оплата в боте",slug:"payments",description:"Создавайте запросы на оплату непосредственно в боте",icon:"fa-regular fa-credit-card",is_active:!0},{title:"Колесо фортуны",slug:"wheel-of-fortune",description:"Розыгрыши призов в боте",icon:"fa-solid fa-dharmachakra",is_active:!0},{title:"Квест в Instagram",slug:"insta-quest",description:"Розыгрыши призов в боте c отсылкой на инстаграм",icon:"fa-brands fa-instagram",is_active:!0},{title:"Карточка накоплений",slug:"coffee-card",description:"Система накопления бонусов, например чашек кофе",icon:"fa-solid fa-mug-hot",is_active:!0},{title:"Индивидуальная кнопка",slug:"individual-button",description:"Можете предложить свою кнопку",icon:"fa-solid fa-person-chalkboard",is_active:!0}]}},computed:{},watch:{"form.need_create_bot":{handler:function(o){this.form.selected_bot_id=null,this.form.functions=[]},deep:!0}},mounted(){window.addEventListener("select-notes-event",e=>{let param=e.detail.param,note=e.detail.note;eval(`${this}.${param}=${note}`)}),this.start&&(this.step=this.start)},methods:{start(){this.step=0,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},prevStep(){this.step--,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},nextStep(){this.step++,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},alert(o){this.messages.push(o)},removeMessage(o){this.messages.splice(o,1)},selectCompany(o){this.form.selected_company_id=o.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного клиента!"),this.step=2},selectBot(o){this.form.selected_bot_id=o.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного бота!")},removePage(o){this.form.pages.splice(o,1)},addPage(){const o=this.pageForm;this.form.pages.push({title:o.title,isStatic:!1}),this.pageForm.title=null},displayDescription(o){this.$botNotification.notification("Информация",o)},getContactsType(o){return this.contactTypes.find(t=>t.slug===o)||null},submitStep5(){this.form.functions.forEach(o=>{let t=this.moreFunctions.find(i=>i.slug===o);this.form.pages.find(i=>i.title===t.title)||null||this.form.pages.push({title:t.title,isStatic:!1})}),this.step++},submitBot(){let o=new FormData;Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.form.greeting.need_photo&&(o.append("greeting_image_avatar",this.form.greeting.avatar),o.append("greeting_image_profile",this.form.greeting.profile)),this.form.contacts.need_photo&&o.append("contacts_image",this.form.contacts.image),this.form.selfInfo.need_photo&&o.append("self_info_image",this.form.selfInfo.image),this.form.businessInfo.need_photo&&o.append("business_info_image",this.form.businessInfo.image),this.$store.dispatch("createBotLazy",{botForm:o}).then(t=>{this.form.botDomain=t.botDomain,this.load=!0,this.$nextTick(()=>{this.load=!1}),this.$botNotification.notification("Конструктор ботов","Бот успешно создан!"),this.step++}).catch(t=>{this.step++})},remove(o){this.form.contacts.links.splice(o,1)},duplicate(o){const t={...o};this.form.contacts.links.push(t)},addContact(){const o={slug:"phone-number",value:null,description:null};this.form.contacts.links.push(o)},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o,t,a){const i=o.target.files;this.form[t][a]=i[0]}}},_sfc_main$2K=Object.assign(__default__$1E,{__name:"BaseBotConstructor",setup(o){return(t,a)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$2J,[createBaseVNode("div",_hoisted_2$2E,[_hoisted_3$2B,_hoisted_4$2u,createBaseVNode("button",{onClick:a[0]||(a[0]=s=>t.step=1),class:"w-100 btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme"}," Создать нового клиента "),_hoisted_5$2q,_hoisted_6$2p,createVNode(_sfc_main$2L,{onCallback:t.selectCompany},null,8,["onCallback"])])])):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_7$2h,[createBaseVNode("div",_hoisted_8$2c,[createBaseVNode("form",{onSubmit:a[17]||(a[17]=withModifiers((...s)=>t.nextStep&&t.nextStep(...s),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[_hoisted_9$28,_hoisted_10$1_,createBaseVNode("div",_hoisted_11$1W,[_hoisted_12$1T,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Иванов И.И.","onUpdate:modelValue":a[1]||(a[1]=s=>t.form.selfInfo.name=s),onInvalid:a[2]||(a[2]=s=>t.alert("Вы не добавили Ф.И.О.")),id:"form-selfInfo-name",required:""},null,544),[[vModelText,t.form.selfInfo.name]])]),createBaseVNode("div",_hoisted_13$1O,[_hoisted_14$1K,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=s=>t.form.selfInfo.phone=s),placeholder:"+7(000)000-00-00",class:"form-control",onInvalid:a[4]||(a[4]=s=>t.alert("Вы не добавили номер телефона")),id:"form-selfInfo-phone",required:""},null,544),[[vModelText,t.form.selfInfo.phone],[i,"+7(###)###-##-##"]])]),createBaseVNode("div",_hoisted_15$1J,[_hoisted_16$1H,withDirectives(createBaseVNode("textarea",{style:{"min-height":"150px"},"onUpdate:modelValue":a[5]||(a[5]=s=>t.form.selfInfo.text=s),class:"form-control font-12",onInvalid:a[6]||(a[6]=s=>t.alert("Вы не добавили информацию о клиенте")),placeholder:"Немного деталей о Вас",id:"form-selfInfo-text",required:""},null,544),[[vModelText,t.form.selfInfo.text]])]),_hoisted_17$1A,_hoisted_18$1w,createBaseVNode("div",_hoisted_19$1r,[_hoisted_20$1p,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"ООО 'Рога и Копыта'","onUpdate:modelValue":a[7]||(a[7]=s=>t.form.businessInfo.name=s),onInvalid:a[8]||(a[8]=s=>t.alert("Вы не добавили название компании!")),id:"form-business-info-name",required:""},null,544),[[vModelText,t.form.businessInfo.name]])]),createBaseVNode("div",_hoisted_21$1l,[_hoisted_22$1l,withDirectives(createBaseVNode("textarea",{style:{"min-height":"150px"},class:"form-control font-12","onUpdate:modelValue":a[9]||(a[9]=s=>t.form.businessInfo.text=s),placeholder:"Главное начать...",onInvalid:a[10]||(a[10]=s=>t.alert("Вы не добавили описание компании")),id:"form-business-info-text",required:""},null,544),[[vModelText,t.form.businessInfo.text]])]),_hoisted_23$1k,createBaseVNode("div",_hoisted_24$1g,[createBaseVNode("div",_hoisted_25$1a,[_hoisted_26$18,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.contacts.links,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_27$14,[createBaseVNode("div",_hoisted_28$12,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":n=>t.form.contacts.links[r].slug=n,class:"form-control w-100 mb-2"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.contactTypes,n=>(openBlock(),createElementBlock("option",{value:n.slug},toDisplayString(n.title||"Не указан"),9,_hoisted_30$Y))),256))],8,_hoisted_29$_),[[vModelSelect,t.form.contacts.links[r].slug]]),createBaseVNode("div",_hoisted_31$W,[createBaseVNode("label",{class:"text-primary",for:"contact-input-"+r},toDisplayString(t.getContactsType(t.form.contacts.links[r].slug).title||"Не указано"),9,_hoisted_32$T),t.getContactsType(t.form.contacts.links[r].slug).mask?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"text",pattern:t.getContactsType(t.form.contacts.links[r].slug).pattern,class:"form-control",placeholder:"Введите данные",onInvalid:a[11]||(a[11]=n=>t.alert("Вы не ввели данные")),id:"contact-input-"+r,"onUpdate:modelValue":n=>t.form.contacts.links[r].value=n,required:""},null,40,_hoisted_33$T)),[[i,t.getContactsType(t.form.contacts.links[r].slug).mask],[vModelText,t.form.contacts.links[r].value]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"text",pattern:t.getContactsType(s.slug).pattern,class:"form-control w-100",id:"contact-input-"+r,onInvalid:a[12]||(a[12]=n=>t.alert("Вы не ввели данные")),"onUpdate:modelValue":n=>t.form.contacts.links[r].value=n,required:""},null,40,_hoisted_34$R)),[[vModelText,t.form.contacts.links[r].value]])]),createBaseVNode("div",_hoisted_35$O,[createBaseVNode("label",{class:"text-primary",for:"contact-description-textarea-"+r},"Описание",8,_hoisted_36$N),withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":n=>t.form.contacts.links[r].description=n,onInvalid:a[13]||(a[13]=n=>t.alert("Вы не ввели описание контакта")),placeholder:"Поясните пользователям к чему относится данный контакт",id:"contact-description-textarea-"+r,required:""},`

                                        `,40,_hoisted_37$L),[[vModelText,t.form.contacts.links[r].description]])]),createBaseVNode("div",_hoisted_38$J,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn mr-2 btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme",onClick:n=>t.remove(r)},_hoisted_41$E,8,_hoisted_39$J),createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:n=>t.duplicate(s)},_hoisted_44$E,8,_hoisted_42$E)])])]))),256)),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full my-2 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme",onClick:a[14]||(a[14]=(...s)=>t.addContact&&t.addContact(...s))},[_hoisted_45$E,createTextVNode(" Добавить ")]),t.form.contacts.links.length>0?(openBlock(),createElementBlock("div",_hoisted_46$D)):createCommentVNode("",!0),t.form.contacts.links.length>0?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"w-100 btn btn-m btn-full my-2 rounded-sm text-uppercase font-900 border-gray1-dark color-gray1-dark",onClick:a[15]||(a[15]=s=>t.form.contacts.links.length=[])},[_hoisted_47$A,createTextVNode(" Очистить контакты ")])):createCommentVNode("",!0)]),_hoisted_48$A,_hoisted_49$y]),createBaseVNode("div",_hoisted_50$y,[t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.messages,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_51$w,[createBaseVNode("p",_hoisted_52$x,toDisplayString(s||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:n=>t.removeMessage(r),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_53$w)]))),256)):createCommentVNode("",!0)]),_hoisted_54$w,_hoisted_55$t,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[16]||(a[16]=(...s)=>t.prevStep&&t.prevStep(...s))}," Назад ")],32)])])):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock("div",_hoisted_56$s,[createBaseVNode("div",_hoisted_57$r,[createBaseVNode("form",{onSubmit:a[27]||(a[27]=withModifiers((...s)=>t.nextStep&&t.nextStep(...s),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[_hoisted_58$p,_hoisted_59$p,createBaseVNode("div",_hoisted_60$o,[_hoisted_61$n,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50","onUpdate:modelValue":a[18]||(a[18]=s=>t.form.name=s),placeholder:"Например, Шаурма-Бот",onInvalid:a[19]||(a[19]=s=>t.alert("Неверное название бота!")),id:"floatingTextarea",required:""},null,544),[[vModelText,t.form.name]])]),_hoisted_62$l,createBaseVNode("div",_hoisted_63$l,[createBaseVNode("div",_hoisted_64$j,[createBaseVNode("h5",_hoisted_65$j,[t.form.has_name?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_66$j,"Сгенерировать временное имя")),t.form.has_name?(openBlock(),createElementBlock("strong",_hoisted_67$j,"У меня есть имя")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_68$j,[createBaseVNode("div",_hoisted_69$j,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[20]||(a[20]=s=>t.form.has_name=s),class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.form.has_name]]),_hoisted_70$j,_hoisted_71$j,_hoisted_72$i])])]),t.form.has_name?(openBlock(),createElementBlock("div",_hoisted_73$i,[_hoisted_74$h,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50",placeholder:"test_ivan_bot","onUpdate:modelValue":a[21]||(a[21]=s=>t.form.botDomain=s),onInvalid:a[22]||(a[22]=s=>t.alert("Неверное значение имени бота!")),pattern:"[_A-Za-z0-9]{5,50}(bot)",id:"form-bot-domain",required:""},null,544),[[vModelText,t.form.botDomain]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_75$h,[_hoisted_76$f,createBaseVNode("div",_hoisted_77$f,[createBaseVNode("div",_hoisted_78$e,[createBaseVNode("h5",_hoisted_79$e,[t.form.have_token?(openBlock(),createElementBlock("strong",_hoisted_80$e,"У меня есть Token бота")):createCommentVNode("",!0),t.form.have_token?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_81$e,"У меня нет Token бота"))])]),createBaseVNode("div",_hoisted_82$e,[createBaseVNode("div",_hoisted_83$d,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[23]||(a[23]=s=>t.form.have_token=s),class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.form.have_token]]),_hoisted_84$c,_hoisted_85$b,_hoisted_86$b])])])]),t.form.has_token?(openBlock(),createElementBlock("div",_hoisted_87$b,[_hoisted_88$b,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"100",placeholder:"Значение тоукена",onInvalid:a[24]||(a[24]=s=>t.alert("Неверное значение тоукена")),"onUpdate:modelValue":a[25]||(a[25]=s=>t.form.token=s),id:"floatingTextarea",required:""},null,544),[[vModelText,t.form.token]])])):createCommentVNode("",!0),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.messages,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_89$b,[createBaseVNode("p",_hoisted_90$b,toDisplayString(s||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:n=>t.removeMessage(r),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_91$b)]))),256)):createCommentVNode("",!0),_hoisted_92$b,_hoisted_93$b,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[26]||(a[26]=(...s)=>t.prevStep&&t.prevStep(...s))}," Назад ")],32)])])):createCommentVNode("",!0),t.step===3?(openBlock(),createElementBlock("div",_hoisted_94$b,[createBaseVNode("div",_hoisted_95$b,[createBaseVNode("div",_hoisted_96$9,[createBaseVNode("div",_hoisted_97$9,[createBaseVNode("h5",_hoisted_98$9,[t.form.need_create_bot?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_99$9,"Выбрать из готовых ботов")),t.form.need_create_bot?(openBlock(),createElementBlock("strong",_hoisted_100$9,"Создать самостоятельно")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_101$9,[createBaseVNode("div",_hoisted_102$9,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":a[28]||(a[28]=s=>t.form.need_create_bot=s),class:"ios-input",id:"toggle-need-create-bot"},null,512),[[vModelCheckbox,t.form.need_create_bot]]),_hoisted_103$9,_hoisted_104$8,_hoisted_105$8])])]),t.form.need_create_bot?createCommentVNode("",!0):(openBlock(),createElementBlock("form",_hoisted_106$7,[createVNode(_sfc_main$2M,{"selected-bot-id":t.form.selected_bot_id,onCallback:t.selectBot},null,8,["selected-bot-id","onCallback"]),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.messages,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_107$7,[createBaseVNode("p",_hoisted_108$7,toDisplayString(s||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:n=>t.removeMessage(r),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_109$7)]))),256)):createCommentVNode("",!0),_hoisted_110$6,createBaseVNode("button",{type:"button",onClick:a[29]||(a[29]=(...s)=>t.submitBot&&t.submitBot(...s)),class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Создать демон и перейти к оформлению "),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[30]||(a[30]=(...s)=>t.prevStep&&t.prevStep(...s))}," Назад ")])),t.form.need_create_bot?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[36]||(a[36]=withModifiers((...s)=>t.submitStep5&&t.submitStep5(...s),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[_hoisted_111$5,createBaseVNode("p",null,[t.form.functions.length>0?(openBlock(),createElementBlock("span",_hoisted_112$5,"механик выбрано - "+toDisplayString(t.form.functions.length)+" ед. ",1)):createCommentVNode("",!0),t.form.functions.length>0?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",class:"underline cursor-pointer ml-2",onClick:a[31]||(a[31]=s=>t.form.functions=[])},_hoisted_114$5)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_115$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moreFunctions,s=>(openBlock(),createElementBlock("div",_hoisted_116$5,[createBaseVNode("div",_hoisted_117$5,[withDirectives(createBaseVNode("input",{type:"checkbox",disabled:!s.is_active,"onUpdate:modelValue":a[32]||(a[32]=r=>t.form.functions=r),value:s.slug,class:"btn-check function-check d-none",id:"btn-check-outlined"+s.slug},null,8,_hoisted_118$5),[[vModelCheckbox,t.form.functions]]),createBaseVNode("label",{style:{"min-height":"100px"},class:normalizeClass([{"border-green1-dark color-green1-dark":t.form.functions.indexOf(s.slug)!==-1,"border-gray1-dark color-gray1-dark":t.form.functions.indexOf(s.slug)===-1},"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 d-flex flex-column align-items-center justify-content-center bg-theme"]),for:"btn-check-outlined"+s.slug},[createBaseVNode("i",{class:normalizeClass(s.icon)},null,2),createBaseVNode("span",_hoisted_120$4,toDisplayString(s.title),1)],10,_hoisted_119$5),createBaseVNode("a",{href:"javascript:void(0)",style:{position:"absolute",top:"2px",left:"23px",color:"#E91E63"},onClick:r=>t.displayDescription(s.description)},_hoisted_123$4,8,_hoisted_121$4)])]))),256))]),t.form.functions.length>0?(openBlock(),createElementBlock("div",_hoisted_124$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.functions,s=>(openBlock(),createElementBlock("span",_hoisted_125$4,toDisplayString(s),1))),256))])):createCommentVNode("",!0),t.form.functions.indexOf("individual-button")>=0?(openBlock(),createElementBlock("div",_hoisted_126$4,[_hoisted_127$4,createBaseVNode("div",_hoisted_128$4,[_hoisted_129$4,withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":a[33]||(a[33]=s=>t.form.individual=s),style:{"min-height":"200px"},onInvalid:a[34]||(a[34]=s=>t.alert("Вы не ввели описание фичи!")),placeholder:"Напишите задуманное...",id:"individual-description-textarea",required:""},`
                        `,544),[[vModelText,t.form.individual]])])])):createCommentVNode("",!0),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.messages,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_130$3,[createBaseVNode("p",_hoisted_131$3,toDisplayString(s||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:n=>t.removeMessage(r),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_132$2)]))),256)):createCommentVNode("",!0),_hoisted_133$2,_hoisted_134$2,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[35]||(a[35]=(...s)=>t.prevStep&&t.prevStep(...s))}," Назад ")],32)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.step===4?(openBlock(),createElementBlock("div",_hoisted_135$2,[createBaseVNode("div",_hoisted_136$2,[_hoisted_137$2,createBaseVNode("form",{onSubmit:a[38]||(a[38]=withModifiers((...s)=>t.addPage&&t.addPage(...s),["prevent"]))},[createBaseVNode("div",_hoisted_138$2,[_hoisted_139$2,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50","onUpdate:modelValue":a[37]||(a[37]=s=>t.pageForm.title=s),placeholder:"Например, Главное меню",id:"pageForm-title",required:""},null,512),[[vModelText,t.pageForm.title]])]),_hoisted_140$2],32),_hoisted_141$2,createBaseVNode("h6",null,[createTextVNode("Созданные страницы "),t.form.pages.length>0?(openBlock(),createElementBlock("small",_hoisted_142$2,"(всего "+toDisplayString(t.form.pages.length)+" стр.)",1)):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.pages,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_143$2,[t.form.pages[r].isStatic?(openBlock(),createElementBlock("p",_hoisted_144$2,toDisplayString(t.form.pages[r].title),1)):withDirectives((openBlock(),createElementBlock("input",{key:1,class:"w-100 p-2",style:{border:"none"},"onUpdate:modelValue":n=>t.form.pages[r].title=n,type:"text"},null,8,_hoisted_145$2)),[[vModelText,t.form.pages[r].title]]),t.form.pages[r].isStatic?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",onClick:n=>t.removePage(r),class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light"},_hoisted_148$2,8,_hoisted_146$2))]))),256)),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.messages,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_149$2,[createBaseVNode("p",_hoisted_150$2,toDisplayString(s||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:n=>t.removeMessage(r),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_151$2)]))),256)):createCommentVNode("",!0),_hoisted_152$2,_hoisted_153$2,createBaseVNode("button",{type:"button",onClick:a[39]||(a[39]=(...s)=>t.submitBot&&t.submitBot(...s)),class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Создать демо "),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[40]||(a[40]=(...s)=>t.prevStep&&t.prevStep(...s))}," Назад ")])])):createCommentVNode("",!0),t.step===5?(openBlock(),createElementBlock("div",_hoisted_154$2,[createBaseVNode("div",_hoisted_155$2,[createBaseVNode("div",_hoisted_156$2,[_hoisted_157$2,createBaseVNode("h6",null,[createBaseVNode("a",_hoisted_158$2,toDisplayString(t.form.botDomain),1)]),createBaseVNode("p",_hoisted_159$2,[createBaseVNode("small",null,toDisplayString(t.form.name||"Не указано имя"),1)]),createBaseVNode("div",_hoisted_160$2,[t.load?createCommentVNode("",!0):(openBlock(),createElementBlock("iframe",{key:0,style:{border:"none"},src:"/web/"+t.form.botDomain},null,8,_hoisted_161$2))]),t.form.token?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_162$2,_hoisted_166$1))])])])):createCommentVNode("",!0),t.step===5?(openBlock(),createElementBlock("div",_hoisted_167$1,[createBaseVNode("div",_hoisted_168$1,[_hoisted_169$1,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[41]||(a[41]=(...s)=>t.prevStep&&t.prevStep(...s))}," Назад "),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:a[42]||(a[42]=(...s)=>t.start&&t.start(...s))}," В начало ")])])):createCommentVNode("",!0)],64)}}}),__default__$1D={data(){return{botUser:null,loading:!1}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{}},_sfc_main$2J=Object.assign(__default__$1D,{__name:"Main",setup(o){return(t,a)=>(openBlock(),createBlock(_sfc_main$2K))}}),Main=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2J},Symbol.toStringTag,{value:"Module"})),Manager_vue_vue_type_style_index_0_scoped_e9a66012_lang="",_withScopeId$n=o=>(pushScopeId("data-v-e9a66012"),o=o(),popScopeId(),o),_hoisted_1$2I={key:0},_hoisted_2$2D={class:"card card-style p-3"},_hoisted_3$2A={class:"content"},_hoisted_4$2t={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_5$2p={class:"img-avatar"},_hoisted_6$2o={class:"img-avatar"},_hoisted_7$2g={class:"col-12"},_hoisted_8$2b=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные заработка вместе с нашим сервисом! Для начала нам нужно с Вами познакомиться - это поможет нам понимать с кем мы становимся крепкими друзьями! Я задам Вам два блока вопросов - по легче - вопросы общего плана и по сложнее - вопросы профессиональной сферы.")])],-1)),_hoisted_9$27=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),_hoisted_10$1Z={class:"input-style input-style-2"},_hoisted_11$1V={class:"col-12"},_hoisted_12$1S=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},"Загрузи свой персональное фото, мы же должны знать в лицо наших сотрудников",-1)),_hoisted_13$1N={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_14$1J={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_15$1I=_withScopeId$n(()=>createBaseVNode("span",null,"+",-1)),_hoisted_16$1G={key:0,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_17$1z={class:"remove"},_hoisted_18$1v=_withScopeId$n(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1)),_hoisted_19$1q=[_hoisted_18$1v],_hoisted_20$1o={class:"col-12"},_hoisted_21$1k=_withScopeId$n(()=>createBaseVNode("h4",{class:"text-center my-3"},[createBaseVNode("i",{class:"fa-solid fa-person-circle-question mr-2 color-green2-light"}),createTextVNode(" Общий блок вопросов ")],-1)),_hoisted_22$1k={key:0,class:"mb-3"},_hoisted_23$1j=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой номер телефона",-1)),_hoisted_24$1f={class:"input-style input-style-2"},_hoisted_25$19={class:"col-12"},_hoisted_26$17=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для своевременного оповещения Вас о наших нововведениях мы используем рассылку через email. Вам необходимо указать его для удобства получения актуальной информации и отчетов о Вашей работе и доходе.")],-1)),_hoisted_27$13=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой email адрес",-1)),_hoisted_28$11={class:"input-style input-style-2"},_hoisted_29$Z={class:"col-12"},_hoisted_30$X=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для связи с Вами нам также понадобятся ссылки на Ваши социальные сети!")],-1)),_hoisted_31$V=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Ссылки на ваши соц. сети",-1)),_hoisted_32$S={class:"input-style input-style-2 position-relative"},_hoisted_33$S=["onUpdate:modelValue","aria-label","aria-describedby"],_hoisted_34$Q=["onClick"],_hoisted_35$N=_withScopeId$n(()=>createBaseVNode("i",{class:"fa-regular fa-square-minus"},null,-1)),_hoisted_36$M=[_hoisted_35$N],_hoisted_37$K={class:"col-12"},_hoisted_38$I=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_39$I=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Вы мужчина или женщина?",-1)),_hoisted_40$D={class:"row mb-0"},_hoisted_41$D={class:"col-6 p-3"},_hoisted_42$D=_withScopeId$n(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_43$D=_withScopeId$n(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_44$D=[_hoisted_42$D,_hoisted_43$D],_hoisted_45$D={class:"col-6 p-3"},_hoisted_46$C=_withScopeId$n(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_47$z=_withScopeId$n(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_48$z=[_hoisted_46$C,_hoisted_47$z],_hoisted_49$x={class:"col-12"},_hoisted_50$x=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),_hoisted_51$v=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой день рождения",-1)),_hoisted_52$w={class:"input-style input-style-2"},_hoisted_53$v={class:"col-12"},_hoisted_54$v=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания\\работы.")],-1)),_hoisted_55$s=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1)),_hoisted_56$r={class:"input-style input-style-2"},_hoisted_57$q=createStaticVNode('<datalist id="datalistCityOptions" data-v-e9a66012><option value="Краснодар" data-v-e9a66012></option><option value="Ростов-на-Дону" data-v-e9a66012></option><option value="Таганрог" data-v-e9a66012></option><option value="Донецк" data-v-e9a66012></option><option value="Москва" data-v-e9a66012></option></datalist>',1),_hoisted_58$o=_withScopeId$n(()=>createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1)),_hoisted_59$o={class:"col-12"},_hoisted_60$n=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того чтоб вы и ваш друг получали больше бонусов воспользуйтесь реферальной программой и введите реферальный код от вашего друга!")],-1)),_hoisted_61$m=_withScopeId$n(()=>createBaseVNode("h6",{class:"text-center"},"Введите реферальный код вашего друга",-1)),_hoisted_62$k={class:"input-style input-style-2"},_hoisted_63$k=_withScopeId$n(()=>createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1)),_hoisted_64$i={class:"col-12"},_hoisted_65$i=_withScopeId$n(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_66$i=_withScopeId$n(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_67$i={class:"d-flex mb-3"},_hoisted_68$i={class:"pt-1"},_hoisted_69$i={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_70$i={key:0},_hoisted_71$i={key:1},_hoisted_72$h={class:"ml-auto mr-4 pr-2"},_hoisted_73$h={class:"custom-control ios-switch"},_hoisted_74$g=_withScopeId$n(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_75$g=["disabled"],__default__$1C={data(){return{load:!1,confirm:!1,step:0,botUser:null,managerForm:{name:null,phone:null,email:null,image:null,birthday:null,city:null,country:null,address:null,sex:!0,referral:null,strengths:[""],weaknesses:[""],educations:[""],social_links:[""],skills:[{title:null,value:50}],info:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.managerForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.managerForm.phone=this.botUser.phone||null,this.managerForm.email=this.botUser.email||null,this.managerForm.birthday=this.botUser.birthday||null,this.managerForm.city=this.botUser.city||null,this.managerForm.country=this.botUser.country||null,this.managerForm.address=this.botUser.address||null,this.managerForm.sex=this.botUser.sex||!0}},mounted(){},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.managerForm.image=null},onChangePhotos(o){const t=o.target.files;this.managerForm.image=t[0],console.log(t)},nextStep(){this.step++},remove(o,t){this.managerForm[o].splice(t,1)},add(o){o!=="skills"?this.managerForm[o].push(""):this.managerForm[o].push({title:null,value:50})},submit(){this.loading=!0;let o=new FormData;Object.keys(this.managerForm).forEach(t=>{const a=this.managerForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.set("image",this.managerForm.image),this.$store.dispatch("saveManager",o).then(t=>{window.location.reload()}).catch(()=>{this.loading=!1})}}},_sfc_main$2I=Object.assign(__default__$1C,{__name:"Manager",setup(o){return(t,a)=>{const i=resolveDirective("lazy"),s=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2I,[createBaseVNode("div",_hoisted_2$2D,[createBaseVNode("div",_hoisted_3$2A,[createBaseVNode("form",{onSubmit:a[12]||(a[12]=withModifiers((...r)=>t.submit&&t.submit(...r),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_4$2t,[createBaseVNode("div",_hoisted_5$2p,[withDirectives(createBaseVNode("img",_hoisted_6$2o,null,512),[[i,"/images/manager.png"]])])]),createBaseVNode("div",_hoisted_7$2g,[_hoisted_8$2b,_hoisted_9$27,createBaseVNode("div",_hoisted_10$1Z,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"managerForm-name","onUpdate:modelValue":a[0]||(a[0]=r=>t.managerForm.name=r),"aria-describedby":"managerForm-name",required:""},null,512),[[vModelText,t.managerForm.name]])])]),createBaseVNode("div",_hoisted_11$1V,[_hoisted_12$1S,createBaseVNode("div",_hoisted_13$1N,[createBaseVNode("label",_hoisted_14$1J,[_hoisted_15$1I,createBaseVNode("input",{type:"file",id:"bot-photos",accept:"image/*",onChange:a[1]||(a[1]=(...r)=>t.onChangePhotos&&t.onChangePhotos(...r)),style:{display:"none"}},null,32)]),t.managerForm.image?(openBlock(),createElementBlock("div",_hoisted_16$1G,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(t.managerForm.image).imageUrl]]),createBaseVNode("div",_hoisted_17$1z,[createBaseVNode("a",{onClick:a[2]||(a[2]=r=>t.removePhoto())},_hoisted_19$1q)])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_20$1o,[_hoisted_21$1k,t.managerForm.name?(openBlock(),createElementBlock("p",_hoisted_22$1k,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(t.managerForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):createCommentVNode("",!0),_hoisted_23$1j,createBaseVNode("div",_hoisted_24$1f,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[3]||(a[3]=r=>t.managerForm.phone=r),placeholder:"+7(000)000-00-00","aria-label":"managerForm-phone","aria-describedby":"managerForm-phone",required:""},null,512),[[s,"+7(###)###-##-##"],[vModelText,t.managerForm.phone]])])]),createBaseVNode("div",_hoisted_25$19,[_hoisted_26$17,_hoisted_27$13,createBaseVNode("div",_hoisted_28$11,[withDirectives(createBaseVNode("input",{type:"email",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[4]||(a[4]=r=>t.managerForm.email=r),placeholder:"inbox@your-cashman.com","aria-label":"managerForm-phone","aria-describedby":"managerForm-email",required:""},null,512),[[vModelText,t.managerForm.email]])])]),createBaseVNode("div",_hoisted_29$Z,[_hoisted_30$X,_hoisted_31$V,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.managerForm.social_links,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_32$S,[withDirectives(createBaseVNode("input",{type:"url",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":l=>t.managerForm.social_links[n]=l,placeholder:"Ссылка на соц. сеть","aria-label":"managerForm-social-links-"+n,"aria-describedby":"managerForm-social-links-"+n},null,8,_hoisted_33$S),[[vModelText,t.managerForm.social_links[n]]]),n>0?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:l=>t.remove("social_links",n),class:"sub-btn"},_hoisted_36$M,8,_hoisted_34$Q)):createCommentVNode("",!0)]))),256)),createBaseVNode("a",{onClick:a[5]||(a[5]=r=>t.add("social_links")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще ссылку")]),createBaseVNode("div",_hoisted_37$K,[_hoisted_38$I,_hoisted_39$I,createBaseVNode("div",_hoisted_40$D,[createBaseVNode("div",_hoisted_41$D,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.managerForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[6]||(a[6]=r=>t.managerForm.sex=!0)},_hoisted_44$D,2)]),createBaseVNode("div",_hoisted_45$D,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.managerForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:a[7]||(a[7]=r=>t.managerForm.sex=!1)},_hoisted_48$z,2)])])]),createBaseVNode("div",_hoisted_49$x,[_hoisted_50$x,_hoisted_51$v,createBaseVNode("div",_hoisted_52$w,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[8]||(a[8]=r=>t.managerForm.birthday=r),"aria-label":"managerForm-birthday","aria-describedby":"managerForm-birthday",required:""},null,512),[[vModelText,t.managerForm.birthday]])])]),createBaseVNode("div",_hoisted_53$v,[_hoisted_54$v,_hoisted_55$s,createBaseVNode("div",_hoisted_56$r,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=r=>t.managerForm.city=r),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"managerForm-city","aria-describedby":"managerForm-city",required:""},null,512),[[vModelText,t.managerForm.city]]),_hoisted_57$q])]),_hoisted_58$o,createBaseVNode("div",_hoisted_59$o,[_hoisted_60$n,_hoisted_61$m,createBaseVNode("div",_hoisted_62$k,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":a[10]||(a[10]=r=>t.managerForm.referral=r),placeholder:"Реферальный код","aria-label":"managerForm-referral","aria-describedby":"managerForm-referral"},null,512),[[vModelText,t.managerForm.referral]])])]),_hoisted_63$k,createBaseVNode("div",_hoisted_64$i,[_hoisted_65$i,_hoisted_66$i,createBaseVNode("div",_hoisted_67$i,[createBaseVNode("div",_hoisted_68$i,[createBaseVNode("h5",_hoisted_69$i,[t.managerForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_70$i,"С правилами ознакомилась")),t.managerForm.sex?(openBlock(),createElementBlock("span",_hoisted_71$i,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_72$h,[createBaseVNode("div",_hoisted_73$h,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[11]||(a[11]=r=>t.confirm=r),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_74$g])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_75$g)])],32)])])])):createCommentVNode("",!0),createVNode(_sfc_main$3C)],64)}}}),ManagerForm=_export_sfc(_sfc_main$2I,[["__scopeId","data-v-e9a66012"]]),Manager=Object.freeze(Object.defineProperty({__proto__:null,default:ManagerForm},Symbol.toStringTag,{value:"Module"})),BotEditor_vue_vue_type_style_index_0_lang="",_sfc_main$2H={props:["botId"],data(){return{bot:null,load:!1,need_payments:!1,need_shop:!1,need_demo:!1,botForm:{id:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,main_channel:null,vk_shop_link:null,balance:null,tax_per_day:null,welcome_message:null,image:null,description:null,info_link:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,photos:[],selected_bot_template_id:null,pages:[],amo:null,is_active:!1}}},watch:{need_payments:function(o,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},mounted(){this.loadBotAdminConfig(),window.addEventListener("select-telegram-channel-id",o=>{this.botForm[o.detail.param]=o.detail.channel})},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotManagerConfig",{botId:this.botId}).then(o=>{this.bot=o.data,this.botForm={id:this.bot.id||null,is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,image:this.bot.image||null,description:this.bot.description||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1||10,level_2:this.bot.level_2||0,level_3:this.bot.level_3||0,photos:this.bot.photos||[],amo:this.bot.amo||null,is_active:this.bot.is_active||!1},this.botForm.payment_provider_token&&(this.need_payments=!0),this.botForm.vk_shop_link&&(this.need_shop=!0)})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o){const t=o.target.files;this.botForm.image=null;for(let a=0;a<t.length;a++)this.botForm.photos.push(t[a])},addItem(o){this.botForm[o].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(o,t){this.botForm[o].splice(t,1)},removePhoto(o){o?this.botForm.photos.splice(o,1):this.botForm.image=null},switchStatus(){this.$store.dispatch("switchBotStatusManager",{botId:this.bot.id}).then(()=>{this.$botNotification.success("Конструктор ботов","Статус бота успешно изменен!")})},removeBot(){this.$store.dispatch("removeBotByManager",{botId:this.bot.id}).then(o=>{this.$emit("remove"),this.$botNotification.success("Конструктор ботов","Бот успешно удален!")}).catch(o=>{this.$botNotification.warning("Конструктор ботов","Ошибка удаления бота!")})},addBot(){let o=new FormData;Object.keys(this.botForm).forEach(t=>{const a=this.botForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.company&&o.append("company_id",this.company.id);for(let t=0;t<this.botForm.photos.length;t++)o.append("images[]",this.botForm.photos[t]);o.delete("photos"),this.$store.dispatch("updateBotByManager",{botForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.success("Конструктор ботов","Бот успешно обновлен!")}).catch(t=>{this.$botNotification.warning("Конструктор ботов","Ошибка обновления бота!")})},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},openUrl(o){this.tg.openLink(o)}}},_hoisted_1$2H={class:"card card-style bg-1",style:{height:"390px"}},_hoisted_2$2C={key:0,class:"card-center"},_hoisted_3$2z={class:"w-100 d-flex justify-content-center p-3"},_hoisted_4$2s={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_5$2o={class:"color-white font-700 text-center mb-2"},_hoisted_6$2n={key:0},_hoisted_7$2f={key:1},_hoisted_8$2a={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_9$26={href:"#",class:"color-white"},_hoisted_10$1Y=createBaseVNode("i",{class:"fa-solid fa-sack-dollar"},null,-1),_hoisted_11$1U={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_12$1R=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar"},null,-1),_hoisted_13$1M={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_14$1I=createBaseVNode("i",{class:"fa-regular fa-calendar-days"},null,-1),_hoisted_15$1H={class:"w-100 d-flex justify-content-center py-4"},_hoisted_16$1F={class:"custom-control ios-switch"},_hoisted_17$1y=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1),_hoisted_18$1u={key:0,class:"ml-5 text-white"},_hoisted_19$1p={key:1,class:"ml-5 text-white"},_hoisted_20$1n={key:1,class:"card-center"},_hoisted_21$1j=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_22$1j=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_23$1i=[_hoisted_21$1j,_hoisted_22$1j],_hoisted_24$1e=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_25$18={key:0,class:"w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_26$16=createBaseVNode("h2",null,"Демонстрация работы бота",-1),_hoisted_27$12={href:"#"},_hoisted_28$10={class:"mb-0"},_hoisted_29$Y={class:"mobile mb-2 p-0"},_hoisted_30$W=["src"],_hoisted_31$U={key:0,class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_32$R=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation"})],-1),_hoisted_33$R=createBaseVNode("strong",null,"Тоукен не указан!",-1),_hoisted_34$P=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"× ",-1),_hoisted_35$M=[_hoisted_32$R,_hoisted_33$R,_hoisted_34$P],_hoisted_36$L={key:0},_hoisted_37$J={key:0,class:"d-flex w-100"},_hoisted_38$H={class:"pt-1"},_hoisted_39$H={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_40$C={key:0},_hoisted_41$C={key:1},_hoisted_42$C={class:"ml-auto mr-4 pr-2"},_hoisted_43$C={class:"custom-control ios-switch ios-switch-icon"},_hoisted_44$C=createBaseVNode("label",{class:"custom-control-label",for:"toggle-demo-bot"},null,-1),_hoisted_45$C=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_46$B=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_47$y={class:"mb-2"},_hoisted_48$y={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-domain"},_hoisted_49$w=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_50$w=createBaseVNode("div",null,'Строго взять из BotFather! ТО что при создании с окончанием на "bot"',-1),_hoisted_51$u=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_52$v=createBaseVNode("div",null,"Нужно ",-1),_hoisted_53$u={key:0},_hoisted_54$u={class:"mb-2"},_hoisted_55$r={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center flex-wrap",id:"bot-token"},_hoisted_56$q=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_57$p=createBaseVNode("div",null,"Взять из BotFater при создании бота! Длинная нечитаемая подсвеченная строка! ",-1),_hoisted_58$n=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_59$n=createBaseVNode("div",null,"Нужно ",-1),_hoisted_60$m={class:"mb-2"},_hoisted_61$l=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-token-dev"},"Токен бота (для тестирования)",-1),_hoisted_62$j={class:"mb-2"},_hoisted_63$j={class:"d-flex justify-content-between align-items-center flex-wrap"},_hoisted_64$h={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center w-100",id:"bot-order-channel"},_hoisted_65$h=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_66$h=createBaseVNode("div",null,"Ввести адрес ссылки на канал в форму после добавления тоукена ",-1),_hoisted_67$h=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_68$h=[_hoisted_67$h],_hoisted_69$h=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_70$h=createBaseVNode("div",null,"Нужно ",-1),_hoisted_71$h={class:"mb-2"},_hoisted_72$g={class:"d-flex justify-content-between"},_hoisted_73$g={class:"form-label d-flex justify-content-between mt-2",id:"bot-main-channel"},_hoisted_74$f=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_75$f=[_hoisted_74$f],_hoisted_76$e={key:1,class:"mb-0"},_hoisted_77$e={class:"mb-2"},_hoisted_78$d={class:"d-flex justify-content-between flex-wrap"},_hoisted_79$d={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-description"},_hoisted_80$d=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_81$d=createBaseVNode("div",null,"Отобразится пользователю при первом запуске",-1),_hoisted_82$d=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_83$c=createBaseVNode("div",null,"Нужно ",-1),_hoisted_84$b={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_85$a={class:"mb-2"},_hoisted_86$a={class:"d-flex justify-content-between flex-wrap"},_hoisted_87$a={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-description"},_hoisted_88$a=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_89$a=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_90$a=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_91$a=createBaseVNode("div",null,"Нужно ",-1),_hoisted_92$a={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_93$a={class:"mb-2"},_hoisted_94$a={class:"d-flex justify-content-between flex-wrap"},_hoisted_95$a={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-maintenance-message"},_hoisted_96$8=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_97$8=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_98$8=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_99$8=createBaseVNode("div",null,"Нужно ",-1),_hoisted_100$8={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_101$8={class:"mb-2"},_hoisted_102$8={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-level-1"},_hoisted_103$8=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_104$7=createBaseVNode("div",null,"Нужно ",-1),_hoisted_105$7={class:"mb-2"},_hoisted_106$6=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-2"},"Уровень 2 CashBack, %",-1),_hoisted_107$6={class:"mb-2"},_hoisted_108$6=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},"Уровень 3 CashBack, %",-1),_hoisted_109$6={class:"mb-2"},_hoisted_110$5={class:"form-check"},_hoisted_111$4=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему ",-1),_hoisted_112$4={key:0,class:"mb-2"},_hoisted_113$4={class:"form-check"},_hoisted_114$4=["value"],_hoisted_115$4=createBaseVNode("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),_hoisted_116$4={class:"mb-2"},_hoisted_117$4={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_118$4=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_119$4=createBaseVNode("div",null,"Если в боте планируется оплата, то необходимо через BotFather привязать нужную платежную систему и указать в данном поле полученный токен ",-1),_hoisted_120$3=createBaseVNode("a",{href:"https://t.me/botfather",target:"_blank"},"Подключить",-1),_hoisted_121$3={class:"mb-2"},_hoisted_122$3={class:"form-check"},_hoisted_123$3=createBaseVNode("label",{class:"form-check-label",for:"need-shop"}," Необходимо интегрировать магазин в бота ",-1),_hoisted_124$3={key:1,class:"mb-2"},_hoisted_125$3={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_126$3=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_127$3=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_128$3=createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),_hoisted_129$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_130$2={class:"mb-2"},_hoisted_131$2={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_132$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_133$1=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_134$1=createBaseVNode("a",{target:"_blank",href:"https://telegra.ph"},"Создать",-1),_hoisted_135$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_136$1=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_137$1={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_138$1=createBaseVNode("small",null,"Ссылка",-1),_hoisted_139$1=["onClick"],_hoisted_140$1=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_141$1=[_hoisted_140$1],_hoisted_142$1=["onUpdate:modelValue","aria-describedby"],_hoisted_143$1=["onUpdate:modelValue"],_hoisted_144$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_145$1={class:"d-flex justify-content-between align-items-center"},_hoisted_146$1=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_147$1=createBaseVNode("div",null,"Нужно ",-1),_hoisted_148$1={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_149$1={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_150$1=createBaseVNode("span",null,"+",-1),_hoisted_151$1={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_152$1={class:"remove"},_hoisted_153$1=["onClick"],_hoisted_154$1=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_155$1=[_hoisted_154$1],_hoisted_156$1={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_157$1={class:"remove"},_hoisted_158$1=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_159$1=[_hoisted_158$1],_hoisted_160$1=["disabled"],_hoisted_161$1={key:1,class:"content"},_hoisted_162$1=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_163$1=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_164$1=[_hoisted_162$1,_hoisted_163$1];function _sfc_render$13(o,t,a,i,s,r){const n=resolveComponent("Popper"),l=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2H,[s.bot?(openBlock(),createElementBlock("div",_hoisted_2$2C,[createBaseVNode("div",_hoisted_3$2z,[withDirectives(createBaseVNode("img",_hoisted_4$2s,null,512),[[l,"/images-by-company-id/"+s.bot.company_id+"/"+s.bot.image]])]),createBaseVNode("h2",_hoisted_5$2o,[s.bot.bot_domain?(openBlock(),createElementBlock("span",_hoisted_6$2n,toDisplayString(s.bot.bot_domain.length>20?s.bot.bot_domain.substring(0,20)+"...":s.bot.bot_domain),1)):(openBlock(),createElementBlock("span",_hoisted_7$2f,"Нет домена"))]),createBaseVNode("p",_hoisted_8$2a,[createBaseVNode("a",_hoisted_9$26,[_hoisted_10$1Y,createTextVNode(" Баланс "+toDisplayString(s.bot.balance||"0")+" ₽",1)])]),createBaseVNode("p",_hoisted_11$1U,[_hoisted_12$1R,createTextVNode(" Тариф "+toDisplayString(s.bot.tax_per_day||"0")+" ₽/день ",1)]),createBaseVNode("p",_hoisted_13$1M,[_hoisted_14$1I,createTextVNode(" Дней "+toDisplayString(Math.round(s.bot.balance/s.bot.tax_per_day))+" осталось ",1)]),createBaseVNode("div",_hoisted_15$1H,[createBaseVNode("div",_hoisted_16$1F,[withDirectives(createBaseVNode("input",{type:"checkbox",onChange:t[0]||(t[0]=(...c)=>r.switchStatus&&r.switchStatus(...c)),"onUpdate:modelValue":t[1]||(t[1]=c=>s.botForm.is_active=c),class:"ios-input",id:"toggle-id-1"},null,544),[[vModelCheckbox,s.botForm.is_active]]),_hoisted_17$1y]),s.botForm.is_active?(openBlock(),createElementBlock("span",_hoisted_18$1u,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_19$1p,"Выкл"))]),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[2]||(t[2]=(...c)=>r.removeBot&&r.removeBot(...c)),class:"btn btn-m btn-full mb-3 rounded-xl text-uppercase font-900 shadow-s color-red2-light"},"Удалить бота")])):(openBlock(),createElementBlock("div",_hoisted_20$1n,_hoisted_23$1i)),_hoisted_24$1e]),s.need_demo?(openBlock(),createElementBlock("div",_hoisted_25$18,[_hoisted_26$16,createBaseVNode("h6",null,[createBaseVNode("a",_hoisted_27$12,toDisplayString(s.botForm.bot_domain),1)]),createBaseVNode("p",_hoisted_28$10,[createBaseVNode("small",null,toDisplayString(s.botForm.name||"Не указано имя"),1)]),createBaseVNode("div",_hoisted_29$Y,[createBaseVNode("iframe",{style:{border:"none"},src:"/web/"+s.botForm.bot_domain},null,8,_hoisted_30$W)]),s.botForm.token?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_31$U,_hoisted_35$M))])):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:t[28]||(t[28]=withModifiers((...c)=>r.addBot&&r.addBot(...c),["prevent"]))},[s.bot?(openBlock(),createElementBlock("div",_hoisted_36$L,[s.botForm.bot_domain?(openBlock(),createElementBlock("div",_hoisted_37$J,[createBaseVNode("div",_hoisted_38$H,[createBaseVNode("h5",_hoisted_39$H,[s.need_demo?(openBlock(),createElementBlock("strong",_hoisted_40$C,"Отобразить демо бота")):createCommentVNode("",!0),s.need_demo?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_41$C,"Не отображать демо бота"))])]),createBaseVNode("div",_hoisted_42$C,[createBaseVNode("div",_hoisted_43$C,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=c=>s.need_demo=c),class:"ios-input",id:"toggle-demo-bot"},null,512),[[vModelCheckbox,s.need_demo]]),_hoisted_44$C,_hoisted_45$C,_hoisted_46$B])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_47$y,[createBaseVNode("label",_hoisted_48$y,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_50$w]),default:withCtx(()=>[_hoisted_49$w]),_:1}),createTextVNode(" Доменное имя бота из BotFather ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_52$v]),default:withCtx(()=>[_hoisted_51$u]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота","onUpdate:modelValue":t[4]||(t[4]=c=>s.botForm.bot_domain=c),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,s.botForm.bot_domain]]),s.botForm.bot_domain?(openBlock(),createElementBlock("p",_hoisted_53$u,[createTextVNode("Проверить работу бота "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[5]||(t[5]=c=>r.openUrl("https://t.me/"+s.botForm.bot_domain))},"@"+toDisplayString(s.botForm.bot_domain),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_54$u,[createBaseVNode("label",_hoisted_55$r,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_57$p]),default:withCtx(()=>[_hoisted_56$q]),_:1}),createTextVNode(" Токен бота ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_59$n]),default:withCtx(()=>[_hoisted_58$n]),_:1}),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[6]||(t[6]=c=>r.openUrl("https://t.me/botfather")),class:"w-100",target:"_blank"},"Создать нового бота в ТГ")]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[7]||(t[7]=c=>s.botForm.bot_token=c),maxlength:"255","aria-describedby":"bot-token",required:""},null,512),[[vModelText,s.botForm.bot_token]])]),createBaseVNode("div",_hoisted_60$m,[_hoisted_61$l,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[8]||(t[8]=c=>s.botForm.bot_token_dev=c),maxlength:"255","aria-describedby":"bot-token-dev"},null,512),[[vModelText,s.botForm.bot_token_dev]])]),createBaseVNode("div",_hoisted_62$j,[createBaseVNode("div",_hoisted_63$j,[createBaseVNode("label",_hoisted_64$h,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_66$h]),default:withCtx(()=>[_hoisted_65$h]),_:1}),createTextVNode(" Канал для заказов (id) "),createBaseVNode("span",{onClick:t[9]||(t[9]=c=>r.requestChannelId("order_channel"))},_hoisted_68$h)]),createVNode(n,null,{content:withCtx(()=>[_hoisted_70$h]),default:withCtx(()=>[_hoisted_69$h]),_:1})])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[10]||(t[10]=c=>s.botForm.order_channel=c),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[vModelText,s.botForm.order_channel]])]),createBaseVNode("div",_hoisted_71$h,[createBaseVNode("div",_hoisted_72$g,[createBaseVNode("label",_hoisted_73$g,[createTextVNode("Канал для постов (id,рекламный) "),createBaseVNode("span",{onClick:t[11]||(t[11]=c=>r.requestChannelId("main_channel"))},_hoisted_75$f)])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[12]||(t[12]=c=>s.botForm.main_channel=c),maxlength:"255","aria-describedby":"bot-main-channel"},null,512),[[vModelText,s.botForm.main_channel]])]),s.botForm.bot_token?(openBlock(),createElementBlock("div",_hoisted_76$e,[createBaseVNode("div",_hoisted_77$e,[createBaseVNode("div",_hoisted_78$d,[createBaseVNode("label",_hoisted_79$d,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_81$d]),default:withCtx(()=>[_hoisted_80$d]),_:1}),createTextVNode(" Приветственное сообщение ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_83$c]),default:withCtx(()=>[_hoisted_82$d]),_:1})]),s.botForm.welcome_message?(openBlock(),createElementBlock("small",_hoisted_84$b," Длина текста "+toDisplayString(s.botForm.welcome_message.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое приветствие при запуске бота","aria-label":"Текстовое приветствие при запуске бота","onUpdate:modelValue":t[13]||(t[13]=c=>s.botForm.welcome_message=c),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,s.botForm.welcome_message]])]),createBaseVNode("div",_hoisted_85$a,[createBaseVNode("div",_hoisted_86$a,[createBaseVNode("label",_hoisted_87$a,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_89$a]),default:withCtx(()=>[_hoisted_88$a]),_:1}),createTextVNode(" Описание бота ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_91$a]),default:withCtx(()=>[_hoisted_90$a]),_:1})]),s.botForm.description?(openBlock(),createElementBlock("small",_hoisted_92$a," Длина текста "+toDisplayString(s.botForm.description.length)+" / 255",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое описание бота","aria-label":"Текстовое описание бота","onUpdate:modelValue":t[14]||(t[14]=c=>s.botForm.description=c),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,s.botForm.description]])]),createBaseVNode("div",_hoisted_93$a,[createBaseVNode("div",_hoisted_94$a,[createBaseVNode("label",_hoisted_95$a,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_97$8]),default:withCtx(()=>[_hoisted_96$8]),_:1}),createTextVNode(" Режим тех. работ ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_99$8]),default:withCtx(()=>[_hoisted_98$8]),_:1})]),s.botForm.maintenance_message?(openBlock(),createElementBlock("small",_hoisted_100$8," Длина текста "+toDisplayString(s.botForm.maintenance_message.length)+" / 255 ",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":t[15]||(t[15]=c=>s.botForm.maintenance_message=c),maxlength:"255",style:{"min-height":"200px"},"aria-describedby":"bot-maintenance-message",required:""},`
                    `,512),[[vModelText,s.botForm.maintenance_message]])]),createBaseVNode("div",_hoisted_101$8,[createBaseVNode("label",_hoisted_102$8,[createTextVNode(" Уровень 1 CashBack, % "),createVNode(n,null,{content:withCtx(()=>[_hoisted_104$7]),default:withCtx(()=>[_hoisted_103$8]),_:1})]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[16]||(t[16]=c=>s.botForm.level_1=c),max:"50",min:"0","aria-describedby":"bot-level-1",required:""},null,512),[[vModelText,s.botForm.level_1]])]),createBaseVNode("div",_hoisted_105$7,[_hoisted_106$6,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[17]||(t[17]=c=>s.botForm.level_2=c),max:"50",min:"0","aria-describedby":"bot-level-2"},null,512),[[vModelText,s.botForm.level_2]])]),createBaseVNode("div",_hoisted_107$6,[_hoisted_108$6,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[18]||(t[18]=c=>s.botForm.level_3=c),max:"50",min:"0","aria-describedby":"bot-level-3"},null,512),[[vModelText,s.botForm.level_3]])]),createBaseVNode("div",_hoisted_109$6,[createBaseVNode("div",_hoisted_110$5,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=c=>s.need_payments=c),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,s.need_payments]]),_hoisted_111$4])]),s.need_payments?(openBlock(),createElementBlock("div",_hoisted_112$4,[createBaseVNode("div",_hoisted_113$4,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",value:s.botForm.auto_cashback_on_payments,"onUpdate:modelValue":t[20]||(t[20]=c=>s.botForm.auto_cashback_on_payments=c),id:"bot-auto-cashback-on-payments"},null,8,_hoisted_114$4),[[vModelCheckbox,s.botForm.auto_cashback_on_payments]]),_hoisted_115$4]),createBaseVNode("div",_hoisted_116$4,[createBaseVNode("label",_hoisted_117$4,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_119$4]),default:withCtx(()=>[_hoisted_118$4]),_:1}),createTextVNode(" Токен платежной системы ")]),_hoisted_120$3]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"уровень CashBack","onUpdate:modelValue":t[21]||(t[21]=c=>s.botForm.payment_provider_token=c),"aria-describedby":"bot-level-3"},null,512),[[vModelText,s.botForm.payment_provider_token]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_121$3,[createBaseVNode("div",_hoisted_122$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[22]||(t[22]=c=>s.need_shop=c),type:"checkbox",id:"need-shop"},null,512),[[vModelCheckbox,s.need_shop]]),_hoisted_123$3])]),s.need_shop?(openBlock(),createElementBlock("div",_hoisted_124$3,[createBaseVNode("label",_hoisted_125$3,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_127$3]),default:withCtx(()=>[_hoisted_126$3]),_:1}),createTextVNode(" ВК-группа ")]),_hoisted_128$3]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":t[23]||(t[23]=c=>s.botForm.vk_shop_link=c),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,s.botForm.vk_shop_link]])])):createCommentVNode("",!0),_hoisted_129$3,createBaseVNode("div",_hoisted_130$2,[createBaseVNode("label",_hoisted_131$2,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_133$1]),default:withCtx(()=>[_hoisted_132$1]),_:1}),createTextVNode(" Информационная ссылка ")]),_hoisted_134$1]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Ссылка ресурс telegraph","aria-label":"Ссылка ресурс telegraph",maxlength:"255","onUpdate:modelValue":t[24]||(t[24]=c=>s.botForm.info_link=c),"aria-describedby":"bot-info-link"},null,512),[[vModelText,s.botForm.info_link]])]),_hoisted_135$1,_hoisted_136$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.social_links,(c,m)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+m},[createBaseVNode("div",_hoisted_137$1,[_hoisted_138$1,createBaseVNode("button",{type:"button",onClick:p=>r.removeItem("social_links",m),class:"btn btn-link text-danger"},_hoisted_141$1,8,_hoisted_139$1)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название ссылки","aria-label":"Название ссылки",maxlength:"255","onUpdate:modelValue":p=>s.botForm.social_links[m].title=p,"aria-describedby":"bot-social-link-"+m,required:""},null,8,_hoisted_142$1),[[vModelText,s.botForm.social_links[m].title]]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":p=>s.botForm.social_links[m].url=p},null,8,_hoisted_143$1),[[vModelText,s.botForm.social_links[m].url]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=c=>r.addSocialLinks()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_144$1,createBaseVNode("h6",_hoisted_145$1,[createTextVNode("Аватар для бота "),createVNode(n,null,{content:withCtx(()=>[_hoisted_147$1]),default:withCtx(()=>[_hoisted_146$1]),_:1})]),createBaseVNode("div",_hoisted_148$1,[createBaseVNode("label",_hoisted_149$1,[_hoisted_150$1,createBaseVNode("input",{type:"file",id:"bot-photos",multiple:"",accept:"image/*",onChange:t[26]||(t[26]=(...c)=>r.onChangePhotos&&r.onChangePhotos(...c)),style:{display:"none"}},null,32)]),s.botForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.botForm.photos,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_151$1,[withDirectives(createBaseVNode("img",null,null,512),[[l,r.getPhoto(c).imageUrl]]),createBaseVNode("div",_hoisted_152$1,[createBaseVNode("a",{onClick:p=>r.removePhoto(m)},_hoisted_155$1,8,_hoisted_153$1)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_156$1,[withDirectives(createBaseVNode("img",null,null,512),[[l,"/images-by-bot-id/"+s.bot.id+"/"+s.botForm.image]]),createBaseVNode("div",_hoisted_157$1,[createBaseVNode("a",{onClick:t[27]||(t[27]=c=>r.removePhoto())},_hoisted_159$1)])]))]),createBaseVNode("button",{disabled:!s.botForm.bot_token,type:"submit",class:"btn btn-m btn-full mb-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить настройки ",8,_hoisted_160$1)])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_161$1,_hoisted_164$1))],32)],64)}const BotEditor=_export_sfc(_sfc_main$2H,[["render",_sfc_render$13]]),_hoisted_1$2G={key:0},_hoisted_2$2B={class:"d-flex flex-column mt-2"},_hoisted_3$2y={key:0},_hoisted_4$2r=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_5$2n=["onClick"],_hoisted_6$2m=createBaseVNode("a",{href:"#",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_7$2e={key:1},_hoisted_8$29=createBaseVNode("div",{class:"alert alert-warning mt-2",role:"alert"}," К сожалению мы не нашли нужных ботов... ",-1),_hoisted_9$25=[_hoisted_8$29],__default__$1B={props:{companyId:null,selectedBot:null},data(){return{selectedBotId:null,need_self_bots:!1,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],search:null,bots_paginate_object:null}},watch:{need_self_bots:function(){this.loadBots()}},computed:{...mapGetters(["getBots","getBotsPaginateObject","getCurrentCompany"]),filteredBots(){return this.bots?this.bots.filter(o=>o.deleted_at==null):[]}},mounted(){this.loadBots()},methods:{removeBotCallback(){this.loadBots(),this.selectedBotId=null},duplicate(o){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:o,company_id:this.getCurrentCompany.id}}).then(t=>{let a=this.bots_paginate_object.meta.current_page||0;this.loadBots(a),this.$notify("Указанный бот успешно продублирован")})},selectBot(o){this.loading=!0,this.selectedBotId=o.id,this.$nextTick(()=>{this.loading=!1}),this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(o){this.loadBots(o)},loadBots(o=0){this.loading=!0,this.$store.dispatch("loadSimpleBots",{dataObject:{companyId:this.companyId||null,needSelfBots:!0,search:this.search},size:5,page:o}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2G=Object.assign(__default__$1B,{__name:"BotListSelf",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.show?(openBlock(),createElementBlock("div",_hoisted_1$2G,[createBaseVNode("div",_hoisted_2$2B,[withDirectives(createBaseVNode("input",{type:"search",class:"form-control mb-2",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:a[1]||(a[1]=i=>t.loadBots(0)),type:"button",id:"button-addon2"},"Найти ")]),t.bots.length>0?(openBlock(),createElementBlock("div",_hoisted_3$2y,[_hoisted_4$2r,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredBots,(i,s)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",class:normalizeClass(["d-flex justify-content-between align-items-center btn btn-border px-2 py-1 btn-full mb-2 rounded-xl text-uppercase font-900 bg-theme",{" border-blue2-dark color-blue2-dark":t.selectedBotId!=i.id," border-green2-dark color-green2-dark":t.selectedBotId===i.id}])},[createBaseVNode("strong",{onClick:r=>t.selectBot(i),class:"font-12 w-100 text-center",style:{"word-wrap":"break-word"}},[createBaseVNode("i",{class:normalizeClass([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),createTextVNode(toDisplayString(i.bot_domain||"Не указано"),1)],8,_hoisted_5$2n),_hoisted_6$2m],2))),256)),t.bots_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_7$2e,_hoisted_9$25))])):createCommentVNode("",!0),t.selectedBotId&&!t.loading?(openBlock(),createBlock(BotEditor,{key:1,onRemove:t.removeBotCallback,"bot-id":t.selectedBotId},null,8,["onRemove","bot-id"])):createCommentVNode("",!0)],64))}}),_hoisted_1$2F=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),__default__$1A={data(){return{selectedCompanyId:!1,botUser:null,loading:!1}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{selectCompany(o){this.loading=!0,this.selectedCompanyId=o.id,this.$nextTick(()=>{this.loading=!1}),this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного клиента!")},selectBot(o){this.form.selected_bot_id=o.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного бота!")}}},_sfc_main$2F=Object.assign(__default__$1A,{__name:"Clients",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$2L,{"visual-mode":"true",onCallback:t.selectCompany},null,8,["onCallback"]),_hoisted_1$2F,t.selectedCompanyId!=null&&!t.loading?(openBlock(),createBlock(_sfc_main$2G,{key:0,"company-id":t.selectedCompanyId},null,8,["company-id"])):createCommentVNode("",!0)],64))}}),_hoisted_1$2E={class:"card card-style"},_hoisted_2$2A={class:"content mb-0"},_hoisted_3$2x=createBaseVNode("h6",null,"Список ваших клиентов",-1),__default__$1z={data(){},computed:{},watch:{},mounted(){},methods:{}},_sfc_main$2E=Object.assign(__default__$1z,{__name:"Clients",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2E,[createBaseVNode("div",_hoisted_2$2A,[_hoisted_3$2x,createVNode(_sfc_main$2F)])]))}}),Clients$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2E},Symbol.toStringTag,{value:"Module"})),PartnersList_vue_vue_type_style_index_0_scoped_a81c1ab4_lang="",_sfc_main$2D={data(){return{load:!1,friends:[]}},watch:{getSelf:function(){this.loadFriendsWeb()}},mounted(){this.loadFriendsWeb()},computed:{...mapGetters(["getSelf"])},methods:{showPartner(){this.$botNotification.notification("Партнеры","Просмотр информации о партнере еще недоступен")},loadFriendsWeb(){this.loading=!0,this.$store.dispatch("loadFriendsWeb").then(o=>{this.loading=!1,this.friends=o}).catch(()=>{this.loading=!1})}}},_withScopeId$m=o=>(pushScopeId("data-v-a81c1ab4"),o=o(),popScopeId(),o),_hoisted_1$2D={class:"d-flex"},_hoisted_2$2z={class:"w-35 border-right pr-3 border-highlight partner-avatar"},_hoisted_3$2w={key:0,"data-src":"images/avatars/1s.png",width:"80",class:"bg-highlight rounded-circle preload-img"},_hoisted_4$2q={key:1,"data-src":"images/avatars/1s.png",width:"80",class:"bg-highlight rounded-circle preload-img"},_hoisted_5$2m={class:"font-14 font-600 mt-2 text-center"},_hoisted_6$2l=_withScopeId$m(()=>createBaseVNode("p",{class:"color-blue2-dark mt-n3 font-9 font-400 text-center mb-0 pt-1"},"Партнер первой линии",-1)),_hoisted_7$2d={class:"w-65 pl-3 pt-2"},_hoisted_8$28=_withScopeId$m(()=>createBaseVNode("h5",null,"Команда партнера",-1)),_hoisted_9$24={class:"color-highlight mt-n3 font-10 pt-1 mb-3"},_hoisted_10$1X={key:0,"data-src":"images/avatars/1s.png",width:"40",class:"rounded-circle preload-img"},_hoisted_11$1T={key:1,"data-src":"images/avatars/1s.png",width:"40",class:"rounded-circle preload-img"},_hoisted_12$1Q={key:2,class:"sub-badge-count rounded-circle bg-highlight color-white"},_hoisted_13$1L={key:1,href:"javascript:void(0)"},_hoisted_14$1H={class:"rounded-circle preload-img bg-highlight color-white sub-partner-badge"},_hoisted_15$1G=_withScopeId$m(()=>createBaseVNode("div",{class:"divider mt-4"},null,-1)),_hoisted_16$1E={key:1};function _sfc_render$12(o,t,a,i,s,r){const n=resolveDirective("lazy");return s.friends.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.friends,(l,c)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$2D,[createBaseVNode("div",_hoisted_2$2z,[l.manager?withDirectives((openBlock(),createElementBlock("img",_hoisted_3$2w,null,512)),[[n,l.manager.image||null]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_4$2q,null,512)),[[n,"/images/manager.png"]]),createBaseVNode("h6",_hoisted_5$2m,toDisplayString(l.fio_from_telegram||"Не задано"),1),_hoisted_6$2l]),createBaseVNode("div",_hoisted_7$2d,[_hoisted_8$28,createBaseVNode("p",_hoisted_9$24,"Всего партнеров: "+toDisplayString(l.child.length),1),l.child.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(l.child.slice(0,4),m=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...p)=>r.showPartner&&r.showPartner(...p)),class:"d-inline-block position-relative"},[m.manager?withDirectives((openBlock(),createElementBlock("img",_hoisted_10$1X,null,512)),[[n,m.manager.image||null]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_11$1T,null,512)),[[n,"/images/manager.png"]]),m.child.length>0?(openBlock(),createElementBlock("span",_hoisted_12$1Q,toDisplayString(m.child.length),1)):createCommentVNode("",!0)]))),256)):createCommentVNode("",!0),l.child.length>4?(openBlock(),createElementBlock("a",_hoisted_13$1L,[createBaseVNode("span",_hoisted_14$1H,"+"+toDisplayString(l.child.length-4),1)])):createCommentVNode("",!0),l.child.length===0?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",onClick:t[1]||(t[1]=(...m)=>r.showPartner&&r.showPartner(...m))}," У вашего друга нет собственных партнеров ")):createCommentVNode("",!0)])]),_hoisted_15$1G]))),256)):(openBlock(),createElementBlock("p",_hoisted_16$1E,"К сожалению на текущий момент у Вас нет ни 1 партнера:("))}const PartnersList=_export_sfc(_sfc_main$2D,[["render",_sfc_render$12],["__scopeId","data-v-a81c1ab4"]]),Profile_vue_vue_type_style_index_0_scoped_62d7693d_lang="",_withScopeId$l=o=>(pushScopeId("data-v-62d7693d"),o=o(),popScopeId(),o),_hoisted_1$2C={key:0},_hoisted_2$2y={class:"card-bottom ml-3"},_hoisted_3$2v={class:"font-40 line-height-xl"},_hoisted_4$2p={class:"pb-0 mb-0 font-12"},_hoisted_5$2l=_withScopeId$l(()=>createBaseVNode("i",{class:"fa fa-map-marker mr-2"},null,-1)),_hoisted_6$2k={key:0},_hoisted_7$2c=_withScopeId$l(()=>createBaseVNode("div",{class:"card-overlay bg-gradient-fade"},null,-1)),_hoisted_8$27={class:"card card-style"},_hoisted_9$23={class:"content mb-0"},_hoisted_10$1W=_withScopeId$l(()=>createBaseVNode("h3",{class:"text-center py-3"},"Общая статистика менеджера",-1)),_hoisted_11$1S={class:"row mb-0 text-center"},_hoisted_12$1P={class:"col-4"},_hoisted_13$1K={class:"mb-n1"},_hoisted_14$1G=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Клиентов",-1)),_hoisted_15$1F={class:"col-4"},_hoisted_16$1D={class:"mb-n1"},_hoisted_17$1x=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Ботов",-1)),_hoisted_18$1t={class:"col-4"},_hoisted_19$1o={class:"mb-n1"},_hoisted_20$1m=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Пользователей",-1)),_hoisted_21$1i=_withScopeId$l(()=>createBaseVNode("div",{class:"divider mb-4 mt-3"},null,-1)),_hoisted_22$1i={class:"row mb-0 text-center"},_hoisted_23$1h={class:"col-6"},_hoisted_24$1d={class:"mb-n1"},_hoisted_25$17=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"К-Слотов",-1)),_hoisted_26$15={class:"col-6"},_hoisted_27$11={class:"mb-n1"},_hoisted_28$$=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Б-Слотов",-1)),_hoisted_29$X=_withScopeId$l(()=>createBaseVNode("div",{class:"divider mb-4 mt-3"},null,-1)),_hoisted_30$V={class:"row mb-0 text-center"},_hoisted_31$T={class:"col-12"},_hoisted_32$Q={class:"mb-n1"},_hoisted_33$Q=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Денег для вывода",-1)),_hoisted_34$O={class:"col-12"},_hoisted_35$L={class:"mb-n1"},_hoisted_36$K=_withScopeId$l(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Внутренний счет",-1)),_hoisted_37$I=createStaticVNode('<div class="divider mb-4 mt-3" data-v-62d7693d></div><div class="row mb-0 pb-4" data-v-62d7693d><div class="col-12 mb-2" data-v-62d7693d><a href="#" class="btn btn-m btn-full rounded-s bg-highlight text-uppercase font-900" data-v-62d7693d>Пополнить баланс</a></div><div class="col-12" data-v-62d7693d><a href="#" class="btn btn-m btn-border btn-full rounded-s border-highlight color-highlight text-uppercase font-900" data-v-62d7693d>Скачать статистику</a></div></div>',2),_hoisted_39$G={class:"card card-style p-3"},_hoisted_40$B={class:"mb-0"},_hoisted_41$B={class:"mb-0"},_hoisted_42$B={class:"mb-0"},_hoisted_43$B={class:"mb-0"},_hoisted_44$B={class:"mb-0"},_hoisted_45$B={class:"mb-0"},_hoisted_46$A={class:"mb-0"},_hoisted_47$x={class:"mb-3"},_hoisted_48$x=createStaticVNode("<h6 data-v-62d7693d>Вам доступны следующие возможности:</h6><ul data-v-62d7693d><li data-v-62d7693d>Регистрация клиента</li><li data-v-62d7693d>Создание ботов любой конфигурации и сложности</li><li data-v-62d7693d>Выставление счетов на оплату и прием платеже за обслуживание</li><li data-v-62d7693d>Реферальная программа</li><li data-v-62d7693d>Профессиональное обучение</li><li data-v-62d7693d>Использование ресурсов компании для привлечения клиентов: маркетологи, дизайнеры, smm-специалисты, программисты </li><li data-v-62d7693d>Тех.поддержка по системе 24\\7</li></ul><h6 data-v-62d7693d> Ваши бонусы:</h6><ul data-v-62d7693d><li data-v-62d7693d>Оплата за регистрацию клиента (после его оплаты)</li><li data-v-62d7693d>Начисление персональной скидки (сгораемой и несгораемой)</li><li data-v-62d7693d>Получение бонусных доходов с реферальной программы 1, 2 и 3 уровня: ваши друзья работают, а вы получаете доход. Доход ограничен лишь числом друзей. </li></ul>",4),_hoisted_52$u={class:"card card-style"},_hoisted_53$t={class:"content mb-0"},_hoisted_54$t=_withScopeId$l(()=>createBaseVNode("h6",null,"Список ваших клиентов",-1)),_hoisted_55$q={class:"card card-style"},_hoisted_56$p={class:"content"},_hoisted_57$o=_withScopeId$l(()=>createBaseVNode("h3",{class:"py-3"},"Мои партнеры",-1)),__default__$1y={data(){return{load:!1,confirm:!1,step:0,statistic:{clients_count:0,bots_count:0,bot_users_count:0,free_client_slot_count:0,free_bot_slot_count:0,ref_code:0},botUser:null,managerForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,referral:null,strengths:[""],weaknesses:[""],educations:[""],social_links:[""],skills:[{title:null,value:50}],info:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.managerForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.managerForm.phone=this.botUser.phone||null,this.managerForm.email=this.botUser.email||null,this.managerForm.birthday=this.botUser.birthday||null,this.managerForm.city=this.botUser.city||null,this.managerForm.country=this.botUser.country||null,this.managerForm.address=this.botUser.address||null,this.managerForm.sex=this.botUser.sex||!0,this.loadManagerData()}},mounted(){},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{nextStep(){this.step++},remove(o,t){this.managerForm[o].splice(t,1)},add(o){o!=="skills"?this.managerForm[o].push(""):this.managerForm[o].push({title:null,value:50})},copyToClipboard(){navigator.clipboard.writeText(this.statistic.ref_code),this.$botNotification.notification("Реферальный код","Код скопирован в буфер обмена")},loadManagerData(){this.loading=!0,this.$store.dispatch("loadManagerData").then(o=>{this.loading=!1,this.statistic=o}).catch(()=>{this.loading=!1})},submit(){this.loading=!0;let o=new FormData;Object.keys(this.managerForm).forEach(t=>{const a=this.managerForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("saveManager",o).then(t=>{window.location.reload()}).catch(()=>{this.loading=!1})}}},_sfc_main$2C=Object.assign(__default__$1y,{__name:"Profile",setup(o){return(t,a)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2C,[t.botUser.manager?(openBlock(),createElementBlock("div",{key:0,class:"card card-style preload-img",style:normalizeStyle([{"background-image":"url('"+t.botUser.manager.image+"')"},{height:"55vh"}])},[createBaseVNode("div",_hoisted_2$2y,[createBaseVNode("h1",_hoisted_3$2v,toDisplayString(t.botUser.name),1),createBaseVNode("p",_hoisted_4$2p,[_hoisted_5$2l,createTextVNode(toDisplayString(t.botUser.city),1)]),t.botUser.manager.info?(openBlock(),createElementBlock("p",_hoisted_6$2k,toDisplayString(t.botUser.manager.info),1)):createCommentVNode("",!0),t.statistic.ref_code?(openBlock(),createElementBlock("p",{key:1,class:"cursor-pointer",onClick:a[0]||(a[0]=(...i)=>t.copyToClipboard&&t.copyToClipboard(...i))},[createTextVNode(" Ваш реферальный код: "),createBaseVNode("strong",null,toDisplayString(t.statistic.ref_code),1)])):createCommentVNode("",!0)]),_hoisted_7$2c],4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$27,[createBaseVNode("div",_hoisted_9$23,[_hoisted_10$1W,createBaseVNode("div",_hoisted_11$1S,[createBaseVNode("div",_hoisted_12$1P,[createBaseVNode("h1",_hoisted_13$1K,toDisplayString(t.statistic.clients_count),1),_hoisted_14$1G]),createBaseVNode("div",_hoisted_15$1F,[createBaseVNode("h1",_hoisted_16$1D,toDisplayString(t.statistic.bots_count),1),_hoisted_17$1x]),createBaseVNode("div",_hoisted_18$1t,[createBaseVNode("h1",_hoisted_19$1o,toDisplayString(t.statistic.bot_users_count),1),_hoisted_20$1m])]),_hoisted_21$1i,createBaseVNode("div",_hoisted_22$1i,[createBaseVNode("div",_hoisted_23$1h,[createBaseVNode("h1",_hoisted_24$1d,toDisplayString(t.statistic.free_client_slot_count),1),_hoisted_25$17]),createBaseVNode("div",_hoisted_26$15,[createBaseVNode("h1",_hoisted_27$11,toDisplayString(t.statistic.free_bot_slot_count),1),_hoisted_28$$])]),_hoisted_29$X,createBaseVNode("div",_hoisted_30$V,[createBaseVNode("div",_hoisted_31$T,[createBaseVNode("h1",_hoisted_32$Q,toDisplayString(t.botUser.cashBack.amount)+" руб",1),_hoisted_33$Q]),createBaseVNode("div",_hoisted_34$O,[createBaseVNode("h3",_hoisted_35$L,toDisplayString(t.botUser.manager.balance)+" руб",1),_hoisted_36$K])]),_hoisted_37$I])]),createBaseVNode("div",_hoisted_39$G,[createBaseVNode("p",_hoisted_40$B,"Имя: "+toDisplayString(t.botUser.name||"Не указано"),1),createBaseVNode("p",_hoisted_41$B,"Телефон: "+toDisplayString(t.botUser.phone||"Не указано"),1),createBaseVNode("p",_hoisted_42$B,"Город: "+toDisplayString(t.botUser.city||"Не указано"),1),createBaseVNode("p",_hoisted_43$B,"Дата рождения: "+toDisplayString(t.botUser.birthday||"Не указано"),1),createBaseVNode("p",_hoisted_44$B,"Ваш баланс: "+toDisplayString(t.botUser.manager.balance||0)+" руб",1),createBaseVNode("p",_hoisted_45$B,"Пол: "+toDisplayString(t.botUser.sex?"Мужской":"Женский"),1),createBaseVNode("p",_hoisted_46$A,"Колл-во слотов под клиентов: "+toDisplayString(t.botUser.manager.max_company_slot_count||0),1),createBaseVNode("p",_hoisted_47$x,"Колл-во слотов под ботов у клиента: "+toDisplayString(t.botUser.manager.max_bot_slot_count||0),1),_hoisted_48$x,createVNode(ReturnToBot,{class:"mb-2"})]),createBaseVNode("div",_hoisted_52$u,[createBaseVNode("div",_hoisted_53$t,[_hoisted_54$t,createVNode(_sfc_main$2F)])]),createBaseVNode("div",_hoisted_55$q,[createBaseVNode("div",_hoisted_56$p,[_hoisted_57$o,createVNode(PartnersList)])])])):createCommentVNode("",!0)}}),ManagerProfile=_export_sfc(_sfc_main$2C,[["__scopeId","data-v-62d7693d"]]),Profile$1=Object.freeze(Object.defineProperty({__proto__:null,default:ManagerProfile},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2B={class:"card card-style p-3"},_hoisted_2$2x={class:"content"},_sfc_main$2B={__name:"Partners",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2B,[createBaseVNode("div",_hoisted_2$2x,[createVNode(PartnersList)])]))}},Partners$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2B},Symbol.toStringTag,{value:"Module"})),DeliveryManForm_vue_vue_type_style_index_0_lang="",_sfc_main$2A={data(){return{botUser:null,load:!1,confirm:!1,step:0,deliveryManForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0}}},computed:{tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{nextStep(){this.step++},submit(){this.loading=!0,this.$store.dispatch("saveDeliveryman",{dataObject:{bot_id:this.bot.id,tg:this.tgUser,form:this.deliveryManForm}}).then(o=>{this.loading=!1,window.location.reload()}).catch(()=>{this.loading=!1})}}},_hoisted_1$2A={class:"container pt-3 pb-3"},_hoisted_2$2w={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_3$2u={class:"img-avatar"},_hoisted_4$2o={class:"img-avatar"},_hoisted_5$2k={class:"col-12"},_hoisted_6$2j=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздаврить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с тобой познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1),_hoisted_7$2b=createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1),_hoisted_8$26={class:"input-group mb-3"},_hoisted_9$22=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_10$1V={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_11$1R={class:"img-avatar"},_hoisted_12$1O={class:"img-avatar"},_hoisted_13$1J={class:"col-12"},_hoisted_14$1F={class:"mb-3"},_hoisted_15$1E=createBaseVNode("h6",{class:"text-center"},"Введи свой номер телефона",-1),_hoisted_16$1C={class:"input-group mb-3"},_hoisted_17$1w=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_18$1s={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_19$1n={class:"img-avatar"},_hoisted_20$1l={class:"img-avatar"},_hoisted_21$1h={class:"col-12"},_hoisted_22$1h=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого ты пола?")],-1),_hoisted_23$1g=createBaseVNode("h6",{class:"text-center"},"Ты парень или девушка?",-1),_hoisted_24$1c={class:"input-group mb-3 mt-3 w-100 d-flex justify-content-center"},_hoisted_25$16={class:"btn-group w-100",role:"group","aria-label":"deliveryManForm-sex"},_hoisted_26$14=createBaseVNode("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-1"},"Парень",-1),_hoisted_27$10=createBaseVNode("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-2"},"Девушка",-1),_hoisted_28$_=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_29$W={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_30$U={class:"img-avatar"},_hoisted_31$S={class:"img-avatar"},_hoisted_32$P={class:"col-12"},_hoisted_33$P=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1),_hoisted_34$N=createBaseVNode("h6",{class:"text-center"},"Введи свой день рождения",-1),_hoisted_35$K={class:"input-group mb-3"},_hoisted_36$J=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_37$H={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_38$G={class:"img-avatar"},_hoisted_39$F={class:"img-avatar"},_hoisted_40$A={class:"col-12"},_hoisted_41$A=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для твоего города, мне нужно знать, где ты живешь.")],-1),_hoisted_42$A=createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1),_hoisted_43$A={class:"input-group mb-3"},_hoisted_44$A=createStaticVNode('<datalist id="datalistCityOptions"><option value="Краснодар"></option><option value="Ростов-на-Дону"></option><option value="Таганрог"></option><option value="Донецк"></option><option value="Москва"></option></datalist>',1),_hoisted_45$A=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_46$z={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_47$w={class:"img-avatar"},_hoisted_48$w={class:"img-avatar"},_hoisted_49$v={class:"col-12"},_hoisted_50$v=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочти мои условия использования и дай свое согласие на их принятие.")],-1),_hoisted_51$t=createBaseVNode("h6",{class:"text-center"},"Последний шаг",-1),_hoisted_52$t={class:"card border-success mb-3"},_hoisted_53$s={class:"card-body"},_hoisted_54$s=createBaseVNode("p",null,[createTextVNode("Перед отправкой данных ознакомься с "),createBaseVNode("a",{href:"#"},"правилами нашего сервиса"),createTextVNode(" и с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1),_hoisted_55$p={class:"form-check form-switch"},_hoisted_56$o={class:"form-check-label",for:"confirm"},_hoisted_57$n={key:0},_hoisted_58$m={key:1},_hoisted_59$m=["disabled"],_hoisted_60$l=createBaseVNode("div",null,null,-1);function _sfc_render$11(o,t,a,i,s,r){const n=resolveDirective("lazy"),l=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2A,[s.step===0?(openBlock(),createElementBlock("form",{key:0,onSubmit:t[1]||(t[1]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_2$2w,[createBaseVNode("div",_hoisted_3$2u,[withDirectives(createBaseVNode("img",_hoisted_4$2o,null,512),[[n,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_5$2k,[_hoisted_6$2j,_hoisted_7$2b,createBaseVNode("div",_hoisted_8$26,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center p-3",placeholder:"Петров Петр Семенович","aria-label":"deliveryManForm-name","onUpdate:modelValue":t[0]||(t[0]=c=>s.deliveryManForm.name=c),"aria-describedby":"deliveryManForm-name",required:""},null,512),[[vModelText,s.deliveryManForm.name]])]),_hoisted_9$22])],32)):createCommentVNode("",!0),s.step===1?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[3]||(t[3]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_10$1V,[createBaseVNode("div",_hoisted_11$1R,[withDirectives(createBaseVNode("img",_hoisted_12$1O,null,512),[[n,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_13$1J,[createBaseVNode("p",_hoisted_14$1F,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(s.deliveryManForm.name),1),createTextVNode("! А теперь, чтобы ты мог пользоваться всеми моими функциями, мне нужен твой номер телефона. Можешь ввести его?")])]),_hoisted_15$1E,createBaseVNode("div",_hoisted_16$1C,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control p-3 text-center","onUpdate:modelValue":t[2]||(t[2]=c=>s.deliveryManForm.phone=c),placeholder:"+7(000)000-00-00","aria-label":"deliveryManForm-phone","aria-describedby":"deliveryManForm-phone",required:""},null,512),[[l,"+7(###)###-##-##"],[vModelText,s.deliveryManForm.phone]])]),_hoisted_17$1w])],32)):createCommentVNode("",!0),s.step===2?(openBlock(),createElementBlock("form",{key:2,onSubmit:t[6]||(t[6]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_18$1s,[createBaseVNode("div",_hoisted_19$1n,[withDirectives(createBaseVNode("img",_hoisted_20$1l,null,512),[[n,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_21$1h,[_hoisted_22$1h,_hoisted_23$1g,createBaseVNode("div",_hoisted_24$1c,[createBaseVNode("div",_hoisted_25$16,[withDirectives(createBaseVNode("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=c=>s.deliveryManForm.sex=c),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-1",autocomplete:"off",required:""},null,512),[[vModelRadio,s.deliveryManForm.sex]]),_hoisted_26$14,withDirectives(createBaseVNode("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=c=>s.deliveryManForm.sex=c),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-2",autocomplete:"off",required:""},null,512),[[vModelRadio,s.deliveryManForm.sex]]),_hoisted_27$10])]),_hoisted_28$_])],32)):createCommentVNode("",!0),s.step===3?(openBlock(),createElementBlock("form",{key:3,onSubmit:t[8]||(t[8]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_29$W,[createBaseVNode("div",_hoisted_30$U,[withDirectives(createBaseVNode("img",_hoisted_31$S,null,512),[[n,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_32$P,[_hoisted_33$P,_hoisted_34$N,createBaseVNode("div",_hoisted_35$K,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control p-3","onUpdate:modelValue":t[7]||(t[7]=c=>s.deliveryManForm.birthday=c),"aria-label":"deliveryManForm-birthday","aria-describedby":"deliveryManForm-birthday",required:""},null,512),[[vModelText,s.deliveryManForm.birthday]])]),_hoisted_36$J])],32)):createCommentVNode("",!0),s.step===4?(openBlock(),createElementBlock("form",{key:4,onSubmit:t[10]||(t[10]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_37$H,[createBaseVNode("div",_hoisted_38$G,[withDirectives(createBaseVNode("img",_hoisted_39$F,null,512),[[n,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_40$A,[_hoisted_41$A,_hoisted_42$A,createBaseVNode("div",_hoisted_43$A,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=c=>s.deliveryManForm.city=c),list:"datalistCityOptions",class:"form-control p-3",placeholder:"Краснодар","aria-label":"deliveryManForm-city","aria-describedby":"deliveryManForm-city",required:""},null,512),[[vModelText,s.deliveryManForm.city]]),_hoisted_44$A]),_hoisted_45$A])],32)):createCommentVNode("",!0),s.step===5?(openBlock(),createElementBlock("form",{key:5,onSubmit:t[13]||(t[13]=withModifiers((...c)=>r.submit&&r.submit(...c),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_46$z,[createBaseVNode("div",_hoisted_47$w,[withDirectives(createBaseVNode("img",_hoisted_48$w,null,512),[[n,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_49$v,[_hoisted_50$v,_hoisted_51$t,createBaseVNode("div",_hoisted_52$t,[createBaseVNode("div",_hoisted_53$s,[_hoisted_54$s,createBaseVNode("div",_hoisted_55$p,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[11]||(t[11]=c=>s.confirm=c),type:"checkbox",role:"switch",id:"confirm"},null,512),[[vModelCheckbox,s.confirm]]),createBaseVNode("label",_hoisted_56$o,[s.deliveryManForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_57$n,"С правилами озакномилась")),s.deliveryManForm.sex?(openBlock(),createElementBlock("span",_hoisted_58$m,"С правилами ознакомлен")):createCommentVNode("",!0)])])])]),createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=c=>s.step=0),class:"btn btn-outline-primary w-100 p-3 mb-3"},"Исправить ошибки "),createBaseVNode("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-outline-success w-100 p-3"},"Отправить анкету ",8,_hoisted_59$m)])],32)):createCommentVNode("",!0)]),_hoisted_60$l],64)}const DeliverymanForm=_export_sfc(_sfc_main$2A,[["render",_sfc_render$11]]),DeliveryManForm=Object.freeze(Object.defineProperty({__proto__:null,default:DeliverymanForm},Symbol.toStringTag,{value:"Module"})),ProductCategories_vue_vue_type_style_index_0_lang="";Carousel,Slide,Pagination$1,Navigation,{...mapGetters(["getCategories"])};const _sfc_main$2z={props:["review"],data(){return{form:{id:null,text:null,rating:5,image:null,order_id:null,product_id:null}}},mounted(){this.$nextTick(()=>{this.form.id=this.review.id||null,this.form.order_id=this.review.order_id||null,this.form.product_id=this.review.product_id||null})},methods:{onChangePhotos(o){const t=o.target.files[0];this.form.image=t},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(){this.form.image=null},submitReview(){let o=new FormData;this.sending=!0,Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),typeof this.form.image!="string"&&(o.append("photo",this.form.image),o.delete("image")),this.$store.dispatch("storeReview",{reviewForm:o}).then(t=>{this.$notify({title:"Обратная связь",text:"Спасибо за отзыв"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(a=>a.click()),this.$emit("callback",t.data)}).catch(t=>{})}}},_hoisted_1$2z={class:"form-check mb-2"},_hoisted_2$2v=createBaseVNode("label",{class:"form-check-label",for:"ratingReview1"}," Очень хорошо ",-1),_hoisted_3$2t={class:"form-check mb-2"},_hoisted_4$2n=createBaseVNode("label",{class:"form-check-label",for:"ratingReview2"}," Хорошо ",-1),_hoisted_5$2j={class:"form-check mb-2"},_hoisted_6$2i=createBaseVNode("label",{class:"form-check-label",for:"ratingReview3"}," Средне ",-1),_hoisted_7$2a={class:"form-check mb-2"},_hoisted_8$25=createBaseVNode("label",{class:"form-check-label",for:"ratingReview4"}," Плохо ",-1),_hoisted_9$21={class:"form-check mb-2"},_hoisted_10$1U=createBaseVNode("label",{class:"form-check-label",for:"ratingReview5"}," Очень плохо ",-1),_hoisted_11$1Q=createBaseVNode("p",{class:"text-center"},[createBaseVNode("strong",null,"Напишите ваш отзыв")],-1),_hoisted_12$1N={class:"form-floating"},_hoisted_13$1I=createBaseVNode("label",{for:"floatingTextarea"},"Текст отзыва",-1),_hoisted_14$1E=createBaseVNode("button",{type:"submit",class:"btn btn-primary my-2 w-100 p-3"},"Оставить отзыв",-1),_hoisted_15$1D=createBaseVNode("button",{type:"button",class:"btn btn-link my-3 w-100 text-center","data-bs-dismiss":"modal","aria-label":"Close"}," Закрыть ",-1);function _sfc_render$10(o,t,a,i,s,r){return openBlock(),createElementBlock("form",{class:"p-2",onSubmit:t[6]||(t[6]=withModifiers((...n)=>r.submitReview&&r.submitReview(...n),["prevent"]))},[renderSlot(o.$slots,"title"),createBaseVNode("div",_hoisted_1$2z,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=n=>s.form.rating=n),value:"5",type:"radio",name:"rating",id:"ratingReview1"},null,512),[[vModelRadio,s.form.rating]]),_hoisted_2$2v]),createBaseVNode("div",_hoisted_3$2t,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=n=>s.form.rating=n),value:"4",type:"radio",name:"rating",id:"ratingReview2"},null,512),[[vModelRadio,s.form.rating]]),_hoisted_4$2n]),createBaseVNode("div",_hoisted_5$2j,[withDirectives(createBaseVNode("input",{class:"form-check-input",value:"3","onUpdate:modelValue":t[2]||(t[2]=n=>s.form.rating=n),type:"radio",name:"rating",id:"ratingReview3"},null,512),[[vModelRadio,s.form.rating]]),_hoisted_6$2i]),createBaseVNode("div",_hoisted_7$2a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=n=>s.form.rating=n),value:"2",type:"radio",name:"rating",id:"ratingReview4"},null,512),[[vModelRadio,s.form.rating]]),_hoisted_8$25]),createBaseVNode("div",_hoisted_9$21,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[4]||(t[4]=n=>s.form.rating=n),value:"1",type:"radio",name:"rating",id:"ratingReview5"},null,512),[[vModelRadio,s.form.rating]]),_hoisted_10$1U]),_hoisted_11$1Q,createBaseVNode("div",_hoisted_12$1N,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{"min-height":"250px"},"onUpdate:modelValue":t[5]||(t[5]=n=>s.form.text=n),placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,s.form.text]]),_hoisted_13$1I]),_hoisted_14$1E,_hoisted_15$1D],32)}const ReviewForm=_export_sfc(_sfc_main$2z,[["render",_sfc_render$10]]),ProductCardSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$2y={key:0,class:"card border-0 mb-3"},_hoisted_2$2u={class:"card-body p-0"},_hoisted_3$2s={class:"d-flex mb-2"},_hoisted_4$2m={style:{"object-fit":"cover",height:"100%"},class:"rounded-2",width:"110"},_hoisted_5$2i={class:"w-100 px-2 d-flex flex-column justify-content-between"},_hoisted_6$2h={class:"pb-0 mb-0 fw-bold",style:{"font-size":"14px"}},_hoisted_7$29={class:"py-2 mb-0 d-flex justify-content-between",style:{"font-size":"12px"}},_hoisted_8$24={key:0},_hoisted_9$20={class:"text-decoration-line-through"},_hoisted_10$1T={class:"text-danger fw-bold"},_hoisted_11$1P={key:1},_hoisted_12$1M={class:"text-decoration-line-through"},_hoisted_13$1H={class:"text-danger fw-bold"},_hoisted_14$1D={key:2},_hoisted_15$1C={key:3},_hoisted_16$1B={class:"d-flex w-100"},_hoisted_17$1v=["disabled"],_hoisted_18$1r=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_19$1m={key:1,class:"btn-group w-100"},_hoisted_20$1k=["disabled"],_hoisted_21$1g={key:0},_hoisted_22$1g=["disabled"],_hoisted_23$1f={class:"form-check form-switch mb-2"},_hoisted_24$1b=["id"],_hoisted_25$15=["for"],_hoisted_26$13={key:0,class:"form-floating"},_hoisted_27$$=createBaseVNode("label",{for:"floatingInput"},"Комментарий",-1),_hoisted_28$Z={key:1,class:"p-2 alert alert-warning mt-2 mb-0"},_hoisted_29$V=createBaseVNode("p",{class:"mb-0 fw-bold"},"Особенности доставки данного товара",-1),_hoisted_30$T={key:0,class:"d-flex justify-content-between mb-3"},_hoisted_31$R={key:1,class:"mb-0"},__default__$1x={props:["item","comment","config"],data(){return{form:{id:null,comment:null,need_comment:!1},sending:!1,is_online:!0}},computed:{...mapGetters(["inCart"]),canProductAction(){return this.is_online&&!this.sending},checkInCart(){return this.inCart(this.item.id)},currentPrice(){var o,t;return(o=this.config)!=null&&o.discount_price?((t=this.config)==null?void 0:t.discount_price)||0:this.item.current_price||0},oldPrice(){return this.item.old_price/100}},mounted(){window.addEventListener("online",()=>{this.is_online=!0}),window.addEventListener("offline",()=>{this.is_online=!1}),this.comment&&(console.log("COMMENT",this.comment,this.form.need_comment),this.form.need_comment=!0,this.form.comment=this.comment)},methods:{addToCart(){this.$cart.add(this.item)},addCommentToProduct(){this.sending=!0,this.form.id=this.item.id,this.$store.dispatch("addCommentToProduct",this.form).then(()=>{this.sending=!1,this.$notify({title:"Товар",text:"Комментарий к товару успешно добавлен",type:"success"}),this.comment&&(this.form.need_comment=!0,this.form.comment=this.comment)}).catch(()=>{this.sending=!1,this.$notify({title:"Товар",text:"Ошибка добавления комментария к товару!",type:"error"})})},incProductCart(){this.sending=!0,(this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id)).then(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Ошибка добавления товара!",type:"error"})})},decProductCart(){this.sending=!0,(this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id)).then(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Товар успешно удален",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Ошибка удаления товара!",type:"error"})})}}},_sfc_main$2y=Object.assign(__default__$1x,{__name:"ProductCardSimple",setup(o){return(t,a)=>{var s,r,n;const i=resolveDirective("lazy");return o.item?(openBlock(),createElementBlock("div",_hoisted_1$2y,[createBaseVNode("div",_hoisted_2$2u,[createBaseVNode("div",_hoisted_3$2s,[createBaseVNode("div",{class:"mr-auto",onClick:a[0]||(a[0]=(...l)=>t.addToCart&&t.addToCart(...l)),style:{"max-height":"100px"}},[withDirectives(createBaseVNode("img",_hoisted_4$2m,null,512),[[i,o.item.images[0]]])]),createBaseVNode("div",_hoisted_5$2i,[createBaseVNode("h6",_hoisted_6$2h,[createTextVNode(toDisplayString(o.item.title||"не указано")+" ",1),renderSlot(t.$slots,"partner")]),createBaseVNode("h6",_hoisted_7$29,[o.config.discount_price?(openBlock(),createElementBlock("span",_hoisted_11$1P,[createTextVNode(toDisplayString(o.config.discount_price)+"₽ ",1),createBaseVNode("span",_hoisted_12$1M,toDisplayString(o.item.current_price||0)+"₽",1),createTextVNode(" ("),createBaseVNode("span",_hoisted_13$1H,"-"+toDisplayString(o.config.discount_amount||0)+"₽",1),createTextVNode(") ")])):(openBlock(),createElementBlock("span",_hoisted_8$24,[createTextVNode(toDisplayString(t.currentPrice)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",_hoisted_9$20,toDisplayString(o.item.old_price||0)+"₽",1),createBaseVNode("span",_hoisted_10$1T," -"+toDisplayString((o.item.old_price||0)-(o.item.current_price||0))+"₽",1)],64)):createCommentVNode("",!0)])),(s=o.item)!=null&&s.is_weight_product?(openBlock(),createElementBlock("span",_hoisted_15$1C,toDisplayString(t.currentPrice*t.inCart(o.item.id)/(((r=o.item.weight_config)==null?void 0:r.step)||100))+"₽",1)):(openBlock(),createElementBlock("span",_hoisted_14$1D,"="+toDisplayString(t.currentPrice*t.inCart(o.item.id))+"₽",1))]),createBaseVNode("div",_hoisted_16$1B,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary w-100 rounded-3"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[1]||(a[1]=(...l)=>t.incProductCart&&t.incProductCart(...l))},[createTextVNode(toDisplayString(t.currentPrice),1),_hoisted_18$1r,createTextVNode("₽ ")],10,_hoisted_17$1v)):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_19$1m,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[2]||(a[2]=(...l)=>t.decProductCart&&t.decProductCart(...l))},"- ",10,_hoisted_20$1k),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm"])},[createTextVNode(toDisplayString(t.checkInCart)+" ",1),(n=o.item)!=null&&n.is_weight_product?(openBlock(),createElementBlock("span",_hoisted_21$1g,"г.")):createCommentVNode("",!0)],2),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[3]||(a[3]=(...l)=>t.incProductCart&&t.incProductCart(...l))},"+ ",10,_hoisted_22$1g)])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_23$1f,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[4]||(a[4]=l=>t.form.need_comment=l),class:"form-check-input",type:"checkbox",value:"",id:"item-comment-"+o.item.id,switch:""},null,8,_hoisted_24$1b),[[vModelCheckbox,t.form.need_comment]]),createBaseVNode("label",{class:"form-check-label",style:{"font-size":"12px"},for:"item-comment-"+o.item.id}," Добавить комментарий к товару ",8,_hoisted_25$15)]),t.form.need_comment?(openBlock(),createElementBlock("div",_hoisted_26$13,[withDirectives(createBaseVNode("input",{type:"text",onBlur:a[5]||(a[5]=(...l)=>t.addCommentToProduct&&t.addCommentToProduct(...l)),"onUpdate:modelValue":a[6]||(a[6]=l=>t.form.comment=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,544),[[vModelText,t.form.comment]]),_hoisted_27$$])):createCommentVNode("",!0),o.item.delivery_terms?(openBlock(),createElementBlock("div",_hoisted_28$Z,[_hoisted_29$V,o.item.delivery_terms?(openBlock(),createElementBlock("h6",_hoisted_30$T,toDisplayString(o.item.delivery_terms),1)):(openBlock(),createElementBlock("p",_hoisted_31$R,"Дополнительных условий доставки нет"))])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}}),_hoisted_1$2x={key:0,class:"w-100"},_hoisted_2$2t={class:"card rounded-0 border-0 w-100"},_hoisted_3$2r={key:0,class:"card-body"},_hoisted_4$2l={key:1,class:"card-body p-0"},_hoisted_5$2h={class:"fst-italic my-2",style:{"word-break":"break-word"}},_hoisted_6$2g={key:0,class:"mb-0"},_hoisted_7$28={class:"text-primary fw-bold"},_hoisted_8$23={class:"d-flex justify-content-center"},_hoisted_9$1$={class:"form-check my-2"},_hoisted_10$1S=["id"],_hoisted_11$1O=["for"],_hoisted_12$1L={key:2,class:"card-body p-0"},_hoisted_13$1G=createBaseVNode("i",{class:"fa-solid fa-comment-medical mr-1"},null,-1),_hoisted_14$1C={key:1},_hoisted_15$1B=["disabled"],_hoisted_16$1A={key:0,class:"color-white"},_hoisted_17$1u={key:1,class:"color-white"},_hoisted_18$1q=["id"],_hoisted_19$1l={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_20$1j={class:"modal-content"},_hoisted_21$1f=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_22$1f={class:"modal-body"},_hoisted_23$1e={key:0,class:"text-center"},_hoisted_24$1a=createBaseVNode("strong",null,"Отзыв к товару",-1),_hoisted_25$14=[_hoisted_24$1a],_hoisted_26$12={key:1,class:"text-center"},_hoisted_27$_=createBaseVNode("strong",null,"Отзыв к заказу",-1),_hoisted_28$Y=[_hoisted_27$_],__default__$1w={props:["modelValue","needProduct","isAdmin"],data(){return{need_user_notify:!1,load:!0,review:null,spent_time_counter:0}},mounted(){this.review=this.modelValue,localStorage.getItem("cashman_review_card_notify_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_review_card_notify_counter")||0))},methods:{removeReview(){this.review.send_review_at=null,this.review.text=null,this.review.rating=5,this.review.need_user_notify=this.need_user_notify||!1,this.$store.dispatch("storeReview",{reviewForm:this.review}).then(()=>{this.$notify({title:"Отзывы",text:"Вы успешно удалили отзыв",type:"success"})}).catch(()=>{this.$notify({title:"Отзывы",text:"Ошибка удаления отзыва",type:"error"})})},callback(o){this.load=!1,this.review=o,this.$nextTick(()=>{this.load=!0,this.$emit("update:modelValue",o)})},showReviewsForm(){new bootstrap.Modal(document.getElementById("review-modal-info"+this.review.id),{}).show()},notifyUser(){this.$store.dispatch("notifyUserForReview",{reviewForm:this.review}).then(()=>{this.$notify({title:"Отзывы",text:"Вы успешно отправили пользователю напоминание",type:"success"})}).catch(()=>{this.$notify({title:"Отзывы",text:"Ошибка напоминания",type:"error"})}),this.startTimer()},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_review_card_notify_counter",this.spent_time_counter)},1e3)}}},_sfc_main$2x=Object.assign(__default__$1w,{__name:"ReviewCard",setup(o){return(t,a)=>t.review&&t.load?(openBlock(),createElementBlock("div",_hoisted_1$2x,[createBaseVNode("div",_hoisted_2$2t,[o.needProduct?(openBlock(),createElementBlock("div",_hoisted_3$2r,[t.review.product?(openBlock(),createBlock(_sfc_main$2y,{key:0,item:t.review.product},null,8,["item"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.review.send_review_at?(openBlock(),createElementBlock("div",_hoisted_4$2l,[createVNode(Rating,{rating:t.review.rating},null,8,["rating"]),createBaseVNode("p",_hoisted_5$2h,toDisplayString(t.review.text||"не указан"),1),t.review.send_review_at?(openBlock(),createElementBlock("p",_hoisted_6$2g,[createTextVNode(" Отзыва оставлен "),createBaseVNode("span",_hoisted_7$28,toDisplayString(t.$filters.currentFull(t.review.send_review_at)),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$23,[createBaseVNode("div",_hoisted_9$1$,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[0]||(a[0]=i=>t.need_user_notify=i),type:"checkbox",id:"notify-user-for-review-"+t.review.id},null,8,_hoisted_10$1S),[[vModelCheckbox,t.need_user_notify]]),createBaseVNode("label",{class:"form-check-label",for:"notify-user-for-review-"+t.review.id}," Оповестить пользователя ",8,_hoisted_11$1O)])]),o.isAdmin?(openBlock(),createElementBlock("button",{key:1,onClick:a[1]||(a[1]=(...i)=>t.removeReview&&t.removeReview(...i)),type:"button",class:"btn btn-primary w-100"},"Сбросить отзыв ")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_12$1L,[o.isAdmin?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[2]||(a[2]=(...i)=>t.showReviewsForm&&t.showReviewsForm(...i)),class:"btn btn-link w-100"},[_hoisted_13$1G,createTextVNode(" Вы можете оставить отзыв ")])),o.isAdmin?(openBlock(),createElementBlock("p",_hoisted_14$1C," Пользователь еще не оставил отзыв! ")):createCommentVNode("",!0),o.isAdmin?(openBlock(),createElementBlock("button",{key:2,onClick:a[3]||(a[3]=(...i)=>t.notifyUser&&t.notifyUser(...i)),disabled:t.spent_time_counter>0,type:"button",class:"btn btn-primary w-100"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_16$1A,"Напомнить")):(openBlock(),createElementBlock("span",_hoisted_17$1u,"Осталось ждать "+toDisplayString(t.spent_time_counter||0)+" сек.",1))],8,_hoisted_15$1B)):createCommentVNode("",!0)]))]),createBaseVNode("div",{class:"modal fade",id:"review-modal-info"+t.review.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_19$1l,[createBaseVNode("div",_hoisted_20$1j,[_hoisted_21$1f,createBaseVNode("div",_hoisted_22$1f,[createVNode(ReviewForm,{onCallback:t.callback,review:t.review},{title:withCtx(()=>[t.review.order_id!=null&&t.review.product_id!=null?(openBlock(),createElementBlock("p",_hoisted_23$1e,_hoisted_25$14)):createCommentVNode("",!0),t.review.order_id!=null&&t.review.product_id==null?(openBlock(),createElementBlock("p",_hoisted_26$12,_hoisted_28$Y)):createCommentVNode("",!0)]),_:1},8,["onCallback","review"])])])])],8,_hoisted_18$1q)])):createCommentVNode("",!0)}}),ProductCard_vue_vue_type_style_index_0_lang="",_hoisted_1$2w={class:"card border-0 product-card"},_hoisted_2$2s={class:"img-container"},_hoisted_3$2q={class:"rounded-3"},_hoisted_4$2k={class:"controls"},_hoisted_5$2g={class:"top d-flex justify-content-between w-100 align-items-center"},_hoisted_6$2f={class:"rating p-2"},_hoisted_7$27={class:"text-white fw-bold"},_hoisted_8$22=createBaseVNode("i",{class:"fa-regular fa-star text-primary mr-1"},null,-1),_hoisted_9$1_={key:0,class:"terms p-2"},_hoisted_10$1R=createBaseVNode("span",{class:"text-white fw-bold"},[createBaseVNode("i",{class:"fa-solid fa-clock text-primary"})],-1),_hoisted_11$1N=[_hoisted_10$1R],_hoisted_12$1K={key:0,class:"fa-solid fa-heart",style:{"font-size":"14px"}},_hoisted_13$1F={key:1,class:"fa-regular fa-heart",style:{"font-size":"14px"}},_hoisted_14$1B={class:"card-body px-0"},_hoisted_15$1A={key:0,style:{"margin-right":"10px"},class:"text-primary text-center"},_hoisted_16$1z={key:0},_hoisted_17$1t={key:1,class:"d-flex justify-content-between align-items-center px-2"},_hoisted_18$1p={key:0},_hoisted_19$1k=createBaseVNode("i",{class:"fa-solid fa-check-double mr-2"},null,-1),_hoisted_20$1i={key:1},_hoisted_21$1e={key:0,class:"d-flex justify-content-between align-items-center px-2"},_hoisted_22$1e=["disabled"],_hoisted_23$1d={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_24$19={key:1,class:"btn-group w-100 rounded-3"},_hoisted_25$13=["disabled"],_hoisted_26$11={key:0},_hoisted_27$Z=["disabled"],_hoisted_28$X={key:1,class:"px-2"},_hoisted_29$U=createBaseVNode("span",{style:{"font-size":"12px"},class:"btn btn-outline-secondary rounded-3 py-2 btn-md w-100 d-flex justify-content-center align-items-center"},[createBaseVNode("i",{class:"fa-solid fa-lock mr-2"}),createTextVNode(" нет в наличии")],-1),_hoisted_30$S=[_hoisted_29$U],__default__$1v={props:["item","displayType","collectionMode","canSelect"],data(){return{sending:!1,is_online:!0}},computed:{...mapGetters(["inCart","getReviews","getReviewsPaginateObject","getSelf","getFavoriteProducts"]),currentPrice(){return this.item.current_price/100},checkInCart(){return this.inCart(this.item.id)},favorites(){return this.getFavoriteProducts},canProductAction(){return this.is_online&&!this.sending},currentBot(){return window.currentBot},inFav(){return this.favorites.length===0?!1:this.favorites.indexOf(this.item.id)!==-1}},mounted(){window.addEventListener("online",()=>{this.is_online=!0}),window.addEventListener("offline",()=>{this.is_online=!1})},methods:{showProductDetails(){this.$productInfo.show(this.item)},goToProduct(){this.$router.push({name:"ProductV2",params:{productId:this.item.id}})},addToFavorite(){var a;this.$store.dispatch("toggleProductInFavorites",{form:{id:this.item.id}}).then(i=>{this.$notify({title:"Избранное",text:this.inFav?"Товар успешно добавлен в избранное!":"Товар убран из избранного!",type:"success"}),window.self.config.favorites=i.data.favorites}).catch(()=>{});const o=((a=window.self.config)==null?void 0:a.favorites)||[];let t=o.findIndex(i=>i===this.item.id);t!==-1?o.splice(t,1):o.push(this.item.id),window.self.config==null?window.self.config={favorites:o}:window.self.config.favorites=o},incProductCart(){this.sending=!0,(this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id)).then(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:'Товар "'+this.item.title+'" успешно добавлен',type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Ошибка добавления товара!",type:"error"})})},decProductCart(){this.sending=!0,(this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id)).then(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:'Товар "'+this.item.title+'" успешно убран из корзины',type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Ошибка удаления товара!",type:"error"})})},selectInCollection(o){this.canSelect&&this.$emit("select-in-collection",o)}}},_sfc_main$2w=Object.assign(__default__$1v,{__name:"ProductCard",setup(o){return(t,a)=>{var s;const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$2w,[createBaseVNode("div",_hoisted_2$2s,[withDirectives(createBaseVNode("img",_hoisted_3$2q,null,512),[[i,o.item.images[0]]]),createBaseVNode("div",_hoisted_4$2k,[createBaseVNode("div",_hoisted_5$2g,[createBaseVNode("div",_hoisted_6$2f,[createBaseVNode("span",_hoisted_7$27,[_hoisted_8$22,createTextVNode(" "+toDisplayString(Math.round(o.item.rating||0)),1)])]),o.item.delivery_terms?(openBlock(),createElementBlock("div",_hoisted_9$1_,_hoisted_11$1N)):createCommentVNode("",!0),createBaseVNode("span",{onClick:a[0]||(a[0]=(...r)=>t.addToFavorite&&t.addToFavorite(...r)),style:{"margin-right":"10px"},class:"badge bg-primary fw-bold"},[t.inFav?(openBlock(),createElementBlock("i",_hoisted_12$1K)):(openBlock(),createElementBlock("i",_hoisted_13$1F))])])]),createBaseVNode("div",{onClick:a[1]||(a[1]=(...r)=>t.showProductDetails&&t.showProductDetails(...r)),class:"click-zone"})]),createBaseVNode("div",_hoisted_14$1B,[o.item.old_price>0?(openBlock(),createElementBlock("p",_hoisted_15$1A,"Акция")):createCommentVNode("",!0),createBaseVNode("p",{onClick:a[2]||(a[2]=(...r)=>t.showProductDetails&&t.showProductDetails(...r)),class:"text-center mb-2",style:{"font-size":"10px"}},[createTextVNode(toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_16$1z,"...")):createCommentVNode("",!0)]),o.collectionMode?(openBlock(),createElementBlock("div",_hoisted_17$1t,[createBaseVNode("button",{type:"button",onClick:a[3]||(a[3]=r=>t.selectInCollection(o.item)),style:{"font-size":"12px"},class:normalizeClass([{"btn-primary":o.item.is_checked,"btn-light":!o.item.is_checked},"btn btn-md w-100 rounded-2 mb-2"])},[o.item.is_checked?(openBlock(),createElementBlock("span",_hoisted_18$1p,[_hoisted_19$1k,createTextVNode(" Выбрано")])):(openBlock(),createElementBlock("span",_hoisted_20$1i,"Выбрать"))],2)])):(openBlock(),createElementBlock(Fragment,{key:2},[o.item.in_stop_list_at?(openBlock(),createElementBlock("div",_hoisted_28$X,_hoisted_30$S)):(openBlock(),createElementBlock("div",_hoisted_21$1e,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[4]||(a[4]=(...r)=>t.incProductCart&&t.incProductCart(...r)),style:{"font-size":"12px"},class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-light w-100 rounded-3"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction},[createTextVNode(toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_23$1d,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)],10,_hoisted_22$1e)):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_24$19,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at!=null||!t.canProductAction,style:{"border-radius":"6px 0px 0px 6px"},class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"]),onClick:a[5]||(a[5]=(...r)=>t.decProductCart&&t.decProductCart(...r))},"- ",10,_hoisted_25$13),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"])},[createTextVNode(toDisplayString(t.checkInCart)+" ",1),(s=o.item)!=null&&s.is_weight_product?(openBlock(),createElementBlock("span",_hoisted_26$11,"г.")):createCommentVNode("",!0)],2),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[6]||(a[6]=(...r)=>t.incProductCart&&t.incProductCart(...r)),style:{"border-radius":"0px 6px 6px 0px"}},"+ ",10,_hoisted_27$Z)])):createCommentVNode("",!0)]))],64))])])}}}),ProductListItem_vue_vue_type_style_index_0_lang="",_hoisted_1$2v={class:"list-group-item p-2 border-0 d-flex justify-content-between align-items-start"},_hoisted_2$2r={class:"ms-2 w-100"},_hoisted_3$2p=createBaseVNode("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1),_hoisted_4$2j={key:0},_hoisted_5$2f={class:"mb-2 fst-italic"},_hoisted_6$2e={key:0,class:"d-flex justify-content-between align-items-center px-2"},_hoisted_7$26={key:0},_hoisted_8$21=createBaseVNode("i",{class:"fa-solid fa-check-double mr-2"},null,-1),_hoisted_9$1Z={key:1},_hoisted_10$1Q={key:0,class:"d-flex justify-content-between align-items-center my-2"},_hoisted_11$1M=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_12$1J={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_13$1E={key:1,class:"btn-group w-100 rounded-3"},_hoisted_14$1A=["disabled"],_hoisted_15$1z={type:"button",class:"btn btn-sm btn-primary"},_hoisted_16$1y=["disabled"],_hoisted_17$1s={key:1,class:"px-2"},_hoisted_18$1o=createBaseVNode("span",{style:{"font-size":"12px"},class:"btn btn-outline-secondary rounded-3 py-2 btn-md w-100 d-flex justify-content-center align-items-center"},[createBaseVNode("i",{class:"fa-solid fa-lock mr-2"}),createTextVNode(" нет в наличии")],-1),_hoisted_19$1j=[_hoisted_18$1o],_hoisted_20$1h={class:"d-flex flex-column"},_hoisted_21$1d={class:"badge text-bg-primary rounded-pill text-white fw-bold"},_hoisted_22$1d=createBaseVNode("i",{class:"fa-regular fa-star text-white"},null,-1),_hoisted_23$1c={key:0,class:"badge text-bg-primary rounded-pill text-white fw-bold mt-1"},_hoisted_24$18=["id"],_hoisted_25$12={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_26$10={class:"modal-content"},_hoisted_27$Y=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Детали"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_28$W={class:"modal-body"},_hoisted_29$T={key:0,class:"card border-0 bg-primary"},_hoisted_30$R={class:"card-body"},_hoisted_31$Q={class:"text-left text-white",style:{"font-weight":"700","line-height":"100%"}},_hoisted_32$O={class:"d-flex justify-content-between align-items-center"},_hoisted_33$O={class:"text-left mb-0 text-white"},_hoisted_34$M={class:"text-white fw-bold"},_hoisted_35$J={key:0,class:"badge bg-primary fw-bold"},_hoisted_36$I={class:"p-2"},_hoisted_37$G=createBaseVNode("p",{class:"mb-0"},"Рейтинг товара",-1),_hoisted_38$F={class:"d-flex justify-content-between mb-3"},_hoisted_39$E={class:"nav nav-tabs justify-content-center"},_hoisted_40$z={class:"nav-item"},_hoisted_41$z={class:"nav-item"},_hoisted_42$z={key:1},_hoisted_43$z={class:"text-justify py-2 fst-italic"},_hoisted_44$z={key:2},_hoisted_45$z={key:0},_hoisted_46$y={class:"list-group w-100 py-2 rounded-0"},_hoisted_47$v={class:"list-group-item"},_hoisted_48$v={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_49$u=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем отзывы...")],-1),_hoisted_50$u=[_hoisted_49$u],_hoisted_51$s={key:2,class:"alert alert-light my-2",role:"alert"},_hoisted_52$s={key:0,class:"modal-footer p-2 m-0"},_hoisted_53$r={class:"d-flex justify-content-between align-items-center w-100 p-0"},_hoisted_54$r={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_55$o={key:1,class:"btn-group w-100"},_hoisted_56$n=["disabled"],_hoisted_57$m={type:"button",class:"btn btn-md btn-primary"},_hoisted_58$l=["disabled"],_hoisted_59$l={key:1,class:"modal-footer p-0 m-0"},_hoisted_60$k=createBaseVNode("p",{class:"p-3 border-secondary border rounded-2 w-100 text-secondary fw-bold text-center"},"Товар недоступен для заказа",-1),_hoisted_61$k=[_hoisted_60$k],__default__$1u={props:["item","displayType","collectionMode","canSelect"],data(){return{tab:0,selected_image:null,loading_reviews:!1,showCart:!1,reviews:[],paginate:null}},computed:{...mapGetters(["inCart","getReviews","getReviewsPaginateObject"]),currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100},checkInCart(){return this.inCart(this.item.id)},discount(){return this.oldPrice>0?Math.round(this.currentPrice/this.oldPrice*100):0},uuid(){return v4()}},mounted(){this.selected_image=(this.item.images||[]).length>0?this.item.images[0]:null},methods:{nextReviews(o){this.loadReviews(o)},loadReviews(o=0){return this.tab=1,this.loading_reviews=!0,this.$store.dispatch("loadReviewsByProductId",{dataObject:{product_id:this.item.id},page:o,size:30}).then(t=>{this.reviews=this.getReviews,this.paginate=this.getReviewsPaginateObject,this.loading_reviews=!1}).catch(()=>{this.loading_reviews=!1})},showProductDetails(){new bootstrap.Modal(document.getElementById("product-modal-info"+this.uuid),{}).show()},goToProduct(){this.$router.push({name:"ProductV2",params:{productId:this.item.id}})},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})},selectInCollection(o){this.canSelect&&this.$emit("select-in-collection",o)}}},_sfc_main$2v=Object.assign(__default__$1u,{__name:"ProductListItem",setup(o){return(t,a)=>{const i=resolveComponent("Pagination");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("li",_hoisted_1$2v,[createBaseVNode("div",_hoisted_2$2r,[createBaseVNode("div",{onClick:a[0]||(a[0]=(...s)=>t.showProductDetails&&t.showProductDetails(...s)),class:"fw-bold mb-1",style:{"font-size":"12px"}},[_hoisted_3$2p,createTextVNode(" "+toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_4$2j,"...")):createCommentVNode("",!0)]),createBaseVNode("p",_hoisted_5$2f,toDisplayString(o.item.description||"нет описания"),1),o.collectionMode?(openBlock(),createElementBlock("div",_hoisted_6$2e,[createBaseVNode("button",{type:"button",onClick:a[1]||(a[1]=s=>t.selectInCollection(o.item)),style:{"font-size":"12px"},class:normalizeClass([{"btn-primary":o.item.is_checked,"btn-light":!o.item.is_checked},"btn btn-md w-100 rounded-2 mb-2"])},[o.item.is_checked?(openBlock(),createElementBlock("span",_hoisted_7$26,[_hoisted_8$21,createTextVNode(" Выбрано")])):(openBlock(),createElementBlock("span",_hoisted_9$1Z,"Выбрать"))],2)])):(openBlock(),createElementBlock(Fragment,{key:1},[o.item.in_stop_list_at?(openBlock(),createElementBlock("div",_hoisted_17$1s,_hoisted_19$1j)):(openBlock(),createElementBlock("div",_hoisted_10$1Q,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[2]||(a[2]=(...s)=>t.incProductCart&&t.incProductCart(...s)),class:"btn btn-sm btn-success fw-bold w-100 rounded-2 p-2"},[_hoisted_11$1M,createTextVNode(" В корзину "+toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_12$1J,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_13$1E,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,style:{"border-radius":"6px 0px 0px 6px"},onClick:a[3]||(a[3]=(...s)=>t.decProductCart&&t.decProductCart(...s)),class:"btn btn-sm btn-primary p-2"},"- ",8,_hoisted_14$1A),createBaseVNode("button",_hoisted_15$1z,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:a[4]||(a[4]=(...s)=>t.incProductCart&&t.incProductCart(...s)),style:{"border-radius":"0px 6px 6px 0px"},class:"btn btn-sm btn-primary p-2"},"+ ",8,_hoisted_16$1y)])):createCommentVNode("",!0)]))],64))]),createBaseVNode("div",_hoisted_20$1h,[createBaseVNode("span",_hoisted_21$1d,[_hoisted_22$1d,createTextVNode(" "+toDisplayString(Math.round(o.item.rating||0)),1)]),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_23$1c,"% ")):createCommentVNode("",!0)])]),createBaseVNode("div",{class:"modal fade",id:"product-modal-info"+t.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_25$12,[createBaseVNode("div",_hoisted_26$10,[_hoisted_27$Y,createBaseVNode("div",_hoisted_28$W,[o.item?(openBlock(),createElementBlock("div",_hoisted_29$T,[createBaseVNode("div",_hoisted_30$R,[createBaseVNode("h6",_hoisted_31$Q,toDisplayString(o.item.title||"Не указан"),1),createBaseVNode("div",_hoisted_32$O,[createBaseVNode("p",_hoisted_33$O,[createTextVNode("Цена "),createBaseVNode("strong",_hoisted_34$M,toDisplayString(o.item.current_price||0)+"₽",1)]),t.discount>0?(openBlock(),createElementBlock("span",_hoisted_35$J,"-"+toDisplayString(t.discount||0)+"%",1)):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_36$I,[_hoisted_37$G,createBaseVNode("h6",_hoisted_38$F,[createVNode(Rating,{rating:o.item.rating},null,8,["rating"]),createTextVNode(" "+toDisplayString(Math.round(o.item.rating))+" из 5 ",1)])]),createBaseVNode("ul",_hoisted_39$E,[createBaseVNode("li",_hoisted_40$z,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[5]||(a[5]=s=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Описание",2)]),createBaseVNode("li",_hoisted_41$z,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[6]||(a[6]=s=>t.loadReviews(0)),href:"javascript:void(0)"},"Отзывы",2)])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_42$z,[createBaseVNode("p",_hoisted_43$z,toDisplayString(o.item.description||"-"),1)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_44$z,[t.reviews.length>0?(openBlock(),createElementBlock("div",_hoisted_45$z,[createBaseVNode("ul",_hoisted_46$y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(s,r)=>(openBlock(),createElementBlock("li",_hoisted_47$v,[createVNode(_sfc_main$2x,{"need-product":!1,modelValue:t.reviews[r],"onUpdate:modelValue":n=>t.reviews[r]=n},null,8,["modelValue","onUpdate:modelValue"])]))),256))]),t.paginate?(openBlock(),createBlock(i,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.reviews.length===0&&t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_48$v,_hoisted_50$u)):createCommentVNode("",!0),t.reviews.length===0&&!t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_51$s," У данного товара еще нет отзывов! Для того чтобы оставить отзыв Вам необходимо заказать данный товар, после чего у вас появится возможность написать ваше впечатление от него;) ")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),o.item.in_stop_list_at?(openBlock(),createElementBlock("div",_hoisted_59$l,_hoisted_61$k)):(openBlock(),createElementBlock("div",_hoisted_52$s,[createBaseVNode("div",_hoisted_53$r,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[7]||(a[7]=(...s)=>t.incProductCart&&t.incProductCart(...s)),class:"btn btn-md btn-primary w-100 rounded-3 p-2"},[createTextVNode(toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_54$r,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_55$o,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at!=null,onClick:a[8]||(a[8]=(...s)=>t.decProductCart&&t.decProductCart(...s)),class:"btn btn-md btn-primary p-2"},"- ",8,_hoisted_56$n),createBaseVNode("button",_hoisted_57$m,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at!=null,onClick:a[9]||(a[9]=(...s)=>t.incProductCart&&t.incProductCart(...s)),class:"btn btn-md btn-primary p-2"},"+ ",8,_hoisted_58$l)])):createCommentVNode("",!0)])]))])])],8,_hoisted_24$18)],64)}}}),CategoryList_vue_vue_type_style_index_0_lang="";({...mapGetters(["getCategories","getCategoriesPaginateObject"])});const _hoisted_1$2u={key:0,class:"card-img-top",alt:""},_hoisted_2$2q={class:"card-title my-3 fw-bold"},_hoisted_3$2o={class:"card-text"},_hoisted_4$2i={class:"card-text fw-bold text-center p-3 border-primary border text-primary"},_hoisted_5$2e={style:{"text-decoration":"line-through"}},_hoisted_6$2d={key:2,class:"w-100 d-block text-center"},_hoisted_7$25=["id"],_hoisted_8$20={key:0,class:"alert alert-light mb-2"},_hoisted_9$1Y={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_10$1P={class:"col"},_hoisted_11$1L={key:0,class:"col"},_hoisted_12$1I=["onClick"],_hoisted_13$1D={class:"img-container"},_hoisted_14$1z={class:"rounded-3"},_hoisted_15$1y=createBaseVNode("div",{class:"card-body px-0"},[createBaseVNode("p",{class:"text-center mb-2",style:{"font-size":"12px"}},"Данная категория не интересует"),createBaseVNode("div",{class:"d-flex justify-content-between align-items-center px-2"},[createBaseVNode("button",{type:"button",style:{"font-size":"12px"},class:"btn btn-md w-100 rounded-2 mb-2 btn-outline-light text-black"}," Выбрать ")])],-1),_hoisted_16$1x={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_17$1r={class:"d-flex w-100 flex-column"},_hoisted_18$1n=["disabled"],_hoisted_19$1i={style:{"text-decoration":"line-through"}},_hoisted_20$1g={key:2,class:"badge bg-success ml-2"},__default__$1t={props:["item"],data(){return{product:null,sending:!1,is_online:!0}},computed:{...mapGetters(["inCollectionCart","cartCollections"]),canProductAction(){return this.is_online&&!this.sending},uuid(){return v4()},checkInCart(){return this.inCollectionCart(this.item.id,null)},bot(){return window.currentBot},discountPrice(){return Math.round(this.summaryPrice*(1-(this.product.discount===0?1:this.product.discount)/100))},summaryPrice(){let o=0;return this.product.products.forEach(t=>{t.is_checked&&(o+=t.current_price||0)}),o},preparedProducts(){let o=[],t=!1;return this.product.products.forEach(a=>{if((a.categories||[]).length>0){let i=o.findIndex(s=>s.title==a.categories[0].title);i===-1?o.push({id:a.categories[0].id,title:a.categories[0].title,products:[a]}):o[i].products.push(a),t=!0}}),t||(o.push({id:this.uuid,title:"Без категории",products:[]}),this.product.products.forEach(a=>{o[0].products.push(a)})),o.forEach(a=>{let i=0;a.products.forEach(s=>{let r=this.product.config?this.product.config:{choose_all_in_category:!1};s.is_checked=r.choose_all_in_category?!0:i===0,i++})}),o}},mounted(){this.$nextTick(()=>{this.product=this.item}),window.addEventListener("online",()=>{this.is_online=!0}),window.addEventListener("offline",()=>{this.is_online=!1})},methods:{incCollectionCart(){this.checkInCart===0?this.addCollectionToCart():this.$store.dispatch("incQuantity",this.product.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},addCollectionToCart(){this.sending=!0,this.$store.dispatch("addCollectionToCart",this.product).then(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Ошибка добавления товара",type:"error"})})},cancelCategory(o){let t=o.id;this.product.products.forEach(a=>{a.categories[0].id===t&&(a.is_checked=!1,this.$store.dispatch("removeProduct",a.id))}),this.$notify({title:"Подборки товара",text:"Вы успешно исключили категорию товара из подборки",type:"success"})},selectSubProduct(o){let t=this.product.products.findIndex(i=>i.id===o.id),a=o.categories[0].id;this.product.products.forEach(i=>{i.categories[0].id===a&&(i.is_checked=!1)}),this.product.products[t].is_checked=!0}}},_sfc_main$2u=Object.assign(__default__$1t,{__name:"ProductCollectionView",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return t.product?(openBlock(),createElementBlock(Fragment,{key:0},[o.item.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_1$2u,null,512)),[[i,"/images-by-company-id/"+t.bot.company.id+"/"+t.product.image]]):createCommentVNode("",!0),createBaseVNode("h5",_hoisted_2$2q,toDisplayString(t.product.title||"-"),1),createBaseVNode("p",_hoisted_3$2o,toDisplayString(t.product.description||"-"),1),createBaseVNode("p",_hoisted_4$2i,[t.product.discount>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.discountPrice)+"₽ ",1),createBaseVNode("span",_hoisted_5$2e,toDisplayString(t.summaryPrice)+"₽",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.summaryPrice)+"₽ ",1)],64)),t.product.products.length>0?(openBlock(),createElementBlock("small",_hoisted_6$2d,"За "+toDisplayString(t.product.products.length)+" товаров",1)):createCommentVNode("",!0)]),t.preparedProducts.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.preparedProducts,s=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",{class:"my-4 divider",id:"collection-cat-"+s.id},toDisplayString(s.title||"-"),9,_hoisted_7$25),s.products.length>1?(openBlock(),createElementBlock("p",_hoisted_8$20," В данной категории вы можете выбрать из доступных вариантов ")):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$1Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.products,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_10$1P,[createVNode(_sfc_main$2w,{"can-select":!(r.config||{choose_all_in_category:!1}).choose_all_in_category,"collection-selected":r.is_checked,"collection-mode":!0,item:r,onSelectInCollection:t.selectSubProduct},null,8,["can-select","collection-selected","item","onSelectInCollection"])]))),256)),(t.product.config||{can_skip_categories:!1}).can_skip_categories?(openBlock(),createElementBlock("div",_hoisted_11$1L,[createBaseVNode("div",{onClick:r=>t.cancelCategory(s),class:"card border-0 product-card"},[createBaseVNode("div",_hoisted_13$1D,[withDirectives(createBaseVNode("img",_hoisted_14$1z,null,512),[[i,"/images/default-product-image.jpg"]])]),_hoisted_15$1y],8,_hoisted_12$1I)])):createCommentVNode("",!0)])],64))),256)):createCommentVNode("",!0),createBaseVNode("nav",_hoisted_16$1x,[createBaseVNode("div",_hoisted_17$1r,[createBaseVNode("button",{type:"button",disabled:t.summaryPrice===0||o.item.in_stop_list_at!=null||!t.canProductAction,class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary w-100 rounded-3 p-3"]),onClick:a[0]||(a[0]=(...s)=>t.addCollectionToCart&&t.addCollectionToCart(...s))},[createTextVNode(" Добавить "),t.product.discount>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.discountPrice)+"₽ ",1),createBaseVNode("span",_hoisted_19$1i,toDisplayString(t.summaryPrice)+"₽",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.summaryPrice)+"₽ ",1)],64)),t.cartCollections.length>0?(openBlock(),createElementBlock("span",_hoisted_20$1g,toDisplayString(t.cartCollections.length),1)):createCommentVNode("",!0)],10,_hoisted_18$1n)])])],64)):createCommentVNode("",!0)}}}),CollectionCardSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$2t={key:0,class:"card border-0 mb-3"},_hoisted_2$2p={class:"card-body p-0"},_hoisted_3$2n={class:"d-flex"},_hoisted_4$2h={class:"mr-auto",style:{"max-height":"100px"}},_hoisted_5$2d={class:"rounded-2",width:"110",style:{"object-fit":"cover",height:"100%"},alt:""},_hoisted_6$2c={class:"w-100 px-2 d-flex flex-column justify-content-between"},_hoisted_7$24={class:"pb-0 mb-0 fw-bold",style:{"font-size":"14px"}},_hoisted_8$1$={class:"fw-bold"},_hoisted_9$1X={class:"fst-italic mb-2",style:{"font-size":"10px"}},_hoisted_10$1O={key:0,class:"fst-italic mb-0 text-danger fw-bold",style:{"font-size":"10px"}},_hoisted_11$1K={class:"py-2 mb-0 d-flex justify-content-between",style:{"font-size":"12px"}},_hoisted_12$1H={class:"d-flex w-100"},_hoisted_13$1C=["disabled"],_hoisted_14$1y=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_15$1x={key:1,class:"btn-group w-100"},_hoisted_16$1w=["disabled"],_hoisted_17$1q=["disabled"],__default__$1s={props:["item","params"],data(){return{sending:!1,is_online:!0}},computed:{...mapGetters(["inCollectionCart"]),canProductAction(){return this.is_online&&!this.sending},checkInCart(){var o;return this.inCollectionCart(this.item.id,((o=this.params)==null?void 0:o.variant_id)||null)},description(){let o="",t=this.params.ids||[];return this.item.products.forEach(a=>{o+=t.indexOf(a.id)!==-1?a.title+", ":""}),o},currentPrice(){let o=0,t=this.params.ids||[];return this.item.products.forEach(a=>{o+=t.indexOf(a.id)!==-1&&a.current_price||0}),o},oldPrice(){return 0},bot(){return window.currentBot}},mounted(){window.addEventListener("online",()=>{this.is_online=!0}),window.addEventListener("offline",()=>{this.is_online=!1})},methods:{incProductCart(){this.sending=!0,(this.checkInCart===0?this.$store.dispatch("addCollectionToCart",this.item):this.$store.dispatch("incCollectionQuantity",{product_collection_id:this.item.id,variant_id:this.params.variant_id})).then(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Ошибка добавления товара!",type:"error"})})},decProductCart(){this.sending=!0,(this.checkInCart<=1?this.$store.dispatch("removeCollectionFromCart",{product_collection_id:this.item.id,variant_id:this.params.variant_id}):this.$store.dispatch("decCollectionQuantity",{product_collection_id:this.item.id,variant_id:this.params.variant_id})).then(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Товар успешно удален",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Ошибка удаления товара!",type:"error"})})}}},_sfc_main$2t=Object.assign(__default__$1s,{__name:"CollectionCardSimple",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return o.item?(openBlock(),createElementBlock("div",_hoisted_1$2t,[createBaseVNode("div",_hoisted_2$2p,[createBaseVNode("div",_hoisted_3$2n,[createBaseVNode("div",_hoisted_4$2h,[withDirectives(createBaseVNode("img",_hoisted_5$2d,null,512),[[i,"/images-by-company-id/"+t.bot.company.id+"/"+o.item.image]])]),createBaseVNode("div",_hoisted_6$2c,[createBaseVNode("h6",_hoisted_7$24,[createTextVNode(toDisplayString(o.item.title||"не указано")+" ",1),createBaseVNode("small",_hoisted_8$1$," ("+toDisplayString((o.item.products||[]).length)+" ед.)",1)]),renderSlot(t.$slots,"partner"),createBaseVNode("p",_hoisted_9$1X,toDisplayString(t.description),1),o.item.discount>0?(openBlock(),createElementBlock("p",_hoisted_10$1O,"Скидка "+toDisplayString(o.item.discount)+"%",1)):createCommentVNode("",!0),createBaseVNode("h6",_hoisted_11$1K,[createBaseVNode("span",null,toDisplayString(t.currentPrice||0)+"₽",1),createBaseVNode("span",null,"="+toDisplayString(t.currentPrice*t.checkInCart)+"₽",1)]),createBaseVNode("div",_hoisted_12$1H,[t.checkInCart===0?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary w-100 rounded-3"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[0]||(a[0]=(...s)=>t.incProductCart&&t.incProductCart(...s))},[createTextVNode(toDisplayString(t.currentPrice||0),1),_hoisted_14$1y,createTextVNode("₽ ")],10,_hoisted_13$1C)):createCommentVNode("",!0),t.checkInCart>0?(openBlock(),createElementBlock("div",_hoisted_15$1x,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[1]||(a[1]=(...s)=>t.decProductCart&&t.decProductCart(...s))},"- ",10,_hoisted_16$1w),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm"])},toDisplayString(t.checkInCart),3),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-sm btn-primary"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[2]||(a[2]=(...s)=>t.incProductCart&&t.incProductCart(...s))},"+ ",10,_hoisted_17$1q)])):createCommentVNode("",!0)])])])])])):createCommentVNode("",!0)}}}),CollectionCard_vue_vue_type_style_index_0_lang="",_hoisted_1$2s={class:"card border-0 product-card"},_hoisted_2$2o={key:0,class:"rounded-3",alt:""},_hoisted_3$2m={class:"controls"},_hoisted_4$2g={class:"top d-flex justify-content-end w-100 align-items-center"},_hoisted_5$2c={class:"product-count w-100 p-2"},_hoisted_6$2b={class:"text-white fw-bold"},_hoisted_7$23=createBaseVNode("i",{class:"fa-solid fa-layer-group mr-1"},null,-1),_hoisted_8$1_={key:0,class:"badge bg-primary mr-2 fw-bold"},_hoisted_9$1W={class:"card-body px-0"},_hoisted_10$1N={class:"text-center mb-2",style:{"font-size":"12px"}},_hoisted_11$1J={key:0},_hoisted_12$1G={class:"d-flex justify-content-between align-items-center px-2"},_hoisted_13$1B=["disabled"],_hoisted_14$1x={style:{"text-decoration":"line-through"}},_hoisted_15$1w={class:"badge bg-primary"},_hoisted_16$1v=["id"],_hoisted_17$1p={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},_hoisted_18$1m={class:"modal-content"},_hoisted_19$1h=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Варианты в корзине"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_20$1f={class:"modal-body"},_hoisted_21$1c={key:0,class:"row"},_hoisted_22$1c={class:"col-12"},_hoisted_23$1b={key:1,class:"alert alert-light"},_hoisted_24$17=["id"],_hoisted_25$11={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_26$$={class:"modal-content"},_hoisted_27$X=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Подборка"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_28$V={class:"modal-body mb-5 pb-5"},__default__$1r={props:["item"],data(){return{tab:0,selected_image:null,loading_reviews:!1,reviews:[],paginate:null,sending:!1,is_online:!0}},computed:{...mapGetters(["inCollectionCart","cartCollections"]),uuid(){return v4()},discountPrice(){return Math.round(this.currentPrice*(1-(this.item.discount===0?1:this.item.discount)/100))},bot(){return window.currentBot},checkInCart(){return this.inCollectionCart(this.item.id,null)},currentPrice(){let o=0;return this.item.products.forEach(t=>{t.is_checked&&(o+=t.current_price||0)}),o},canProductAction(){return this.is_online&&!this.sending}},mounted(){this.selected_image=(this.item.images||[]).length>0?this.item.images[0]:null,window.addEventListener("online",()=>{this.is_online=!0}),window.addEventListener("offline",()=>{this.is_online=!1})},methods:{openVariantList(){new bootstrap.Modal(document.getElementById("collection-variant-modal-"+this.item.id),{}).show()},showCollectionDetails(){new bootstrap.Modal(document.getElementById("collection-modal-info"+this.item.id),{}).show()},incCollectionCart(){this.item.current_price=this.discountPrice,this.sending=!0,(this.checkInCart===0?this.$store.dispatch("addCollectionToCart",this.item):this.$store.dispatch("incQuantity",this.item.id)).then(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Добавление товара",text:"Ошибка добавления товара!",type:"error"})})},decCollectionCart(){this.sending=!0,(this.checkInCart<=1?this.$store.dispatch("removeCollectionFromCart",this.item.id):this.$store.dispatch("decQuantity",this.item.id)).then(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Товар успешно удален",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Удаление товара",text:"Ошибка удаления товара!",type:"error"})})}}},_sfc_main$2s=Object.assign(__default__$1r,{__name:"CollectionCard",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2s,[createBaseVNode("div",{onClick:a[0]||(a[0]=(...s)=>t.showCollectionDetails&&t.showCollectionDetails(...s)),class:"img-container"},[o.item.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_2$2o,null,512)),[[i,"/images-by-company-id/"+t.bot.company.id+"/"+o.item.image]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$2m,[createBaseVNode("div",_hoisted_4$2g,[createBaseVNode("div",_hoisted_5$2c,[createBaseVNode("span",_hoisted_6$2b,[_hoisted_7$23,createTextVNode(" "+toDisplayString((o.item.products||[]).length),1)])]),o.item.discount>0?(openBlock(),createElementBlock("span",_hoisted_8$1_,"%")):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_9$1W,[createBaseVNode("p",_hoisted_10$1N,[createTextVNode(toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_11$1J,"...")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$1G,[t.checkInCart===0?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-md btn-light w-100 rounded-3"]),disabled:o.item.in_stop_list_at!=null||!t.canProductAction,onClick:a[1]||(a[1]=(...s)=>t.incCollectionCart&&t.incCollectionCart(...s)),style:{"font-size":"12px"}},[o.item.discount>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.discountPrice)+"₽ ",1),createBaseVNode("span",_hoisted_14$1x,toDisplayString(t.currentPrice)+"₽",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.currentPrice)+"₽ ",1)],64))],10,_hoisted_13$1B)):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:a[2]||(a[2]=(...s)=>t.openVariantList&&t.openVariantList(...s)),class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-md btn-success w-100 rounded-3"]),style:{"font-size":"12px"}},[createTextVNode(" Все варианты "),createBaseVNode("span",_hoisted_15$1w,toDisplayString(t.cartCollections.length),1)],2))])])]),createBaseVNode("div",{class:"modal fade",id:"collection-variant-modal-"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_17$1p,[createBaseVNode("div",_hoisted_18$1m,[_hoisted_19$1h,createBaseVNode("div",_hoisted_20$1f,[t.cartCollections.length>0?(openBlock(),createElementBlock("div",_hoisted_21$1c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartCollections,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_22$1c,[createVNode(_sfc_main$2t,{params:s.params,item:s.collection},null,8,["params","item"])]))),256))])):(openBlock(),createElementBlock("p",_hoisted_23$1b," Ни одной коллекции не было добавлено в корзину! "))])])])],8,_hoisted_16$1v),createBaseVNode("div",{class:"modal fade",id:"collection-modal-info"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_25$11,[createBaseVNode("div",_hoisted_26$$,[_hoisted_27$X,createBaseVNode("div",_hoisted_28$V,[o.item?(openBlock(),createBlock(_sfc_main$2u,{key:0,item:o.item},null,8,["item"])):createCommentVNode("",!0)])])])],8,_hoisted_24$17)],64)}}}),PreloaderV1_vue_vue_type_style_index_0_lang="",_sfc_main$2r={},_hoisted_1$2r={style:{"min-height":"100vh"},class:"d-flex justify-content-center align-items-center flex-column",role:"alert"},_hoisted_2$2n=createStaticVNode('<div class="loader-new"><div class="bar1"></div><div class="bar2"></div><div class="bar3"></div><div class="bar4"></div><div class="bar5"></div><div class="bar6"></div></div><p class="fw-bold text-primary" style="margin-top:50px;">Загружаем...</p>',2),_hoisted_4$2f=[_hoisted_2$2n];function _sfc_render$$(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$2r,_hoisted_4$2f)}const PreloaderV1=_export_sfc(_sfc_main$2r,[["render",_sfc_render$$]]),CategorySlider_vue_vue_type_style_index_0_scoped_daf0c2d9_lang="",_sfc_main$2q={data(){return{search:null,need_search:!1,category_modal:null}},props:{settings:Object,categories:Array,collections:Array},computed:{colorTheme(){return"background-color:"+(document.querySelector("[data-bs-theme]").getAttribute("data-bs-theme")==="light"?"white":"#212529")}},watch:{need_search:{handler:function(o){this.need_search||(this.search=null,this.findProducts())},deep:!0}},mounted(){this.category_modal=new bootstrap.Modal(document.getElementById("category-list-2-modal"),{backdrop:!1})},methods:{openCategoryModal(){this.category_modal.show()},findProducts(){this.$emit("search",this.search),this.category_modal.hide()},selectCategory(o){this.$emit("select",o),this.category_modal.hide();let t;o?o.id==="combo"?t="combo-menu":t=`category-${o.id}`:t="all-categories";const a=document.getElementById(t);a&&a.scrollIntoView({behavior:"auto",block:"start"})}}},_withScopeId$k=o=>(pushScopeId("data-v-daf0c2d9"),o=o(),popScopeId(),o),_hoisted_1$2q={key:0,class:"container p-2"},_hoisted_2$2m=_withScopeId$k(()=>createBaseVNode("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),_hoisted_3$2l=[_hoisted_2$2m],_hoisted_4$2e={class:"d-flex overflow-auto category-slider gap-2 align-items-start"},_hoisted_5$2b={style:{"margin-left":"10px"},class:"badge bg-dark"},_hoisted_6$2a=["onClick"],_hoisted_7$22={style:{"margin-left":"10px"},class:"badge bg-primary"},_hoisted_8$1Z={class:"modal fade",id:"category-list-2-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_9$1V={class:"modal-dialog modal-fullscreen"},_hoisted_10$1M={class:"modal-content"},_hoisted_11$1I=_withScopeId$k(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Категории"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_12$1F={class:"modal-body"},_hoisted_13$1A={class:"row mb-2"},_hoisted_14$1w={class:"col"},_hoisted_15$1v={class:"input-group"},_hoisted_16$1u={class:"form-floating"},_hoisted_17$1o=_withScopeId$k(()=>createBaseVNode("label",{for:"searchInput"},"Поиск по товарам",-1)),_hoisted_18$1l=_withScopeId$k(()=>createBaseVNode("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),_hoisted_19$1g=[_hoisted_18$1l],_hoisted_20$1e={class:"row row-cols-1"},_hoisted_21$1b=_withScopeId$k(()=>createBaseVNode("div",{class:"col"},null,-1)),_hoisted_22$1b={class:"col mb-2"},_hoisted_23$1a=["onClick"],_hoisted_24$16={class:"badge bg-primary d-flex justify-content-center align-items-center"};function _sfc_render$_(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[a.settings?(openBlock(),createElementBlock("div",_hoisted_1$2q,[a.categories.length>0||a.collections.length>0?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle(r.colorTheme),class:"container-slider-wrapper p-2 d-flex align-items-start"},[createBaseVNode("button",{style:{"margin-right":"10px"},type:"button",class:"btn btn-primary flex-shrink-0 mr-2",onClick:t[0]||(t[0]=(...n)=>r.openCategoryModal&&r.openCategoryModal(...n))},_hoisted_3$2l),createBaseVNode("div",_hoisted_4$2e,[a.collections.length>0?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-warning flex-shrink-0 d-flex align-items-center",onClick:t[1]||(t[1]=n=>r.selectCategory({id:"combo"}))},[createTextVNode(" Комбо-меню "),createBaseVNode("span",_hoisted_5$2b,toDisplayString(a.collections.length),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.categories,n=>(openBlock(),createElementBlock("button",{type:"button",key:n.id,class:"btn btn-outline-secondary flex-shrink-0 d-flex align-items-center",onClick:l=>r.selectCategory(n)},[createTextVNode(toDisplayString(n.title||"Не указано")+" ",1),createBaseVNode("span",_hoisted_7$22,toDisplayString(n.products_count||0),1)],8,_hoisted_6$2a))),128))])],4)):createCommentVNode("",!0),renderSlot(o.$slots,"back-btn",{},void 0,!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$1Z,[createBaseVNode("div",_hoisted_9$1V,[createBaseVNode("div",_hoisted_10$1M,[_hoisted_11$1I,createBaseVNode("div",_hoisted_12$1F,[createBaseVNode("div",_hoisted_13$1A,[createBaseVNode("div",_hoisted_14$1w,[createBaseVNode("div",_hoisted_15$1v,[createBaseVNode("div",_hoisted_16$1u,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":t[2]||(t[2]=n=>s.search=n),class:"form-control",id:"searchInput",placeholder:"Поиск по товарам"},null,512),[[vModelText,s.search]]),_hoisted_17$1o]),createBaseVNode("button",{class:"btn btn-primary",type:"button",onClick:t[3]||(t[3]=(...n)=>r.findProducts&&r.findProducts(...n))},_hoisted_19$1g)])])]),createBaseVNode("div",_hoisted_20$1e,[_hoisted_21$1b,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.categories,n=>(openBlock(),createElementBlock("div",_hoisted_22$1b,[(openBlock(),createElementBlock("button",{type:"button",key:n.id,class:"btn py-3 btn-outline-secondary flex-shrink-0 w-100 d-flex justify-content-between",onClick:l=>r.selectCategory(n)},[createTextVNode(toDisplayString(n.title||"Не указано")+" ",1),createBaseVNode("span",_hoisted_24$16,toDisplayString(n.products_count||0),1)],8,_hoisted_23$1a))]))),256))])])])])])],64)}const CategorySlider=_export_sfc(_sfc_main$2q,[["render",_sfc_render$_],["__scopeId","data-v-daf0c2d9"]]),PartnerCard_vue_vue_type_style_index_0_scoped_83acc772_lang="",_sfc_main$2p={props:["partner"],data(){return{}},computed:{bot(){return window.currentBot||null}},mounted(){console.log(this.partner)}},_hoisted_1$2p={class:"row g-0"},_hoisted_2$2l={class:"col-md-4"},_hoisted_3$2k={class:"img-fluid rounded-start img-partner-card",alt:"..."},_hoisted_4$2d={class:"col-md-8"},_hoisted_5$2a={class:"card-body"},_hoisted_6$29={class:"my-2 fw-bold"},_hoisted_7$21={key:0,class:"fst-italic mb-2"},_hoisted_8$1Y={key:1,class:"card-text",style:{"line-height":"100%"}},_hoisted_9$1U={class:"text-primary",style:{"font-size":"10px",margin:"3px"}};function _sfc_render$Z(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",{class:"card mb-2 border-light",onClick:t[0]||(t[0]=l=>o.$emit("select",a.partner))},[createBaseVNode("div",_hoisted_1$2p,[createBaseVNode("div",_hoisted_2$2l,[withDirectives(createBaseVNode("img",_hoisted_3$2k,null,512),[[n,"/images-by-bot-id/"+r.bot.id+"/"+a.partner.image]])]),createBaseVNode("div",_hoisted_4$2d,[createBaseVNode("div",_hoisted_5$2a,[createBaseVNode("h5",_hoisted_6$29,toDisplayString(a.partner.title),1),a.partner.description?(openBlock(),createElementBlock("p",_hoisted_7$21,toDisplayString(a.partner.description||""),1)):createCommentVNode("",!0),a.partner.categories?(openBlock(),createElementBlock("p",_hoisted_8$1Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.partner.categories,l=>(openBlock(),createElementBlock("span",_hoisted_9$1U,"#"+toDisplayString(l.title)+", ",1))),256))])):createCommentVNode("",!0)])])])])}const PartnerCard=_export_sfc(_sfc_main$2p,[["render",_sfc_render$Z],["__scopeId","data-v-83acc772"]]),PartnerSliderSimple_vue_vue_type_style_index_0_scoped_8cee7f2d_lang="",StoryItem_vue_vue_type_style_index_0_scoped_ee760bbe_lang="",_sfc_main$2o={name:"StoryItem",props:{story:{type:Object,required:!0},isViewed:{type:Boolean,default:!1}}},_hoisted_1$2o=["src","alt"];function _sfc_render$Y(o,t,a,i,s,r){return openBlock(),createElementBlock("div",{class:normalizeClass(["story-item flex-shrink-0 rounded-circle overflow-hidden cursor-pointer border",{"border-primary":!a.isViewed,"border-secondary":a.isViewed}]),style:{width:"80px",height:"80px"},onClick:t[0]||(t[0]=n=>o.$emit("open-story"))},[createBaseVNode("img",{src:a.story.thumbnail,class:normalizeClass(["w-100 h-100 object-fit-cover",{"filter-grayscale":a.isViewed}]),alt:a.story.title},null,10,_hoisted_1$2o)],2)}const StoryItem=_export_sfc(_sfc_main$2o,[["render",_sfc_render$Y],["__scopeId","data-v-ee760bbe"]]),StoryList_vue_vue_type_style_index_0_scoped_2e3941ad_lang="",_sfc_main$2n={name:"StoryList",components:{StoryItem},props:{stories:{type:Array,required:!0}},data(){return{currentStory:null,progress:0,timer:null,viewedStories:JSON.parse(localStorage.getItem("viewedStories"))||[]}},computed:{sortedStories(){return[...this.stories].sort((o,t)=>{const a=this.viewedStories.includes(o.id),i=this.viewedStories.includes(t.id);return a&&!i?1:!a&&i?-1:0})}},methods:{goToProductLink(o){try{const a=new URL(o).searchParams.get("start"),s=atob(a).match(/^001slug(\d+)product(\d+)$/);s||this.$router.push({name:"CatalogV2"});const r=s[2];this.$router.push({name:"ProductV2",params:{productId:r}})}catch{this.$router.push({name:"CatalogV2"})}},openStory(o){this.currentStory=o,this.progress=0,this.startTimer(),this.markAsViewed(this.sortedStories[o].id)},closeStory(){this.currentStory=null,this.progress=0,clearInterval(this.timer)},startTimer(){clearInterval(this.timer),this.timer=setInterval(()=>{this.progress+=2,this.progress>=100&&this.nextStory()},100)},nextStory(){this.currentStory<this.sortedStories.length-1?(this.currentStory++,this.progress=0,this.markAsViewed(this.sortedStories[this.currentStory].id),this.startTimer()):this.closeStory()},markAsViewed(o){this.viewedStories.includes(o)||(this.viewedStories.push(o),localStorage.setItem("viewedStories",JSON.stringify(this.viewedStories)))},isStoryViewed(o){return this.viewedStories.includes(o)}}},_hoisted_1$2n={class:"story-list-container d-flex overflow-auto p-3"},_hoisted_2$2k={class:"modal-dialog modal-dialog-centered w-100 mw-100 m-0 h-100 mh-100"},_hoisted_3$2j={class:"modal-content bg-transparent border-0 h-100 position-relative"},_hoisted_4$2c={class:"progress position-absolute top-0 start-0 end-0",style:{height:"4px","z-index":"10"}},_hoisted_5$29=["src"],_hoisted_6$28={class:"text-white p-3 bg-black bg-opacity-50 position-absolute bottom-0 start-0 end-0"},_hoisted_7$20={class:"mb-1"},_hoisted_8$1X={class:"mb-0"},_hoisted_9$1T=["href"];function _sfc_render$X(o,t,a,i,s,r){const n=resolveComponent("StoryItem");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.sortedStories,(l,c)=>(openBlock(),createBlock(n,{key:l.id,story:l,"is-viewed":r.isStoryViewed(l.id),onOpenStory:m=>r.openStory(c)},null,8,["story","is-viewed","onOpenStory"]))),128))]),s.currentStory!==null?(openBlock(),createElementBlock("div",{key:0,class:"modal fade show d-block",style:{"background-color":"rgba(0, 0, 0, 0.9)"},onClick:t[2]||(t[2]=withModifiers((...l)=>r.closeStory&&r.closeStory(...l),["self"]))},[createBaseVNode("div",_hoisted_2$2k,[createBaseVNode("div",_hoisted_3$2j,[createBaseVNode("div",_hoisted_4$2c,[createBaseVNode("div",{class:"progress-bar bg-primary",role:"progressbar",style:normalizeStyle({width:`${s.progress}%`})},null,4)]),createBaseVNode("img",{src:r.sortedStories[s.currentStory].image,class:"w-100 h-100 object-fit-cover",alt:"Story"},null,8,_hoisted_5$29),createBaseVNode("div",_hoisted_6$28,[createBaseVNode("h5",_hoisted_7$20,toDisplayString(r.sortedStories[s.currentStory].title),1),createBaseVNode("p",_hoisted_8$1X,toDisplayString(r.sortedStories[s.currentStory].description),1),r.sortedStories[s.currentStory].link?(openBlock(),createElementBlock(Fragment,{key:0},[r.sortedStories[s.currentStory].link_type==="url"||r.sortedStories[s.currentStory].link_type==="bot"?(openBlock(),createElementBlock("a",{key:0,href:r.sortedStories[s.currentStory].link,target:"_blank",class:"btn btn-primary rounded-5 w-100 p-3"}," Перейти по ссылке ",8,_hoisted_9$1T)):createCommentVNode("",!0),r.sortedStories[s.currentStory].link_type==="product"?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",onClick:t[0]||(t[0]=l=>r.goToProductLink(r.sortedStories[s.currentStory].link)),class:"btn btn-primary rounded-5 w-100 p-3"}," Открыть товар ")):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createBaseVNode("button",{type:"button",class:"btn-close btn-close-white position-absolute top-0 end-0 m-2",style:{"z-index":"10"},onClick:t[1]||(t[1]=(...l)=>r.closeStory&&r.closeStory(...l))})])])])):createCommentVNode("",!0)],64)}const StoryList=_export_sfc(_sfc_main$2n,[["render",_sfc_render$X],["__scopeId","data-v-2e3941ad"]]),PartnerList_vue_vue_type_style_index_0_scoped_daaa62ee_lang="",_hoisted_1$2m={key:0,class:"row my-3 row-cols-1 g-1"},_hoisted_2$2j={key:0,class:"col"},_hoisted_3$2i={class:"col"},_hoisted_4$2b={key:1,class:"alert alert-light"},__default__$1q={name:"PartnerList",data(){return{}},computed:{bot(){return window.currentBot||null},settings(){return this.bot.settings},partnerList(){return this.bot.partners||[]}},mounted(){},methods:{selectPartner(o){this.$emit("select",o)}}},_sfc_main$2m=Object.assign(__default__$1q,{setup(o){return(t,a)=>{var i;return(t.partnerList||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_1$2m,[(i=t.settings.partners)!=null&&i.display_self?(openBlock(),createElementBlock("div",_hoisted_2$2j,[(openBlock(),createBlock(PartnerCard,{partner:t.settings.partners,onSelect:t.selectPartner,key:"partner-0"},null,8,["partner","onSelect"]))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.partnerList,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_3$2i,[(openBlock(),createBlock(PartnerCard,{partner:s,onSelect:t.selectPartner,key:"partner-"+r},null,8,["partner","onSelect"]))]))),256))])):(openBlock(),createElementBlock("p",_hoisted_4$2b," У вас нет добавленных партнеров "))}}}),PartnerList$1=_export_sfc(_sfc_main$2m,[["__scopeId","data-v-daaa62ee"]]),_hoisted_1$2l={class:"container"},__default__$1p={methods:{selectPartner(o){this.$emit("select",o)}}},_sfc_main$2l=Object.assign(__default__$1p,{__name:"PartnersMain",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$2l,[createVNode(PartnerList$1,{onSelect:t.selectPartner},null,8,["onSelect"])]))}}),_sfc_main$2k={data(){return{selectedTable:null,my_bookings:[]}},mounted(){this.myUpcomingBookings()},methods:{selectATable(o){this.selectedTable=null,this.$nextTick(()=>{this.selectedTable=o,localStorage.setItem("cashman_current_active_table",JSON.stringify(o)),this.$emit("select",this.selectedTable)})},myUpcomingBookings(){return this.$store.dispatch("myUpcomingBookings").then(o=>{this.my_bookings=o.data||[];let t=localStorage.getItem("cashman_current_active_table")||null;t&&(t=JSON.parse(t)),this.selectedTable=this.my_bookings.find(a=>a.id===(t==null?void 0:t.id))||null})},openRemoveModal(o){this.selectedTable=null,this.$nextTick(()=>{this.selectedTable=o;const t=document.getElementById("remove-booking-modal");new bootstrap.Modal(t).show()})},cancelBookingTable(){if(this.selectedTable)return this.$store.dispatch("cancelBookingTable",{bookingId:this.selectedTable.id}).then(o=>{this.$notify({title:"Бронирование",text:"Бронь столика успешно убрана!",type:"success"}),localStorage.removeItem("cashman_current_active_table"),this.myUpcomingBookings();const t=document.getElementById("remove-booking-modal");bootstrap.Modal.getInstance(t).hide().hide()})}}},_hoisted_1$2k={key:0,class:"p-3"},_hoisted_2$2i={class:"dropdown my-2"},_hoisted_3$2h={class:"btn btn-success dropdown-toggle w-100 p-3",type:"button",id:"bookingsDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_4$2a={key:0},_hoisted_5$28={key:1},_hoisted_6$27={class:"dropdown-menu w-100","aria-labelledby":"bookingsDropdown"},_hoisted_7$1$=createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider"})],-1),_hoisted_8$1W=["onClick"],_hoisted_9$1S={class:"fw-bold"},_hoisted_10$1L={class:"text-muted"},_hoisted_11$1H={class:"fst-italic mb-1"},_hoisted_12$1E={class:"d-flex justify-content-between align-items-center"},_hoisted_13$1z=["onClick"],_hoisted_14$1v={class:"badge bg-primary rounded-pill"},_hoisted_15$1u={class:"modal fade",id:"remove-booking-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_16$1t={class:"modal-dialog modal-dialog-centered"},_hoisted_17$1n={class:"modal-content"},_hoisted_18$1k=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление брони"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_19$1f={class:"modal-body"},_hoisted_20$1d={class:"mb-2"},_hoisted_21$1a={class:"fw-bold text-primary"},_hoisted_22$1a={class:"fw-bold text-primary"},_hoisted_23$19={class:"w-100 d-flex justify-content-center"},_hoisted_24$15=createBaseVNode("button",{"data-bs-dismiss":"modal",class:"btn btn-secondary",type:"button"},"Нет, отменить ",-1);function _sfc_render$W(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[s.my_bookings.length>0?(openBlock(),createElementBlock("div",_hoisted_1$2k,[createBaseVNode("div",_hoisted_2$2i,[createBaseVNode("button",_hoisted_3$2h,[s.selectedTable?(openBlock(),createElementBlock("span",_hoisted_4$2a,"Выбран столик #"+toDisplayString(s.selectedTable.number),1)):(openBlock(),createElementBlock("span",_hoisted_5$28,"Мои брони ("+toDisplayString(s.my_bookings.length)+")",1))]),createBaseVNode("ul",_hoisted_6$27,[createBaseVNode("li",{onClick:t[0]||(t[0]=n=>r.selectATable(null)),class:"dropdown-item"}," Не выбран "),_hoisted_7$1$,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.my_bookings,n=>{var l,c;return openBlock(),createElementBlock("li",{onClick:m=>r.selectATable(n),key:n.id,class:"dropdown-item"},[createBaseVNode("div",_hoisted_9$1S," Бронь столика №"+toDisplayString(n.number),1),createBaseVNode("small",_hoisted_10$1L," Дата "+toDisplayString(n.booked_date_at)+" в "+toDisplayString(n.booked_time_at),1),createBaseVNode("p",_hoisted_11$1H,toDisplayString(((l=n.booked_info)==null?void 0:l.description)||"-"),1),createBaseVNode("div",_hoisted_12$1E,[createBaseVNode("button",{onClick:m=>r.openRemoveModal(n),type:"button",class:"btn btn-sm btn-danger"}," Отменить ",8,_hoisted_13$1z),createBaseVNode("span",_hoisted_14$1v,toDisplayString(((c=n.booked_info)==null?void 0:c.persons)||1)+" чел. ",1)])],8,_hoisted_8$1W)}),128))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$1u,[createBaseVNode("div",_hoisted_16$1t,[createBaseVNode("div",_hoisted_17$1n,[_hoisted_18$1k,createBaseVNode("div",_hoisted_19$1f,[s.selectedTable?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("p",_hoisted_20$1d,[createTextVNode("Вы точно хотите удалить бронь на "),createBaseVNode("strong",_hoisted_21$1a,toDisplayString(s.selectedTable.booked_date_at||"-"),1),createTextVNode(" для столика "),createBaseVNode("strong",_hoisted_22$1a,toDisplayString(s.selectedTable.number||"-"),1),createTextVNode("?")]),createBaseVNode("div",_hoisted_23$19,[createBaseVNode("button",{onClick:t[1]||(t[1]=(...n)=>r.cancelBookingTable&&r.cancelBookingTable(...n)),style:{"margin-right":"10px"},class:"btn btn-danger",type:"button"},"Да, удалить "),_hoisted_24$15])],64)):createCommentVNode("",!0)])])])])],64)}const BookingDropdown=_export_sfc(_sfc_main$2k,[["render",_sfc_render$W]]),ShopProductCatalog_vue_vue_type_style_index_0_lang="",_hoisted_1$2j={id:"category-slider",class:"d-block w-100 p-0 m-0 sticky-menu"},_hoisted_2$2h=createBaseVNode("i",{class:"fa-solid fa-arrow-left me-2"},null,-1),_hoisted_3$2g={class:"d-flex flex-column"},_hoisted_4$29={key:0,class:"p-2"},_hoisted_5$27={class:"alert alert-danger mb-0"},_hoisted_6$26=["innerHTML"],_hoisted_7$1_={class:"album",style:{"min-height":"100vh"}},_hoisted_8$1V={key:0,class:"container g-2"},_hoisted_9$1R={key:0,class:"list-group"},_hoisted_10$1K={class:"badge text-bg-primary"},_hoisted_11$1G=["onClick"],_hoisted_12$1D={class:"badge text-bg-primary"},_hoisted_13$1y={key:1,style:{"min-height":"100vh"},class:"album"},_hoisted_14$1u={class:"container g-2"},_hoisted_15$1t=createBaseVNode("h5",{class:"my-4 divider",id:"cat-combo"},"Комбо меню",-1),_hoisted_16$1s={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_17$1m={class:"col"},_hoisted_18$1j={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},_hoisted_19$1e={class:"col"},_hoisted_20$1c=createBaseVNode("h5",{class:"my-4 divider",id:"cat-combo"},"Наши новинки",-1),_hoisted_21$19=["id"],_hoisted_22$19={key:0,class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_23$18={class:"col"},_hoisted_24$14={key:0,class:"col-12"},_hoisted_25$10=["onClick"],_hoisted_26$_={key:0},_hoisted_27$W={key:1,class:"d-inline-flex align-items-center"},_hoisted_28$U=createBaseVNode("span",{class:"spinner-border",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_29$S={class:"list-group list-group-numbered"},_hoisted_30$Q=["onClick"],_hoisted_31$P={key:0},_hoisted_32$N={key:1,class:"d-inline-flex align-items-center"},_hoisted_33$N=createBaseVNode("span",{class:"spinner-border",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_34$L={class:"container"},_hoisted_35$I={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},_hoisted_36$H={class:"col"},__default__$1o={data(){return{selected_partner:null,extra_charge:0,shop:0,stories:[],tab:1,load_content:!1,load_collection:!1,product_type_display:1,spent_time_counter:0,is_requested:!1,isCollapsed:!0,search:null,products:[],collections:[],collections_paginate:[],products_with_categories:[],paginate:null,categories:[],sending:!1,min_price:null,max_price:null,moneyVariants:[500,1e3,2e3,5e3],deliveryForm:{name:null,phone:null,address:null,city:null,street:null,building:null,flat_number:null,entrance_number:null,floor_number:null,info:null,need_pickup:!1,has_disability:!1,use_cashback:!1,disabilities:[],money:null,cash:!0,persons:1,time:null,when_ready:!0}}},computed:{...mapGetters(["inCart","inCollectionCart","getStories","getCollections","getCollectionsPaginateObject","getProducts","getCategories","getProductsPaginateObject","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),uuid(){return v4()},settings(){return this.bot.settings},partners(){var o;return(o=this.bot.settings)==null?void 0:o.partners},bot(){return window.currentBot},colorTheme(){return"background-color:"+(document.querySelector("[data-bs-theme]").getAttribute("data-bs-theme")==="light"?"white":"#212529")},getCurrentBot(){return window.currentBot},cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,a=this.getCurrentBot.max_cashback_use_percent||0,i=t*(a/100);return Math.min(i,o)},filteredCategories(){if(!this.products||this.products.length===0)return[];const o=this.search instanceof Event||!this.search?"":this.search.toLowerCase();return this.products.map(t=>{const a=t.products.filter(i=>{var s;return((s=i.title)==null?void 0:s.toLowerCase().includes(o))&&(this.settings.need_hide_disabled_products?i.in_stop_list_at==null:!0)});return{...t,products:a}}).filter(t=>t.products.length>0)},filteredProducts(){return this.categories.length===0?this.products:this.products.filter(o=>o.categories.findIndex(t=>this.categories.indexOf(t.id)!==-1)!==-1)},tg(){return window.Telegram.WebApp},activeCategories(){let o=[];return this.filteredProducts.forEach(t=>{o.push(t.categories.map(a=>a.id))}),[...new Set(o.map(t=>t[0])),...new Set(o.map(t=>t[1]))]}},mounted(){var a;this.shop=(a=this.partners)!=null&&a.is_active?0:1;const o=document.getElementById("category-slider"),t=()=>{o&&(window.scrollY>50?(o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.right="0",o.style.zIndex="1000"):(o.style.position="relative",o.style.top="",o.style.left="",o.style.right="",o.style.zIndex="",o.style.backgroundColor="",o.style.boxShadow=""))};window.addEventListener("scroll",t),this.loadStories(),this.loadProducts(),this.loadCollections(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(i=>i.click()),this.$router.push({name:"MenuV2"})})},methods:{selectPartner(o){this.selected_partner=null,this.extra_charge=0,this.products=[],this.collections=[],this.categories=[],this.$nextTick(()=>{this.selected_partner=o,this.extra_charge=o.extra_charge||0,this.loadProducts(0),this.loadCollections(0),this.shop=1}),this.$preloader.show()},doSwipeLeft(){this.$router.push({name:"MenuV2"})},doSwipeRight(){this.$router.push({name:"ShopCartV2"})},loadStories(){this.$store.dispatch("loadStories").then(o=>{this.stories=this.getStories||[]})},findProducts(o){this.search=o},scroll(o){var t=document.getElementById(o),a=70,i=(t==null?void 0:t.getBoundingClientRect().top)||70,s=i+window.pageYOffset-a;window.scroll({top:s,behavior:"smooth"})},openTab(o){this.tab=o,window.scroll(0,80)},closeModalOnSwipe(){return document.querySelectorAll(".modal.show").length>0?(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click()),!0):!1},decPersons(){this.deliveryForm.persons=this.deliveryForm.persons>1?this.deliveryForm.persons-1:this.deliveryForm.persons},incPersons(){this.deliveryForm.persons=this.deliveryForm.persons<100?this.deliveryForm.persons+1:this.deliveryForm.persons},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",this.spent_time_counter)},1e3)},clearCart(){this.tab=1,this.$store.dispatch("clearCart").then(()=>{this.$notify({title:"Корзина",text:"Корзина успешно очищена!",type:"success"})})},selectCategory(o){this.tab=1,this.$nextTick(()=>{o?this.scroll("cat-"+o.id):window.scroll(0,80)})},nextProducts(o){this.loadProducts(o)},nextCollections(o){this.loadCollections(o)},loadCollections(o=0){var t;return this.load_content=!0,this.load_collection=!0,this.$store.dispatch("loadGlobalCollections",{partner_id:((t=this.selected_partner)==null?void 0:t.bot_partner_id)||null,page:o}).then(a=>{this.collections=this.getCollections,this.collections_paginate=this.getCollectionsPaginateObject,this.load_content=!1,this.load_collection=!1,window.scroll(0,80)}).catch(()=>{this.load_content=!1,this.load_collection=!1,this.$store.dispatch("clearCart").then(()=>{this.loadCollections()})})},loadMore(o,t){var a;return this.load_content=!0,this.$store.dispatch("loadMoreProductsByCategory",{partner_id:((a=this.selected_partner)==null?void 0:a.bot_partner_id)||null,category_id:o,offset:t}).then(i=>{let s=i.length||0;if(this.load_content=!1,s===0){this.products.find(r=>r.id===o).products_count=t;return}this.products.find(r=>r.id===o).products.push(...i)}).catch(()=>{this.load_content=!1})},loadProducts(o=0){var a;this.tab=1;let t=localStorage.getItem("cashman_preloaded_products_by_categories_"+this.getCurrentBot.bot_domain)!==null;return t&&(this.products=JSON.parse(localStorage.getItem("cashman_preloaded_products_by_categories_"+this.getCurrentBot.bot_domain))),this.load_content=!1,this.$store.dispatch("loadProductsByCategory",{partner_id:((a=this.selected_partner)==null?void 0:a.bot_partner_id)||null}).then(i=>{this.load_content=!0,this.$nextTick(()=>{this.products=i.data,localStorage.setItem("cashman_preloaded_products_by_categories_"+this.getCurrentBot.bot_domain,JSON.stringify(this.products)),this.load_content=!1,t||window.scroll(0,80)})}).catch(()=>{this.load_content=!1,this.$store.dispatch("clearCart").then(()=>{this.loadProducts()})})},startCheckout(){if(this.is_requested){this.$notify({title:"Упс!",text:"Сделать повторный заказ можно через ${this.spent_time_counter} сек.",type:"error"});return}localStorage.setItem("cashman_self_product_delivery_form_name",this.deliveryForm.name||""),localStorage.setItem("cashman_self_product_delivery_form_phone",this.deliveryForm.phone||""),localStorage.setItem("cashman_self_product_delivery_form_address",this.deliveryForm.address||""),localStorage.setItem("cashman_self_product_delivery_form_city",this.deliveryForm.city||""),localStorage.setItem("cashman_self_product_delivery_form_street",this.deliveryForm.street||""),localStorage.setItem("cashman_self_product_delivery_form_building",this.deliveryForm.building||""),localStorage.setItem("cashman_self_product_delivery_form_flat_number",this.deliveryForm.flat_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_number",this.deliveryForm.entrance_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_disabilities",JSON.stringify(this.deliveryForm.disabilities||[]));let o=new FormData;this.sending=!0,Object.keys(this.deliveryForm).forEach(t=>{const a=this.deliveryForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.type&&o.append("type",this.type),this.$store.dispatch("startCheckout",{deliveryForm:o}).then(t=>{this.deliveryForm={message:null,name:null,phone:null},this.$notify({title:"Доставка",text:"Дальнейшая инструкция отправлена вам в бот!",type:"success"}),this.tab=1,this.$store.dispatch("clearCart"),this.tg.close(),this.sending=!1}).catch(t=>{this.sending=!1}),this.startTimer(),this.is_requested=!0},removeCategory(o){this.categories.splice(o,1)},addToCart(o){this.$cart.add(o.product)}}},_sfc_main$2j=Object.assign(__default__$1o,{__name:"ShopProductCatalog",setup(o){return(t,a)=>{var s;const i=resolveDirective("touch");return openBlock(),createElementBlock(Fragment,null,[t.shop==0?(openBlock(),createBlock(_sfc_main$2l,{key:0,onSelect:t.selectPartner},null,8,["onSelect"])):createCommentVNode("",!0),t.shop==1?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("menu",_hoisted_1$2j,[createVNode(CategorySlider,{settings:t.settings,categories:t.filteredCategories,collections:t.collections,onSelect:t.selectCategory,onSearch:t.findProducts},{"back-btn":withCtx(()=>{var r;return[(r=t.partners)!=null&&r.is_active?(openBlock(),createElementBlock("button",{key:0,onClick:a[0]||(a[0]=n=>t.shop=0),class:"btn btn-primary p-2 mt-2"},[_hoisted_2$2h,createTextVNode(" К магазинам ")])):createCommentVNode("",!0)]}),_:1},8,["settings","categories","collections","onSelect","onSearch"])]),createBaseVNode("div",_hoisted_3$2g,[t.settings?(openBlock(),createElementBlock(Fragment,{key:0},[t.settings.is_disabled?(openBlock(),createElementBlock("div",_hoisted_4$29,[createBaseVNode("div",_hoisted_5$27,[createBaseVNode("p",{class:"mb-0",innerHTML:t.settings.disabled_text},null,8,_hoisted_6$26)])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),createVNode(BookingDropdown),withDirectives(createBaseVNode("div",_hoisted_7$1_,[t.settings?(openBlock(),createElementBlock("div",_hoisted_8$1V,[t.filteredCategories.length>0?(openBlock(),createElementBlock("div",_hoisted_9$1R,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[1]||(a[1]=r=>t.selectCategory(null)),style:{"font-weight":"bold"},class:"list-group-item list-group-item-action d-flex justify-content-between p-3","aria-current":"true"}," Все категории товаров "),t.collections.length>0?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:a[2]||(a[2]=r=>t.selectCategory({id:"combo"})),style:{"font-weight":"bold"},class:"list-group-item list-group-item-action d-flex justify-content-between p-3","aria-current":"true"},[createTextVNode(" Комбо-меню"),createBaseVNode("span",_hoisted_10$1K,toDisplayString(t.collections.length||0),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredCategories,r=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:n=>t.selectCategory(r),style:{"font-weight":"bold"},class:"list-group-item list-group-item-action d-flex justify-content-between p-3 align-items-center","aria-current":"true"},[createTextVNode(toDisplayString(r.title||"Не указано"),1),createBaseVNode("span",_hoisted_12$1D,toDisplayString(r.count||0),1)],8,_hoisted_11$1G))),256))])):createCommentVNode("",!0)])):(openBlock(),createBlock(PreloaderV1,{key:1}))],512),[[vShow,t.tab===0]]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_13$1y,[t.settings?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_14$1u,[t.collections.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_15$1t,createBaseVNode("div",_hoisted_16$1s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.collections,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_17$1m,[createVNode(_sfc_main$2s,{item:r},null,8,["item"])]))),256))]),((s=t.collections_paginate)==null?void 0:s.meta.last_page)>1?(openBlock(),createElementBlock("div",_hoisted_18$1j,[createBaseVNode("div",_hoisted_19$1e,[t.collections_paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextCollections,pagination:t.collections_paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),(t.stories||[]).length>0?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_20$1c,createVNode(StoryList,{stories:t.stories||[]},null,8,["stories"])],64)):createCommentVNode("",!0),t.filteredCategories.length>0?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.filteredCategories,r=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",{class:"my-4 divider",id:"cat-"+r.id},toDisplayString(r.title||"-"),9,_hoisted_21$19),t.settings.is_product_list?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("ol",_hoisted_29$S,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.products,(n,l)=>(openBlock(),createBlock(_sfc_main$2v,{item:n},null,8,["item"]))),256))]),r.products_count>r.products.length?(openBlock(),createElementBlock("button",{key:0,onClick:n=>t.loadMore(r.id,r.products.length),class:"btn btn-outline-light text-primary p-3 w-100 my-3",type:"button"},[t.load_content?(openBlock(),createElementBlock("span",_hoisted_32$N,[createTextVNode(" Загружаем.... "),_hoisted_33$N])):(openBlock(),createElementBlock("span",_hoisted_31$P,"Загрузить еще ("+toDisplayString(r.products_count-r.products.length)+")",1))],8,_hoisted_30$Q)):createCommentVNode("",!0)],64)):withDirectives((openBlock(),createElementBlock("div",_hoisted_22$19,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.products,(n,l)=>(openBlock(),createElementBlock("div",_hoisted_23$18,[createVNode(_sfc_main$2w,{item:n},null,8,["item"])]))),256)),r.products_count>r.products.length?(openBlock(),createElementBlock("div",_hoisted_24$14,[createBaseVNode("button",{onClick:n=>t.loadMore(r.id,r.products.length),class:"btn btn-outline-light text-primary p-3 my-3 w-100",type:"button"},[t.load_content?(openBlock(),createElementBlock("span",_hoisted_27$W,[createTextVNode(" Загружаем.... "),_hoisted_28$U])):(openBlock(),createElementBlock("span",_hoisted_26$_,"Загрузить еще ("+toDisplayString(r.products_count-r.products.length)+")",1))],8,_hoisted_25$10)])):createCommentVNode("",!0)])),[[i,t.doSwipeLeft,"swipe",{left:!0}],[i,t.doSwipeRight,"swipe",{right:!0}]])],64))),256)):(openBlock(),createBlock(PreloaderV1,{key:3}))]),createBaseVNode("div",_hoisted_34$L,[createBaseVNode("div",_hoisted_35$I,[createBaseVNode("div",_hoisted_36$H,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])])],64)):(openBlock(),createBlock(PreloaderV1,{key:1}))])):createCommentVNode("",!0)]),renderSlot(t.$slots,"navigation")],64)):createCommentVNode("",!0)],64)}}}),BookingForm_vue_vue_type_style_index_0_scoped_53ada5d1_lang="",_sfc_main$2i={props:["tableInfo"],data(){return{tab:"form",show_persons_input:!1,reservation:{date:"",time:"",name:"",phone:"",persons:1,description:"",table:null},bookings:[]}},computed:{self(){return window.self||null}},watch:{"reservation.date":{handler:function(o){this.bookingList()},deep:!0},tab:{handler:function(o){this.tab==="list"&&this.bookingList()},deep:!0}},methods:{bookingList(){return this.$store.dispatch("bookingList",{number:this.reservation.table.number,date:this.reservation.date}).then(o=>{this.bookings=o.data||[]})},validateForm(){return!this.reservation.date||!this.reservation.time||!this.reservation.persons?(this.$notify({title:"Бронирование",text:"Пожалуйста, заполните все обязательные поля (Дата, Время, Число персон)",type:"error"}),!1):this.reservation.persons<1?(this.$notify({title:"Бронирование",text:"Число персон должно быть не менее 1.",type:"error"}),!1):new Date(`${this.reservation.date}T${this.reservation.time}`)<new Date?(this.$notify({title:"Бронирование",text:"Дата и время бронирования не могут быть в прошлом.",type:"error"}),!1):!0},submitReservation(){if(!this.validateForm()){this.$notify({title:"Бронирование",text:"Не все поля заполнены корректно",type:"error"});return}let o=new FormData;Object.keys(this.reservation).forEach(t=>{const a=this.reservation[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("bookATable",{dataObject:o}).then(t=>{this.$notify({title:"Бронирование",text:"Ваш столик успешно забронирован!",type:"success"}),this.reservation={date:"",time:"",name:"",phone:"",persons:1,description:"",table:null},localStorage.setItem("cashman_current_active_table",JSON.stringify(t.data)),this.$emit("success")}).catch(t=>{this.$notify({title:"Бронирование",text:"Ошибка бронирования столика!",type:"error"}),this.$emit("failure")})}},mounted(){this.tableInfo&&this.$nextTick(()=>{this.reservation.table=this.tableInfo,this.reservation.persons=this.tableInfo.seats||1,this.reservation.description="Хочу забронировать этот столик",this.reservation.name=this.self.name||null,this.reservation.phone=this.self.phone||null});const o=new Date,t=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");document.getElementById("reservationDate").setAttribute("min",`${t}-${a}-${i}`)}},_withScopeId$j=o=>(pushScopeId("data-v-53ada5d1"),o=o(),popScopeId(),o),_hoisted_1$2i={key:0,class:"alert alert-light mb-2"},_hoisted_2$2g={class:"mb-0"},_hoisted_3$2f={class:"fw-bold"},_hoisted_4$28={class:"nav nav-tabs justify-content-center mb-2"},_hoisted_5$26={class:"nav-item"},_hoisted_6$25={class:"nav-item"},_hoisted_7$1Z={class:"form-floating mb-2"},_hoisted_8$1U=_withScopeId$j(()=>createBaseVNode("label",{for:"reservationDate"},"Дата бронирования",-1)),_hoisted_9$1Q={class:"form-floating mb-2"},_hoisted_10$1J=_withScopeId$j(()=>createBaseVNode("label",{for:"reservationTime"},"Время бронирования",-1)),_hoisted_11$1F=_withScopeId$j(()=>createBaseVNode("p",{class:"mb-0"},"Число персон",-1)),_hoisted_12$1C={class:"btn-group w-100 mb-2",role:"group","aria-label":"Простой пример"},_hoisted_13$1x={key:0,class:"form-floating mb-2"},_hoisted_14$1t=_withScopeId$j(()=>createBaseVNode("label",{for:"numberOfPersons"},"Число персон",-1)),_hoisted_15$1s={class:"form-floating mb-2"},_hoisted_16$1r=_withScopeId$j(()=>createBaseVNode("label",{for:"userName"},"На чьё имя бронировать",-1)),_hoisted_17$1l={class:"form-floating mb-2"},_hoisted_18$1i=_withScopeId$j(()=>createBaseVNode("label",{for:"userPhone"},"Номер телефона",-1)),_hoisted_19$1d={class:"form-floating mb-2"},_hoisted_20$1b=_withScopeId$j(()=>createBaseVNode("label",{for:"reservationDescription"},"Описание к брони (пожелания):",-1)),_hoisted_21$18=_withScopeId$j(()=>createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Забронировать",-1)),_hoisted_22$18={class:"form-floating mb-2"},_hoisted_23$17=_withScopeId$j(()=>createBaseVNode("label",{for:"reservationDate"},"Дата бронирования",-1)),_hoisted_24$13={key:0,class:"list-group"},_hoisted_25$$={class:"list-group-item"},_hoisted_26$Z={class:"mb-0"},_hoisted_27$V={key:1,class:"alert alert-light"};function _sfc_render$V(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[s.reservation.table?(openBlock(),createElementBlock("div",_hoisted_1$2i,[createBaseVNode("p",_hoisted_2$2g,[createTextVNode("Вы бронируете столик "),createBaseVNode("strong",_hoisted_3$2f,"#"+toDisplayString(s.reservation.table.number),1),createTextVNode(" - "+toDisplayString(s.reservation.table.description),1)])])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_4$28,[createBaseVNode("li",_hoisted_5$26,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:s.tab==="form"}]),onClick:t[0]||(t[0]=n=>s.tab="form"),"aria-current":"page",href:"javascript:void(0)"},"Форма",2)]),createBaseVNode("li",_hoisted_6$25,[createBaseVNode("a",{class:normalizeClass([{active:s.tab==="list"},"nav-link"]),onClick:t[1]||(t[1]=n=>s.tab="list"),href:"javascript:void(0)"},"Список броней",2)])]),withDirectives(createBaseVNode("div",null,[createBaseVNode("form",{onSubmit:t[11]||(t[11]=withModifiers((...n)=>r.submitReservation&&r.submitReservation(...n),["prevent"]))},[createBaseVNode("div",_hoisted_7$1Z,[withDirectives(createBaseVNode("input",{type:"date",id:"reservationDate","onUpdate:modelValue":t[2]||(t[2]=n=>s.reservation.date=n),required:"",class:"form-control"},null,512),[[vModelText,s.reservation.date]]),_hoisted_8$1U]),createBaseVNode("div",_hoisted_9$1Q,[withDirectives(createBaseVNode("input",{type:"time",id:"reservationTime","onUpdate:modelValue":t[3]||(t[3]=n=>s.reservation.time=n),required:"",class:"form-control"},null,512),[[vModelText,s.reservation.time]]),_hoisted_10$1J]),_hoisted_11$1F,createBaseVNode("div",_hoisted_12$1C,[createBaseVNode("button",{onClick:t[4]||(t[4]=n=>s.reservation.persons++),type:"button",class:"btn btn-primary"},"+"),createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=n=>s.show_persons_input=!s.show_persons_input),class:"btn btn-primary"},toDisplayString(s.reservation.persons),1),createBaseVNode("button",{onClick:t[6]||(t[6]=n=>s.reservation.persons>1?s.reservation.persons--:""),type:"button",class:"btn btn-primary"},"-")]),s.show_persons_input?(openBlock(),createElementBlock("div",_hoisted_13$1x,[withDirectives(createBaseVNode("input",{type:"number",id:"numberOfPersons","onUpdate:modelValue":t[7]||(t[7]=n=>s.reservation.persons=n),min:"1",required:"",class:"form-control"},null,512),[[vModelText,s.reservation.persons,void 0,{number:!0}]]),_hoisted_14$1t])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$1s,[withDirectives(createBaseVNode("input",{type:"text",id:"userName","onUpdate:modelValue":t[8]||(t[8]=n=>s.reservation.name=n),min:"1",required:"",class:"form-control"},null,512),[[vModelText,s.reservation.name,void 0,{number:!0}]]),_hoisted_16$1r]),createBaseVNode("div",_hoisted_17$1l,[withDirectives(createBaseVNode("input",{type:"text",id:"userPhone","onUpdate:modelValue":t[9]||(t[9]=n=>s.reservation.phone=n),min:"1",required:"",class:"form-control"},null,512),[[vModelText,s.reservation.phone,void 0,{number:!0}]]),_hoisted_18$1i]),createBaseVNode("div",_hoisted_19$1d,[withDirectives(createBaseVNode("textarea",{id:"reservationDescription","onUpdate:modelValue":t[10]||(t[10]=n=>s.reservation.description=n),rows:"4",class:"form-control"},null,512),[[vModelText,s.reservation.description]]),_hoisted_20$1b]),_hoisted_21$18],32)],512),[[vShow,s.tab==="form"]]),withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_22$18,[withDirectives(createBaseVNode("input",{type:"date",id:"reservationDate","onUpdate:modelValue":t[12]||(t[12]=n=>s.reservation.date=n),required:"",class:"form-control"},null,512),[[vModelText,s.reservation.date]]),_hoisted_23$17]),s.bookings.length>0?(openBlock(),createElementBlock("ul",_hoisted_24$13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.bookings,n=>{var l;return openBlock(),createElementBlock("li",_hoisted_25$$,[createBaseVNode("p",_hoisted_26$Z,toDisplayString(n.booked_date_at||"-")+" в "+toDisplayString(n.booked_time_at||"-")+" на "+toDisplayString(((l=n.booked_info)==null?void 0:l.persons)||1)+" чел.",1)])}),256))])):(openBlock(),createElementBlock("p",_hoisted_27$V," Для данного столика нет активный броней "))],512),[[vShow,s.tab==="list"]])],64)}const BookingForm=_export_sfc(_sfc_main$2i,[["render",_sfc_render$V],["__scopeId","data-v-53ada5d1"]]),AdminReservations_vue_vue_type_style_index_0_scoped_4d7b7857_lang="",_sfc_main$2h={data(){return{tab:"export",startDate:this.getTodayDate(),endDate:this.getTodayDate(),loading:!1,counts:[],bookings:[]}},computed:{},methods:{getTodayDate(){const o=new Date,t=o.getFullYear(),a=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");return`${t}-${a}-${i}`},exportNearestBookings(){return this.$store.dispatch("exportNearestBookings",{start_date:this.startDate,end_date:this.endDate}).then(o=>{this.$notify({title:"Выгрузка броней",text:"Список броней успешно выгружен",type:"success"})}).catch(()=>{this.$notify({title:"Выгрузка броней",text:"Ошибка выгрузки броней",type:"error"})})},nearestBookingList(){return this.$store.dispatch("nearestBookingList",{start_date:null,end_date:null}).then(o=>{console.log(o),this.counts=o.counts||[],this.bookings=o.bookings.data||[]}).catch(()=>{this.$notify({title:"Список броней",text:"Ошибка загрузки списка броней",type:"error"})})}},mounted(){this.nearestBookingList()}},_withScopeId$i=o=>(pushScopeId("data-v-4d7b7857"),o=o(),popScopeId(),o),_hoisted_1$2h=_withScopeId$i(()=>createBaseVNode("button",{type:"button",class:"btn-info btn w-100 p-3 my-2","data-bs-toggle":"modal","data-bs-target":"#admin-booking-modal"},[createBaseVNode("i",{class:"fa-solid fa-calendar"}),createTextVNode(" Выгрузить брони ")],-1)),_hoisted_2$2f={class:"modal fade",id:"admin-booking-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$2e={class:"modal-dialog modal-fullscreen"},_hoisted_4$27={class:"modal-content"},_hoisted_5$25=_withScopeId$i(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Заголовок модального окна"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Закрыть"})],-1)),_hoisted_6$24={class:"modal-body"},_hoisted_7$1Y={class:"nav nav-tabs"},_hoisted_8$1T={class:"nav-item"},_hoisted_9$1P={class:"nav-item"},_hoisted_10$1I={class:"nav-item"},_hoisted_11$1E=_withScopeId$i(()=>createBaseVNode("h6",{class:"mb-2 mt-3 fw-bold"},"Выгрузить брони по дате",-1)),_hoisted_12$1B={class:"form-floating mb-2"},_hoisted_13$1w=_withScopeId$i(()=>createBaseVNode("label",{for:"startDate",class:"form-label"},"С даты:",-1)),_hoisted_14$1s={class:"form-floating mb-2"},_hoisted_15$1r=_withScopeId$i(()=>createBaseVNode("label",{for:"endDate",class:"form-label"},"По дату:",-1)),_hoisted_16$1q=["disabled"],_hoisted_17$1k={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_hoisted_18$1h={key:1},_hoisted_19$1c={class:"mb-2 mt-3 fw-bold"},_hoisted_20$1a={key:0},_hoisted_21$17={key:0,class:"table-responsive"},_hoisted_22$17={class:"table table-striped table-hover"},_hoisted_23$16=_withScopeId$i(()=>createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",null,"Дата"),createBaseVNode("th",null,"Время"),createBaseVNode("th",null,"Персон"),createBaseVNode("th",null,"Номер столика"),createBaseVNode("th",null,"Описание"),createBaseVNode("th",null,"На кого бронь"),createBaseVNode("th",null,"Номер телефона")])],-1)),_hoisted_24$12={key:1,class:"alert alert-info mb-2 mt-3"},_hoisted_25$_=_withScopeId$i(()=>createBaseVNode("h6",{class:"mb-2 mt-3 fw-bold"},"Ближайшие бронирования (по дате)",-1)),_hoisted_26$Y={key:0,class:"list-group"},_hoisted_27$U={class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_28$T={class:"badge bg-primary rounded-pill"},_hoisted_29$R={key:1,class:"alert alert-info mb-2 mt-3"};function _sfc_render$U(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2h,createBaseVNode("div",_hoisted_2$2f,[createBaseVNode("div",_hoisted_3$2e,[createBaseVNode("div",_hoisted_4$27,[_hoisted_5$25,createBaseVNode("div",_hoisted_6$24,[createBaseVNode("ul",_hoisted_7$1Y,[createBaseVNode("li",_hoisted_8$1T,[createBaseVNode("a",{onClick:t[0]||(t[0]=n=>s.tab="export"),class:normalizeClass([{active:s.tab==="export"},"nav-link"]),"aria-current":"page",href:"javascript:void(0)"},"Экспорт",2)]),createBaseVNode("li",_hoisted_9$1P,[createBaseVNode("a",{onClick:t[1]||(t[1]=n=>s.tab="bookings"),class:normalizeClass([{active:s.tab==="bookings"},"nav-link"]),"aria-current":"page",href:"javascript:void(0)"},"Список броней",2)]),createBaseVNode("li",_hoisted_10$1I,[createBaseVNode("a",{onClick:t[2]||(t[2]=n=>s.tab="counts"),class:normalizeClass([{active:s.tab==="counts"},"nav-link"]),"aria-current":"page",href:"javascript:void(0)"},"Сводка",2)])]),withDirectives(createBaseVNode("div",null,[_hoisted_11$1E,createBaseVNode("form",{onSubmit:t[5]||(t[5]=withModifiers((...n)=>r.exportNearestBookings&&r.exportNearestBookings(...n),["prevent"]))},[createBaseVNode("div",_hoisted_12$1B,[withDirectives(createBaseVNode("input",{type:"date",id:"startDate","onUpdate:modelValue":t[3]||(t[3]=n=>s.startDate=n),class:"form-control"},null,512),[[vModelText,s.startDate]]),_hoisted_13$1w]),createBaseVNode("div",_hoisted_14$1s,[withDirectives(createBaseVNode("input",{type:"date",id:"endDate","onUpdate:modelValue":t[4]||(t[4]=n=>s.endDate=n),class:"form-control"},null,512),[[vModelText,s.endDate]]),_hoisted_15$1r]),createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100",disabled:s.loading},[s.loading?(openBlock(),createElementBlock("span",_hoisted_17$1k)):(openBlock(),createElementBlock("span",_hoisted_18$1h,"Выгрузить"))],8,_hoisted_16$1q)],32)],512),[[vShow,s.tab==="export"]]),withDirectives(createBaseVNode("div",null,[createBaseVNode("h6",_hoisted_19$1c,[createTextVNode("Бронирования на ближайшую неделю "),s.bookings.length>0?(openBlock(),createElementBlock("span",_hoisted_20$1a,"("+toDisplayString(s.bookings.length)+" ед.)",1)):createCommentVNode("",!0)]),s.bookings.length>0?(openBlock(),createElementBlock("div",_hoisted_21$17,[createBaseVNode("table",_hoisted_22$17,[_hoisted_23$16,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.bookings,n=>{var l,c,m,p;return openBlock(),createElementBlock("tr",{key:n.id},[createBaseVNode("td",null,toDisplayString(n.booked_date_at),1),createBaseVNode("td",null,toDisplayString(n.booked_time_at),1),createBaseVNode("td",null,toDisplayString((l=n.booked_info)==null?void 0:l.persons),1),createBaseVNode("td",null,toDisplayString(n.number||"-"),1),createBaseVNode("td",null,toDisplayString(((c=n.booked_info)==null?void 0:c.description)||"-"),1),createBaseVNode("td",null,toDisplayString(((m=n.booked_info)==null?void 0:m.name)||"-"),1),createBaseVNode("td",null,toDisplayString(((p=n.booked_info)==null?void 0:p.phone)||"-"),1)])}),128))])])])):(openBlock(),createElementBlock("div",_hoisted_24$12," Бронирований за выбранный период не найдено. "))],512),[[vShow,s.tab==="bookings"]]),withDirectives(createBaseVNode("div",null,[_hoisted_25$_,s.counts.length>0?(openBlock(),createElementBlock("ul",_hoisted_26$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.counts,n=>(openBlock(),createElementBlock("li",_hoisted_27$U,[createTextVNode(toDisplayString(n.date)+" ",1),createBaseVNode("span",_hoisted_28$T,toDisplayString(n.total),1)]))),256))])):(openBlock(),createElementBlock("div",_hoisted_29$R," Пока нет ближайших бронирований. "))],512),[[vShow,s.tab==="counts"]])])])])])],64)}const AdminReservations=_export_sfc(_sfc_main$2h,[["render",_sfc_render$U],["__scopeId","data-v-4d7b7857"]]),TableBookingPlanner_vue_vue_type_style_index_0_scoped_2296ae45_lang="",_withScopeId$h=o=>(pushScopeId("data-v-2296ae45"),o=o(),popScopeId(),o),_hoisted_1$2g={key:0},_hoisted_2$2e={key:0},_hoisted_3$2d=_withScopeId$h(()=>createBaseVNode("i",{class:"fa-solid fa-plus-square"},null,-1)),_hoisted_4$26={key:1},_hoisted_5$24=_withScopeId$h(()=>createBaseVNode("i",{class:"fa-solid fa-minus-square"},null,-1)),_hoisted_6$23={key:0,class:"list-group list-group-numbered mb-2"},_hoisted_7$1X={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_8$1S={class:"ms-2 me-auto"},_hoisted_9$1O={class:"fw-bold mb-0"},_hoisted_10$1H={class:"mb-0"},_hoisted_11$1D={class:"mb-2 fst-italic"},_hoisted_12$1A=["onClick"],_hoisted_13$1v={class:"badge bg-primary rounded-pill"},_hoisted_14$1r={key:1,class:"alert alert-light"},_hoisted_15$1q=_withScopeId$h(()=>createBaseVNode("h6",{class:"fw-bold"},"Столики на выбор",-1)),_hoisted_16$1p={class:"row row-cols-2"},_hoisted_17$1j=["onClick"],_hoisted_18$1g={class:"border d-flex flex-column",style:{"font-size":"12px"}},_hoisted_19$1b={alt:"table",class:"table-img-small"},_hoisted_20$19={class:"fw-bold mb-0 px-2"},_hoisted_21$16={class:"mb-2 px-2"},_hoisted_22$16={key:1,class:"alert alert-light"},_hoisted_23$15={key:1,class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_24$11={class:"modal fade",id:"remove-booking-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_25$Z={class:"modal-dialog modal-dialog-centered"},_hoisted_26$X={class:"modal-content"},_hoisted_27$T=_withScopeId$h(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление брони"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_28$S={class:"modal-body"},_hoisted_29$Q={class:"mb-2"},_hoisted_30$P={class:"fw-bold text-primary"},_hoisted_31$O={class:"fw-bold text-primary"},_hoisted_32$M={class:"w-100 d-flex justify-content-center"},_hoisted_33$M=_withScopeId$h(()=>createBaseVNode("button",{"data-bs-dismiss":"modal",class:"btn btn-secondary",type:"button"},"Нет, отменить ",-1)),_hoisted_34$K={class:"modal fade",id:"booking-modal",tabindex:"-1","aria-labelledby":"mySimpleModalLabel","aria-hidden":"true"},_hoisted_35$H={class:"modal-dialog modal-dialog-centered"},_hoisted_36$G={class:"modal-content"},_hoisted_37$F=_withScopeId$h(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h5",{class:"modal-title",id:"mySimpleModalLabel"},"Бронирование столика"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Закрыть"})],-1)),_hoisted_38$E={class:"modal-body"},__default__$1n={name:"Booking",data(){return{show_my_bookings:!1,my_bookings:[],selectedTable:null}},computed:{self(){return window.self||null},bot(){return window.currentBot},sortedSelectedTables(){let o=this.bot.settings;return o.tables_variants?o.tables_variants.sort((t,a)=>t.seats-a.seats):[]}},mounted(){this.myUpcomingBookings()},methods:{goToTableMenu(){this.$router.push({name:"TableMenuV2"})},openRemoveModal(o){this.selectedTable=null,this.$nextTick(()=>{this.selectedTable=o;const t=document.getElementById("remove-booking-modal");new bootstrap.Modal(t).show()})},closeModal(){this.selectedTable=null,this.$nextTick(()=>{const o=document.getElementById("booking-modal");bootstrap.Modal.getInstance(o).hide(),this.myUpcomingBookings()})},openModal(o){this.selectedTable=null,this.$nextTick(()=>{this.selectedTable=o;const t=document.getElementById("booking-modal");new bootstrap.Modal(t).show()})},myUpcomingBookings(){return this.$store.dispatch("myUpcomingBookings").then(o=>{this.my_bookings=o.data||[]})},cancelBookingTable(){if(this.selectedTable)return this.$store.dispatch("cancelBookingTable",{bookingId:this.selectedTable.id}).then(o=>{this.$notify({title:"Бронирование",text:"Бронь столика успешно убрана!",type:"success"}),this.myUpcomingBookings();const t=document.getElementById("remove-booking-modal");bootstrap.Modal.getInstance(t).hide().hide()})}}},_sfc_main$2g=Object.assign(__default__$1n,{setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.bot?(openBlock(),createElementBlock(Fragment,{key:0},[t.sortedSelectedTables.length>0?(openBlock(),createElementBlock("div",_hoisted_1$2g,[t.self.is_admin?(openBlock(),createBlock(AdminReservations,{key:0})):createCommentVNode("",!0),t.my_bookings.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("button",{onClick:a[0]||(a[0]=s=>t.show_my_bookings=!t.show_my_bookings),type:"button",class:"btn-primary btn w-100 p-3 mb-2"},[t.show_my_bookings?(openBlock(),createElementBlock("span",_hoisted_4$26,[_hoisted_5$24,createTextVNode(" Скрыть мои брони ")])):(openBlock(),createElementBlock("span",_hoisted_2$2e,[_hoisted_3$2d,createTextVNode(" Показать мои брони ")]))]),t.show_my_bookings?(openBlock(),createElementBlock(Fragment,{key:0},[t.my_bookings.length>0?(openBlock(),createElementBlock("ol",_hoisted_6$23,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.my_bookings,s=>{var r;return openBlock(),createElementBlock("li",_hoisted_7$1X,[createBaseVNode("div",_hoisted_8$1S,[createBaseVNode("div",_hoisted_9$1O," Бронь столика №"+toDisplayString(s.number),1),createBaseVNode("p",_hoisted_10$1H,"Дата "+toDisplayString(s.booked_date_at)+" в "+toDisplayString(s.booked_time_at),1),createBaseVNode("p",_hoisted_11$1D,toDisplayString(((r=s.booked_info)==null?void 0:r.description)||"-"),1),createBaseVNode("button",{onClick:n=>t.openRemoveModal(s),type:"button",class:"btn btn-danger w-100"},"Отменить ",8,_hoisted_12$1A)]),createBaseVNode("span",_hoisted_13$1v,toDisplayString(s.booked_info.persons||1)+" чел.",1)])}),256))])):(openBlock(),createElementBlock("p",_hoisted_14$1r," У вас нет актуальных забронированных столиков "))],64)):createCommentVNode("",!0)],64)):createCommentVNode("",!0),_hoisted_15$1q,createBaseVNode("div",_hoisted_16$1p,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.sortedSelectedTables,(s,r)=>(openBlock(),createElementBlock("div",{class:"col mb-2",onClick:n=>t.openModal(s),key:r},[createBaseVNode("div",_hoisted_18$1g,[withDirectives(createBaseVNode("img",_hoisted_19$1b,null,512),[[i,"/images/tables/"+s.image]]),createBaseVNode("p",_hoisted_20$19,"Столик №"+toDisplayString(s.number),1),createBaseVNode("p",_hoisted_21$16,toDisplayString(s.description),1)])],8,_hoisted_17$1j))),128))])])):(openBlock(),createElementBlock("p",_hoisted_22$16," Нет столиков для бронирования "))],64)):createCommentVNode("",!0),t.my_bookings.length>0?(openBlock(),createElementBlock("nav",_hoisted_23$15,[createBaseVNode("button",{onClick:a[1]||(a[1]=(...s)=>t.goToTableMenu&&t.goToTableMenu(...s)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center align-items-center"}," Перейти к предзаказу ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_24$11,[createBaseVNode("div",_hoisted_25$Z,[createBaseVNode("div",_hoisted_26$X,[_hoisted_27$T,createBaseVNode("div",_hoisted_28$S,[t.selectedTable?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("p",_hoisted_29$Q,[createTextVNode("Вы точно хотите удалить бронь на "),createBaseVNode("strong",_hoisted_30$P,toDisplayString(t.selectedTable.booked_date_at||"-"),1),createTextVNode(" для столика "),createBaseVNode("strong",_hoisted_31$O,toDisplayString(t.selectedTable.number||"-"),1),createTextVNode("?")]),createBaseVNode("div",_hoisted_32$M,[createBaseVNode("button",{onClick:a[2]||(a[2]=(...s)=>t.cancelBookingTable&&t.cancelBookingTable(...s)),style:{"margin-right":"10px"},class:"btn btn-danger",type:"button"},"Да, удалить "),_hoisted_33$M])],64)):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_34$K,[createBaseVNode("div",_hoisted_35$H,[createBaseVNode("div",_hoisted_36$G,[_hoisted_37$F,createBaseVNode("div",_hoisted_38$E,[t.selectedTable?(openBlock(),createBlock(BookingForm,{key:0,onSuccess:t.closeModal,onFailure:t.closeModal,"table-info":t.selectedTable},null,8,["onSuccess","onFailure","table-info"])):createCommentVNode("",!0)])])])])],64)}}}),TableBookingPlanner=_export_sfc(_sfc_main$2g,[["__scopeId","data-v-2296ae45"]]);let sharedState={spent_time_counter:0};function cashbackLimit(){const o=useStore(),t=o.getters.getSelf||0,a=o.getters.cartTotalPrice||0,i=window.currentBot,s=t.cashBack?t.cashBack.amount:0;let r=i.max_cashback_use_percent||0,n=a*(r/100);return Math.min(n,s)||0}function canBy(){const o=window.currentBot,t=o.settings;return window.isCorrectSchedule(o.company.schedule)&&(t==null?void 0:t.can_buy_after_closing)||!0}function getSpentTimeCounter(){return parseInt(sharedState.spent_time_counter||"0")}function checkTimer(){const o=parseInt(localStorage.getItem("cashman_self_product_delivery_counter")||"0");return o>0?(startTimer(o),!0):!1}function startTimer(o){sharedState.spent_time_counter=parseInt(o)!=null?Math.min(parseInt(o),10):10;let t=setInterval(()=>{sharedState.spent_time_counter>0?sharedState.spent_time_counter--:(clearInterval(t),sharedState.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",sharedState.spent_time_counter),window.dispatchEvent(new CustomEvent("trigger-spent-timer",{detail:sharedState.spent_time_counter}))},1e3)}const CoffeeProgress_vue_vue_type_style_index_0_scoped_cdd08daa_lang="",_sfc_main$2f={name:"CoffeeProgress",data(){return{spent_time:0,intervalId:null,showRules:!1,showExchangeQR:!1,showMarkQR:!1,selectedCupIndex:null,coffee:null}},watch:{self:{handler:function(o){var t;this.coffee=((t=this.self.config)==null?void 0:t.coffee)||null},deep:!0}},computed:{...mapGetters(["getSelf"]),bot(){return window.currentBot},settings(){return this.bot.settings||null},self(){return this.getSelf},maxCups(){var o;return((o=this.settings.coffee)==null?void 0:o.max)||0},usedCups(){var o;return((o=this.coffee)==null?void 0:o.count)||0},cups(){return Array.from({length:this.maxCups},(o,t)=>({index:t,filled:t<this.usedCups}))},progressPercent(){return Math.min(this.usedCups/this.maxCups*100,100)},link(){return"https://t.me/"+this.bot.bot_domain+"?start="+btoa("077"+this.self.telegram_chat_id+"request")},markQR(){return this.selectedCupIndex===null?null:"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link}},mounted(){window.addEventListener("trigger-spent-timer",o=>{this.spent_time=o.detail})},methods:{refreshCoffee(){startTimer(10),this.$notify({title:"Кофе",text:"Обновляем карточки"}),this.InitCoffee()},InitCoffee(){return this.$store.dispatch("initCoffee").then(o=>{this.coffee=o||{count:0}}).catch(()=>{this.coffee={count:0}})},clearWaitInterval(){clearInterval(this.intervalId)},waitForAccept(){let o=10;const t=this.coffee.count;this.intervalId=setInterval(()=>{this.InitCoffee().then(a=>{o--,(t!==this.coffee.count||o<=0)&&this.clearWaitInterval()})},5e3)},onCupClick(o){o.filled||(this.selectedCupIndex=o.index,this.showMarkQR=!0,this.waitForAccept())},toggleRules(){this.showRules=!this.showRules},toggleExchangeQR(){this.showExchangeQR=!this.showExchangeQR}}},_withScopeId$g=o=>(pushScopeId("data-v-cdd08daa"),o=o(),popScopeId(),o),_hoisted_1$2f={key:0,class:"coffee-wrapper"},_hoisted_2$2d=_withScopeId$g(()=>createBaseVNode("p",{class:"alert alert-light mb-2"}," Получите вкусный кофе совершенно бесплатно! Узнайте сколько у вас чашечек кофе прямо сейчас! ",-1)),_hoisted_3$2c=_withScopeId$g(()=>createBaseVNode("h5",{class:"fw-bold mb-3"},"Ваш прогресс кофе",-1)),_hoisted_4$25={class:"row row-cols-3"},_hoisted_5$23=["onClick"],_hoisted_6$22=_withScopeId$g(()=>createBaseVNode("i",{style:{"font-size":"26px"},class:"fa-solid fa-mug-hot"},null,-1)),_hoisted_7$1W=[_hoisted_6$22],_hoisted_8$1R={class:"col mb-2"},_hoisted_9$1N=["disabled"],_hoisted_10$1G={key:0},_hoisted_11$1C={key:1},_hoisted_12$1z=_withScopeId$g(()=>createBaseVNode("i",{class:"fas fa-sync-alt"},null,-1)),_hoisted_13$1u=[_hoisted_12$1z],_hoisted_14$1q={class:"progress coffee-progress mb-3"},_hoisted_15$1p={class:"text-muted small mb-3"},_hoisted_16$1o={key:1,class:"qr-box text-center mb-3"},_hoisted_17$1i={class:"qr-img",alt:"QR для обмена"},_hoisted_18$1f=_withScopeId$g(()=>createBaseVNode("p",{class:"small text-muted"},"Покажите бариста",-1)),_hoisted_19$1a={key:2,class:"qr-box text-center mb-3"},_hoisted_20$18={class:"qr-img",alt:"QR для отметки"},_hoisted_21$15=_withScopeId$g(()=>createBaseVNode("p",{class:"small text-muted"},"Покажите администратору",-1)),_hoisted_22$15={key:2,class:"alert alert-light border"},_hoisted_23$14={class:"mb-0",style:{"white-space":"pre-line"}};function _sfc_render$T(o,t,a,i,s,r){var l;const n=resolveDirective("lazy");return(l=r.settings.coffee)!=null&&l.enabled?(openBlock(),createElementBlock("div",_hoisted_1$2f,[s.coffee?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_2$2d,createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=(...c)=>r.InitCoffee&&r.InitCoffee(...c)),class:"btn btn-primary p-3 mb-2 w-100"},"Приступить ")],64)),s.coffee?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_3$2c,createBaseVNode("div",_hoisted_4$25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.cups,(c,m)=>(openBlock(),createElementBlock("div",{class:"col mb-2",key:"coffee-cup-"+m,onClick:p=>r.onCupClick(c)},[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{filled:c.filled},"btn w-100 p-3 coffee-cup-btn"])},_hoisted_7$1W,2)],8,_hoisted_5$23))),128)),createBaseVNode("div",_hoisted_8$1R,[createBaseVNode("button",{type:"button",disabled:s.spent_time>0,onClick:t[1]||(t[1]=(...c)=>r.refreshCoffee&&r.refreshCoffee(...c)),class:"btn w-100 p-3 coffee-cup-btn bg-success text-white"},[s.spent_time>0?(openBlock(),createElementBlock("span",_hoisted_10$1G,toDisplayString(s.spent_time)+" сек.",1)):(openBlock(),createElementBlock("span",_hoisted_11$1C,_hoisted_13$1u))],8,_hoisted_9$1N)])]),createBaseVNode("div",_hoisted_14$1q,[createBaseVNode("div",{class:"progress-bar progress-bar-striped bg-warning",role:"progressbar",style:normalizeStyle({width:r.progressPercent+"%"})},null,4)]),createBaseVNode("p",_hoisted_15$1p," Осталось "+toDisplayString(r.maxCups-r.usedCups)+" чашек до бесплатной. ",1),r.usedCups>=r.maxCups&&r.maxCups>0?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-success w-100 mb-3",onClick:t[2]||(t[2]=(...c)=>r.toggleExchangeQR&&r.toggleExchangeQR(...c))}," Обменять на бесплатный кофе ")):createCommentVNode("",!0),s.showExchangeQR?(openBlock(),createElementBlock("div",_hoisted_16$1o,[withDirectives(createBaseVNode("img",_hoisted_17$1i,null,512),[[n,r.markQR]]),_hoisted_18$1f])):createCommentVNode("",!0),s.showMarkQR?(openBlock(),createElementBlock("div",_hoisted_19$1a,[withDirectives(createBaseVNode("img",_hoisted_20$18,null,512),[[n,r.markQR]]),_hoisted_21$15])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),createBaseVNode("button",{class:"btn btn-outline-secondary w-100 mb-2 p-3",onClick:t[3]||(t[3]=(...c)=>r.toggleRules&&r.toggleRules(...c))}," Правила акции "),s.showRules?(openBlock(),createElementBlock("div",_hoisted_22$15,[createBaseVNode("p",_hoisted_23$14,toDisplayString(r.settings.coffee.rules),1)])):createCommentVNode("",!0)])):createCommentVNode("",!0)}const CoffeeProgress=_export_sfc(_sfc_main$2f,[["render",_sfc_render$T],["__scopeId","data-v-cdd08daa"]]),Catalog_vue_vue_type_style_index_0_lang="",_hoisted_1$2e={key:1,class:"container"},_hoisted_2$2c={class:"row"},_hoisted_3$2b={class:"col-12"},_hoisted_4$24={class:"navbar navbar-expand-sm fixed-bottom p-2 bg-transparent border-0",style:{"border-radius":"10px 10px 0 0","z-index":"999!important"}},_hoisted_5$22={class:"ios-nav-group w-100"},_hoisted_6$21=createBaseVNode("button",{type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#sidebar-menu","aria-controls":"sidebar-menu",class:"btn btn-primary ios-btn"},[createBaseVNode("i",{class:"fa-solid fa-bars"}),createBaseVNode("span",{class:"ios-label"},"Меню")],-1),_hoisted_7$1V=createBaseVNode("i",{class:"fa-solid fa-calendar-check"},null,-1),_hoisted_8$1Q=createBaseVNode("span",{class:"ios-label"},"Бронь",-1),_hoisted_9$1M=[_hoisted_7$1V,_hoisted_8$1Q],_hoisted_10$1F=createBaseVNode("i",{class:"fa-solid fa-shop"},null,-1),_hoisted_11$1B=createBaseVNode("span",{class:"ios-label"},"Магазин",-1),_hoisted_12$1y=[_hoisted_10$1F,_hoisted_11$1B],_hoisted_13$1t=createBaseVNode("i",{class:"fa-solid fa-cart-shopping"},null,-1),_hoisted_14$1p=createBaseVNode("span",{class:"ios-label"},"Корзина",-1),_hoisted_15$1o={key:0,class:"cart-marker"},_hoisted_16$1n=createBaseVNode("i",{class:"fa-solid fa-heart"},null,-1),_hoisted_17$1h=createBaseVNode("span",{class:"ios-label"},"Избранное",-1),_hoisted_18$1e={key:0,class:"cart-marker"},_hoisted_19$19=createBaseVNode("i",{class:"fa-solid fa-mug-hot"},null,-1),_hoisted_20$17=createBaseVNode("span",{class:"ios-label"},"Кофе",-1),_hoisted_21$14=[_hoisted_19$19,_hoisted_20$17],_hoisted_22$14={class:"modal fade",id:"coffee-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_23$13={class:"modal-dialog"},_hoisted_24$10={class:"modal-content"},_hoisted_25$Y=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Кофе"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_26$W={class:"modal-body"},_hoisted_27$S={class:"modal fade",id:"fav-product-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_28$R={class:"modal-dialog"},_hoisted_29$P={class:"modal-content"},_hoisted_30$O=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Избранное"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_31$N={class:"modal-body"},_hoisted_32$L={key:0,class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_33$L={class:"col"},_hoisted_34$J={key:1,class:"alert alert-light"},__default__$1m={data(){return{tab:"shop",coffee_load:!1,settings:null,favorites_products:[]}},computed:{...mapGetters(["inCart","cartProducts","cartTotalCount","getFavoriteProducts","cartTotalPrice","getSelf"]),bot(){return window.currentBot},favorites(){return this.getFavoriteProducts},self(){return window.self||null},favCount(){return this.favorites.length===0?0:this.favorites.length},canBay(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work||(this.settings?this.settings.can_buy_after_closing:!0):!0},tg(){return window.Telegram.WebApp}},mounted(){var o;if(this.tg.BackButton.show(),(o=this.bot.settings)!=null&&o.self_updated?this.settings=this.bot.settings:this.loadShopModuleData(),this.tg.BackButton.onClick(()=>{this.tg.close()}),this.loadBasketData(),!this.canBay){const t=document.querySelector("#schedule-list-display"),a=bootstrap.Modal.getOrCreateInstance(t);a&&a.show()}},methods:{showCoffee(){this.coffee_load=!0,this.$nextTick(()=>{this.coffee_load=!1;const o=document.getElementById("coffee-modal"),t=bootstrap.Modal.getOrCreateInstance(o);t&&t.show()})},goToBooking(){this.$router.push({name:"TableBookingV2"})},goToCart(){this.$router.push({name:"ShopCartV2"})},loadBasketData(){return this.$store.dispatch("loadProductsInBasket")},loadFavProducts(){const o=document.querySelector("#fav-product-modal"),t=bootstrap.Modal.getOrCreateInstance(o);t&&t.show(),this.$store.dispatch("getFavList").then(a=>{this.favorites_products=a.data||[]}).catch(()=>{})},loadShopModuleData(){return this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{this.settings||(this.settings={});let t=o.data;t&&Object.keys(t).forEach(a=>{a&&(this.settings[a]=t[a])})})})}}},_sfc_main$2e=Object.assign(__default__$1m,{__name:"Catalog",setup(o){return(t,a)=>{var i;return openBlock(),createElementBlock(Fragment,null,[t.tab==="shop"?(openBlock(),createElementBlock(Fragment,{key:0},[t.settings?(openBlock(),createBlock(_sfc_main$2j,{key:0,settings:t.settings},{navigation:withCtx(()=>[]),_:1},8,["settings"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),t.tab==="booking"?(openBlock(),createElementBlock("div",_hoisted_1$2e,[createBaseVNode("div",_hoisted_2$2c,[createBaseVNode("div",_hoisted_3$2b,[createVNode(TableBookingPlanner)])])])):createCommentVNode("",!0),createBaseVNode("nav",_hoisted_4$24,[createBaseVNode("div",_hoisted_5$22,[_hoisted_6$21,t.tab==="shop"?(openBlock(),createElementBlock("button",{key:0,onClick:a[0]||(a[0]=s=>t.tab="booking"),type:"button",class:"btn btn-primary ios-btn"},_hoisted_9$1M)):createCommentVNode("",!0),t.tab==="booking"?(openBlock(),createElementBlock("button",{key:1,onClick:a[1]||(a[1]=s=>t.tab="shop"),type:"button",class:"btn btn-primary ios-btn"},_hoisted_12$1y)):createCommentVNode("",!0),createBaseVNode("button",{onClick:a[2]||(a[2]=(...s)=>t.goToCart&&t.goToCart(...s)),type:"button",class:"btn btn-primary ios-btn position-relative"},[_hoisted_13$1t,_hoisted_14$1p,t.cartTotalCount>0?(openBlock(),createElementBlock("span",_hoisted_15$1o,toDisplayString(t.cartTotalPrice||0)+"₽ ",1)):createCommentVNode("",!0)]),createBaseVNode("button",{onClick:a[3]||(a[3]=(...s)=>t.loadFavProducts&&t.loadFavProducts(...s)),type:"button",class:"btn btn-primary ios-btn position-relative"},[_hoisted_16$1n,_hoisted_17$1h,t.favCount>0?(openBlock(),createElementBlock("span",_hoisted_18$1e,toDisplayString(t.favCount),1)):createCommentVNode("",!0)]),t.settings?(openBlock(),createElementBlock(Fragment,{key:2},[(i=t.settings.coffee)!=null&&i.enabled?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[4]||(a[4]=(...s)=>t.showCoffee&&t.showCoffee(...s)),class:"btn btn-success ios-btn"},_hoisted_21$14)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_22$14,[createBaseVNode("div",_hoisted_23$13,[createBaseVNode("div",_hoisted_24$10,[_hoisted_25$Y,createBaseVNode("div",_hoisted_26$W,[t.coffee_load?createCommentVNode("",!0):(openBlock(),createBlock(CoffeeProgress,{key:0}))])])])]),createBaseVNode("div",_hoisted_27$S,[createBaseVNode("div",_hoisted_28$R,[createBaseVNode("div",_hoisted_29$P,[_hoisted_30$O,createBaseVNode("div",_hoisted_31$N,[t.favorites_products.length>0?(openBlock(),createElementBlock("div",_hoisted_32$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.favorites_products,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_33$L,[createVNode(_sfc_main$2w,{item:s},null,8,["item"])]))),256))])):(openBlock(),createElementBlock("p",_hoisted_34$J," Вы еще не добавили товары в избранное:( "))])])])])],64)}}}),Catalog$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2e},Symbol.toStringTag,{value:"Module"})),_sfc_main$2d={data(){return{table_number:null,selected_table:null,tables:[{id:1,reserved_time:null,title:"Стол №1",description:"Большой стол для мероприятий",size:10,waiter:null,persons:[],order:[{product_id:null,count:0,bot_user_id:null,created_at:null}],start_at:null,closed_at:null}]}},computed:{bot(){return window.currentBot}},methods:{}},_hoisted_1$2d={class:"container py-3"},_hoisted_2$2b={class:"input-group mb-3"},_hoisted_3$2a=createBaseVNode("span",{class:"input-group-text"},[createBaseVNode("i",{class:"fa-solid fa-hashtag"})],-1),_hoisted_4$23={class:"form-floating"},_hoisted_5$21=createBaseVNode("label",{for:"floatingInputGroup1"},"Номер столика",-1),_hoisted_6$20=createBaseVNode("h6",{class:"divider fw-bold"},"или",-1),_hoisted_7$1U={class:"row row-cols-4"},_hoisted_8$1P={class:"col mb-2"},_hoisted_9$1L={class:"card"},_hoisted_10$1E={class:"card-body"},_hoisted_11$1A={class:"text-center mb-0"};function _sfc_render$S(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$2d,[createBaseVNode("div",_hoisted_2$2b,[_hoisted_3$2a,createBaseVNode("div",_hoisted_4$23,[withDirectives(createBaseVNode("input",{type:"number",min:"1","onUpdate:modelValue":t[0]||(t[0]=n=>s.table_number=n),class:"form-control",id:"floatingInputGroup1",placeholder:"Номер столика"},null,512),[[vModelText,s.table_number]]),_hoisted_5$21])]),_hoisted_6$20,createBaseVNode("div",_hoisted_7$1U,[(openBlock(),createElementBlock(Fragment,null,renderList(30,n=>createBaseVNode("div",_hoisted_8$1P,[createBaseVNode("div",_hoisted_9$1L,[createBaseVNode("div",_hoisted_10$1E,[createBaseVNode("p",_hoisted_11$1A,toDisplayString(n),1)])])])),64))])])}const TableList=_export_sfc(_sfc_main$2d,[["render",_sfc_render$S]]),_hoisted_1$2c={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_2$2a={class:"d-block",style:{position:"relative"}},_hoisted_3$29=createBaseVNode("i",{class:"fa-solid fa-cart-shopping mr-2"},null,-1),_hoisted_4$22={key:0,class:"bg-white text-primary sup-badge"},_hoisted_5$20=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_6$1$={key:1,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-secondary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},__default__$1l={data(){return{step:0,table_number:null,selected_table:null,tables:[]}},computed:{...mapGetters(["inCart","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},canBy(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work||this.settings.can_buy_after_closing:!0}},methods:{goToCart(){this.$router.push({name:"ShopCartV2"})}}},_sfc_main$2c=Object.assign(__default__$1l,{__name:"Catalog",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createBlock(TableList,{key:0})):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(_sfc_main$2j),createBaseVNode("nav",_hoisted_1$2c,[t.canBy?(openBlock(),createElementBlock("button",{key:0,onClick:a[0]||(a[0]=(...i)=>t.goToCart&&t.goToCart(...i)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},[createBaseVNode("span",_hoisted_2$2a,[_hoisted_3$29,t.cartTotalCount>0?(openBlock(),createElementBlock("sup",_hoisted_4$22,toDisplayString(t.cartTotalCount),1)):createCommentVNode("",!0),createTextVNode("Корзина ")]),createBaseVNode("strong",null,[createTextVNode(toDisplayString(t.cartTotalPrice||0),1),_hoisted_5$20,createTextVNode("₽")])])):(openBlock(),createElementBlock("p",_hoisted_6$1$," В данный момент покупки недоступны "))])],64)):createCommentVNode("",!0)],64))}}),Catalog=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2c},Symbol.toStringTag,{value:"Module"})),_sfc_main$2b={props:["schedule"],computed:{preparedDay(){let o=new Date().getUTCDay();return o===0?6:o-1},sorted(){var t;const o={Понедельник:1,Вторник:2,Среда:3,Четверг:4,Пятница:5,Суббота:6,Воскресенье:7};return((t=this.schedule)==null?void 0:t.sort((a,i)=>o[a.day]-o[i.day]))||[]}}},_hoisted_1$2b={class:"list-group"},_hoisted_2$29={key:0,class:"text-primary fw-bold"},_hoisted_3$28={key:1,class:"text-primary fw-bold"};function _sfc_render$R(o,t,a,i,s,r){return openBlock(),createElementBlock("ul",_hoisted_1$2b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.sorted,(n,l)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item d-flex justify-content-between",{"current-day text-primary fw-bold":r.preparedDay==l}]),"aria-current":"true"},[createBaseVNode("span",null,toDisplayString(n.day||"-"),1),n.closed?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_2$29,toDisplayString(n.start_at||"-")+" - "+toDisplayString(n.end_at||"-"),1)),n.closed?(openBlock(),createElementBlock("span",_hoisted_3$28,toDisplayString(n.closed_comment||"-"),1)):createCommentVNode("",!0)],2))),256))])}const ScheduleList=_export_sfc(_sfc_main$2b,[["render",_sfc_render$R]]),Contacts_vue_vue_type_style_index_0_lang="",_hoisted_1$2a={key:0,class:"container py-3"},_hoisted_2$28={key:0,class:"d-flex",style:{"min-height":"300px",overflow:"hidden"}},_hoisted_3$27=["innerHTML"],_hoisted_4$21={key:1,class:"alert alert-danger",role:"alert"},_hoisted_5$1$=createBaseVNode("p",{class:"mb-0 fw-bold"},"Администратор еще не добавили виджет Яндекс.Карты с расположением заведения!",-1),_hoisted_6$1_=[_hoisted_5$1$],_hoisted_7$1T={class:"my-3"},_hoisted_8$1O={class:"opacity-75 mb-3 d-flex justify-content-between align-items-center"},_hoisted_9$1K={key:0,"data-bs-toggle":"modal","data-bs-target":"#edit-shop-footer-description-modal",href:"javascript:void(0)",class:"text-primary ml-2"},_hoisted_10$1D=createBaseVNode("i",{class:"fa-solid fa-pen-to-square"},null,-1),_hoisted_11$1z=[_hoisted_10$1D],_hoisted_12$1x={class:"list-group"},_hoisted_13$1s={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_14$1o=createBaseVNode("span",null,"Телефон",-1),_hoisted_15$1n={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_16$1m=["href"],_hoisted_17$1g={key:0,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_18$1d=createBaseVNode("span",null,"Инста",-1),_hoisted_19$18={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_20$16=["href"],_hoisted_21$13={key:1,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_22$13=createBaseVNode("span",null,"Вконтакте",-1),_hoisted_23$12={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_24$$=["href"],_hoisted_25$X={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_26$V=createBaseVNode("span",null,"Почта",-1),_hoisted_27$R={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_28$Q=["href"],_hoisted_29$O={key:2,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_30$N=createBaseVNode("span",null,"Сайт",-1),_hoisted_31$M={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_32$K=["href"],_hoisted_33$K={class:"opacity-75 my-3 d-flex justify-content-between align-items-center"},_hoisted_34$I={key:0,"data-bs-toggle":"modal","data-bs-target":"#edit-shop-footer-description-modal",href:"javascript:void(0)",class:"text-primary ml-2"},_hoisted_35$G=createBaseVNode("i",{class:"fa-solid fa-pen-to-square"},null,-1),_hoisted_36$F=[_hoisted_35$G],_hoisted_37$E={key:3,class:"alert alert-danger"},_hoisted_38$D=createBaseVNode("p",{class:"mb-0 fw-bold"},"График работ еще не составлен:)",-1),_hoisted_39$D=[_hoisted_38$D],__default__$1k={data(){return{settings:{can_use_cash:!0,can_use_card:!0,delivery_price_text:null,min_price:0,min_price_for_cashback:0,menu_list_type:0,payment_info:0,need_category_by_page:!1,need_pay_after_call:!1,free_shipping_starts_from:0,yandex_map_link:null}}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},bot(){return window.currentBot},isCorrectSchedule(){return window.isCorrectSchedule(this.bot.company.schedule)},company(){return this.bot.company},phone(){return this.bot.company.phones&&this.bot.company.phones[0]||null},links(){return{inst:(this.bot.company.links||{inst:null}).inst||null,vk:(this.bot.company.links||{vk:null}).vk||null,map_link:(this.bot.company.links||{map_link:null}).map_link||null,site:(this.bot.company.links||{site:null}).site||null}}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{}},_sfc_main$2a=Object.assign(__default__$1k,{__name:"Contacts",setup(o){return(t,a)=>t.bot?(openBlock(),createElementBlock("div",_hoisted_1$2a,[(t.company.links||{map_link:null}).map_link?(openBlock(),createElementBlock("div",_hoisted_2$28,[createBaseVNode("div",{innerHTML:t.company.links.map_link},null,8,_hoisted_3$27)])):(openBlock(),createElementBlock("div",_hoisted_4$21,_hoisted_6$1_)),createBaseVNode("h6",_hoisted_7$1T,toDisplayString(t.bot.company.address||"Адрес вашего заведения"),1),createBaseVNode("h6",_hoisted_8$1O,[createTextVNode("Контактная информация "),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("a",_hoisted_9$1K,_hoisted_11$1z)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_12$1x,[createBaseVNode("li",_hoisted_13$1s,[_hoisted_14$1o,createBaseVNode("span",_hoisted_15$1n,[createBaseVNode("a",{href:"tel:"+t.links.phone,target:"_blank"},toDisplayString(t.phone||"-"),9,_hoisted_16$1m)])]),t.links.inst?(openBlock(),createElementBlock("li",_hoisted_17$1g,[_hoisted_18$1d,createBaseVNode("span",_hoisted_19$18,[createBaseVNode("a",{href:"https://instagram.com/"+t.links.inst,target:"_blank"},"@"+toDisplayString(t.links.inst||"-"),9,_hoisted_20$16)])])):createCommentVNode("",!0),t.links.vk?(openBlock(),createElementBlock("li",_hoisted_21$13,[_hoisted_22$13,createBaseVNode("span",_hoisted_23$12,[createBaseVNode("a",{href:"https://vk.com/"+t.links.vk,target:"_blank"},toDisplayString(t.links.vk||"-"),9,_hoisted_24$$)])])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_25$X,[_hoisted_26$V,createBaseVNode("span",_hoisted_27$R,[createBaseVNode("a",{href:"mailto:"+t.company.email,target:"_blank"},toDisplayString(t.company.email||"-"),9,_hoisted_28$Q)])]),t.links.site?(openBlock(),createElementBlock("li",_hoisted_29$O,[_hoisted_30$N,createBaseVNode("span",_hoisted_31$M,[createBaseVNode("a",{href:t.links.site,target:"_blank"},toDisplayString(t.links.site||"-"),9,_hoisted_32$K)])])):createCommentVNode("",!0)]),createBaseVNode("h6",_hoisted_33$K,[createTextVNode("Прием заказов осуществляется "),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("a",_hoisted_34$I,_hoisted_36$F)):createCommentVNode("",!0)]),t.isCorrectSchedule?(openBlock(),createBlock(ScheduleList,{key:2,schedule:t.company.schedule},null,8,["schedule"])):(openBlock(),createElementBlock("div",_hoisted_37$E,_hoisted_39$D))])):createCommentVNode("",!0)}}),Contacts=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2a},Symbol.toStringTag,{value:"Module"})),_hoisted_1$29={class:"container"},_hoisted_2$27={class:"row"},_hoisted_3$26=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" Список заказов")]),createBaseVNode("div",{class:"alert alert-light mb-3 fw-bold",role:"alert"},[createBaseVNode("strong",{class:"text-primary"},"Внимание!"),createTextVNode(" При повторном заказе автоматически формируется корзина из доступных к заказу товаров из вашего списка. Товары в стоп-листе заведения добавлены не будут. ")])],-1),_hoisted_4$20={class:"col-12"},_hoisted_5$1_={class:"nav nav-tabs justify-content-center"},_hoisted_6$1Z={class:"nav-item"},_hoisted_7$1S={class:"nav-item"},_hoisted_8$1N={key:0,class:"col-12"},_hoisted_9$1J={key:0,class:"list-group my-2"},_hoisted_10$1C=["onClick"],_hoisted_11$1y=createBaseVNode("i",{class:"fa-solid fa-stopwatch mr-2 text-primary"},null,-1),_hoisted_12$1w=["onClick"],_hoisted_13$1r=createBaseVNode("i",{class:"fa-solid fa-arrow-rotate-right mr-2"},null,-1),_hoisted_14$1n={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_15$1m=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Заказов еще нет:(")],-1),_hoisted_16$1l=[_hoisted_15$1m],_hoisted_17$1f={key:1,class:"col-12"},_hoisted_18$1c={key:0},_hoisted_19$17=createBaseVNode("hr",null,null,-1),_hoisted_20$15={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_21$12=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Отзывов о товарах еще нет:(")],-1),_hoisted_22$12=[_hoisted_21$12],__default__$1j={props:["selected","active"],data(){return{tab:0,orders:null,orders_paginate_object:null,reviews:[],reviews_paginate_object:null}},computed:{...mapGetters(["getOrders","getOrdersPaginateObject","inCart","getReviews","getReviewsPaginateObject"]),tg(){return window.Telegram.WebApp}},mounted(){this.loadOrders(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{loadProductInOrders(o=0){return this.tab=1,this.$store.dispatch("loadReviews",{page:o||0,size:20}).then(()=>{this.reviews=this.getReviews,this.reviews_paginate_object=this.getReviewsPaginateObject})},repeatOrder(o){let t=o.product_details[0].products.map(a=>a.title);this.$store.dispatch("repeatOrder",{products:t}).then(a=>{this.$store.dispatch("clearCart");let i=a.data;if(i.length===0){o.disabled=!0,this.$notify({title:"Корзина",text:"Нет доступных к заказу товаров:("});return}i.forEach(s=>{this.inCart(s)===0?this.$store.dispatch("addProductToCart",s):this.$store.dispatch("incQuantity",s.id)}),this.$router.push({name:"ShopCartV2"})}).catch(()=>{this.$notify({title:"Корзина",text:"Ошибка формирования заказа",type:"error"})})},nextOrders(o){this.loadOrders(o)},nextReviews(o){this.loadProductInOrders(o)},select(o){return this.$emit("select",o)},loadOrders(o=0){return this.$store.dispatch("loadOrders",{page:o,size:20}).then(()=>{this.orders=this.getOrders,this.orders_paginate_object=this.getOrdersPaginateObject})}}},_sfc_main$29=Object.assign(__default__$1j,{__name:"MyOrders",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$29,[createBaseVNode("div",_hoisted_2$27,[_hoisted_3$26,createBaseVNode("div",_hoisted_4$20,[createBaseVNode("ul",_hoisted_5$1_,[createBaseVNode("li",_hoisted_6$1Z,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[0]||(a[0]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Заказы",2)]),createBaseVNode("li",_hoisted_7$1S,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[1]||(a[1]=i=>t.loadProductInOrders(0)),href:"javascript:void(0)"},"Товары",2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_8$1N,[(t.orders||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_9$1J,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.orders,i=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:s=>t.select(i),style:{"font-weight":"bold"},class:"list-group-item d-flex justify-content-between p-3 align-items-start flex-column","aria-current":"true"},[createBaseVNode("p",null,[_hoisted_11$1y,createTextVNode(" Время заказа "+toDisplayString(i.created_at),1)]),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.product_details[0].products,s=>(openBlock(),createElementBlock("li",null,toDisplayString(s.title),1))),256))]),i.review?(openBlock(),createBlock(_sfc_main$2x,{key:0,modelValue:i.review,"onUpdate:modelValue":s=>i.review=s},null,8,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),i.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:s=>t.repeatOrder(i),class:"btn btn-primary w-100 p-3"},[_hoisted_13$1r,createTextVNode(" Повторить заказ ")],8,_hoisted_12$1w))],8,_hoisted_10$1C))),256))])):(openBlock(),createElementBlock("div",_hoisted_14$1n,_hoisted_16$1l)),t.orders_paginate_object?(openBlock(),createBlock(Pagination,{key:2,simple:!0,onPagination_page:t.nextOrders,pagination:t.orders_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_17$1f,[(t.reviews||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_18$1c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(i,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$2x,{modelValue:t.reviews[s],"onUpdate:modelValue":r=>t.reviews[s]=r,"need-product":!0},null,8,["modelValue","onUpdate:modelValue"]),_hoisted_19$17],64))),256)),t.reviews_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.reviews_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_20$15,_hoisted_22$12))])):createCommentVNode("",!0)])]))}}),MyOrders=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$29},Symbol.toStringTag,{value:"Module"})),_sfc_main$28={props:["data"],data(){return{photos:null,profile:null,load_data:!0}},computed:{logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){this.loadUserPhotos()},methods:{goToFriends(){this.data.id===this.profile.id&&(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.push({name:"FriendsV2"}))},goToCashback(){this.data.id===this.profile.id&&(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.push({name:"CashBackV2"}))},goToOrders(){this.data.id===this.profile.id&&(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.push({name:"OrdersV2"}))},loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos",{bot_user_id:this.data.id}).then(o=>{this.photos=o.photos.result.photos||null,this.profile=o.profile})},sendMyNumber(){this.tg.requestContact(o=>{this.$notify({title:"Профиль",text:o?"Ваш контакт успешно отправлен!":"Вы отменили отправку контакта",type:o?"success":"error"}),this.$store.dispatch("loaddata").then(()=>{this.load_data=!1,this.$nextTick(()=>{this.load_data=!0})})})}}},_hoisted_1$28={class:"d-flex justify-content-center align-items-center",style:{"min-height":"350px"}},_hoisted_2$26={key:0,style:{width:"200px",height:"200px","border-radius":"50%",overflow:"hidden"}},_hoisted_3$25={class:"w-100 object-fit-cover"},_hoisted_4$1$={key:1,style:{width:"200px",height:"200px"}},_hoisted_5$1Z={class:"w-100 object-fit-cover"},_hoisted_6$1Y=createBaseVNode("h6",{class:"opacity-75 mb-3 d-flex justify-content-between align-items-center"},"Информация о профиле",-1),_hoisted_7$1R={class:"list-group"},_hoisted_8$1M={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_9$1I=createBaseVNode("span",null,"Имя",-1),_hoisted_10$1B={style:{"font-size":"12px"},class:"text-primary fw-bold"},_hoisted_11$1x={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_12$1v=createBaseVNode("span",null,"ID",-1),_hoisted_13$1q={class:"text-primary fw-bold"},_hoisted_14$1m={key:0,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_15$1l=createBaseVNode("span",null,"Телефон",-1),_hoisted_16$1k={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_17$1e=createBaseVNode("span",null,"Город",-1),_hoisted_18$1b={class:"text-primary fw-bold"},_hoisted_19$16={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_20$14=createBaseVNode("span",null,"День рождения",-1),_hoisted_21$11={class:"text-primary fw-bold"},_hoisted_22$11=createBaseVNode("span",null,"Приглашено друзей",-1),_hoisted_23$11={class:"text-primary fw-bold"},_hoisted_24$_=createBaseVNode("span",null,"Количество заказов",-1),_hoisted_25$W={class:"text-primary fw-bold"},_hoisted_26$U=createBaseVNode("span",null,"Получено баллов",-1),_hoisted_27$Q={class:"text-primary fw-bold"},_hoisted_28$P={key:0,class:"opacity-75 my-3"},_hoisted_29$N={key:1,class:"list-group"},_hoisted_30$M={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_31$L={class:"text-primary fw-bold"};function _sfc_render$Q(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$28,[(s.photos||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_2$26,[withDirectives(createBaseVNode("img",_hoisted_3$25,null,512),[[n,"/file-by-file-id-and-bot-domain/"+s.photos[0][0].file_id+"/"+r.currentBot.bot_domain]])])):(openBlock(),createElementBlock("div",_hoisted_4$1$,[withDirectives(createBaseVNode("img",_hoisted_5$1Z,null,512),[[n,"/images/shop-v2/profile.png"]])]))]),_hoisted_6$1Y,s.profile?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("ul",_hoisted_7$1R,[createBaseVNode("li",_hoisted_8$1M,[_hoisted_9$1I,createBaseVNode("span",_hoisted_10$1B,toDisplayString(s.profile.fio_from_telegram||"не указано"),1)]),createBaseVNode("li",_hoisted_11$1x,[_hoisted_12$1v,createBaseVNode("span",_hoisted_13$1q,toDisplayString(s.profile.telegram_chat_id||"-"),1)]),s.load_data?(openBlock(),createElementBlock("li",_hoisted_14$1m,[_hoisted_15$1l,createBaseVNode("span",{onClick:t[0]||(t[0]=(...l)=>r.sendMyNumber&&r.sendMyNumber(...l)),class:"text-primary fw-bold cursor-pointer"},toDisplayString(s.profile.phone||"отправить мой номер"),1)])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_16$1k,[_hoisted_17$1e,createBaseVNode("span",_hoisted_18$1b,toDisplayString(s.profile.city||"не указан"),1)]),createBaseVNode("li",_hoisted_19$16,[_hoisted_20$14,createBaseVNode("span",_hoisted_21$11,toDisplayString(s.profile.birthday||"-"),1)]),createBaseVNode("li",{onClick:t[1]||(t[1]=(...l)=>r.goToFriends&&r.goToFriends(...l)),class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},[_hoisted_22$11,createBaseVNode("span",_hoisted_23$11,toDisplayString(s.profile.friends_count||0),1)]),createBaseVNode("li",{class:"list-group-item d-flex justify-content-between cursor-pointer",onClick:t[2]||(t[2]=(...l)=>r.goToOrders&&r.goToOrders(...l)),"aria-current":"true"},[_hoisted_24$_,createBaseVNode("span",_hoisted_25$W,toDisplayString(s.profile.order_count||0),1)]),createBaseVNode("li",{onClick:t[3]||(t[3]=(...l)=>r.goToCashback&&r.goToCashback(...l)),class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},[_hoisted_26$U,createBaseVNode("span",_hoisted_27$Q,toDisplayString(s.profile.cashBack.amount||0)+" ₽",1)])]),s.profile.cashBack?(openBlock(),createElementBlock(Fragment,{key:0},[(s.profile.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("h6",_hoisted_28$P,"Специальные начисления")):createCommentVNode("",!0),(s.profile.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_29$N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.profile.cashBack.subs,l=>(openBlock(),createElementBlock("li",_hoisted_30$M,[createBaseVNode("span",null,toDisplayString(l.title||"-"),1),createBaseVNode("span",_hoisted_31$L,toDisplayString(l.amount||0)+" ₽",1)]))),256))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),a.data.id===s.profile.id&&s.profile.phone==null?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"btn btn-info w-100 p-3 my-3",onClick:t[4]||(t[4]=(...l)=>r.sendMyNumber&&r.sendMyNumber(...l))},"Отправить мой номер ")):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],64)}const ProfileCard=_export_sfc(_sfc_main$28,[["render",_sfc_render$Q]]),_hoisted_1$27={key:0,class:"container py-3"},_hoisted_2$25=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-profile",class:"btn btn-link w-100 py-3"},[createBaseVNode("i",{class:"fa-solid fa-pen-to-square mr-1"}),createTextVNode(" Редактировать")],-1),_hoisted_3$24=createBaseVNode("h6",{class:"opacity-75 my-3"},"Ваш QR-код",-1),_hoisted_4$1_={class:"img-thumbnail",alt:"..."},_hoisted_5$1Y=createBaseVNode("i",{class:"fa-solid fa-link mr-2"},null,-1),_hoisted_6$1X={class:"modal fade",id:"edit-profile",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_7$1Q={class:"modal-dialog modal-fullscreen"},_hoisted_8$1L=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактирование профиля"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_9$1H={class:"modal-body"},_hoisted_10$1A={class:"form-floating mb-2"},_hoisted_11$1w=createBaseVNode("label",{for:""},"Ф.И.О пользователя",-1),_hoisted_12$1u={class:"form-floating mb-2"},_hoisted_13$1p=createBaseVNode("label",{for:""},"Телефон",-1),_hoisted_14$1l={class:"form-floating mb-2"},_hoisted_15$1k=createBaseVNode("label",{for:""},"Почта",-1),_hoisted_16$1j={class:"form-floating mb-2"},_hoisted_17$1d=createBaseVNode("label",{for:""},"Адрес",-1),_hoisted_18$1a={class:"form-floating mb-2"},_hoisted_19$15=createBaseVNode("label",{for:""},"Дата рождения",-1),_hoisted_20$13={class:"form-floating mb-2"},_hoisted_21$10=createBaseVNode("label",{for:""},"Страна",-1),_hoisted_22$10={class:"form-floating mb-2"},_hoisted_23$10=createBaseVNode("label",{for:""},"Город",-1),_hoisted_24$Z={class:"row mb-0"},_hoisted_25$V=createBaseVNode("p",{class:"col-12 my-2"},"Пол",-1),_hoisted_26$T={class:"col-6"},_hoisted_27$P=createBaseVNode("i",{class:"fa-solid fa-mars mr-1"},null,-1),_hoisted_28$O={class:"col-6"},_hoisted_29$M=createBaseVNode("i",{class:"fa-solid fa-venus mr-1"},null,-1),_hoisted_30$L={class:"row mb-0"},_hoisted_31$K=createBaseVNode("p",{class:"col-12 my-2"},"Получать рассылки от бота?",-1),_hoisted_32$J={class:"col-6"},_hoisted_33$J={class:"col-6"},_hoisted_34$H=createBaseVNode("div",{class:"modal-footer p-2"},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100"},"Сохранить изменения")],-1),__default__$1i={data(){return{photos:null,load_self:!0,botUserForm:{id:null,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,config:{need_bot_mailing:!0}}}},computed:{...mapGetters(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return this.getSelf},tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},watch:{getSelf:function(){var o;this.botUserForm.id=this.getSelf.id,this.botUserForm.name=this.getSelf.name||this.getSelf.username||this.getSelf.id,this.botUserForm.phone=this.getSelf.phone,this.botUserForm.email=this.getSelf.email,this.botUserForm.birthday=this.getSelf.birthday||null,this.botUserForm.city=this.getSelf.city||null,this.botUserForm.country=this.getSelf.country||null,this.botUserForm.address=this.getSelf.address||null,this.botUserForm.sex=this.getSelf.sex||!1,this.botUserForm.config.need_bot_mailing=((o=this.getSelf.config)==null?void 0:o.need_bot_mailing)||!0}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()}),this.$nextTick(()=>{var o;this.loadUserPhotos(),this.getSelf&&(this.botUserForm.id=this.getSelf.id,this.botUserForm.name=this.getSelf.name||this.getSelf.username||this.getSelf.id,this.botUserForm.phone=this.getSelf.phone,this.botUserForm.email=this.getSelf.email,this.botUserForm.birthday=this.getSelf.birthday||null,this.botUserForm.city=this.getSelf.city||null,this.botUserForm.country=this.getSelf.country||null,this.botUserForm.address=this.getSelf.address||null,this.botUserForm.sex=this.getSelf.sex||!1,this.botUserForm.config.need_bot_mailing=((o=this.getSelf.config)==null?void 0:o.need_bot_mailing)||!0)})},methods:{copyToClipboard(){navigator.clipboard.writeText(this.link),this.$notify({title:"Реферальная ссылка",text:"Ваша ссылка успешно скопирована в буфер!"})},submitProfile(){this.$store.dispatch("updateProfile",{botUserForm:this.botUserForm}).then(()=>{this.$notify({title:"Редактирование данных",text:"Данные успешно обновлены!",type:"success"}),window.location.reload()}).catch(()=>{this.$notify({title:"Редактирование данных",text:"Ошибка обновления данных",type:"error"})})},goToFriends(){this.$router.push({name:"FriendsV2"})},goToCashback(){this.$router.push({name:"CashBackV2"})},goToOrders(){this.$router.push({name:"OrdersV2"})},loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos").then(o=>{this.photos=o.photos.result.photos||null})},sendMyNumber(){this.tg.requestContact(o=>{this.$notify({title:"Профиль",text:o?"Ваш контакт успешно отправлен!":"Вы отменили отправку контакта",type:o?"success":"error"}),this.$store.dispatch("loadSelf").then(()=>{this.load_self=!1,this.$nextTick(()=>{this.load_self=!0})})})}}},_sfc_main$27=Object.assign(__default__$1i,{__name:"Profile",setup(o){return(t,a)=>{const i=resolveDirective("lazy"),s=resolveDirective("mask");return t.self?(openBlock(),createElementBlock("div",_hoisted_1$27,[createVNode(ProfileCard,{data:t.self},null,8,["data"]),_hoisted_2$25,_hoisted_3$24,withDirectives(createBaseVNode("img",_hoisted_4$1_,null,512),[[i,t.qr]]),createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=(...r)=>t.copyToClipboard&&t.copyToClipboard(...r)),class:"btn btn-outline-primary mt-2 w-100"},[_hoisted_5$1Y,createTextVNode("Ваша реферальная ссылка ")]),createBaseVNode("div",_hoisted_6$1X,[createBaseVNode("div",_hoisted_7$1Q,[t.getSelf?(openBlock(),createElementBlock("form",{key:0,class:"modal-content",onSubmit:a[12]||(a[12]=withModifiers((...r)=>t.submitProfile&&t.submitProfile(...r),["prevent"]))},[_hoisted_8$1L,createBaseVNode("div",_hoisted_9$1H,[createBaseVNode("div",_hoisted_10$1A,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.botUserForm.name=r),placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,t.botUserForm.name]]),_hoisted_11$1w]),createBaseVNode("div",_hoisted_12$1u,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.botUserForm.phone=r),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,512),[[vModelText,t.botUserForm.phone],[s,"+7(###)###-##-##"]]),_hoisted_13$1p]),createBaseVNode("div",_hoisted_14$1l,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=r=>t.botUserForm.email=r),placeholder:"example@gmail.com"},null,512),[[vModelText,t.botUserForm.email]]),_hoisted_15$1k]),createBaseVNode("div",_hoisted_16$1j,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=r=>t.botUserForm.address=r),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[vModelText,t.botUserForm.address]]),_hoisted_17$1d]),createBaseVNode("div",_hoisted_18$1a,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=r=>t.botUserForm.birthday=r),placeholder:"12/01/2023"},null,512),[[vModelText,t.botUserForm.birthday]]),_hoisted_19$15]),createBaseVNode("div",_hoisted_20$13,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.botUserForm.country=r),placeholder:"Россия"},null,512),[[vModelText,t.botUserForm.country]]),_hoisted_21$10]),createBaseVNode("div",_hoisted_22$10,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=r=>t.botUserForm.city=r),placeholder:"Краснодар"},null,512),[[vModelText,t.botUserForm.city]]),_hoisted_23$10]),createBaseVNode("div",_hoisted_24$Z,[_hoisted_25$V,createBaseVNode("div",_hoisted_26$T,[createBaseVNode("button",{type:"button",onClick:a[8]||(a[8]=r=>t.botUserForm.sex=!0),class:normalizeClass([{"btn-info text-white":t.botUserForm.sex,"btn-outline-secondary":!t.botUserForm.sex},"w-100 btn"])},[_hoisted_27$P,createTextVNode(" Муж ")],2)]),createBaseVNode("div",_hoisted_28$O,[createBaseVNode("button",{type:"button",onClick:a[9]||(a[9]=r=>t.botUserForm.sex=!1),class:normalizeClass([{"btn-info text-white":!t.botUserForm.sex,"btn-outline-secondary":t.botUserForm.sex},"w-100 btn"])},[_hoisted_29$M,createTextVNode(" Жен ")],2)])]),createBaseVNode("div",_hoisted_30$L,[_hoisted_31$K,createBaseVNode("div",_hoisted_32$J,[createBaseVNode("button",{type:"button",onClick:a[10]||(a[10]=r=>t.botUserForm.config.need_bot_mailing=!0),class:normalizeClass([{"btn-info text-white":t.botUserForm.config.need_bot_mailing,"btn-outline-secondary":!t.botUserForm.config.need_bot_mailing},"w-100 btn"])}," Да ",2)]),createBaseVNode("div",_hoisted_33$J,[createBaseVNode("button",{type:"button",onClick:a[11]||(a[11]=r=>t.botUserForm.config.need_bot_mailing=!1),class:normalizeClass([{"btn-info text-white":!t.botUserForm.config.need_bot_mailing,"btn-outline-secondary":t.botUserForm.config.need_bot_mailing},"w-100 btn"])}," Нет ",2)])])]),_hoisted_34$H],32)):createCommentVNode("",!0)])])])):createCommentVNode("",!0)}}}),Profile=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$27},Symbol.toStringTag,{value:"Module"})),_hoisted_1$26={key:0,class:"container py-3"},_hoisted_2$24={class:"card border-0"},_hoisted_3$23={style:{"min-height":"350px","object-fit":"cover"},class:"card-img",alt:"..."},_hoisted_4$1Z={class:"card-img-overlay d-flex flex-column justify-content-between p-0"},_hoisted_5$1X={class:"shadow-bg",style:{"min-height":"70px"}},_hoisted_6$1W={class:"text-left text-white",style:{"font-weight":"700","line-height":"100%"}},_hoisted_7$1P={class:"d-flex justify-content-between align-products-center"},_hoisted_8$1K={class:"text-left mb-0 text-white"},_hoisted_9$1G={class:"text-primary fw-bold"},_hoisted_10$1z={key:0,class:"badge bg-primary fw-bold"},_hoisted_11$1v={key:0,class:"row g-2 row-cols-5"},_hoisted_12$1t={class:"col"},_hoisted_13$1o=["onClick"],_hoisted_14$1k=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_15$1j={class:"p-2"},_hoisted_16$1i=createBaseVNode("p",{class:"mb-0"},"Рейтинг товара",-1),_hoisted_17$1c={class:"d-flex justify-content-between mb-3"},_hoisted_18$19={key:1,class:"p-2 alert alert-warning"},_hoisted_19$14=createBaseVNode("p",{class:"mb-0 fw-bold"},"Особенности доставки",-1),_hoisted_20$12={key:0,class:"d-flex justify-content-between mb-3"},_hoisted_21$$={key:1,class:"mb-0"},_hoisted_22$$={key:2,class:"p-2"},_hoisted_23$$=createBaseVNode("p",{class:"mb-0"},"Параметры товара",-1),_hoisted_24$Y={class:"table"},_hoisted_25$U=createBaseVNode("thead",null,[createBaseVNode("th",null,"Параметр"),createBaseVNode("th",null,"Значение")],-1),_hoisted_26$S={key:0},_hoisted_27$O=createBaseVNode("td",null,"Ширина",-1),_hoisted_28$N={key:1},_hoisted_29$L=createBaseVNode("td",null,"Высота",-1),_hoisted_30$K={key:2},_hoisted_31$J=createBaseVNode("td",null,"Длина",-1),_hoisted_32$I={key:3},_hoisted_33$I=createBaseVNode("td",null,"Вес",-1),_hoisted_34$G={class:"nav nav-tabs justify-content-center"},_hoisted_35$F={class:"nav-item"},_hoisted_36$E={class:"nav-item"},_hoisted_37$D={key:3},_hoisted_38$C=["innerHTML"],_hoisted_39$C={key:1,class:"text-justify py-2 fst-italic"},_hoisted_40$y={key:4},_hoisted_41$y={key:0},_hoisted_42$y={class:"list-group w-100 py-2 rounded-0"},_hoisted_43$y={class:"list-group-item"},_hoisted_44$y={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_45$y=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем отзывы...")],-1),_hoisted_46$x=[_hoisted_45$y],_hoisted_47$u={key:2,class:"alert alert-light my-2",role:"alert"},_hoisted_48$u={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_49$t={key:0,class:"d-flex justify-content-between align-items-center w-100 p-0"},_hoisted_50$t=["disabled"],_hoisted_51$r={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_52$r={key:1,class:"btn-group w-100"},_hoisted_53$q=["disabled"],_hoisted_54$q=["disabled"],_hoisted_55$n={key:1,class:"p-3 border-secondary border rounded-2 w-100 text-secondary fw-bold text-center"},__default__$1h={data(){return{product:null,tab:0,selected_image:null,loading_reviews:!1,reviews:[],paginate:null,sending:!1,is_online:!0}},computed:{...mapGetters(["inCart","cartTotalCount","getReviews","getReviewsPaginateObject"]),currentPrice(){return this.product.current_price/100},oldPrice(){return this.product.old_price/100},checkInCart(){return this.inCart(this.product.id)},discount(){return this.oldPrice>0?Math.round(this.currentPrice/this.oldPrice*100):0},uuid(){return v4()},canProductAction(){return this.is_online&&!this.sending},currentScriptId(){return window.currentScript},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.productLink},productLink(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001slug"+this.currentScriptId+"product"+this.item.id)}},mounted(){this.loadProduct()},methods:{nextReviews(o){this.loadReviews(o)},loadReviews(o=0){return this.tab=1,this.loading_reviews=!0,this.$store.dispatch("loadReviewsByProductId",{dataObject:{product_id:this.product.id},page:o,size:30}).then(t=>{this.reviews=this.getReviews,this.paginate=this.getReviewsPaginateObject,this.loading_reviews=!1}).catch(()=>{this.loading_reviews=!1})},copyToClipBoard(){const o=this.productLink;navigator.clipboard.writeText(o).then(()=>{this.$notify({title:"Копирование",text:"Ссылка скопирована в буфер"})}).catch(t=>{this.$notify({title:"Копирование",text:"Ошибка копирования",type:"error"})})},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$notify({title:"Добавление товара",text:"Успешно добавлено в корзину!"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$notify({title:"Добавление товара",text:"Товар удален!"})},loadProduct(){let o=this.$route.params.productId;this.$store.dispatch("loadProduct",{dataObject:{productId:o}}).then(t=>{this.product=t.data,this.selected_image=(this.product.images||[]).length>0?this.product.images[0]:null,window.addEventListener("online",()=>{this.is_online=!0}),window.addEventListener("offline",()=>{this.is_online=!1})})},doSwipeLeft(){this.$router.push({name:"CatalogV2"})},doSwipeRight(){this.$router.push({name:"ShopCartV2"})}}},_sfc_main$26=Object.assign(__default__$1h,{__name:"Product",setup(o){return(t,a)=>{const i=resolveComponent("Pagination"),s=resolveDirective("lazy"),r=resolveDirective("touch");return t.product?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$26,[createBaseVNode("div",_hoisted_2$24,[withDirectives(createBaseVNode("img",_hoisted_3$23,null,512),[[s,t.selected_image]]),createBaseVNode("div",_hoisted_4$1Z,[createBaseVNode("div",_hoisted_5$1X,[createBaseVNode("h6",_hoisted_6$1W,toDisplayString(t.product.title||"Не указан"),1),createBaseVNode("div",_hoisted_7$1P,[createBaseVNode("p",_hoisted_8$1K,[createTextVNode("Цена "),createBaseVNode("strong",_hoisted_9$1G,toDisplayString(t.product.current_price||0)+"₽",1)]),t.discount>0?(openBlock(),createElementBlock("span",_hoisted_10$1z,"-"+toDisplayString(t.discount||0)+"%",1)):createCommentVNode("",!0)])])])]),(t.product.images||[]).length>1?(openBlock(),createElementBlock("div",_hoisted_11$1v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.product.images,n=>(openBlock(),createElementBlock("div",_hoisted_12$1t,[withDirectives(createBaseVNode("img",{style:{"min-height":"60px","object-fit":"contain"},onClick:l=>t.selected_image=n,class:normalizeClass([{"border border-primary":t.selected_image===n},"img-thumbnail my-2"]),alt:"..."},null,10,_hoisted_13$1o),[[s,n]])]))),256))])):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=(...n)=>t.copyToClipBoard&&t.copyToClipBoard(...n)),class:"d-block w-100 text-center py-3"},[_hoisted_14$1k,createTextVNode(" Скопировать ссылку на товар")]),createBaseVNode("div",_hoisted_15$1j,[_hoisted_16$1i,createBaseVNode("h6",_hoisted_17$1c,[createVNode(Rating,{rating:t.product.rating},null,8,["rating"]),createTextVNode(" "+toDisplayString(Math.round(t.product.rating))+" из 5 ",1)])]),t.product.delivery_terms?(openBlock(),createElementBlock("div",_hoisted_18$19,[_hoisted_19$14,t.product.delivery_terms?(openBlock(),createElementBlock("h6",_hoisted_20$12,toDisplayString(t.product.delivery_terms),1)):(openBlock(),createElementBlock("p",_hoisted_21$$,"Дополнительных условий доставки нет"))])):createCommentVNode("",!0),t.product.dimension?(openBlock(),createElementBlock("div",_hoisted_22$$,[_hoisted_23$$,createBaseVNode("table",_hoisted_24$Y,[_hoisted_25$U,createBaseVNode("tbody",null,[t.product.dimension.width>0?(openBlock(),createElementBlock("tr",_hoisted_26$S,[_hoisted_27$O,createBaseVNode("td",null,toDisplayString(t.product.dimension.width||0)+" см",1)])):createCommentVNode("",!0),t.product.dimension.height>0?(openBlock(),createElementBlock("tr",_hoisted_28$N,[_hoisted_29$L,createBaseVNode("td",null,toDisplayString(t.product.dimension.height||0)+" см",1)])):createCommentVNode("",!0),t.product.dimension.length>0?(openBlock(),createElementBlock("tr",_hoisted_30$K,[_hoisted_31$J,createBaseVNode("td",null,toDisplayString(t.product.dimension.length||0)+" см",1)])):createCommentVNode("",!0),t.product.dimension.weight>0?(openBlock(),createElementBlock("tr",_hoisted_32$I,[_hoisted_33$I,createBaseVNode("td",null,toDisplayString(t.product.dimension.weight||0)+" кг",1)])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_34$G,[createBaseVNode("li",_hoisted_35$F,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[1]||(a[1]=n=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Описание",2)]),createBaseVNode("li",_hoisted_36$E,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[2]||(a[2]=n=>t.loadReviews(0)),href:"javascript:void(0)"},"Отзывы",2)])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_37$D,[t.product.description?(openBlock(),createElementBlock("p",{key:0,innerHTML:t.product.description,class:"text-justify py-2 fst-italic"},null,8,_hoisted_38$C)):(openBlock(),createElementBlock("p",_hoisted_39$C,"Нет описания"))])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_40$y,[t.reviews.length>0?(openBlock(),createElementBlock("div",_hoisted_41$y,[createBaseVNode("ul",_hoisted_42$y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(n,l)=>(openBlock(),createElementBlock("li",_hoisted_43$y,[createVNode(_sfc_main$2x,{"need-product":!1,modelValue:t.reviews[l],"onUpdate:modelValue":c=>t.reviews[l]=c},null,8,["modelValue","onUpdate:modelValue"])]))),256))]),t.paginate?(openBlock(),createBlock(i,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.reviews.length===0&&t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_44$y,_hoisted_46$x)):createCommentVNode("",!0),t.reviews.length===0&&!t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_47$u," У данного товара еще нет отзывов! Для того чтобы оставить отзыв Вам необходимо заказать данный товар, после чего у вас появится возможность написать ваше впечатление от него;) ")):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("nav",_hoisted_48$u,[t.product.in_stop_list_at?(openBlock(),createElementBlock("p",_hoisted_55$n,"Товар недоступен для заказа")):(openBlock(),createElementBlock("div",_hoisted_49$t,[t.inCart(t.product.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-md btn-primary w-100 rounded-3 p-2"]),disabled:t.product.in_stop_list_at!=null||!t.canProductAction,onClick:a[3]||(a[3]=(...n)=>t.incProductCart&&t.incProductCart(...n))},[createTextVNode(toDisplayString(t.product.current_price||0)+"₽ ",1),t.product.old_price>0?(openBlock(),createElementBlock("span",_hoisted_51$r,toDisplayString(t.product.old_price||0)+"₽",1)):createCommentVNode("",!0)],10,_hoisted_50$t)):createCommentVNode("",!0),t.inCart(t.product.id)>0?(openBlock(),createElementBlock("div",_hoisted_52$r,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-md btn-primary p-2"]),disabled:t.product.in_stop_list_at!=null||!t.canProductAction,onClick:a[4]||(a[4]=(...n)=>t.decProductCart&&t.decProductCart(...n))},"- ",10,_hoisted_53$q),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-md btn-primary"])},toDisplayString(t.checkInCart),3),createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":!t.canProductAction},"btn btn-md btn-primary p-2"]),disabled:t.product.in_stop_list_at!=null||!t.canProductAction,onClick:a[5]||(a[5]=(...n)=>t.incProductCart&&t.incProductCart(...n))},"+ ",10,_hoisted_54$q)])):createCommentVNode("",!0)]))])])),[[r,t.doSwipeLeft,"swipe",{left:!0}],[r,t.doSwipeRight,"swipe",{right:!0}]]):(openBlock(),createBlock(PreloaderV1,{key:1}))}}}),Product=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$26},Symbol.toStringTag,{value:"Module"})),_hoisted_1$25={class:"container py-3"},_hoisted_2$23={class:"row"},_hoisted_3$22={class:"col-12"},_hoisted_4$1Y={class:"row"},_hoisted_5$1W={key:0,class:"mb-0"},_hoisted_6$1V={class:"fst-italic",style:{"font-size":"10px"}},_hoisted_7$1O={key:1,class:"mb-0"},_hoisted_8$1J={class:"fst-italic",style:{"font-size":"10px"}},_hoisted_9$1F={key:0,class:"mb-0"},_hoisted_10$1y={class:"fst-italic",style:{"font-size":"10px"}},_hoisted_11$1u=createBaseVNode("h6",{class:"opacity-75 mb-2 mt-2"},"Выбор приза Колеса фортуны",-1),_hoisted_12$1s={class:"card-img-top object-fit-cover w-100",alt:"..."},_hoisted_13$1n=createBaseVNode("div",{class:"card-body"},[createBaseVNode("p",{class:"card-text text-primary",style:{"font-size":"12px"}},"Приз не выбран")],-1),_hoisted_14$1j=["onClick"],_hoisted_15$1i={class:"card-img-top object-fit-cover w-100",alt:"..."},_hoisted_16$1h={class:"card-body"},_hoisted_17$1b={class:"card-text text-primary",style:{"font-size":"10px"}},_hoisted_18$18={class:"card mb-3"},_hoisted_19$13={class:"card-body"},_hoisted_20$11={class:"mb-2"},_hoisted_21$_={class:"fw-bold"},_hoisted_22$_={class:"mb-0"},_hoisted_23$_={class:"fw-bold"},_hoisted_24$X={key:0,class:"text-success fw-bold"},_hoisted_25$T=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),_hoisted_26$R=createBaseVNode("span",{class:"color-white"},"Очистить корзину",-1),_hoisted_27$N=[_hoisted_25$T,_hoisted_26$R],_hoisted_28$M={class:"modal fade",id:"take-prize-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_29$K={class:"modal-dialog"},_hoisted_30$J={class:"modal-content"},_hoisted_31$I=createStaticVNode('<div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Использование приза</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"> Вы точно хотите использовать этот приз сейчас? <p class="alert alert-info my-"> Внимание! Призы со скидкой будут применены к текущей корзине, если товара по скидке нет, то он будет добавлен в корзину и применена скидка к нему. </p></div>',2),_hoisted_33$H={class:"modal-footer d-flex justify-content-center"},_hoisted_34$F=createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Отмена",-1),__default__$1g={props:["formData","simpleMode"],components:{Carousel,Slide,Pagination:Pagination$1,Navigation},computed:{...mapGetters(["cartProducts","cartTotalCount","cartTotalPrice"]),filteredActionData(){return this.action?this.action.data?this.action.data.filter(o=>!o.taked_at):[]:[]},bot(){return window.currentBot},settings(){return this.bot.settings}},data(){return{selected_prize:null,prize_modal:null,config:{itemsToShow:2.5},display_promo_code:!1,action:null}},mounted(){this.prize_modal=new bootstrap.Modal(document.getElementById("take-prize-modal"),{}),this.loadClientNotUsedPrizes()},methods:{openPrizeModal(o){this.selected_prize=null,this.$nextTick(()=>{this.selected_prize=o,this.selected_prize!=null&&this.prize_modal.show()})},selectPrize(){const o=this.selected_prize;if(o==null){this.prize_modal.hide();return}this.$store.dispatch("useWheelOfFortunePrize",{form:{action_prize:o,action_id:this.action.id}}).then(t=>{this.action=t.action,this.$notify({title:"Выбор приза",text:"Приз успешно выбран!",type:"success"}),this.$emit("select-prize",{prize:o,action_id:this.action.id}),this.selected_prize=null,this.prize_modal.hide(),window.location.reload()}).catch(()=>{this.prize_modal.hide()})},loadClientNotUsedPrizes(){this.settings.selected_script_id&&this.$store.dispatch("getClientNotUsedPrizesFromWheelOfFortune",{slug_id:this.settings.selected_script_id}).then(o=>{this.action=o.action})},clearCart(){this.$emit("change-tab",1),this.$store.dispatch("clearCart").then(()=>{this.$notify({title:"Корзина",text:"Корзина успешно очищена",type:"success"})})}}},_sfc_main$25=Object.assign(__default__$1g,{__name:"CartProductList",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$25,[createBaseVNode("div",_hoisted_2$23,[createBaseVNode("div",_hoisted_3$22,[renderSlot(t.$slots,"upper-text")])]),createBaseVNode("div",_hoisted_4$1Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(s,r)=>(openBlock(),createElementBlock("div",{key:s.id,class:"col-12"},[(s.product||null)!=null?(openBlock(),createBlock(_sfc_main$2y,{comment:s.comment,config:s.params,key:"product-"+s.product.id,item:s.product},{partner:withCtx(()=>[s.partner?(openBlock(),createElementBlock("p",_hoisted_5$1W,[createBaseVNode("span",_hoisted_6$1V,toDisplayString(s.partner.title||"-"),1)])):(openBlock(),createElementBlock("p",_hoisted_7$1O,[createBaseVNode("span",_hoisted_8$1J,toDisplayString(t.bot.title||"-"),1)]))]),_:2},1032,["comment","config","item"])):(s.collection||null)!=null?(openBlock(),createBlock(_sfc_main$2t,{comment:s.comment,params:s.params,key:"collection-"+s.collection.id,item:s.collection},{partner:withCtx(()=>[s.partner?(openBlock(),createElementBlock("p",_hoisted_9$1F,[createBaseVNode("span",_hoisted_10$1y,toDisplayString(s.partner.title||"-"),1)])):createCommentVNode("",!0)]),_:2},1032,["comment","params","item"])):createCommentVNode("",!0)]))),128))]),t.settings.need_prizes_from_wheel_of_fortune&&(t.filteredActionData||[]).length>0?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_11$1u,createVNode(unref(Carousel),mergeProps({itemsToShow:2.5,wrapAround:!1},t.config),{addons:withCtx(()=>[createVNode(unref(Navigation)),createVNode(unref(Pagination$1))]),default:withCtx(()=>[(openBlock(),createBlock(unref(Slide),{key:"empty-prize"},{default:withCtx(()=>[createBaseVNode("div",{onClick:a[0]||(a[0]=s=>t.openPrizeModal(null)),class:normalizeClass([{"border-primary":o.formData.action_prize==null},"card mx-1 p-3 align-items-center"]),style:{height:"190px","border-color":"#e9ecef"}},[withDirectives(createBaseVNode("img",_hoisted_12$1s,null,512),[[i,"/images/chest.png"]]),_hoisted_13$1n],2)]),_:1})),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredActionData,s=>(openBlock(),createBlock(unref(Slide),{key:s},{default:withCtx(()=>{var r;return[createBaseVNode("div",{onClick:n=>t.openPrizeModal(s),class:normalizeClass([{"border-primary":(((r=o.formData.action_prize)==null?void 0:r.prize)||{description:null}).description==s.description},"card mx-1 p-3 align-items-center"]),style:{height:"190px","border-color":"#e9ecef"}},[withDirectives(createBaseVNode("img",_hoisted_15$1i,null,512),[[i,"/images/wheel.png"]]),createBaseVNode("div",_hoisted_16$1h,[createBaseVNode("p",_hoisted_17$1b,toDisplayString(s.description||"-"),1)])],10,_hoisted_14$1j)]}),_:2},1024))),128))]),_:1},16,["itemsToShow"])],64)):createCommentVNode("",!0),o.simpleMode?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_18$18,[createBaseVNode("div",_hoisted_19$13,[createBaseVNode("h6",_hoisted_20$11,[createTextVNode("Товаров в корзине "),createBaseVNode("strong",_hoisted_21$_,toDisplayString(t.cartTotalCount)+" ед.",1)]),createBaseVNode("h6",_hoisted_22$_,[createTextVNode("Общая цена товаров "),createBaseVNode("strong",_hoisted_23$_,toDisplayString(t.cartTotalPrice-o.formData.discount)+"₽",1),(o.formData.discount||0)>0?(openBlock(),createElementBlock("strong",_hoisted_24$X," (-"+toDisplayString(o.formData.discount)+" ₽ )",1)):createCommentVNode("",!0)])])]),renderSlot(t.$slots,"recommendation-list"),t.cartTotalCount>0?(openBlock(),createElementBlock("button",{key:0,onClick:a[1]||(a[1]=(...s)=>t.clearCart&&t.clearCart(...s)),class:"btn btn-outline-primary p-3 w-100"},_hoisted_27$N)):createCommentVNode("",!0)],64))]),createBaseVNode("div",_hoisted_28$M,[createBaseVNode("div",_hoisted_29$K,[createBaseVNode("div",_hoisted_30$J,[_hoisted_31$I,createBaseVNode("div",_hoisted_33$H,[_hoisted_34$F,createBaseVNode("button",{type:"button",onClick:a[2]||(a[2]=(...s)=>t.selectPrize&&t.selectPrize(...s)),class:"btn btn-primary"},"Использовать ")])])])])],64)}}}),PromoCodeForm_vue_vue_type_style_index_0_lang="",_hoisted_1$24={class:"opacity-75 mb-2 mt-2 d-flex justify-content-between","data-bs-container":"body","data-bs-toggle":"popover","data-bs-placement":"top","data-bs-content":"Введи промокод и нажми на кнопку рядом чтоб узнать % скидки!"},_hoisted_2$22=createBaseVNode("span",null,[createTextVNode("Промокод на скидку "),createBaseVNode("i",{class:"fa-regular fa-circle-question"})],-1),_hoisted_3$21={key:0},_hoisted_4$1X={key:1,class:"spinner-border spinner-border-sm text-primary",role:"status"},_hoisted_5$1V=createBaseVNode("span",{class:"visually-hidden"},"Loading...",-1),_hoisted_6$1U=[_hoisted_5$1V],_hoisted_7$1N=createBaseVNode("div",{class:"alert-light border-primary alert mb-2"},[createBaseVNode("span",{class:"text-primary fw-bold"},"Внимание!"),createTextVNode(" После активации промокода его нельзя использовать повторно! ")],-1),_hoisted_8$1I={class:"form-floating mb-2"},_hoisted_9$1E=["disabled"],_hoisted_10$1x=createBaseVNode("label",{for:"floatingInput"},"Ваш промокод",-1),_hoisted_11$1t=["disabled"],_hoisted_12$1r=createBaseVNode("i",{class:"fa-solid fa-tags"},null,-1),_hoisted_13$1m={key:0},_hoisted_14$1i={key:1},__default__$1f={name:"App",data(){return{spent_time:0,is_requested:!1,discount:0,discount_in_percent:!1,activate_price:0,promocodeForm:{code:null}}},watch:{"promocodeForm.code":{handler:function(o){this.discount=0},deep:!0}},mounted(){[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(t=>new bootstrap.Popover(t)),this.is_requested=checkTimer(),window.addEventListener("trigger-spent-timer",t=>{this.spent_time=t.detail})},methods:{submit(){this.promocodeForm.code!=null&&(startTimer(10),this.is_requested=!0,this.$store.dispatch("activateShopDiscountPromocode",{promocodeForm:this.promocodeForm}).then(o=>{this.is_requested=!1,this.discount=o.discount||0,this.discount_in_percent=o.discount_in_percent||!1,this.activate_price=o.activate_price||0,this.$notify({title:"Промокод",text:"Промокод успешно активирован!",type:"success"}),this.$emit("callback",{code:this.promocodeForm.code||null,discount:this.discount||0,discount_in_percent:this.discount_in_percent||!1,activate_price:this.activate_price||0})}).catch(()=>{this.is_requested=!1,this.discount=0,this.activate_price=0,this.$emit("callback",{code:this.promocodeForm.code||null,discount:0,discount_in_percent:!1,activate_price:0}),this.$notify({title:"Промокод",text:"Ошибка активации промокода!",type:"error"})}))}}},_sfc_main$24=Object.assign(__default__$1f,{setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h6",_hoisted_1$24,[_hoisted_2$22,unref(getSpentTimeCounter)()>0?(openBlock(),createElementBlock("span",_hoisted_3$21,toDisplayString(t.spent_time)+" сек.",1)):createCommentVNode("",!0),t.is_requested?(openBlock(),createElementBlock("div",_hoisted_4$1X,_hoisted_6$1U)):createCommentVNode("",!0)]),_hoisted_7$1N,createBaseVNode("div",_hoisted_8$1I,[withDirectives(createBaseVNode("input",{type:"text",disabled:t.spent_time>0,"onUpdate:modelValue":a[0]||(a[0]=i=>t.promocodeForm.code=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,8,_hoisted_9$1E),[[vModelText,t.promocodeForm.code]]),_hoisted_10$1x]),t.discount===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[1]||(a[1]=(...i)=>t.submit&&t.submit(...i)),disabled:t.spent_time>0,class:"btn btn-primary p-3 w-100 mb-2"},[_hoisted_12$1r,t.spent_time>0?(openBlock(),createElementBlock("span",_hoisted_13$1m," Осталось ждать "+toDisplayString(t.spent_time)+" сек.",1)):(openBlock(),createElementBlock("span",_hoisted_14$1i," Активировать"))],8,_hoisted_11$1t)):createCommentVNode("",!0)],64))}}),_hoisted_1$23={class:"card my-3"},_hoisted_2$21={class:"card-body p-2"},_hoisted_3$20={class:"list-group list-group-flush"},_hoisted_4$1W={class:"list-group-item"},_hoisted_5$1U={class:"mb-0 d-flex justify-content-between"},_hoisted_6$1T={class:"list-group-item"},_hoisted_7$1M={class:"mb-0 d-flex justify-content-between"},_hoisted_8$1H=createBaseVNode("sup",null,".00",-1),_hoisted_9$1D={key:0,class:"list-group-item"},_hoisted_10$1w={class:"mb-0 d-flex justify-content-between"},_hoisted_11$1s={key:0},_hoisted_12$1q={key:1},_hoisted_13$1l={key:1,class:"list-group-item"},_hoisted_14$1h={"data-bs-toggle":"modal","data-bs-target":"#promocode-modal",class:"mb-0 d-flex justify-content-between"},_hoisted_15$1h={key:0,class:"fw-bold"},_hoisted_16$1g={key:1,class:"text-primary"},_hoisted_17$1a=createBaseVNode("i",{class:"fa-solid fa-percent px-2"},null,-1),_hoisted_18$17=createBaseVNode("span",{class:"text-decoration-underline"},"Ввести промокод",-1),_hoisted_19$12=[_hoisted_17$1a,_hoisted_18$17],_hoisted_20$10={key:0,class:"list-group-item"},_hoisted_21$Z={"data-bs-toggle":"modal","data-bs-target":"#person-modal",class:"mb-0 d-flex justify-content-between"},_hoisted_22$Z={class:"fw-bold text-primary"},_hoisted_23$Z=createBaseVNode("i",{class:"fa-solid fa-people-group mr-2"},null,-1),_hoisted_24$W={key:1,class:"list-group-item"},_hoisted_25$S={class:"mb-2 d-flex justify-content-between"},_hoisted_26$Q=["data-bs-toggle","data-bs-target"],_hoisted_27$M={key:1,class:"d-flex justify-content-end text-decoration-underline"},_hoisted_28$L=createBaseVNode("i",{class:"fa-solid fa-money-bill-wave"},null,-1),_hoisted_29$J={key:2},_hoisted_30$I=createBaseVNode("p",{class:"my-3 text-center"},"Мы можем подготовить для вас сдачу с:",-1),_hoisted_31$H={class:"row row-cols-2 mb-0"},_hoisted_32$H={class:"col"},_hoisted_33$G=["onClick"],_hoisted_34$E=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,"или введите другую сумму...")],-1),_hoisted_35$E={class:"form-floating"},_hoisted_36$D=createBaseVNode("label",{for:"data-money"},"С какой суммы нужна сдача",-1),_hoisted_37$C={class:"list-group-item"},_hoisted_38$B={class:"mb-0 d-flex justify-content-between"},_hoisted_39$B={class:"fw-bold"},_hoisted_40$x={key:0,class:"list-group-item"},_hoisted_41$x={class:"mb-0 d-flex justify-content-between"},_hoisted_42$x={class:"fw-bold text-primary"},_hoisted_43$x={class:"fw-bold text-primary"},_hoisted_44$x={key:1,class:"list-group-item"},_hoisted_45$x={class:"mb-0 d-flex justify-content-between"},_hoisted_46$w={class:"fw-bold"},_hoisted_47$t={key:4,class:"list-group-item"},_hoisted_48$t={class:"mb-0 d-flex justify-content-between"},_hoisted_49$s={class:"fw-bold"},_hoisted_50$s={class:"list-group-item"},_hoisted_51$q={class:"mb-0 d-flex justify-content-between"},_hoisted_52$q={class:"fw-bold"},_hoisted_53$p=["innerHTML"],_hoisted_54$p={key:1},_hoisted_55$m={class:"fw-bold"},_hoisted_56$m={class:"modal fade",id:"promocode-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_57$l={class:"modal-dialog modal-dialog-centered"},_hoisted_58$k={class:"modal-content"},_hoisted_59$k={class:"modal-body"},_hoisted_60$j={key:0,class:"text-center py-3 border-primary border rounded-2"},_hoisted_61$j={class:"fw-bold"},_hoisted_62$i={class:"modal fade",id:"person-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_63$i={class:"modal-dialog modal-dialog-centered"},_hoisted_64$g={class:"modal-content"},_hoisted_65$g={class:"modal-body"},_hoisted_66$g=createBaseVNode("h6",{class:"opacity-75 mb-3"},"Укажите на сколько человек добавить приборы?",-1),_hoisted_67$g={class:"row text-center"},_hoisted_68$g={class:"col-4"},_hoisted_69$g=createBaseVNode("i",{class:"fa-solid fa-minus font-22"},null,-1),_hoisted_70$g=[_hoisted_69$g],_hoisted_71$g={class:"col-4 d-flex justify-content-center align-items-center"},_hoisted_72$f={class:"fw-bold",style:{"font-size":"16px"}},_hoisted_73$f={class:"col-4"},_hoisted_74$e=createBaseVNode("i",{class:"fa-solid fa-plus font-22"},null,-1),_hoisted_75$e=[_hoisted_74$e],__default__$1e={props:["modelValue"],data(){return{deliveryForm:null,moneyVariants:[500,1e3,2e3,5e3]}},watch:{deliveryForm:{handler:function(o){this.$emit("update:modelValue",this.deliveryForm)},deep:!0},modelValue:{handler:function(o){this.deliveryForm=o},deep:!0},cartTotalPrice:{handler:function(o){this.settings.free_shipping_starts_from<=this.cartTotalPrice&&(this.deliveryForm.delivery_price=0)},deep:!0}},computed:{...mapGetters(["cartProducts","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},settings(){return this.bot.settings},finallyPrice(){var a,i;let o=(a=this.deliveryForm)!=null&&a.use_cashback?this.cartTotalPrice-cashbackLimit():this.cartTotalPrice,t=this.settings.need_automatic_delivery_request?(((i=this.deliveryForm.cdek.tariff)==null?void 0:i.delivery_sum)||0)+(this.deliveryForm.delivery_price||0):0;return o+t}},mounted(){this.deliveryForm=this.modelValue},methods:{goToProductCart(){document.dispatchEvent(new Event("switch-to-cart"))},recalcDeliveryPrice(){this.$emit("calc-delivery-price")},activateDiscount(o){this.deliveryForm.discount=o.discount||0},decPersons(){this.deliveryForm.persons=this.deliveryForm.persons>1?this.deliveryForm.persons-1:this.deliveryForm.persons},incPersons(){this.deliveryForm.persons=this.deliveryForm.persons<100?this.deliveryForm.persons+1:this.deliveryForm.persons}}},_sfc_main$23=Object.assign(__default__$1e,{__name:"Summary",setup(o){return(t,a)=>{var i,s,r,n,l;return t.deliveryForm!=null?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_1$23,[createBaseVNode("div",_hoisted_2$21,[createBaseVNode("ul",_hoisted_3$20,[createBaseVNode("li",_hoisted_4$1W,[createBaseVNode("p",_hoisted_5$1U,[createTextVNode("Суммарно, ед. "),createBaseVNode("strong",{class:"text-decoration-underline text-primary",onClick:a[0]||(a[0]=(...c)=>t.goToProductCart&&t.goToProductCart(...c))},toDisplayString(t.cartTotalCount)+" шт.",1)])]),createBaseVNode("li",_hoisted_6$1T,[createBaseVNode("p",_hoisted_7$1M,[createTextVNode("Цена "),createBaseVNode("strong",null,[createTextVNode(toDisplayString(t.cartTotalPrice)+" ",1),_hoisted_8$1H,createTextVNode("₽")])])]),(i=t.deliveryForm)!=null&&i.use_cashback?(openBlock(),createElementBlock("li",_hoisted_9$1D,[createBaseVNode("p",_hoisted_10$1w,[createTextVNode("Оплата бонусами "),(s=t.deliveryForm)!=null&&s.use_cashback?(openBlock(),createElementBlock("strong",_hoisted_11$1s,toDisplayString(unref(cashbackLimit))+" ₽",1)):(openBlock(),createElementBlock("strong",_hoisted_12$1q,"-"))])])):createCommentVNode("",!0),t.settings.need_promo_code?(openBlock(),createElementBlock("li",_hoisted_13$1l,[createBaseVNode("p",_hoisted_14$1h,[createTextVNode(" Промокод "),((r=t.deliveryForm)==null?void 0:r.discount)>0?(openBlock(),createElementBlock("strong",_hoisted_15$1h,toDisplayString(t.deliveryForm.discount)+" ₽ ",1)):(openBlock(),createElementBlock("strong",_hoisted_16$1g,_hoisted_19$12))])])):createCommentVNode("",!0),t.settings.shop_display_type==0?(openBlock(),createElementBlock(Fragment,{key:2},[t.settings.need_person_counter&&t.settings.shop_display_type==0?(openBlock(),createElementBlock("li",_hoisted_20$10,[createBaseVNode("p",_hoisted_21$Z,[createTextVNode("Число гостей "),createBaseVNode("strong",_hoisted_22$Z,[_hoisted_23$Z,createTextVNode(toDisplayString(t.deliveryForm.persons)+" чел.",1)])])])):createCommentVNode("",!0),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_24$W,[createBaseVNode("p",_hoisted_25$S,[createTextVNode(" Цена доставки "),t.settings.need_automatic_delivery_request?(openBlock(),createElementBlock("span",{key:0,class:"d-flex justify-content-end text-decoration-underline","data-bs-toggle":t.deliveryForm.delivery_price>0?"modal":null,"data-bs-target":t.deliveryForm.delivery_price>0?"#delivery-price-modal":null},[t.deliveryForm.delivery_price>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.deliveryForm.delivery_price)+"₽ ",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(" не рассчитана ")],64))],8,_hoisted_26$Q)):(openBlock(),createElementBlock("span",_hoisted_27$M,[createTextVNode(" Рассчитывается курьером "),createBaseVNode("span",{class:"text-primary underline fw-bold cursor-pointer",onClick:a[1]||(a[1]=(...c)=>t.recalcDeliveryPrice&&t.recalcDeliveryPrice(...c))}," (повторить расчет) ")]))]),t.deliveryForm.delivery_price===0?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"w-100 p-3 btn btn-primary",onClick:a[2]||(a[2]=(...c)=>t.recalcDeliveryPrice&&t.recalcDeliveryPrice(...c))},[_hoisted_28$L,createTextVNode(" Рассчитать цену доставки ")])):createCommentVNode("",!0)])),t.deliveryForm.payment_type===3&&t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_29$J,[_hoisted_30$I,createBaseVNode("div",_hoisted_31$H,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moneyVariants,c=>(openBlock(),createElementBlock("div",_hoisted_32$H,[createBaseVNode("button",{class:normalizeClass(["btn btn-outline-primary w-100 mb-2 rounded-5",{"btn-primary text-white":t.deliveryForm.money===c}]),type:"button",onClick:m=>t.deliveryForm.money=c},toDisplayString(c)+"₽ ",11,_hoisted_33$G)]))),256))]),_hoisted_34$E,createBaseVNode("div",_hoisted_35$E,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[3]||(a[3]=c=>t.deliveryForm.money=c),class:"form-control",id:"data-money",placeholder:"С какой суммы нужна сдача"},null,512),[[vModelText,t.deliveryForm.money]]),_hoisted_36$D])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),t.settings.shop_display_type==1&&t.deliveryForm.cdek.tariff&&t.settings.need_automatic_delivery_request?(openBlock(),createElementBlock(Fragment,{key:3},[createBaseVNode("li",_hoisted_37$C,[createBaseVNode("p",_hoisted_38$B,[createTextVNode("Тариф "),createBaseVNode("strong",_hoisted_39$B,toDisplayString(t.deliveryForm.cdek.tariff.tariff_name),1)])]),t.settings.need_hide_delivery_period?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_40$x,[createBaseVNode("p",_hoisted_41$x,[createTextVNode("Время доставки займет от "),createBaseVNode("strong",_hoisted_42$x,toDisplayString(t.deliveryForm.cdek.tariff.calendar_min),1),createTextVNode(" до "),createBaseVNode("strong",_hoisted_43$x,toDisplayString(t.deliveryForm.cdek.tariff.calendar_max),1),createTextVNode(" дней ")])])),t.settings.need_automatic_delivery_request?(openBlock(),createElementBlock("li",_hoisted_44$x,[createBaseVNode("p",_hoisted_45$x,[createTextVNode("Стоимость доставки "),createBaseVNode("strong",_hoisted_46$w,toDisplayString(t.deliveryForm.cdek.tariff.delivery_sum)+" ₽",1)])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),(n=t.deliveryForm)!=null&&n.discount?(openBlock(),createElementBlock("li",_hoisted_47$t,[createBaseVNode("p",_hoisted_48$t,[createTextVNode("Величина скидки "),createBaseVNode("strong",_hoisted_49$s,toDisplayString((l=t.deliveryForm)==null?void 0:l.discount)+" ₽",1)])])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_50$s,[createBaseVNode("p",_hoisted_51$q,[createTextVNode("Итого, цена "),createBaseVNode("strong",_hoisted_52$q,toDisplayString(t.finallyPrice)+" ₽",1)])])])])]),t.settings.delivery_price_text?(openBlock(),createElementBlock("p",{key:0,innerHTML:t.settings.delivery_price_text},null,8,_hoisted_53$p)):createCommentVNode("",!0),(t.settings.min_price||0)>t.cartTotalPrice?(openBlock(),createElementBlock("p",_hoisted_54$p,[createTextVNode("Минимальная цена заказа "),createBaseVNode("strong",_hoisted_55$m,toDisplayString(t.settings.min_price||0)+" руб",1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_56$m,[createBaseVNode("div",_hoisted_57$l,[createBaseVNode("div",_hoisted_58$k,[createBaseVNode("div",_hoisted_59$k,[createVNode(_sfc_main$24,{onCallback:t.activateDiscount},null,8,["onCallback"]),t.deliveryForm.discount>0?(openBlock(),createElementBlock("h6",_hoisted_60$j,[createTextVNode("Скидка за промокод "),createBaseVNode("strong",_hoisted_61$j,toDisplayString(t.deliveryForm.discount)+" ₽",1)])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_62$i,[createBaseVNode("div",_hoisted_63$i,[createBaseVNode("div",_hoisted_64$g,[createBaseVNode("div",_hoisted_65$g,[_hoisted_66$g,createBaseVNode("div",_hoisted_67$g,[createBaseVNode("div",_hoisted_68$g,[createBaseVNode("button",{onClick:a[4]||(a[4]=(...c)=>t.decPersons&&t.decPersons(...c)),type:"button",class:"btn p-2 w-100 btn-primary"},_hoisted_70$g)]),createBaseVNode("div",_hoisted_71$g,[createBaseVNode("strong",_hoisted_72$f,toDisplayString(t.deliveryForm.persons),1)]),createBaseVNode("div",_hoisted_73$f,[createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=(...c)=>t.incPersons&&t.incPersons(...c)),class:"btn p-2 w-100 btn-primary"},_hoisted_75$e)])])])])])])],64)):createCommentVNode("",!0)}}}),_hoisted_1$22={key:0,class:"list-group my-3"},_hoisted_2$20=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_3$1$={class:"d-inline-flex justify-content-between w-100 px-2"},_hoisted_4$1V={style:{width:"45px"},alt:""},_hoisted_5$1T=createBaseVNode("i",{class:"fa-solid fa-earth-americas mr-2"},null,-1),_hoisted_6$1S=createBaseVNode("span",{class:"px-2"},"Онлайн через бота",-1),_hoisted_7$1L=[_hoisted_5$1T,_hoisted_6$1S],_hoisted_8$1G=createBaseVNode("i",{class:"fa-regular fa-credit-card mr-2"},null,-1),_hoisted_9$1C=createBaseVNode("span",{class:"px-2"},"Картой",-1),_hoisted_10$1v=[_hoisted_8$1G,_hoisted_9$1C],_hoisted_11$1r=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_12$1p=createBaseVNode("span",{class:"px-2"},"Переводом",-1),_hoisted_13$1k=[_hoisted_11$1r,_hoisted_12$1p],_hoisted_14$1g=createBaseVNode("i",{class:"fa-regular fa-money-bill-1 mr-2"},null,-1),_hoisted_15$1g=createBaseVNode("span",{class:"px-2"},"Наличными",-1),_hoisted_16$1f=[_hoisted_14$1g,_hoisted_15$1g],_hoisted_17$19=createBaseVNode("h6",{class:"opacity-75"},[createTextVNode("Бонусы "),createBaseVNode("small",null,"(нажми для использования)")],-1),_hoisted_18$16={class:"card-body"},_hoisted_19$11={class:"d-flex justify-content-between mb-0"},_hoisted_20$$=createBaseVNode("span",null," Списать баллы",-1),__default__$1d={props:["modelValue"],data(){return{deliveryForm:null}},watch:{deliveryForm:{handler:function(o){this.$emit("update:modelValue",this.deliveryForm)},deep:!0},modelValue:{handler:function(o){this.deliveryForm=o},deep:!0}},mounted(){this.deliveryForm=this.modelValue,this.settings.can_use_sbp&&(this.deliveryForm.payment_type=4)},computed:{...mapGetters(["cartProducts","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),settings(){return this.bot.settings},bot(){return window.currentBot}}},_sfc_main$22=Object.assign(__default__$1d,{__name:"PaymentTypes",setup(o){return(t,a)=>{var s;const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.deliveryForm?(openBlock(),createElementBlock("div",_hoisted_1$22,[t.settings.can_use_sbp?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===4},"list-group-item list-group-item-action p-3 d-flex align-items-center"]),onClick:a[0]||(a[0]=r=>t.deliveryForm.payment_type=4)},[_hoisted_2$20,createBaseVNode("span",_hoisted_3$1$,[createTextVNode(" Оплата по СБП "),withDirectives(createBaseVNode("img",_hoisted_4$1V,null,512),[[i,"/images/СБП_логотип.svg"]])])],2)):createCommentVNode("",!0),t.settings.can_use_card&&t.settings.payment_token!=null?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",onClick:a[1]||(a[1]=r=>t.deliveryForm.payment_type=0),class:normalizeClass([{active:t.deliveryForm.payment_type===0},"list-group-item list-group-item-action p-3"]),"aria-current":"true"},_hoisted_7$1L,2)):createCommentVNode("",!0),t.deliveryForm.pick_up_type==0&&t.settings.can_use_cash?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===1},"list-group-item list-group-item-action p-3"]),onClick:a[2]||(a[2]=r=>t.deliveryForm.payment_type=1)},_hoisted_10$1v,2)):createCommentVNode("",!0),t.settings.can_use_cash?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===2},"list-group-item list-group-item-action p-3"]),onClick:a[3]||(a[3]=r=>t.deliveryForm.payment_type=2)},_hoisted_13$1k,2)):createCommentVNode("",!0),t.settings.can_use_cash?(openBlock(),createElementBlock("a",{key:4,href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===3},"list-group-item list-group-item-action p-3"]),onClick:a[4]||(a[4]=r=>t.deliveryForm.payment_type=3)},_hoisted_16$1f,2)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.settings.need_bonuses_section&&unref(cashbackLimit)()>0?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_17$19,createBaseVNode("div",{class:normalizeClass(["card my-3",{"text-bg-primary":(s=t.deliveryForm)==null?void 0:s.use_cashback}]),onClick:a[5]||(a[5]=r=>{var n;return t.deliveryForm.use_cashback=!((n=t.deliveryForm)!=null&&n.use_cashback)})},[createBaseVNode("div",_hoisted_18$16,[createBaseVNode("p",_hoisted_19$11,[_hoisted_20$$,createBaseVNode("strong",null,toDisplayString(unref(cashbackLimit)())+"₽",1)])])],2)],64)):createCommentVNode("",!0)],64)}}}),_sfc_main$21={props:["modelValue"],data(){return{offer_agreement:!1}},watch:{modelValue:{handler:function(o){this.offer_agreement=o},deep:!0},offer_agreement:{handler:function(o){this.$emit("update:modelValue",this.offer_agreement)},deep:!0}},mounted(){this.offer_agreement=this.modelValue||!1},computed:{bot(){return window.currentBot},settings(){return this.bot.settings}}},_hoisted_1$21={key:0,class:"alert alert-light my-2 border-primary"},_hoisted_2$1$={class:"mb-2"},_hoisted_3$1_=["href"],_hoisted_4$1U=createBaseVNode("a",{href:"https://www.consultant.ru/document/cons_doc_LAW_61801/",target:"_blank"}," Федеральному закону №152-ФЗ ",-1),_hoisted_5$1S={class:"form-check form-switch"},_hoisted_6$1R=createBaseVNode("label",{class:"form-check-label fw-bold",for:"offerSwitch"},"Я соглашаюсь",-1),_hoisted_7$1K={key:1,class:"alert alert-light my-2 border-primary"},_hoisted_8$1F=createBaseVNode("p",{class:"mb-2"}," Нажимая кнопку, вы соглашаетесь с условиями договора оферты данной компании. ",-1),_hoisted_9$1B={class:"form-check form-switch"},_hoisted_10$1u=createBaseVNode("label",{class:"form-check-label fw-bold",for:"offerSwitch"},"Я соглашаюсь",-1);function _sfc_render$P(o,t,a,i,s,r){var n,l;return(n=r.bot.company.law_params)!=null&&n.offer_link?(openBlock(),createElementBlock("div",_hoisted_1$21,[createBaseVNode("p",_hoisted_2$1$,[createTextVNode(" Нажимая кнопку, вы соглашаетесь с условиями "),createBaseVNode("a",{href:(l=r.bot.company.law_params)==null?void 0:l.offer_link,class:"fw-bold",target:"_blank"},"договора оферты",8,_hoisted_3$1_),createTextVNode(", а также вы даете согласие на обработку персональных данных согласно "),_hoisted_4$1U]),createBaseVNode("div",_hoisted_5$1S,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.offer_agreement=c),class:"form-check-input",type:"checkbox",role:"switch",id:"offerSwitch",checked:""},null,512),[[vModelCheckbox,s.offer_agreement]]),_hoisted_6$1R])])):(openBlock(),createElementBlock("div",_hoisted_7$1K,[_hoisted_8$1F,createBaseVNode("div",_hoisted_9$1B,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>s.offer_agreement=c),class:"form-check-input",type:"checkbox",role:"switch",id:"offerSwitch",checked:""},null,512),[[vModelCheckbox,s.offer_agreement]]),_hoisted_10$1u])]))}const OfferForm=_export_sfc(_sfc_main$21,[["render",_sfc_render$P]]),_sfc_main$20={props:["modelValue","mode"],data(){return{deliveryForm:null,need_select_table_by_number:!1}},watch:{deliveryForm:{handler:function(o){localStorage.setItem("cashman_self_product_delivery_form_address",this.deliveryForm.address||""),localStorage.setItem("cashman_self_product_delivery_form_city",this.deliveryForm.city||""),localStorage.setItem("cashman_self_product_delivery_form_street",this.deliveryForm.street||""),localStorage.setItem("cashman_self_product_delivery_form_building",this.deliveryForm.building||""),localStorage.setItem("cashman_self_product_delivery_form_flat_number",this.deliveryForm.flat_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_number",this.deliveryForm.entrance_number||""),(this.deliveryForm.disabilities||[]).length>0?localStorage.setItem("cashman_self_product_delivery_form_entrance_disabilities",JSON.stringify(this.deliveryForm.disabilities||[])):localStorage.removeItem("cashman_self_product_delivery_form_entrance_disabilities"),this.$emit("update:modelValue",this.deliveryForm)},deep:!0},modelValue:{handler:function(o){this.deliveryForm=o},deep:!0}},mounted(){this.deliveryForm=this.modelValue,this.deliveryForm.name=localStorage.getItem("cashman_self_product_delivery_form_name")!=null?localStorage.getItem("cashman_self_product_delivery_form_name"):null,this.deliveryForm.phone=localStorage.getItem("cashman_self_product_delivery_form_phone")!=null?localStorage.getItem("cashman_self_product_delivery_form_phone"):null,this.deliveryForm.address=localStorage.getItem("cashman_self_product_delivery_form_address")!=null?localStorage.getItem("cashman_self_product_delivery_form_address"):null,this.deliveryForm.city=localStorage.getItem("cashman_self_product_delivery_form_city")!=null?localStorage.getItem("cashman_self_product_delivery_form_city"):null,this.deliveryForm.street=localStorage.getItem("cashman_self_product_delivery_form_street")!=null?localStorage.getItem("cashman_self_product_delivery_form_street"):null,this.deliveryForm.building=localStorage.getItem("cashman_self_product_delivery_form_building")!=null?localStorage.getItem("cashman_self_product_delivery_form_building"):null,this.deliveryForm.flat_number=localStorage.getItem("cashman_self_product_delivery_form_flat_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_flat_number"):null,this.deliveryForm.entrance_number=localStorage.getItem("cashman_self_product_delivery_form_entrance_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_entrance_number"):null,this.deliveryForm.disabilities=localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")!=null?JSON.parse(localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")):[],this.deliveryForm.disabilities.length>0&&(this.deliveryForm.has_disability=!0)},computed:{bot(){return window.currentBot},settings(){return this.bot.settings}}},_hoisted_1$20={class:"form-floating mb-2"},_hoisted_2$1_=createBaseVNode("label",{for:"deliveryForm-name"},[createTextVNode("Ф.И.О. "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_3$1Z={class:"form-floating mb-2"},_hoisted_4$1T=createBaseVNode("label",{for:"deliveryForm-phone"},[createTextVNode("Номер телефона "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_5$1R={class:"form-floating"},_hoisted_6$1Q=createBaseVNode("label",{for:"deliveryForm-info"},"Информация для сотрудника",-1),_hoisted_7$1J={class:"form-floating mb-2"},_hoisted_8$1E=createBaseVNode("label",{for:"deliveryForm-name"},[createTextVNode("Ф.И.О. "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_9$1A={class:"form-floating mb-2"},_hoisted_10$1t=createBaseVNode("label",{for:"deliveryForm-phone"},[createTextVNode("Номер телефона "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_11$1q={class:"form-floating mb-2"},_hoisted_12$1o=createBaseVNode("label",{for:"deliveryForm-city"},[createTextVNode("Ваш город "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_13$1j={class:"form-floating mb-2"},_hoisted_14$1f=createBaseVNode("label",{for:"deliveryForm-street"},[createTextVNode("Улица "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_15$1f={class:"form-floating mb-2"},_hoisted_16$1e=createBaseVNode("label",{for:"deliveryForm-building"},[createTextVNode("Номер дома "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_17$18={class:"form-floating mb-2"},_hoisted_18$15=createBaseVNode("label",{for:"deliveryForm-flat-number"},"Номер квартиры ",-1),_hoisted_19$10={class:"form-floating mb-2"},_hoisted_20$_=createBaseVNode("label",{for:"deliveryForm-entrance-number"},"Номер подъезда",-1),_hoisted_21$Y={class:"form-floating mb-2"},_hoisted_22$Y=createBaseVNode("label",{for:"deliveryForm-floor-number"},"Номер этажа",-1),_hoisted_23$Y={class:"form-check form-switch mb-2"},_hoisted_24$V=createBaseVNode("label",{class:"form-check-label",for:"select-table-number-from-list"},"Выбрать номер столика из списка",-1),_hoisted_25$R={key:0,class:"row row-cols-5"},_hoisted_26$P={class:"col"},_hoisted_27$L=["onClick"],_hoisted_28$K={key:1,class:"form-floating mb-2"},_hoisted_29$I=createBaseVNode("label",{for:"deliveryForm-table-number"},"Номер столика",-1),_hoisted_30$H={class:"form-floating"},_hoisted_31$G={key:0,for:"deliveryForm-info"},_hoisted_32$G={key:1,for:"deliveryForm-info"},_hoisted_33$F=createBaseVNode("h6",{class:"opacity-75 mt-3"},"К какому времени приготовить?",-1),_hoisted_34$D={class:"list-group my-3"},_hoisted_35$D=createBaseVNode("i",{class:"fa-solid fa-stopwatch-20 mr-2"},null,-1),_hoisted_36$C=createBaseVNode("span",{class:"px-2"},"По готовности",-1),_hoisted_37$B=[_hoisted_35$D,_hoisted_36$C],_hoisted_38$A=createBaseVNode("i",{class:"fa-regular fa-clock mr-2"},null,-1),_hoisted_39$A=createBaseVNode("span",{class:"px-2"},"К указанному времени",-1),_hoisted_40$w=[_hoisted_38$A,_hoisted_39$A],_hoisted_41$w={key:0,class:"form-floating"},_hoisted_42$w=createBaseVNode("label",{for:"deliveryForm-time"},"Время доставки",-1),_hoisted_43$w={key:0,class:"opacity-75 mt-3"},_hoisted_44$w={key:1,class:"list-group my-3"},_hoisted_45$w=createBaseVNode("i",{class:"fa-regular fa-heart mr-2"},null,-1),_hoisted_46$v=createBaseVNode("span",{class:"px-2"},"Нет ограничений по здоровью",-1),_hoisted_47$s=[_hoisted_45$w,_hoisted_46$v],_hoisted_48$s=createBaseVNode("i",{class:"fa-solid fa-house-medical-flag mr-2"},null,-1),_hoisted_49$r=createBaseVNode("span",{class:"px-2"},"Есть ограничения по здоровью",-1),_hoisted_50$r=[_hoisted_48$s,_hoisted_49$r],_hoisted_51$p={key:2,class:"list-group my-3"},_hoisted_52$p={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_53$o=createBaseVNode("label",{for:"switch-1"},[createBaseVNode("i",{class:"fa-solid fa-head-side-mask mr-2"}),createTextVNode(" Болею")],-1),_hoisted_54$o={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_55$l=createBaseVNode("label",{for:"switch-5"},[createBaseVNode("i",{class:"fa-solid fa-ear-deaf mr-2"}),createTextVNode(" Плохо слышит \\ говорит")],-1),_hoisted_56$l={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_57$k=createBaseVNode("label",{for:"switch-3"},[createBaseVNode("i",{class:"fa-solid fa-glasses mr-2"}),createTextVNode(" Слабовидящий")],-1),_hoisted_58$j={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_59$j=createBaseVNode("label",{for:"switch-4"},[createBaseVNode("i",{class:"fa-solid fa-wheelchair mr-2"}),createTextVNode(" Ограничения мобильности")],-1),_hoisted_60$i={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_61$i=createBaseVNode("label",{for:"switch-5"},[createBaseVNode("i",{class:"fa-solid fa-person-dots-from-line mr-2"}),createTextVNode(" Пищевая аллергия")],-1),_hoisted_62$h={key:3,class:"form-floating mb-2"},_hoisted_63$h=createBaseVNode("label",{for:"floatingInput"},[createTextVNode("Укажите на что аллергия "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1);function _sfc_render$O(o,t,a,i,s,r){const n=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[a.mode===1&&s.deliveryForm?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_1$20,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>s.deliveryForm.name=l),class:"form-control",id:"deliveryForm-name",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,s.deliveryForm.name]]),_hoisted_2$1_]),createBaseVNode("div",_hoisted_3$1Z,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>s.deliveryForm.phone=l),class:"form-control",id:"deliveryForm-phone",placeholder:"+7(000)000-00-00",required:""},null,512),[[n,"+7(###)###-##-##"],[vModelText,s.deliveryForm.phone]]),_hoisted_4$1T]),createBaseVNode("div",_hoisted_5$1R,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=l=>s.deliveryForm.info=l),style:{height:"200px","line-height":"150%"},placeholder:"Информация",id:"deliveryForm-info"},null,512),[[vModelText,s.deliveryForm.info]]),_hoisted_6$1Q])],64)):createCommentVNode("",!0),a.mode===0&&s.deliveryForm?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_7$1J,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=l=>s.deliveryForm.name=l),class:"form-control",id:"deliveryForm-name",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,s.deliveryForm.name]]),_hoisted_8$1E]),createBaseVNode("div",_hoisted_9$1A,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>s.deliveryForm.phone=l),class:"form-control",id:"deliveryForm-phone",placeholder:"+7(000)000-00-00",required:""},null,512),[[n,"+7(###)###-##-##"],[vModelText,s.deliveryForm.phone]]),_hoisted_10$1t]),s.deliveryForm.need_pickup?(openBlock(),createElementBlock(Fragment,{key:1},[r.settings.need_table_list?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_23$Y,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=l=>s.need_select_table_by_number=l),role:"switch",id:"select-table-number-from-list"},null,512),[[vModelCheckbox,s.need_select_table_by_number]]),_hoisted_24$V]),s.need_select_table_by_number?(openBlock(),createElementBlock("div",_hoisted_25$R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(parseInt(r.settings.max_tables),l=>(openBlock(),createElementBlock("div",_hoisted_26$P,[createBaseVNode("a",{href:"javascript:void(0)",onClick:c=>s.deliveryForm.table_number=l,class:normalizeClass([{"btn-primary":s.deliveryForm.table_number==l,"btn-outline-primary":s.deliveryForm.table_number!=l},"btn w-100 mb-2"])},toDisplayString(l),11,_hoisted_27$L)]))),256))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),s.deliveryForm.pick_up_type=="0"?(openBlock(),createElementBlock("div",_hoisted_28$K,[withDirectives(createBaseVNode("input",{type:"number",min:"1",max:"200","onUpdate:modelValue":t[12]||(t[12]=l=>s.deliveryForm.table_number=l),class:"form-control",id:"deliveryForm-table-number",placeholder:"Номер столика"},null,512),[[vModelText,s.deliveryForm.table_number]]),_hoisted_29$I])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_11$1q,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>s.deliveryForm.city=l),class:"form-control",id:"deliveryForm-city",placeholder:"Ваш город",required:""},null,512),[[vModelText,s.deliveryForm.city]]),_hoisted_12$1o]),createBaseVNode("div",_hoisted_13$1j,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>s.deliveryForm.street=l),class:"form-control",id:"deliveryForm-street",placeholder:"Улица",required:""},null,512),[[vModelText,s.deliveryForm.street]]),_hoisted_14$1f]),createBaseVNode("div",_hoisted_15$1f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>s.deliveryForm.building=l),class:"form-control",id:"deliveryForm-building",placeholder:"Номер дома",required:""},null,512),[[vModelText,s.deliveryForm.building]]),_hoisted_16$1e]),createBaseVNode("div",_hoisted_17$18,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=l=>s.deliveryForm.flat_number=l),class:"form-control",id:"deliveryForm-flat-number",placeholder:"Номер квартиры"},null,512),[[vModelText,s.deliveryForm.flat_number]]),_hoisted_18$15]),createBaseVNode("div",_hoisted_19$10,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=l=>s.deliveryForm.entrance_number=l),class:"form-control",id:"deliveryForm-entrance-number",placeholder:"Номер подъезда"},null,512),[[vModelText,s.deliveryForm.entrance_number]]),_hoisted_20$_]),createBaseVNode("div",_hoisted_21$Y,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=l=>s.deliveryForm.floor_number=l),class:"form-control",id:"deliveryForm-floor-number",placeholder:"Номер этажа"},null,512),[[vModelText,s.deliveryForm.floor_number]]),_hoisted_22$Y])],64)),createBaseVNode("div",_hoisted_30$H,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[13]||(t[13]=l=>s.deliveryForm.info=l),style:{height:"200px","line-height":"150%"},placeholder:"Информация",id:"deliveryForm-info"},null,512),[[vModelText,s.deliveryForm.info]]),s.deliveryForm.need_pickup?(openBlock(),createElementBlock("label",_hoisted_32$G,"Информация для сотрудника")):(openBlock(),createElementBlock("label",_hoisted_31$G,"Информация для доставщика"))]),s.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[_hoisted_33$F,createBaseVNode("div",_hoisted_34$D,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:s.deliveryForm.when_ready},"list-group-item list-group-item-action p-3"]),onClick:t[14]||(t[14]=l=>s.deliveryForm.when_ready=!0),"aria-current":"true"},_hoisted_37$B,2),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[15]||(t[15]=l=>s.deliveryForm.when_ready=!1),class:normalizeClass([{active:!s.deliveryForm.when_ready},"list-group-item list-group-item-action p-3"])},_hoisted_40$w,2)]),s.deliveryForm.when_ready?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_41$w,[withDirectives(createBaseVNode("input",{type:"datetime-local","onUpdate:modelValue":t[16]||(t[16]=l=>s.deliveryForm.time=l),class:"form-control",id:"deliveryForm-time",placeholder:"Время доставки",required:""},null,512),[[vModelText,s.deliveryForm.time]]),_hoisted_42$w]))],64)),r.settings.need_health_restrictions?(openBlock(),createElementBlock(Fragment,{key:3},[s.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("h6",_hoisted_43$w,"Ограничения по здоровью")),s.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_44$w,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[17]||(t[17]=l=>s.deliveryForm.has_disability=!1),class:normalizeClass([{active:!s.deliveryForm.has_disability},"list-group-item list-group-item-action p-3"])},_hoisted_47$s,2),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:s.deliveryForm.has_disability},"list-group-item list-group-item-action p-3"]),onClick:t[18]||(t[18]=l=>s.deliveryForm.has_disability=!0),"aria-current":"true"},_hoisted_50$r,2)])),s.deliveryForm.has_disability&&!s.deliveryForm.need_pickup?(openBlock(),createElementBlock("div",_hoisted_51$p,[createBaseVNode("a",_hoisted_52$p,[_hoisted_53$o,withDirectives(createBaseVNode("input",{type:"checkbox",value:"болею",class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=l=>s.deliveryForm.disabilities=l),id:"switch-1"},null,512),[[vModelCheckbox,s.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_54$o,[_hoisted_55$l,withDirectives(createBaseVNode("input",{type:"checkbox",value:"плохо слышит или говорит",class:"form-check-input","onUpdate:modelValue":t[20]||(t[20]=l=>s.deliveryForm.disabilities=l),id:"switch-5"},null,512),[[vModelCheckbox,s.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_56$l,[_hoisted_57$k,withDirectives(createBaseVNode("input",{type:"checkbox",value:"слабовидящий",class:"form-check-input","onUpdate:modelValue":t[21]||(t[21]=l=>s.deliveryForm.disabilities=l),id:"switch-3"},null,512),[[vModelCheckbox,s.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_58$j,[_hoisted_59$j,withDirectives(createBaseVNode("input",{type:"checkbox",class:"form-check-input",value:"ограничения мобильности","onUpdate:modelValue":t[22]||(t[22]=l=>s.deliveryForm.disabilities=l),id:"switch-4"},null,512),[[vModelCheckbox,s.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_60$i,[_hoisted_61$i,withDirectives(createBaseVNode("input",{type:"checkbox",class:"form-check-input",value:"пищевая аллергия","onUpdate:modelValue":t[23]||(t[23]=l=>s.deliveryForm.disabilities=l),id:"switch-5"},null,512),[[vModelCheckbox,s.deliveryForm.disabilities]])])])):createCommentVNode("",!0),s.deliveryForm.disabilities.indexOf("пищевая аллергия")!==-1?(openBlock(),createElementBlock("div",_hoisted_62$h,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[24]||(t[24]=l=>s.deliveryForm.allergy=l),id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,s.deliveryForm.allergy]]),_hoisted_63$h])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],64)}const DeliveryForm=_export_sfc(_sfc_main$20,[["render",_sfc_render$O]]),_sfc_main$1$={props:["modelValue"],data(){return{deliveryForm:null}},watch:{deliveryForm:{handler:function(o){this.$emit("update:modelValue",this.deliveryForm)},deep:!0},modelValue:{handler:function(o){this.deliveryForm=o},deep:!0}},mounted(){this.deliveryForm=this.modelValue},computed:{bot(){return window.currentBot},settings(){return this.bot.settings}}},_hoisted_1$1$={key:0,class:"list-group my-3"},_hoisted_2$1Z=createBaseVNode("i",{class:"fa-solid fa-truck mr-2"},null,-1),_hoisted_3$1Y=createBaseVNode("span",{class:"px-2"},"Доставка",-1),_hoisted_4$1S=[_hoisted_2$1Z,_hoisted_3$1Y],_hoisted_5$1Q=createBaseVNode("i",{class:"fa-brands fa-shopify mr-2"},null,-1),_hoisted_6$1P=createBaseVNode("span",{class:"px-2"},"Самовывоз",-1),_hoisted_7$1I=[_hoisted_5$1Q,_hoisted_6$1P],_hoisted_8$1D={key:0,href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between"},_hoisted_9$1z=createBaseVNode("label",{class:"form-check-label",for:"in-restaurant"},[createBaseVNode("i",{class:"fa-solid fa-utensils mr-2"}),createBaseVNode("span",{class:"px-2"},"В заведении")],-1),_hoisted_10$1s={key:1,href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between"},_hoisted_11$1p=createBaseVNode("label",{class:"form-check-label",for:"pick-up-in-package"},[createBaseVNode("i",{class:"fa-solid fa-person-walking-luggage mr-2"}),createBaseVNode("span",{class:"px-2"},"Забрать с собой")],-1);function _sfc_render$N(o,t,a,i,s,r){return s.deliveryForm?(openBlock(),createElementBlock("div",_hoisted_1$1$,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:!s.deliveryForm.need_pickup},"list-group-item list-group-item-action p-3"]),onClick:t[0]||(t[0]=n=>s.deliveryForm.need_pickup=!1),"aria-current":"true"},_hoisted_4$1S,2),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=n=>s.deliveryForm.need_pickup=!0),class:normalizeClass([{active:s.deliveryForm.need_pickup},"list-group-item list-group-item-action p-3"])},_hoisted_7$1I,2),s.deliveryForm.need_pickup?(openBlock(),createElementBlock("a",_hoisted_8$1D,[_hoisted_9$1z,withDirectives(createBaseVNode("input",{class:"form-check-input",name:"pickup-format","onUpdate:modelValue":t[2]||(t[2]=n=>s.deliveryForm.pick_up_type=n),type:"radio",value:"0",id:"in-restaurant"},null,512),[[vModelRadio,s.deliveryForm.pick_up_type]])])):createCommentVNode("",!0),s.deliveryForm.need_pickup?(openBlock(),createElementBlock("a",_hoisted_10$1s,[_hoisted_11$1p,withDirectives(createBaseVNode("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":t[3]||(t[3]=n=>s.deliveryForm.pick_up_type=n),name:"pickup-format",id:"pick-up-in-package"},null,512),[[vModelRadio,s.deliveryForm.pick_up_type]])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}const DeliveryTypes=_export_sfc(_sfc_main$1$,[["render",_sfc_render$N]]),_hoisted_1$1_=createBaseVNode("h6",{class:"opacity-75"},"Способы получения заказа",-1),_hoisted_2$1Y=createBaseVNode("h6",{class:"opacity-75 mb-3"},"Информация",-1),_hoisted_3$1X=createBaseVNode("h6",{class:"opacity-75"},"Способы оплаты",-1),_hoisted_4$1R={key:0,class:"alert alert-danger fw-bold mb-2"},_hoisted_5$1P=createBaseVNode("i",{class:"fa-solid fa-cart-shopping"},null,-1),_hoisted_6$1O={key:1,class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_7$1H=["disabled"],_hoisted_8$1C=createBaseVNode("i",{class:"fa-solid fa-map-location-dot mr-2"},null,-1),_hoisted_9$1y=createBaseVNode("span",{class:"px-2"},"Рассчитать цену доставки",-1),_hoisted_10$1r={key:0,class:"spinner-border ml-2 spinner-border-sm",role:"status"},_hoisted_11$1o=createBaseVNode("span",{class:"visually-hidden"},"Loading...",-1),_hoisted_12$1n=[_hoisted_11$1o],_hoisted_13$1i=["disabled"],_hoisted_14$1e={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_15$1e={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_16$1d=["disabled"],_hoisted_17$17={style:{width:"80px","object-fit":"cover","margin-left":"10px"},alt:""},_hoisted_18$14=["disabled"],_hoisted_19$$=createBaseVNode("i",{class:"fa-solid fa-receipt mr-2"},null,-1),_hoisted_20$Z={key:1,type:"button",class:"btn btn-primary p-3 w-100 d-flex align-items-center justify-content-center"},_hoisted_21$X={key:0,class:"spinner-border ml-2 spinner-border-sm",role:"status"},_hoisted_22$X=createBaseVNode("span",{class:"visually-hidden"},"Loading...",-1),_hoisted_23$X=[_hoisted_22$X],_hoisted_24$U={class:"modal fade",id:"delivery-price-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_25$Q={class:"modal-dialog modal-dialog-centered"},_hoisted_26$O={class:"modal-content"},_hoisted_27$K=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h5",{class:"modal-title"},"Детали расчета цены доставки"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_28$J={class:"modal-body"},_hoisted_29$H=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center",style:{height:"100px"}},[createBaseVNode("div",{class:"spinner-border text-primary",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загрузка...")])],-1),_hoisted_30$G=createBaseVNode("p",{class:"text-primary text-center fw-bold"},"Рассчитываем стоимость доставки",-1),_hoisted_31$F={key:1,class:"container"},_hoisted_32$F={class:"fw-bold mb-2"},_hoisted_33$E={key:0},_hoisted_34$C={key:1},_hoisted_35$C={class:"list-group mb-2 list-group-flush"},_hoisted_36$B={class:"list-group-item"},_hoisted_37$A={class:"d-flex justify-content-between w-100"},_hoisted_38$z={class:"fw-bold"},_hoisted_39$z={class:"badge bg-primary mx-2"},_hoisted_40$v={class:"badge bg-primary"},_hoisted_41$v={class:"fw-bold d-flex justify-content-between"},_hoisted_42$v={class:"badge bg-primary"},_hoisted_43$v={class:"fw-bold d-flex justify-content-between"},_hoisted_44$v={class:"badge bg-primary"},_hoisted_45$v={key:1,class:"alert alert-light"},_hoisted_46$u=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-secondary p-3 w-100","data-bs-dismiss":"modal"},"Закрыть ")],-1),__default__$1c={props:["modelValue"],data(){return{spent_time:0,deliveryForm:null,offer_agreement:!0,delivery_price_request_step:0,loading_delivery:!1,delivery_message:"",need_select_table_by_number:!1,need_request_delivery_price:!0,error_delivery_price_message:null,moneyVariants:[500,1e3,2e3,5e3]}},watch:{deliveryForm:{handler:function(o){this.$emit("update:modelValue",this.deliveryForm)},deep:!0},"deliveryForm.need_pickup":{handler:function(o){this.delivery_price_request_step=(this.deliveryForm.need_pickup===!0?1:0)||(this.settings.need_automatic_delivery_request?0:1)},deep:!0},modelValue:{handler:function(o){this.deliveryForm=o},deep:!0},cartTotalPrice:{handler:function(o){this.settings.free_shipping_starts_from<=this.cartTotalPrice&&(this.deliveryForm.delivery_price=0,this.delivery_price_request_step=1)},deep:!0}},computed:{...mapGetters(["cartProducts","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},settings(){return this.bot.settings},canRequestDeliverPrice(){return this.need_request_delivery_price&&this.deliveryForm.city!=null&&this.deliveryForm.street!=null&&this.deliveryForm.building!=null},canSubmitForm(){var t;return((t=this.deliveryForm)!=null&&t.use_cashback?this.cartTotalPrice-cashbackLimit()>(this.settings.min_price||0):this.cartTotalPrice>=(this.settings.min_price||0))&&!(this.spent_time>0)}},mounted(){this.deliveryForm=this.modelValue,checkTimer(),window.addEventListener("trigger-spent-timer",o=>{this.spent_time=o.detail}),this.delivery_price_request_step=(this.deliveryForm.need_pickup===!0?1:0)||(this.settings.need_automatic_delivery_request?0:1)},methods:{goToProductCart(){document.dispatchEvent(new Event("switch-to-cart"))},requestDeliveryPrice(){this.need_request_delivery_price=!1,this.error_delivery_price_message=null,this.loading_delivery=!0,this.$notify({title:"Корзина",text:"Мы начали процесс расчета цены доставки"});const o=bootstrap.Modal.getOrCreateInstance(document.getElementById("delivery-price-modal"));o&&o.show(),this.$store.dispatch("requestDeliveryPrice",{city:this.deliveryForm.city,street:this.deliveryForm.street,building:this.deliveryForm.building}).then(t=>{this.deliveryForm.delivery_price=t.price||0,this.deliveryForm.distance=t.distance||0,this.deliveryForm.delivery_details=t.config||[],this.need_request_delivery_price=!0,this.delivery_price_request_step=1,this.$notify({title:"Корзина",text:"Цена доставки успешно просчитана",type:"success"}),this.loading_delivery=!1}).catch(()=>{this.deliveryForm.delivery_price=0,this.deliveryForm.distance=0,this.need_request_delivery_price=!0,this.delivery_price_request_step=1,this.error_delivery_price_message="Цена будет рассчитана курьером в момент доставки!",this.$notify({title:"Корзина",text:"Ошибка расчёта цены доставки",type:"error"}),this.loading_delivery=!1})},startCheckout(){this.spent_time>0||(console.log("startCheckout"),this.$emit("start-checkout"),startTimer(10))},nextStep(){if(this.spent_time>0)return;const t=document.getElementById("basket").querySelectorAll("[required]");let a=!0;if(Array.from(t).reverse().forEach(r=>{r.value.trim()||(r.focus(),a=!1)}),!a){this.$notify({title:"Корзина",text:"Пожалуйста, заполните все обязательные поля.",type:"error"});return}this.$emit("change-tab",3),startTimer(10)}}},_sfc_main$1_=Object.assign(__default__$1c,{__name:"CheckoutProductForm",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.deliveryForm?(openBlock(),createElementBlock("form",{key:0,id:"basket",class:"container py-3",onSubmit:a[8]||(a[8]=withModifiers((...s)=>t.startCheckout&&t.startCheckout(...s),["prevent"]))},[_hoisted_1$1_,createVNode(DeliveryTypes,{modelValue:t.deliveryForm,"onUpdate:modelValue":a[0]||(a[0]=s=>t.deliveryForm=s)},null,8,["modelValue"]),_hoisted_2$1Y,createVNode(DeliveryForm,{modelValue:t.deliveryForm,"onUpdate:modelValue":a[1]||(a[1]=s=>t.deliveryForm=s),mode:0},null,8,["modelValue"]),createVNode(OfferForm,{modelValue:t.offer_agreement,"onUpdate:modelValue":a[2]||(a[2]=s=>t.offer_agreement=s)},null,8,["modelValue"]),_hoisted_3$1X,createVNode(_sfc_main$22,{modelValue:t.deliveryForm,"onUpdate:modelValue":a[3]||(a[3]=s=>t.deliveryForm=s)},null,8,["modelValue"]),createVNode(_sfc_main$23,{onCalcDeliveryPrice:t.requestDeliveryPrice,modelValue:t.deliveryForm,"onUpdate:modelValue":a[4]||(a[4]=s=>t.deliveryForm=s)},null,8,["onCalcDeliveryPrice","modelValue"]),t.error_delivery_price_message?(openBlock(),createElementBlock("p",_hoisted_4$1R,toDisplayString(t.error_delivery_price_message),1)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=(...s)=>t.goToProductCart&&t.goToProductCart(...s)),class:"btn btn-primary w-100 p-3"},[_hoisted_5$1P,createTextVNode(" Корзина с товаром ")]),t.offer_agreement?(openBlock(),createElementBlock("nav",_hoisted_6$1O,[t.spent_time<=0?(openBlock(),createElementBlock(Fragment,{key:0},[t.settings.need_automatic_delivery_request?(openBlock(),createElementBlock(Fragment,{key:0},[t.delivery_price_request_step===0?(openBlock(),createElementBlock("button",{key:0,onClick:a[6]||(a[6]=(...s)=>t.requestDeliveryPrice&&t.requestDeliveryPrice(...s)),class:"btn btn-primary text-white p-3 w-100 d-flex align-items-center justify-content-center",disabled:!t.canRequestDeliverPrice},[_hoisted_8$1C,_hoisted_9$1y,t.need_request_delivery_price?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_10$1r,_hoisted_12$1n))],8,_hoisted_7$1H)):createCommentVNode("",!0)],64)):createCommentVNode("",!0),t.delivery_price_request_step===1?(openBlock(),createElementBlock(Fragment,{key:1},[t.settings.need_pay_after_call||t.deliveryForm.payment_type===3?(openBlock(),createElementBlock("button",{key:0,disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100"},[t.spent_time<=0?(openBlock(),createElementBlock("i",_hoisted_14$1e)):(openBlock(),createElementBlock("i",_hoisted_15$1e)),createTextVNode(" Оформить ")],8,_hoisted_13$1i)):createCommentVNode("",!0),t.deliveryForm.payment_type===4&&!t.settings.need_pay_after_call?(openBlock(),createElementBlock("button",{key:1,disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100 d-flex justify-content-center align-items-center"},[createTextVNode(" Оплатить через "),withDirectives(createBaseVNode("img",_hoisted_17$17,null,512),[[i,"/images/Т-Банк.png"]])],8,_hoisted_16$1d)):createCommentVNode("",!0),t.deliveryForm.payment_type===2&&!t.settings.need_pay_after_call?(openBlock(),createElementBlock("button",{key:2,type:"button",onClick:a[7]||(a[7]=(...s)=>t.nextStep&&t.nextStep(...s)),disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100"},[_hoisted_19$$,createTextVNode(" Оплатить переводом ")],8,_hoisted_18$14)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("button",_hoisted_20$Z,[createTextVNode(" Осталось ждать "+toDisplayString(t.spent_time||0)+" сек. ",1),t.canSubmitForm?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_21$X,_hoisted_23$X))]))])):createCommentVNode("",!0)],32)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_24$U,[createBaseVNode("div",_hoisted_25$Q,[createBaseVNode("div",_hoisted_26$O,[_hoisted_27$K,createBaseVNode("div",_hoisted_28$J,[!t.deliveryForm||t.loading_delivery?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_29$H,_hoisted_30$G],64)):createCommentVNode("",!0),t.deliveryForm&&!t.loading_delivery?(openBlock(),createElementBlock("div",_hoisted_31$F,[createBaseVNode("h6",_hoisted_32$F,[(t.deliveryForm.delivery_details||[]).length>1?(openBlock(),createElementBlock("span",_hoisted_33$E,"Цена доставки формируется из")):(openBlock(),createElementBlock("span",_hoisted_34$C,"Цена доставки"))]),createBaseVNode("ul",_hoisted_35$C,[(t.deliveryForm.delivery_details||[]).length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Object.keys(t.deliveryForm.delivery_details),s=>(openBlock(),createElementBlock("li",_hoisted_36$B,[createBaseVNode("div",_hoisted_37$A,[createBaseVNode("span",_hoisted_38$z,toDisplayString(t.deliveryForm.delivery_details[s].title),1),createBaseVNode("span",null,[createBaseVNode("span",_hoisted_39$z,toDisplayString(t.deliveryForm.delivery_details[s].distance)+" км",1),createBaseVNode("span",_hoisted_40$v,toDisplayString(t.deliveryForm.delivery_details[s].price)+" руб.",1)])])]))),256)):createCommentVNode("",!0)]),t.deliveryForm.distance>0&&t.deliveryForm.delivery_price>0?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("h6",_hoisted_41$v,[createTextVNode(" Общее расстояние "),createBaseVNode("span",_hoisted_42$v,toDisplayString(t.deliveryForm.distance)+" км",1)]),createBaseVNode("h6",_hoisted_43$v,[createTextVNode(" Общая сумма за доставку "),createBaseVNode("span",_hoisted_44$v,toDisplayString(t.deliveryForm.delivery_price)+" руб.",1)])],64)):(openBlock(),createElementBlock("p",_hoisted_45$v,"Цена доставки будет рассчитана курьером! Проверьте корректность введенного вами адреса и попробуйте расчитать доставку еще раз!"))])):createCommentVNode("",!0)]),_hoisted_46$u])])])],64)}}}),SelectOffice_vue_vue_type_style_index_0_lang="",_sfc_main$1Z={props:["config"],data(){return{officeModal:null,load_regions:!1,load_cities:!1,search_office:null,regions:[],cities:[],offices:[],region:null,city:null,office:null}},computed:{filteredOffices(){return this.search_office?this.offices.filter(o=>o.location.address_full.toLowerCase().indexOf(this.search_office.toLowerCase().trim())!==-1):this.offices},uuid(){return v4()}},mounted(){this.config&&(this.region=this.config.region||null,this.city=this.config.city||null,this.office=this.config.office||null),this.officeModal=new bootstrap.Modal(document.getElementById("select-cdek-office"+this.uuid),{}),this.loadCdekRegions()},methods:{onInputCity(){this.offices=[]},openOfficeModal(){this.officeModal.show()},selectOffice(o){this.office=o,this.$emit("callback",{city:this.city,region:this.region,office:this.office}),this.officeModal.toggle()},selectCity(o){this.city=o,this.loadCdekOffices()},selectRegion(o){this.region=o,this.loadCdekCities()},loadCdekRegions(){this.load_regions=!1,this.$store.dispatch("loadCdekRegions").then(o=>{this.regions=o||[],this.region&&this.regions.findIndex(a=>a.region_code===this.region.region_code)===-1&&(this.region=null),this.load_regions=!0})},loadCdekOffices(){this.$store.dispatch("loadCdekOffices",{page:0,size:100,city_code:this.city.code}).then(o=>{this.offices=o,this.office&&this.offices.findIndex(a=>a.code===this.office.code)===-1&&(this.office=null)})},loadCdekCities(){this.region==null||!this.region.region_code||(this.load_cities=!1,this.$store.dispatch("loadCdekCities",{region_code:this.region.region_code}).then(o=>{this.cities=o,this.city&&this.cities.findIndex(a=>a.code===this.city.code)===-1&&(this.city=null),this.load_cities=!0}))}}},_hoisted_1$1Z={key:1,class:"alert alert-light"},_hoisted_2$1X=createBaseVNode("p",{class:"text-center"},"Загружаем данные по регионам...",-1),_hoisted_3$1W=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_4$1Q=[_hoisted_2$1X,_hoisted_3$1W],_hoisted_5$1O={key:1,class:"alert alert-light"},_hoisted_6$1N=createBaseVNode("p",{class:"text-center"},"Загружаем данные по городам...",-1),_hoisted_7$1G=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_8$1B=[_hoisted_6$1N,_hoisted_7$1G],_hoisted_9$1x=["disabled"],_hoisted_10$1q={key:0},_hoisted_11$1n=createBaseVNode("i",{class:"fa-solid fa-city text-primary"},null,-1),_hoisted_12$1m={class:"fw-bold"},_hoisted_13$1h={key:1},_hoisted_14$1d=createBaseVNode("i",{class:"fa-solid fa-building-circle-arrow-right"},null,-1),_hoisted_15$1d=["id"],_hoisted_16$1c={class:"modal-dialog modal-fullscreen"},_hoisted_17$16={class:"modal-content"},_hoisted_18$13=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор офиса"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_19$_={key:0,class:"modal-body"},_hoisted_20$Y={class:"input-group mb-2"},_hoisted_21$W={class:"form-floating"},_hoisted_22$W=createBaseVNode("label",{for:"search-product"},"Поиск по адресам",-1),_hoisted_23$W=createBaseVNode("button",{class:"btn btn-outline-light",type:"button",id:"button-addon2"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass-arrow-right"})],-1),_hoisted_24$T={class:"card w-100 mb-2 border-light"},_hoisted_25$P=["src"],_hoisted_26$N={class:"card-body"},_hoisted_27$J={class:"card-title"},_hoisted_28$I={class:"card-text small fst-italic"},_hoisted_29$G={class:"card-text"},_hoisted_30$F=["href"],_hoisted_31$E=createBaseVNode("i",{class:"fa-solid fa-map-location-dot"},null,-1),_hoisted_32$E=["onClick"],_hoisted_33$D=createBaseVNode("i",{class:"fa-solid fa-building-circle-arrow-right"},null,-1);function _sfc_render$M(o,t,a,i,s,r){const n=resolveComponent("vue3-simple-typeahead");return openBlock(),createElementBlock(Fragment,null,[s.load_regions?(openBlock(),createBlock(n,{key:0,items:s.regions,defaultItem:s.region,class:"form-control w-100 p-3 mb-2",placeholder:"Выбор региона",onSelectItem:r.selectRegion,onOnInput:o.onInput,onOnBlur:o.onBlur,minInputLength:1,itemProjection:l=>l.region},null,8,["items","defaultItem","onSelectItem","onOnInput","onOnBlur","itemProjection"])):(openBlock(),createElementBlock("div",_hoisted_1$1Z,_hoisted_4$1Q)),s.region?(openBlock(),createElementBlock(Fragment,{key:2},[s.load_cities?(openBlock(),createBlock(n,{key:0,items:s.cities,defaultItem:s.city,class:"form-control w-100 p-3 mb-2",placeholder:"Выбор города в регионе",onSelectItem:r.selectCity,onOnInput:r.onInputCity,onOnBlur:o.onBlur,minInputLength:1,itemProjection:l=>l.city},null,8,["items","defaultItem","onSelectItem","onOnInput","onOnBlur","itemProjection"])):(openBlock(),createElementBlock("div",_hoisted_5$1O,_hoisted_8$1B))],64)):createCommentVNode("",!0),s.city?(openBlock(),createElementBlock("button",{key:3,type:"button",disabled:s.offices.length===0,onClick:t[0]||(t[0]=(...l)=>r.openOfficeModal&&r.openOfficeModal(...l)),class:"btn btn-light w-100 p-3"},[s.office?(openBlock(),createElementBlock("span",_hoisted_13$1h,[_hoisted_14$1d,createTextVNode(" "+toDisplayString(s.office.location.address_full),1)])):(openBlock(),createElementBlock("span",_hoisted_10$1q,[_hoisted_11$1n,createTextVNode(" Выбрать офис "),createBaseVNode("span",_hoisted_12$1m,"("+toDisplayString(s.offices.length)+")",1)]))],8,_hoisted_9$1x)):createCommentVNode("",!0),createBaseVNode("div",{class:"modal fade",id:"select-cdek-office"+r.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_16$1c,[createBaseVNode("div",_hoisted_17$16,[_hoisted_18$13,s.offices.length>0?(openBlock(),createElementBlock("div",_hoisted_19$_,[createBaseVNode("div",_hoisted_20$Y,[createBaseVNode("div",_hoisted_21$W,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":t[1]||(t[1]=l=>s.search_office=l),class:"form-control border-light",id:"search-product",placeholder:"name@example.com"},null,512),[[vModelText,s.search_office]]),_hoisted_22$W]),_hoisted_23$W]),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filteredOffices,l=>(openBlock(),createElementBlock("div",_hoisted_24$T,[(l.office_image_list||[]).length>0?(openBlock(),createElementBlock("img",{key:0,class:"card-img-top mb-2",style:{"max-height":"150px","object-fit":"cover"},src:l.office_image_list[0].url,alt:""},null,8,_hoisted_25$P)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_26$N,[createBaseVNode("h5",_hoisted_27$J,toDisplayString(l.name||"-"),1),createBaseVNode("div",_hoisted_28$I,toDisplayString(l.location.address_full||"-"),1),createBaseVNode("p",_hoisted_29$G,toDisplayString(l.address_comment||"-"),1),createBaseVNode("a",{class:"btn btn-link text-center mb-3 w-100",href:"https://yandex.ru/maps/?ll="+l.location.longitude+"%2C"+l.location.latitude+"&z=15&mode=whatshere&whatshere%5Bpoint%5D="+l.location.longitude+"%2C"+l.location.latitude+"&whatshere%5Bzoom%5D=15&z=15",target:"_blank"},[_hoisted_31$E,createTextVNode(" На карте")],8,_hoisted_30$F),createBaseVNode("a",{onClick:c=>r.selectOffice(l),href:"javascript:void(0)",class:"btn btn-primary w-100"},[_hoisted_33$D,createTextVNode(" Выбрать")],8,_hoisted_32$E)])]))),256))])):createCommentVNode("",!0)])])],8,_hoisted_15$1d)],64)}const SelectOffice=_export_sfc(_sfc_main$1Z,[["render",_sfc_render$M]]),_sfc_main$1Y={props:["shopMode"],data(){return{selectedIndex:0,loaded:!0,calcSizeModal:null,formSize:{width:null,height:null,weight:null,length:null,items:[{name:"",ware_key:"",price:0,amount:1,weight:0}]}}},computed:{summaryWeight(){let o=0;return this.formSize.items.forEach(t=>o+=t.weight),o},emptyCalc(){return this.formSize.width==null&&this.formSize.height==null&&this.formSize.length==null&&this.formSize.weight==null}},mounted(){this.calcSizeModal=new bootstrap.Modal(document.getElementById("calc-size-modal"),{})},methods:{selectProduct(o){this.selectedIndex=o,this.loaded=!1,this.$nextTick(()=>{this.loaded=!0})},openCalcSizeModal(){this.calcSizeModal.show()},removeProduct(o){this.formSize.items.splice(o,1),this.selectedIndex=0},addProduct(){this.formSize.items.push({name:"",ware_key:"",price:0,amount:1,weight:0}),this.selectProduct(this.formSize.items.length-1)},submitSizeForm(){this.shopMode&&(this.formSize.weight=this.summaryWeight),this.$emit("callback",this.formSize),this.calcSizeModal.toggle(),this.$nextTick(()=>{this.formSize.weight=null,this.formSize.height=null,this.formSize.width=null,this.formSize.length=null})}}},_hoisted_1$1Y={key:0},_hoisted_2$1W=createBaseVNode("i",{class:"fa-solid fa-dolly text-primary"},null,-1),_hoisted_3$1V={key:1},_hoisted_4$1P={class:"modal fade",id:"calc-size-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_5$1N={class:"modal-dialog modal-fullscreen"},_hoisted_6$1M=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Расчёт размеров"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_7$1F={class:"modal-body"},_hoisted_8$1A=createBaseVNode("div",{class:"divider my-3"},"Габариты",-1),_hoisted_9$1w={class:"form-floating mb-3"},_hoisted_10$1p=createBaseVNode("label",{for:"floatingInput"},"Ширина, см",-1),_hoisted_11$1m={class:"form-floating mb-3"},_hoisted_12$1l=createBaseVNode("label",{for:"floatingInput"},"Высота, см",-1),_hoisted_13$1g={class:"form-floating mb-3"},_hoisted_14$1c=createBaseVNode("label",{for:"floatingInput"},"Длина, см",-1),_hoisted_15$1c={key:0,class:"form-floating mb-3"},_hoisted_16$1b=createBaseVNode("label",{for:"floatingInput"},"Вес, кг",-1),_hoisted_17$15={key:1,class:"alert alert-light"},_hoisted_18$12=createBaseVNode("div",{class:"divider my-3"},"Товары в упаковке",-1),_hoisted_19$Z={class:"row row-cols-4 mb-3"},_hoisted_20$X=["onClick"],_hoisted_21$V={class:"col mb-2"},_hoisted_22$V={class:"form-floating mb-3"},_hoisted_23$V=createBaseVNode("label",{for:"floatingInput"},"Название",-1),_hoisted_24$S={class:"form-floating mb-3"},_hoisted_25$O=createBaseVNode("label",{for:"floatingInput"},"Артикул товара",-1),_hoisted_26$M={class:"form-floating mb-3"},_hoisted_27$I=createBaseVNode("label",{for:"floatingInput"},"Вес, кг",-1),_hoisted_28$H={class:"form-floating mb-3"},_hoisted_29$F=createBaseVNode("label",{for:"floatingInput"},"Объявленная стоимость товара, руб",-1),_hoisted_30$E={class:"form-floating mb-3"},_hoisted_31$D=createBaseVNode("label",{for:"floatingInput"},"Кол-во товара, ед.",-1),_hoisted_32$D={class:"modal-footer"},_hoisted_33$C={type:"submit",class:"btn btn-primary w-100"},_hoisted_34$B={key:0},_hoisted_35$B=createBaseVNode("i",{class:"fa-solid fa-dolly"},null,-1),_hoisted_36$A={key:1};function _sfc_render$L(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=(...n)=>r.openCalcSizeModal&&r.openCalcSizeModal(...n)),class:"btn btn-light w-100 p-3 my-2"},[r.emptyCalc?(openBlock(),createElementBlock("span",_hoisted_1$1Y,[_hoisted_2$1W,createTextVNode(" Размер посылки")])):(openBlock(),createElementBlock("span",_hoisted_3$1V,toDisplayString(s.formSize.width||0)+"x"+toDisplayString(s.formSize.height||0)+"x"+toDisplayString(s.formSize.length||0)+" см, до "+toDisplayString(s.formSize.weight||0)+"кг ",1))]),createBaseVNode("div",_hoisted_4$1P,[createBaseVNode("div",_hoisted_5$1N,[createBaseVNode("form",{class:"modal-content",onSubmit:t[12]||(t[12]=withModifiers((...n)=>r.submitSizeForm&&r.submitSizeForm(...n),["prevent"]))},[_hoisted_6$1M,createBaseVNode("div",_hoisted_7$1F,[_hoisted_8$1A,createBaseVNode("div",_hoisted_9$1w,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[1]||(t[1]=n=>s.formSize.width=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.width]]),_hoisted_10$1p]),createBaseVNode("div",_hoisted_11$1m,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[2]||(t[2]=n=>s.formSize.height=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.height]]),_hoisted_12$1l]),createBaseVNode("div",_hoisted_13$1g,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[3]||(t[3]=n=>s.formSize.length=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.length]]),_hoisted_14$1c]),a.shopMode?(openBlock(),createElementBlock("div",_hoisted_17$15,toDisplayString(r.summaryWeight)+", кг ",1)):(openBlock(),createElementBlock("div",_hoisted_15$1c,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[4]||(t[4]=n=>s.formSize.weight=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.weight]]),_hoisted_16$1b])),a.shopMode?(openBlock(),createElementBlock(Fragment,{key:2},[_hoisted_18$12,createBaseVNode("div",_hoisted_19$Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.formSize.items.length,(n,l)=>(openBlock(),createElementBlock("div",{key:l,class:"col mb-2"},[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-primary":s.selectedIndex===l,"btn-light":s.selectedIndex!==l},"btn mr-2 w-100"]),onClick:c=>r.selectProduct(l)},toDisplayString(l+1),11,_hoisted_20$X)]))),128)),createBaseVNode("div",_hoisted_21$V,[createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=(...n)=>r.addProduct&&r.addProduct(...n)),class:"btn btn-primary mr-2 w-100"},"+ ")])]),s.loaded?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_22$V,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=n=>s.formSize.items[s.selectedIndex].name=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.items[s.selectedIndex].name]]),_hoisted_23$V]),createBaseVNode("div",_hoisted_24$S,[withDirectives(createBaseVNode("input",{type:"text",maxlength:"255","onUpdate:modelValue":t[7]||(t[7]=n=>s.formSize.items[s.selectedIndex].ware_key=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.items[s.selectedIndex].ware_key]]),_hoisted_25$O]),createBaseVNode("div",_hoisted_26$M,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[8]||(t[8]=n=>s.formSize.items[s.selectedIndex].weight=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.items[s.selectedIndex].weight]]),_hoisted_27$I]),createBaseVNode("div",_hoisted_28$H,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[9]||(t[9]=n=>s.formSize.items[s.selectedIndex].price=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.items[s.selectedIndex].price]]),_hoisted_29$F]),createBaseVNode("div",_hoisted_30$E,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[10]||(t[10]=n=>s.formSize.items[s.selectedIndex].amount=n),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.formSize.items[s.selectedIndex].amount]]),_hoisted_31$D]),s.selectedIndex>0?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:t[11]||(t[11]=n=>r.removeProduct(s.selectedIndex)),class:"btn btn-link text-danger w-100 text-center"},"Удалить товар")):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_32$D,[createBaseVNode("button",_hoisted_33$C,[r.emptyCalc?(openBlock(),createElementBlock("span",_hoisted_34$B,[_hoisted_35$B,createTextVNode(" Добавить")])):(openBlock(),createElementBlock("span",_hoisted_36$A,toDisplayString(s.formSize.width||0)+"x"+toDisplayString(s.formSize.height||0)+"x"+toDisplayString(s.formSize.length||0)+" см, до "+toDisplayString(s.formSize.weight||r.summaryWeight||0)+"кг ",1))])])],32)])])],64)}const SelectBoxSize=_export_sfc(_sfc_main$1Y,[["render",_sfc_render$L]]),_hoisted_1$1X=createBaseVNode("h6",null,"Офис получения",-1),_hoisted_2$1V={key:0,class:"alert alert-light my-2"},_hoisted_3$1U={class:"mb-0"},_hoisted_4$1O={class:"fw-bold text-primary"},_hoisted_5$1M={class:"fw-bold text-primary"},_hoisted_6$1L={class:"mb-0"},_hoisted_7$1E={class:"fw-bold text-primary"},__default__$1b={props:["needDeliveryPrice"],data(){return{calcTariffForm:{tariff:null,to:{region:null,city:null,office:null}}}},watch:{"calcTariffForm.to":{handler:function(o){this.calcTariffForm.tariff=null,this.calcTariffForm.to.region!=null&&this.calcTariffForm.to.city!=null&&this.calcTariffForm.to.office!=null&&this.loadTariffForCdek()},deep:!0}},computed:{canCalcTariff(){return this.calcTariffForm.packages.length>0&&this.calcTariffForm.to.region!=null&&this.calcTariffForm.to.city!=null}},mounted(){this.loadTariffForCdek()},methods:{selectOffice(o){this.calcTariffForm.to.region=o.region,this.calcTariffForm.to.city=o.city,this.calcTariffForm.to.office=o.office,this.calcTariffForm.tariff=null},loadTariffForCdek(){this.$store.dispatch("calcCdekTariffFromCart",this.calcTariffForm).then(o=>{this.calcTariffForm.tariff=o.tariff,this.$emit("calc",this.calcTariffForm)})}}},_sfc_main$1X=Object.assign(__default__$1b,{__name:"CdekCalcForm",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1X,createVNode(SelectOffice,{onCallback:t.selectOffice},null,8,["onCallback"]),t.calcTariffForm.tariff&&o.needDeliveryPrice?(openBlock(),createElementBlock("div",_hoisted_2$1V,[createBaseVNode("p",_hoisted_3$1U,[createTextVNode("Доставка от "),createBaseVNode("span",_hoisted_4$1O,toDisplayString(t.calcTariffForm.tariff.period_min||0),1),createTextVNode(" до "),createBaseVNode("span",_hoisted_5$1M,toDisplayString(t.calcTariffForm.tariff.period_max||0),1),createTextVNode(" рабочих дней")]),createBaseVNode("p",_hoisted_6$1L,[createTextVNode("Стоимость доставки "),createBaseVNode("span",_hoisted_7$1E,toDisplayString(t.calcTariffForm.tariff.delivery_sum||0),1),createTextVNode(" руб.")])])):createCommentVNode("",!0)],64))}}),_hoisted_1$1W=createBaseVNode("h6",{class:"opacity-75"},"Способы оплаты",-1),_hoisted_2$1U={key:0,class:"opacity-75 my-3"},_hoisted_3$1T=createBaseVNode("h6",{class:"opacity-75 my-3"},"Общая информация",-1),_hoisted_4$1N=createBaseVNode("h6",{class:"opacity-75 my-3"},"Сводка",-1),_hoisted_5$1L=createBaseVNode("i",{class:"fa-solid fa-cart-shopping"},null,-1),_hoisted_6$1K={key:1,class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_7$1D=["disabled"],_hoisted_8$1z={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_9$1v={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_10$1o=["disabled"],_hoisted_11$1l=createBaseVNode("i",{class:"fa-solid fa-receipt mr-2"},null,-1),_hoisted_12$1k=["disabled"],_hoisted_13$1f=createBaseVNode("i",{class:"fa-solid fa-receipt mr-2"},null,-1),_hoisted_14$1b={key:1,class:"alert alert-info"},_hoisted_15$1b={key:1,type:"button",class:"btn btn-primary p-3 w-100 d-flex align-items-center justify-content-center"},_hoisted_16$1a={key:0,class:"spinner-border ml-2 spinner-border-sm",role:"status"},_hoisted_17$14=createBaseVNode("span",{class:"visually-hidden"},"Loading...",-1),_hoisted_18$11=[_hoisted_17$14],__default__$1a={props:["modelValue"],data(){return{spent_time:0,deliveryForm:null,can_start_payment:!1,offer_agreement:!0,need_request_delivery_price:!0,moneyVariants:[500,1e3,2e3,5e3]}},watch:{modelValue:{handler:function(o){this.deliveryForm=o},deep:!0},deliveryForm:{handler:function(o){this.$emit("update:modelValue",this.deliveryForm)},deep:!0},cartTotalPrice:{handler:function(o){this.settings.free_shipping_starts_from<=this.cartTotalPrice&&(this.deliveryForm.delivery_price=0)},deep:!0}},computed:{...mapGetters(["cartProducts","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},settings(){return this.bot.settings},canRequestDeliverPrice(){return this.need_request_delivery_price?this.can_start_payment:!0},canSubmitForm(){var t;let o=(t=this.deliveryForm)!=null&&t.use_cashback?this.cartTotalPrice-cashbackLimit()>(this.settings.min_price||0):this.cartTotalPrice>=(this.settings.min_price||0);return this.can_start_payment&&o&&!(this.spent_time>0)}},mounted(){this.deliveryForm=this.modelValue,this.is_requested=checkTimer(),window.addEventListener("trigger-spent-timer",o=>{this.spent_time=o.detail})},methods:{goToProductCart(){document.dispatchEvent(new Event("switch-to-cart"))},calcTariff(o){var t,a,i,s;if(this.deliveryForm.cdek.tariff=o.tariff||null,this.deliveryForm.cdek.to.region=((t=o.to)==null?void 0:t.region)||null,this.deliveryForm.cdek.to.city=((a=o.to)==null?void 0:a.city)||null,this.deliveryForm.cdek.to.office=((i=o.to)==null?void 0:i.office)||null,(s=this.deliveryForm.cdek.tariff)!=null&&s.errors){this.can_start_payment=!1;return}this.deliveryForm.cdek.tariff&&(this.can_start_payment=!0)},startCheckout(){this.$emit("start-checkout")},nextStep(){this.$emit("change-tab",3)}}},_sfc_main$1W=Object.assign(__default__$1a,{__name:"CheckoutNonFoodGoodsForm",setup(o){return(t,a)=>t.deliveryForm?(openBlock(),createElementBlock("form",{key:0,id:"basket",class:"container py-3",onSubmit:a[8]||(a[8]=withModifiers((...i)=>t.startCheckout&&t.startCheckout(...i),["prevent"]))},[_hoisted_1$1W,createVNode(_sfc_main$22,{modelValue:t.deliveryForm,"onUpdate:modelValue":a[0]||(a[0]=i=>t.deliveryForm=i)},null,8,["modelValue"]),t.settings.need_automatic_delivery_request?(openBlock(),createElementBlock("h6",_hoisted_2$1U,"Расчёт цены доставки CDEK")):createCommentVNode("",!0),createVNode(_sfc_main$1X,{"need-delivery-price":t.settings.need_automatic_delivery_request,onCalc:t.calcTariff},null,8,["need-delivery-price","onCalc"]),_hoisted_3$1T,createVNode(DeliveryForm,{modelValue:t.deliveryForm,"onUpdate:modelValue":a[1]||(a[1]=i=>t.deliveryForm=i),mode:1},null,8,["modelValue"]),createVNode(OfferForm,{modelValue:t.offer_agreement,"onUpdate:modelValue":a[2]||(a[2]=i=>t.offer_agreement=i)},null,8,["modelValue"]),_hoisted_4$1N,createVNode(_sfc_main$23,{modelValue:t.deliveryForm,"onUpdate:modelValue":a[3]||(a[3]=i=>t.deliveryForm=i)},null,8,["modelValue"]),createBaseVNode("button",{type:"button",onClick:a[4]||(a[4]=(...i)=>t.goToProductCart&&t.goToProductCart(...i)),class:"btn btn-primary w-100 p-3"},[_hoisted_5$1L,createTextVNode(" Корзина с товаром ")]),t.offer_agreement?(openBlock(),createElementBlock("nav",_hoisted_6$1K,[t.spent_time<=0?(openBlock(),createElementBlock(Fragment,{key:0},[t.deliveryForm.cdek.tariff!=null||!t.settings.need_automatic_delivery_request?(openBlock(),createElementBlock(Fragment,{key:0},[t.settings.need_pay_after_call||t.deliveryForm.payment_type===3?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[5]||(a[5]=(...i)=>t.startCheckout&&t.startCheckout(...i)),disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100 mb-2"},[t.spent_time<=0?(openBlock(),createElementBlock("i",_hoisted_8$1z)):(openBlock(),createElementBlock("i",_hoisted_9$1v)),createTextVNode(" Оформить ")],8,_hoisted_7$1D)):createCommentVNode("",!0),t.deliveryForm.payment_type===4&&!t.settings.need_pay_after_call?(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:a[6]||(a[6]=(...i)=>t.startCheckout&&t.startCheckout(...i)),disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100"},[_hoisted_11$1l,createTextVNode(" Оформить и оплатить через СБП ")],8,_hoisted_10$1o)):createCommentVNode("",!0),t.deliveryForm.payment_type===2&&!t.settings.need_pay_after_call?(openBlock(),createElementBlock("button",{key:2,type:"button",onClick:a[7]||(a[7]=(...i)=>t.nextStep&&t.nextStep(...i)),disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100"},[_hoisted_13$1f,createTextVNode(" Оплатить переводом ")],8,_hoisted_12$1k)):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("div",_hoisted_14$1b," Для оформления выберите офис доставки СДЭК "))],64)):(openBlock(),createElementBlock("button",_hoisted_15$1b,[createTextVNode(" Осталось ждать "+toDisplayString(t.spent_time||0)+" сек. ",1),t.canSubmitForm?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_16$1a,_hoisted_18$11))]))])):createCommentVNode("",!0)],32)):createCommentVNode("",!0)}}),_sfc_main$1V={props:["modelValue"],data(){return{spent_time_counter:0}},computed:{...mapGetters(["cartProducts","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,a=this.bot.max_cashback_use_percent||0,i=t*(a/100);return Math.min(i,o)},settings(){return window.currentBot.settings||null},finallyPrice(){var a,i,s;let o=((a=this.modelValue.promo)==null?void 0:a.activate_price)||0,t=((i=this.modelValue.promo)==null?void 0:i.discount)||0;return(s=this.modelValue)!=null&&s.use_cashback?Math.max(1,this.cartTotalPrice-this.cashbackLimit-(this.cartTotalPrice>=o?t:0))+this.modelValue.delivery_price:Math.max(1,this.cartTotalPrice-(this.cartTotalPrice>=o?t:0))+this.modelValue.delivery_price}},watch:{modelValue:{handler:function(o){this.$emit("update:modelValue",this.modelValue)},deep:!0}},mounted(){},methods:{startCheckout(){this.spent_time_counter>0||(this.startTimer(10),this.$emit("startCheckout"))},onChangePhotos(o){const t=o.target.files[0];t&&(this.modelValue.image=t)},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(){this.modelValue.image=null},canSubmitForm(){return this.modelValue.image!=null},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",this.spent_time_counter)},1e3)}}},_hoisted_1$1V=createBaseVNode("h5",{class:"my-3 text-left"},[createBaseVNode("i",{class:"fa-regular fa-image mr-2"}),createTextVNode("Фотография чека")],-1),_hoisted_2$1T=["innerHTML"],_hoisted_3$1S=createBaseVNode("h6",{class:"opacity-75 mt-3"},"Сводка",-1),_hoisted_4$1M={class:"card my-3"},_hoisted_5$1K={class:"card-body p-2"},_hoisted_6$1J={class:"list-group list-group-flush"},_hoisted_7$1C={class:"list-group-item"},_hoisted_8$1y={class:"mb-0 d-flex justify-content-between"},_hoisted_9$1u={class:"list-group-item"},_hoisted_10$1n={class:"mb-0 d-flex justify-content-between"},_hoisted_11$1k={class:"list-group-item"},_hoisted_12$1j={class:"mb-0 d-flex justify-content-between"},_hoisted_13$1e={key:0},_hoisted_14$1a={key:1},_hoisted_15$1a={key:0,class:"list-group-item"},_hoisted_16$19=createBaseVNode("p",{class:"mb-2 text-justify"},[createBaseVNode("strong",{class:"fw-bold"},"Внимание!"),createTextVNode(" Не распространяется на цену доставки! ")],-1),_hoisted_17$13={class:"mb-0 d-flex justify-content-between"},_hoisted_18$10={key:1,class:"list-group-item"},_hoisted_19$Y={class:"mb-0 d-flex justify-content-between"},_hoisted_20$W={key:0},_hoisted_21$U={key:1},_hoisted_22$U={class:"list-group-item"},_hoisted_23$U={class:"mb-0 d-flex justify-content-between"},_hoisted_24$R={key:0},_hoisted_25$N=createBaseVNode("p",{class:"my-3 text-center"},"Мы можем подготовить для вас сдачу с:",-1),_hoisted_26$L={class:"row row-cols-2 mb-0"},_hoisted_27$H={class:"col"},_hoisted_28$G=["onClick"],_hoisted_29$E=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,"или введите другую сумму...")],-1),_hoisted_30$D={class:"form-floating"},_hoisted_31$C=createBaseVNode("label",{for:"modelValue-money"},"С какой суммы нужна сдача",-1),_hoisted_32$C={class:"d-flex justify-content-center flex-wrap w-100"},_hoisted_33$B={key:0,for:"menu-photos",class:"photo-loader-bill d-flex flex-column justify-content-center align-items-center mb-2"},_hoisted_34$A=createBaseVNode("i",{class:"fa-regular fa-image my-2 text-primary",style:{"font-size":"20px"}},null,-1),_hoisted_35$A=createBaseVNode("span",{class:"text-primary fw-bold text-center"},"Выбрать фотографию чека в формате: jpg, png, bmp",-1),_hoisted_36$z={key:1,class:"mb-2 img-preview-bill"},_hoisted_37$z={class:"remove"},_hoisted_38$y=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2 text-primary"},null,-1),_hoisted_39$y={class:"form-floating mb-2"},_hoisted_40$u=createBaseVNode("label",{for:"modelValue-image_info"},[createTextVNode("Текст к оплате "),createBaseVNode("small",null,"(не обязательно)")],-1),_hoisted_41$u=["disabled"],_hoisted_42$u={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_43$u={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_44$u={key:2,class:"color-white"},_hoisted_45$u={key:3,class:"color-white"};function _sfc_render$K(o,t,a,i,s,r){var l,c;const n=resolveDirective("lazy");return openBlock(),createElementBlock("form",{class:"container py-3",onSubmit:t[4]||(t[4]=withModifiers((...m)=>r.startCheckout&&r.startCheckout(...m),["prevent"]))},[_hoisted_1$1V,(l=r.settings)!=null&&l.payment_info?(openBlock(),createElementBlock("div",{key:0,class:"alert alert-light mb-2 fw-bold",role:"alert",innerHTML:r.settings.payment_info},null,8,_hoisted_2$1T)):createCommentVNode("",!0),_hoisted_3$1S,createBaseVNode("div",_hoisted_4$1M,[createBaseVNode("div",_hoisted_5$1K,[createBaseVNode("ul",_hoisted_6$1J,[createBaseVNode("li",_hoisted_7$1C,[createBaseVNode("p",_hoisted_8$1y,[createTextVNode("Суммарно, ед. "),createBaseVNode("strong",null,toDisplayString(o.cartTotalCount)+" шт.",1)])]),createBaseVNode("li",_hoisted_9$1u,[createBaseVNode("p",_hoisted_10$1n,[createTextVNode("Цена "),createBaseVNode("strong",null,toDisplayString(o.cartTotalPrice)+" ₽",1)])]),createBaseVNode("li",_hoisted_11$1k,[createBaseVNode("p",_hoisted_12$1j,[createTextVNode("Оплата бонусами "),(c=a.modelValue)!=null&&c.use_cashback?(openBlock(),createElementBlock("strong",_hoisted_13$1e,toDisplayString(r.cashbackLimit)+" ₽",1)):(openBlock(),createElementBlock("strong",_hoisted_14$1a,"-"))])]),a.modelValue.discount>0?(openBlock(),createElementBlock("li",_hoisted_15$1a,[_hoisted_16$19,createBaseVNode("p",_hoisted_17$13,[createTextVNode("Промокод "),createBaseVNode("strong",null,toDisplayString(a.modelValue.discount)+" ₽",1)])])):createCommentVNode("",!0),a.modelValue.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_18$10,[createBaseVNode("p",_hoisted_19$Y,[createTextVNode("Цена доставки "),a.modelValue.delivery_price>0?(openBlock(),createElementBlock("strong",_hoisted_20$W,toDisplayString(a.modelValue.delivery_price)+"₽",1)):(openBlock(),createElementBlock("strong",_hoisted_21$U,"от курьера"))])])),createBaseVNode("li",_hoisted_22$U,[createBaseVNode("p",_hoisted_23$U,[createTextVNode("Итого, цена "),createBaseVNode("strong",null,toDisplayString(r.finallyPrice)+" ₽",1)])])]),a.modelValue.payment_type===3&&r.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_24$R,[_hoisted_25$N,createBaseVNode("div",_hoisted_26$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.moneyVariants,m=>(openBlock(),createElementBlock("div",_hoisted_27$H,[createBaseVNode("button",{class:normalizeClass(["btn btn-outline-primary w-100 mb-2 rounded-5",{"btn-primary text-white":a.modelValue.money===m}]),type:"button",onClick:p=>a.modelValue.money=m},toDisplayString(m)+"₽ ",11,_hoisted_28$G)]))),256))]),_hoisted_29$E,createBaseVNode("div",_hoisted_30$D,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[0]||(t[0]=m=>a.modelValue.money=m),class:"form-control",id:"modelValue-money",placeholder:"С какой суммы нужна сдача"},null,512),[[vModelText,a.modelValue.money]]),_hoisted_31$C])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_32$C,[a.modelValue.image==null?(openBlock(),createElementBlock("label",_hoisted_33$B,[_hoisted_34$A,_hoisted_35$A,createBaseVNode("input",{type:"file",required:"",id:"menu-photos",accept:"image/*",onChange:t[1]||(t[1]=(...m)=>r.onChangePhotos&&r.onChangePhotos(...m)),style:{display:"none"}},null,32)])):createCommentVNode("",!0),a.modelValue.image!=null?(openBlock(),createElementBlock("div",_hoisted_36$z,[withDirectives(createBaseVNode("img",null,null,512),[[n,r.getPhoto(a.modelValue.image).imageUrl]]),createBaseVNode("div",_hoisted_37$z,[createBaseVNode("a",{onClick:t[2]||(t[2]=m=>r.removePhoto())},[_hoisted_38$y,createTextVNode("Удалить")])])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_39$y,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=m=>a.modelValue.image_info=m),style:{height:"100px","line-height":"150%"},placeholder:"Информация",id:"modelValue-image_info"},null,512),[[vModelText,a.modelValue.image_info]]),_hoisted_40$u]),createBaseVNode("button",{type:"submit",disabled:!r.canSubmitForm,class:"btn btn-primary p-3 w-100"},[s.spent_time_counter<=0?(openBlock(),createElementBlock("i",_hoisted_42$u)):(openBlock(),createElementBlock("i",_hoisted_43$u)),s.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_44$u,"Оформить")):(openBlock(),createElementBlock("span",_hoisted_45$u,"Осталось ждать "+toDisplayString(s.spent_time_counter)+" сек.",1))],8,_hoisted_41$u)],32)}const ScreenPaymentForm=_export_sfc(_sfc_main$1V,[["render",_sfc_render$K]]),ProductRecommendationList_vue_vue_type_style_index_0_scoped_11b2d633_lang="",_withScopeId$f=o=>(pushScopeId("data-v-11b2d633"),o=o(),popScopeId(),o),_hoisted_1$1U={key:0,class:"row my-3"},_hoisted_2$1S=_withScopeId$f(()=>createBaseVNode("div",{class:"col-12"},[createBaseVNode("h6",{class:"fw-bold"},"Также рекомендуем")],-1)),_hoisted_3$1R={class:"col-12"},_hoisted_4$1L={class:"carousel__item"},__default__$19={name:"ProductRecommendationList",data(){return{products:[]}},mounted(){this.loadRecommendedProducts()},methods:{loadRecommendedProducts(){return this.$store.dispatch("loadRecommendedProducts").then(o=>{this.products=o.data||[]})}}},_sfc_main$1U=Object.assign(__default__$19,{setup(o){const t={itemsToShow:2.1,wrapAround:!0};return(a,i)=>(a.products||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_1$1U,[_hoisted_2$1S,createBaseVNode("div",_hoisted_3$1R,[createVNode(unref(Carousel),normalizeProps(guardReactiveProps(t)),{addons:withCtx(()=>[]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.products,s=>(openBlock(),createBlock(unref(Slide),{key:s.id},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$1L,[createVNode(_sfc_main$2w,{item:s},null,8,["item"])])]),_:2},1024))),128))]),_:1},16)])])):createCommentVNode("",!0)}}),ProductRecommendationList=_export_sfc(_sfc_main$1U,[["__scopeId","data-v-11b2d633"]]),ShopCart_vue_vue_type_style_index_0_lang="",_hoisted_1$1T={key:0},_hoisted_2$1R=createBaseVNode("h4",null,"Итого",-1),_hoisted_3$1Q=createBaseVNode("p",null," Ниже приведена итоговая цена заказа без учета стоимости доставки. Цена доставки рассчитывается отдельно и зависит от расстояния. ",-1),_hoisted_4$1K={key:1},_hoisted_5$1J={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_6$1I=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Корзина пустая:(")],-1),_hoisted_7$1B=[_hoisted_6$1I],_hoisted_8$1x={key:2,class:"navbar navbar-expand-sm fixed-bottom p-2 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_9$1t={key:0,class:"w-100"},_hoisted_10$1m={key:1,class:"w-100"},_hoisted_11$1j={key:3,class:"navbar navbar-expand-sm fixed-bottom p-2 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_12$1i=createBaseVNode("p",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-secondary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"}," В данный момент покупки недоступны ",-1),_hoisted_13$1d=[_hoisted_12$1i],__default__$18={props:["type"],data(){return{tab:0,deliveryForm:{name:null,phone:null,address:null,discount:0,cdek:{tariff:null,to:{region:null,city:null,office:null,address:null}},city:null,street:null,building:null,flat_number:null,entrance_number:null,floor_number:null,table_number:null,info:null,need_pickup:!1,pick_up_type:1,has_disability:!1,use_cashback:!1,disabilities:[],money:null,cash:!0,payment_type:2,persons:1,time:null,when_ready:!0,image:null,image_info:null,delivery_price:0,distance:0,delivery_details:[],allergy:null,action_prize:null}}},watch:{tab:{handler:function(o){window.scroll(0,80)},deep:!0},"deliveryForm.need_pickup":{handler:function(o){this.deliveryForm.need_pickup&&(this.deliveryForm.delivery_price=0,this.deliveryForm.distance=0)},deep:!0},"deliveryForm.cash":{handler:function(o){this.deliveryForm.cash||(this.deliveryForm.money=null)},deep:!0},"deliveryForm.has_disability":{handler:function(o){this.deliveryForm.disabilities=[],this.deliveryForm.allergy=null},deep:!0}},computed:{...mapGetters(["cartTotalCount","cartTotalPrice","getSelf"]),settings(){return this.bot.settings},bot(){return window.currentBot},tg(){return window.Telegram.WebApp}},mounted(){this.loadBasketData(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()}),window.addEventListener("scroll-to-basket",o=>{this.tab=2,document.querySelector("#basket").scrollIntoView({behavior:"smooth"})}),document.addEventListener("switch-to-cart",()=>{this.changeTab(0),document.querySelector("#basket").scrollIntoView({behavior:"smooth"})})},methods:{doSwipeLeft(){this.$router.push({name:"CatalogV2"})},doSwipeRight(){this.$router.push({name:"MenuV2"})},changeTab(o){this.tab=o},goToCatalog(){this.$router.push({name:"CatalogV2"})},selectPrize(o){this.deliveryForm.action_prize=o},loadBasketData(){return this.$store.dispatch("loadProductsInBasket")},startCheckout(){let o=new FormData;if(o.append("display_type",this.settings.shop_display_type),Object.keys(this.deliveryForm).forEach(t=>{const a=this.deliveryForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.type&&o.append("type",this.type),o.append("need_automatic_delivery_request",this.settings.need_automatic_delivery_request),this.deliveryForm.payment_type===0&&this.settings.can_use_card){this.$store.dispatch("createCheckoutLink",{deliveryForm:o}).then(t=>{this.tg.openInvoice(t.result)});return}typeof this.deliveryForm.image!="string"&&(o.append("photo",this.deliveryForm.image),o.delete("image")),this.sending=!0,this.$store.dispatch("startCheckout",{deliveryForm:o}).then(t=>{this.$notify({title:"Доставка",text:"Дальнейшая инструкция отправлена вам в бот!",type:"success"}),this.tab=1,this.$store.dispatch("clearCart"),t.url&&(window.location.href=t.url),this.sending=!1}).catch(t=>{this.sending=!1,this.$notify({title:"Доставка",text:"Ошибка! Обратитесь к администратору",type:"error"})}),startTimer(10)}}},_sfc_main$1T=Object.assign(__default__$18,{__name:"ShopCart",setup(o){return(t,a)=>{const i=resolveDirective("touch");return openBlock(),createElementBlock(Fragment,null,[t.cartTotalCount>0?(openBlock(),createElementBlock("div",_hoisted_1$1T,[t.tab===0?(openBlock(),createBlock(_sfc_main$25,{key:0,onSelectPrize:t.selectPrize,onChangeTab:t.changeTab,"form-data":t.deliveryForm},{"upper-text":withCtx(()=>[_hoisted_2$1R,_hoisted_3$1Q]),"recommendation-list":withCtx(()=>[createVNode(ProductRecommendationList)]),_:1},8,["onSelectPrize","onChangeTab","form-data"])):createCommentVNode("",!0),t.tab===1?withDirectives((openBlock(),createElementBlock("div",_hoisted_4$1K,[t.settings.shop_display_type===0?(openBlock(),createBlock(_sfc_main$1_,{key:0,onStartCheckout:t.startCheckout,onChangeTab:t.changeTab,modelValue:t.deliveryForm,"onUpdate:modelValue":a[0]||(a[0]=s=>t.deliveryForm=s)},null,8,["onStartCheckout","onChangeTab","modelValue"])):(openBlock(),createBlock(_sfc_main$1W,{key:1,onStartCheckout:t.startCheckout,onChangeTab:t.changeTab,modelValue:t.deliveryForm,"onUpdate:modelValue":a[1]||(a[1]=s=>t.deliveryForm=s)},null,8,["onStartCheckout","onChangeTab","modelValue"]))])),[[i,t.doSwipeLeft,"swipe",{left:!0}],[i,t.doSwipeRight,"swipe",{right:!0}]]):createCommentVNode("",!0),t.tab===3?(openBlock(),createBlock(ScreenPaymentForm,{key:2,onStartCheckout:t.startCheckout,modelValue:t.deliveryForm,"onUpdate:modelValue":a[2]||(a[2]=s=>t.deliveryForm=s)},null,8,["onStartCheckout","modelValue"])):createCommentVNode("",!0)])):withDirectives((openBlock(),createElementBlock("div",_hoisted_5$1J,_hoisted_7$1B)),[[i,t.doSwipeLeft,"swipe",{left:!0}],[i,t.doSwipeRight,"swipe",{right:!0}]]),unref(canBy)?(openBlock(),createElementBlock("nav",_hoisted_8$1x,[t.cartTotalCount>0?(openBlock(),createElementBlock("div",_hoisted_9$1t,[t.tab===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[3]||(a[3]=s=>t.tab=1),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Оформление заказа ")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_10$1m,[createBaseVNode("button",{type:"button",onClick:a[4]||(a[4]=(...s)=>t.goToCatalog&&t.goToCatalog(...s)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Вернуться в магазин ")]))])):(openBlock(),createElementBlock("nav",_hoisted_11$1j,_hoisted_13$1d))],64)}}}),ShopCart=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1T},Symbol.toStringTag,{value:"Module"})),_sfc_main$1S={data(){return{sending:!1,callbackForm:{name:null,phone:null,message:null,images:[]}}},watch:{getSelf:{handler:function(o){this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null},deep:!0}},computed:{...mapGetters(["getSelf"]),self(){return this.getSelf}},mounted(){this.self&&(this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null)},methods:{onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)t[a].size<=10485760&&this.callbackForm.images.push(t[a])},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.callbackForm.images.splice(o,1)},submitCallback(){let o=new FormData;this.sending=!0,Object.keys(this.callbackForm).forEach(t=>{const a=this.callbackForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.callbackForm.images.length>0&&(this.callbackForm.images.forEach(t=>{o.append("photos[]",t)}),o.delete("images")),this.$store.dispatch("feedBackForm",{callbackForm:o}).then(t=>{this.callbackForm={message:null,name:null,phone:null,images:[]},this.$notify({title:"Обратная связь",text:"Спасибо за сообщение"}),this.sending=!1}).catch(t=>{this.sending=!1})}}},_hoisted_1$1S={key:0,class:"container py-3"},_hoisted_2$1Q=createBaseVNode("h3",null,"Обратная связь",-1),_hoisted_3$1P=createBaseVNode("p",{class:"alert alert-light"},[createTextVNode(" Уважаемый клиент, ваш отзыв будет опубликован в нашем канале "),createBaseVNode("strong",{class:"fw-bold text-primary"},"анонимно"),createTextVNode(", ваши данные увидит только администрация проекта, заранее благодарим за обратную связь! ")],-1),_hoisted_4$1J={class:"form-floating mb-2"},_hoisted_5$1I=createBaseVNode("label",{for:"callbackForm-name"},[createTextVNode("Ваше имя "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_6$1H={class:"form-floating mb-2"},_hoisted_7$1A=createBaseVNode("label",{for:"callbackForm-phone"},[createTextVNode("Номер телефона "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_8$1w={class:"form-floating"},_hoisted_9$1s=createBaseVNode("label",{for:"callbackForm-message",required:""},[createTextVNode("Текст сообщения "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_10$1l=createBaseVNode("h6",{class:"my-3 text-center fw-bold"},[createTextVNode("Прикрепить фотографию (до 10МБ) "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_11$1i={class:"photo-preview d-flex justify-content-center flex-wrap w-100 my-3"},_hoisted_12$1h={for:"menu-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_13$1c=createBaseVNode("span",{class:"text-primary fw-bold"},"+",-1),_hoisted_14$19={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_15$19={class:"remove"},_hoisted_16$18=["onClick"],_hoisted_17$12={key:0,class:"alert alert-light mb-2"},_hoisted_18$$=["disabled"];function _sfc_render$J(o,t,a,i,s,r){const n=resolveDirective("mask"),l=resolveDirective("lazy");return r.self?(openBlock(),createElementBlock("div",_hoisted_1$1S,[_hoisted_2$1Q,_hoisted_3$1P,createBaseVNode("form",{onSubmit:t[4]||(t[4]=withModifiers((...c)=>r.submitCallback&&r.submitCallback(...c),["prevent"]))},[createBaseVNode("div",_hoisted_4$1J,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=c=>s.callbackForm.name=c),class:"form-control",id:"callbackForm-name",placeholder:"name@example.com",required:""},null,512),[[vModelText,s.callbackForm.name]]),_hoisted_5$1I]),createBaseVNode("div",_hoisted_6$1H,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=c=>s.callbackForm.phone=c),class:"form-control",id:"callbackForm-phone",placeholder:"name@example.com",required:""},null,512),[[n,"+7(###)###-##-##"],[vModelText,s.callbackForm.phone]]),_hoisted_7$1A]),createBaseVNode("div",_hoisted_8$1w,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%"},"onUpdate:modelValue":t[2]||(t[2]=c=>s.callbackForm.message=c),placeholder:"Leave a comment here",id:"callbackForm-message"},null,512),[[vModelText,s.callbackForm.message]]),_hoisted_9$1s]),_hoisted_10$1l,createBaseVNode("div",_hoisted_11$1i,[createBaseVNode("label",_hoisted_12$1h,[_hoisted_13$1c,createBaseVNode("input",{type:"file",id:"menu-photos",accept:"image/*",required:"",onChange:t[3]||(t[3]=(...c)=>r.onChangePhotos&&r.onChangePhotos(...c)),style:{display:"none"}},null,32)]),(s.callbackForm.images||[]).length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.callbackForm.images,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_14$19,[withDirectives(createBaseVNode("img",null,null,512),[[l,r.getPhoto(c).imageUrl]]),createBaseVNode("div",_hoisted_15$19,[createBaseVNode("a",{onClick:p=>r.removePhoto(m)},"Удалить",8,_hoisted_16$18)])]))),256)):createCommentVNode("",!0)]),s.callbackForm.image?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_17$12," Вам необходимо прикрепить изображение перед отправкой! ")),createBaseVNode("button",{type:"submit",disabled:s.sending&&(s.callbackForm.images||[]).length===0,class:"btn btn-primary mt-2 p-3 w-100"}," Отправить сообщение ",8,_hoisted_18$$)],32)])):createCommentVNode("",!0)}const FeedBackV2=_export_sfc(_sfc_main$1S,[["render",_sfc_render$J]]),FeedBack=Object.freeze(Object.defineProperty({__proto__:null,default:FeedBackV2},Symbol.toStringTag,{value:"Module"})),MainMenuItem_vue_vue_type_style_index_0_lang="",_sfc_main$1R={props:["item","defaultImage","defaultText","route","disabled"],methods:{goTo(o){this.$router.push({name:o})}}},_hoisted_1$1R=["disabled"],_hoisted_2$1P={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_3$1O={class:"img-fluid menu-item-img",alt:""},_hoisted_4$1I={class:"my-2"},_hoisted_5$1H={key:0,style:{"font-size":"12px"}},_hoisted_6$1G=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1);function _sfc_render$I(o,t,a,i,s,r){var l,c,m;const n=resolveDirective("lazy");return(l=a.item)!=null&&l.is_visible,openBlock(),createElementBlock("button",{key:0,type:"button",onClick:t[0]||(t[0]=p=>r.goTo(a.route)),style:{"min-height":"250px"},disabled:a.disabled||!1,class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_2$1P,[withDirectives(createBaseVNode("img",_hoisted_3$1O,null,512),[[n,"/images/shop-v2-2/"+(((c=a.item)==null?void 0:c.image_url)||a.defaultImage)]]),createBaseVNode("p",_hoisted_4$1I,[createTextVNode(toDisplayString(((m=a.item)==null?void 0:m.title)||a.defaultText)+" ",1),renderSlot(o.$slots,"post-text")]),a.disabled?(openBlock(),createElementBlock("span",_hoisted_5$1H,[_hoisted_6$1G,createTextVNode(" закрыто")])):createCommentVNode("",!0)])],8,_hoisted_1$1R)}const MainMenuItem=_export_sfc(_sfc_main$1R,[["render",_sfc_render$I]]);var pe={value:()=>{}};function Fn(){for(var o=0,t=arguments.length,a={},i;o<t;++o){if(!(i=arguments[o]+"")||i in a||/[\s.]/.test(i))throw new Error("illegal type: "+i);a[i]=[]}return new Nt(a)}function Nt(o){this._=o}function ge(o,t){return o.trim().split(/^|\s+/).map(function(a){var i="",s=a.indexOf(".");if(s>=0&&(i=a.slice(s+1),a=a.slice(0,s)),a&&!t.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:i}})}Nt.prototype=Fn.prototype={constructor:Nt,on:function(o,t){var a=this._,i=ge(o+"",a),s,r=-1,n=i.length;if(arguments.length<2){for(;++r<n;)if((s=(o=i[r]).type)&&(s=ye(a[s],o.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<n;)if(s=(o=i[r]).type)a[s]=yn(a[s],o.name,t);else if(t==null)for(s in a)a[s]=yn(a[s],o.name,null);return this},copy:function(){var o={},t=this._;for(var a in t)o[a]=t[a].slice();return new Nt(o)},call:function(o,t){if((s=arguments.length-2)>0)for(var a=new Array(s),i=0,s,r;i<s;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(r=this._[o],i=0,s=r.length;i<s;++i)r[i].value.apply(t,a)},apply:function(o,t,a){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var i=this._[o],s=0,r=i.length;s<r;++s)i[s].value.apply(t,a)}};function ye(o,t){for(var a=0,i=o.length,s;a<i;++a)if((s=o[a]).name===t)return s.value}function yn(o,t,a){for(var i=0,s=o.length;i<s;++i)if(o[i].name===t){o[i]=pe,o=o.slice(0,i).concat(o.slice(i+1));break}return a!=null&&o.push({name:t,value:a}),o}var Gt="http://www.w3.org/1999/xhtml";const _n={svg:"http://www.w3.org/2000/svg",xhtml:Gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dt(o){var t=o+="",a=t.indexOf(":");return a>=0&&(t=o.slice(0,a))!=="xmlns"&&(o=o.slice(a+1)),_n.hasOwnProperty(t)?{space:_n[t],local:o}:o}function _e(o){return function(){var t=this.ownerDocument,a=this.namespaceURI;return a===Gt&&t.documentElement.namespaceURI===Gt?t.createElement(o):t.createElementNS(a,o)}}function ve(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}function Pn(o){var t=Dt(o);return(t.local?ve:_e)(t)}function me(){}function an(o){return o==null?me:function(){return this.querySelector(o)}}function xe(o){typeof o!="function"&&(o=an(o));for(var t=this._groups,a=t.length,i=new Array(a),s=0;s<a;++s)for(var r=t[s],n=r.length,l=i[s]=new Array(n),c,m,p=0;p<n;++p)(c=r[p])&&(m=o.call(c,c.__data__,p,r))&&("__data__"in c&&(m.__data__=c.__data__),l[p]=m);return new P(i,this._parents)}function we(o){return o==null?[]:Array.isArray(o)?o:Array.from(o)}function Ae(){return[]}function On(o){return o==null?Ae:function(){return this.querySelectorAll(o)}}function be(o){return function(){return we(o.apply(this,arguments))}}function $e(o){typeof o=="function"?o=be(o):o=On(o);for(var t=this._groups,a=t.length,i=[],s=[],r=0;r<a;++r)for(var n=t[r],l=n.length,c,m=0;m<l;++m)(c=n[m])&&(i.push(o.call(c,c.__data__,m,n)),s.push(c));return new P(i,s)}function Vn(o){return function(){return this.matches(o)}}function Dn(o){return function(t){return t.matches(o)}}var Ne=Array.prototype.find;function Me(o){return function(){return Ne.call(this.children,o)}}function ke(){return this.firstElementChild}function Se(o){return this.select(o==null?ke:Me(typeof o=="function"?o:Dn(o)))}var Ee=Array.prototype.filter;function Te(){return Array.from(this.children)}function Ce(o){return function(){return Ee.call(this.children,o)}}function Re(o){return this.selectAll(o==null?Te:Ce(typeof o=="function"?o:Dn(o)))}function Ie(o){typeof o!="function"&&(o=Vn(o));for(var t=this._groups,a=t.length,i=new Array(a),s=0;s<a;++s)for(var r=t[s],n=r.length,l=i[s]=[],c,m=0;m<n;++m)(c=r[m])&&o.call(c,c.__data__,m,r)&&l.push(c);return new P(i,this._parents)}function qn(o){return new Array(o.length)}function Fe(){return new P(this._enter||this._groups.map(qn),this._parents)}function Et(o,t){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=t}Et.prototype={constructor:Et,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,t){return this._parent.insertBefore(o,t)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};function Pe(o){return function(){return o}}function Oe(o,t,a,i,s,r){for(var n=0,l,c=t.length,m=r.length;n<m;++n)(l=t[n])?(l.__data__=r[n],i[n]=l):a[n]=new Et(o,r[n]);for(;n<c;++n)(l=t[n])&&(s[n]=l)}function Ve(o,t,a,i,s,r,n){var l,c,m=new Map,p=t.length,y=r.length,b=new Array(p),k;for(l=0;l<p;++l)(c=t[l])&&(b[l]=k=n.call(c,c.__data__,l,t)+"",m.has(k)?s[l]=c:m.set(k,c));for(l=0;l<y;++l)k=n.call(o,r[l],l,r)+"",(c=m.get(k))?(i[l]=c,c.__data__=r[l],m.delete(k)):a[l]=new Et(o,r[l]);for(l=0;l<p;++l)(c=t[l])&&m.get(b[l])===c&&(s[l]=c)}function De(o){return o.__data__}function qe(o,t){if(!arguments.length)return Array.from(this,De);var a=t?Ve:Oe,i=this._parents,s=this._groups;typeof o!="function"&&(o=Pe(o));for(var r=s.length,n=new Array(r),l=new Array(r),c=new Array(r),m=0;m<r;++m){var p=i[m],y=s[m],b=y.length,k=Le(o.call(p,p&&p.__data__,m,i)),V=k.length,F=l[m]=new Array(V),x=n[m]=new Array(V),J=c[m]=new Array(b);a(p,y,F,x,J,k,t);for(var H=0,he=0,se,ue;H<V;++H)if(se=F[H]){for(H>=he&&(he=H+1);!(ue=x[he])&&++he<V;);se._next=ue||null}}return n=new P(n,i),n._enter=l,n._exit=c,n}function Le(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function He(){return new P(this._exit||this._groups.map(qn),this._parents)}function Xe(o,t,a){var i=this.enter(),s=this,r=this.exit();return typeof o=="function"?(i=o(i),i&&(i=i.selection())):i=i.append(o+""),t!=null&&(s=t(s),s&&(s=s.selection())),a==null?r.remove():a(r),i&&s?i.merge(s).order():s}function ze(o){for(var t=o.selection?o.selection():o,a=this._groups,i=t._groups,s=a.length,r=i.length,n=Math.min(s,r),l=new Array(s),c=0;c<n;++c)for(var m=a[c],p=i[c],y=m.length,b=l[c]=new Array(y),k,V=0;V<y;++V)(k=m[V]||p[V])&&(b[V]=k);for(;c<s;++c)l[c]=a[c];return new P(l,this._parents)}function Be(){for(var o=this._groups,t=-1,a=o.length;++t<a;)for(var i=o[t],s=i.length-1,r=i[s],n;--s>=0;)(n=i[s])&&(r&&n.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(n,r),r=n);return this}function Ye(o){o||(o=We);function t(y,b){return y&&b?o(y.__data__,b.__data__):!y-!b}for(var a=this._groups,i=a.length,s=new Array(i),r=0;r<i;++r){for(var n=a[r],l=n.length,c=s[r]=new Array(l),m,p=0;p<l;++p)(m=n[p])&&(c[p]=m);c.sort(t)}return new P(s,this._parents).order()}function We(o,t){return o<t?-1:o>t?1:o>=t?0:NaN}function Ue(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this}function Ge(){return Array.from(this)}function Ke(){for(var o=this._groups,t=0,a=o.length;t<a;++t)for(var i=o[t],s=0,r=i.length;s<r;++s){var n=i[s];if(n)return n}return null}function Ze(){let o=0;for(const t of this)++o;return o}function Qe(){return!this.node()}function Je(o){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],r=0,n=s.length,l;r<n;++r)(l=s[r])&&o.call(l,l.__data__,r,s);return this}function je(o){return function(){this.removeAttribute(o)}}function tr(o){return function(){this.removeAttributeNS(o.space,o.local)}}function nr(o,t){return function(){this.setAttribute(o,t)}}function er(o,t){return function(){this.setAttributeNS(o.space,o.local,t)}}function rr(o,t){return function(){var a=t.apply(this,arguments);a==null?this.removeAttribute(o):this.setAttribute(o,a)}}function ir(o,t){return function(){var a=t.apply(this,arguments);a==null?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,a)}}function ar(o,t){var a=Dt(o);if(arguments.length<2){var i=this.node();return a.local?i.getAttributeNS(a.space,a.local):i.getAttribute(a)}return this.each((t==null?a.local?tr:je:typeof t=="function"?a.local?ir:rr:a.local?er:nr)(a,t))}function Ln(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function or(o){return function(){this.style.removeProperty(o)}}function sr(o,t,a){return function(){this.style.setProperty(o,t,a)}}function ur(o,t,a){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(o):this.style.setProperty(o,i,a)}}function lr(o,t,a){return arguments.length>1?this.each((t==null?or:typeof t=="function"?ur:sr)(o,t,a??"")):lt(this.node(),o)}function lt(o,t){return o.style.getPropertyValue(t)||Ln(o).getComputedStyle(o,null).getPropertyValue(t)}function fr(o){return function(){delete this[o]}}function cr(o,t){return function(){this[o]=t}}function hr(o,t){return function(){var a=t.apply(this,arguments);a==null?delete this[o]:this[o]=a}}function dr(o,t){return arguments.length>1?this.each((t==null?fr:typeof t=="function"?hr:cr)(o,t)):this.node()[o]}function Hn(o){return o.trim().split(/^|\s+/)}function on(o){return o.classList||new Xn(o)}function Xn(o){this._node=o,this._names=Hn(o.getAttribute("class")||"")}Xn.prototype={add:function(o){var t=this._names.indexOf(o);t<0&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var t=this._names.indexOf(o);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};function zn(o,t){for(var a=on(o),i=-1,s=t.length;++i<s;)a.add(t[i])}function Bn(o,t){for(var a=on(o),i=-1,s=t.length;++i<s;)a.remove(t[i])}function pr(o){return function(){zn(this,o)}}function gr(o){return function(){Bn(this,o)}}function yr(o,t){return function(){(t.apply(this,arguments)?zn:Bn)(this,o)}}function _r(o,t){var a=Hn(o+"");if(arguments.length<2){for(var i=on(this.node()),s=-1,r=a.length;++s<r;)if(!i.contains(a[s]))return!1;return!0}return this.each((typeof t=="function"?yr:t?pr:gr)(a,t))}function vr(){this.textContent=""}function mr(o){return function(){this.textContent=o}}function xr(o){return function(){var t=o.apply(this,arguments);this.textContent=t??""}}function wr(o){return arguments.length?this.each(o==null?vr:(typeof o=="function"?xr:mr)(o)):this.node().textContent}function Ar(){this.innerHTML=""}function br(o){return function(){this.innerHTML=o}}function $r(o){return function(){var t=o.apply(this,arguments);this.innerHTML=t??""}}function Nr(o){return arguments.length?this.each(o==null?Ar:(typeof o=="function"?$r:br)(o)):this.node().innerHTML}function Mr(){this.nextSibling&&this.parentNode.appendChild(this)}function kr(){return this.each(Mr)}function Sr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Er(){return this.each(Sr)}function Tr(o){var t=typeof o=="function"?o:Pn(o);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Cr(){return null}function Rr(o,t){var a=typeof o=="function"?o:Pn(o),i=t==null?Cr:typeof t=="function"?t:an(t);return this.select(function(){return this.insertBefore(a.apply(this,arguments),i.apply(this,arguments)||null)})}function Ir(){var o=this.parentNode;o&&o.removeChild(this)}function Fr(){return this.each(Ir)}function Pr(){var o=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(o,this.nextSibling):o}function Or(){var o=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(o,this.nextSibling):o}function Vr(o){return this.select(o?Or:Pr)}function Dr(o){return arguments.length?this.property("__data__",o):this.node().__data__}function qr(o){return function(t){o.call(this,t,this.__data__)}}function Lr(o){return o.trim().split(/^|\s+/).map(function(t){var a="",i=t.indexOf(".");return i>=0&&(a=t.slice(i+1),t=t.slice(0,i)),{type:t,name:a}})}function Hr(o){return function(){var t=this.__on;if(t){for(var a=0,i=-1,s=t.length,r;a<s;++a)r=t[a],(!o.type||r.type===o.type)&&r.name===o.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function Xr(o,t,a){return function(){var i=this.__on,s,r=qr(t);if(i){for(var n=0,l=i.length;n<l;++n)if((s=i[n]).type===o.type&&s.name===o.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=a),s.value=t;return}}this.addEventListener(o.type,r,a),s={type:o.type,name:o.name,value:t,listener:r,options:a},i?i.push(s):this.__on=[s]}}function zr(o,t,a){var i=Lr(o+""),s,r=i.length,n;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,m=l.length,p;c<m;++c)for(s=0,p=l[c];s<r;++s)if((n=i[s]).type===p.type&&n.name===p.name)return p.value}return}for(l=t?Xr:Hr,s=0;s<r;++s)this.each(l(i[s],t,a));return this}function Yn(o,t,a){var i=Ln(o),s=i.CustomEvent;typeof s=="function"?s=new s(t,a):(s=i.document.createEvent("Event"),a?(s.initEvent(t,a.bubbles,a.cancelable),s.detail=a.detail):s.initEvent(t,!1,!1)),o.dispatchEvent(s)}function Br(o,t){return function(){return Yn(this,o,t)}}function Yr(o,t){return function(){return Yn(this,o,t.apply(this,arguments))}}function Wr(o,t){return this.each((typeof t=="function"?Yr:Br)(o,t))}function*Ur(){for(var o=this._groups,t=0,a=o.length;t<a;++t)for(var i=o[t],s=0,r=i.length,n;s<r;++s)(n=i[s])&&(yield n)}var Wn=[null];function P(o,t){this._groups=o,this._parents=t}function mt(){return new P([[document.documentElement]],Wn)}function Gr(){return this}P.prototype=mt.prototype={constructor:P,select:xe,selectAll:$e,selectChild:Se,selectChildren:Re,filter:Ie,data:qe,enter:Fe,exit:He,join:Xe,merge:ze,selection:Gr,order:Be,sort:Ye,call:Ue,nodes:Ge,node:Ke,size:Ze,empty:Qe,each:Je,attr:ar,style:lr,property:dr,classed:_r,text:wr,html:Nr,raise:kr,lower:Er,append:Tr,insert:Rr,remove:Fr,clone:Vr,datum:Dr,on:zr,dispatch:Wr,[Symbol.iterator]:Ur};function vn(o){return typeof o=="string"?new P([[document.querySelector(o)]],[document.documentElement]):new P([[o]],Wn)}function sn(o,t,a){o.prototype=t.prototype=a,a.constructor=o}function Un(o,t){var a=Object.create(o.prototype);for(var i in t)a[i]=t[i];return a}function xt(){}var gt=.7,Tt=1/gt,ut="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",W="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kr=/^#([0-9a-f]{3,8})$/,Zr=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),Qr=new RegExp(`^rgb\\(${W},${W},${W}\\)$`),Jr=new RegExp(`^rgba\\(${ut},${ut},${ut},${yt}\\)$`),jr=new RegExp(`^rgba\\(${W},${W},${W},${yt}\\)$`),ti=new RegExp(`^hsl\\(${yt},${W},${W}\\)$`),ni=new RegExp(`^hsla\\(${yt},${W},${W},${yt}\\)$`),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sn(xt,rt,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:xn,formatHex:xn,formatHex8:ei,formatHsl:ri,formatRgb:wn,toString:wn});function xn(){return this.rgb().formatHex()}function ei(){return this.rgb().formatHex8()}function ri(){return Gn(this).formatHsl()}function wn(){return this.rgb().formatRgb()}function rt(o){var t,a;return o=(o+"").trim().toLowerCase(),(t=Kr.exec(o))?(a=t[1].length,t=parseInt(t[1],16),a===6?An(t):a===3?new R(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?wt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?wt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zr.exec(o))?new R(t[1],t[2],t[3],1):(t=Qr.exec(o))?new R(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jr.exec(o))?wt(t[1],t[2],t[3],t[4]):(t=jr.exec(o))?wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ti.exec(o))?Nn(t[1],t[2]/100,t[3]/100,1):(t=ni.exec(o))?Nn(t[1],t[2]/100,t[3]/100,t[4]):mn.hasOwnProperty(o)?An(mn[o]):o==="transparent"?new R(NaN,NaN,NaN,0):null}function An(o){return new R(o>>16&255,o>>8&255,o&255,1)}function wt(o,t,a,i){return i<=0&&(o=t=a=NaN),new R(o,t,a,i)}function ii(o){return o instanceof xt||(o=rt(o)),o?(o=o.rgb(),new R(o.r,o.g,o.b,o.opacity)):new R}function Kt(o,t,a,i){return arguments.length===1?ii(o):new R(o,t,a,i??1)}function R(o,t,a,i){this.r=+o,this.g=+t,this.b=+a,this.opacity=+i}sn(R,Kt,Un(xt,{brighter(o){return o=o==null?Tt:Math.pow(Tt,o),new R(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?gt:Math.pow(gt,o),new R(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new R(et(this.r),et(this.g),et(this.b),Ct(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bn,formatHex:bn,formatHex8:ai,formatRgb:$n,toString:$n}));function bn(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}`}function ai(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}${nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function $n(){const o=Ct(this.opacity);return`${o===1?"rgb(":"rgba("}${et(this.r)}, ${et(this.g)}, ${et(this.b)}${o===1?")":`, ${o})`}`}function Ct(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function et(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function nt(o){return o=et(o),(o<16?"0":"")+o.toString(16)}function Nn(o,t,a,i){return i<=0?o=t=a=NaN:a<=0||a>=1?o=t=NaN:t<=0&&(o=NaN),new q(o,t,a,i)}function Gn(o){if(o instanceof q)return new q(o.h,o.s,o.l,o.opacity);if(o instanceof xt||(o=rt(o)),!o)return new q;if(o instanceof q)return o;o=o.rgb();var t=o.r/255,a=o.g/255,i=o.b/255,s=Math.min(t,a,i),r=Math.max(t,a,i),n=NaN,l=r-s,c=(r+s)/2;return l?(t===r?n=(a-i)/l+(a<i)*6:a===r?n=(i-t)/l+2:n=(t-a)/l+4,l/=c<.5?r+s:2-r-s,n*=60):l=c>0&&c<1?0:n,new q(n,l,c,o.opacity)}function oi(o,t,a,i){return arguments.length===1?Gn(o):new q(o,t,a,i??1)}function q(o,t,a,i){this.h=+o,this.s=+t,this.l=+a,this.opacity=+i}sn(q,oi,Un(xt,{brighter(o){return o=o==null?Tt:Math.pow(Tt,o),new q(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?gt:Math.pow(gt,o),new q(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,t=isNaN(o)||isNaN(this.s)?0:this.s,a=this.l,i=a+(a<.5?a:1-a)*t,s=2*a-i;return new R(Yt(o>=240?o-240:o+120,s,i),Yt(o,s,i),Yt(o<120?o+240:o-120,s,i),this.opacity)},clamp(){return new q(Mn(this.h),At(this.s),At(this.l),Ct(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=Ct(this.opacity);return`${o===1?"hsl(":"hsla("}${Mn(this.h)}, ${At(this.s)*100}%, ${At(this.l)*100}%${o===1?")":`, ${o})`}`}}));function Mn(o){return o=(o||0)%360,o<0?o+360:o}function At(o){return Math.max(0,Math.min(1,o||0))}function Yt(o,t,a){return(o<60?t+(a-t)*o/60:o<180?a:o<240?t+(a-t)*(240-o)/60:t)*255}const un=o=>()=>o;function si(o,t){return function(a){return o+a*t}}function ui(o,t,a){return o=Math.pow(o,a),t=Math.pow(t,a)-o,a=1/a,function(i){return Math.pow(o+i*t,a)}}function li(o){return(o=+o)==1?Kn:function(t,a){return a-t?ui(t,a,o):un(isNaN(t)?a:t)}}function Kn(o,t){var a=t-o;return a?si(o,a):un(isNaN(o)?t:o)}const Rt=function o(t){var a=li(t);function i(s,r){var n=a((s=Kt(s)).r,(r=Kt(r)).r),l=a(s.g,r.g),c=a(s.b,r.b),m=Kn(s.opacity,r.opacity);return function(p){return s.r=n(p),s.g=l(p),s.b=c(p),s.opacity=m(p),s+""}}return i.gamma=o,i}(1);function fi(o,t){t||(t=[]);var a=o?Math.min(t.length,o.length):0,i=t.slice(),s;return function(r){for(s=0;s<a;++s)i[s]=o[s]*(1-r)+t[s]*r;return i}}function ci(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function hi(o,t){var a=t?t.length:0,i=o?Math.min(a,o.length):0,s=new Array(i),r=new Array(a),n;for(n=0;n<i;++n)s[n]=It(o[n],t[n]);for(;n<a;++n)r[n]=t[n];return function(l){for(n=0;n<i;++n)r[n]=s[n](l);return r}}function di(o,t){var a=new Date;return o=+o,t=+t,function(i){return a.setTime(o*(1-i)+t*i),a}}function Y(o,t){return o=+o,t=+t,function(a){return o*(1-a)+t*a}}function pi(o,t){var a={},i={},s;(o===null||typeof o!="object")&&(o={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in o?a[s]=It(o[s],t[s]):i[s]=t[s];return function(r){for(s in a)i[s]=a[s](r);return i}}var Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wt=new RegExp(Zt.source,"g");function gi(o){return function(){return o}}function yi(o){return function(t){return o(t)+""}}function Zn(o,t){var a=Zt.lastIndex=Wt.lastIndex=0,i,s,r,n=-1,l=[],c=[];for(o=o+"",t=t+"";(i=Zt.exec(o))&&(s=Wt.exec(t));)(r=s.index)>a&&(r=t.slice(a,r),l[n]?l[n]+=r:l[++n]=r),(i=i[0])===(s=s[0])?l[n]?l[n]+=s:l[++n]=s:(l[++n]=null,c.push({i:n,x:Y(i,s)})),a=Wt.lastIndex;return a<t.length&&(r=t.slice(a),l[n]?l[n]+=r:l[++n]=r),l.length<2?c[0]?yi(c[0].x):gi(t):(t=c.length,function(m){for(var p=0,y;p<t;++p)l[(y=c[p]).i]=y.x(m);return l.join("")})}function It(o,t){var a=typeof t,i;return t==null||a==="boolean"?un(t):(a==="number"?Y:a==="string"?(i=rt(t))?(t=i,Rt):Zn:t instanceof rt?Rt:t instanceof Date?di:ci(t)?fi:Array.isArray(t)?hi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pi:Y)(o,t)}var kn=180/Math.PI,Qt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qn(o,t,a,i,s,r){var n,l,c;return(n=Math.sqrt(o*o+t*t))&&(o/=n,t/=n),(c=o*a+t*i)&&(a-=o*c,i-=t*c),(l=Math.sqrt(a*a+i*i))&&(a/=l,i/=l,c/=l),o*i<t*a&&(o=-o,t=-t,c=-c,n=-n),{translateX:s,translateY:r,rotate:Math.atan2(t,o)*kn,skewX:Math.atan(c)*kn,scaleX:n,scaleY:l}}var bt;function _i(o){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(o+"");return t.isIdentity?Qt:Qn(t.a,t.b,t.c,t.d,t.e,t.f)}function vi(o){return o==null||(bt||(bt=document.createElementNS("http://www.w3.org/2000/svg","g")),bt.setAttribute("transform",o),!(o=bt.transform.baseVal.consolidate()))?Qt:(o=o.matrix,Qn(o.a,o.b,o.c,o.d,o.e,o.f))}function Jn(o,t,a,i){function s(m){return m.length?m.pop()+" ":""}function r(m,p,y,b,k,V){if(m!==y||p!==b){var F=k.push("translate(",null,t,null,a);V.push({i:F-4,x:Y(m,y)},{i:F-2,x:Y(p,b)})}else(y||b)&&k.push("translate("+y+t+b+a)}function n(m,p,y,b){m!==p?(m-p>180?p+=360:p-m>180&&(m+=360),b.push({i:y.push(s(y)+"rotate(",null,i)-2,x:Y(m,p)})):p&&y.push(s(y)+"rotate("+p+i)}function l(m,p,y,b){m!==p?b.push({i:y.push(s(y)+"skewX(",null,i)-2,x:Y(m,p)}):p&&y.push(s(y)+"skewX("+p+i)}function c(m,p,y,b,k,V){if(m!==y||p!==b){var F=k.push(s(k)+"scale(",null,",",null,")");V.push({i:F-4,x:Y(m,y)},{i:F-2,x:Y(p,b)})}else(y!==1||b!==1)&&k.push(s(k)+"scale("+y+","+b+")")}return function(m,p){var y=[],b=[];return m=o(m),p=o(p),r(m.translateX,m.translateY,p.translateX,p.translateY,y,b),n(m.rotate,p.rotate,y,b),l(m.skewX,p.skewX,y,b),c(m.scaleX,m.scaleY,p.scaleX,p.scaleY,y,b),m=p=null,function(k){for(var V=-1,F=b.length,x;++V<F;)y[(x=b[V]).i]=x.x(k);return y.join("")}}}var mi=Jn(_i,"px, ","px)","deg)"),xi=Jn(vi,", ",")",")"),ft=0,dt=0,ht=0,jn=1e3,Ft,pt,Pt=0,it=0,qt=0,_t=typeof performance=="object"&&performance.now?performance:Date,te=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function ln(){return it||(te(wi),it=_t.now()+qt)}function wi(){it=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=ne.prototype={constructor:Ot,restart:function(o,t,a){if(typeof o!="function")throw new TypeError("callback is not a function");a=(a==null?ln():+a)+(t==null?0:+t),!this._next&&pt!==this&&(pt?pt._next=this:Ft=this,pt=this),this._call=o,this._time=a,Jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jt())}};function ne(o,t,a){var i=new Ot;return i.restart(o,t,a),i}function Ai(){ln(),++ft;for(var o=Ft,t;o;)(t=it-o._time)>=0&&o._call.call(void 0,t),o=o._next;--ft}function Sn(){it=(Pt=_t.now())+qt,ft=dt=0;try{Ai()}finally{ft=0,$i(),it=0}}function bi(){var o=_t.now(),t=o-Pt;t>jn&&(qt-=t,Pt=o)}function $i(){for(var o,t=Ft,a,i=1/0;t;)t._call?(i>t._time&&(i=t._time),o=t,t=t._next):(a=t._next,t._next=null,t=o?o._next=a:Ft=a);pt=o,Jt(i)}function Jt(o){if(!ft){dt&&(dt=clearTimeout(dt));var t=o-it;t>24?(o<1/0&&(dt=setTimeout(Sn,o-_t.now()-qt)),ht&&(ht=clearInterval(ht))):(ht||(Pt=_t.now(),ht=setInterval(bi,jn)),ft=1,te(Sn))}}function En(o,t,a){var i=new Ot;return t=t==null?0:+t,i.restart(s=>{i.stop(),o(s+t)},t,a),i}var Ni=Fn("start","end","cancel","interrupt"),Mi=[],ee=0,Tn=1,jt=2,Mt=3,Cn=4,tn=5,kt=6;function Lt(o,t,a,i,s,r){var n=o.__transition;if(!n)o.__transition={};else if(a in n)return;ki(o,a,{name:t,index:i,group:s,on:Ni,tween:Mi,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:ee})}function fn(o,t){var a=L(o,t);if(a.state>ee)throw new Error("too late; already scheduled");return a}function U(o,t){var a=L(o,t);if(a.state>Mt)throw new Error("too late; already running");return a}function L(o,t){var a=o.__transition;if(!a||!(a=a[t]))throw new Error("transition not found");return a}function ki(o,t,a){var i=o.__transition,s;i[t]=a,a.timer=ne(r,0,a.time);function r(m){a.state=Tn,a.timer.restart(n,a.delay,a.time),a.delay<=m&&n(m-a.delay)}function n(m){var p,y,b,k;if(a.state!==Tn)return c();for(p in i)if(k=i[p],k.name===a.name){if(k.state===Mt)return En(n);k.state===Cn?(k.state=kt,k.timer.stop(),k.on.call("interrupt",o,o.__data__,k.index,k.group),delete i[p]):+p<t&&(k.state=kt,k.timer.stop(),k.on.call("cancel",o,o.__data__,k.index,k.group),delete i[p])}if(En(function(){a.state===Mt&&(a.state=Cn,a.timer.restart(l,a.delay,a.time),l(m))}),a.state=jt,a.on.call("start",o,o.__data__,a.index,a.group),a.state===jt){for(a.state=Mt,s=new Array(b=a.tween.length),p=0,y=-1;p<b;++p)(k=a.tween[p].value.call(o,o.__data__,a.index,a.group))&&(s[++y]=k);s.length=y+1}}function l(m){for(var p=m<a.duration?a.ease.call(null,m/a.duration):(a.timer.restart(c),a.state=tn,1),y=-1,b=s.length;++y<b;)s[y].call(o,p);a.state===tn&&(a.on.call("end",o,o.__data__,a.index,a.group),c())}function c(){a.state=kt,a.timer.stop(),delete i[t];for(var m in i)return;delete o.__transition}}function Si(o,t){var a=o.__transition,i,s,r=!0,n;if(a){t=t==null?null:t+"";for(n in a){if((i=a[n]).name!==t){r=!1;continue}s=i.state>jt&&i.state<tn,i.state=kt,i.timer.stop(),i.on.call(s?"interrupt":"cancel",o,o.__data__,i.index,i.group),delete a[n]}r&&delete o.__transition}}function Ei(o){return this.each(function(){Si(this,o)})}function Ti(o,t){var a,i;return function(){var s=U(this,o),r=s.tween;if(r!==a){i=a=r;for(var n=0,l=i.length;n<l;++n)if(i[n].name===t){i=i.slice(),i.splice(n,1);break}}s.tween=i}}function Ci(o,t,a){var i,s;if(typeof a!="function")throw new Error;return function(){var r=U(this,o),n=r.tween;if(n!==i){s=(i=n).slice();for(var l={name:t,value:a},c=0,m=s.length;c<m;++c)if(s[c].name===t){s[c]=l;break}c===m&&s.push(l)}r.tween=s}}function Ri(o,t){var a=this._id;if(o+="",arguments.length<2){for(var i=L(this.node(),a).tween,s=0,r=i.length,n;s<r;++s)if((n=i[s]).name===o)return n.value;return null}return this.each((t==null?Ti:Ci)(a,o,t))}function cn(o,t,a){var i=o._id;return o.each(function(){var s=U(this,i);(s.value||(s.value={}))[t]=a.apply(this,arguments)}),function(s){return L(s,i).value[t]}}function re(o,t){var a;return(typeof t=="number"?Y:t instanceof rt?Rt:(a=rt(t))?(t=a,Rt):Zn)(o,t)}function Ii(o){return function(){this.removeAttribute(o)}}function Fi(o){return function(){this.removeAttributeNS(o.space,o.local)}}function Pi(o,t,a){var i,s=a+"",r;return function(){var n=this.getAttribute(o);return n===s?null:n===i?r:r=t(i=n,a)}}function Oi(o,t,a){var i,s=a+"",r;return function(){var n=this.getAttributeNS(o.space,o.local);return n===s?null:n===i?r:r=t(i=n,a)}}function Vi(o,t,a){var i,s,r;return function(){var n,l=a(this),c;return l==null?void this.removeAttribute(o):(n=this.getAttribute(o),c=l+"",n===c?null:n===i&&c===s?r:(s=c,r=t(i=n,l)))}}function Di(o,t,a){var i,s,r;return function(){var n,l=a(this),c;return l==null?void this.removeAttributeNS(o.space,o.local):(n=this.getAttributeNS(o.space,o.local),c=l+"",n===c?null:n===i&&c===s?r:(s=c,r=t(i=n,l)))}}function qi(o,t){var a=Dt(o),i=a==="transform"?xi:re;return this.attrTween(o,typeof t=="function"?(a.local?Di:Vi)(a,i,cn(this,"attr."+o,t)):t==null?(a.local?Fi:Ii)(a):(a.local?Oi:Pi)(a,i,t))}function Li(o,t){return function(a){this.setAttribute(o,t.call(this,a))}}function Hi(o,t){return function(a){this.setAttributeNS(o.space,o.local,t.call(this,a))}}function Xi(o,t){var a,i;function s(){var r=t.apply(this,arguments);return r!==i&&(a=(i=r)&&Hi(o,r)),a}return s._value=t,s}function zi(o,t){var a,i;function s(){var r=t.apply(this,arguments);return r!==i&&(a=(i=r)&&Li(o,r)),a}return s._value=t,s}function Bi(o,t){var a="attr."+o;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;var i=Dt(o);return this.tween(a,(i.local?Xi:zi)(i,t))}function Yi(o,t){return function(){fn(this,o).delay=+t.apply(this,arguments)}}function Wi(o,t){return t=+t,function(){fn(this,o).delay=t}}function Ui(o){var t=this._id;return arguments.length?this.each((typeof o=="function"?Yi:Wi)(t,o)):L(this.node(),t).delay}function Gi(o,t){return function(){U(this,o).duration=+t.apply(this,arguments)}}function Ki(o,t){return t=+t,function(){U(this,o).duration=t}}function Zi(o){var t=this._id;return arguments.length?this.each((typeof o=="function"?Gi:Ki)(t,o)):L(this.node(),t).duration}function Qi(o,t){if(typeof t!="function")throw new Error;return function(){U(this,o).ease=t}}function Ji(o){var t=this._id;return arguments.length?this.each(Qi(t,o)):L(this.node(),t).ease}function ji(o,t){return function(){var a=t.apply(this,arguments);if(typeof a!="function")throw new Error;U(this,o).ease=a}}function ta(o){if(typeof o!="function")throw new Error;return this.each(ji(this._id,o))}function na(o){typeof o!="function"&&(o=Vn(o));for(var t=this._groups,a=t.length,i=new Array(a),s=0;s<a;++s)for(var r=t[s],n=r.length,l=i[s]=[],c,m=0;m<n;++m)(c=r[m])&&o.call(c,c.__data__,m,r)&&l.push(c);return new Z(i,this._parents,this._name,this._id)}function ea(o){if(o._id!==this._id)throw new Error;for(var t=this._groups,a=o._groups,i=t.length,s=a.length,r=Math.min(i,s),n=new Array(i),l=0;l<r;++l)for(var c=t[l],m=a[l],p=c.length,y=n[l]=new Array(p),b,k=0;k<p;++k)(b=c[k]||m[k])&&(y[k]=b);for(;l<i;++l)n[l]=t[l];return new Z(n,this._parents,this._name,this._id)}function ra(o){return(o+"").trim().split(/^|\s+/).every(function(t){var a=t.indexOf(".");return a>=0&&(t=t.slice(0,a)),!t||t==="start"})}function ia(o,t,a){var i,s,r=ra(t)?fn:U;return function(){var n=r(this,o),l=n.on;l!==i&&(s=(i=l).copy()).on(t,a),n.on=s}}function aa(o,t){var a=this._id;return arguments.length<2?L(this.node(),a).on.on(o):this.each(ia(a,o,t))}function oa(o){return function(){var t=this.parentNode;for(var a in this.__transition)if(+a!==o)return;t&&t.removeChild(this)}}function sa(){return this.on("end.remove",oa(this._id))}function ua(o){var t=this._name,a=this._id;typeof o!="function"&&(o=an(o));for(var i=this._groups,s=i.length,r=new Array(s),n=0;n<s;++n)for(var l=i[n],c=l.length,m=r[n]=new Array(c),p,y,b=0;b<c;++b)(p=l[b])&&(y=o.call(p,p.__data__,b,l))&&("__data__"in p&&(y.__data__=p.__data__),m[b]=y,Lt(m[b],t,a,b,m,L(p,a)));return new Z(r,this._parents,t,a)}function la(o){var t=this._name,a=this._id;typeof o!="function"&&(o=On(o));for(var i=this._groups,s=i.length,r=[],n=[],l=0;l<s;++l)for(var c=i[l],m=c.length,p,y=0;y<m;++y)if(p=c[y]){for(var b=o.call(p,p.__data__,y,c),k,V=L(p,a),F=0,x=b.length;F<x;++F)(k=b[F])&&Lt(k,t,a,F,b,V);r.push(b),n.push(p)}return new Z(r,n,t,a)}var fa=mt.prototype.constructor;function ca(){return new fa(this._groups,this._parents)}function ha(o,t){var a,i,s;return function(){var r=lt(this,o),n=(this.style.removeProperty(o),lt(this,o));return r===n?null:r===a&&n===i?s:s=t(a=r,i=n)}}function ie(o){return function(){this.style.removeProperty(o)}}function da(o,t,a){var i,s=a+"",r;return function(){var n=lt(this,o);return n===s?null:n===i?r:r=t(i=n,a)}}function pa(o,t,a){var i,s,r;return function(){var n=lt(this,o),l=a(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(o),lt(this,o))),n===c?null:n===i&&c===s?r:(s=c,r=t(i=n,l))}}function ga(o,t){var a,i,s,r="style."+t,n="end."+r,l;return function(){var c=U(this,o),m=c.on,p=c.value[r]==null?l||(l=ie(t)):void 0;(m!==a||s!==p)&&(i=(a=m).copy()).on(n,s=p),c.on=i}}function ya(o,t,a){var i=(o+="")=="transform"?mi:re;return t==null?this.styleTween(o,ha(o,i)).on("end.style."+o,ie(o)):typeof t=="function"?this.styleTween(o,pa(o,i,cn(this,"style."+o,t))).each(ga(this._id,o)):this.styleTween(o,da(o,i,t),a).on("end.style."+o,null)}function _a(o,t,a){return function(i){this.style.setProperty(o,t.call(this,i),a)}}function va(o,t,a){var i,s;function r(){var n=t.apply(this,arguments);return n!==s&&(i=(s=n)&&_a(o,n,a)),i}return r._value=t,r}function ma(o,t,a){var i="style."+(o+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,va(o,t,a??""))}function xa(o){return function(){this.textContent=o}}function wa(o){return function(){var t=o(this);this.textContent=t??""}}function Aa(o){return this.tween("text",typeof o=="function"?wa(cn(this,"text",o)):xa(o==null?"":o+""))}function ba(o){return function(t){this.textContent=o.call(this,t)}}function $a(o){var t,a;function i(){var s=o.apply(this,arguments);return s!==a&&(t=(a=s)&&ba(s)),t}return i._value=o,i}function Na(o){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(o==null)return this.tween(t,null);if(typeof o!="function")throw new Error;return this.tween(t,$a(o))}function Ma(){for(var o=this._name,t=this._id,a=ae(),i=this._groups,s=i.length,r=0;r<s;++r)for(var n=i[r],l=n.length,c,m=0;m<l;++m)if(c=n[m]){var p=L(c,t);Lt(c,o,a,m,n,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Z(i,this._parents,o,a)}function ka(){var o,t,a=this,i=a._id,s=a.size();return new Promise(function(r,n){var l={value:n},c={value:function(){--s===0&&r()}};a.each(function(){var m=U(this,i),p=m.on;p!==o&&(t=(o=p).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),m.on=t}),s===0&&r()})}var Sa=0;function Z(o,t,a,i){this._groups=o,this._parents=t,this._name=a,this._id=i}function ae(){return++Sa}var K=mt.prototype;Z.prototype={constructor:Z,select:ua,selectAll:la,selectChild:K.selectChild,selectChildren:K.selectChildren,filter:na,merge:ea,selection:ca,transition:Ma,call:K.call,nodes:K.nodes,node:K.node,size:K.size,empty:K.empty,each:K.each,on:aa,attr:qi,attrTween:Bi,style:ya,styleTween:ma,text:Aa,textTween:Na,remove:sa,tween:Ri,delay:Ui,duration:Zi,ease:Ji,easeVarying:ta,end:ka,[Symbol.iterator]:K[Symbol.iterator]};function Ea(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}var hn=1.70158;(function o(t){t=+t;function a(i){return(i=+i)*i*(t*(i-1)+i)}return a.overshoot=o,a})(hn);var Ta=function o(t){t=+t;function a(i){return--i*i*((i+1)*t+i)+1}return a.overshoot=o,a}(hn);(function o(t){t=+t;function a(i){return((i*=2)<1?i*i*((t+1)*i-t):(i-=2)*i*((t+1)*i+t)+2)/2}return a.overshoot=o,a})(hn);var Ca={time:null,delay:0,duration:250,ease:Ea};function Ra(o,t){for(var a;!(a=o.__transition)||!(a=a[t]);)if(!(o=o.parentNode))throw new Error(`transition ${t} not found`);return a}function Ia(o){var t,a;o instanceof Z?(t=o._id,o=o._name):(t=ae(),(a=Ca).time=ln(),o=o==null?null:o+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var n=i[r],l=n.length,c,m=0;m<l;++m)(c=n[m])&&Lt(c,o,t,m,n,a||Ra(c,t));return new Z(i,this._parents,o,t)}mt.prototype.interrupt=Ei;mt.prototype.transition=Ia;const nn=Math.PI,en=2*nn,tt=1e-6,Fa=en-tt;function rn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function oe(){return new rn}rn.prototype=oe.prototype={constructor:rn,moveTo:function(o,t){this._+="M"+(this._x0=this._x1=+o)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(o,t){this._+="L"+(this._x1=+o)+","+(this._y1=+t)},quadraticCurveTo:function(o,t,a,i){this._+="Q"+ +o+","+ +t+","+(this._x1=+a)+","+(this._y1=+i)},bezierCurveTo:function(o,t,a,i,s,r){this._+="C"+ +o+","+ +t+","+ +a+","+ +i+","+(this._x1=+s)+","+(this._y1=+r)},arcTo:function(o,t,a,i,s){o=+o,t=+t,a=+a,i=+i,s=+s;var r=this._x1,n=this._y1,l=a-o,c=i-t,m=r-o,p=n-t,y=m*m+p*p;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=o)+","+(this._y1=t);else if(y>tt)if(!(Math.abs(p*l-c*m)>tt)||!s)this._+="L"+(this._x1=o)+","+(this._y1=t);else{var b=a-r,k=i-n,V=l*l+c*c,F=b*b+k*k,x=Math.sqrt(V),J=Math.sqrt(y),H=s*Math.tan((nn-Math.acos((V+y-F)/(2*x*J)))/2),he=H/J,se=H/x;Math.abs(he-1)>tt&&(this._+="L"+(o+he*m)+","+(t+he*p)),this._+="A"+s+","+s+",0,0,"+ +(p*b>m*k)+","+(this._x1=o+se*l)+","+(this._y1=t+se*c)}},arc:function(o,t,a,i,s,r){o=+o,t=+t,a=+a,r=!!r;var n=a*Math.cos(i),l=a*Math.sin(i),c=o+n,m=t+l,p=1^r,y=r?i-s:s-i;if(a<0)throw new Error("negative radius: "+a);this._x1===null?this._+="M"+c+","+m:(Math.abs(this._x1-c)>tt||Math.abs(this._y1-m)>tt)&&(this._+="L"+c+","+m),a&&(y<0&&(y=y%en+en),y>Fa?this._+="A"+a+","+a+",0,1,"+p+","+(o-n)+","+(t-l)+"A"+a+","+a+",0,1,"+p+","+(this._x1=c)+","+(this._y1=m):y>tt&&(this._+="A"+a+","+a+",0,"+ +(y>=nn)+","+p+","+(this._x1=o+a*Math.cos(s))+","+(this._y1=t+a*Math.sin(s))))},rect:function(o,t,a,i){this._+="M"+(this._x0=this._x1=+o)+","+(this._y0=this._y1=+t)+"h"+ +a+"v"+ +i+"h"+-a+"Z"},toString:function(){return this._}};function E(o){return function(){return o}}const Rn=Math.abs,S=Math.atan2,j=Math.cos,Pa=Math.max,Ut=Math.min,B=Math.sin,ot=Math.sqrt,C=1e-12,vt=Math.PI,Vt=vt/2,St=2*vt;function Oa(o){return o>1?0:o<-1?vt:Math.acos(o)}function In(o){return o>=1?Vt:o<=-1?-Vt:Math.asin(o)}function Va(o){return o.innerRadius}function Da(o){return o.outerRadius}function qa(o){return o.startAngle}function La(o){return o.endAngle}function Ha(o){return o&&o.padAngle}function Xa(o,t,a,i,s,r,n,l){var c=a-o,m=i-t,p=n-s,y=l-r,b=y*c-p*m;if(!(b*b<C))return b=(p*(t-r)-y*(o-s))/b,[o+b*c,t+b*m]}function $t(o,t,a,i,s,r,n){var l=o-a,c=t-i,m=(n?r:-r)/ot(l*l+c*c),p=m*c,y=-m*l,b=o+p,k=t+y,V=a+p,F=i+y,x=(b+V)/2,J=(k+F)/2,H=V-b,he=F-k,se=H*H+he*he,ue=s-r,G=b*F-V*k,le=(he<0?-1:1)*ot(Pa(0,ue*ue*se-G*G)),X=(G*he-H*le)/se,N=(-G*H-he*le)/se,T=(G*he+H*le)/se,D=(-G*H+he*le)/se,O=X-x,z=N-J,de=T-x,Ht=D-J;return O*O+z*z>de*de+Ht*Ht&&(X=T,N=D),{cx:X,cy:N,x01:-p,y01:-y,x11:X*(s/ue-1),y11:N*(s/ue-1)}}function za(){var o=Va,t=Da,a=E(0),i=null,s=qa,r=La,n=Ha,l=null;function c(){var m,p,y=+o.apply(this,arguments),b=+t.apply(this,arguments),k=s.apply(this,arguments)-Vt,V=r.apply(this,arguments)-Vt,F=Rn(V-k),x=V>k;if(l||(l=m=oe()),b<y&&(p=b,b=y,y=p),!(b>C))l.moveTo(0,0);else if(F>St-C)l.moveTo(b*j(k),b*B(k)),l.arc(0,0,b,k,V,!x),y>C&&(l.moveTo(y*j(V),y*B(V)),l.arc(0,0,y,V,k,x));else{var J=k,H=V,he=k,se=V,ue=F,G=F,le=n.apply(this,arguments)/2,X=le>C&&(i?+i.apply(this,arguments):ot(y*y+b*b)),N=Ut(Rn(b-y)/2,+a.apply(this,arguments)),T=N,D=N,O,z;if(X>C){var de=In(X/y*B(le)),Ht=In(X/b*B(le));(ue-=de*2)>C?(de*=x?1:-1,he+=de,se-=de):(ue=0,he=se=(k+V)/2),(G-=Ht*2)>C?(Ht*=x?1:-1,J+=Ht,H-=Ht):(G=0,J=H=(k+V)/2)}var oo=b*j(J),zt=b*B(J),Xt=y*j(se),no=y*B(se);if(N>C){var _o=b*j(H),lo=b*B(H),go=y*j(he),yo=y*B(he),uo;if(F<vt&&(uo=Xa(oo,zt,go,yo,_o,lo,Xt,no))){var fe=oo-uo[0],Do=zt-uo[1],jo=_o-uo[0],Co=lo-uo[1],Lo=1/B(Oa((fe*jo+Do*Co)/(ot(fe*fe+Do*Do)*ot(jo*jo+Co*Co)))/2),Fo=ot(uo[0]*uo[0]+uo[1]*uo[1]);T=Ut(N,(y-Fo)/(Lo-1)),D=Ut(N,(b-Fo)/(Lo+1))}}G>C?D>C?(O=$t(go,yo,oo,zt,b,D,x),z=$t(_o,lo,Xt,no,b,D,x),l.moveTo(O.cx+O.x01,O.cy+O.y01),D<N?l.arc(O.cx,O.cy,D,S(O.y01,O.x01),S(z.y01,z.x01),!x):(l.arc(O.cx,O.cy,D,S(O.y01,O.x01),S(O.y11,O.x11),!x),l.arc(0,0,b,S(O.cy+O.y11,O.cx+O.x11),S(z.cy+z.y11,z.cx+z.x11),!x),l.arc(z.cx,z.cy,D,S(z.y11,z.x11),S(z.y01,z.x01),!x))):(l.moveTo(oo,zt),l.arc(0,0,b,J,H,!x)):l.moveTo(oo,zt),!(y>C)||!(ue>C)?l.lineTo(Xt,no):T>C?(O=$t(Xt,no,_o,lo,y,-T,x),z=$t(oo,zt,go,yo,y,-T,x),l.lineTo(O.cx+O.x01,O.cy+O.y01),T<N?l.arc(O.cx,O.cy,T,S(O.y01,O.x01),S(z.y01,z.x01),!x):(l.arc(O.cx,O.cy,T,S(O.y01,O.x01),S(O.y11,O.x11),!x),l.arc(0,0,y,S(O.cy+O.y11,O.cx+O.x11),S(z.cy+z.y11,z.cx+z.x11),x),l.arc(z.cx,z.cy,T,S(z.y11,z.x11),S(z.y01,z.x01),!x))):l.arc(0,0,y,se,he,x)}if(l.closePath(),m)return l=null,m+""||null}return c.centroid=function(){var m=(+o.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-vt/2;return[j(p)*m,B(p)*m]},c.innerRadius=function(m){return arguments.length?(o=typeof m=="function"?m:E(+m),c):o},c.outerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:E(+m),c):t},c.cornerRadius=function(m){return arguments.length?(a=typeof m=="function"?m:E(+m),c):a},c.padRadius=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:E(+m),c):i},c.startAngle=function(m){return arguments.length?(s=typeof m=="function"?m:E(+m),c):s},c.endAngle=function(m){return arguments.length?(r=typeof m=="function"?m:E(+m),c):r},c.padAngle=function(m){return arguments.length?(n=typeof m=="function"?m:E(+m),c):n},c.context=function(m){return arguments.length?(l=m??null,c):l},c}function Ba(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function Ya(o,t){return t<o?-1:t>o?1:t>=o?0:NaN}function Wa(o){return o}function Ua(){var o=Wa,t=Ya,a=null,i=E(0),s=E(St),r=E(0);function n(l){var c,m=(l=Ba(l)).length,p,y,b=0,k=new Array(m),V=new Array(m),F=+i.apply(this,arguments),x=Math.min(St,Math.max(-St,s.apply(this,arguments)-F)),J,H=Math.min(Math.abs(x)/m,r.apply(this,arguments)),he=H*(x<0?-1:1),se;for(c=0;c<m;++c)(se=V[k[c]=c]=+o(l[c],c,l))>0&&(b+=se);for(t!=null?k.sort(function(ue,G){return t(V[ue],V[G])}):a!=null&&k.sort(function(ue,G){return a(l[ue],l[G])}),c=0,y=b?(x-m*he)/b:0;c<m;++c,F=J)p=k[c],se=V[p],J=F+(se>0?se*y:0)+he,V[p]={data:l[p],index:c,value:se,startAngle:F,endAngle:J,padAngle:H};return V}return n.value=function(l){return arguments.length?(o=typeof l=="function"?l:E(+l),n):o},n.sortValues=function(l){return arguments.length?(t=l,a=null,n):t},n.sort=function(l){return arguments.length?(a=l,t=null,n):a},n.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:E(+l),n):i},n.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:E(+l),n):s},n.padAngle=function(l){return arguments.length?(r=typeof l=="function"?l:E(+l),n):r},n}function st(o,t,a){this.k=o,this.x=t,this.y=a}st.prototype={constructor:st,scale:function(o){return o===1?this:new st(this.k*o,this.x,this.y)},translate:function(o,t){return o===0&t===0?this:new st(this.k,this.x+this.k*o,this.y+this.k*t)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};st.prototype;const Ka=defineComponent({__name:"Wheel",props:{animDuration:{type:Number,default:6e3},modelValue:{type:Object,default:()=>({}),validator:o=>o.length<=8},gift:{type:Number,default:0},imgParams:{type:Object,default:()=>({})}},emits:["done"],setup(o,{expose:t,emit:a}){const i=o,s=ref(null),r=ref(!1),n=ref(),l=ref(null),c=ref(0),m=ref(0),p=ref({width:600,height:600}),y=ref(20),b=ref(),k=ref(null),V=computed(()=>({width:`${F.value.width}px`,height:`${F.value.height}px`})),F=computed(()=>{const z=window.innerWidth,de=Math.min(z,p.value.width)-y.value,Ht=Math.min(z,p.value.width)+120;return{width:de,height:Ht}});let x=It(0,0);const J=()=>{b.value=vn("#wheel").append("svg").attr("font-size","16px").attr("height","100%").attr("width","100%").attr("viewBox",`0 0 ${F.value.width+y.value*2} ${F.value.height}`).data([i.modelValue]).append("g").attr("class","wrapper").attr("transform",`translate(${(F.value.width+y.value*2)/2}, ${F.value.height/2})`)},H=()=>{const z=b.value.append("defs").append("filter").attr("id","shadow").attr("x","-100%").attr("y","-100%").attr("width","550%").attr("height","550%");z.append("feOffset").attr("in","SourceAlpha").attr("dx",0).attr("dy",0).attr("result","offsetOut"),z.append("feGaussianBlur").attr("stdDeviation","9").attr("in","offsetOut").attr("result","drop"),z.append("feColorMatrix").attr("in","drop").attr("result","color-out").attr("type","matrix").attr("values",`0 0 0 0   0
          0 0 0 0   0
          0 0 0 0   0
          0 0 0 .3 0
        `),z.append("feBlend").attr("in","SourceGraphic").attr("in2","color-out").attr("mode","normal")},he=()=>{n.value=b.value.append("g").attr("class","wheelholder"),k.value=n.value.append("g"),l.value=Ua().value(()=>1).padAngle(.01).sort(null)},se=()=>{const z=za().outerRadius(c.value).innerRadius(0);k.value.selectAll(".middleArcText").data(l.value(i.modelValue)).enter().append("path").attr("class","slice").attr("d",z).attr("stroke","#000000").attr("stroke-width","3").attr("fill",(de,Ht)=>de.data.bgColor).each(function(de,Ht){let oo=/(^.+?)L/.exec(vn(this).attr("d"))[1].replace(/,/g," ");if(de.endAngle>90*Math.PI/180){const zt=/M(.*?)A/,Xt=/A(.*?)0 0 1/,no=/0 0 1 (.*?)$/.exec(oo)[1],_o=zt.exec(oo)[1],lo=Xt.exec(oo)[1];oo=`M${no}A${lo}0 0 0${_o}`}k.value.append("path").attr("class","hiddenarcs").attr("id","middleArc"+Ht).attr("d",oo).style("fill","none")})},ue=()=>{k.value.selectAll(".middleArcText").data(l.value(i.modelValue)).enter().append("text").attr("class","middleArcText").attr("dy",z=>z.endAngle>90*Math.PI/180?-35:42).append("textPath").attr("startOffset","50%").attr("text-anchor","middle").attr("fill",(z,de)=>z.data.value.color).attr("xlink:href",(z,de)=>"#middleArc"+de).text(z=>z.data.value)},G=()=>{n.value.append("circle").attr("cx",0).attr("cy",0).attr("r",c.value/2.5).attr("fill","#ffffff").attr("filter","url(#shadow)").attr("stroke-width",4).attr("stroke","#000000")},le=()=>{n.value.append("g").append("circle").attr("cx",0).attr("cy",0).attr("r",(F.value.width-4)/2).attr("fill","transparent").attr("stroke-width","8").attr("filter","url(#shadow)").attr("stroke","#ffffff")},X=()=>{const{width:z,height:de,src:Ht}=i.imgParams;n.value.append("svg:image").attr("x",`-${z/2}`).attr("y",`-${z/2}`).attr("width",z).attr("height",de).attr("xlink:href",Ht)},N=()=>{const z="M95.3,9.8c-16.5,0-23.7,15.6-21.9,27c3.4,21.7,21.9,42.2,21.9,42.2s18.5-20.5,21.9-42.2 C118.9,25.4,111.8,9.8,95.3,9.8z";n.value&&(s.value=n.value.append("g").append("path").attr("d",z).attr("transform","translate(-20, -300)").attr("stroke","#ffffff").attr("fill","#FFFFFF").attr("filter","url(#shadow)").attr("transform",`matrix(1, 0, 0, 1, -95, -${F.value.height/2-y.value})`).attr("stroke-linejoin","round").attr("stroke-width","4"))},T=z=>i.modelValue.findIndex(de=>de.id===z)+1,D=()=>z=>`rotate(${x(z)})`,O=()=>{J(),H(),he(),se(),ue(),G(),le(),i.imgParams&&X(),N()};return t({spin:async()=>{if(!r.value){r.value=!0;const z=T(i.gift),de=i.modelValue.length,Ht=360/de,oo=360-Ht*(z-1),zt=360*5,Xt=oo+zt;m.value=Math.round(Xt/Ht)*Ht;let no=Math.round(de-m.value%360/Ht);no=no>=de?no%de:no;const _o=Ht+Ht/2;m.value+=_o-Math.round(Ht*2),x=It(0,m.value),await(()=>k.value.transition().duration(i.animDuration).ease(Ta.overshoot(.3)).attrTween("transform",D).end())(),r.value=!1,a("done",i.modelValue[no])}}}),onMounted(()=>{c.value=Math.min(F.value.width,F.value.height)/2,O()}),(z,de)=>(openBlock(),createElementBlock("div",{id:"wheel",class:normalizeClass(["wheel",`wheel_font-size--${o.modelValue.length}`]),style:normalizeStyle(unref(V))},null,6))}}),_sfc_main$1Q={props:["modelValue","canPlay","actionData","isAdmin","interval"],computed:{preparedInterval(){if(!this.interval)return"24 часа";switch(this.interval){default:case 1:return"одного дня";case 7:return"7 дней";case 30:return"одного месяца"}},enabledToPlay(){return this.isAdmin?!0:!this.started&&this.canPlay}},data(){return{loaded:!0,selected_prize:null,started:!1,completed_at:null,gift:0,form:{win:null},logo:{src:"/wheel.png",width:120,height:120},settings:[{id:1,value:"🍅",bgColor:"#fac600",color:"#ffffff"},{id:2,value:"🍲",bgColor:"#ffffff",color:"#000000"},{id:3,value:"🍦",bgColor:"#ff2e55",color:"#ffffff"},{id:4,value:"😍",bgColor:"#a1043a",color:"#ffffff"},{id:5,value:"☕",bgColor:"#ffffff",color:"#000000"},{id:6,value:"🍕",bgColor:"#c92729",color:"#ffffff"},{id:7,value:"📲",bgColor:"#ffffff",color:"#000000"},{id:8,value:"📌",bgColor:"#c92729",color:"#ffffff"},{id:9,value:"🚀",bgColor:"#c92729",color:"#ffffff"}]}},mounted(){this.loaded=!1,this.$nextTick(()=>{this.settings=this.modelValue,this.actionData&&(this.form.win=(this.actionData.data||[]).length>0&&this.actionData.data[this.actionData.data.length-1]||null,this.completed_at=this.actionData.completed_at||null),this.loaded=!0})},methods:{selectPrize(o){this.selected_prize=this.settings[o]},done(o){this.form.win=o,this.isAdmin||this.$emit("win",this.form),this.$notify({title:"Колесо фортуны",text:"Поздравляем! Вы выиграли!",type:"success"}),this.completed_at=new Date,this.$nextTick(()=>{document.querySelector("#result").scrollIntoView()})},launchWheel(){if(!this.enabledToPlay)return;this.gift=Math.floor(Math.random()*this.settings.length)+1;let o=this.$refs.wheel;this.started=!0,o.spin()}},components:{Wheel:Ka}},WheelOfFortuneShopVariant_vue_vue_type_style_index_0_lang="",_hoisted_1$1Q={class:"d-flex justify-content-center flex-wrap"},_hoisted_2$1O={class:"item-wrap p-1"},_hoisted_3$1N=["onClick"],_hoisted_4$1H={class:"card-body"},_hoisted_5$1G={class:"mb-2 text-center"},_hoisted_6$1F={class:"mb-2 fst-italic"},_hoisted_7$1z={class:"mb-0"},_hoisted_8$1v={class:"fw-bold text-primary"},_hoisted_9$1r={key:0,class:"wrap"},_hoisted_10$1k={key:0,class:"start-panel"},_hoisted_11$1h={key:1,class:"card",id:"result"},_hoisted_12$1g={class:"card-body"},_hoisted_13$1b={class:"text-center fw-bold"},_hoisted_14$18={key:0},_hoisted_15$18={key:1},_hoisted_16$17={class:"mb-2 text-center"},_hoisted_17$11={class:"mb-0 fst-italic"},_hoisted_18$_={key:0,class:"mb-0 mt-2"},_hoisted_19$X={class:"fw-bold text-primary"},_hoisted_20$V={key:1,class:"mb-2 p-0"},_hoisted_21$T={key:2,class:"mb-0"},_hoisted_22$T=createBaseVNode("span",{class:"fw-bold"},"Внимание!",-1),_hoisted_23$T={class:"fw-bold text-primary"},_hoisted_24$Q={class:"fw-bold text-primary"};function _sfc_render$H(o,t,a,i,s,r){const n=resolveComponent("Wheel");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1Q,[s.selected_prize?(openBlock(),createElementBlock("div",{key:1,class:"card w-100",onClick:t[0]||(t[0]=l=>s.selected_prize=null)},[createBaseVNode("div",_hoisted_4$1H,[createBaseVNode("h6",_hoisted_5$1G,toDisplayString(s.selected_prize.value||"-")+" (#"+toDisplayString(s.selected_prize.id)+")",1),createBaseVNode("p",_hoisted_6$1F,toDisplayString(s.selected_prize.description||"не указно"),1),createBaseVNode("p",_hoisted_7$1z,[createTextVNode("Способ получения: "),createBaseVNode("span",_hoisted_8$1v,toDisplayString(s.selected_prize.mark||"не указано"),1)])])])):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.settings,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_2$1O,[createBaseVNode("span",{onClick:m=>r.selectPrize(c),class:"btn btn-outline-light"},toDisplayString(l.value),9,_hoisted_3$1N)]))),256))]),s.loaded?(openBlock(),createElementBlock("div",_hoisted_9$1r,[createVNode(n,{gift:s.gift,imgParams:s.logo,onDone:r.done,ref:"wheel",modelValue:s.settings,"onUpdate:modelValue":t[1]||(t[1]=l=>s.settings=l)},null,8,["gift","imgParams","onDone","modelValue"]),r.enabledToPlay?(openBlock(),createElementBlock("div",_hoisted_10$1k,[createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=(...l)=>r.launchWheel&&r.launchWheel(...l)),class:"btn btn-outline-primary bg-white border-5 text-black w-100 h-100 rounded-circle"},"Нажми старт ")])):createCommentVNode("",!0)])):createCommentVNode("",!0),s.form.win?(openBlock(),createElementBlock("div",_hoisted_11$1h,[createBaseVNode("div",_hoisted_12$1g,[createBaseVNode("h6",_hoisted_13$1b,[s.completed_at?(openBlock(),createElementBlock("span",_hoisted_14$18,"Ваш текущий выигрыш")):(openBlock(),createElementBlock("span",_hoisted_15$18,"Ваш прошлый выигрыш"))]),createBaseVNode("h6",_hoisted_16$17,toDisplayString(s.form.win.value||s.form.win.id||"-")+" (#"+toDisplayString(s.form.win.id)+")",1),createBaseVNode("p",_hoisted_17$11,toDisplayString(s.form.win.description||"не указно"),1),s.completed_at?(openBlock(),createElementBlock("p",_hoisted_18$_,[createTextVNode("Вы сможете получить приз: "),createBaseVNode("span",_hoisted_19$X,toDisplayString(s.form.win.mark||"не указано"),1)])):createCommentVNode("",!0),s.completed_at?(openBlock(),createElementBlock("hr",_hoisted_20$V)):createCommentVNode("",!0),s.completed_at?(openBlock(),createElementBlock("p",_hoisted_21$T,[_hoisted_22$T,createTextVNode(" Приз возможно получить только течении "),createBaseVNode("span",_hoisted_23$T,toDisplayString(r.preparedInterval),1),createTextVNode(" с момента выигрыша: "),createBaseVNode("span",_hoisted_24$Q,toDisplayString(o.$filters.currentFull(s.completed_at)),1)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)}const WheelOfFortuneShopVariant=_export_sfc(_sfc_main$1Q,[["render",_sfc_render$H]]),_sfc_main$1P={props:["modelValue","maxlength","params","required"],computed:{uuid(){return v4()}},data(){return{message:null,selection:{start:0},settings:[{title:"Имя пользователя",key:"{{name}}"},{title:"Домен аккаунта",key:"{{username}}"},{title:"Номер телефона",key:"{{phone}}"},{title:"Название приза",key:"{{prize}}"}]}},watch:{message:{handler:function(o){this.$emit("update:modelValue",this.message)},deep:!0}},mounted(){this.$nextTick(()=>{this.message=this.modelValue||"-",this.params&&(this.settings=this.params)})},methods:{insert(o){let t=document.querySelector("#script-settings-text"+this.uuid).selectionStart||0,a=this.message;this.message=a.slice(0,t)+"<b>"+o+"</b>"+a.slice(t)},addCommand(o){this.message||(this.message=""),this.insert(o.key)}}},_hoisted_1$1P={class:"alert alert-light mb-2"},_hoisted_2$1N={class:"dropdown d-inline"},_hoisted_3$1M=createBaseVNode("button",{class:"text-primary btn btn-link p-0",style:{"font-size":"14px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_4$1G={class:"dropdown-menu"},_hoisted_5$1F=["onClick"],_hoisted_6$1E={class:"form-floating"},_hoisted_7$1y=["name","maxlength","required","id"],_hoisted_8$1u=["for"],_hoisted_9$1q={key:0};function _sfc_render$G(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$1P,[createTextVNode(" Данное сообщение может содержать параметры для отображения: "),createBaseVNode("div",_hoisted_2$1N,[_hoisted_3$1M,createBaseVNode("ul",_hoisted_4$1G,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.settings,n=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{onClick:l=>r.addCommand(n),class:"dropdown-item",href:"javascript:void(0)"},toDisplayString(n.title||"Не указано"),9,_hoisted_5$1F)]))),256))])])]),createBaseVNode("div",_hoisted_6$1E,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=n=>s.message=n),name:"script-settings-text"+r.uuid,maxlength:a.maxlength||"4000",style:{"min-height":"150px"},required:a.required||!1,placeholder:"Leave a comment here",id:"script-settings-text"+r.uuid},null,8,_hoisted_7$1y),[[vModelText,s.message]]),createBaseVNode("label",{for:"script-settings-text"+r.uuid},[renderSlot(o.$slots,"title"),(s.message||"").length>0?(openBlock(),createElementBlock("span",_hoisted_9$1q,toDisplayString((s.message||"").length)+"/"+toDisplayString(a.maxlength||4e3),1)):createCommentVNode("",!0)],8,_hoisted_8$1u)])])}const ParametrizedTextArea=_export_sfc(_sfc_main$1P,[["render",_sfc_render$G]]),_hoisted_1$1O={key:0},_hoisted_2$1M=createBaseVNode("p",{class:"alert alert-warning mb-2"}," Данный интерактивный розыгрыш относится только к магазину! ",-1),_hoisted_3$1L={class:"form-check form-switch mb-2"},_hoisted_4$1F={class:"form-check-label",for:"script-settings-wheel-of-fortune-can_play"},_hoisted_5$1E={class:"alert alert-light mb-2"},_hoisted_6$1D=["onClick"],_hoisted_7$1x={class:"form-floating mb-2"},_hoisted_8$1t=["value"],_hoisted_9$1p=createBaseVNode("label",{for:"interval"},"Период обновления",-1),_hoisted_10$1j={class:"form-floating mb-2"},_hoisted_11$1g={for:"script-settings-disabled_text"},_hoisted_12$1f={key:0},_hoisted_13$1a={class:"alert alert-light mb-2"},_hoisted_14$17=createBaseVNode("span",{class:"fw-bold text-primary"},"10",-1),_hoisted_15$17={class:"fw-bold text-primary"},_hoisted_16$16=createBaseVNode("strong",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_17$10={class:"accordion accordion-flush",id:"wheel_of_fortune"},_hoisted_18$Z={class:"accordion-item"},_hoisted_19$W={class:"accordion-header"},_hoisted_20$U=["data-bs-target","aria-controls"],_hoisted_21$S=["id"],_hoisted_22$S={class:"input-group my-2"},_hoisted_23$S={class:"form-floating"},_hoisted_24$P=["onUpdate:modelValue"],_hoisted_25$M=createBaseVNode("label",{for:"floatingInput"},"Телеграм-эмодзи",-1),_hoisted_26$K={class:"dropdown"},_hoisted_27$G=createBaseVNode("button",{class:"btn btn-outline-light text-primary w-100 h-100 rounded-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-regular fa-face-smile-beam"})],-1),_hoisted_28$F={class:"dropdown-menu p-0",style:{width:"300px"}},_hoisted_29$D={class:"row row-cols-5 w-100 p-2"},_hoisted_30$C={class:"col mb-2"},_hoisted_31$B=["onClick"],_hoisted_32$B={class:"form-floating mb-2"},_hoisted_33$A=["onUpdate:modelValue","name","id"],_hoisted_34$z=["for"],_hoisted_35$z={class:"form-floating mb-2"},_hoisted_36$y=["onUpdate:modelValue","id"],_hoisted_37$y=["for"],_hoisted_38$x={class:"alert-light alert mb-2"},_hoisted_39$x=["onClick"],_hoisted_40$t=["onClick"],_hoisted_41$t={class:"form-floating my-2"},_hoisted_42$t=["onUpdate:modelValue","name","id"],_hoisted_43$t=["for"],_hoisted_44$t=["onClick"],_hoisted_45$t=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_46$t={class:"form-check form-switch my-2"},_hoisted_47$r=createBaseVNode("label",{class:"form-check-label",for:"need_auto_random_smiles"},"Добавлять смайл случайным образом",-1),_hoisted_48$r=["disabled"],_hoisted_49$q={class:"alert alert-light mb-2"},_hoisted_50$q=createBaseVNode("p",null,"Демонстрация заполнения",-1),__default__$17={props:["modelValue"],data(){return{loaded:!0,loaded_params:!1,need_auto_random_smiles:!0,smiles:["🥤","🥗","🍔","🍗","🍟","🥓","🌯","🍱","🍜","🍲","🍧","🍨","🧁","🥞","🤖","🎲","🎯","😊","😎","🌻","👽","💌","📚","🐶","👻","🏀","👓","🎓","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","💡","🚀","⭐","💎","☘","🏆","🎁"],intervals:[{title:"Один день",value:1},{title:"Одна неделя",value:7},{title:"Один месяц",value:30}],form:{win_message:null,interval:1,wheel_of_fortune:{can_play:!0,rules:"Колесо фортуны доступно 1 раз в сутки. В качестве приза вы можете выиграть 1 из предложенных призов и воспользоваться ими в заведении или на доставке:) Приятного отдыха!",items:[{id:1,value:"🍅",bgColor:"#fac600",color:"#ffffff",mark:"в заведении",description:"Приз 1"},{id:2,value:"🍲",bgColor:"#ffffff",color:"#000000",mark:"в заведении & на доставке",description:"Приз 2"},{id:3,value:"🍦",bgColor:"#ff2e55",color:"#ffffff",description:"Приз 3",mark:"на доставке"},{id:4,value:"🍓",bgColor:"#a1043a",color:"#ffffff",description:"Приз 4",mark:"в заведении"},{id:5,value:"☕",bgColor:"#ffffff",color:"#000000",description:"Приз 5",mark:"в заведении"},{id:6,value:"🍕",bgColor:"#c92729",color:"#ffffff",description:"Приз 6",mark:"на доставке"},{id:7,value:"⭐",bgColor:"#ffffff",color:"#000000",description:"Приз 7",mark:"в заведении & на доставке"},{id:8,value:"🎁",bgColor:"#c92729",color:"#ffffff",description:"Приз 8",mark:"в заведении & на доставке"},{id:9,value:"🚀",bgColor:"#ffffff",color:"#ffffff",description:"Приз 9",mark:"в заведении & на доставке"}]}}}},watch:{"form.wheel_of_fortune.items":{handler:function(o){this.loaded=!1,this.$nextTick(()=>{this.loaded=!0})},deep:!0},form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{function o(t,a){if(typeof t!="object"||t===null)return a??t;const i=Array.isArray(t)?[]:{};for(const s in t)if(t.hasOwnProperty(s)){const r=t[s],n=a==null?void 0:a[s];typeof r=="object"&&r!==null&&!Array.isArray(r)?i[s]=o(r,n):i[s]=n!==void 0?n:r}return i}this.form=o(this.form,this.modelValue),this.loaded_params=!0,this.loaded=!0})},methods:{removeSector(o){this.form.wheel_of_fortune.items.splice(o,1);let t=1;this.form.wheel_of_fortune.items.forEach(a=>{a.id=t,t++}),this.$notify({title:"Редактор",text:"Сектор успешно удален! Идентификаторы секторов пересчитаны",type:"success"})},attachMarkText(o,t){this.form.wheel_of_fortune.items[o].mark+=(this.form.wheel_of_fortune.items[o].mark||"").length===0?t:" & "+t},addSector(){(this.form.wheel_of_fortune.items||[]).length===0&&(this.form.wheel_of_fortune.items=[]);let o=(a,i)=>(a=Math.ceil(a),i=Math.floor(i),Math.floor(Math.random()*(i-a+1))+a),t=this.need_auto_random_smiles?this.smiles[o(0,this.smiles.length-1)]:this.form.wheel_of_fortune.items.length+1;this.form.wheel_of_fortune.items.length<10?(this.form.wheel_of_fortune.items.push({id:this.form.wheel_of_fortune.items.length+1,value:t,bgColor:((this.form.wheel_of_fortune.items||[]).length+1)%2===0?"#c92729":"#ffffff",color:"#ffffff",description:"Описание приза №"+(this.form.wheel_of_fortune.items.length+1),mark:"в заведении & на доставке"}),this.$notify({title:"Редактор",text:"Сектор успешно добавлен!",type:"success"})):this.$notify({title:"Редактор",text:"Достигнут лимит секторов!",type:"error"})},addSmile(o,t){this.form.wheel_of_fortune.items[o].value=t}}},_sfc_main$1O=Object.assign(__default__$17,{__name:"ShopWheelForm",setup(o){return(t,a)=>{var i,s;return t.loaded_params?(openBlock(),createElementBlock("div",_hoisted_1$1O,[_hoisted_2$1M,createBaseVNode("div",_hoisted_3$1L,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=r=>t.form.wheel_of_fortune.can_play=r),role:"switch",id:"script-settings-is_disabled"},null,512),[[vModelCheckbox,t.form.wheel_of_fortune.can_play]]),createBaseVNode("label",_hoisted_4$1F,[createTextVNode("Состояние колеса фортуны: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.wheel_of_fortune.can_play})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.wheel_of_fortune.can_play})},"выкл",2)])]),createBaseVNode("p",_hoisted_5$1E,[createTextVNode(" Выберите интервал автоматического обновления розыгрыша, доступны следующие варианты: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.intervals,r=>(openBlock(),createElementBlock("span",{class:normalizeClass(["text-primary",{"fw-bold":t.form.interval===r.value}]),onClick:n=>t.form.interval=r.value},toDisplayString(r.title||"-")+", ",11,_hoisted_6$1D))),256))]),createBaseVNode("div",_hoisted_7$1x,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=r=>t.form.interval=r),required:"",id:"interval","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.intervals,r=>(openBlock(),createElementBlock("option",{value:r.value},toDisplayString(r.title||"-"),9,_hoisted_8$1t))),256))],512),[[vModelSelect,t.form.interval]]),_hoisted_9$1p]),createBaseVNode("div",_hoisted_10$1j,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.form.wheel_of_fortune.rules=r),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play"},null,512),[[vModelText,t.form.wheel_of_fortune.rules]]),createBaseVNode("label",_hoisted_11$1g,[createTextVNode("Правила колеса фортуны "),(((i=t.form)==null?void 0:i.wheel_of_fortune.rules)||"").length>0?(openBlock(),createElementBlock("span",_hoisted_12$1f,toDisplayString((((s=t.form)==null?void 0:s.wheel_of_fortune.rules)||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createVNode(ParametrizedTextArea,{modelValue:t.form.win_message,"onUpdate:modelValue":a[3]||(a[3]=r=>t.form.win_message=r),maxlength:4e3,class:"mb-2"},{title:withCtx(()=>[createTextVNode(" Текст пользователю при выигрыше ")]),_:1},8,["modelValue"]),createBaseVNode("p",_hoisted_13$1a,[createTextVNode("Редактирование призов, описания, отметки места получения приза, цвет сектора и цвет текста. Максимальное число секторов "),_hoisted_14$17,createTextVNode(", сейчас создано "),createBaseVNode("span",_hoisted_15$17,toDisplayString((t.form.wheel_of_fortune.items||[]).length),1),createTextVNode(" секторов. "),_hoisted_16$16,createTextVNode(" При удалении сектора идет пересчет его номера!")]),createBaseVNode("div",_hoisted_17$10,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.wheel_of_fortune.items,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_18$Z,[createBaseVNode("h2",_hoisted_19$W,[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#wheel-sector-"+n,"aria-expanded":"false","aria-controls":"wheel-sector-"+n}," Сектор "+toDisplayString(r.value)+" #"+toDisplayString(r.id),9,_hoisted_20$U)]),createBaseVNode("div",{id:"wheel-sector-"+n,class:"accordion-collapse collapse","data-bs-parent":"#wheel_of_fortune"},[createBaseVNode("div",_hoisted_22$S,[createBaseVNode("div",_hoisted_23$S,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":l=>t.form.wheel_of_fortune.items[n].value=l,class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,8,_hoisted_24$P),[[vModelText,t.form.wheel_of_fortune.items[n].value]]),_hoisted_25$M]),createBaseVNode("div",_hoisted_26$K,[_hoisted_27$G,createBaseVNode("div",_hoisted_28$F,[createBaseVNode("div",_hoisted_29$D,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.smiles,l=>(openBlock(),createElementBlock("div",_hoisted_30$C,[createBaseVNode("a",{onClick:c=>t.addSmile(n,l),href:"javascript:void(0)",class:"btn btn-outline-light"},toDisplayString(l),9,_hoisted_31$B)]))),256))])])])]),createBaseVNode("div",_hoisted_32$B,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":l=>t.form.wheel_of_fortune.items[n].description=l,maxlength:"4000",style:{"min-height":"100px"},name:"script-settings-description-"+n,placeholder:"Leave a comment here",id:"script-settings-description-"+n,required:""},`
                             `,8,_hoisted_33$A),[[vModelText,t.form.wheel_of_fortune.items[n].description]]),createBaseVNode("label",{for:"script-settings-description-"+n},"Описание приза",8,_hoisted_34$z)]),createBaseVNode("div",_hoisted_35$z,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":l=>t.form.wheel_of_fortune.items[n].bgColor=l,class:"form-control",id:"script-settings-bgColor-"+n,placeholder:"name@example.com",required:""},null,8,_hoisted_36$y),[[vModelText,t.form.wheel_of_fortune.items[n].bgColor]]),createBaseVNode("label",{for:"script-settings-bgColor-"+n},"Цвет фона сектора",8,_hoisted_37$y)]),createBaseVNode("p",_hoisted_38$x,[createTextVNode("Впишите или выберите где можно получить приз: "),createBaseVNode("span",{onClick:l=>t.attachMarkText(n,"во время доставки"),class:"fw-bold text-primary cursor-pointer text-decoration-underline"},"во время доставки",8,_hoisted_39$x),createTextVNode(" или "),createBaseVNode("span",{onClick:l=>t.attachMarkText(n,"в заведении"),class:"fw-bold text-primary cursor-pointer text-decoration-underline"},"в заведении",8,_hoisted_40$t),createTextVNode(". Вы можете вписать сразу несколько вариантов.")]),createBaseVNode("div",_hoisted_41$t,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":l=>t.form.wheel_of_fortune.items[n].mark=l,class:"form-control",name:"wheel_of_fortune-mark-"+n,id:"wheel_of_fortune-mark-"+n,placeholder:"name@example.com",required:""},null,8,_hoisted_42$t),[[vModelText,t.form.wheel_of_fortune.items[n].mark]]),createBaseVNode("label",{for:"wheel_of_fortune-mark-"+n},"Где выдается приз",8,_hoisted_43$t)]),createBaseVNode("a",{href:"javascript:void(0)",onClick:l=>t.removeSector(n),class:"btn btn-link w-100 text-center my-3"},[_hoisted_45$t,createTextVNode(" Удалить сектор #"+toDisplayString(r.id)+" ("+toDisplayString(r.value||"-")+")",1)],8,_hoisted_44$t)],8,_hoisted_21$S)]))),256))]),createBaseVNode("div",_hoisted_46$t,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[4]||(a[4]=r=>t.need_auto_random_smiles=r),type:"checkbox",role:"switch",id:"need_auto_random_smiles"},null,512),[[vModelCheckbox,t.need_auto_random_smiles]]),_hoisted_47$r]),createBaseVNode("button",{type:"button",disabled:(t.form.wheel_of_fortune.items||[]).length===10,onClick:a[5]||(a[5]=(...r)=>t.addSector&&t.addSector(...r)),class:"btn btn-outline-primary w-100 p-3 mb-2"},"Добавить еще сектор ",8,_hoisted_48$r),createBaseVNode("div",_hoisted_49$q,[_hoisted_50$q,t.loaded&&(t.form.wheel_of_fortune.items||[]).length>=3?(openBlock(),createBlock(WheelOfFortuneShopVariant,{key:0,"is-admin":!0,interval:t.form.interval,modelValue:t.form.wheel_of_fortune.items,"onUpdate:modelValue":a[6]||(a[6]=r=>t.form.wheel_of_fortune.items=r)},null,8,["interval","modelValue"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}}),_hoisted_1$1N={key:0},_hoisted_2$1L={class:"form-check form-switch mb-2"},_hoisted_3$1K={class:"form-check-label",for:"script-settings-is_edit_mode"},_hoisted_4$1E={class:"form-check form-switch mb-2"},_hoisted_5$1D={class:"form-check-label",for:"script-settings-is_disabled"},_hoisted_6$1C={class:"form-check form-switch mb-2"},_hoisted_7$1w={class:"form-check-label",for:"script-settings-is_product_list"},_hoisted_8$1s=createBaseVNode("p",{class:"alert alert-light mb-2"}," Тип магазина влияет на отображение самого магазина и на корзину. ",-1),_hoisted_9$1o={class:"form-floating mb-2"},_hoisted_10$1i=createBaseVNode("option",{value:0},"Продовольственный",-1),_hoisted_11$1f=createBaseVNode("option",{value:1},"Бытовые товары",-1),_hoisted_12$1e=[_hoisted_10$1i,_hoisted_11$1f],_hoisted_13$19=createBaseVNode("label",{for:"floatingSelect"},"Тип магазина",-1),_hoisted_14$16={class:"alert alert-light mb-2"},_hoisted_15$16={class:"form-check form-switch mb-2"},_hoisted_16$15={class:"form-check-label",for:"script-settings-can_buy_after_closing"},_hoisted_17$$=createBaseVNode("p",{class:"alert alert-light mb-2"},"Текст для клиентов, который отображается пользователю если магазин в данный момент выключен администратором",-1),_hoisted_18$Y={class:"form-floating mb-2"},_hoisted_19$V=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст при выключении",-1),_hoisted_20$T={class:"form-check form-switch mb-2"},_hoisted_21$R={class:"form-check-label",for:"script-settings-need_bonuses_section"},_hoisted_22$R=createBaseVNode("p",{class:"alert alert-light mb-2"},"Сумма, от которой будет доступен заказа в магазине",-1),_hoisted_23$R={class:"form-floating mb-2"},_hoisted_24$O=createBaseVNode("label",{for:"floatingInput"},"Минимальная сумма заказа",-1),_hoisted_25$L=createBaseVNode("p",{class:"alert alert-light mb-2"},"Описание процесса доставки \\ оплаты доставки. Текст размещен в корзине перед нажатием кнопки оформления заказа.",-1),_hoisted_26$J={class:"form-floating mb-2"},_hoisted_27$F=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст доставки",-1),_hoisted_28$E={class:"form-check form-switch mb-2"},_hoisted_29$C={class:"form-check-label",for:"script-settings-need_automatic_delivery_request"},_hoisted_30$B={key:0},_hoisted_31$A={class:"form-check form-switch mb-2"},_hoisted_32$A={class:"form-check-label",for:"script-settings-need_bonuses_section"},_hoisted_33$z=createBaseVNode("p",{class:"alert alert-light mb-2"},"Далее настройка параметров доставки: базовая цена для расчёта стоимости доставки. Расчёт доставки идет по прямой от точки А к точке Б. Формула: базовая цена + N км * цена за км",-1),_hoisted_34$y={class:"form-floating mb-2"},_hoisted_35$y=createBaseVNode("label",{for:"floatingInput"},"Базовая цена доставки",-1),_hoisted_36$x=createBaseVNode("p",{class:"alert alert-light mb-2"},"Цена доставки за 1км пути",-1),_hoisted_37$x={class:"form-floating mb-2"},_hoisted_38$w=createBaseVNode("label",{for:"floatingInput"},"Цена за км пути",-1),_hoisted_39$w={class:"form-floating mb-2"},_hoisted_40$s=createBaseVNode("label",{for:"floatingInput"},"Бесплатная доставка от",-1),_hoisted_41$s=createBaseVNode("p",{class:"alert alert-light mb-2"},[createTextVNode("Расчет цены доставки происходит на основе координат. Укажите координаты вашего заведения из "),createBaseVNode("a",{class:"text-primary fw-bold",href:"https://yandex.ru/maps/",target:"_blank"},"Яндекс.Карты"),createTextVNode(" - скопируйте и вставьте "),createBaseVNode("span",{class:"fw-bold text-primary"},"00.000000"),createTextVNode(", "),createBaseVNode("span",{class:"fw-bold text-primary"},"00.000000"),createTextVNode(" координаты в это поле. ")],-1),_hoisted_42$s={class:"form-floating mb-2"},_hoisted_43$s=createBaseVNode("label",{for:"floatingInput"},"Координаты заведения",-1),_hoisted_44$s=createBaseVNode("p",{class:"alert alert-light mb-2"},"Платежная информация: как оплатить и дальнейшие инструкции",-1),_hoisted_45$s={class:"form-floating mb-2"},_hoisted_46$s=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст оплаты",-1),_hoisted_47$q=createBaseVNode("p",{class:"alert alert-light mb-2"},"Данный флаг позволяет отключить прием платежа через скриншот. После оформления заказа клиент будет ждать звонка с инструкцией от оператора",-1),_hoisted_48$q={class:"form-check form-switch mb-2"},_hoisted_49$p={class:"form-check-label",for:"script-settings-need_pay_after_call"},_hoisted_50$p={class:"form-check form-switch mb-2"},_hoisted_51$o={class:"form-check-label",for:"script-settings-can_use_cash"},_hoisted_52$o=createBaseVNode("p",{class:"alert alert-light mb-2"},"Оплата картой подразумевает использование платежного агрегатора и требует ввода тоукена платежной системы. Оплата через агрегатора облагается налогом.",-1),_hoisted_53$n={class:"form-check form-switch mb-2"},_hoisted_54$n={class:"form-check-label",for:"script-settings-can_use_card"},_hoisted_55$k={key:1,class:"form-floating mb-2"},_hoisted_56$k=createBaseVNode("label",{for:"floatingInput"},"Тоукен платежной системы",-1),_hoisted_57$j=createBaseVNode("div",{class:"divider my-3"},"Секции",-1),_hoisted_58$i=createBaseVNode("p",{class:"alert alert-light"}," Данный блок переключателей включает \\ выключает отображение соответствующих секций в корзине. ",-1),_hoisted_59$i={class:"form-check form-switch mb-2"},_hoisted_60$h={class:"form-check-label",for:"script-settings-need_promo_code"},_hoisted_61$h={class:"form-check form-switch mb-2"},_hoisted_62$g={class:"form-check-label",for:"script-settings-need_bonuses_section"},_hoisted_63$g={class:"form-check form-switch mb-2"},_hoisted_64$f={class:"form-check-label",for:"script-settings-need_prizes_from_wheel_of_fortune"},_hoisted_65$f={class:"form-check form-switch mb-2"},_hoisted_66$f={class:"form-check-label",for:"script-settings-need_person_counter"},_hoisted_67$f={class:"form-check form-switch mb-2"},_hoisted_68$f={class:"form-check-label",for:"script-settings-need_health_restrictions"},_hoisted_69$f=createBaseVNode("div",{class:"divider my-3"},"Настройка СБП",-1),_hoisted_70$f={class:"form-check form-switch mb-2"},_hoisted_71$f={class:"form-check-label",for:"script-settings-need_use_sbp"},_hoisted_72$e=createBaseVNode("p",{class:"mb-2 alert alert-light"},[createTextVNode("Внимание! На текущий момент для СБП используется только "),createBaseVNode("a",{href:"https://telegra.ph/Nastrojka-SBP-v-T-bank-12-28",target:"_blank",class:"text-primary fw-bold"},"Т-Банк")],-1),_hoisted_73$e={class:"form-floating mb-2"},_hoisted_74$d=createBaseVNode("label",{for:"modelValue-tinkoff-terminal-key"},"Ключ терминала",-1),_hoisted_75$d={class:"form-floating mb-2"},_hoisted_76$d=createBaseVNode("label",{for:"modelValue-tinkoff-terminal-password"},"Пароль терминала",-1),_hoisted_77$d={class:"form-floating mb-2"},_hoisted_78$c=["value"],_hoisted_79$c=createBaseVNode("label",{for:"floatingSelect"},"Схема налогооблажения",-1),_hoisted_80$c={class:"form-floating mb-2"},_hoisted_81$c=["value"],_hoisted_82$c=createBaseVNode("label",{for:"floatingSelect"},"% НДС",-1),_hoisted_83$b=createBaseVNode("p",{class:"alert alert-light mb-2"},[createTextVNode(" Ссылка для добавления в оповещения "),createBaseVNode("a",{href:"https://www.tbank.ru/",target:"_blank"},"Т-Банка")],-1),_hoisted_84$a=createBaseVNode("i",{class:"fa-regular fa-clipboard mr-2"},null,-1),_hoisted_85$9=createBaseVNode("div",{class:"divider my-3"},"Настройка призов из розыгрыша",-1),_hoisted_86$9=createBaseVNode("p",{class:"alert alert-light mb-2"}," Вам нужно выбрать скрипт колеса, призы которого будут автоматически вносится в заказ пользователем. ",-1),_hoisted_87$9=createBaseVNode("h6",null,"Доступные для выбора скрипты",-1),_hoisted_88$9={key:4,class:"list-group mb-2"},_hoisted_89$9=["onClick"],_hoisted_90$9={class:"fw-bold"},_hoisted_91$9=createBaseVNode("div",{class:"divider my-3"},"Кнопка связи с менеджером",-1),_hoisted_92$9={class:"form-floating mb-2"},_hoisted_93$9=createBaseVNode("label",{for:"floatingInput"},"Полная ссылка на менеджера",-1),_hoisted_94$9={class:"form-floating mb-2"},_hoisted_95$9=createBaseVNode("label",{for:"floatingInput"},"Текст на кнопке",-1),__default__$16={props:["modelValue"],data(){return{loaded_params:!1,scripts:[],vat_variants:[{value:"none",title:"Нет"},{value:"vat0",title:"0%"},{value:"vat10",title:"10%"},{value:"vat18",title:"18%"},{value:"vat20",title:"20%"}],tax_variants:[{tax:"osn",title:"общая"},{tax:"usn_income",title:"упрощенная (доходы)"},{tax:"usn_income_outcome",title:"упрощенная (доходы минус расходы)"},{tax:"patent",title:"патентная"},{tax:"envd",title:"единый налог на вмененный доход"},{tax:"esn",title:"единый сельскохозяйственный налог"},{tax:"self",title:"НПД"}],form:{shop_coords:null,yandex_geocoder:null,free_shipping_starts_from:0,min_base_delivery_price:0,price_per_km:80,payment_info:null,main_text:null,delivery_price_text:null,min_price:80,is_edit_mode:!1,is_disabled:!1,can_buy_after_closing:!1,can_use_cash:!0,can_use_card:!0,payment_token:null,need_pay_after_call:!1,need_hide_disabled_products:!1,need_hide_delivery_period:!1,can_use_booking:!1,tables_variants:[],manager:{link:null,title:"Написать"},disabled_text:null,shop_display_type:0,is_product_list:!1,can_use_sbp:!1,sbp:{selected_sbp_bank:"tinkoff",tinkoff:{terminal_key:null,terminal_password:null,tax:null,vat:null},sber:{}},max_tables:0,need_table_list:!1,need_promo_code:!0,need_automatic_delivery_request:!0,need_person_counter:!0,need_bonuses_section:!0,need_health_restrictions:!0,need_prizes_from_wheel_of_fortune:!0,selected_script_id:null}}},computed:{bot(){return window.currentBot},pageTinkoffLink(){return"https://your-cashman.com/payment-products-notify/tinkoff/"+this.bot.bot_domain},scriptId(){return window.currentScript||null}},watch:{form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0},"form.can_use_sbp":{handler:function(o){this.form.can_use_sbp||(this.form.sbp={selected_sbp_bank:"tinkoff",tinkoff:{terminal_key:null,terminal_password:null,tax:null,vat:null},sber:{}})},deep:!0}},mounted(){this.loadWheelScriptVariants(),this.loaded_params=!1,this.$nextTick(()=>{Object.keys(this.modelValue).forEach(o=>{o in this.form&&(this.form[o]=this.modelValue[o])}),this.loaded_params=!0})},methods:{normalizeTelegramLink(){var t;if(!this.form.manager)return;let o=((t=this.form.manager)==null?void 0:t.link)||"";if(!o.includes("https://t.me")){if(o.startsWith("@")){this.form.manager.link="https://t.me/"+o.slice(1);return}!o.startsWith("https://")&&!o.includes("t.me")&&/^[a-zA-Z0-9_]+$/.test(o)&&(this.form.manager.link="https://t.me/"+o)}},copyToClipBoard(){let o=this.pageTinkoffLink;navigator.clipboard.writeText(o).then(()=>{this.$notify({title:"Копирование",text:"Ссылка скопирована в буфер"})}).catch(t=>{this.$notify({title:"Копирование",text:"Ошибка копирования",type:"error"})})},selectScript(o){if(o==null){this.form.selected_script_id=null;return}this.form.selected_script_id=null,this.$nextTick(()=>{this.form.selected_script_id=o.id})},loadWheelScriptVariants(){this.$store.dispatch("wheelOfFortuneLoadScriptVariants").then(o=>{this.scripts=o||[]}).catch(o=>{})}}},_sfc_main$1N=Object.assign(__default__$16,{__name:"ShopForm",setup(o){return(t,a)=>{const i=resolveDirective("mask");return t.loaded_params?(openBlock(),createElementBlock("div",_hoisted_1$1N,[createBaseVNode("div",_hoisted_2$1L,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=s=>t.form.is_edit_mode=s),role:"switch",id:"script-settings-is_edit_mode"},null,512),[[vModelCheckbox,t.form.is_edit_mode]]),createBaseVNode("label",_hoisted_3$1K,[createTextVNode("Режим редактирования страниц: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.is_edit_mode})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.is_edit_mode})},"выкл",2)])]),createBaseVNode("div",_hoisted_4$1E,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=s=>t.form.is_disabled=s),role:"switch",id:"script-settings-is_disabled"},null,512),[[vModelCheckbox,t.form.is_disabled]]),createBaseVNode("label",_hoisted_5$1D,[createTextVNode("Состояние магазина: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.is_disabled})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.is_disabled})},"выкл",2)])]),createBaseVNode("div",_hoisted_6$1C,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=s=>t.form.is_product_list=s),role:"switch",id:"script-settings-is_product_list"},null,512),[[vModelCheckbox,t.form.is_product_list]]),createBaseVNode("label",_hoisted_7$1w,[createTextVNode("Отображение товаров: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.is_product_list})},"плитка",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.is_product_list})},"список",2)])]),_hoisted_8$1s,createBaseVNode("div",_hoisted_9$1o,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":a[3]||(a[3]=s=>t.form.shop_display_type=s),id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_12$1e,512),[[vModelSelect,t.form.shop_display_type]]),_hoisted_13$19]),createBaseVNode("p",_hoisted_14$16,[createTextVNode("Вы можете разрешить или запретить клиентам оставлять заказы вне рабочего времени вашего сервиса. Если переключатель выключен, то покупки будут доступны "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_buy_after_closing})},"согласно графика",2),createTextVNode(" работы вашего заведения, а если включен - "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_buy_after_closing})},"всегда",2),createTextVNode(".")]),createBaseVNode("div",_hoisted_15$16,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=s=>t.form.can_buy_after_closing=s),role:"switch",id:"script-settings-can_buy_after_closing"},null,512),[[vModelCheckbox,t.form.can_buy_after_closing]]),createBaseVNode("label",_hoisted_16$15,[createTextVNode("Покупки после закрытия: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_buy_after_closing})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_buy_after_closing})},"выкл",2)])]),_hoisted_17$$,createBaseVNode("div",_hoisted_18$Y,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=s=>t.form.disabled_text=s),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,t.form.disabled_text]]),_hoisted_19$V]),createBaseVNode("div",_hoisted_20$T,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=s=>t.form.need_hide_disabled_products=s),role:"switch",id:"script-settings-need_bonuses_section"},null,512),[[vModelCheckbox,t.form.need_hide_disabled_products]]),createBaseVNode("label",_hoisted_21$R,[createTextVNode("Скрывать товары, которых нет в наличии: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_hide_disabled_products})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_hide_disabled_products})},"выкл",2)])]),_hoisted_22$R,createBaseVNode("div",_hoisted_23$R,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[7]||(a[7]=s=>t.form.min_price=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.min_price]]),_hoisted_24$O]),_hoisted_25$L,createBaseVNode("div",_hoisted_26$J,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[8]||(a[8]=s=>t.form.delivery_price_text=s),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,t.form.delivery_price_text]]),_hoisted_27$F]),createBaseVNode("div",_hoisted_28$E,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=s=>t.form.need_automatic_delivery_request=s),role:"switch",id:"script-settings-need_automatic_delivery_request"},null,512),[[vModelCheckbox,t.form.need_automatic_delivery_request]]),createBaseVNode("label",_hoisted_29$C,[createTextVNode("Автоматический расчет цены доставки: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_automatic_delivery_request})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_automatic_delivery_request})},"выкл",2),t.form.shop_display_type===1?(openBlock(),createElementBlock("span",_hoisted_30$B," (через СДЭК)")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_31$A,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=s=>t.form.need_hide_delivery_period=s),role:"switch",id:"script-settings-need_bonuses_section"},null,512),[[vModelCheckbox,t.form.need_hide_delivery_period]]),createBaseVNode("label",_hoisted_32$A,[createTextVNode("Скрывать период доставки при расчете СДЭК: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_hide_delivery_period})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_hide_delivery_period})},"выкл",2)])]),t.form.shop_display_type===0?(openBlock(),createElementBlock(Fragment,{key:0},[t.form.need_automatic_delivery_request?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_33$z,createBaseVNode("div",_hoisted_34$y,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[11]||(a[11]=s=>t.form.min_base_delivery_price=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.min_base_delivery_price]]),_hoisted_35$y]),_hoisted_36$x,createBaseVNode("div",_hoisted_37$x,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[12]||(a[12]=s=>t.form.price_per_km=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.price_per_km]]),_hoisted_38$w]),createBaseVNode("div",_hoisted_39$w,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[13]||(a[13]=s=>t.form.free_shipping_starts_from=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.free_shipping_starts_from]]),_hoisted_40$s]),_hoisted_41$s,createBaseVNode("div",_hoisted_42$s,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[14]||(a[14]=s=>t.form.shop_coords=s),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[i,["##.######, ##.######"]],[vModelText,t.form.shop_coords]]),_hoisted_43$s])],64)):createCommentVNode("",!0)],64)):createCommentVNode("",!0),_hoisted_44$s,createBaseVNode("div",_hoisted_45$s,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[15]||(a[15]=s=>t.form.payment_info=s),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,t.form.payment_info]]),_hoisted_46$s]),_hoisted_47$q,createBaseVNode("div",_hoisted_48$q,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[16]||(a[16]=s=>t.form.need_pay_after_call=s),role:"switch",id:"script-settings-need_pay_after_call"},null,512),[[vModelCheckbox,t.form.need_pay_after_call]]),createBaseVNode("label",_hoisted_49$p,[createTextVNode("Режим оплаты после звонка: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_pay_after_call})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_pay_after_call})},"выкл",2)])]),createBaseVNode("div",_hoisted_50$p,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[17]||(a[17]=s=>t.form.can_use_cash=s),role:"switch",id:"script-settings-can_use_cash"},null,512),[[vModelCheckbox,t.form.can_use_cash]]),createBaseVNode("label",_hoisted_51$o,[createTextVNode("Оплата наличными или переводом: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_use_cash})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_use_cash})},"выкл",2)])]),_hoisted_52$o,createBaseVNode("div",_hoisted_53$n,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[18]||(a[18]=s=>t.form.can_use_card=s),role:"switch",id:"script-settings-can_use_card"},null,512),[[vModelCheckbox,t.form.can_use_card]]),createBaseVNode("label",_hoisted_54$n,[createTextVNode("Оплата картой: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_use_card})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_use_card})},"выкл",2)])]),t.form.can_use_card?(openBlock(),createElementBlock("div",_hoisted_55$k,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[19]||(a[19]=s=>t.form.payment_token=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.payment_token]]),_hoisted_56$k])):createCommentVNode("",!0),_hoisted_57$j,_hoisted_58$i,createBaseVNode("div",_hoisted_59$i,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[20]||(a[20]=s=>t.form.need_promo_code=s),role:"switch",id:"script-settings-need_promo_code"},null,512),[[vModelCheckbox,t.form.need_promo_code]]),createBaseVNode("label",_hoisted_60$h,[createTextVNode("Промокод: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_promo_code})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_promo_code})},"выкл",2)])]),createBaseVNode("div",_hoisted_61$h,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[21]||(a[21]=s=>t.form.need_bonuses_section=s),role:"switch",id:"script-settings-need_bonuses_section"},null,512),[[vModelCheckbox,t.form.need_bonuses_section]]),createBaseVNode("label",_hoisted_62$g,[createTextVNode("Использовать бонусы при оплате: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_bonuses_section})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_bonuses_section})},"выкл",2)])]),createBaseVNode("div",_hoisted_63$g,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[22]||(a[22]=s=>t.form.need_prizes_from_wheel_of_fortune=s),role:"switch",id:"script-settings-need_prizes_from_wheel_of_fortune"},null,512),[[vModelCheckbox,t.form.need_prizes_from_wheel_of_fortune]]),createBaseVNode("label",_hoisted_64$f,[createTextVNode("Призы колеса фортуны: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_prizes_from_wheel_of_fortune})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_prizes_from_wheel_of_fortune})},"выкл",2)])]),t.form.shop_display_type===0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",_hoisted_65$f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[23]||(a[23]=s=>t.form.need_person_counter=s),role:"switch",id:"script-settings-need_person_counter"},null,512),[[vModelCheckbox,t.form.need_person_counter]]),createBaseVNode("label",_hoisted_66$f,[createTextVNode("Число персон: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_person_counter})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_person_counter})},"выкл",2)])]),createBaseVNode("div",_hoisted_67$f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=s=>t.form.need_health_restrictions=s),role:"switch",id:"script-settings-need_health_restrictions"},null,512),[[vModelCheckbox,t.form.need_health_restrictions]]),createBaseVNode("label",_hoisted_68$f,[createTextVNode("Ограничения по здоровью: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_health_restrictions})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_health_restrictions})},"выкл",2)])])],64)):createCommentVNode("",!0),_hoisted_69$f,createBaseVNode("div",_hoisted_70$f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[25]||(a[25]=s=>t.form.can_use_sbp=s),role:"switch",id:"script-settings-need_use_sbp"},null,512),[[vModelCheckbox,t.form.can_use_sbp]]),createBaseVNode("label",_hoisted_71$f,[createTextVNode("Использовать СБП для оплат: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_use_sbp})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_use_sbp})},"выкл",2)])]),t.form.can_use_sbp&&t.form.sbp?(openBlock(),createElementBlock(Fragment,{key:3},[_hoisted_72$e,createBaseVNode("div",_hoisted_73$e,[withDirectives(createBaseVNode("input",{type:"text",required:"","onUpdate:modelValue":a[26]||(a[26]=s=>t.form.sbp.tinkoff.terminal_key=s),class:"form-control",id:"modelValue-tinkoff-terminal-key",placeholder:"Ключ терминала"},null,512),[[vModelText,t.form.sbp.tinkoff.terminal_key]]),_hoisted_74$d]),createBaseVNode("div",_hoisted_75$d,[withDirectives(createBaseVNode("input",{type:"text",required:"","onUpdate:modelValue":a[27]||(a[27]=s=>t.form.sbp.tinkoff.terminal_password=s),class:"form-control",id:"modelValue-tinkoff-terminal-password",placeholder:"Пароль терминала"},null,512),[[vModelText,t.form.sbp.tinkoff.terminal_password]]),_hoisted_76$d]),createBaseVNode("div",_hoisted_77$d,[withDirectives(createBaseVNode("select",{class:"form-select",required:"","onUpdate:modelValue":a[28]||(a[28]=s=>t.form.sbp.tinkoff.tax=s),id:"floatingSelect","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tax_variants,(s,r)=>(openBlock(),createElementBlock("option",{value:s.tax},toDisplayString(s.title),9,_hoisted_78$c))),256))],512),[[vModelSelect,t.form.sbp.tinkoff.tax]]),_hoisted_79$c]),createBaseVNode("div",_hoisted_80$c,[withDirectives(createBaseVNode("select",{class:"form-select",required:"","onUpdate:modelValue":a[29]||(a[29]=s=>t.form.sbp.tinkoff.vat=s),id:"floatingSelect","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vat_variants,(s,r)=>(openBlock(),createElementBlock("option",{value:s.value},toDisplayString(s.title),9,_hoisted_81$c))),256))],512),[[vModelSelect,t.form.sbp.tinkoff.vat]]),_hoisted_82$c]),_hoisted_83$b,createBaseVNode("button",{onClick:a[30]||(a[30]=(...s)=>t.copyToClipBoard&&t.copyToClipBoard(...s)),type:"button",class:"btn btn-info p-3 w-100"},[_hoisted_84$a,createTextVNode("Скопировать ссылку ")])],64)):createCommentVNode("",!0),_hoisted_85$9,_hoisted_86$9,_hoisted_87$9,(t.scripts||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_88$9,[createBaseVNode("li",{onClick:a[31]||(a[31]=s=>t.selectScript(null)),class:normalizeClass([{"bg-primary text-white":(t.form.selected_script_id||null)==null},"list-group-item d-flex justify-content-between"])},"Не выбрано ",2),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.scripts,s=>(openBlock(),createElementBlock("li",{onClick:r=>t.selectScript(s),class:normalizeClass([{"bg-primary text-white":(t.form.selected_script_id||null)==s.id},"list-group-item d-flex justify-content-between"])},[createTextVNode(toDisplayString(s.command||"-")+" ",1),createBaseVNode("small",_hoisted_90$9,"#"+toDisplayString(s.id),1)],10,_hoisted_89$9))),256))])):createCommentVNode("",!0),t.form.manager?(openBlock(),createElementBlock(Fragment,{key:5},[_hoisted_91$9,createBaseVNode("div",_hoisted_92$9,[withDirectives(createBaseVNode("input",{type:"text",onBlur:a[32]||(a[32]=(...s)=>t.normalizeTelegramLink&&t.normalizeTelegramLink(...s)),"onUpdate:modelValue":a[33]||(a[33]=s=>t.form.manager.link=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,544),[[vModelText,t.form.manager.link]]),_hoisted_93$9]),createBaseVNode("div",_hoisted_94$9,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[34]||(a[34]=s=>t.form.manager.title=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.manager.title]]),_hoisted_95$9])],64)):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),_sfc_main$1M={data(){return{step:0,load:!1,photo:null,removedImage:null,need_reset:!1,vat_codes:[{id:1,title:"Общая система налогообложения"},{id:2,title:"Упрощенная (УСН, доходы)"},{id:3,title:"Упрощенная (УСН, доходы минус расходы)"},{id:4,title:"Единый налог на вмененный доход (ЕНВД)"},{id:5,title:"Единый сельскохозяйственный налог (ЕСН)"},{id:6,title:"Патентная система налогообложения"}],business_form_categories:[{id:0,title:"Физическое-лицо"},{id:1,title:"Самозанятый"},{id:2,title:"Индивидуальный предприниматель (ИП)"},{id:3,title:"Общество с ограниченной ответственностью (ООО)"}],companyForm:{id:null,law_params:{selected_type:2,full_name:null,inn:null,ogrnip:null,name:null,kpp:null,ogrn:null,phisical_adress:null,passport_number:null,passport_date:null,passport_issuer:null,agreement:!0,offer_link:null},vat_code:1}}},computed:{currentBot(){return window.currentBot}},watch:{companyForm:{handler(o){this.need_reset=!0},deep:!0}},mounted(){this.currentBot.company&&this.$nextTick(()=>{const o=this.currentBot.company;this.companyForm.id=o.id||null,this.companyForm.law_params.selected_type=o.law_params.selected_type||null,this.companyForm.law_params.full_name=o.law_params.full_name||null,this.companyForm.law_params.inn=o.law_params.inn||null,this.companyForm.law_params.ogrnip=o.law_params.ogrnip||null,this.companyForm.law_params.name=o.law_params.name||null,this.companyForm.law_params.kpp=o.law_params.kpp||null,this.companyForm.law_params.ogrn=o.law_params.ogrn||null,this.companyForm.law_params.phisical_adress=o.law_params.phisical_adress||null,this.companyForm.law_params.passport_number=o.law_params.passport_number||null,this.companyForm.law_params.passport_date=o.law_params.passport_date||null,this.companyForm.law_params.passport_issuer=o.law_params.passport_issuer||null,this.companyForm.law_params.agreement=o.law_params.agreement||null,this.companyForm.law_params.offer_link=o.law_params.offer_link||null,this.companyForm.vat_code=o.vat_code||null})},methods:{resetForm(){this.companyForm.id=null,this.companyForm.law_params.selected_type=null,this.companyForm.law_params.full_name=null,this.companyForm.law_params.inn=null,this.companyForm.law_params.ogrnip=null,this.companyForm.law_params.name=null,this.companyForm.law_params.kpp=null,this.companyForm.law_params.ogrn=null,this.companyForm.law_params.phisical_adress=null,this.companyForm.law_params.passport_number=null,this.companyForm.law_params.passport_date=null,this.companyForm.law_params.passport_issuer=null,this.companyForm.law_params.agreement=null,this.companyForm.law_params.offer_link=null,this.companyForm.vat_code=null},submit(){let o=new FormData;Object.keys(this.companyForm).forEach(t=>{const a=this.companyForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("updateCompanyLawParams",{companyForm:o}).then(t=>{this.$notify({title:"Юридические параметры",text:"Параметры успешно обновлены",type:"success"})}).catch(t=>{this.$notify({title:"Юридические параметры",text:"Ошибка обновления параметров",type:"error"})})}}},_hoisted_1$1M={key:0,class:"alert alert-light mb-2"},_hoisted_2$1K={class:"form-floating mb-2"},_hoisted_3$1J=createBaseVNode("label",{for:"offerLink"},"Ссылка на договор оферты",-1),_hoisted_4$1D={class:"form-floating mb-2"},_hoisted_5$1C=createBaseVNode("option",{value:null,selected:""},"Выберите тип",-1),_hoisted_6$1B=["value"],_hoisted_7$1v=createBaseVNode("label",{for:"orgType"},"Тип организации",-1),_hoisted_8$1r={key:1,id:"ipFields",class:"org-fields"},_hoisted_9$1n={class:"form-floating mb-2"},_hoisted_10$1h=createBaseVNode("label",{for:"ipFullName"},"ФИО ИП",-1),_hoisted_11$1e={class:"form-floating mb-2"},_hoisted_12$1d=createBaseVNode("label",{for:"ipInn"},"ИНН",-1),_hoisted_13$18={class:"form-floating mb-2"},_hoisted_14$15=createBaseVNode("label",{for:"ipOgrnip"},"ОГРНИП",-1),_hoisted_15$15={key:2,id:"oooFields",class:"org-fields"},_hoisted_16$14={class:"form-floating mb-2"},_hoisted_17$_=createBaseVNode("label",{for:"oooName"},"Наименование ООО",-1),_hoisted_18$X={class:"form-floating mb-2"},_hoisted_19$U=createBaseVNode("label",{for:"oooName"},"Юридический адрес",-1),_hoisted_20$S={class:"form-floating mb-2"},_hoisted_21$Q=createBaseVNode("label",{for:"oooInn"},"ИНН",-1),_hoisted_22$Q={class:"form-floating mb-2"},_hoisted_23$Q=createBaseVNode("label",{for:"oooKpp"},"КПП",-1),_hoisted_24$N={class:"form-floating mb-2"},_hoisted_25$K=createBaseVNode("label",{for:"oooOgrn"},"ОГРН",-1),_hoisted_26$I={key:3,id:"selfFields",class:"org-fields"},_hoisted_27$E={class:"form-floating mb-2"},_hoisted_28$D=createBaseVNode("label",{for:"selfFullName"},"ФИО",-1),_hoisted_29$B={class:"form-floating mb-2"},_hoisted_30$A=createBaseVNode("label",{for:"selfInn"},"ИНН",-1),_hoisted_31$z={class:"form-floating mb-2"},_hoisted_32$z=createBaseVNode("label",{for:"selfPassportNumber"},"Серия и номер паспорта",-1),_hoisted_33$y={class:"form-floating mb-2"},_hoisted_34$x=createBaseVNode("label",{for:"selfPassportDate"},"Дата выдачи паспорта",-1),_hoisted_35$x={class:"form-floating mb-2"},_hoisted_36$w=createBaseVNode("label",{for:"selfPassportIssuer"},"Кем выдан",-1),_hoisted_37$w={class:"form-check mb-2"},_hoisted_38$v=createBaseVNode("label",{class:"form-check-label",for:"agreementCheck"},[createTextVNode(" Я согласен с "),createBaseVNode("a",{target:"_blank",href:"https://telegra.ph/PUBLICHNAYA-OFERTA-na-ispolzovanie-platformy-CashMan-05-24"},"условиями")],-1),_hoisted_39$v=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1);function _sfc_render$F(o,t,a,i,s,r){const n=resolveDirective("mask");return openBlock(),createElementBlock("form",{onSubmit:t[16]||(t[16]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[s.companyForm.law_params.offer_link?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_1$1M," Внимание! Обязательно разместите ссылку на договор оферты! ")),createBaseVNode("div",_hoisted_2$1K,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.companyForm.law_params.offer_link=l),type:"url",class:"form-control",required:"",id:"offerLink",placeholder:"https://example.com/offer"},null,512),[[vModelText,s.companyForm.law_params.offer_link]]),_hoisted_3$1J]),createBaseVNode("div",_hoisted_4$1D,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=l=>s.companyForm.law_params.selected_type=l),id:"orgType",required:""},[_hoisted_5$1C,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.business_form_categories,l=>(openBlock(),createElementBlock("option",{value:l.id},toDisplayString(l.title||"-"),9,_hoisted_6$1B))),256))],512),[[vModelSelect,s.companyForm.law_params.selected_type]]),_hoisted_7$1v]),s.companyForm.law_params.selected_type===2?(openBlock(),createElementBlock("div",_hoisted_8$1r,[createBaseVNode("div",_hoisted_9$1n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"ipFullName",placeholder:"Иванов Иван Иванович","onUpdate:modelValue":t[2]||(t[2]=l=>s.companyForm.law_params.full_name=l)},null,512),[[vModelText,s.companyForm.law_params.full_name]]),_hoisted_10$1h]),createBaseVNode("div",_hoisted_11$1e,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"ipInn",placeholder:"123456789012",maxlength:"12","onUpdate:modelValue":t[3]||(t[3]=l=>s.companyForm.law_params.inn=l)},null,512),[[n,["############"]],[vModelText,s.companyForm.law_params.inn]]),_hoisted_12$1d]),createBaseVNode("div",_hoisted_13$18,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"ipOgrnip",placeholder:"123456789012345",maxlength:"15","onUpdate:modelValue":t[4]||(t[4]=l=>s.companyForm.law_params.ogrnip=l)},null,512),[[n,["###############"]],[vModelText,s.companyForm.law_params.ogrnip]]),_hoisted_14$15])])):createCommentVNode("",!0),s.companyForm.law_params.selected_type===3?(openBlock(),createElementBlock("div",_hoisted_15$15,[createBaseVNode("div",_hoisted_16$14,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"oooName",placeholder:"ООО Ромашка","onUpdate:modelValue":t[5]||(t[5]=l=>s.companyForm.law_params.name=l)},null,512),[[vModelText,s.companyForm.law_params.name]]),_hoisted_17$_]),createBaseVNode("div",_hoisted_18$X,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"oooName",placeholder:"23055, г. Краснодар, ул. Красная, д. 1, офис 234","onUpdate:modelValue":t[6]||(t[6]=l=>s.companyForm.law_params.phisical_adress=l)},null,512),[[vModelText,s.companyForm.law_params.phisical_adress]]),_hoisted_19$U]),createBaseVNode("div",_hoisted_20$S,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"oooInn",placeholder:"1234567890",maxlength:"10","onUpdate:modelValue":t[7]||(t[7]=l=>s.companyForm.law_params.inn=l),required:""},null,512),[[n,["##########"]],[vModelText,s.companyForm.law_params.inn]]),_hoisted_21$Q]),createBaseVNode("div",_hoisted_22$Q,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"oooKpp",placeholder:"123456789",maxlength:"9","onUpdate:modelValue":t[8]||(t[8]=l=>s.companyForm.law_params.kpp=l),required:""},null,512),[[n,["#########"]],[vModelText,s.companyForm.law_params.kpp]]),_hoisted_23$Q]),createBaseVNode("div",_hoisted_24$N,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"oooOgrn",placeholder:"1234567890123",maxlength:"13","onUpdate:modelValue":t[9]||(t[9]=l=>s.companyForm.law_params.ogrn=l),required:""},null,512),[[n,["#############"]],[vModelText,s.companyForm.law_params.ogrn]]),_hoisted_25$K])])):createCommentVNode("",!0),s.companyForm.law_params.selected_type===1||s.companyForm.law_params.selected_type===0?(openBlock(),createElementBlock("div",_hoisted_26$I,[createBaseVNode("div",_hoisted_27$E,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"selfFullName",placeholder:"Иванов Иван Иванович","onUpdate:modelValue":t[10]||(t[10]=l=>s.companyForm.law_params.full_name=l)},null,512),[[vModelText,s.companyForm.law_params.full_name]]),_hoisted_28$D]),createBaseVNode("div",_hoisted_29$B,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"selfInn",placeholder:"123456789012",maxlength:"12","onUpdate:modelValue":t[11]||(t[11]=l=>s.companyForm.law_params.inn=l)},null,512),[[n,["############"]],[vModelText,s.companyForm.law_params.inn]]),_hoisted_30$A]),createBaseVNode("div",_hoisted_31$z,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"selfPassportNumber",placeholder:"1234 567890",maxlength:"10","onUpdate:modelValue":t[12]||(t[12]=l=>s.companyForm.law_params.passport_number=l)},null,512),[[n,["#### ######"]],[vModelText,s.companyForm.law_params.passport_number]]),_hoisted_32$z]),createBaseVNode("div",_hoisted_33$y,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control",id:"selfPassportDate","onUpdate:modelValue":t[13]||(t[13]=l=>s.companyForm.law_params.passport_date=l)},null,512),[[vModelText,s.companyForm.law_params.passport_date]]),_hoisted_34$x]),createBaseVNode("div",_hoisted_35$x,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"selfPassportIssuer",placeholder:"Отделением УФМС России","onUpdate:modelValue":t[14]||(t[14]=l=>s.companyForm.law_params.passport_issuer=l)},null,512),[[vModelText,s.companyForm.law_params.passport_issuer]]),_hoisted_36$w])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37$w,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",id:"agreementCheck","onUpdate:modelValue":t[15]||(t[15]=l=>s.companyForm.law_params.agreement=l)},null,512),[[vModelCheckbox,s.companyForm.law_params.agreement]]),_hoisted_38$v]),_hoisted_39$v],32)}const CompanyForm=_export_sfc(_sfc_main$1M,[["render",_sfc_render$F]]),CertificateForm_vue_vue_type_style_index_0_scoped_838cadd5_lang="",_sfc_main$1L={props:["modelValue"],data(){return{loaded_params:!1,form:null}},watch:{form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.modelValue.init_certificate||(this.form.init_certificate={title:"Подарочный сертификат",description:"500 рублей на CashBack",amount:500,type:"cashback",is_active:!1}),this.loaded_params=!0})}},_withScopeId$e=o=>(pushScopeId("data-v-838cadd5"),o=o(),popScopeId(),o),_hoisted_1$1L={key:0,class:"d-flex flex-column justify-content-center align-items-center pb-5"},_hoisted_2$1J={class:"p-1 w-100"},_hoisted_3$1I={class:"form-floating mb-2"},_hoisted_4$1C=_withScopeId$e(()=>createBaseVNode("label",{htmlFor:"title"},"Название сертификата",-1)),_hoisted_5$1B={class:"form-floating mb-2"},_hoisted_6$1A=_withScopeId$e(()=>createBaseVNode("label",{htmlFor:"title"},"Описание приза",-1)),_hoisted_7$1u={key:0,class:"form-floating mb-2"},_hoisted_8$1q={htmlFor:"amount"},_hoisted_9$1m={key:0},_hoisted_10$1g={key:1},_hoisted_11$1d={key:2},_hoisted_12$1c={class:"mb-2 form-floating"},_hoisted_13$17=_withScopeId$e(()=>createBaseVNode("option",{value:"cashback"},"CashBack",-1)),_hoisted_14$14=_withScopeId$e(()=>createBaseVNode("option",{value:"discount"},"Скидка",-1)),_hoisted_15$14=_withScopeId$e(()=>createBaseVNode("option",{value:"gift"},"Подарок",-1)),_hoisted_16$13=[_hoisted_13$17,_hoisted_14$14,_hoisted_15$14],_hoisted_17$Z=_withScopeId$e(()=>createBaseVNode("label",{htmlFor:"type",class:"form-label"},"Тип сертификата",-1)),_hoisted_18$W={class:"form-check form-switch mb-2"},_hoisted_19$T=_withScopeId$e(()=>createBaseVNode("label",{class:"form-check-label",htmlFor:"isActive"},"Активен",-1)),_hoisted_20$R={class:"image-with-labels"},_hoisted_21$P=_withScopeId$e(()=>createBaseVNode("img",{src:"/images/certificate_1.png",alt:"Certificate Background",class:"bg-image"},null,-1)),_hoisted_22$P={class:"text-data"},_hoisted_23$P={class:"title mb-0"},_hoisted_24$M={class:"description mb-0"},_hoisted_25$J=_withScopeId$e(()=>createBaseVNode("p",{class:"data"},"25.05.2025",-1)),_hoisted_26$H=_withScopeId$e(()=>createBaseVNode("p",{class:"qr"}," Место под QR-код ",-1));function _sfc_render$E(o,t,a,i,s,r){return s.loaded_params?(openBlock(),createElementBlock("div",_hoisted_1$1L,[createBaseVNode("form",_hoisted_2$1J,[createBaseVNode("div",_hoisted_3$1I,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=n=>s.form.init_certificate.title=n),placeholder:"Подарочный сертификат",required:""},null,512),[[vModelText,s.form.init_certificate.title]]),_hoisted_4$1C]),createBaseVNode("div",_hoisted_5$1B,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[1]||(t[1]=n=>s.form.init_certificate.description=n),placeholder:"Подарочный сертификат",required:""},null,512),[[vModelText,s.form.init_certificate.description]]),_hoisted_6$1A]),s.form.init_certificate.type==="cashback"||s.form.init_certificate.type==="discount"?(openBlock(),createElementBlock("div",_hoisted_7$1u,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",id:"amount","onUpdate:modelValue":t[2]||(t[2]=n=>s.form.init_certificate.amount=n),placeholder:"500"},null,512),[[vModelText,s.form.init_certificate.amount]]),createBaseVNode("label",_hoisted_8$1q,[s.form.init_certificate.type==="cashback"?(openBlock(),createElementBlock("span",_hoisted_9$1m,"Сумма кэшбэка, руб")):createCommentVNode("",!0),s.form.init_certificate.type==="discount"?(openBlock(),createElementBlock("span",_hoisted_10$1g,"Процент скидки, %")):createCommentVNode("",!0),s.form.init_certificate.type==="gift"?(openBlock(),createElementBlock("span",_hoisted_11$1d,"Идентификатор подарка")):createCommentVNode("",!0)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$1c,[withDirectives(createBaseVNode("select",{class:"form-select",id:"type","onUpdate:modelValue":t[3]||(t[3]=n=>s.form.init_certificate.type=n),required:""},_hoisted_16$13,512),[[vModelSelect,s.form.init_certificate.type]]),_hoisted_17$Z]),createBaseVNode("div",_hoisted_18$W,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",id:"isActive",required:"","onUpdate:modelValue":t[4]||(t[4]=n=>s.form.init_certificate.is_active=n)},null,512),[[vModelCheckbox,s.form.init_certificate.is_active]]),_hoisted_19$T])]),createBaseVNode("div",_hoisted_20$R,[_hoisted_21$P,createBaseVNode("div",_hoisted_22$P,[createBaseVNode("p",_hoisted_23$P,toDisplayString(s.form.init_certificate.title||"Заголовок"),1),createBaseVNode("p",_hoisted_24$M,toDisplayString(s.form.init_certificate.description||"Описание"),1),_hoisted_25$J,_hoisted_26$H])])])):createCommentVNode("",!0)}const CertificateForm=_export_sfc(_sfc_main$1L,[["render",_sfc_render$E],["__scopeId","data-v-838cadd5"]]),TableTypeSelector_vue_vue_type_style_index_0_scoped_39720295_lang="",_sfc_main$1K={name:"TableTypeSelector",data(){return{selectedTypes:[],tableTypes:[{id:"all",label:"Все"},{id:2,label:"2 места"},{id:3,label:"3 места"},{id:4,label:"4 места"},{id:5,label:"5 мест"},{id:6,label:"6 мест"},{id:8,label:"8 мест"},{id:10,label:"10 мест"}]}},methods:{selectType(o){if(o==="all"){this.selectedTypes=[],this.$emit("selection",this.selectedTypes);return}let t=this.selectedTypes.findIndex(a=>a===o);t!==-1?this.selectedTypes.splice(t,1):this.selectedTypes.push(o),this.$emit("selection",this.selectedTypes)}}},_hoisted_1$1K={class:"table-type-selector"},_hoisted_2$1I={class:"scroll-container"},_hoisted_3$1H=["onClick"];function _sfc_render$D(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$1K,[createBaseVNode("div",_hoisted_2$1I,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.tableTypes,n=>(openBlock(),createElementBlock("button",{key:n.id,type:"button",class:normalizeClass(["btn",{"btn-primary":s.selectedTypes.indexOf(n.id)!==-1,"btn-light":s.selectedTypes.indexOf(n.id)===-1}]),onClick:l=>r.selectType(n.id)},toDisplayString(n.label),11,_hoisted_3$1H))),128))])])}const TableTypeSelector=_export_sfc(_sfc_main$1K,[["render",_sfc_render$D],["__scopeId","data-v-39720295"]]),SelectedTablesList_vue_vue_type_style_index_0_scoped_f4d4be27_lang="",_sfc_main$1J={name:"SelectedTablesList",props:{sortedSelectedTables:{type:Array,required:!0}},methods:{removeItem(o){this.$emit("remove",o)}}},_withScopeId$d=o=>(pushScopeId("data-v-f4d4be27"),o=o(),popScopeId(),o),_hoisted_1$1J={key:0,class:"selected-tables-list mt-2"},_hoisted_2$1H={class:"fw-bold"},_hoisted_3$1G={class:"scroll-container"},_hoisted_4$1B=["onClick"],_hoisted_5$1A=_withScopeId$d(()=>createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1)),_hoisted_6$1z=[_hoisted_5$1A];function _sfc_render$C(o,t,a,i,s,r){return a.sortedSelectedTables.length>0?(openBlock(),createElementBlock("div",_hoisted_1$1J,[createBaseVNode("h6",_hoisted_2$1H,"Выбранные столики - "+toDisplayString(a.sortedSelectedTables.length)+" шт.",1),createBaseVNode("div",_hoisted_3$1G,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.sortedSelectedTables,(n,l)=>(openBlock(),createElementBlock("div",{class:"badge",key:l},[createTextVNode(toDisplayString(n.description)+" ("+toDisplayString(n.seats)+" места) ",1),createBaseVNode("span",{onClick:c=>r.removeItem(n.id)},_hoisted_6$1z,8,_hoisted_4$1B)]))),128))])])):createCommentVNode("",!0)}const SelectedTablesList=_export_sfc(_sfc_main$1J,[["render",_sfc_render$C],["__scopeId","data-v-f4d4be27"]]),TablePlanner_vue_vue_type_style_index_0_scoped_e77e24f2_lang="",_withScopeId$c=o=>(pushScopeId("data-v-e77e24f2"),o=o(),popScopeId(),o),_hoisted_1$1I={key:0,class:"hall-constructor"},_hoisted_2$1G={class:"form-check form-switch mb-2"},_hoisted_3$1F={class:"form-check-label",for:"script-settings-need_table_list"},_hoisted_4$1A=_withScopeId$c(()=>createBaseVNode("p",{class:"alert alert-light mb-2"}," Укажите максимальное число столиков в заведении ",-1)),_hoisted_5$1z={class:"form-floating mb-2"},_hoisted_6$1y=_withScopeId$c(()=>createBaseVNode("label",{for:"modelValue-table-number"},"Число столиков",-1)),_hoisted_7$1t=["href"],_hoisted_8$1p=_withScopeId$c(()=>createBaseVNode("i",{class:"fa-solid fa-qrcode"},null,-1)),_hoisted_9$1l=_withScopeId$c(()=>createBaseVNode("div",{class:"divider my-3"},"Настройка бронирования",-1)),_hoisted_10$1f={class:"form-check form-switch mb-2"},_hoisted_11$1c={class:"form-check-label",for:"script-settings-need_bonuses_section"},_hoisted_12$1b=_withScopeId$c(()=>createBaseVNode("h6",{class:"fw-bold"},"Выберите тип столика",-1)),_hoisted_13$16=_withScopeId$c(()=>createBaseVNode("h6",{class:"fw-bold"},"Выберите столик",-1)),_hoisted_14$13={key:0,class:"row"},_hoisted_15$13={class:"border border-light p-2"},_hoisted_16$12={alt:"table",class:"table-img"},_hoisted_17$Y=["onClick"],_hoisted_18$V=["onClick"],_hoisted_19$S={class:"fw-bold p-0"},_hoisted_20$Q={key:1,class:"alert alert-light"},_hoisted_21$O={key:0,class:"p-2"},_hoisted_22$O=_withScopeId$c(()=>createBaseVNode("h6",{class:"fw-bold"},"Выбранные столики",-1)),_hoisted_23$O={class:"col-4"},_hoisted_24$L={alt:"table",class:"table-img-small"},_hoisted_25$I={class:"col-8"},_hoisted_26$G={class:"d-flex"},_hoisted_27$D=["onClick"],_hoisted_28$C=["onClick"],_hoisted_29$A={key:0,class:"col-12"},_hoisted_30$z={class:"form-floating mb-2"},_hoisted_31$y=["onUpdate:modelValue","id"],_hoisted_32$y=["for"],_hoisted_33$x={class:"form-floating mb-2"},_hoisted_34$w=["onUpdate:modelValue","id"],_hoisted_35$w=["for"],_hoisted_36$v={class:"form-floating"},_hoisted_37$v=["onUpdate:modelValue","id"],_hoisted_38$u=["for"],_hoisted_39$u={key:1,class:"alert alert-light"},__default__$15={name:"HallConstructor",props:["modelValue"],data(){return{loaded_params:!1,tab:"configurator",form:null,tableFilters:[],tablesTemplate:[{id:1,image:"1.png",description:"Угловой стол на 4 места",seats:4},{id:2,image:"2.png",description:"Угловой стол на 4 места",seats:4},{id:3,image:"3.png",description:"Круглый стол на 8 мест",seats:8},{id:4,image:"4.png",description:"Овальный стол на 6 мест",seats:6},{id:5,image:"5.png",description:"Овальный стол на 8 мест",seats:8},{id:6,image:"6.png",description:"Овальный стол с диваном на 8 мест",seats:8},{id:7,image:"7.png",description:"Прямоугольный стол с диваном на 8 мест",seats:8},{id:8,image:"8.png",description:"Овальный стол с диваном на 6 мест",seats:6},{id:9,image:"9.png",description:"Прямоугольный стол с диваном на 6 мест",seats:6},{id:10,image:"10.png",description:"Овальный стол с диваном на 4 места",seats:4},{id:11,image:"11.png",description:"Прямоугольный стол с диваном на 4 мест",seats:4},{id:12,image:"12.png",description:"Прямоугольный стол на 4 места",seats:4},{id:13,image:"13.png",description:"Прямоугольный стол на 6 мест",seats:6},{id:14,image:"14.png",description:"Круглый стол на 6 мест",seats:6},{id:15,image:"15.png",description:"Круглый стол на 5 мест",seats:5},{id:16,image:"16.png",description:"Круглый стол на 2 места",seats:2},{id:17,image:"17.png",description:"Круглый стол на 4 места",seats:4},{id:18,image:"18.png",description:"Квадратный стол на 2 места",seats:2},{id:19,image:"19.png",description:"Квадратный стол на 4 места",seats:4}]}},watch:{form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.modelValue.tables_variants||(this.form.tables_variants=[]),this.loaded_params=!0})},computed:{scriptId(){return window.currentScript||null},bot(){return window.currentBot||null},filteredTables(){return this.tableFilters.length===0?(this.tablesTemplate||[]).slice().sort((o,t)=>o.seats-t.seats):this.tablesTemplate.filter(o=>this.tableFilters.includes(o.seats)).sort((o,t)=>o.seats-t.seats)},sortedSelectedTables(){return this.form.tables_variants?this.form.tables_variants.sort((o,t)=>o.seats-t.seats):[]}},methods:{countTableInSelection(o){return(this.form.tables_variants.filter(t=>t.id===o)||[]).length},removeFromSelectedTableList(o){console.log("removeFromSelectedTableList",o,this.form.tables_variants);let t=this.form.tables_variants.findIndex(a=>a.id===o);t!==-1&&this.form.tables_variants.splice(t,1)},changeTableFilter(o){this.tableFilters=o},selectTable(o){o.edit=!1,o.number=o.id,this.form.tables_variants.push({...o}),this.$notify({title:"Информация о столиках",text:"Столик добавлен в общий список!",type:"success"})}}},_sfc_main$1I=Object.assign(__default__$15,{setup(o){return(t,a)=>{const i=resolveDirective("lazy");return t.loaded_params?(openBlock(),createElementBlock("div",_hoisted_1$1I,[createBaseVNode("div",_hoisted_2$1G,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=s=>t.form.need_table_list=s),role:"switch",id:"script-settings-need_table_list"},null,512),[[vModelCheckbox,t.form.need_table_list]]),createBaseVNode("label",_hoisted_3$1F,[createTextVNode("Столики в заведении: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.need_table_list})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.need_table_list})},"выкл",2)])]),t.form.need_table_list?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_4$1A,createBaseVNode("div",_hoisted_5$1z,[withDirectives(createBaseVNode("input",{type:"number",min:"0",max:"200","onUpdate:modelValue":a[1]||(a[1]=s=>t.form.max_tables=s),class:"form-control",id:"modelValue-table-number",placeholder:"Номер столика"},null,512),[[vModelText,t.form.max_tables]]),_hoisted_6$1y]),createBaseVNode("a",{href:"/bot-client/"+t.bot.bot_domain+"/tables-qr?count="+t.form.max_tables+"&script-id="+t.scriptId,target:"_blank",class:"btn btn-info w-100 p-3 mb-2"},[_hoisted_8$1p,createTextVNode(" Скачать QR-коды для столиков")],8,_hoisted_7$1t)],64)):createCommentVNode("",!0),_hoisted_9$1l,createBaseVNode("div",_hoisted_10$1f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=s=>t.form.can_use_booking=s),role:"switch",id:"script-settings-need_bonuses_section"},null,512),[[vModelCheckbox,t.form.can_use_booking]]),createBaseVNode("label",_hoisted_11$1c,[createTextVNode("Разрешить бронирование столиков: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_use_booking})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_use_booking})},"выкл",2)])]),t.tab==="table-selector"?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("button",{type:"button",class:"btn btn-primary mb-2",onClick:a[3]||(a[3]=s=>t.tab="configurator")},"Закрыть "),_hoisted_12$1b,createVNode(TableTypeSelector,{onSelection:t.changeTableFilter},null,8,["onSelection"]),createVNode(SelectedTablesList,{onRemove:t.removeFromSelectedTableList,"sorted-selected-tables":t.form.tables_variants},null,8,["onRemove","sorted-selected-tables"]),_hoisted_13$16,t.filteredTables.length>0?(openBlock(),createElementBlock("div",_hoisted_14$13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredTables,s=>(openBlock(),createElementBlock("div",{key:s.id,class:"col-6 p-2"},[createBaseVNode("div",_hoisted_15$13,[withDirectives(createBaseVNode("img",_hoisted_16$12,null,512),[[i,"/images/tables/"+s.image]]),createBaseVNode("p",null,"Столик №"+toDisplayString(s.id),1),createBaseVNode("p",null,toDisplayString(s.description),1),t.countTableInSelection(s.id)===0?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:r=>t.selectTable(s),class:"text-center p-0 m-0 w-100 btn btn-primary"},"Выбрать",8,_hoisted_17$Y)):(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",onClick:r=>t.selectTable(s),class:"text-center p-0 m-0 w-100 btn btn-primary"},[createBaseVNode("strong",_hoisted_19$S,toDisplayString(t.countTableInSelection(s.id)),1),createTextVNode(" ед.")],8,_hoisted_18$V))])]))),128))])):(openBlock(),createElementBlock("div",_hoisted_20$Q," Подходящие варианты не найдены "))],64)):createCommentVNode("",!0),t.tab==="configurator"?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("button",{type:"button",class:"btn btn-outline-primary mb-3 w-100 p-2",onClick:a[4]||(a[4]=s=>t.tab="table-selector")},"Конфигуратор столиков "),t.sortedSelectedTables.length>0?(openBlock(),createElementBlock("div",_hoisted_21$O,[_hoisted_22$O,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.sortedSelectedTables,(s,r)=>(openBlock(),createElementBlock("div",{key:r,class:"row mb-2 border-light border py-2"},[createBaseVNode("div",_hoisted_23$O,[withDirectives(createBaseVNode("img",_hoisted_24$L,null,512),[[i,"/images/tables/"+s.image]])]),createBaseVNode("div",_hoisted_25$I,[createBaseVNode("p",null,"Столик №"+toDisplayString(s.number)+" — "+toDisplayString(s.description),1),createBaseVNode("div",_hoisted_26$G,[createBaseVNode("a",{style:{"font-size":"12px","margin-right":"10px"},onClick:n=>t.removeFromSelectedTableList(s.id),href:"javascript:void(0)"},"Удалить",8,_hoisted_27$D),createTextVNode(", "),createBaseVNode("a",{style:{"font-size":"12px","margin-right":"10px"},onClick:n=>s.edit=!s.edit,href:"javascript:void(0)"},"Редактировать",8,_hoisted_28$C)])]),s.edit?(openBlock(),createElementBlock("div",_hoisted_29$A,[createBaseVNode("div",_hoisted_30$z,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":n=>s.number=n,class:"form-control",id:"table-number"+s.id,placeholder:"Password"},null,8,_hoisted_31$y),[[vModelText,s.number,void 0,{number:!0}]]),createBaseVNode("label",{for:"table-number"+s.id},"Номер",8,_hoisted_32$y)]),createBaseVNode("div",_hoisted_33$x,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":n=>s.seats=n,class:"form-control",id:"seats-count"+s.id,placeholder:"Password"},null,8,_hoisted_34$w),[[vModelText,s.seats,void 0,{number:!0}]]),createBaseVNode("label",{for:"seats-count"+s.id},"Мест",8,_hoisted_35$w)]),createBaseVNode("div",_hoisted_36$v,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":n=>s.description=n,placeholder:"Leave a comment here",id:"seats-description"+s.id},null,8,_hoisted_37$v),[[vModelText,s.description,void 0,{number:!0}]]),createBaseVNode("label",{for:"seats-description"+s.id},"Описание",8,_hoisted_38$u)])])):createCommentVNode("",!0)]))),128))])):(openBlock(),createElementBlock("p",_hoisted_39$u," Вы еще не добавили столики для бронирования "))],64)):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),TablePlanner=_export_sfc(_sfc_main$1I,[["__scopeId","data-v-e77e24f2"]]),_sfc_main$1H={props:["modelValue"],data(){return{loaded_params:!1,form:null}},watch:{form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.modelValue.coffee||(this.form.coffee={enabled:!0,max:7,rules:`
1. За каждую покупку кофе — 1 отметка.
2. После 7 кружек — 1 кофе бесплатно.
3. Отметки действуют 30 дней.
4. Бесплатный кофе нельзя обменять на деньги.
        `}),this.loaded_params=!0})}},_hoisted_1$1H={class:"form-check form-switch mb-2"},_hoisted_2$1F={class:"form-check-label",for:"script-settings-is_edit_mode"},_hoisted_3$1E={class:"form-floating mb-2"},_hoisted_4$1z=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст правил",-1),_hoisted_5$1y={class:"form-floating mb-2"},_hoisted_6$1x=createBaseVNode("label",{for:"floatingInput"},"Необходимое кол-во",-1);function _sfc_render$B(o,t,a,i,s,r){var n;return(n=s.form)!=null&&n.coffee?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_1$1H,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.coffee.enabled=l),role:"switch",id:"script-settings-is_edit_mode"},null,512),[[vModelCheckbox,s.form.coffee.enabled]]),createBaseVNode("label",_hoisted_2$1F,[createTextVNode("Режим бонусного кофе: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":s.form.coffee.enabled})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!s.form.coffee.enabled})},"выкл",2)])]),createBaseVNode("div",_hoisted_3$1E,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.coffee.rules=l),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,s.form.coffee.rules]]),_hoisted_4$1z]),createBaseVNode("div",_hoisted_5$1y,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[2]||(t[2]=l=>s.form.coffee.max=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.form.coffee.max]]),_hoisted_6$1x])],64)):createCommentVNode("",!0)}const CoffeeConfigForm=_export_sfc(_sfc_main$1H,[["render",_sfc_render$B]]),_hoisted_1$1G={class:"row",style:{position:"sticky",top:"0px","z-index":"1000"}},_hoisted_2$1E={class:"col-12"},_hoisted_3$1D={class:"btn-group w-100 px-3 py-2",style:{"overflow-x":"auto"}},_hoisted_4$1y=createBaseVNode("i",{class:"fa-solid fa-scroll mr-2"},null,-1),_hoisted_5$1x=createBaseVNode("i",{class:"fa-solid fa-table mr-2"},null,-1),_hoisted_6$1w=createBaseVNode("i",{class:"fa fa-coffee mr-2"},null,-1),_hoisted_7$1s=createBaseVNode("i",{class:"fa-solid fa-certificate mr-2"},null,-1),_hoisted_8$1o=createBaseVNode("i",{class:"fa-solid fa-coins mr-2"},null,-1),_hoisted_9$1k=createBaseVNode("i",{class:"fa-solid fa-users mr-2"},null,-1),_hoisted_10$1e={key:0,class:"py-3"},_hoisted_11$1b=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),_hoisted_12$1a={key:1,class:"py-3"},_hoisted_13$15=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),_hoisted_14$12={key:2,class:"py-3"},_hoisted_15$12=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),_hoisted_16$11={key:3,class:"py-3"},_hoisted_17$X=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),_hoisted_18$U={key:4,class:"py-3"},_hoisted_19$R=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),__default__$14={props:["modelValue","defaultType"],data(){return{tab:0,form:null}},watch:{form:{handler:function(o){this.$emit("updated:modelValue",this.form)},deep:!0}},mounted(){this.$nextTick(()=>{this.form=this.modelValue,this.defaultType&&(this.tab=this.defaultType||0)})},methods:{submit(){let o=new FormData;Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("updateScriptParams",{slugForm:o}).then(t=>{this.$notify({title:"Информация о скрипте",text:"Информация о скрипте успешно обновлена!",type:"success"}),this.$emit("callback",t.data)}).catch(t=>{this.$notify({title:"Информация о скрипте",text:"Ошибка обновления информации о скрипте",type:"error"})})}}},_sfc_main$1G=Object.assign(__default__$14,{__name:"ShopScriptEditor",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1G,[createBaseVNode("div",_hoisted_2$1E,[createBaseVNode("div",_hoisted_3$1D,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===0}]),onClick:a[0]||(a[0]=i=>t.tab=0),style:{"line-height":"100%","white-space":"nowrap"},"aria-current":"page"},[_hoisted_4$1y,createTextVNode(" Магазин ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===4}]),onClick:a[1]||(a[1]=i=>t.tab=4),style:{"line-height":"100%","white-space":"nowrap"},"aria-current":"page"},[_hoisted_5$1x,createTextVNode(" Столики и бронь ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===5}]),onClick:a[2]||(a[2]=i=>t.tab=5),style:{"line-height":"100%","white-space":"nowrap"},"aria-current":"page"},[_hoisted_6$1w,createTextVNode(" Кофе в подарок ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===3}]),onClick:a[3]||(a[3]=i=>t.tab=3),style:{"line-height":"100%","white-space":"nowrap"},"aria-current":"page"},[_hoisted_7$1s,createTextVNode(" Реферальный сертификат ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===2}]),onClick:a[4]||(a[4]=i=>t.tab=2),style:{"line-height":"100%","white-space":"nowrap"},"aria-current":"page"},[_hoisted_8$1o,createTextVNode(" Юридические данные ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info d-block btn p-3",{active:t.tab===1}]),onClick:a[5]||(a[5]=i=>t.tab=1),style:{"line-height":"100%","white-space":"nowrap"},"aria-current":"page"},[_hoisted_9$1k,createTextVNode(" Интерактив в магазине ")],2)])])]),createBaseVNode("form",{onSubmit:a[11]||(a[11]=withModifiers((...i)=>t.submit&&t.submit(...i),["prevent"]))},[t.tab===0?(openBlock(),createElementBlock("div",_hoisted_10$1e,[t.form?(openBlock(),createBlock(_sfc_main$1N,{key:0,modelValue:t.form,"onUpdate:modelValue":a[6]||(a[6]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0),_hoisted_11$1b])):createCommentVNode("",!0),t.tab===4?(openBlock(),createElementBlock("div",_hoisted_12$1a,[t.form?(openBlock(),createBlock(TablePlanner,{key:0,modelValue:t.form,"onUpdate:modelValue":a[7]||(a[7]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0),_hoisted_13$15])):createCommentVNode("",!0),t.tab===5?(openBlock(),createElementBlock("div",_hoisted_14$12,[t.form?(openBlock(),createBlock(CoffeeConfigForm,{key:0,modelValue:t.form,"onUpdate:modelValue":a[8]||(a[8]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0),_hoisted_15$12])):createCommentVNode("",!0),t.tab===3?(openBlock(),createElementBlock("div",_hoisted_16$11,[t.form?(openBlock(),createBlock(CertificateForm,{key:0,modelValue:t.form,"onUpdate:modelValue":a[9]||(a[9]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0),_hoisted_17$X])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_18$U,[t.form?(openBlock(),createBlock(_sfc_main$1O,{key:0,modelValue:t.form,"onUpdate:modelValue":a[10]||(a[10]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0),_hoisted_19$R])):createCommentVNode("",!0)],32),t.tab===2?(openBlock(),createBlock(CompanyForm,{key:0,class:"py-3"})):createCommentVNode("",!0)],64))}}),Menu_vue_vue_type_style_index_0_lang="",_hoisted_1$1F={key:0,class:"container py-3"},_hoisted_2$1D={key:0,class:"alert alert-danger mb-3"},_hoisted_3$1C=["innerHTML"],_hoisted_4$1x=createBaseVNode("h6",{class:"opacity-75 mb-3 text-center"},[createBaseVNode("i",{class:"fa-solid fa-house-chimney mr-2 text-primary"}),createTextVNode("Доступные сервисы")],-1),_hoisted_5$1w={key:3,class:"row g-2"},_hoisted_6$1v={class:"col-12"},_hoisted_7$1r={key:0,class:"alert alert-light",role:"alert"},_hoisted_8$1n=createBaseVNode("span",{class:"text-primary fw-bold"},"не работаем",-1),_hoisted_9$1j=createBaseVNode("span",{"data-bs-toggle":"modal","data-bs-target":"#schedule-list-display",class:"text-primary fw-bold text-decoration-underline cursor-pointer"},"графиком работы",-1),_hoisted_10$1d={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_11$1a={class:"col"},_hoisted_12$19={key:0,class:"col"},_hoisted_13$14={class:"col"},_hoisted_14$11={class:"col"},_hoisted_15$11={key:0,class:"badge bg-primary"},_hoisted_16$10={class:"col"},_hoisted_17$W={key:1,class:"col"},_hoisted_18$T={class:"col"},_hoisted_19$Q=createBaseVNode("div",{class:"divider my-3"}," Дополнительно",-1),_hoisted_20$P=createBaseVNode("i",{class:"fa fa-dot-circle"},null,-1),_hoisted_21$N=createBaseVNode("i",{class:"fa fa-people-carry"},null,-1),_hoisted_22$N=createBaseVNode("h6",{class:"opacity-75 my-3 text-center"},[createBaseVNode("i",{class:"fa-solid fa-house-lock mr-2 text-primary"}),createTextVNode("Управление магазином")],-1),_hoisted_23$N={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_24$K={class:"col"},_hoisted_25$H={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_26$F={class:"img-fluid",alt:""},_hoisted_27$C=createBaseVNode("p",{class:"my-2"},"Счет на оплату",-1),_hoisted_28$B={class:"col"},_hoisted_29$z={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_30$y={class:"img-fluid",alt:""},_hoisted_31$x=createBaseVNode("p",{class:"my-2"},"Управление товарами",-1),_hoisted_32$x={key:0,class:"col"},_hoisted_33$w={type:"button","data-bs-toggle":"modal","data-bs-target":"#script-setting-editor",style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},_hoisted_34$v={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_35$v={class:"img-fluid",alt:""},_hoisted_36$u=createBaseVNode("p",{class:"my-2"},"Настройка магазина",-1),_hoisted_37$u={class:"col"},_hoisted_38$t={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_39$t={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_40$r=createBaseVNode("p",{class:"my-2"},"Работа с партнерами",-1),_hoisted_41$r={class:"col"},_hoisted_42$r={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_43$r={class:"img-fluid",alt:""},_hoisted_44$r=createBaseVNode("p",{class:"my-2"},"Управление историями",-1),_hoisted_45$r={class:"col"},_hoisted_46$r={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_47$p={class:"menu-item-img img-fluid",alt:""},_hoisted_48$p=createBaseVNode("p",{class:"my-2"},"Управление столиками",-1),_hoisted_49$o=createBaseVNode("h6",{class:"opacity-75 my-3 text-center"},[createBaseVNode("i",{class:"fa-solid fa-house-lock mr-2 text-primary"}),createTextVNode("Другие админ сервисы")],-1),_hoisted_50$o={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_51$n={class:"col"},_hoisted_52$n={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_53$m={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_54$m=createBaseVNode("p",{class:"my-2"},"Управление клиентами",-1),_hoisted_55$j={class:"col"},_hoisted_56$j={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_57$i={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_58$h=createBaseVNode("p",{class:"my-2"},"UTM-метки",-1),_hoisted_59$h={class:"col"},_hoisted_60$g={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_61$g={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_62$f=createBaseVNode("p",{class:"my-2"},"Управление рассылками",-1),_hoisted_63$f={class:"col"},_hoisted_64$e={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_65$e={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_66$e=createBaseVNode("p",{class:"my-2"},"Управление заказами",-1),_hoisted_67$e={class:"col"},_hoisted_68$e={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_69$e={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_70$e=createBaseVNode("p",{class:"my-2"},"Управление промокодами",-1),_hoisted_71$e={class:"col"},_hoisted_72$d={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_73$d={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_74$c=createBaseVNode("p",{class:"my-2"},"Статистика",-1),_hoisted_75$c={key:1,class:"menu-preloader"},_hoisted_76$c=createBaseVNode("div",{class:"d-flex flex-column align-items-center"},[createBaseVNode("div",{class:"spinner-grow bg-primary",style:{width:"3rem",height:"3rem"},role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")]),createBaseVNode("p",{class:"py-2"},"Загружаем...")],-1),_hoisted_77$c=[_hoisted_76$c],_hoisted_78$b={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_79$b=createBaseVNode("i",{class:"fa-brands fa-telegram"},null,-1),_hoisted_80$b={class:"modal fade",id:"script-setting-editor",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_81$b={class:"modal-dialog modal-fullscreen"},_hoisted_82$b={class:"modal-content"},_hoisted_83$a=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_84$9={class:"modal-body"},__default__$13={data(){return{loadScriptData:!1,stories:[],script_data:{is_disabled:!0,wheel_of_fortune:{can_play:!1}}}},computed:{...mapGetters(["getSelf","cartTotalCount","getStories"]),preparedMenuItem(){if(!this.bot.settings)return[];let o=this.bot.settings.icons||[],t=[];return o.forEach(a=>{t[a.slug]=a}),t},isWork(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work:!0},tg(){return window.Telegram.WebApp},bot(){return window.currentBot}},mounted(){var o;this.tg.BackButton.show(),(o=this.bot.settings)!=null&&o.self_updated?(this.script_data=this.bot.settings,this.loadStories(),this.loadScriptData=!0):this.loadScriptModuleData().then(()=>{this.loadStories()}),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click()),this.$router.back()})},methods:{doSwipeLeft(){this.$router.push({name:"ShopCartV2"})},doSwipeRight(){this.$router.push({name:"CatalogV2"})},goTo(o){this.$router.push({name:o})},switchToPage(o){this.$store.dispatch("switchToPage",{page:o}).then(()=>{this.tg.close()}).catch(()=>{this.$notify({title:"Упс...",text:"Данная функция временно недоступна...",type:"error"})})},startMenu(){this.$store.dispatch("switchToMainMenu"),this.tg.close()},loadStories(){this.$store.dispatch("loadStories").then(o=>{this.stories=this.getStories||[]})},loadScriptModuleData(){return this.loadScriptData=!1,this.$store.dispatch("loadShopModuleData").then(o=>{let t=o.data;this.script_data=[],this.$nextTick(()=>{t&&Object.keys(t).forEach(a=>{a&&(this.script_data[a]=t[a])}),this.loadScriptData=!0})})}}},_sfc_main$1F=Object.assign(__default__$13,{__name:"Menu",setup(o){return(t,a)=>{var r,n,l,c,m,p,y,b,k,V,F;const i=resolveDirective("lazy"),s=resolveDirective("touch");return openBlock(),createElementBlock(Fragment,null,[t.getSelf?withDirectives((openBlock(),createElementBlock("div",_hoisted_1$1F,[t.script_data.is_disabled?(openBlock(),createElementBlock("div",_hoisted_2$1D,[createBaseVNode("p",{class:"mb-0",innerHTML:t.script_data.disabled_text||"-"},null,8,_hoisted_3$1C)])):createCommentVNode("",!0),(t.stories||[]).length>0?(openBlock(),createBlock(StoryList,{key:1,stories:t.stories||[]},null,8,["stories"])):createCommentVNode("",!0),t.getSelf.is_admin&&(t.stories||[]).length>0?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",style:{"font-size":"10pt"},class:"text-center d-block my-2",onClick:a[0]||(a[0]=x=>t.goTo("StoryManagerV2"))},"Редактировать")):createCommentVNode("",!0),_hoisted_4$1x,t.bot?(openBlock(),createElementBlock("div",_hoisted_5$1w,[createBaseVNode("div",_hoisted_6$1v,[t.isWork?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$1r,[createTextVNode(" В данный момент мы "),_hoisted_8$1n,createTextVNode(". Вы можете ознакомиться с нашим "),_hoisted_9$1j,createTextVNode(". ")]))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$1d,[createBaseVNode("div",_hoisted_11$1a,[(r=t.preparedMenuItem.profile)!=null&&r.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,route:"ProfileV2","default-image":"profile.png","default-text":"Профиль",item:t.preparedMenuItem.profile||null},null,8,["default-image","item"])):createCommentVNode("",!0)]),(n=t.bot.settings)!=null&&n.can_use_booking?(openBlock(),createElementBlock("div",_hoisted_12$19,[(l=t.preparedMenuItem.booking)!=null&&l.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,route:"TableBookingV2","default-image":"profile.png","default-text":"Бронирование столика",item:t.preparedMenuItem.booking||null},null,8,["default-image","item"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$14,[(c=t.preparedMenuItem.shop)!=null&&c.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,disabled:t.script_data.is_disabled,route:"CatalogV2","default-image":"shop.png","default-text":"Магазин",item:t.preparedMenuItem.shop||null},null,8,["disabled","default-image","item"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_14$11,[(m=t.preparedMenuItem.basket)!=null&&m.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,route:"ShopCartV2","default-image":"basket.png","default-text":"Корзина",item:t.preparedMenuItem.basket||null},{"post-text":withCtx(()=>[t.cartTotalCount>0?(openBlock(),createElementBlock("span",_hoisted_15$11,toDisplayString(t.cartTotalCount),1)):createCommentVNode("",!0)]),_:1},8,["default-image","item"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$10,[(p=t.preparedMenuItem.history)!=null&&p.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,route:"OrdersV2","default-image":"history.png","default-text":"История заказов",item:t.preparedMenuItem.history||null},null,8,["default-image","item"])):createCommentVNode("",!0)]),t.script_data.wheel_of_fortune?(openBlock(),createElementBlock("div",_hoisted_17$W,[(y=t.preparedMenuItem.events)!=null&&y.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,disabled:!t.script_data.wheel_of_fortune.can_play,route:"WheelOfFortuneV2","default-image":"events.png","default-text":"Розыгрыши",item:t.preparedMenuItem.events||null},null,8,["disabled","default-image","item"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$T,[(b=t.preparedMenuItem.about)!=null&&b.is_visible?(openBlock(),createBlock(MainMenuItem,{key:0,route:"ContactsV2","default-image":"contacts.png","default-text":"О Нас & Контакты",item:t.preparedMenuItem.about||null},null,8,["default-image","item"])):createCommentVNode("",!0)])]),_hoisted_19$Q,(k=t.preparedMenuItem.wheel_of_fortune_btn)!=null&&k.is_visible?(openBlock(),createElementBlock("button",{key:4,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:a[1]||(a[1]=x=>t.switchToPage("Колесо фортуны")),class:"btn btn-outline-light text-primary w-100 p-3 rounded-3 shadow-sm mb-2"},[_hoisted_20$P,createTextVNode(" "+toDisplayString(t.preparedMenuItem.wheel_of_fortune_btn.title||"Колесо фортуны"),1)])):createCommentVNode("",!0),(V=t.preparedMenuItem.friends_btn)!=null&&V.is_visible?(openBlock(),createElementBlock("button",{key:5,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:a[2]||(a[2]=x=>t.switchToPage("Пригласить друзей")),class:"btn btn-outline-light text-primary mb-2 w-100 p-3 rounded-3 shadow-sm"},[_hoisted_21$N,createTextVNode(" "+toDisplayString(t.preparedMenuItem.friends_btn.title||"Пригласить друзей"),1)])):createCommentVNode("",!0),t.getSelf.is_admin?(openBlock(),createElementBlock(Fragment,{key:6},[_hoisted_22$N,createBaseVNode("div",_hoisted_23$N,[createBaseVNode("div",_hoisted_24$K,[createBaseVNode("button",{type:"button",onClick:a[3]||(a[3]=x=>t.goTo("SendInvoiceV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_25$H,[withDirectives(createBaseVNode("img",_hoisted_26$F,null,512),[[i,"/images/shop-v2-2/clients.png"]]),_hoisted_27$C])])]),createBaseVNode("div",_hoisted_28$B,[createBaseVNode("button",{type:"button",onClick:a[4]||(a[4]=x=>t.goTo("ShopV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_29$z,[withDirectives(createBaseVNode("img",_hoisted_30$y,null,512),[[i,"/images/shop-v2-2/products.png"]]),_hoisted_31$x])])]),t.script_data?(openBlock(),createElementBlock("div",_hoisted_32$x,[createBaseVNode("button",_hoisted_33$w,[createBaseVNode("div",_hoisted_34$v,[withDirectives(createBaseVNode("img",_hoisted_35$v,null,512),[[i,"/images/shop-v2-2/orders.png"]]),_hoisted_36$u])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37$u,[createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=x=>t.goTo("PartnersV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_38$t,[withDirectives(createBaseVNode("img",_hoisted_39$t,null,512),[[i,"/images/shop-v2-2/partners.png"]]),_hoisted_40$r])])]),createBaseVNode("div",_hoisted_41$r,[createBaseVNode("button",{type:"button",onClick:a[6]||(a[6]=x=>t.goTo("StoryManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_42$r,[withDirectives(createBaseVNode("img",_hoisted_43$r,null,512),[[i,"/images/shop-v2-2/promo.png"]]),_hoisted_44$r])])]),createBaseVNode("div",_hoisted_45$r,[t.script_data.need_table_list?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:a[7]||(a[7]=x=>t.goTo("TablesManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_46$r,[withDirectives(createBaseVNode("img",_hoisted_47$p,null,512),[[i,"/images/shop-v2-2/clients.png"]]),_hoisted_48$p])])):createCommentVNode("",!0)])]),_hoisted_49$o,createBaseVNode("div",_hoisted_50$o,[createBaseVNode("div",_hoisted_51$n,[createBaseVNode("button",{type:"button",onClick:a[8]||(a[8]=x=>t.goTo("ClientsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_52$n,[withDirectives(createBaseVNode("img",_hoisted_53$m,null,512),[[i,"/images/shop-v2-2/clients.png"]]),_hoisted_54$m])])]),createBaseVNode("div",_hoisted_55$j,[createBaseVNode("button",{type:"button",onClick:a[9]||(a[9]=x=>t.goTo("LinkManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_56$j,[withDirectives(createBaseVNode("img",_hoisted_57$i,null,512),[[i,"/images/shop-v2-2/utm.png"]]),_hoisted_58$h])])]),createBaseVNode("div",_hoisted_59$h,[createBaseVNode("button",{type:"button",onClick:a[10]||(a[10]=x=>t.goTo("MailingV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_60$g,[withDirectives(createBaseVNode("img",_hoisted_61$g,null,512),[[i,"/images/shop-v2-2/mail.png"]]),_hoisted_62$f])])]),createBaseVNode("div",_hoisted_63$f,[createBaseVNode("button",{type:"button",onClick:a[11]||(a[11]=x=>t.goTo("AdminOrdersV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_64$e,[withDirectives(createBaseVNode("img",_hoisted_65$e,null,512),[[i,"/images/shop-v2-2/orders.png"]]),_hoisted_66$e])])]),createBaseVNode("div",_hoisted_67$e,[createBaseVNode("button",{type:"button",onClick:a[12]||(a[12]=x=>t.goTo("PromoCodesV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_68$e,[withDirectives(createBaseVNode("img",_hoisted_69$e,null,512),[[i,"/images/shop-v2-2/promo.png"]]),_hoisted_70$e])])]),createBaseVNode("div",_hoisted_71$e,[createBaseVNode("button",{type:"button",onClick:a[13]||(a[13]=x=>t.goTo("StatisticV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_72$d,[withDirectives(createBaseVNode("img",_hoisted_73$d,null,512),[[i,"/images/shop-v2-2/statistic.png"]]),_hoisted_74$c])])])])],64)):createCommentVNode("",!0)])),[[s,t.doSwipeLeft,"swipe",{left:!0}],[s,t.doSwipeRight,"swipe",{right:!0}]]):createCommentVNode("",!0),t.loadScriptData?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_75$c,_hoisted_77$c)),createBaseVNode("nav",_hoisted_78$b,[(F=t.preparedMenuItem.main_menu_btn)!=null&&F.is_visible?(openBlock(),createElementBlock("button",{key:0,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:a[14]||(a[14]=(...x)=>t.startMenu&&t.startMenu(...x)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg"},[_hoisted_79$b,createTextVNode(" "+toDisplayString(t.preparedMenuItem.main_menu_btn.title||"Главное меню"),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_80$b,[createBaseVNode("div",_hoisted_81$b,[createBaseVNode("div",_hoisted_82$b,[_hoisted_83$a,createBaseVNode("div",_hoisted_84$9,[t.loadScriptData?(openBlock(),createBlock(_sfc_main$1G,{key:0,modelValue:t.script_data,"onUpdate:modelValue":a[15]||(a[15]=x=>t.script_data=x)},null,8,["modelValue"])):createCommentVNode("",!0)])])])])],64)}}}),Menu=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1F},Symbol.toStringTag,{value:"Module"})),CardGame_vue_vue_type_style_index_0_lang="",_sfc_main$1E={data(){return{gridSize:5,goodPrizeChance:2,cards:[],score:0,prizes:[{id:1,emoji:"🎉",description:"Большой праздник"},{id:2,emoji:"🎁",description:"Подарок"},{id:3,emoji:"🍀",description:"Удача"},{id:4,emoji:"⭐",description:"Звезда"},{id:5,emoji:"🏆",description:"Трофей"}],bonuses:[{id:1,emoji:"✨",description:"Искра"},{id:2,emoji:"💫",description:"Звездопад"},{id:3,emoji:"🔥",description:"Огонь"},{id:4,emoji:"🌟",description:"Сияние"},{id:5,emoji:"⚡",description:"Молния"}]}},created(){this.initGame()},methods:{initGame(){this.score=0,this.cards=Array.from({length:this.gridSize*this.gridSize},()=>({flipped:!1,isGoodPrize:Math.random()<this.goodPrizeChance/100,display:"",prize:null}))},revealCard(o){const t=this.cards[o];if(!t.flipped)if(t.flipped=!0,t.isGoodPrize){const a=this.prizes[Math.floor(Math.random()*this.prizes.length)];t.display=a.emoji,t.prize=a,this.score+=50}else{const a=Math.floor(Math.random()*50)+1,i=this.bonuses[Math.floor(Math.random()*this.bonuses.length)];t.display=`${i.emoji} +${a}`,t.prize={...i,points:a},this.score+=a}},resetGame(){this.initGame()}}},_hoisted_1$1E={id:"app"},_hoisted_2$1C=createBaseVNode("h1",null,"Игра: Выбери карточку",-1),_hoisted_3$1B={class:"game-grid"},_hoisted_4$1w=["onClick"],_hoisted_5$1v={key:0},_hoisted_6$1u={class:"info"};function _sfc_render$A(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$1E,[_hoisted_2$1C,createBaseVNode("div",_hoisted_3$1B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.cards,(n,l)=>(openBlock(),createElementBlock("div",{key:l,class:normalizeClass(["game-card",{flipped:n.flipped}]),onClick:c=>r.revealCard(l)},[n.flipped?(openBlock(),createElementBlock("span",_hoisted_5$1v,toDisplayString(n.display),1)):createCommentVNode("",!0)],10,_hoisted_4$1w))),128))]),createBaseVNode("div",_hoisted_6$1u,[createBaseVNode("p",null,"Ваши очки: "+toDisplayString(s.score),1),createBaseVNode("p",null,"Шанс хорошего приза: "+toDisplayString(s.goodPrizeChance)+"%",1),createBaseVNode("button",{onClick:t[0]||(t[0]=(...n)=>r.resetGame&&r.resetGame(...n))},"Начать заново")])])}const CardGame=_export_sfc(_sfc_main$1E,[["render",_sfc_render$A]]),_hoisted_1$1D={class:"container g-2 py-3"},_hoisted_2$1B=createStaticVNode('<div class="card mb-2"><div class="card-body"><p class="mb-2 text-center fw-bold"><strong class="text-primary">Внимание!</strong> Правила игры: </p><ul style="padding:0px 20px;" class="fw-bold"><li>цена ставки меняется в зависимости от популярности игры (чем популярнее тем выше)</li><li>ставка берется из ваших баллов</li><li>за каждый выигрыш вы получаете игровые деньги, которые суммируются к вашему CashBack и используются для игровой ставки, но не начисляются вам как CashBack</li><li>каждый проигрыш списывает ваш реальный CashBack</li><li>одна из игровых комбинация может принести вам супер-приз - <strong>Пицца 50 см</strong></li></ul></div></div>',1),_sfc_main$1D={__name:"OneArmedBanditPage",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1D,[_hoisted_2$1B,createVNode(CardGame)]))}},_sfc_main$1C={props:["item"],methods:{open(o){o.is_open=!o.is_open}}},_hoisted_1$1C={class:"d-flex justify-content-between w-100"},_hoisted_2$1A={key:0,class:"fa fa-circle-up text-success mr-2",style:{"font-size":"24px"}},_hoisted_3$1A={key:1,class:"fa-regular fa-circle-down text-danger mr-2",style:{"font-size":"24px"}},_hoisted_4$1v={class:"fw-bold"},_hoisted_5$1u={key:0,class:"text-primary fw-bold"},_hoisted_6$1t={key:1,class:"text-primary fw-bold"},_hoisted_7$1q={key:0,class:"w-100 mt-2"},_hoisted_8$1m={class:"table table-borderless rounded-sm shadow-l m-0 p-0",style:{overflow:"hidden"}},_hoisted_9$1i=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Параметр"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_10$1c=createBaseVNode("th",{scope:"row"},"Тип операции",-1),_hoisted_11$19={class:"fw-bold text-primary"},_hoisted_12$18=createBaseVNode("th",{scope:"row"},"Сумма баллов, руб",-1),_hoisted_13$13={class:"fw-bold text-primary"},_hoisted_14$10={key:0},_hoisted_15$10=createBaseVNode("th",{scope:"row"},"Уровень начисления",-1),_hoisted_16$$={class:"fw-bold text-primary"},_hoisted_17$V={key:1},_hoisted_18$S=createBaseVNode("th",{scope:"row"},"Сумма в чеке, руб",-1),_hoisted_19$P={class:"fw-bold text-primary"},_hoisted_20$O=createBaseVNode("th",{scope:"row"},"Дата операции",-1),_hoisted_21$M={class:"fw-bold text-primary"},_hoisted_22$M=createBaseVNode("th",{scope:"row"},"Описание операции",-1),_hoisted_23$M={class:"fw-bold text-primary"},_hoisted_24$J=createBaseVNode("th",{scope:"row"},"TG id сотрудника",-1),_hoisted_25$G={class:"fw-bold text-primary"},_hoisted_26$E=createBaseVNode("th",{scope:"row"},"Имя сотрудника",-1),_hoisted_27$B={class:"fw-bold text-primary"},_hoisted_28$A=createBaseVNode("th",{scope:"row"},"Телефон сотрудника",-1),_hoisted_29$y={class:"fw-bold text-primary"};function _sfc_render$z(o,t,a,i,s,r){return openBlock(),createElementBlock("div",{onClick:t[0]||(t[0]=n=>r.open(a.item)),class:"list-group-item d-flex flex-column"},[createBaseVNode("div",_hoisted_1$1C,[createBaseVNode("div",null,[a.item.operation_type?(openBlock(),createElementBlock("i",_hoisted_2$1A)):(openBlock(),createElementBlock("i",_hoisted_3$1A)),createBaseVNode("span",_hoisted_4$1v,toDisplayString(a.item.amount||0)+" руб. ",1)]),a.item.operation_type?(openBlock(),createElementBlock("span",_hoisted_5$1u,"чек "+toDisplayString(a.item.money_in_check||0)+" руб.",1)):(openBlock(),createElementBlock("span",_hoisted_6$1t,"списание"))]),a.item.is_open?(openBlock(),createElementBlock("div",_hoisted_7$1q,[createBaseVNode("table",_hoisted_8$1m,[_hoisted_9$1i,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_10$1c,createBaseVNode("td",_hoisted_11$19,toDisplayString(a.item.operation_type?"Начисление":"Списание"),1)]),createBaseVNode("tr",null,[_hoisted_12$18,createBaseVNode("td",_hoisted_13$13,toDisplayString(a.item.amount||0),1)]),a.item.operation_type?(openBlock(),createElementBlock("tr",_hoisted_14$10,[_hoisted_15$10,createBaseVNode("td",_hoisted_16$$,toDisplayString(a.item.level||0),1)])):createCommentVNode("",!0),a.item.operation_type?(openBlock(),createElementBlock("tr",_hoisted_17$V,[_hoisted_18$S,createBaseVNode("td",_hoisted_19$P,toDisplayString(a.item.money_in_check||0),1)])):createCommentVNode("",!0),createBaseVNode("tr",null,[_hoisted_20$O,createBaseVNode("td",_hoisted_21$M,toDisplayString(o.$filters.current(a.item.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_22$M,createBaseVNode("td",_hoisted_23$M,toDisplayString(a.item.description||"Нет описания"),1)]),createBaseVNode("tr",null,[_hoisted_24$J,createBaseVNode("td",_hoisted_25$G,toDisplayString(a.item.employee.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_26$E,createBaseVNode("td",_hoisted_27$B,toDisplayString(a.item.employee.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_28$A,createBaseVNode("td",_hoisted_29$y,toDisplayString(a.item.employee.phone||"Не указано"),1)])])])])):createCommentVNode("",!0)])}const CashBackItem=_export_sfc(_sfc_main$1C,[["render",_sfc_render$z]]),_hoisted_1$1B={key:0,class:"list-group"},_hoisted_2$1z={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_3$1z=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-bitcoin mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Операция с CashBack-ом еще нет:(")],-1),_hoisted_4$1u=[_hoisted_3$1z],__default__$12={props:["botUser"],data(){return{cashback:[],cashback_paginate_object:null}},watch:{self:{handler:function(o){this.loadCashBack()},deep:!0}},computed:{...mapGetters(["getCashBack","getCashBackPaginateObject"])},mounted(){this.loadCashBack()},methods:{nextCashBackPage(o){this.loadCashBack(o)},loadCashBack(o=0){this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id},page:o}).then(t=>{this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1B=Object.assign(__default__$12,{__name:"CashBackList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.cashback.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$1B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cashback,i=>(openBlock(),createBlock(CashBackItem,{item:i},null,8,["item"]))),256))])):(openBlock(),createElementBlock("div",_hoisted_2$1z,_hoisted_4$1u)),t.cashback_paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextCashBackPage,pagination:t.cashback_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$1A={key:0,class:"container"},_hoisted_2$1y={class:"row"},_hoisted_3$1y={class:"col-12"},_hoisted_4$1t=createBaseVNode("h6",{class:"opacity-75 my-3"},"Ваш текущий баланс",-1),_hoisted_5$1t={class:"list-group"},_hoisted_6$1s={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},_hoisted_7$1p=createBaseVNode("span",null,"Получено CashBack",-1),_hoisted_8$1l={class:"text-primary fw-bold"},_hoisted_9$1h={class:"col-12"},_hoisted_10$1b={key:0,class:"opacity-75 my-3"},_hoisted_11$18={key:1,class:"list-group"},_hoisted_12$17={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},_hoisted_13$12={class:"text-primary fw-bold"},_hoisted_14$$={class:"row"},_hoisted_15$$=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" История операция")])],-1),_hoisted_16$_={class:"col-12"},__default__$11={data(){return{cashback:[],cashback_paginate_object:null}},watch:{self:{handler:function(o){this.loadCashBack()},deep:!0}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),self(){return this.getSelf},tg(){return window.Telegram.WebApp}},mounted(){this.self&&this.loadCashBack(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{nextCashBackPage(o){this.loadCashBack(o)},loadCashBack(o=0){this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.self.telegram_chat_id},page:o}).then(t=>{this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1A=Object.assign(__default__$11,{__name:"MyCashBack",setup(o){return(t,a)=>t.self?(openBlock(),createElementBlock("div",_hoisted_1$1A,[createBaseVNode("div",_hoisted_2$1y,[createBaseVNode("div",_hoisted_3$1y,[_hoisted_4$1t,createBaseVNode("ul",_hoisted_5$1t,[createBaseVNode("li",_hoisted_6$1s,[_hoisted_7$1p,createBaseVNode("span",_hoisted_8$1l,toDisplayString(t.self.cashBack.amount||0)+" ₽",1)])])]),createBaseVNode("div",_hoisted_9$1h,[t.self.cashBack?(openBlock(),createElementBlock(Fragment,{key:0},[(t.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("h6",_hoisted_10$1b,"Специальные начисления")):createCommentVNode("",!0),(t.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_11$18,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.self.cashBack.subs,i=>(openBlock(),createElementBlock("li",_hoisted_12$17,[createBaseVNode("span",null,toDisplayString(i.title||"-"),1),createBaseVNode("span",_hoisted_13$12,toDisplayString(i.amount||0)+" ₽",1)]))),256))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_14$$,[_hoisted_15$$,createBaseVNode("div",_hoisted_16$_,[t.getSelf?(openBlock(),createBlock(_sfc_main$1B,{key:0,"bot-user":t.getSelf},null,8,["bot-user"])):createCommentVNode("",!0)])])])):createCommentVNode("",!0)}}),MyCashBack=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1A},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1z={class:"container"},_hoisted_2$1x={key:0,class:"row"},_hoisted_3$1x=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-handshake mr-1 text-primary"}),createTextVNode(" Вас пригласили")])],-1),_hoisted_4$1s={class:"col-12"},_hoisted_5$1s={class:"alert alert-light d-flex justify-content-between"},_hoisted_6$1r={class:"mb-0"},_hoisted_7$1o=["href"],_hoisted_8$1k={class:"row"},_hoisted_9$1g=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"mb-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" Приглашенные вами люди")])],-1),_hoisted_10$1a={class:"col-12"},_hoisted_11$17={key:0,class:"list-group"},_hoisted_12$16={class:"list-group-item d-flex flex-column"},_hoisted_13$11={class:"d-flex justify-content-between w-100"},_hoisted_14$_=createBaseVNode("i",{class:"fa-regular fa-face-smile mr-2 text-success"},null,-1),_hoisted_15$_={class:"fw-bold"},_hoisted_16$Z=["href"],_hoisted_17$U={class:"text-primary fw-bold"},_hoisted_18$R={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_19$O=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-solid fa-handshake mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Вы никого не пригласили:(")],-1),_hoisted_20$N=[_hoisted_19$O],__default__$10={data(){return{friends:[],friends_paginate_object:null}},computed:{...mapGetters(["getSelf","getFriends","getFriendsPaginateObject"]),self(){return this.getSelf},tg(){return window.Telegram.WebApp}},mounted(){this.loadFriends(0),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{nextFriendsPage(o){this.loadFriends(o)},loadFriends(o=0){this.$store.dispatch("loadFriends",{page:o}).then(t=>{this.friends=this.getFriends,this.friends_paginate_object=this.getFriendsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1z=Object.assign(__default__$10,{__name:"MyFriends",setup(o){return(t,a)=>{var i;return openBlock(),createElementBlock("div",_hoisted_1$1z,[((i=t.getSelf)==null?void 0:i.parent_friend)!=null?(openBlock(),createElementBlock("div",_hoisted_2$1x,[_hoisted_3$1x,createBaseVNode("div",_hoisted_4$1s,[createBaseVNode("div",_hoisted_5$1s,[createBaseVNode("p",_hoisted_6$1r,toDisplayString(t.getSelf.parent_friend.username),1),t.getSelf.parent_friend.username?(openBlock(),createElementBlock("a",{key:0,href:"https://t.me/"+t.getSelf.parent_friend.username,target:"_blank"},"@"+toDisplayString(t.getSelf.parent_friend.username||"-"),9,_hoisted_7$1o)):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$1k,[_hoisted_9$1g,createBaseVNode("div",_hoisted_10$1a,[createBaseVNode("p",null,"У вас "+toDisplayString(t.getSelf.friends_count)+" друзей",1),t.friends.length>0?(openBlock(),createElementBlock("ul",_hoisted_11$17,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.friends,(s,r)=>(openBlock(),createElementBlock("li",_hoisted_12$16,[createBaseVNode("div",_hoisted_13$11,[createBaseVNode("div",null,[_hoisted_14$_,createBaseVNode("span",_hoisted_15$_,[s.username?(openBlock(),createElementBlock("a",{key:0,href:"https://t.me/"+s.username,target:"_blank"},"@"+toDisplayString(s.username||"-"),9,_hoisted_16$Z)):createCommentVNode("",!0)])]),createBaseVNode("span",_hoisted_17$U,toDisplayString(s.fio_from_telegram||"-"),1)])]))),256))])):(openBlock(),createElementBlock("div",_hoisted_18$R,_hoisted_20$N)),t.friends_paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextFriendsPage,pagination:t.friends_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])])}}}),MyFriends=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1z},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1y={key:0,class:"container py-3"},_hoisted_2$1w={class:"row"},_hoisted_3$1w={key:0,class:"col-12"},_hoisted_4$1r=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#shop-wheel-form-modal",class:"btn btn-outline-light text-primary w-100 mb-2",style:{"font-size":"12px"}},[createBaseVNode("i",{class:"fa-regular fa-pen-to-square"}),createTextVNode(" Редактор скрипта ")],-1),_hoisted_5$1r=[_hoisted_4$1r],_hoisted_6$1q={key:1,class:"col-12"},_hoisted_7$1n={class:"alert alert-light mb-2"},_hoisted_8$1j={class:"col-12"},_hoisted_9$1f={key:1,class:"container py-3"},_hoisted_10$19=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},[createTextVNode(" Подготавливаем данные... "),createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")])])])],-1),_hoisted_11$16=[_hoisted_10$19],_hoisted_12$15={key:2,class:"modal fade",id:"shop-wheel-form-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_13$10={class:"modal-dialog modal-fullscreen"},_hoisted_14$Z={class:"modal-content"},_hoisted_15$Z=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_16$Y={class:"modal-body"},__default__$$={data(){return{loadScriptData:!1,script_data:null,action:null}},computed:{...mapGetters(["getSelf"]),canPlay(){return this.action?this.action.completed_at==null&&this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadScriptModuleData().then(()=>{this.prepareUserData()})},methods:{loadScriptModuleData(){return this.loadScriptData=!1,this.$store.dispatch("loadShopModuleData").then(o=>{this.script_data=[];const t=o.data;console.log("Resp data",t),this.$nextTick(()=>{t&&Object.keys(t).forEach(a=>{a&&(this.script_data[a]=t[a])}),this.loadScriptData=!0})})},winHandler(o){this.$store.dispatch("wheelOfFortuneV3Win",{winForm:(o==null?void 0:o.win)||null}).then(t=>{this.prepareUserData()}).catch(t=>{})},shuffle(o){let t=o.length,a;for(;t>0;)a=Math.floor(Math.random()*t),t--,[o[t],o[a]]=[o[a],o[t]];return o},prepareUserData(){return this.$store.dispatch("wheelOfFortuneV3Prepare").then(o=>{this.action=o.action})}}},_sfc_main$1y=Object.assign(__default__$$,{__name:"WheelOfFortune",setup(o){return(t,a)=>{var i;return openBlock(),createElementBlock(Fragment,null,[t.loadScriptData&&t.action?(openBlock(),createElementBlock("div",_hoisted_1$1y,[createBaseVNode("div",_hoisted_2$1w,[(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("div",_hoisted_3$1w,_hoisted_5$1r)):createCommentVNode("",!0),(t.script_data.wheel_of_fortune||{rules:null}).rules?(openBlock(),createElementBlock("div",_hoisted_6$1q,[createBaseVNode("div",_hoisted_7$1n,toDisplayString((t.script_data.wheel_of_fortune||{rules:null}).rules||"Правила игры"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$1j,[(((i=t.script_data.wheel_of_fortune)==null?void 0:i.items)||[]).length>=3?(openBlock(),createBlock(WheelOfFortuneShopVariant,{key:0,"can-play":t.canPlay,"is-admin":!1,interval:t.script_data.interval||1,"action-data":t.action,onWin:t.winHandler,modelValue:t.script_data.wheel_of_fortune.items,"onUpdate:modelValue":a[0]||(a[0]=s=>t.script_data.wheel_of_fortune.items=s)},null,8,["can-play","interval","action-data","onWin","modelValue"])):createCommentVNode("",!0)])])])):(openBlock(),createElementBlock("div",_hoisted_9$1f,_hoisted_11$16)),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("div",_hoisted_12$15,[createBaseVNode("div",_hoisted_13$10,[createBaseVNode("div",_hoisted_14$Z,[_hoisted_15$Z,createBaseVNode("div",_hoisted_16$Y,[t.script_data?(openBlock(),createBlock(_sfc_main$1G,{key:0,"default-type":1,modelValue:t.script_data,"onUpdate:modelValue":a[1]||(a[1]=s=>t.script_data=s)},null,8,["modelValue"])):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)],64)}}}),WheelOfFortune=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1y},Symbol.toStringTag,{value:"Module"})),StoryAdmin_vue_vue_type_style_index_0_scoped_f0be18d5_lang="",_withScopeId$b=o=>(pushScopeId("data-v-f0be18d5"),o=o(),popScopeId(),o),_hoisted_1$1x=_withScopeId$b(()=>createBaseVNode("h2",{class:"mb-2"},"Истории",-1)),_hoisted_2$1v={class:"modal fade",id:"storyModal",tabindex:"-1","aria-labelledby":"storyModalLabel","aria-hidden":"true"},_hoisted_3$1v={class:"modal-dialog modal-dialog-centered modal-fullscreen"},_hoisted_4$1q={class:"modal-header"},_hoisted_5$1q={class:"modal-title",id:"storyModalLabel"},_hoisted_6$1p={class:"modal-body"},_hoisted_7$1m={class:"form-floating mb-2"},_hoisted_8$1i=_withScopeId$b(()=>createBaseVNode("label",{for:"title"},"Заголовок",-1)),_hoisted_9$1e={class:"mb-2"},_hoisted_10$18=_withScopeId$b(()=>createBaseVNode("label",{class:"form-label"},"Миниатюра",-1)),_hoisted_11$15={key:0,class:"img-thumbnail w-100 mb-2"},_hoisted_12$14={class:"mb-2"},_hoisted_13$$=_withScopeId$b(()=>createBaseVNode("label",{class:"form-label"},"Изображение истории",-1)),_hoisted_14$Y={class:"img-thumbnail w-100 mb-2"},_hoisted_15$Y={class:"form-floating mb-2"},_hoisted_16$X=_withScopeId$b(()=>createBaseVNode("label",{for:"description"},"Описание",-1)),_hoisted_17$T={class:"form-floating mb-2"},_hoisted_18$Q=_withScopeId$b(()=>createBaseVNode("label",{for:"title"},[createBaseVNode("i",{class:"fa-solid fa-link"}),createTextVNode(" Ссылка")],-1)),_hoisted_19$N={key:0,class:"form-floating mb-2"},_hoisted_20$M=["value"],_hoisted_21$L=_withScopeId$b(()=>createBaseVNode("label",{for:"link_type"},"Тип ссылки",-1)),_hoisted_22$L={class:"modal-footer"},_hoisted_23$L={class:"form-check form-switch mb-2"},_hoisted_24$I={class:"form-check-label",for:"script-settings-can_use_cash"},_hoisted_25$F=_withScopeId$b(()=>createBaseVNode("button",{type:"submit",class:"btn btn-primary p-2 w-100"},"Сохранить",-1)),_hoisted_26$D={key:0,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_27$A=_withScopeId$b(()=>createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1)),_hoisted_28$z={class:"row row-cols-1 row-cols-md-1 g-1"},_hoisted_29$x={class:"card h-100"},_hoisted_30$x={class:"card-body text-center"},_hoisted_31$w=["onClick"],_hoisted_32$w=["src","alt"],_hoisted_33$v={class:"card-title mt-3"},_hoisted_34$u={class:"card-text"},_hoisted_35$u={class:"card-footer d-flex flex-column align-items-center"},_hoisted_36$t=["onClick"],_hoisted_37$t={class:"modal-dialog modal-dialog-centered w-100 mw-100 m-0 h-100 mh-100"},_hoisted_38$s={class:"modal-content bg-transparent border-0 h-100 position-relative"},_hoisted_39$s={class:"progress position-absolute top-0 start-0 end-0",style:{height:"4px","z-index":"10"}},_hoisted_40$q=["src"],_hoisted_41$q={class:"text-white p-3 bg-black bg-opacity-50 position-absolute bottom-0 start-0 end-0"},_hoisted_42$q={class:"mb-1"},_hoisted_43$q={class:"mb-2"},_hoisted_44$q=["href"],_hoisted_45$q={key:0,class:"row"},_hoisted_46$q={class:"col-12"},__default__$_={name:"AdminPanel",data(){return{currentStory:null,progress:0,timer:null,loadingStories:!1,stories:[],stories_paginate_object:null,formStory:{title:null,need_auto_send_stories:!0,thumbnail:null,image:null,description:null,link:null,link_type:"product"},link_types:[{key:"product",title:"Открывает товар в магазине"},{key:"bot",title:"Открывает раздел бота"},{key:"url",title:"Переход на внешнюю страницу"}],isEditing:!1,useThumbnailFile:!0,useImageFile:!0,viewedStories:JSON.parse(localStorage.getItem("viewedStories"))||[]}},mounted(){this.loadStoriesList()},methods:{goToProductLink(o){try{const a=new URL(o).searchParams.get("start"),s=atob(a).match(/^001slug(\d+)product(\d+)$/);s||this.$router.push({name:"CatalogV2"});const r=s[2];this.$router.push({name:"ProductV2",params:{productId:r}})}catch{this.$router.push({name:"CatalogV2"})}},openStory(o){this.currentStory=o,this.progress=0,this.startTimer(),this.markAsViewed(this.stories[o].id)},closeStory(){this.currentStory=null,this.progress=0,clearInterval(this.timer)},nextStory(){this.currentStory<this.stories.length-1?(this.currentStory++,this.progress=0,this.markAsViewed(this.stories[this.currentStory].id),this.startTimer()):this.closeStory()},startTimer(){clearInterval(this.timer),this.timer=setInterval(()=>{this.progress+=2,this.progress>=100&&this.nextStory()},100)},loadStoriesList(o=1){return this.loadingStories=!0,this.$store.dispatch("loadStories",{page:o,size:20}).then(()=>{this.stories=this.$store.getters.getStories,this.stories_paginate_object=this.$store.getters.getStoriesPaginateObject,this.loadingStories=!1}).catch(()=>{this.loadingStories=!1})},nextStories(o){this.loadStoriesList(o)},startCreateStory(){this.formStory={title:null,thumbnail:null,image:null,description:null},this.isEditing=!1,this.useThumbnailFile=!0,this.useImageFile=!0},saveStory(){let o=new FormData;Object.keys(this.formStory).forEach(t=>{const a=this.formStory[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.append("media_thumbnail",this.useThumbnailFile),o.append("media_image",this.useImageFile),o.append("thumbnail[]",this.formStory.thumbnail),o.append("image[]",this.formStory.image),this.$store.dispatch("saveStory",{storyForm:o}).then(()=>{this.startCreateStory(),this.closeModal(),this.$notify({title:"Истории",text:"История успешно сохранена",type:"success"}),document.getElementById("story-form").reset(),this.loadStoriesList()}).catch(()=>{this.$notify({title:"Истории",text:"Ошибка сохранения истории",type:"error"})})},cancelForm(){this.startCreateStory(),this.closeModal()},handleThumbnailUpload(o,t){const a=o.target.files[0];a&&a.size<=5*1024*1024?this.formStory[t]=a:(alert("Размер файла миниатюры не должен превышать 5 МБ"),o.target.value=null)},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},handleImageUpload(o){const t=o.target.files[0];t&&t.size<=5*1024*1024?this.formStory.image=t:(alert("Размер изображения не должен превышать 5 МБ"),o.target.value=null)},deleteStory(o){this.$store.dispatch("deleteStory",{id:o}).then(()=>{this.$notify({title:"Истории",text:"История успешно удалена",type:"success"}),this.loadStoriesList()}).catch(()=>{this.$notify({title:"Истории",text:"Ошибка удаления истории",type:"error"})})},duplicateStory(o){const t={...o,id:Date.now(),title:`${o.title} (Copy)`};this.$emit("create-story",t)},viewStory(o){this.$emit("view-story",o)},isStoryViewed(o){return this.viewedStories.includes(o)},closeModal(){const o=document.getElementById("storyModal"),t=bootstrap.Modal.getInstance(o);t&&t.hide()}}},_sfc_main$1x=Object.assign(__default__$_,{setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1x,createBaseVNode("button",{type:"button",class:"btn btn-success p-3 w-100 mb-2","data-bs-toggle":"modal","data-bs-target":"#storyModal",onClick:a[0]||(a[0]=(...s)=>t.startCreateStory&&t.startCreateStory(...s))}," Создать новую историю "),createBaseVNode("div",_hoisted_2$1v,[createBaseVNode("div",_hoisted_3$1v,[createBaseVNode("form",{class:"modal-content",id:"story-form",onSubmit:a[9]||(a[9]=withModifiers((...s)=>t.saveStory&&t.saveStory(...s),["prevent"]))},[createBaseVNode("div",_hoisted_4$1q,[createBaseVNode("h5",_hoisted_5$1q,toDisplayString(t.isEditing?"Редактировать историю":"Создать историю"),1),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Закрыть",onClick:a[1]||(a[1]=(...s)=>t.cancelForm&&t.cancelForm(...s))})]),createBaseVNode("div",_hoisted_6$1p,[createBaseVNode("div",_hoisted_7$1m,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=s=>t.formStory.title=s),type:"text",class:"form-control",id:"title",placeholder:"Введите заголовок",required:""},null,512),[[vModelText,t.formStory.title]]),_hoisted_8$1i]),createBaseVNode("div",_hoisted_9$1e,[_hoisted_10$18,t.formStory.thumbnail?withDirectives((openBlock(),createElementBlock("img",_hoisted_11$15,null,512)),[[i,t.getPhoto(t.formStory.thumbnail).imageUrl]]):createCommentVNode("",!0),createBaseVNode("input",{type:"file",accept:"image/*",class:"form-control",onChange:a[3]||(a[3]=s=>t.handleThumbnailUpload(s,"thumbnail")),required:""},null,32)]),createBaseVNode("div",_hoisted_12$14,[_hoisted_13$$,t.formStory.image?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(" test "),withDirectives(createBaseVNode("img",_hoisted_14$Y,null,512),[[i,t.getPhoto(t.formStory.image).imageUrl]])],64)):createCommentVNode("",!0),createBaseVNode("input",{type:"file",id:"image",accept:"image/*",class:"form-control",onChange:a[4]||(a[4]=s=>t.handleThumbnailUpload(s,"image")),required:""},null,32)]),createBaseVNode("div",_hoisted_15$Y,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":a[5]||(a[5]=s=>t.formStory.description=s),class:"form-control",placeholder:"Введите описание",id:"description",style:{height:"150px"},required:""},null,512),[[vModelText,t.formStory.description]]),_hoisted_16$X]),createBaseVNode("div",_hoisted_17$T,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[6]||(a[6]=s=>t.formStory.link=s),type:"url",class:"form-control",id:"title",placeholder:"Введите заголовок"},null,512),[[vModelText,t.formStory.link]]),_hoisted_18$Q]),t.formStory.link?(openBlock(),createElementBlock("div",_hoisted_19$N,[withDirectives(createBaseVNode("select",{required:"","onUpdate:modelValue":a[7]||(a[7]=s=>t.formStory.link_type=s),class:"form-select",id:"link_type","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.link_types,s=>(openBlock(),createElementBlock("option",{value:s.key},toDisplayString(s.title),9,_hoisted_20$M))),256))],512),[[vModelSelect,t.formStory.link_type]]),_hoisted_21$L])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_22$L,[createBaseVNode("div",_hoisted_23$L,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=s=>t.formStory.need_auto_send_stories=s),role:"switch",id:"script-settings-can_use_cash"},null,512),[[vModelCheckbox,t.formStory.need_auto_send_stories]]),createBaseVNode("label",_hoisted_24$I,[createTextVNode("Автоматическая рассылка оповещения про новую историю: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.formStory.need_auto_send_stories})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.formStory.need_auto_send_stories})},"выкл",2)])]),_hoisted_25$F])],32)])]),t.loadingStories?(openBlock(),createElementBlock("div",_hoisted_26$D,[createTextVNode(" Подготавливаем данные... "),_hoisted_27$A])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_28$z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.stories,(s,r)=>(openBlock(),createElementBlock("div",{key:s.id,class:"col"},[createBaseVNode("div",_hoisted_29$x,[createBaseVNode("div",_hoisted_30$x,[createBaseVNode("div",{class:normalizeClass(["story-item rounded-circle overflow-hidden cursor-pointer border mx-auto",{"border-primary":!t.isStoryViewed(s.id),"border-secondary":t.isStoryViewed(s.id)}]),style:{width:"80px",height:"80px"},onClick:n=>t.openStory(r)},[createBaseVNode("img",{src:s.thumbnail,class:normalizeClass(["w-100 h-100 object-fit-cover",{"filter-grayscale":t.isStoryViewed(s.id)}]),alt:s.title},null,10,_hoisted_32$w)],10,_hoisted_31$w),createBaseVNode("h5",_hoisted_33$v,toDisplayString(s.title),1),createBaseVNode("p",_hoisted_34$u,toDisplayString(s.description),1)]),createBaseVNode("div",_hoisted_35$u,[createBaseVNode("button",{type:"button",class:"btn btn-link text-danger",onClick:n=>t.deleteStory(s.id)},"Удалить ",8,_hoisted_36$t)])])]))),128))]),t.currentStory!==null?(openBlock(),createElementBlock("div",{key:0,class:"modal fade show d-block",style:{"background-color":"rgba(0, 0, 0, 0.9)"},onClick:a[12]||(a[12]=withModifiers((...s)=>t.closeStory&&t.closeStory(...s),["self"]))},[createBaseVNode("div",_hoisted_37$t,[createBaseVNode("div",_hoisted_38$s,[createBaseVNode("div",_hoisted_39$s,[createBaseVNode("div",{class:"progress-bar bg-primary",role:"progressbar",style:normalizeStyle({width:`${t.progress}%`})},null,4)]),createBaseVNode("img",{src:t.stories[t.currentStory].image,class:"w-100 h-100 object-fit-cover",alt:"Story"},null,8,_hoisted_40$q),createBaseVNode("div",_hoisted_41$q,[createBaseVNode("h5",_hoisted_42$q,toDisplayString(t.stories[t.currentStory].title),1),createBaseVNode("p",_hoisted_43$q,toDisplayString(t.stories[t.currentStory].description),1),t.stories[t.currentStory].link?(openBlock(),createElementBlock(Fragment,{key:0},[t.stories[t.currentStory].link_type==="url"||t.stories[t.currentStory].link_type==="bot"?(openBlock(),createElementBlock("a",{key:0,href:t.stories[t.currentStory].link,target:"_blank",class:"btn btn-primary rounded-5 w-100 p-3"}," Перейти по ссылке ",8,_hoisted_44$q)):createCommentVNode("",!0),t.stories[t.currentStory].link_type==="product"?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",onClick:a[10]||(a[10]=s=>t.goToProductLink(t.stories[t.currentStory].link)),class:"btn btn-primary rounded-5 w-100 p-3"}," Открыть товар ")):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),createBaseVNode("button",{type:"button",class:"btn-close btn-close-white position-absolute top-0 end-0 m-2",style:{"z-index":"10"},onClick:a[11]||(a[11]=(...s)=>t.closeStory&&t.closeStory(...s))})])])])):createCommentVNode("",!0)],64)),t.stories_paginate_object?(openBlock(),createElementBlock(Fragment,{key:2},[t.stories_paginate_object.meta.last_page>1?(openBlock(),createElementBlock("div",_hoisted_45$q,[createBaseVNode("div",_hoisted_46$q,[t.stories_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextStories,pagination:t.stories_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],64)}}}),StoryAdmin=_export_sfc(_sfc_main$1x,[["__scopeId","data-v-f0be18d5"]]),_hoisted_1$1w={class:"container py-3"},_hoisted_2$1u={class:"row"},_hoisted_3$1u={class:"col-12"},__default__$Z={data(){return{}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot},tg(){return window.Telegram.WebApp}},mounted(){},methods:{}},_sfc_main$1w=Object.assign(__default__$Z,{__name:"StoryManager",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1w,[createBaseVNode("div",_hoisted_2$1u,[createBaseVNode("div",_hoisted_3$1u,[createVNode(StoryAdmin)])])]))}}),StoryManager=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1w},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1v=createBaseVNode("p",{class:"my-2"},"Выберите канал рассылки:",-1),_hoisted_2$1t={class:"btn-group-vertical w-100 mb-2",role:"group","aria-label":"Vertical button group"},_hoisted_3$1t={class:"form-floating mb-3"},_hoisted_4$1p=createBaseVNode("label",{for:"floatingInput"},"id канала",-1),_hoisted_5$1p={class:"form-floating mb-2"},_hoisted_6$1o={for:"floatingTextarea"},_hoisted_7$1l={key:0,class:"small"},_hoisted_8$1h={class:"form-check"},_hoisted_9$1d=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_10$17={key:0,class:"mb-2"},_hoisted_11$14=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_12$13={class:"d-flex justify-content-center flex-wrap"},_hoisted_13$_={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_14$X={class:"row"},_hoisted_15$X={key:0,class:"col-12 d-flex flex-wrap"},_hoisted_16$W={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_17$S={class:"remove"},_hoisted_18$P=["onClick"],_hoisted_19$M={class:"form-check"},_hoisted_20$L=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_21$K={key:1,class:"mb-2"},_hoisted_22$K={key:0},_hoisted_23$K={key:1},_hoisted_24$H=createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 w-100"},[createBaseVNode("i",{class:"fa-regular fa-paper-plane mr-2"}),createTextVNode(" Отправить в канал ")],-1),__default__$Y={data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{text:"",inline_keyboard:null,channel:null}}},computed:{currentBot(){return window.currentBot}},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.mailForm[o.detail.param]=o.detail.channel})},methods:{toggleMainChannel(){this.mailForm.channel=this.currentBot.main_channel},toggleOrderChannel(){this.mailForm.channel=this.currentBot.order_channel},addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){let o=new FormData;if(Object.keys(this.mailForm).forEach(t=>{const a=this.mailForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch("sendToChannel",{mailForm:o}).then(t=>{this.load=!0,this.photos=[],this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={text:"",channel:null,inline_keyboard:null},this.$notify({title:"Отлично",text:"Сообщение успешно отправлено в канал!",type:"success"})}).catch(t=>{this.$notify({title:"Упс...",text:"Ошибка отправки сообщения в канал!",type:"error"})})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(t=>{t.ok&&(this.mailForm.channel=t.result.chat.id),t.ok&&this.$notify({title:"Отлично",text:"Канал успешно найден!",type:"success"}),t.ok||(this.$notify({title:"Ошибочка",text:"Неверно указанный канал!",type:"error"}),this.mailForm.channel=null)}).catch(()=>{}))}}},_sfc_main$1v=Object.assign(__default__$Y,{__name:"MailToChannel",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return t.currentBot?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[9]||(a[9]=withModifiers((...s)=>t.submitMail&&t.submitMail(...s),["prevent"]))},[_hoisted_1$1v,createBaseVNode("div",_hoisted_2$1t,[t.currentBot.main_channel!=null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(["btn p-3 mb-2",{"btn-primary":t.mailForm.channel===t.currentBot.main_channel,"btn-secondary":t.mailForm.channel!==t.currentBot.main_channel}]),onClick:a[0]||(a[0]=(...s)=>t.toggleMainChannel&&t.toggleMainChannel(...s))},"Главный канал ",2)):createCommentVNode("",!0),t.currentBot.order_channel!=null?(openBlock(),createElementBlock("button",{key:1,type:"button",class:normalizeClass(["btn p-3",{"btn-primary":t.mailForm.channel===t.currentBot.order_channel,"btn-secondary":t.mailForm.channel!==t.currentBot.order_channel}]),onClick:a[1]||(a[1]=(...s)=>t.toggleOrderChannel&&t.toggleOrderChannel(...s))},"Канал заказов ",2)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_3$1t,[withDirectives(createBaseVNode("input",{maxlength:"255","onUpdate:modelValue":a[2]||(a[2]=s=>t.mailForm.channel=s),type:"search",class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.mailForm.channel]]),_hoisted_4$1p]),createBaseVNode("div",_hoisted_5$1p,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=s=>t.mailForm.text=s),maxlength:"4096",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,t.mailForm.text]]),createBaseVNode("label",_hoisted_6$1o,[createTextVNode("Текстовое содержимое рассылки "),t.mailForm.text?(openBlock(),createElementBlock("span",_hoisted_7$1l,toDisplayString(t.mailForm.text.length)+"/4096 ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8$1h,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[4]||(a[4]=s=>t.need_page_images=s),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_9$1d]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_10$17,[_hoisted_11$14,createBaseVNode("div",_hoisted_12$13,[createBaseVNode("label",_hoisted_13$_,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:a[5]||(a[5]=(...s)=>t.onChangePhotos&&t.onChangePhotos(...s)),style:{display:"none"}},null,32)]),createBaseVNode("div",_hoisted_14$X,[t.photos.length>0?(openBlock(),createElementBlock("div",_hoisted_15$X,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.photos,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_16$W,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(s).imageUrl]]),createBaseVNode("div",_hoisted_17$S,[createBaseVNode("a",{onClick:n=>t.removePhoto(r)},"Удалить",8,_hoisted_18$P)])]))),256))])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_19$M,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[6]||(a[6]=s=>t.need_inline_menu=s),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_20$L]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_21$K,[createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:a[7]||(a[7]=s=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_23$K," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_22$K," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$3l,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,modelValue:t.mailForm.inline_keyboard,"onUpdate:modelValue":a[8]||(a[8]=s=>t.mailForm.inline_keyboard=s)},null,8,["onSave","modelValue"]))])):createCommentVNode("",!0),_hoisted_24$H],32)):createCommentVNode("",!0)}}}),KeyboardConstructor_vue_vue_type_style_index_0_lang="",_hoisted_1$1u={key:0},_hoisted_2$1s=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"}),createTextVNode("Инструкция")],-1),_hoisted_3$1s=createBaseVNode("div",{class:"text-left w-100"},[createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-down"}),createTextVNode(" - добавление в нижнюю часть новой строки (кнопки)")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"}),createTextVNode(" - добавление строки над выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"}),createTextVNode(" - добавление строки под выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-plus"}),createTextVNode(" - добавление кнопки на строку")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-minus"}),createTextVNode(" - удаление крайней левой кнопки из строки либо самой строки")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-xmark"}),createTextVNode(" - отмена выделения")])],-1),_hoisted_4$1o={class:"mb-2 d-flex"},_hoisted_5$1o=createBaseVNode("i",{class:"fa-solid fa-arrow-down"},null,-1),_hoisted_6$1n=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"},null,-1),_hoisted_7$1k=[_hoisted_6$1n],_hoisted_8$1g=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"},null,-1),_hoisted_9$1c=[_hoisted_8$1g],_hoisted_10$16=createBaseVNode("i",{class:"fa-solid fa-arrows-up-to-line"},null,-1),_hoisted_11$13=[_hoisted_10$16],_hoisted_12$12=createBaseVNode("i",{class:"fa-solid fa-arrows-down-to-line"},null,-1),_hoisted_13$Z=[_hoisted_12$12],_hoisted_14$W=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_15$W=[_hoisted_14$W],_hoisted_16$V={key:0,class:"text-danger font-weight-bold p-0 m-0"},_hoisted_17$R={key:1},_hoisted_18$O={class:"row mb-0"},_hoisted_19$L={class:"col-12 d-flex justify-content-center"},_hoisted_20$K=["onClick"],_hoisted_21$J=["onUpdate:modelValue"],_hoisted_22$J={class:"dropdown"},_hoisted_23$J=createBaseVNode("button",{style:{"border-radius":"0 5px 5px 0px"},class:"btn btn-outline-light text-primary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_24$G={class:"dropdown-menu"},_hoisted_25$E=["onClick"],_hoisted_26$C=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_27$z=["onClick"],_hoisted_28$y=createBaseVNode("i",{class:"fa-solid fa-minus"},null,-1),_hoisted_29$w=["onClick"],_hoisted_30$w=createBaseVNode("i",{class:"fa-solid fa-caret-left"},null,-1),_hoisted_31$v=["onClick"],_hoisted_32$v=createBaseVNode("i",{class:"fa-solid fa-caret-right"},null,-1),_hoisted_33$u=["onClick"],_hoisted_34$t=createBaseVNode("a",{class:"dropdown-item",href:"javascript:void(0)"},[createBaseVNode("i",{class:"fa-solid fa-caret-up mr-2"}),createTextVNode(" переместить вверх ")],-1),_hoisted_35$t=[_hoisted_34$t],_hoisted_36$s=["onClick"],_hoisted_37$s=createBaseVNode("a",{class:"dropdown-item",href:"javascript:void(0)"},[createBaseVNode("i",{class:"fa-solid fa-caret-down mr-2"}),createTextVNode(" переместить вниз ")],-1),_hoisted_38$r=[_hoisted_37$s],_hoisted_39$r={class:"form-check"},_hoisted_40$p=["id"],_hoisted_41$p=["for"],_hoisted_42$p={key:2,class:"mb-0"},_hoisted_43$p=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код клавиатуры",-1),_hoisted_44$p={key:1},_hoisted_45$p={class:"row"},_hoisted_46$p={class:"col-12 mb-2"},_hoisted_47$o={class:"col-12"},_hoisted_48$o=createBaseVNode("div",{class:"alert alert-danger",role:"alert"}," Возможно выбрать только 1 тип действия ",-1),_hoisted_49$n={class:"mb-3"},_hoisted_50$n={class:"input-group"},_hoisted_51$m={class:"form-floating"},_hoisted_52$m=["id"],_hoisted_53$l=createBaseVNode("label",{for:"floatingInput"},"Название кнопки",-1),_hoisted_54$l=createBaseVNode("i",{class:"fa-solid fa-bars"},null,-1),_hoisted_55$i=[_hoisted_54$l],_hoisted_56$i={key:0,class:"form-floating mb-2"},_hoisted_57$h=["id"],_hoisted_58$g=["for"],_hoisted_59$g={key:1,class:"form-floating mb-2"},_hoisted_60$f=["id"],_hoisted_61$f=["for"],_hoisted_62$e={key:2,class:"form-floating mb-2"},_hoisted_63$e=["id"],_hoisted_64$d=["for"],_hoisted_65$d={key:3,class:"mb-3"},_hoisted_66$d=["for"],_hoisted_67$d=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," Внимание! Режим всплывающего меню должен быть настроен в BotFather-е в разделе редактирования бота InlineMode. Сперва нужно включить данный режим. ",-1),_hoisted_68$d={class:"input-group mb-3"},_hoisted_69$d=["id"],_hoisted_70$d=createBaseVNode("i",{class:"fa-solid fa-bars"},null,-1),_hoisted_71$d=[_hoisted_70$d],_hoisted_72$c={key:4,class:"mb-3"},_hoisted_73$c={class:"form-check"},_hoisted_74$b=createBaseVNode("label",{class:"form-check-label",for:"need-login-url"}," Добавить ссылку авторизации ",-1),_hoisted_75$b={key:0,class:"mb-3"},_hoisted_76$b=["for"],_hoisted_77$b=["id"],_hoisted_78$a={key:1,class:"mb-3"},_hoisted_79$a=["for"],_hoisted_80$a=["id"],_hoisted_81$a={key:2,class:"mb-3"},_hoisted_82$a=["for"],_hoisted_83$9=["id"],_hoisted_84$8={key:3,class:"form-check mb-3"},_hoisted_85$8=createBaseVNode("label",{class:"form-check-label",for:"need-request_write_access"}," Запросить отправку сообщений ботом ",-1),_hoisted_86$8={key:5,class:"form-check"},_hoisted_87$8=["id"],_hoisted_88$8=["for"],_hoisted_89$8={key:6,class:"form-check"},_hoisted_90$8=["checked","id"],_hoisted_91$8=["for"],_hoisted_92$8={key:7,class:"form-check"},_hoisted_93$8=["checked","id"],_hoisted_94$8=["for"],_hoisted_95$8=createBaseVNode("hr",null,null,-1),_hoisted_96$7=["id"],_hoisted_97$7={class:"modal-dialog"},_hoisted_98$7={class:"modal-content"},_hoisted_99$7={class:"modal-body"},_hoisted_100$7=["id"],_hoisted_101$7={class:"modal-dialog"},_hoisted_102$7={class:"modal-content"},_hoisted_103$7={class:"modal-body"},__default__$X={props:["modelValue","type"],components:{Vue3JsonEditor},computed:{uuid(){return v4()}},watch:{settings:{handler:function(o){this.$emit("update:modelValue",{menu:this.keyboard,settings:this.settings})},deep:!0},need_login_url:{handler:function(o){this.need_login_url?this.keyboard[this.select.row][this.select.col].login_url={url:null,forward_text:null,bot_username:null,request_write_access:!0}:delete this.keyboard[this.select.row][this.select.col].login_url},deep:!0},keyboard:{handler:function(o){this.save(),this.$emit("update:modelValue",{menu:this.keyboard,settings:this.settings})},deep:!0}},data(){return{need_input_field_placeholder:!1,settings:{resize_keyboard:!0,one_time_keyboard:!1,input_field_placeholder:null,is_persistent:!1},need_login_url:!1,pageModal:null,inlineQueryModal:null,mode:0,editor:!1,showCode:!1,showAssign:!1,selectedRow:null,load:!1,rowCount:1,keyboard:[],select:{row:0,col:0,type:this.type||"reply"}}},mounted(){this.pageModal=new bootstrap.Modal(document.getElementById("page-list-in-keyboard-"+this.uuid),{}),this.inlineQueryModal=new bootstrap.Modal(document.getElementById("inline-query-list-in-keyboard-"+this.uuid),{}),this.modelValue&&this.$nextTick(()=>{var o,t,a,i,s,r;this.keyboard=((o=this.modelValue)==null?void 0:o.menu)||[],(t=this.modelValue)!=null&&t.settings&&(this.settings={resize_keyboard:((a=this.modelValue)==null?void 0:a.settings.resize_keyboard)||!0,one_time_keyboard:((i=this.modelValue)==null?void 0:i.settings.one_time_keyboard)||!1,input_field_placeholder:((s=this.modelValue)==null?void 0:s.settings.input_field_placeholder)||null,is_persistent:((r=this.modelValue)==null?void 0:r.settings.is_persistent)||!1},this.settings.input_field_placeholder!=null&&(this.need_input_field_placeholder=!0))})},methods:{selectInlineQuery(o){this.keyboard[this.select.row][this.select.col].switch_inline_query_current_chat=o.command,this.$notify({title:"Конструктор страниц",text:"Вы успешно выбрали страницу",type:"success"}),this.inlineQueryModal.hide()},openInlineQueryModal(){this.inlineQueryModal.show()},openPageModal(){this.pageModal.show()},attachPage(o){let t=(o.slug.command||"Нет команды").replace(".*","");this.keyboard[this.select.row][this.select.col].text=t,this.$notify({title:"Конструктор страниц",text:"Вы успешно выбрали страницу",type:"success"}),this.type==="inline"&&(this.keyboard[this.select.row][this.select.col].callback_data=t)},reset(){this.selectedRow=null,this.select={row:-1,col:-1,type:this.type||"reply"}},removeSelectedButton(){this.keyboard[this.select.row].splice(this.select.col,1);let o=this.select.row;this.reset(),this.keyboard[o].length===0&&this.keyboard.splice(o,1)},needRemoveField(o,t,a){Object.keys(this.keyboard[t][a]).forEach(i=>{i!=="text"&&i!==o&&delete this.keyboard[t][a][i]})},moveColVertical(o,t){let a=this.keyboard.length,i=t===0?this.select.row-1>=0?this.select.row-1:a-1:this.select.row<a-1?this.select.row+1:0,s=this.keyboard[this.select.row][this.select.col];this.keyboard[this.select.row].splice(this.select.col,1),console.log(this.keyboard[this.select.row].length,this.select.row),this.keyboard[i].push(s),this.keyboard[this.select.row].length===0&&this.keyboard.splice(this.select.row,1),this.select.row=i,this.select.col=this.keyboard[i].length-1,this.select.text=this.keyboard[i][0].text,this.selectedRow=i},moveCol(o,t=0){o!==this.select.row&&(this.select.row=o,this.select.col=0,this.select.text=this.keyboard[this.select.row][this.select.col]);let a=this.select.row,i=this.select.col,s=this.keyboard[a].length,r=t===0?i-1>=0?i-1:s-1:i<s-1?i+1:0,n=this.keyboard[a][i];this.keyboard[a][i]=this.keyboard[a][r],this.keyboard[a][r]=n,this.select.row=a,this.select.col=r,this.select.text=this.keyboard[a][r].text},moveRow(o=0){if(this.selectedRow==null)return;let t=this.keyboard.length,a=o===0?this.selectedRow-1>=0?this.selectedRow-1:t-1:this.selectedRow<t-1?this.selectedRow+1:0,i=this.keyboard[this.selectedRow];this.keyboard[this.selectedRow]=this.keyboard[a],this.keyboard[a]=i,this.select.row=a,this.select.col=0,this.select.text=this.keyboard[a][0].text,this.selectedRow=a},openKeyboardEditorMenu(o,t){this.mode=1},save(){this.$emit("save",this.keyboard),this.type==="reply"&&this.$emit("save-settings",this.settings)},onJsonChange(o){this.keyboard=o,this.save()},removeColFromRow(o){this.keyboard[o].length>1?this.keyboard[o].splice(this.keyboard[o].length-1,1):this.keyboard.splice(o,1),this.keyboard.length===0&&(this.selectedRow=null),this.save()},addRowAbove(){this.addRow(!0)},addRowBelow(){this.addRow(!1)},addRow(o=!1){if(this.selectedRow==null)this.keyboard?this.keyboard.push([{text:"No Text"}]):this.keyboard=[[{text:"No Text"}]],this.selectedRow=null;else{let t=o?this.selectedRow:this.selectedRow+1;this.keyboard.splice(t,0,[{text:"No Text"}])}this.save()},addColToRow(){let o=this.selectedRow;this.keyboard[o].push({text:"No Text"}),this.save()},selectIndex(o,t){this.selectedRow=o,this.select.row=o,this.select.col=t,this.keyboard[o]&&(this.select.text=this.keyboard[o][t].text),this.load=!0,this.$nextTick(()=>{this.load=!1})},removeCol(o,t){this.keyboard[o].length>1?this.keyboard[o].splice(t,1):this.keyboard.splice(1,1),this.save()}}},_sfc_main$1u=Object.assign(__default__$X,{__name:"KeyboardConstructor",setup(o){return(t,a)=>{const i=resolveComponent("Popper"),s=resolveComponent("PagesList"),r=resolveComponent("InlineQueryList");return openBlock(),createElementBlock(Fragment,null,[!t.editor&&t.mode===0?(openBlock(),createElementBlock("div",_hoisted_1$1u,[createVNode(i,null,{content:withCtx(()=>[_hoisted_3$1s]),default:withCtx(()=>[_hoisted_2$1s]),_:1}),createBaseVNode("div",_hoisted_4$1o,[t.selectedRow==null?(openBlock(),createElementBlock("button",{key:0,title:"добавление в нижнюю часть новой строки (кнопки)",type:"button",class:"btn btn-link mb-2 w-100",style:{"font-size":"12px"},onClick:a[0]||(a[0]=(...n)=>t.addRow&&t.addRow(...n))},[_hoisted_5$1o,createTextVNode(" Добавить строку ")])):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:1,type:"button",title:"добавление строки над выбранной строкой",class:"btn btn-primary mb-2 mr-2",onClick:a[1]||(a[1]=(...n)=>t.addRowAbove&&t.addRowAbove(...n))},_hoisted_7$1k)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:2,type:"button",title:"добавление строки под выбранной строкой",class:"btn btn-primary mb-2 mr-2",onClick:a[2]||(a[2]=(...n)=>t.addRowBelow&&t.addRowBelow(...n))},_hoisted_9$1c)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-primary mb-2 mr-2",onClick:a[3]||(a[3]=n=>t.moveRow(0))},_hoisted_11$13)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:4,type:"button",class:"btn btn-primary mb-2 mr-2",onClick:a[4]||(a[4]=n=>t.moveRow(1))},_hoisted_13$Z)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:5,type:"button",class:"btn btn-outline-danger mb-2 mr-2",onClick:a[5]||(a[5]=n=>t.selectedRow=null)},_hoisted_15$W)):createCommentVNode("",!0)]),(t.keyboard||[]).length===0?(openBlock(),createElementBlock("p",_hoisted_16$V,"Элементы клавиатуры еще не добавлены")):createCommentVNode("",!0),(t.keyboard||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_17$R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.keyboard,(n,l)=>(openBlock(),createElementBlock("div",_hoisted_18$O,[createBaseVNode("div",_hoisted_19$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n,(c,m)=>(openBlock(),createElementBlock("div",{style:{"margin-right":"5px"},class:"btn-group dropdown-center w-100 mb-1",onClick:p=>t.selectIndex(l,m)},[withDirectives(createBaseVNode("input",{style:{"font-size":"10px"},type:"text",class:"btn btn-outline-light text-primary w-100","onUpdate:modelValue":p=>t.keyboard[l][m].text=p},null,8,_hoisted_21$J),[[vModelText,t.keyboard[l][m].text]]),createBaseVNode("div",_hoisted_22$J,[_hoisted_23$J,createBaseVNode("ul",_hoisted_24$G,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:p=>t.openKeyboardEditorMenu(l,m),href:"javascript:void(0)"},"Редактор",8,_hoisted_25$E)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",title:"добавление кнопки на строку",class:"dropdown-item",onClick:a[6]||(a[6]=p=>t.addColToRow())},[_hoisted_26$C,createTextVNode(" Добавить ")])):createCommentVNode("",!0)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",title:"удаление крайней левой кнопки из строки либо самой строки",class:"dropdown-item",onClick:p=>t.removeColFromRow(m)},[_hoisted_28$y,createTextVNode(" Удалить ")],8,_hoisted_27$z)):createCommentVNode("",!0)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"dropdown-item",onClick:p=>t.moveCol(l,0)},[_hoisted_30$w,createTextVNode(" Переместить ")],8,_hoisted_29$w)):createCommentVNode("",!0)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"dropdown-item",onClick:p=>t.moveCol(l,1)},[_hoisted_32$v,createTextVNode(" Переместить ")],8,_hoisted_31$v)):createCommentVNode("",!0)]),createBaseVNode("li",{onClick:p=>t.moveColVertical(l,0)},_hoisted_35$t,8,_hoisted_33$u),createBaseVNode("li",{onClick:p=>t.moveColVertical(l,1)},_hoisted_38$r,8,_hoisted_36$s)])])],8,_hoisted_20$K))),256))])]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_39$r,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=n=>t.showCode=n),id:"showCode"+t.uuid},null,8,_hoisted_40$p),[[vModelCheckbox,t.showCode]]),createBaseVNode("label",{class:"form-check-label",for:"showCode"+t.uuid}," Отобразить код ",8,_hoisted_41$p)]),t.showCode?(openBlock(),createElementBlock("div",_hoisted_42$p,[_hoisted_43$p,t.load?createCommentVNode("",!0):(openBlock(),createBlock(unref(Vue3JsonEditor),{key:0,mode:"code",modelValue:t.keyboard,"onUpdate:modelValue":a[8]||(a[8]=n=>t.keyboard=n),"show-btns":!1,expandedOnStart:!0,onJsonChange:t.onJsonChange},null,8,["modelValue","onJsonChange"]))])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.mode===1?(openBlock(),createElementBlock("div",_hoisted_44$p,[createBaseVNode("div",_hoisted_45$p,[createBaseVNode("div",_hoisted_46$p,[createBaseVNode("button",{type:"button",onClick:a[9]||(a[9]=n=>t.mode=0),class:"btn btn-outline-light text-primary"},"Назад ")]),createBaseVNode("form",_hoisted_47$o,[_hoisted_48$o,createBaseVNode("div",_hoisted_49$n,[createBaseVNode("div",_hoisted_50$n,[createBaseVNode("div",_hoisted_51$m,[withDirectives(createBaseVNode("input",{type:"text",id:"command-title-"+t.select.row+"-col-"+t.select.col,class:"form-control border-light","onUpdate:modelValue":a[10]||(a[10]=n=>t.keyboard[t.select.row][t.select.col].text=n)},null,8,_hoisted_52$m),[[vModelText,t.keyboard[t.select.row][t.select.col].text]]),_hoisted_53$l]),createBaseVNode("button",{type:"button",onClick:a[11]||(a[11]=(...n)=>t.openPageModal&&t.openPageModal(...n)),class:"btn btn-outline-light","aria-expanded":"false"},_hoisted_55$i)])]),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_56$i,[withDirectives(createBaseVNode("input",{type:"text",onChange:a[12]||(a[12]=n=>t.needRemoveField("callback_data",t.select.row,t.select.col)),"onUpdate:modelValue":a[13]||(a[13]=n=>t.keyboard[t.select.row][t.select.col].callback_data=n),class:"form-control",id:"command-row-"+t.select.row+"-col-"+t.select.col,placeholder:"/start"},null,40,_hoisted_57$h),[[vModelText,t.keyboard[t.select.row][t.select.col].callback_data]]),createBaseVNode("label",{for:"command-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда (для меню в сообщении)",8,_hoisted_58$g)])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_59$g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",onChange:a[14]||(a[14]=n=>t.needRemoveField("switch_inline_query",t.select.row,t.select.col)),"onUpdate:modelValue":a[15]||(a[15]=n=>t.keyboard[t.select.row][t.select.col].switch_inline_query=n),id:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,placeholder:"@YourAccountLink"},null,40,_hoisted_60$f),[[vModelText,t.keyboard[t.select.row][t.select.col].switch_inline_query]]),createBaseVNode("label",{for:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка на аккаунт в ТЕЛЕГРАММ",8,_hoisted_61$f)])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_62$e,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",onChange:a[16]||(a[16]=n=>t.needRemoveField("url",t.select.row,t.select.col)),"onUpdate:modelValue":a[17]||(a[17]=n=>t.keyboard[t.select.row][t.select.col].url=n),id:"url-row-"+t.select.row+"-col-"+t.colIndex,placeholder:"https://t.me/example"},null,40,_hoisted_63$e),[[vModelText,t.keyboard[t.select.row][t.select.col].url]]),createBaseVNode("label",{for:"url-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Внешняя URL-ссылка",8,_hoisted_64$d)])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_65$d,[createBaseVNode("label",{for:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда всплывающего меню бота",8,_hoisted_66$d),_hoisted_67$d,createBaseVNode("div",_hoisted_68$d,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",onChange:a[18]||(a[18]=n=>t.needRemoveField("switch_inline_query_current_chat",t.select.row,t.select.col)),"onUpdate:modelValue":a[19]||(a[19]=n=>t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat=n),id:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,placeholder:"команда"},null,40,_hoisted_69$d),[[vModelText,t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat]]),createBaseVNode("button",{type:"button",onClick:a[20]||(a[20]=(...n)=>t.openInlineQueryModal&&t.openInlineQueryModal(...n)),class:"btn btn-outline-primary","aria-expanded":"false"},_hoisted_71$d)])])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_72$c,[createBaseVNode("div",_hoisted_73$c,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[21]||(a[21]=n=>t.need_login_url=n),type:"checkbox",id:"need-login-url"},null,512),[[vModelCheckbox,t.need_login_url]]),_hoisted_74$b]),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_75$b,[createBaseVNode("label",{for:"login-link-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка авторизации ",8,_hoisted_76$b),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[22]||(a[22]=n=>t.keyboard[t.select.row][t.select.col].login_url.url=n),id:"login-link-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Ссылка авторизации",required:""},null,8,_hoisted_77$b),[[vModelText,t.keyboard[t.select.row][t.select.col].login_url.url]])])):createCommentVNode("",!0),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_78$a,[createBaseVNode("label",{for:"login-link-forward-text-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Новый текст кнопки в пересылаемых сообщениях ",8,_hoisted_79$a),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[23]||(a[23]=n=>t.keyboard[t.select.row][t.select.col].login_url.forward_text=n),id:"login-link-forward-text-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Текст кнопки"},null,8,_hoisted_80$a),[[vModelText,t.keyboard[t.select.row][t.select.col].login_url.forward_text]])])):createCommentVNode("",!0),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_81$a,[createBaseVNode("label",{for:"login-link-bot-username-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Имя бота, которое будет использоваться для авторизации ",8,_hoisted_82$a),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[24]||(a[24]=n=>t.keyboard[t.select.row][t.select.col].login_url.bot_username=n),id:"login-link-bot-username-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Имя бота"},null,8,_hoisted_83$9),[[vModelText,t.keyboard[t.select.row][t.select.col].login_url.bot_username]])])):createCommentVNode("",!0),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_84$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[25]||(a[25]=n=>t.keyboard[t.select.row][t.select.col].login_url.request_write_access=n),type:"checkbox",id:"need-request_write_access"},null,512),[[vModelCheckbox,t.keyboard[t.select.row][t.select.col].login_url.request_write_access]]),_hoisted_85$8])):createCommentVNode("",!0)])):createCommentVNode("",!0),o.type==="reply"?(openBlock(),createElementBlock("div",_hoisted_86$8,[createBaseVNode("input",{type:"radio",onChange:a[26]||(a[26]=n=>t.needRemoveField(null,t.select.row,t.select.col)),name:"request-radio",class:"form-check-input",id:"no-action-row-"+t.select.row+"-col-"+t.select.col},null,40,_hoisted_87$8),createBaseVNode("label",{class:"form-check-label",for:"no-action-row-"+t.select.row+"-col-"+t.select.col}," Без действий ",8,_hoisted_88$8)])):createCommentVNode("",!0),o.type==="reply"?(openBlock(),createElementBlock("div",_hoisted_89$8,[createBaseVNode("input",{type:"radio",onChange:a[27]||(a[27]=n=>t.needRemoveField("request_contact",t.select.row,t.select.col)),onClick:a[28]||(a[28]=n=>t.keyboard[t.select.row][t.select.col].request_contact=!0),name:"request-radio",checked:t.keyboard[t.select.row][t.select.col].request_contact,class:"form-check-input",id:"phone-row-"+t.select.row+"-col-"+t.select.col},null,40,_hoisted_90$8),createBaseVNode("label",{class:"form-check-label",for:"phone-row-"+t.select.row+"-col-"+t.select.col}," Запросить телефон ",8,_hoisted_91$8)])):createCommentVNode("",!0),o.type==="reply"?(openBlock(),createElementBlock("div",_hoisted_92$8,[createBaseVNode("input",{type:"radio",name:"request-radio",checked:t.keyboard[t.select.row][t.select.col].request_location,onChange:a[29]||(a[29]=n=>t.needRemoveField("request_location",t.select.row,t.select.col)),onClick:a[30]||(a[30]=n=>t.keyboard[t.select.row][t.select.col].request_location=!0),class:"form-check-input",id:"location-row-"+t.select.row+"-col-"+t.select.col},null,40,_hoisted_93$8),createBaseVNode("label",{class:"form-check-label",for:"location-row-"+t.select.row+"-col-"+t.select.col}," Запросить локацию ",8,_hoisted_94$8)])):createCommentVNode("",!0)])]),_hoisted_95$8])):createCommentVNode("",!0),createBaseVNode("div",{class:"modal fade",id:"page-list-in-keyboard-"+t.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_97$7,[createBaseVNode("div",_hoisted_98$7,[createBaseVNode("div",_hoisted_99$7,[createVNode(s,{onCallback:t.attachPage,editor:!1},null,8,["onCallback"])])])])],8,_hoisted_96$7),createBaseVNode("div",{class:"modal fade",id:"inline-query-list-in-keyboard-"+t.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_101$7,[createBaseVNode("div",_hoisted_102$7,[createBaseVNode("div",_hoisted_103$7,[createVNode(r,{onSelect:t.selectInlineQuery},null,8,["onSelect"])])])])],8,_hoisted_100$7)],64)}}}),_hoisted_1$1t={class:"row py-2"},_hoisted_2$1r={class:"col-12"},_hoisted_3$1r={class:"input-group mb-2"},_hoisted_4$1n={class:"form-floating"},_hoisted_5$1n=createBaseVNode("label",{for:"floatingInput"},"Поиск рассылки",-1),_hoisted_6$1m={class:"col-12"},_hoisted_7$1j={class:"w-100",style:{"overflow-x":"scroll"}},_hoisted_8$1f={key:0,class:"table w-100"},_hoisted_9$1b=createBaseVNode("th",{scope:"col"},"Есть нижняя клавиатура",-1),_hoisted_10$15=createBaseVNode("th",{scope:"col"},"Есть клавиатура под текстом",-1),_hoisted_11$12=createBaseVNode("th",{scope:"col"},"Действие",-1),_hoisted_12$11={scope:"row"},_hoisted_13$Y=["onClick"],_hoisted_14$V={style:{"min-width":"150px"}},_hoisted_15$V={key:0,class:"mb-0"},_hoisted_16$U={key:1},_hoisted_17$Q={style:{"min-width":"150px"}},_hoisted_18$N={key:0,class:"dropdown"},_hoisted_19$K=createBaseVNode("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-ellipsis"})],-1),_hoisted_20$J={class:"dropdown-menu"},_hoisted_21$I={key:0},_hoisted_22$I=["onClick"],_hoisted_23$I={key:0},_hoisted_24$F=createBaseVNode("div",{class:"alert alert-warning",role:"alert"},[createBaseVNode("strong",null,"Внимание!"),createTextVNode(" Вы еще не добавили ни одной рассылки! ")],-1),_hoisted_25$D=[_hoisted_24$F],_hoisted_26$B={key:0,class:"col-12"},__default__$W={data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,queues:[],search:null,paginate_object:null}},computed:{...mapGetters(["getQueues","getQueuesPaginateObject"])},mounted(){this.loadQueues()},methods:{removeQueue(o){this.loading=!0,this.$store.dispatch("removeQueue",{queueId:o}).then(t=>{this.loading=!1,this.loadQueues(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},createQueue(){this.$emit("create")},nextQueues(o){this.loadQueues(o)},selectEvent(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQueues(0)},loadQueues(o=0){this.loading=!0,this.$store.dispatch("loadQueues",{dataObject:{search:this.search,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.queues=this.getQueues,this.paginate_object=this.getQueuesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1t=Object.assign(__default__$W,{__name:"MailingTable",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1t,[createBaseVNode("div",_hoisted_2$1r,[createBaseVNode("div",_hoisted_3$1r,[createBaseVNode("div",_hoisted_4$1n,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"form-control border-light",id:"floatingInput",placeholder:"Поиск рассылки"},null,512),[[vModelText,t.search]]),_hoisted_5$1n]),createBaseVNode("button",{class:"btn btn-outline-light",onClick:a[1]||(a[1]=i=>t.loadQueues(0)),type:"button",id:"queue-search-queue"},"Найти ")])]),createBaseVNode("div",_hoisted_6$1m,[createBaseVNode("div",_hoisted_7$1j,[t.queues.length>0?(openBlock(),createElementBlock("table",_hoisted_8$1f,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col",class:"cursor-pointer",onClick:a[2]||(a[2]=i=>t.loadAndOrder("id"))},"#"),createBaseVNode("th",{scope:"col",style:{"min-width":"200px"},class:"cursor-pointer",onClick:a[3]||(a[3]=i=>t.loadAndOrder("content"))},"Содержимое"),_hoisted_9$1b,_hoisted_10$15,createBaseVNode("th",{scope:"col",class:"cursor-pointer",onClick:a[4]||(a[4]=i=>t.loadAndOrder("images"))},"Изображения к рассылке"),createBaseVNode("th",{scope:"col",style:{"min-width":"150px"},class:"cursor-pointer",onClick:a[5]||(a[5]=i=>t.loadAndOrder("sent_at"))},"Отправлено в"),createBaseVNode("th",{scope:"col",style:{"min-width":"150px"},class:"cursor-pointer",onClick:a[6]||(a[6]=i=>t.loadAndOrder("cron_time"))},"Дата отправки"),_hoisted_11$12])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.queues,(i,s)=>(openBlock(),createElementBlock("tr",{class:normalizeClass({"border-info":i.deleted_at==null,"border-danger":i.deleted_at!=null})},[createBaseVNode("th",_hoisted_12$11,toDisplayString(i.id),1),createBaseVNode("td",{style:{"min-width":"200px"},onClick:r=>t.selectEvent(i)},toDisplayString(i.content||"Не указано"),9,_hoisted_13$Y),createBaseVNode("td",null,toDisplayString(i.reply_keyboard?"Есть":"Нет"),1),createBaseVNode("td",null,toDisplayString(i.inline_keyboard?"Есть":"Нет"),1),createBaseVNode("td",null,toDisplayString((i.images||[]).length),1),createBaseVNode("td",_hoisted_14$V,[i.sent_at?(openBlock(),createElementBlock("p",_hoisted_15$V,toDisplayString(t.$filters.currentFull(i.sent_at)),1)):(openBlock(),createElementBlock("p",_hoisted_16$U,"Не задано"))]),createBaseVNode("td",_hoisted_17$Q,toDisplayString(t.$filters.currentFull(i.cron_time)),1),createBaseVNode("td",null,[i.id?(openBlock(),createElementBlock("div",_hoisted_18$N,[_hoisted_19$K,createBaseVNode("ul",_hoisted_20$J,[i.deleted_at==null?(openBlock(),createElementBlock("li",_hoisted_21$I,[createBaseVNode("a",{class:"dropdown-item",onClick:r=>t.removeQueue(i.id),href:"javascript:void(0)"},"Удалить",8,_hoisted_22$I)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)])],2))),256))])])):createCommentVNode("",!0)]),t.queues.length===0?(openBlock(),createElementBlock("div",_hoisted_23$I,_hoisted_25$D)):createCommentVNode("",!0)]),t.queues.length>0?(openBlock(),createElementBlock("div",_hoisted_26$B,[t.paginate_object?(openBlock(),createBlock(Pagination$2,{key:0,onPagination_page:t.nextQueues,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}}),_hoisted_1$1s={class:"form-floating mb-2"},_hoisted_2$1q={for:"floatingTextarea"},_hoisted_3$1q={key:0,class:"small"},_hoisted_4$1m={class:"form-check"},_hoisted_5$1m=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения в рассылке (максимум 10) ",-1),_hoisted_6$1l={key:0,class:"mb-2"},_hoisted_7$1i=createBaseVNode("div",{class:"divider my-3"},"Изображения",-1),_hoisted_8$1e={key:0,class:"mb-2"},_hoisted_9$1a={class:"fw-bold text-primary"},_hoisted_10$14=createBaseVNode("span",{class:"fw-bold text-primary"},"10",-1),_hoisted_11$11=createBaseVNode("button",{type:"button",class:"btn btn-outline-light text-primary w-100 p-3","data-bs-toggle":"modal","data-bs-target":"#select-images"},[createBaseVNode("i",{class:"fa-solid fa-image mr-2"}),createTextVNode(" Выбрать изображение ")],-1),_hoisted_12$10={class:"modal fade",id:"select-images","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_13$X={class:"modal-dialog modal-fullscreen"},_hoisted_14$U={class:"modal-content"},_hoisted_15$U={class:"modal-body"},_hoisted_16$T={class:"modal-footer"},_hoisted_17$P={key:0},_hoisted_18$M={key:1},_hoisted_19$J={class:"form-check"},_hoisted_20$I=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_21$H={key:1,class:"mb-2"},_hoisted_22$H=createBaseVNode("div",{class:"divider my-3"},"Меню",-1),_hoisted_23$H=createBaseVNode("button",{class:"btn mb-2 w-100 p-3 btn-outline-light text-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#show-keyboard-template-list"}," Открыть шаблоны меню ",-1),_hoisted_24$E={class:"modal fade",id:"show-keyboard-template-list","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_25$C={class:"modal-dialog modal-fullscreen"},_hoisted_26$A={class:"modal-content"},_hoisted_27$y={class:"modal-body"},_hoisted_28$x=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-primary p-3 w-100",id:"show-keyboard-template-list-btn-close","data-bs-dismiss":"modal"},"Выбрать и закрыть ")],-1),_hoisted_29$v=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Вы можете указать "),createBaseVNode("span",{class:"fw-bold text-primary"},"любое время"),createTextVNode(" для рассылки! Наши рассылки запускаются "),createBaseVNode("span",{class:"fw-bold text-primary"},"каждые 2 часа"),createTextVNode(" и будут выполнены, если указанное вами время уже наступило. ")],-1),_hoisted_30$v={class:"form-floating mb-2"},_hoisted_31$u=createBaseVNode("label",{for:"floatingInput"},"Планируемое время",-1),_hoisted_32$u=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},[createBaseVNode("i",{class:"fa-regular fa-paper-plane mr-2"}),createTextVNode(" Поставить в очередь ")],-1),_hoisted_33$t=createBaseVNode("div",{class:"divider my-3"},[createBaseVNode("i",{class:"fa-solid fa-hourglass-half text-primary mr-2"}),createTextVNode(" Рассылки в очереди")],-1),_hoisted_34$s={key:2,class:"alert alert-light d-flex justify-content-center align-items-center flex-column py-3",role:"alert"},_hoisted_35$s=createBaseVNode("div",{class:"spinner-border",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем...")],-1),_hoisted_36$r=createBaseVNode("p",{class:"mt-3 mb-0"},"Загружаем...",-1),_hoisted_37$r=[_hoisted_35$s,_hoisted_36$r],__default__$V={data(){return{load_form:!0,load:!0,showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{id:null,message:null,inline_keyboard:null,cron_time:null,images:[]}}},watch:{need_inline_menu:{handler:function(o){this.need_inline_menu},deep:!0},need_page_images:{handler:function(o){this.need_page_images||(this.mailForm.images=[])},deep:!0}},computed:{currentBot(){return window.currentBot}},methods:{clearImages(){this.mailForm.images=[],this.$notify({title:"Отлично!",text:"Изображения успешно очищены!",type:"success"})},selectMailing(o){o.inline_keyboard&&(this.need_inline_menu=!0),this.load_form=!1,this.$nextTick(()=>{this.mailForm.id=o.id||null,this.mailForm.cron_time=o.cron_time?this.$filters.local(o.cron_time):null,this.mailForm.images=o.images||[],this.mailForm.message=o.content||null,this.load_form=!0,this.mailForm.images.length>0&&(this.need_page_images=!0),o.inline_keyboard&&(this.mailForm.inline_keyboard={menu:JSON.parse(o.inline_keyboard)}),window.scroll(0,0)})},selectImages(o){(!this.mailForm.images||typeof this.mailForm.images=="string")&&(this.mailForm.images=[]);let t=this.mailForm.images.indexOf(o.file_id);t!==-1?this.mailForm.images.splice(t,1):this.mailForm.images.push(o.file_id)},addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){this.load=!1;let o=new FormData;Object.keys(this.mailForm).forEach(t=>{const a=this.mailForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("storeQueue",{queueForm:o}).then(t=>{this.load=!0,this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={message:"",images:null,inline_keyboard:null},this.$notify({title:"Отлично!",text:"Сообщение успешно отправлено в очередь рассылки!",type:"success"})}).catch(t=>{this.$notify({title:"Упс...",text:"Ошибка отправки сообщения в очередь",type:"error"})})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.showInlineTemplateSelector=!0,this.$nextTick(()=>{this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1});let t=document.querySelector("#show-keyboard-template-list-btn-close");t&&t.click()},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.images.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.images.push(t[a])}}},_sfc_main$1s=Object.assign(__default__$V,{__name:"MailToBot",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.currentBot&&t.load_form?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[5]||(a[5]=withModifiers((...i)=>t.submitMail&&t.submitMail(...i),["prevent"])),class:"py-3"},[createBaseVNode("div",_hoisted_1$1s,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=i=>t.mailForm.message=i),maxlength:"4096",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,t.mailForm.message]]),createBaseVNode("label",_hoisted_2$1q,[createTextVNode("Текстовое содержимое рассылки "),t.mailForm.message?(openBlock(),createElementBlock("span",_hoisted_3$1q,toDisplayString((t.mailForm.message||"").length)+"/4096 ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_4$1m,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[1]||(a[1]=i=>t.need_page_images=i),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_5$1m]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_6$1l,[_hoisted_7$1i,(t.mailForm.images||[]).length>0?(openBlock(),createElementBlock("p",_hoisted_8$1e,[createTextVNode("Выбрано "),createBaseVNode("span",_hoisted_9$1a,toDisplayString(t.mailForm.images.length),1),createTextVNode(" из "),_hoisted_10$14,createTextVNode(" изображений. Нажмите "),createBaseVNode("span",{class:"fw-bold text-danger text-decoration-underline cursor-pointer",onClick:a[2]||(a[2]=(...i)=>t.clearImages&&t.clearImages(...i))},"очистить"),createTextVNode(" чтоб отменить выбор изображений.")])):createCommentVNode("",!0),_hoisted_11$11,createBaseVNode("div",_hoisted_12$10,[createBaseVNode("div",_hoisted_13$X,[createBaseVNode("div",_hoisted_14$U,[createBaseVNode("div",_hoisted_15$U,[createVNode(_sfc_main$4h,{"need-photo":!0,selected:t.mailForm.images,onSelect:t.selectImages},null,8,["selected","onSelect"])]),createBaseVNode("div",_hoisted_16$T,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":(t.mailForm.images||[]).length===0,"btn-primary":(t.mailForm.images||[]).length>0},"btn w-100 p-3"]),"data-bs-dismiss":"modal"},[(t.mailForm.images||[]).length===0?(openBlock(),createElementBlock("span",_hoisted_17$P,"Закрыть")):createCommentVNode("",!0),(t.mailForm.images||[]).length>0?(openBlock(),createElementBlock("span",_hoisted_18$M,"Выбрать и закрыть")):createCommentVNode("",!0)],2)])])])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_19$J,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[3]||(a[3]=i=>t.need_inline_menu=i),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_20$I]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_21$H,[_hoisted_22$H,_hoisted_23$H,createBaseVNode("div",_hoisted_24$E,[createBaseVNode("div",_hoisted_25$C,[createBaseVNode("div",_hoisted_26$A,[createBaseVNode("div",_hoisted_27$y,[createVNode(_sfc_main$3l,{class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])]),_hoisted_28$x])])]),t.showInlineTemplateSelector?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$1u,{key:0,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_29$v,createBaseVNode("div",_hoisted_30$v,[withDirectives(createBaseVNode("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=i=>t.mailForm.cron_time=i),required:"",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.mailForm.cron_time]]),_hoisted_31$u]),_hoisted_32$u],32)):createCommentVNode("",!0),_hoisted_33$t,t.load?(openBlock(),createBlock(_sfc_main$1t,{key:1,onSelect:t.selectMailing},null,8,["onSelect"])):(openBlock(),createElementBlock("div",_hoisted_34$s,_hoisted_37$r))],64))}}),_hoisted_1$1r={key:0,class:"container py-3"},_hoisted_2$1p={class:"row"},_hoisted_3$1p={class:"col-12"},_hoisted_4$1l={class:"nav nav-tabs justify-content-center catalog-tabs"},_hoisted_5$1l={class:"nav-item"},_hoisted_6$1k=createBaseVNode("i",{class:"fa-solid fa-robot mr-2"},null,-1),_hoisted_7$1h={class:"nav-item"},_hoisted_8$1d=createBaseVNode("i",{class:"fa-regular fa-message mr-2"},null,-1),_hoisted_9$19={key:0,class:"col-12"},_hoisted_10$13={key:1,class:"col-12"},__default__$U={data(){return{tab:0,loading:!1}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})}},_sfc_main$1r=Object.assign(__default__$U,{__name:"Mailing",setup(o){return(t,a)=>t.getSelf?(openBlock(),createElementBlock("div",_hoisted_1$1r,[createBaseVNode("div",_hoisted_2$1p,[createBaseVNode("div",_hoisted_3$1p,[createBaseVNode("ul",_hoisted_4$1l,[createBaseVNode("li",_hoisted_5$1l,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[0]||(a[0]=i=>t.tab=0),style:{"font-weight":"bold"},"aria-current":"page",href:"javascript:void(0)"},[_hoisted_6$1k,createTextVNode("В бота")],2)]),createBaseVNode("li",_hoisted_7$1h,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[1]||(a[1]=i=>t.tab=1),style:{"font-weight":"bold"},href:"javascript:void(0)"},[_hoisted_8$1d,createTextVNode("В канал")],2)])])]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_9$19,[createVNode(_sfc_main$1v)])):createCommentVNode("",!0),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_10$13,[createVNode(_sfc_main$1s)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}),Mailing=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1r},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1q=createBaseVNode("p",{class:"my-3"},"Введите номер телефона (или фрагмент) пользователя или его Ф.И.О.",-1),_hoisted_2$1o={class:"form-floating mb-3"},_hoisted_3$1o=createBaseVNode("label",{for:"floatingInput"},"Кого ищем?",-1),_hoisted_4$1k={class:"d-flex w-100",style:{"overflow-x":"scroll"}},_hoisted_5$1k={class:"scroll d-flex px-2",style:{"min-width":"1300px"}},_hoisted_6$1j={class:"form-check form-switch mx-2"},_hoisted_7$1g=createBaseVNode("label",{class:"form-check-label",for:"need-admins-checkbox"},"Только администраторы",-1),_hoisted_8$1c={class:"form-check form-switch mx-2"},_hoisted_9$18=createBaseVNode("label",{class:"form-check-label",for:"need-with-phone-checkbox"},"Только с телефоном",-1),_hoisted_10$12={class:"form-check form-switch mx-2"},_hoisted_11$10=createBaseVNode("label",{class:"form-check-label",for:"need-deliveryman"},"Только доставщики",-1),_hoisted_12$$={class:"form-check form-switch mx-2"},_hoisted_13$W=createBaseVNode("label",{class:"form-check-label",for:"need-without-phone-checkbox"},"Только без телефоном",-1),_hoisted_14$T={class:"form-check form-switch mx-2"},_hoisted_15$T=createBaseVNode("label",{class:"form-check-label",for:"need-vip-checkbox"},"Только VIP",-1),_hoisted_16$S={class:"form-check form-switch mx-2"},_hoisted_17$O=createBaseVNode("label",{class:"form-check-label",for:"need-not-vip-checkbox"},"Только не VIP",-1),_hoisted_18$L=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3 my-3"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-2"}),createTextVNode("Искать ")],-1),_hoisted_19$I={class:"w-100 text-center mb-2 small"},_hoisted_20$H={class:"text-primary fw-bold"},_hoisted_21$G={class:"list-group"},_hoisted_22$G=["onClick"],_hoisted_23$G={key:0,class:"fa-solid fa-a text-danger mr-2"},_hoisted_24$D={key:1,class:"fa-solid fa-u text-success mr-2"},_hoisted_25$B={key:2,style:{"font-size":"12px"}},_hoisted_26$z={key:3,style:{"font-size":"12px"}},_hoisted_27$x={style:{"font-size":"12px"}},_hoisted_28$w=createStaticVNode('<div class="card card-info mb-3"><div class="card-body"><p class="mb-2"><i class="fa-solid fa-a text-danger mr-2"></i> - администратор системы</p><p class="mb-0"><i class="fa-solid fa-u text-success mr-2"></i> - пользователь</p></div></div>',1),_hoisted_29$u=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_30$u=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),__default__$T={props:["selectedBotUser"],data(){return{loading:!0,users:null,search:null,need_admins:!1,need_vip:!1,need_not_vip:!1,need_with_phone:!1,need_without_phone:!1,need_deliveryman:!1,users_paginate_object:null}},computed:{...mapGetters(["getUsers","getUsersPaginateObject"])},mounted(){this.loadUsers(0)},methods:{downloadBotUsers(){this.$notify({title:"Внимание!",text:"Начался формироваться документ статистики!"}),this.$store.dispatch("downloadBotUsers").then(o=>{this.$notify({title:"Отлично!",text:"Документ успешно сформирован!",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Что-то пошло не так...!",type:"error"})})},downloadCashBackHistory(){this.$notify({title:"Внимание!",text:"Начался формироваться документ статистики!"}),this.$store.dispatch("downloadCashBackHistory").then(o=>{this.$notify({title:"Отлично!",text:"Документ успешно сформирован!",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Что-то пошло не так...!",type:"error"})})},nextUsers(o){this.loadUsers(o)},selectUser(o){this.$emit("select",o)},loadUsers(o=0){this.loading=!0,this.$store.dispatch("loadUsers",{dataObject:{search:this.search,need_admins:this.need_admins,need_vip:this.need_vip,need_not_vip:this.need_not_vip,need_deliveryman:this.need_deliveryman,need_with_phone:this.need_with_phone,need_without_phone:this.need_without_phone},page:o}).then(t=>{this.loading=!1,this.users=this.getUsers,this.users_paginate_object=this.getUsersPaginateObject,this.$emit("cancel")}).catch(()=>{this.loading=!1})}}},_sfc_main$1q=Object.assign(__default__$T,{__name:"Users",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1q,createBaseVNode("form",{onSubmit:a[7]||(a[7]=withModifiers(i=>t.loadUsers(0),["prevent"]))},[createBaseVNode("div",_hoisted_2$1o,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_3$1o]),createBaseVNode("div",_hoisted_4$1k,[createBaseVNode("div",_hoisted_5$1k,[createBaseVNode("div",_hoisted_6$1j,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[1]||(a[1]=i=>t.need_admins=i),value:"false",type:"checkbox",role:"switch",id:"need-admins-checkbox"},null,512),[[vModelCheckbox,t.need_admins]]),_hoisted_7$1g]),createBaseVNode("div",_hoisted_8$1c,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=i=>t.need_with_phone=i),value:"false",type:"checkbox",role:"switch",id:"need-with-phone-checkbox"},null,512),[[vModelCheckbox,t.need_with_phone]]),_hoisted_9$18]),createBaseVNode("div",_hoisted_10$12,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[3]||(a[3]=i=>t.need_deliveryman=i),value:"false",type:"checkbox",role:"switch",id:"need-deliveryman"},null,512),[[vModelCheckbox,t.need_deliveryman]]),_hoisted_11$10]),createBaseVNode("div",_hoisted_12$$,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[4]||(a[4]=i=>t.need_without_phone=i),value:"false",type:"checkbox",role:"switch",id:"need-without-phone-checkbox"},null,512),[[vModelCheckbox,t.need_without_phone]]),_hoisted_13$W]),createBaseVNode("div",_hoisted_14$T,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[5]||(a[5]=i=>t.need_vip=i),value:"false",type:"checkbox",role:"switch",id:"need-vip-checkbox"},null,512),[[vModelCheckbox,t.need_vip]]),_hoisted_15$T]),createBaseVNode("div",_hoisted_16$S,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[6]||(a[6]=i=>t.need_not_vip=i),value:"false",type:"checkbox",role:"switch",id:"need-not-vip-checkbox"},null,512),[[vModelCheckbox,t.need_not_vip]]),_hoisted_17$O])])]),_hoisted_18$L],32),t.users&&!t.loading?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("p",_hoisted_19$I,[createTextVNode("Найдено пользователей "),createBaseVNode("span",_hoisted_20$H,toDisplayString(t.users_paginate_object.meta.total),1)]),createBaseVNode("ul",_hoisted_21$G,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.users,(i,s)=>(openBlock(),createElementBlock("li",{onClick:r=>t.selectUser(i),class:normalizeClass([{"bg-primary text-white":i.id==(o.selectedBotUser||{id:null}).id},"list-group-item d-flex justify-content-between"])},[createBaseVNode("div",null,[i.is_admin?(openBlock(),createElementBlock("i",_hoisted_23$G)):(openBlock(),createElementBlock("i",_hoisted_24$D)),(i.name||i.fio_from_telegram||"Не указано").length>26?(openBlock(),createElementBlock("span",_hoisted_25$B,toDisplayString((i.name||i.fio_from_telegram||"Не указано").substring(0,26))+"...",1)):(openBlock(),createElementBlock("span",_hoisted_26$z,toDisplayString(i.name||i.fio_from_telegram||"Не указано"),1))]),createBaseVNode("strong",_hoisted_27$x,toDisplayString(i.phone||"Телефон не указан"),1)],10,_hoisted_22$G))),256))]),t.users_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,class:"mt-4",onPagination_page:t.nextUsers,pagination:t.users_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),_hoisted_28$w,createBaseVNode("a",{href:"javascript:void(0)",onClick:a[8]||(a[8]=(...i)=>t.downloadBotUsers&&t.downloadBotUsers(...i)),class:"btn btn-outline-info w-100 p-3 mb-2"},[_hoisted_29$u,createTextVNode(" Скачать список пользователей ")]),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[9]||(a[9]=(...i)=>t.downloadCashBackHistory&&t.downloadCashBackHistory(...i)),class:"btn btn-outline-info w-100 p-3 mb-2"},[_hoisted_30$u,createTextVNode(" Скачать историю начисления ")])],64))}}),_hoisted_1$1p={class:"mb-2 d-flex justify-content-between w-100 align-items-center"},_hoisted_2$1n={class:"badge bg-primary"},_hoisted_3$1n={key:0,style:{"font-size":"12px"}},_hoisted_4$1j=createBaseVNode("i",{class:"fa-solid fa-check mr-2 text-success"},null,-1),_hoisted_5$1j={key:1,style:{"font-size":"12px"}},_hoisted_6$1i=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1 text-danger"},null,-1),_hoisted_7$1f=createBaseVNode("i",{class:"fa-solid fa-stopwatch mr-1 text-primary"},null,-1),_hoisted_8$1b={key:0},_hoisted_9$17={class:"mb-2"},_hoisted_10$11={class:"fw-bold"},_hoisted_11$$=["disabled"],_hoisted_12$_={key:0,class:"color-white"},_hoisted_13$V={key:1,class:"color-white"},__default__$S={props:["item"],data(){return{spent_time_counter:0}},mounted(){localStorage.getItem("cashman_order_cashback_add_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_order_cashback_add_counter")||0))},methods:{addCashBack(){this.startTimer(),this.$store.dispatch("addCashBackToOrder",{order_id:this.item.id}).then(()=>{this.item.is_cashback_crediting=!0,this.$notify({title:"Отзывы",text:"Вы успешно начислили CashBack пользователю",type:"success"})}).catch(()=>{this.item.is_cashback_crediting=!1,this.$notify({title:"Отзывы",text:"Ошибка начисления CashBack",type:"error"})})},select(o){return this.$emit("select",o)},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_order_cashback_add_counter",this.spent_time_counter)},1e3)}}},_sfc_main$1p=Object.assign(__default__$S,{__name:"OrderItem",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",{onClick:a[2]||(a[2]=i=>t.select(o.item)),style:{"font-weight":"bold"},class:"list-group-item d-flex justify-content-between p-3 align-items-start flex-column","aria-current":"true"},[createBaseVNode("p",_hoisted_1$1p,[createBaseVNode("span",_hoisted_2$1n,"Заказ #"+toDisplayString(o.item.id),1),o.item.is_cashback_crediting?(openBlock(),createElementBlock("span",_hoisted_3$1n,[_hoisted_4$1j,createTextVNode(" Баллы начислены")])):(openBlock(),createElementBlock("span",_hoisted_5$1j,[_hoisted_6$1i,createTextVNode(" Баллы не начислены")]))]),createBaseVNode("p",null,[_hoisted_7$1f,createTextVNode(" Время заказа "+toDisplayString(o.item.created_at),1)]),(o.item.product_details||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_8$1b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.item.product_details[0].products,i=>(openBlock(),createElementBlock("li",null,toDisplayString(i.title),1))),256))])):createCommentVNode("",!0),createBaseVNode("p",_hoisted_9$17,[createTextVNode("Цена заказа: "),createBaseVNode("strong",_hoisted_10$11,toDisplayString(o.item.summary_price)+" руб.",1)]),o.item.review?(openBlock(),createBlock(_sfc_main$2x,{key:1,"is-admin":!0,modelValue:o.item.review,"onUpdate:modelValue":a[0]||(a[0]=i=>o.item.review=i)},null,8,["modelValue"])):createCommentVNode("",!0),o.item.is_cashback_crediting?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:2,type:"button",disabled:t.spent_time_counter>0,onClick:a[1]||(a[1]=(...i)=>t.addCashBack&&t.addCashBack(...i)),class:"btn btn-outline-success w-100 mt-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_12$_,"Начислить баллы")):(openBlock(),createElementBlock("span",_hoisted_13$V,"Осталось ждать "+toDisplayString(t.spent_time_counter||0)+" сек.",1))],8,_hoisted_11$$))]))}}),_hoisted_1$1o={class:"row"},_hoisted_2$1m={class:"col-12"},_hoisted_3$1m=createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" Список заказов")],-1),_hoisted_4$1i={class:"form-floating mb-2"},_hoisted_5$1i=createBaseVNode("label",{for:"floatingInput"},"Поиск по заказам",-1),_hoisted_6$1h={class:"col-12"},_hoisted_7$1e={class:"nav nav-tabs justify-content-center"},_hoisted_8$1a={class:"nav-item"},_hoisted_9$16={class:"nav-item"},_hoisted_10$10={key:0,class:"col-12"},_hoisted_11$_={class:"form-floating my-2"},_hoisted_12$Z=createBaseVNode("option",{value:"id"},"По номеру заказа",-1),_hoisted_13$U=createBaseVNode("option",{value:"is_cashback_crediting"},"По начислению CashBack",-1),_hoisted_14$S=createBaseVNode("option",{value:"summary_price"},"По цене заказа",-1),_hoisted_15$S=createBaseVNode("option",{value:"product_count"},"По числу товара в заказе",-1),_hoisted_16$R=createBaseVNode("option",{value:"updated_at"},"По дате добавления",-1),_hoisted_17$N=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_18$K={key:0},_hoisted_19$H=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_20$G=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_21$F={key:1,class:"list-group my-2"},_hoisted_22$F={key:2,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_23$F=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Заказов еще нет:(")],-1),_hoisted_24$C=[_hoisted_23$F],_hoisted_25$A={key:1,class:"col-12"},_hoisted_26$y=createBaseVNode("hr",null,null,-1),__default__$R={props:["botUser"],data(){return{search:null,tab:0,sort:{param:"id",direction:"desc"},orders:null,orders_paginate_object:null,reviews:[],reviews_paginate_object:null}},computed:{...mapGetters(["getOrders","getOrdersPaginateObject","inCart","getReviews","getReviewsPaginateObject"]),tg(){return window.Telegram.WebApp}},mounted(){this.loadOrders(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.push({name:"MenuV2"})})},methods:{changeDirection(o){this.sort.direction=o,this.loadOrders(0)},loadProductInOrders(o=0){return this.tab=1,this.$store.dispatch("loadReviews",{dataObject:{bot_user_id:this.botUser?this.botUser.id:null},page:o||0,size:20}).then(()=>{this.reviews=this.getReviews,this.reviews_paginate_object=this.getReviewsPaginateObject})},nextOrders(o){this.loadOrders(o)},nextReviews(o){this.loadProductInOrders(o)},loadOrders(o=0){return this.$store.dispatch("loadAllOrders",{dataObject:{search:this.search||null,order_by:this.sort.param||null,direction:this.sort.direction||"asc",bot_user_id:this.botUser?this.botUser.id:null},page:o,size:20}).then(()=>{this.orders=this.getOrders,this.orders_paginate_object=this.getOrdersPaginateObject})}}},_sfc_main$1o=Object.assign(__default__$R,{__name:"OrderList",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1o,[createBaseVNode("div",_hoisted_2$1m,[_hoisted_3$1m,createBaseVNode("div",_hoisted_4$1i,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_5$1i])]),createBaseVNode("div",_hoisted_6$1h,[createBaseVNode("ul",_hoisted_7$1e,[createBaseVNode("li",_hoisted_8$1a,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[1]||(a[1]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Заказы",2)]),createBaseVNode("li",_hoisted_9$16,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[2]||(a[2]=i=>t.loadProductInOrders(0)),href:"javascript:void(0)"},"Товары",2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_10$10,[createBaseVNode("div",_hoisted_11$_,[withDirectives(createBaseVNode("select",{onChange:a[3]||(a[3]=i=>t.loadOrders(0)),"onUpdate:modelValue":a[4]||(a[4]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_12$Z,_hoisted_13$U,createTextVNode(" > "),_hoisted_14$S,_hoisted_15$S,_hoisted_16$R],544),[[vModelSelect,t.sort.param]]),_hoisted_17$N]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_18$K,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[5]||(a[5]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_19$H])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[6]||(a[6]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_20$G])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.orders||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_21$F,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.orders,i=>(openBlock(),createBlock(_sfc_main$1p,{item:i},null,8,["item"]))),256))])):(openBlock(),createElementBlock("div",_hoisted_22$F,_hoisted_24$C)),t.orders_paginate_object?(openBlock(),createBlock(Pagination,{key:3,simple:!0,onPagination_page:t.nextOrders,pagination:t.orders_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_25$A,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(i,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$2x,{"is-admin":!0,modelValue:t.reviews[s],"onUpdate:modelValue":r=>t.reviews[s]=r,"need-product":!0},null,8,["modelValue","onUpdate:modelValue"]),_hoisted_26$y],64))),256)),t.reviews_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.reviews_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}}),_sfc_main$1n={props:["botUser"],data(){return{isEdit:!1,messages:[],botUserForm:{id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:null,blocked_message:null}}},watch:{isEdit:function(){this.botUserForm.id=this.botUser.id,this.botUserForm.is_vip=this.botUser.is_vip,this.botUserForm.is_admin=this.botUser.is_admin,this.botUserForm.is_work=this.botUser.is_work,this.botUserForm.is_manager=this.botUser.is_manager,this.botUserForm.is_deliveryman=this.botUser.is_deliveryman,this.botUserForm.user_in_location=this.botUser.user_in_location,this.botUserForm.name=this.botUser.name||this.botUser.username||this.botUser.id,this.botUserForm.phone=this.botUser.phone,this.botUserForm.email=this.botUser.email,this.botUserForm.birthday=this.botUser.birthday||null,this.botUserForm.city=this.botUser.city||null,this.botUserForm.country=this.botUser.country||null,this.botUserForm.address=this.botUser.address||null,this.botUserForm.sex=this.botUser.sex||!1,this.botUserForm.is_blocked=this.botUser.blocked_at!=null,this.botUserForm.blocked_message=this.botUser.blocked_message||null}},methods:{alert(o){this.messages.push(o)},removeMessage(o){this.messages.splice(o,1)},submit(){this.$store.dispatch("updateBotUser",{botUserForm:this.botUserForm}).then(()=>{this.isEdit=!1,this.messages=[],this.botUserForm={id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:!1},this.$emit("update"),this.$notify({title:"Редактирование данных",text:"Данные успешно обновлены!",type:"success"})}).catch(()=>{this.$notify({title:"Редактирование данных",text:"Ошибка обновления данных",type:"error"})})}}},_hoisted_1$1n={key:0},_hoisted_2$1l=createBaseVNode("i",{class:"fa-solid fa-user-pen mr-2"},null,-1),_hoisted_3$1l={key:1},_hoisted_4$1h=createBaseVNode("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),_hoisted_5$1h={key:0},_hoisted_6$1g=createBaseVNode("h6",null,"Основные данные пользователя",-1),_hoisted_7$1d={class:"table"},_hoisted_8$19=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_9$15=createBaseVNode("th",{scope:"row"},"ID в системе",-1),_hoisted_10$$={class:"font-weight-bold"},_hoisted_11$Z=createBaseVNode("th",{scope:"row"},"Дата регистрации",-1),_hoisted_12$Y={class:"font-weight-bold"},_hoisted_13$T=createBaseVNode("th",{scope:"row"},"Телеграм ID",-1),_hoisted_14$R={class:"font-weight-bold"},_hoisted_15$R=createBaseVNode("th",{scope:"row"},"Имя",-1),_hoisted_16$Q={class:"font-weight-bold"},_hoisted_17$M=createBaseVNode("th",{scope:"row"},"Имя из телеграмма",-1),_hoisted_18$J={class:"font-weight-bold"},_hoisted_19$G=createBaseVNode("th",{scope:"row"},"Домен пользователя",-1),_hoisted_20$F={class:"font-weight-bold"},_hoisted_21$E=createBaseVNode("th",{scope:"row"},"Номер телефона",-1),_hoisted_22$E={class:"font-weight-bold"},_hoisted_23$E=createBaseVNode("th",{scope:"row"},"Возраст",-1),_hoisted_24$B={class:"font-weight-bold"},_hoisted_25$z=createBaseVNode("th",{scope:"row"},"Пол",-1),_hoisted_26$x={class:"font-weight-bold"},_hoisted_27$w=createBaseVNode("th",{scope:"row"},"Страна",-1),_hoisted_28$v={class:"font-weight-bold"},_hoisted_29$t=createBaseVNode("th",{scope:"row"},"Город",-1),_hoisted_30$t={class:"font-weight-bold"},_hoisted_31$t=createBaseVNode("th",{scope:"row"},"Адрес",-1),_hoisted_32$t={class:"font-weight-bold"},_hoisted_33$s=createBaseVNode("h6",null,"Статусы пользователя",-1),_hoisted_34$r={class:"table"},_hoisted_35$r=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_36$q=createBaseVNode("th",{scope:"row"},"VIP",-1),_hoisted_37$q={class:"font-weight-bold"},_hoisted_38$q=createBaseVNode("th",{scope:"row"},"Администратор",-1),_hoisted_39$q={class:"font-weight-bold"},_hoisted_40$o=createBaseVNode("th",{scope:"row"},"Доставщик",-1),_hoisted_41$o={class:"font-weight-bold"},_hoisted_42$o=createBaseVNode("th",{scope:"row"},"На работе",-1),_hoisted_43$o={class:"font-weight-bold"},_hoisted_44$o=createBaseVNode("th",{scope:"row"},"В заведении",-1),_hoisted_45$o={class:"font-weight-bold"},_hoisted_46$o={key:0},_hoisted_47$n=createBaseVNode("th",{scope:"row"},"Пользователь заблокирован",-1),_hoisted_48$n={class:"font-weight-bold"},_hoisted_49$m={class:"mb-0"},_hoisted_50$m={class:"mb-0"},_hoisted_51$l={class:"form-floating mb-2"},_hoisted_52$l=createBaseVNode("label",{for:""},"Ф.И.О пользователя",-1),_hoisted_53$k={class:"form-floating mb-2"},_hoisted_54$k=createBaseVNode("label",{for:""},"Телефон",-1),_hoisted_55$h={class:"form-floating mb-2"},_hoisted_56$h=createBaseVNode("label",{for:""},"Почта",-1),_hoisted_57$g={class:"form-floating mb-2"},_hoisted_58$f=createBaseVNode("label",{for:""},"Адрес",-1),_hoisted_59$f={class:"form-floating mb-2"},_hoisted_60$e=createBaseVNode("label",{for:""},"Дата рождения",-1),_hoisted_61$e={class:"form-floating mb-2"},_hoisted_62$d=createBaseVNode("label",{for:""},"Страна",-1),_hoisted_63$d={class:"form-floating mb-2"},_hoisted_64$c=createBaseVNode("label",{for:""},"Город",-1),_hoisted_65$c={class:"row mb-0"},_hoisted_66$c=createBaseVNode("p",{class:"col-12 my-2"},"Администратор",-1),_hoisted_67$c={class:"col-6"},_hoisted_68$c=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_69$c={class:"col-6"},_hoisted_70$c=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_71$c={class:"row mb-0"},_hoisted_72$b=createBaseVNode("p",{class:"col-12 my-2"},"VIP",-1),_hoisted_73$b={class:"col-6"},_hoisted_74$a=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_75$a={class:"col-6"},_hoisted_76$a=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_77$a={class:"row mb-0"},_hoisted_78$9=createBaseVNode("p",{class:"col-12 my-2"},"Доставщик",-1),_hoisted_79$9={class:"col-6"},_hoisted_80$9=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_81$9={class:"col-6"},_hoisted_82$9=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_83$8={class:"row mb-0"},_hoisted_84$7=createBaseVNode("p",{class:"col-12 my-2"},"Менеджер",-1),_hoisted_85$7={class:"col-6"},_hoisted_86$7=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_87$7={class:"col-6"},_hoisted_88$7=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_89$7={class:"row mb-0"},_hoisted_90$7=createBaseVNode("p",{class:"col-12 my-2"},"Работает",-1),_hoisted_91$7={class:"col-6"},_hoisted_92$7=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_93$7={class:"col-6"},_hoisted_94$7=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_95$7={class:"row mb-0"},_hoisted_96$6=createBaseVNode("p",{class:"col-12 my-2"},"В заведении",-1),_hoisted_97$6={class:"col-6"},_hoisted_98$6=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_99$6={class:"col-6"},_hoisted_100$6=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_101$6={class:"row mb-0"},_hoisted_102$6=createBaseVNode("p",{class:"col-12 my-2"},"Блокировка пользователя",-1),_hoisted_103$6={class:"col-6"},_hoisted_104$6=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_105$6={class:"col-6"},_hoisted_106$5=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_107$5={key:0,class:"col-12"},_hoisted_108$5={class:"form-floating my-2"},_hoisted_109$5=createBaseVNode("label",{for:""},"Сообщение блокировки",-1),_hoisted_110$4={class:"row mb-0"},_hoisted_111$3=createBaseVNode("p",{class:"col-12 my-2"},"Пол",-1),_hoisted_112$3={class:"col-6"},_hoisted_113$3=createBaseVNode("i",{class:"fa-solid fa-mars mr-1"},null,-1),_hoisted_114$3={class:"col-6"},_hoisted_115$3=createBaseVNode("i",{class:"fa-solid fa-venus mr-1"},null,-1),_hoisted_116$3={class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_117$3={class:"custom-alert-text"},_hoisted_118$3=["onClick"],_hoisted_119$3=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 my-3 w-100"}," Сохранить ")],-1);function _sfc_render$y(o,t,a,i,s,r){const n=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=l=>s.isEdit=!s.isEdit),class:"btn btn-outline-light text-primary w-100 p-3 mb-2"},[s.isEdit?(openBlock(),createElementBlock("span",_hoisted_3$1l,[_hoisted_4$1h,createTextVNode(" Завершить редактирование")])):(openBlock(),createElementBlock("span",_hoisted_1$1n,[_hoisted_2$1l,createTextVNode(" Редактировать пользователя")]))]),s.isEdit?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_5$1h,[_hoisted_6$1g,createBaseVNode("table",_hoisted_7$1d,[_hoisted_8$19,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_9$15,createBaseVNode("td",_hoisted_10$$,toDisplayString(a.botUser.id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_11$Z,createBaseVNode("td",_hoisted_12$Y,toDisplayString(o.$filters.current(a.botUser.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_13$T,createBaseVNode("td",_hoisted_14$R,toDisplayString(a.botUser.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.name==null})},[_hoisted_15$R,createBaseVNode("td",_hoisted_16$Q,toDisplayString(a.botUser.name||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_17$M,createBaseVNode("td",_hoisted_18$J,toDisplayString(a.botUser.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_19$G,createBaseVNode("td",_hoisted_20$F,toDisplayString(a.botUser.username||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.phone==null})},[_hoisted_21$E,createBaseVNode("td",_hoisted_22$E,toDisplayString(a.botUser.phone||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.age==null})},[_hoisted_23$E,createBaseVNode("td",_hoisted_24$B,toDisplayString(a.botUser.age||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_25$z,createBaseVNode("td",_hoisted_26$x,toDisplayString(a.botUser.sex?"Мужчина":"Женщина"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.country==null})},[_hoisted_27$w,createBaseVNode("td",_hoisted_28$v,toDisplayString(a.botUser.country||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.city==null})},[_hoisted_29$t,createBaseVNode("td",_hoisted_30$t,toDisplayString(a.botUser.city||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":a.botUser.address==null})},[_hoisted_31$t,createBaseVNode("td",_hoisted_32$t,toDisplayString(a.botUser.address||"Не указано"),1)],2)])]),_hoisted_33$s,createBaseVNode("table",_hoisted_34$r,[_hoisted_35$r,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_36$q,createBaseVNode("td",_hoisted_37$q,toDisplayString(a.botUser.is_vip?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_38$q,createBaseVNode("td",_hoisted_39$q,toDisplayString(a.botUser.is_admin?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_40$o,createBaseVNode("td",_hoisted_41$o,toDisplayString(a.botUser.is_deliveryman?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_42$o,createBaseVNode("td",_hoisted_43$o,toDisplayString(a.botUser.is_work?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_44$o,createBaseVNode("td",_hoisted_45$o,toDisplayString(a.botUser.user_in_location?"Да":"Нет"),1)]),a.botUser.blocked_at?(openBlock(),createElementBlock("tr",_hoisted_46$o,[_hoisted_47$n,createBaseVNode("td",_hoisted_48$n,[createBaseVNode("p",_hoisted_49$m,toDisplayString(o.$filters.current(a.botUser.blocked_at)),1),createBaseVNode("p",_hoisted_50$m,[createBaseVNode("em",null,toDisplayString(a.botUser.blocked_message??"Без сообщения"),1)])])])):createCommentVNode("",!0)])])])),s.isEdit?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[27]||(t[27]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_51$l,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>s.botUserForm.name=l),onInvalid:t[2]||(t[2]=l=>r.alert("Вы не указали имя!")),placeholder:"Иванов Иван Иванович",required:""},null,544),[[vModelText,s.botUserForm.name]]),_hoisted_52$l]),createBaseVNode("div",_hoisted_53$k,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=l=>s.botUserForm.phone=l),onInvalid:t[4]||(t[4]=l=>r.alert("Вы не указали телефон!")),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,544),[[vModelText,s.botUserForm.phone],[n,"+7(###)###-##-##"]]),_hoisted_54$k]),createBaseVNode("div",_hoisted_55$h,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=l=>s.botUserForm.email=l),placeholder:"example@gmail.com"},null,512),[[vModelText,s.botUserForm.email]]),_hoisted_56$h]),createBaseVNode("div",_hoisted_57$g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=l=>s.botUserForm.address=l),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[vModelText,s.botUserForm.address]]),_hoisted_58$f]),createBaseVNode("div",_hoisted_59$f,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=l=>s.botUserForm.birthday=l),placeholder:"12/01/2023"},null,512),[[vModelText,s.botUserForm.birthday]]),_hoisted_60$e]),createBaseVNode("div",_hoisted_61$e,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=l=>s.botUserForm.country=l),placeholder:"Россия"},null,512),[[vModelText,s.botUserForm.country]]),_hoisted_62$d]),createBaseVNode("div",_hoisted_63$d,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=l=>s.botUserForm.city=l),placeholder:"Краснодар"},null,512),[[vModelText,s.botUserForm.city]]),_hoisted_64$c]),createBaseVNode("div",_hoisted_65$c,[_hoisted_66$c,createBaseVNode("div",_hoisted_67$c,[createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=l=>s.botUserForm.is_admin=!0),class:normalizeClass([{"btn-info":s.botUserForm.is_admin,"btn-outline-secondary":!s.botUserForm.is_admin},"w-100 btn"])},[_hoisted_68$c,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_69$c,[createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=l=>s.botUserForm.is_admin=!1),class:normalizeClass([{"btn-info":!s.botUserForm.is_admin,"btn-outline-secondary":s.botUserForm.is_admin},"w-100 btn"])},[_hoisted_70$c,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_71$c,[_hoisted_72$b,createBaseVNode("div",_hoisted_73$b,[createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=l=>s.botUserForm.is_vip=!0),class:normalizeClass([{"btn-info":s.botUserForm.is_vip,"btn-outline-secondary":!s.botUserForm.is_vip},"w-100 btn"])},[_hoisted_74$a,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_75$a,[createBaseVNode("button",{type:"button",onClick:t[13]||(t[13]=l=>s.botUserForm.is_vip=!1),class:normalizeClass([{"btn-info":!s.botUserForm.is_vip,"btn-outline-secondary":s.botUserForm.is_vip},"w-100 btn"])},[_hoisted_76$a,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_77$a,[_hoisted_78$9,createBaseVNode("div",_hoisted_79$9,[createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=l=>s.botUserForm.is_deliveryman=!0),class:normalizeClass([{"btn-info":s.botUserForm.is_deliveryman,"btn-outline-secondary":!s.botUserForm.is_deliveryman},"w-100 btn"])},[_hoisted_80$9,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_81$9,[createBaseVNode("button",{type:"button",onClick:t[15]||(t[15]=l=>s.botUserForm.is_deliveryman=!1),class:normalizeClass([{"btn-info":!s.botUserForm.is_deliveryman,"btn-outline-secondary":s.botUserForm.is_deliveryman},"w-100 btn"])},[_hoisted_82$9,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_83$8,[_hoisted_84$7,createBaseVNode("div",_hoisted_85$7,[createBaseVNode("button",{type:"button",onClick:t[16]||(t[16]=l=>s.botUserForm.is_manager=!0),class:normalizeClass([{"btn-info":s.botUserForm.is_manager,"btn-outline-secondary":!s.botUserForm.is_manager},"w-100 btn"])},[_hoisted_86$7,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_87$7,[createBaseVNode("button",{type:"button",onClick:t[17]||(t[17]=l=>s.botUserForm.is_manager=!1),class:normalizeClass([{"btn-info":!s.botUserForm.is_manager,"btn-outline-secondary":s.botUserForm.is_manager},"w-100 btn"])},[_hoisted_88$7,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_89$7,[_hoisted_90$7,createBaseVNode("div",_hoisted_91$7,[createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=l=>s.botUserForm.is_work=!0),class:normalizeClass([{"btn-info":s.botUserForm.is_work,"btn-outline-secondary":!s.botUserForm.is_work},"w-100 btn"])},[_hoisted_92$7,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_93$7,[createBaseVNode("button",{type:"button",onClick:t[19]||(t[19]=l=>s.botUserForm.is_work=!1),class:normalizeClass([{"btn-info":!s.botUserForm.is_work,"btn-outline-secondary":s.botUserForm.is_work},"w-100 btn"])},[_hoisted_94$7,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_95$7,[_hoisted_96$6,createBaseVNode("div",_hoisted_97$6,[createBaseVNode("button",{type:"button",onClick:t[20]||(t[20]=l=>s.botUserForm.user_in_location=!0),class:normalizeClass([{"btn-info":s.botUserForm.user_in_location,"btn-outline-secondary":!s.botUserForm.user_in_location},"w-100 btn"])},[_hoisted_98$6,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_99$6,[createBaseVNode("button",{type:"button",onClick:t[21]||(t[21]=l=>s.botUserForm.user_in_location=!1),class:normalizeClass([{"btn-info":!s.botUserForm.user_in_location,"btn-outline-secondary":s.botUserForm.user_in_location},"w-100 btn"])},[_hoisted_100$6,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_101$6,[_hoisted_102$6,createBaseVNode("div",_hoisted_103$6,[createBaseVNode("button",{type:"button",onClick:t[22]||(t[22]=l=>s.botUserForm.is_blocked=!0),class:normalizeClass([{"btn-info":s.botUserForm.is_blocked,"btn-outline-secondary":!s.botUserForm.is_blocked},"w-100 btn"])},[_hoisted_104$6,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_105$6,[createBaseVNode("button",{type:"button",onClick:t[23]||(t[23]=l=>s.botUserForm.is_blocked=!1),class:normalizeClass([{"btn-info":!s.botUserForm.is_blocked,"btn-outline-secondary":s.botUserForm.is_blocked},"w-100 btn"])},[_hoisted_106$5,createTextVNode(" Нет ")],2)]),s.botUserForm.is_blocked?(openBlock(),createElementBlock("div",_hoisted_107$5,[createBaseVNode("div",_hoisted_108$5,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control","onUpdate:modelValue":t[24]||(t[24]=l=>s.botUserForm.blocked_message=l),style:{"min-height":"150px"},placeholder:"Увы и ах.. "},`
                     `,512),[[vModelText,s.botUserForm.blocked_message]]),_hoisted_109$5])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_110$4,[_hoisted_111$3,createBaseVNode("div",_hoisted_112$3,[createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=l=>s.botUserForm.sex=!0),class:normalizeClass([{"btn-info text-white":s.botUserForm.sex,"btn-outline-secondary":!s.botUserForm.sex},"w-100 btn"])},[_hoisted_113$3,createTextVNode(" Муж ")],2)]),createBaseVNode("div",_hoisted_114$3,[createBaseVNode("button",{type:"button",onClick:t[26]||(t[26]=l=>s.botUserForm.sex=!1),class:normalizeClass([{"btn-info text-white":!s.botUserForm.sex,"btn-outline-secondary":s.botUserForm.sex},"w-100 btn"])},[_hoisted_115$3,createTextVNode(" Жен ")],2)])]),s.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.messages,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_116$3,[createBaseVNode("p",_hoisted_117$3,toDisplayString(l||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:m=>r.removeMessage(c),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_118$3)]))),256)):createCommentVNode("",!0),_hoisted_119$3],32)):createCommentVNode("",!0)],64)}const UserInfo=_export_sfc(_sfc_main$1n,[["render",_sfc_render$y]]),_hoisted_1$1m=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-to-user",class:"btn btn-outline-light text-primary w-100 p-3"},"Написать пользователю сообщение",-1),_hoisted_2$1k={class:"modal fade",id:"message-to-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1k={class:"modal-dialog modal-fullscreen"},_hoisted_4$1g=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1g={class:"modal-body"},_hoisted_6$1f={class:"mb-3"},_hoisted_7$1c={class:"form-floating mb-3"},_hoisted_8$18=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Написать сообщение",-1),_hoisted_9$14={class:"form-check form-switch"},_hoisted_10$_=createBaseVNode("label",{for:"toggle-need-media"},"Нужен медиа контент",-1),_hoisted_11$Y={key:0,class:"mb-3"},_hoisted_12$X={class:"modal-footer"},_hoisted_13$S=["disabled"],__default__$Q={props:["botUser"],data(){return{loading:!1,locationForm:{info:null,content:null,content_type:null,need_media_content:!1}}},methods:{acceptUserInLocation(){this.loading=!0,this.$store.dispatch("userMessage",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.locationForm}}).then(o=>{this.loading=!1,this.locationForm.info=null,this.locationForm.content=null,this.locationForm.content_type=null,this.locationForm.need_media_content=!1,this.$notify({title:"Отлично!",text:"Вы отметили пользователя в заведении и отправили ему сообщение",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})},goToUserChatHistory(){this.$router.push({name:"AdminChatLog",params:{botUserId:this.botUser.id}})},selectMediaForMessage(o){this.locationForm.content=o.file_id||null,this.locationForm.content_type=o.type||null}}},_sfc_main$1m=Object.assign(__default__$Q,{__name:"MessageToUser",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",null,[_hoisted_1$1m,createBaseVNode("div",_hoisted_2$1k,[createBaseVNode("div",_hoisted_3$1k,[createBaseVNode("form",{onSubmit:a[3]||(a[3]=withModifiers((...i)=>t.acceptUserInLocation&&t.acceptUserInLocation(...i),["prevent"])),class:"modal-content"},[_hoisted_4$1g,createBaseVNode("div",_hoisted_5$1g,[createBaseVNode("div",_hoisted_6$1f,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-link w-100",onClick:a[0]||(a[0]=(...i)=>t.goToUserChatHistory&&t.goToUserChatHistory(...i))},"Глянуть историю переписки с пользователем")]),createBaseVNode("div",_hoisted_7$1c,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":a[1]||(a[1]=i=>t.locationForm.info=i),id:"bill-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,t.locationForm.info]]),_hoisted_8$18]),createBaseVNode("div",_hoisted_9$14,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=i=>t.locationForm.need_media_content=i),type:"checkbox",role:"switch",id:"toggle-need-media"},null,512),[[vModelCheckbox,t.locationForm.need_media_content]]),_hoisted_10$_]),t.locationForm.need_media_content?(openBlock(),createElementBlock("div",_hoisted_11$Y,[createVNode(_sfc_main$4h,{"need-audio":!0,"need-video-note":!0,"need-video":!0,"need-photo":!0,onSelect:t.selectMediaForMessage,selected:[t.locationForm.content]},null,8,["onSelect","selected"])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$X,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_13$S)])],32)])])]))}}),_sfc_main$1l={props:["botUser"],data(){return{loading:!1,cashbackForm:{percent:null,need_custom_percents:!1,category:null,amount:null,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{removeCashBack(){if(!this.botUser.telegram_chat_id){this.$notify({title:"Упс!",text:"Вы должны выбрать пользователя!",type:"error"});return}this.loading=!0,this.$store.dispatch("removeCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.$notify({title:"Отлично!",text:"Вы успешно списали кэшбэк",type:"success"}),this.$emit("callback")}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$1l=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#remove-cashback-from-user",class:"btn btn-outline-light text-primary w-100 p-3"},"Списать CashBack",-1),_hoisted_2$1j={class:"modal fade",id:"remove-cashback-from-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1j={class:"modal-dialog modal-fullscreen"},_hoisted_4$1f=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1f={class:"modal-body"},_hoisted_6$1e={class:"mb-2"},_hoisted_7$1b={key:1},_hoisted_8$17=createBaseVNode("h6",null,"В боте поддерживается списание CashBack по категориям",-1),_hoisted_9$13={class:"form-floating mb-3"},_hoisted_10$Z=createBaseVNode("option",{selected:"",value:null},"Общий CashBack",-1),_hoisted_11$X=["value"],_hoisted_12$W=createBaseVNode("label",{for:"floatingSelect"},"Категория CashBack-а",-1),_hoisted_13$R={class:"form-floating mb-3"},_hoisted_14$Q=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма списания CashBack, руб",-1),_hoisted_15$Q={class:"form-floating mb-3"},_hoisted_16$P=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина списания",-1),_hoisted_17$L={class:"modal-footer"},_hoisted_18$I=["disabled"];function _sfc_render$x(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[_hoisted_1$1l,createBaseVNode("div",_hoisted_2$1j,[createBaseVNode("div",_hoisted_3$1j,[createBaseVNode("form",{onSubmit:t[3]||(t[3]=withModifiers((...n)=>r.removeCashBack&&r.removeCashBack(...n),["prevent"])),class:"modal-content"},[_hoisted_4$1f,createBaseVNode("div",_hoisted_5$1f,[createBaseVNode("p",null,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(a.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),a.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.botUser.cashBack.subs,n=>(openBlock(),createElementBlock("p",_hoisted_6$1e,toDisplayString(n.title||"Без названия")+" - "+toDisplayString(n.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),r.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_7$1b,[_hoisted_8$17,createBaseVNode("div",_hoisted_9$13,[withDirectives(createBaseVNode("select",{class:"form-select",id:"floatingSelect","onUpdate:modelValue":t[0]||(t[0]=n=>s.cashbackForm.category=n),required:""},[_hoisted_10$Z,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.currentBot.cashback_config,n=>(openBlock(),createElementBlock("option",{value:n.title},toDisplayString(n.title||"Без названия"),9,_hoisted_11$X))),256))],512),[[vModelSelect,s.cashbackForm.category]]),_hoisted_12$W])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$R,[withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":t[1]||(t[1]=n=>s.cashbackForm.amount=n),placeholder:"Сумма",required:""},null,512),[[vModelText,s.cashbackForm.amount]]),_hoisted_14$Q]),createBaseVNode("div",_hoisted_15$Q,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":t[2]||(t[2]=n=>s.cashbackForm.info=n),style:{"min-height":"200px"},id:"bill-info",rows:"3",required:""},null,512),[[vModelText,s.cashbackForm.info]]),_hoisted_16$P])]),createBaseVNode("div",_hoisted_17$L,[createBaseVNode("button",{disabled:s.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_18$I)])],32)])])])}const RemoveCashBack=_export_sfc(_sfc_main$1l,[["render",_sfc_render$x]]),_sfc_main$1k={props:["botUser"],data(){return{loading:!1,cashbackForm:{percent:null,need_custom_percents:!1,need_user_review:!1,category:null,amount:null,message:null,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot},"cashbackForm.need_custom_percents":function(){this.cashbackForm.need_custom_percents||(this.cashbackForm.percent=null,this.cashbackForm.amount=null)}},methods:{addCashBack(){if(!this.botUser.telegram_chat_id){this.$notify({title:"Упс",text:"Вы должны выбрать пользователя!",type:"error"});return}this.loading=!0,this.$store.dispatch("addCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.cashbackForm.message=null,this.$emit("callback"),this.$notify({title:"Отлично!",text:"Вы успешно начислили кэшбэк",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$1k=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#add-cashback-to-user",class:"btn btn-outline-light text-primary w-100 p-3"},"Начислить Баллы",-1),_hoisted_2$1i={class:"modal fade",id:"add-cashback-to-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1i={class:"modal-dialog modal-fullscreen"},_hoisted_4$1e=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1e={class:"modal-body"},_hoisted_6$1d={class:"mb-2"},_hoisted_7$1a={class:"mb-2"},_hoisted_8$16={key:1},_hoisted_9$12=createBaseVNode("h6",null,"В боте поддерживается начисление CashBack по категориям",-1),_hoisted_10$Y={class:"form-floating"},_hoisted_11$W=createBaseVNode("option",{selected:"",value:null},"Общий CashBack",-1),_hoisted_12$V=["value"],_hoisted_13$Q=createBaseVNode("label",{for:"floatingSelect"},"Категории CashBack",-1),_hoisted_14$P=createBaseVNode("em",null,"Начисления по реферальной системе происходя только для общего CashBack-а. CashBack-по категориям не суммируется с общим и отображается пользователю отдельно.",-1),_hoisted_15$P={class:"form-check my-3"},_hoisted_16$O=createBaseVNode("label",{class:"form-check-label",for:"need_user_review"}," Нужен отзыв от пользователя ",-1),_hoisted_17$K={class:"form-check my-3"},_hoisted_18$H=createBaseVNode("label",{class:"form-check-label",for:"need_custom_cashback_amount"}," Нужен нестандартный % CashBack ",-1),_hoisted_19$F={key:2,class:"form-floating mb-3"},_hoisted_20$E=createBaseVNode("label",{for:"bill-percent",class:"form-label"},"% CashBack-а",-1),_hoisted_21$D={class:"form-floating mb-3"},_hoisted_22$D=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма в чеке, руб",-1),_hoisted_23$D={class:"form-floating mb-3"},_hoisted_24$A=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Информация о чеке, номер",-1),_hoisted_25$y={class:"form-floating mb-3"},_hoisted_26$w=createBaseVNode("label",{for:"message",class:"form-label"},"Комментарий для пользователя",-1),_hoisted_27$v={class:"modal-footer"},_hoisted_28$u=["disabled"];function _sfc_render$w(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[_hoisted_1$1k,createBaseVNode("div",_hoisted_2$1i,[createBaseVNode("div",_hoisted_3$1i,[createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...n)=>r.addCashBack&&r.addCashBack(...n),["prevent"])),class:"modal-content"},[_hoisted_4$1e,createBaseVNode("div",_hoisted_5$1e,[createBaseVNode("p",_hoisted_6$1d,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(a.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),a.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.botUser.cashBack.subs,n=>(openBlock(),createElementBlock("p",_hoisted_7$1a,toDisplayString(n.title||"Без названия")+" - "+toDisplayString(n.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),r.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_8$16,[_hoisted_9$12,createBaseVNode("div",_hoisted_10$Y,[withDirectives(createBaseVNode("select",{class:"form-control mb-2","onUpdate:modelValue":t[0]||(t[0]=n=>s.cashbackForm.category=n),required:""},[_hoisted_11$W,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.currentBot.cashback_config,n=>(openBlock(),createElementBlock("option",{value:n.title},toDisplayString(n.title||"Без названия"),9,_hoisted_12$V))),256))],512),[[vModelSelect,s.cashbackForm.category]]),_hoisted_13$Q]),_hoisted_14$P])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$P,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=n=>s.cashbackForm.need_user_review=n),type:"checkbox",value:"",id:"need_user_review"},null,512),[[vModelCheckbox,s.cashbackForm.need_user_review]]),_hoisted_16$O]),createBaseVNode("div",_hoisted_17$K,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=n=>s.cashbackForm.need_custom_percents=n),type:"checkbox",value:"",id:"need_custom_cashback_amount"},null,512),[[vModelCheckbox,s.cashbackForm.need_custom_percents]]),_hoisted_18$H]),s.cashbackForm.need_custom_percents?(openBlock(),createElementBlock("div",_hoisted_19$F,[withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-percent","onUpdate:modelValue":t[3]||(t[3]=n=>s.cashbackForm.percent=n),placeholder:"Значите %",required:""},null,512),[[vModelText,s.cashbackForm.percent]]),_hoisted_20$E])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_21$D,[withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":t[4]||(t[4]=n=>s.cashbackForm.amount=n),placeholder:"Сумма",required:""},null,512),[[vModelText,s.cashbackForm.amount]]),_hoisted_22$D]),createBaseVNode("div",_hoisted_23$D,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":t[5]||(t[5]=n=>s.cashbackForm.info=n),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,s.cashbackForm.info]]),_hoisted_24$A]),createBaseVNode("div",_hoisted_25$y,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий","onUpdate:modelValue":t[6]||(t[6]=n=>s.cashbackForm.message=n),id:"message",style:{"min-height":"150px"}},null,512),[[vModelText,s.cashbackForm.message]]),_hoisted_26$w])]),createBaseVNode("div",_hoisted_27$v,[createBaseVNode("button",{disabled:s.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_28$u)])],32)])])])}const AddCashBack=_export_sfc(_sfc_main$1k,[["render",_sfc_render$w]]),_sfc_main$1j={props:["botUser"],data(){return{silent_mode:!1,loading:!1,adminForm:{info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{changeStatus(){this.loading=!0,this.$store.dispatch(this.botUser.is_admin?"removeAdmin":"addAdmin",{dataObject:{silent_mode:this.silent_mode,user_telegram_chat_id:this.botUser.telegram_chat_id,...this.adminForm}}).then(o=>{this.loading=!1,this.adminForm.info=null,this.$emit("callback"),this.$notify({title:"Отлично!",text:this.botUser.is_admin?"Вы успешно разжаловали администратора до уровня пользователя":"Вы успешно назначили пользователя администратором",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$1j=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#change-admin-status",class:"btn btn-outline-light text-primary w-100 p-3"},"Изменить статус администратора ",-1),_hoisted_2$1h={class:"modal fade",id:"change-admin-status",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1h={class:"modal-dialog modal-fullscreen"},_hoisted_4$1d=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1d={class:"modal-body"},_hoisted_6$1c={class:"form-check form-switch my-2"},_hoisted_7$19=createBaseVNode("label",{class:"form-check-label",for:"switchCheckDefault"}," Тихий режим (не оповещать пользователя о смене статуса) ",-1),_hoisted_8$15={key:0},_hoisted_9$11={key:1},_hoisted_10$X={class:"text-primary fw-bold"},_hoisted_11$V={class:"form-floating mb-3"},_hoisted_12$U={for:"bill-info",class:"form-label"},_hoisted_13$P={key:0},_hoisted_14$O={key:1},_hoisted_15$O={class:"modal-footer"},_hoisted_16$N=["disabled"];function _sfc_render$v(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[_hoisted_1$1j,createBaseVNode("div",_hoisted_2$1h,[createBaseVNode("div",_hoisted_3$1h,[createBaseVNode("form",{onSubmit:t[2]||(t[2]=withModifiers((...n)=>r.changeStatus&&r.changeStatus(...n),["prevent"])),class:"modal-content"},[_hoisted_4$1d,createBaseVNode("div",_hoisted_5$1d,[createBaseVNode("div",_hoisted_6$1c,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=n=>s.silent_mode=n),type:"checkbox",role:"switch",id:"switchCheckDefault"},null,512),[[vModelCheckbox,s.silent_mode]]),_hoisted_7$19]),createBaseVNode("p",null,[createTextVNode(" Вы хотите "),a.botUser.is_admin?(openBlock(),createElementBlock("span",_hoisted_8$15,"удалить из администраторов")):(openBlock(),createElementBlock("span",_hoisted_9$11,"назначить администратором")),createTextVNode(" пользователя "),createBaseVNode("strong",_hoisted_10$X,toDisplayString(a.botUser.fio_from_telegram||a.botUser.telegram_chat_id||"-"),1)]),createBaseVNode("div",_hoisted_11$V,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":t[1]||(t[1]=n=>s.adminForm.info=n),style:{"min-height":"300px"},id:"bill-info",required:""},null,512),[[vModelText,s.adminForm.info]]),createBaseVNode("label",_hoisted_12$U,[a.botUser.is_admin?(openBlock(),createElementBlock("span",_hoisted_13$P,"Причина удаления администратора")):(openBlock(),createElementBlock("span",_hoisted_14$O,"Причина добавления администратора"))])])]),createBaseVNode("div",_hoisted_15$O,[createBaseVNode("button",{disabled:s.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Подтвердить ",8,_hoisted_16$N)])],32)])])])}const ChangeAdminStatus=_export_sfc(_sfc_main$1j,[["render",_sfc_render$v]]),_sfc_main$1i={props:["botUser"],data(){return{loading:!1,userDataForm:{info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{requestUserMenu(){this.loading=!0,this.$store.dispatch("requestRefreshMenu",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$notify({title:"Отлично!",text:"Вы успешно отправили запрос на обновление меню!",type:"error"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$1i=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#refresh-user-menu",class:"btn btn-outline-light text-primary w-100 p-3"},"Обновить меню пользователю",-1),_hoisted_2$1g={class:"modal fade",id:"refresh-user-menu",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1g={class:"modal-dialog modal-fullscreen"},_hoisted_4$1c=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1c={class:"modal-body"},_hoisted_6$1b={class:"form-floating mb-3"},_hoisted_7$18=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_8$14={class:"modal-footer"},_hoisted_9$10=["disabled"];function _sfc_render$u(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[_hoisted_1$1i,createBaseVNode("div",_hoisted_2$1g,[createBaseVNode("div",_hoisted_3$1g,[createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...n)=>r.requestUserMenu&&r.requestUserMenu(...n),["prevent"])),class:"modal-content"},[_hoisted_4$1c,createBaseVNode("div",_hoisted_5$1c,[createBaseVNode("div",_hoisted_6$1b,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":t[0]||(t[0]=n=>s.userDataForm.info=n),id:"bill-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,s.userDataForm.info]]),_hoisted_7$18])]),createBaseVNode("div",_hoisted_8$14,[createBaseVNode("button",{disabled:s.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_9$10)])],32)])])])}const RefreshUserMenu=_export_sfc(_sfc_main$1i,[["render",_sfc_render$u]]),_sfc_main$1h={props:["botUser"],data(){return{loading:!1,userDataForm:{info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{requestUserData(){this.loading=!0,this.$store.dispatch("requestUserData",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$notify({title:"Отлично!",text:"Вы отправили запрос на заполнение пользовательских данных",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$1h=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#request-user-profile",class:"btn btn-outline-light text-primary w-100 p-3"},"Запросить заполнение анкеты",-1),_hoisted_2$1f={class:"modal fade",id:"request-user-profile",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1f={class:"modal-dialog modal-fullscreen"},_hoisted_4$1b=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1b={class:"modal-body"},_hoisted_6$1a={class:"form-floating mb-3"},_hoisted_7$17=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_8$13={class:"modal-footer"},_hoisted_9$$=["disabled"];function _sfc_render$t(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[_hoisted_1$1h,createBaseVNode("div",_hoisted_2$1f,[createBaseVNode("div",_hoisted_3$1f,[createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...n)=>r.requestUserData&&r.requestUserData(...n),["prevent"])),class:"modal-content"},[_hoisted_4$1b,createBaseVNode("div",_hoisted_5$1b,[createBaseVNode("div",_hoisted_6$1a,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":t[0]||(t[0]=n=>s.userDataForm.info=n),style:{"min-height":"150px"},id:"bill-info",rows:"3",required:""},null,512),[[vModelText,s.userDataForm.info]]),_hoisted_7$17])]),createBaseVNode("div",_hoisted_8$13,[createBaseVNode("button",{disabled:s.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_9$$)])],32)])])])}const RequestUserProfile=_export_sfc(_sfc_main$1h,[["render",_sfc_render$t]]),_sfc_main$1g={props:["botUser"],data(){return{loading:!1,invoiceForm:{amount:100,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{sendInvoice(){this.loading=!0,this.$store.dispatch("sendInvoice",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.invoiceForm}}).then(o=>{this.loading=!1,this.invoiceForm.info=null,this.$emit("callback"),this.$notify({title:"Отлично!",text:"Вы успешно отправили пользователю запрос на оплату",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$1g=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#request-invoice",class:"btn btn-outline-light text-primary w-100 p-3"},"Запрос на оплату",-1),_hoisted_2$1e={class:"modal fade",id:"request-invoice",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1e={class:"modal-dialog modal-fullscreen"},_hoisted_4$1a=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$1a={class:"modal-body"},_hoisted_6$19={class:"form-floating mb-3"},_hoisted_7$16=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Значение на оплату, руб",-1),_hoisted_8$12={class:"form-floating mb-3"},_hoisted_9$_=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Введите сообщение для пользователя",-1),_hoisted_10$W={class:"modal-footer"},_hoisted_11$U=["disabled"];function _sfc_render$s(o,t,a,i,s,r){return openBlock(),createElementBlock("div",null,[_hoisted_1$1g,createBaseVNode("div",_hoisted_2$1e,[createBaseVNode("div",_hoisted_3$1e,[createBaseVNode("form",{onSubmit:t[2]||(t[2]=withModifiers((...n)=>r.sendInvoice&&r.sendInvoice(...n),["prevent"])),class:"modal-content"},[_hoisted_4$1a,createBaseVNode("div",_hoisted_5$1a,[createBaseVNode("div",_hoisted_6$19,[withDirectives(createBaseVNode("input",{class:"form-control",type:"number",min:"100",step:"50",placeholder:"100","onUpdate:modelValue":t[0]||(t[0]=n=>s.invoiceForm.amount=n),id:"bill-amount",required:""},null,512),[[vModelText,s.invoiceForm.amount]]),_hoisted_7$16]),createBaseVNode("div",_hoisted_8$12,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст запроса","onUpdate:modelValue":t[1]||(t[1]=n=>s.invoiceForm.info=n),id:"bill-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,s.invoiceForm.info]]),_hoisted_9$_])]),createBaseVNode("div",_hoisted_10$W,[createBaseVNode("button",{disabled:s.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить запрос ",8,_hoisted_11$U)])],32)])])])}const RequestInvoice=_export_sfc(_sfc_main$1g,[["render",_sfc_render$s]]),_hoisted_1$1f=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#request-user-review",class:"btn btn-outline-light text-primary w-100 p-3"},"Запросить оценку",-1),_hoisted_2$1d={class:"modal fade",id:"request-user-review",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$1d={class:"modal-dialog modal-fullscreen"},_hoisted_4$19=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$19={class:"modal-body"},_hoisted_6$18={class:"form-floating mb-3"},_hoisted_7$15=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Сообщение для пользователя",-1),_hoisted_8$11={class:"modal-footer"},_hoisted_9$Z=["disabled"],__default__$P={props:["botUser"],data(){return{loading:!1,reviewForm:{message:null}}},methods:{requestReview(){this.loading=!0,this.$store.dispatch("userReviewRequest",{dataObject:{telegram_chat_id:this.botUser.telegram_chat_id,...this.reviewForm}}).then(o=>{this.loading=!1,this.reviewForm.message=null,this.$notify({title:"Отлично!",text:"Вы запросили у пользователя оставить отзыв!",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_sfc_main$1f=Object.assign(__default__$P,{__name:"RequestReview",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",null,[_hoisted_1$1f,createBaseVNode("div",_hoisted_2$1d,[createBaseVNode("div",_hoisted_3$1d,[createBaseVNode("form",{onSubmit:a[1]||(a[1]=withModifiers((...i)=>t.requestReview&&t.requestReview(...i),["prevent"])),class:"modal-content"},[_hoisted_4$19,createBaseVNode("div",_hoisted_5$19,[createBaseVNode("div",_hoisted_6$18,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":a[0]||(a[0]=i=>t.reviewForm.message=i),id:"bill-info",style:{"min-height":"200px"}},null,512),[[vModelText,t.reviewForm.message]]),_hoisted_7$15])]),createBaseVNode("div",_hoisted_8$11,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_9$Z)])],32)])])]))}}),LastOrderHandler_vue_vue_type_style_index_0_lang="",_hoisted_1$1e=createBaseVNode("div",{class:"divider mb-3"},"Управление заказом",-1),_hoisted_2$1c={class:"text-center my-3 fw-bold text-primary d-flex justify-content-between"},_hoisted_3$1c=createBaseVNode("a",{"data-bs-toggle":"modal","data-bs-target":"#order-details",href:"javascript:void(0)"},[createBaseVNode("i",{class:"fa-solid fa-circle-info"}),createTextVNode(" Детали заказа")],-1),_hoisted_4$18={key:0,class:"alert alert-danger"},_hoisted_5$18=createBaseVNode("strong",{class:"fw-bold"},"Внимание!",-1),_hoisted_6$17={class:"btn-group mb-2 w-100",role:"group"},_hoisted_7$14=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_8$10={class:"btn-group mb-2 w-100",role:"group"},_hoisted_9$Y=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_10$V={class:"btn-group mb-2 w-100",role:"group"},_hoisted_11$T=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_12$T={class:"btn-group mb-2 w-100",role:"group"},_hoisted_13$O=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_14$N=["disabled"],_hoisted_15$N={key:0,class:"color-white"},_hoisted_16$M={key:1,class:"color-white"},_hoisted_17$J=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_18$G=createBaseVNode("div",{class:"divider my-3"},"Самовывоз",-1),_hoisted_19$E=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#order-self-delivery",class:"btn btn-outline-success p-3 w-100"},[createBaseVNode("i",{class:"fa fa-shopping-bag mr-2","aria-hidden":"true"}),createTextVNode("Готово (самовывоз) ")],-1),_hoisted_20$D=createBaseVNode("div",{class:"divider my-3"},"Отмена заказа",-1),_hoisted_21$C={class:"btn-group mb-2 w-100",role:"group"},_hoisted_22$C=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-2"},null,-1),_hoisted_23$C=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_24$z=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-2"},null,-1),_hoisted_25$x={key:1,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_26$v=createBaseVNode("div",{class:"spinner-border text-primary mt-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_27$u={class:"mb-0"},_hoisted_28$t=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation text-danger"},null,-1),_hoisted_29$s={class:"modal fade",id:"order-self-delivery","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_30$s={class:"modal-dialog modal-fullscreen"},_hoisted_31$s={class:"modal-content"},_hoisted_32$s=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Самовывоз"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_33$r={class:"modal-body"},_hoisted_34$q={class:"form-floating mb-3"},_hoisted_35$q=createBaseVNode("label",{for:"pickup-form-info",class:"form-label"},"Написать сообщение",-1),_hoisted_36$p=createBaseVNode("button",{"data-bs-dismiss":"modal","aria-label":"Close",type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",-1),_hoisted_37$p={class:"modal fade",id:"order-details","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_38$p={class:"modal-dialog modal-fullscreen"},_hoisted_39$p={class:"modal-content"},_hoisted_40$n=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Детали заказа"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_41$n={class:"modal-body"},_hoisted_42$n={class:"modal fade",id:"message-settings",tabindex:"-1","aria-labelledby":"message-settings","aria-hidden":"true"},_hoisted_43$n={class:"modal-dialog modal-fullscreen"},_hoisted_44$n=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Настройка сообщений"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_45$n={class:"modal-body"},_hoisted_46$n={class:"form-floating mb-2"},_hoisted_47$m={for:"floatingTextarea2"},_hoisted_48$m={key:0},_hoisted_49$l={class:"form-floating mb-2"},_hoisted_50$l={for:"floatingTextarea2"},_hoisted_51$k={key:0},_hoisted_52$k={class:"form-floating mb-2"},_hoisted_53$j={for:"floatingTextarea2"},_hoisted_54$j={key:0},_hoisted_55$g={class:"form-floating mb-2"},_hoisted_56$g={for:"floatingTextarea2"},_hoisted_57$f={key:0},_hoisted_58$e={class:"form-floating mb-2"},_hoisted_59$e={for:"floatingTextarea2"},_hoisted_60$d={key:0},_hoisted_61$d=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3","data-bs-dismiss":"modal"},[createBaseVNode("i",{class:"fa fa-floppy-o mr-2","aria-hidden":"true"}),createTextVNode(" Сохранить настройки ")])],-1),__default__$O={props:["orderId","botUser"],data(){return{loaded:!0,order:{status:0},errors:[],spent_time_counter:0,settings:{order_status_0:"Статус вашего заказа установлен как 'Принят в работу'",order_status_1:"Статус вашего заказа изменен на 'Доставляется'",order_status_2:"Статус вашего заказа изменен на 'Завершен'",order_status_3:"Статус вашего заказа изменен на 'Отменен'",order_status_4:"Статус вашего заказа изменен на 'Готов к доставке'",order_status_5:"Статус вашего заказа изменен на 'Передан на кухню'"},pickupForm:{info:null}}},computed:{currentBot(){return window.currentBot}},mounted(){this.orderId&&this.loadOrderById(),this.currentBot.settings&&(this.settings.order_status_0=this.currentBot.settings.order_status_0||"Статус вашего заказа установлен как 'Принят в работу'",this.settings.order_status_1=this.currentBot.settings.order_status_1||"Статус вашего заказа изменен на 'Доставляется'",this.settings.order_status_2=this.currentBot.settings.order_status_2||"Статус вашего заказа изменен на 'Завершен'",this.settings.order_status_3=this.currentBot.settings.order_status_3||"Статус вашего заказа изменен на 'Отменен'",this.settings.order_status_4=this.currentBot.settings.order_status_4||"Статус вашего заказа изменен на 'Готов к доставке'",this.settings.order_status_5=this.currentBot.settings.order_status_5||"Статус вашего заказа изменен на 'Передан на кухню'"),localStorage.getItem("cashman_order_cashback_add_counter")!=null&&this.startTimer(localStorage.getItem("cashman_order_cashback_add_counter")||0)},methods:{sendPickupMessage(){this.$store.dispatch("userMessage",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.pickupForm}}).then(o=>{this.pickupForm.info=null,this.$notify({title:"Отлично!",text:"Вы отправили пользователю сообщение",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})},loadOrderById(){this.errors=[],this.loaded=!1,this.$store.dispatch("loadOrderById",{dataObject:{order_id:this.orderId}}).then(o=>{this.order=o.data,this.loaded=!0}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка загрузки заказа",type:"error"}),this.errors.push(`Заказ #${this.orderId} не найден в системе!`)})},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_order_cashback_add_counter",this.spent_time_counter)},1e3)},autoCashback(){this.startTimer(),this.$store.dispatch("addCashBackToOrder",{order_id:this.orderId}).then(()=>{this.order.is_cashback_crediting=!0,this.$notify({title:"Отзывы",text:"Вы успешно начислили баллы пользователю",type:"success"})}).catch(()=>{this.order.is_cashback_crediting=!1,this.$notify({title:"Отзывы",text:"Ошибка начисления баллов",type:"error"})})},storeTextConfig(){this.$store.dispatch("storeMessageSettings",{dataObject:{settings:this.settings}}).then(o=>{this.$notify({title:"Отлично!",text:"Данные успешно сохранены",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка сохранения данных",type:"error"})})},declineOrder(){this.$store.dispatch("declineOrder",{dataObject:{order_id:this.orderId}}).then(o=>{this.$notify({title:"Отлично!",text:"Вы отклонили заказ и изменили его статус!",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка смены статуса заказа!",type:"error"})})},changeStatus(o){this.order.status=o,this.$store.dispatch("changeOrderStatus",{dataObject:{order_id:this.orderId,user_telegram_chat_id:this.botUser.telegram_chat_id||null,status:o}}).then(t=>{this.$notify({title:"Отлично!",text:"Вы изменили статус заказа",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка смены статуса заказа!",type:"error"})})}}},_sfc_main$1e=Object.assign(__default__$O,{__name:"LastOrderHandler",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1e,t.loaded&&t.errors.length===0?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("p",_hoisted_2$1c,[createBaseVNode("span",null,"Заказ №"+toDisplayString(o.orderId),1),_hoisted_3$1c]),t.order.status===0?(openBlock(),createElementBlock("div",_hoisted_4$18,[_hoisted_5$18,createTextVNode(" Заказ еще не взят в работу! Выберите актуальный статус из предложенных ниже! ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$17,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step-success text-primary fw-bold":t.order.status===5},"btn btn-outline-primary p-3"]),onClick:a[0]||(a[0]=i=>t.changeStatus(5))},"Принять в работу ",2),_hoisted_7$14]),createBaseVNode("div",_hoisted_8$10,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step text-primary fw-bold":t.order.status===4},"btn btn-outline-primary p-3"]),onClick:a[1]||(a[1]=i=>t.changeStatus(4))},"Передать на доставку ",2),_hoisted_9$Y]),createBaseVNode("div",_hoisted_10$V,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step text-primary fw-bold":t.order.status===1},"btn btn-outline-primary p-3"]),onClick:a[2]||(a[2]=i=>t.changeStatus(1))},"Доставляется ",2),_hoisted_11$T]),createBaseVNode("div",_hoisted_12$T,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step text-primary fw-bold":t.order.status===2},"btn btn-outline-primary p-3"]),onClick:a[3]||(a[3]=i=>t.changeStatus(2))},"Прибыло к заказчику ",2),_hoisted_13$O]),createBaseVNode("div",{class:"btn-group mb-2 w-100",onClick:a[4]||(a[4]=(...i)=>t.autoCashback&&t.autoCashback(...i)),role:"group"},[createBaseVNode("button",{type:"button",disabled:t.order.is_cashback_crediting||t.spent_time_counter>0,class:normalizeClass([{"current-step-success text-primary fw-bold":t.order.is_cashback_crediting},"btn btn-outline-primary p-3"])},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_15$N,"Начислить баллы")):(openBlock(),createElementBlock("span",_hoisted_16$M,"Осталось ждать "+toDisplayString(t.spent_time_counter||0)+" сек.",1))],10,_hoisted_14$N),_hoisted_17$J]),_hoisted_18$G,_hoisted_19$E,_hoisted_20$D,createBaseVNode("div",_hoisted_21$C,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step-danger text-danger fw-bold":t.order.status===3},"btn btn-outline-danger p-3"]),onClick:a[5]||(a[5]=i=>t.changeStatus(3))},[_hoisted_22$C,createTextVNode(" Отклонить заказ ")],2),_hoisted_23$C]),createBaseVNode("button",{type:"button",onClick:a[6]||(a[6]=(...i)=>t.declineOrder&&t.declineOrder(...i)),class:"btn btn-outline-danger p-3 w-100 mb-3"},[_hoisted_24$z,createTextVNode(" Закрыть заказ без оповещения ")])],64)):(openBlock(),createElementBlock("div",_hoisted_25$x,[t.errors.length===0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(" Данные о заказе еще не загружены! "),_hoisted_26$v],64)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.errors,i=>(openBlock(),createElementBlock("p",_hoisted_27$u,[_hoisted_28$t,createTextVNode(" "+toDisplayString(i),1)]))),256))])),createBaseVNode("div",_hoisted_29$s,[createBaseVNode("div",_hoisted_30$s,[createBaseVNode("div",_hoisted_31$s,[_hoisted_32$s,createBaseVNode("div",_hoisted_33$r,[createBaseVNode("form",{onSubmit:a[8]||(a[8]=withModifiers((...i)=>t.sendPickupMessage&&t.sendPickupMessage(...i),["prevent"]))},[createBaseVNode("div",_hoisted_34$q,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":a[7]||(a[7]=i=>t.pickupForm.info=i),id:"pickup-form-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,t.pickupForm.info]]),_hoisted_35$q]),_hoisted_36$p],32)])])])]),createBaseVNode("div",_hoisted_37$p,[createBaseVNode("div",_hoisted_38$p,[createBaseVNode("div",_hoisted_39$p,[_hoisted_40$n,createBaseVNode("div",_hoisted_41$n,[t.loaded?(openBlock(),createBlock(_sfc_main$1p,{key:0,item:t.order},null,8,["item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_42$n,[createBaseVNode("div",_hoisted_43$n,[createBaseVNode("form",{class:"modal-content",onSubmit:a[14]||(a[14]=withModifiers((...i)=>t.storeTextConfig&&t.storeTextConfig(...i),["prevent"]))},[_hoisted_44$n,createBaseVNode("div",_hoisted_45$n,[createBaseVNode("div",_hoisted_46$n,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[9]||(a[9]=i=>t.settings.order_status_5=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_5]]),createBaseVNode("label",_hoisted_47$m,[createTextVNode("Заказ принят в работу "),(t.settings.order_status_5||"").length>0?(openBlock(),createElementBlock("span",_hoisted_48$m,toDisplayString(t.settings.order_status_5.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_49$l,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[10]||(a[10]=i=>t.settings.order_status_1=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_1]]),createBaseVNode("label",_hoisted_50$l,[createTextVNode("Заказ передан на доставку "),(t.settings.order_status_1||"").length>0?(openBlock(),createElementBlock("span",_hoisted_51$k,toDisplayString(t.settings.order_status_1.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_52$k,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[11]||(a[11]=i=>t.settings.order_status_4=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_4]]),createBaseVNode("label",_hoisted_53$j,[createTextVNode("Заказ доставляется "),(t.settings.order_status_4||"").length>0?(openBlock(),createElementBlock("span",_hoisted_54$j,toDisplayString(t.settings.order_status_4.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_55$g,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[12]||(a[12]=i=>t.settings.order_status_2=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_2]]),createBaseVNode("label",_hoisted_56$g,[createTextVNode("Заказ был доставлен "),(t.settings.order_status_2||"").length>0?(openBlock(),createElementBlock("span",_hoisted_57$f,toDisplayString(t.settings.order_status_2.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_58$e,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[13]||(a[13]=i=>t.settings.order_status_3=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_3]]),createBaseVNode("label",_hoisted_59$e,[createTextVNode("Заказ отклонен "),(t.settings.order_status_3||"").length>0?(openBlock(),createElementBlock("span",_hoisted_60$d,toDisplayString(t.settings.order_status_3.length)+"/512",1)):createCommentVNode("",!0)])])]),_hoisted_61$d],32)])])],64))}}),_hoisted_1$1d={class:"btn-group w-100 my-3 px-3",style:{"overflow-x":"auto"},role:"group","aria-label":"Basic example"},_hoisted_2$1b={key:0},_hoisted_3$1b={key:1},_hoisted_4$17={key:2},_hoisted_5$17={key:3},_hoisted_6$16=createBaseVNode("div",{class:"divider"},"Сервисы",-1),__default__$N={props:["modelValue"],data(){return{work_with_orders:!1,loading:!1,reloadUsers:!1,order_id:null,tab:0,botUser:null,request_telegram_chat_id:null}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot}},mounted(){const o=new URLSearchParams(window.location.search);this.order_id=JSON.parse(o.get("order_id")),this.order_id&&(this.work_with_orders=!0),this.modelValue&&this.$nextTick(()=>{this.botUser=this.modelValue,this.work_with_orders&&(this.tab=2)})},methods:{updateUserInfo(){this.reloadUsers=!0,this.botUser=null,this.request_telegram_chat_id=null,this.$nextTick(()=>{this.reloadUsers=!1})}}},_sfc_main$1d=Object.assign(__default__$N,{__name:"UserProfileCard",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1d,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-primary":t.tab===0,"btn-outline-primary":t.tab!==0},"btn"]),onClick:a[0]||(a[0]=i=>t.tab=0)},"Информация ",2),createBaseVNode("button",{type:"button",onClick:a[1]||(a[1]=i=>t.tab=2),class:normalizeClass([{"btn-primary":t.tab===2,"btn-outline-primary":t.tab!==2},"btn"])},"Управление ",2),createBaseVNode("button",{type:"button",onClick:a[2]||(a[2]=i=>t.tab=1),class:normalizeClass([{"btn-primary":t.tab===1,"btn-outline-primary":t.tab!==1},"btn"])},"CashBack ",2),createBaseVNode("button",{type:"button",onClick:a[3]||(a[3]=i=>t.tab=3),class:normalizeClass([{"btn-primary":t.tab===3,"btn-outline-primary":t.tab!==3},"btn"])},"Заказы ",2)]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_2$1b,[t.botUser&&!t.reloadUsers?(openBlock(),createBlock(UserInfo,{key:0,onUpdate:t.updateUserInfo,"bot-user":t.botUser},null,8,["onUpdate","bot-user"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_3$1b,[t.botUser?(openBlock(),createBlock(_sfc_main$1B,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===3?(openBlock(),createElementBlock("div",_hoisted_4$17,[t.botUser?(openBlock(),createBlock(_sfc_main$1o,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.botUser&&t.tab===2?(openBlock(),createElementBlock("div",_hoisted_5$17,[t.work_with_orders?(openBlock(),createBlock(_sfc_main$1e,{key:0,class:"mb-2","order-id":t.order_id,"bot-user":t.botUser},null,8,["order-id","bot-user"])):createCommentVNode("",!0),_hoisted_6$16,createVNode(_sfc_main$1m,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(_sfc_main$1f,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RemoveCashBack,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(AddCashBack,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(ChangeAdminStatus,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RefreshUserMenu,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RequestUserProfile,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RequestInvoice,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"])])):createCommentVNode("",!0)],64))}}),_hoisted_1$1c={class:"container py-3"},_hoisted_2$1a={class:"row"},_hoisted_3$1a={class:"col-12"},_hoisted_4$16={class:"nav nav-tabs justify-content-center catalog-tabs"},_hoisted_5$16={class:"nav-item"},_hoisted_6$15=createBaseVNode("i",{class:"fa-solid fa-users mr-2"},null,-1),_hoisted_7$13={class:"nav-item"},_hoisted_8$$=["disabled"],_hoisted_9$X=createBaseVNode("i",{class:"fa-solid fa-user-secret mr-2"},null,-1),_hoisted_10$U={class:"col-12"},_hoisted_11$S={key:0,class:"col-12"},_hoisted_12$S={key:1,class:"alert alert-light mt-2"},__default__$M={data(){return{loadedUser:!1,tab:0,request_telegram_chat_id:null,selected_bot_user:null}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot},tg(){return window.Telegram.WebApp}},mounted(){this.getSelf&&(this.selected_bot_user=this.getSelf);const o=new URLSearchParams(window.location.search);let t=JSON.parse(o.get("user")),a=o.has("hide_menu")||!1;t&&(this.request_telegram_chat_id=t,this.loadReceiverUserData()),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(i=>i.click()),a?this.tg.close():this.$router.back()})},methods:{updateUserInfo(){this.selected_bot_user=null,this.request_telegram_chat_id=null},cancelUserSelected(){this.request_telegram_chat_id=null,this.selected_bot_user=null,window.scroll(0,0)},selectUser(o){this.request_telegram_chat_id=o.telegram_chat_id,this.loadReceiverUserData()},loadReceiverUserData(){this.loadedUser=!1,this.selected_bot_user=null,this.$store.dispatch("loadReceiverUserData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.selected_bot_user=o.data,this.request_telegram_chat_id=this.selected_bot_user.telegram_chat_id,this.$nextTick(()=>{this.loadedUser=!0,this.tab=1,window.scroll(0,0)})}).catch(()=>{this.loadedUser=!1})}}},_sfc_main$1c=Object.assign(__default__$M,{__name:"Clients",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1c,[createBaseVNode("div",_hoisted_2$1a,[createBaseVNode("div",_hoisted_3$1a,[createBaseVNode("ul",_hoisted_4$16,[createBaseVNode("li",_hoisted_5$16,[createBaseVNode("button",{type:"button",class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[0]||(a[0]=i=>t.tab=0),style:{"font-weight":"bold"},"aria-current":"page"},[_hoisted_6$15,createTextVNode("Клиенты ")],2)]),createBaseVNode("li",_hoisted_7$13,[createBaseVNode("button",{type:"button",class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[1]||(a[1]=i=>t.tab=1),disabled:!t.selected_bot_user,style:{"font-weight":"bold"}},[_hoisted_9$X,createTextVNode("Результат ")],10,_hoisted_8$$)])])]),withDirectives(createBaseVNode("div",_hoisted_10$U,[createVNode(_sfc_main$1q,{"selected-bot-user":t.selected_bot_user,onCancel:t.cancelUserSelected,onSelect:t.selectUser},null,8,["selected-bot-user","onCancel","onSelect"])],512),[[vShow,t.tab===0]]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_11$S,[t.loadedUser?(openBlock(),createBlock(_sfc_main$1d,{key:0,modelValue:t.selected_bot_user,"onUpdate:modelValue":a[2]||(a[2]=i=>t.selected_bot_user=i)},null,8,["modelValue"])):(openBlock(),createElementBlock("div",_hoisted_12$S," Пользователь еще не выбран! "))])):createCommentVNode("",!0)])]))}}),Clients=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1c},Symbol.toStringTag,{value:"Module"})),_sfc_main$1b={props:["bot","modelValue"],data(){return{sectionForm:{section:null},tab:0,types:[{title:"Готовый продукт",value:1},{title:"Товар на вес",value:2},{title:"Конструктор товара",value:3}],productCategories:[],sections:["Общие характеристики","Дополнительная информация"],photos:[],categories:[],removed_options:[],productForm:{article:null,vk_product_id:null,frontpad_article:null,iiko_article:null,title:null,rating:5,description:null,delivery_terms:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],not_for_delivery:!1,is_weight_product:!1,weight_config:{min:0,max:0,step:0},dimension:{width:0,height:0,length:0,weight:0},categories:[]}}},computed:{...mapGetters(["getCategories"])},mounted(){var o,t,a,i,s,r,n,l;this.loadProductCategories(),this.modelValue&&(this.productForm={id:this.modelValue.id||null,article:this.modelValue.article||null,frontpad_article:this.modelValue.frontpad_article||null,iiko_article:this.modelValue.iiko_article||null,vk_product_id:this.modelValue.vk_product_id||null,title:this.modelValue.title||null,rating:this.modelValue.rating||5,description:this.modelValue.description||null,delivery_terms:this.modelValue.delivery_terms||null,images:this.modelValue.images||null,type:this.modelValue.type||1,old_price:this.modelValue.old_price||null,current_price:this.modelValue.current_price||null,variants:this.modelValue.variants||null,in_stop_list_at:this.modelValue.in_stop_list_at||null,bot_id:this.modelValue.bot_id||null,options:this.modelValue.options||null,reviews:this.modelValue.reviews||null,not_for_delivery:this.modelValue.not_for_delivery||!1,is_weight_product:this.modelValue.is_weight_product||!1,weight_config:{min:((o=this.modelValue.weight_config)==null?void 0:o.min)||0,max:((t=this.modelValue.weight_config)==null?void 0:t.max)||0,step:((a=this.modelValue.weight_config)==null?void 0:a.step)||0},dimension:{width:((i=this.modelValue.dimension)==null?void 0:i.width)||0,height:((s=this.modelValue.dimension)==null?void 0:s.height)||0,length:((r=this.modelValue.dimension)==null?void 0:r.length)||0,weight:((n=this.modelValue.dimension)==null?void 0:n.weight)||0}},this.options=[],(l=this.modelValue.categories)==null||l.forEach(c=>{this.productCategories.push(c.id)}))},methods:{openInvalidTab(o){let t=document.querySelector(`.accordion-button:nth-child(${o+1})`);t.classList="accordion-button";let a=document.querySelector(`.accordion-collapse:nth-of-type(${o+1})`);a.classList="accordion-collapse collapse show"},prepareCategoryName(o){let t=this.categories.find(a=>a.value===o);return t?t.label:o},removeProduct(){this.$emit("remove-product")},removeCategory(o){let t=this.categories.findIndex(a=>a.id===o)||null;t&&this.categories.splice(t,1),this.$store.dispatch("removeProductCategory",{category_id:o}).then(()=>{this.$notify({title:"Редактор товара",text:"Категория успешно удалена",type:"success"})}).catch(()=>{this.$notify({title:"Редактор товара",text:"Ошибка удаления категории",type:"error"})})},selectCategory(o){this.productCategories||(this.productCategories=[]);let t=this.productCategories.indexOf(o.id);t!==-1?this.productCategories.splice(t,1):this.productCategories.push(o.id)},submit(){let o=new FormData;if(Object.keys(this.productForm).forEach(t=>{const a=this.productForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.bot&&o.append("bot_id",this.bot.id),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.removed_options.length>0&&o.append("removed_options",JSON.stringify(this.removed_options)),this.productCategories.length>0&&o.append("categories",JSON.stringify(this.productCategories)),this.$store.dispatch("saveProduct",{productForm:o}).then(t=>{this.load=!0,this.$notify({title:"Редактор товара",text:"Товар успешно сохранен",type:"success"}),this.$emit("callback")}).catch(t=>{this.$notify({title:"Редактор товара",text:"Ошибка сохранения товара",type:"error"}),this.$emit("callback")})},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},loadProductCategories(){this.$store.dispatch("loadCategories").then(()=>{this.categories=this.getCategories})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removeSection(o){this.sections.splice(o,1)},addSection(){this.sections.push(this.sectionForm.section),this.sectionForm.section=null},addOption(){this.productForm.options||(this.productForm.options=[]),this.productForm.options.push({id:null,key:null,value:null,title:null,section:null})},addVariant(){this.productForm.variants||(this.productForm.variants=[]),this.productForm.variants.push({key:null,value:null})},removeVariant(o){this.productForm.variants.splice(o,1)},removeOption(o){this.productForm.options[o].id&&this.removed_options.push(this.productForm.options[o].id),this.productForm.options.splice(o,1)},removeImage(o){this.productForm.images.splice(o,1)},removePhoto(o){this.photos.splice(o,1)},clearForm(){const o={article:null,vk_product_id:null,title:null,description:null,delivery_terms:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[],not_for_delivery:!1,is_weight_product:!1,weight_config:{min:0,max:0,step:0},dimension:{width:0,height:0,length:0,weight:0}};this.photos=[],this.removed_options=[],this.productCategories=[],this.productForm=o}}},_hoisted_1$1b={class:"py-3"},_hoisted_2$19={class:"accordion",id:"shop-product-item"},_hoisted_3$19={class:"accordion-item border-0"},_hoisted_4$15=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," Базовая информация о товаре ")],-1),_hoisted_5$15={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#shop-product-item"},_hoisted_6$14={class:"accordion-body px-0"},_hoisted_7$12={class:"form-check"},_hoisted_8$_=["id"],_hoisted_9$W=["for"],_hoisted_10$T={class:"form-check"},_hoisted_11$R=createBaseVNode("label",{class:"form-check-label",for:"not_for_delivery"}," Не для доставки ",-1),_hoisted_12$R={class:"form-floating mb-2"},_hoisted_13$N=createBaseVNode("label",{for:"title"},"Название товара",-1),_hoisted_14$M={class:"form-floating mb-2"},_hoisted_15$M=createBaseVNode("label",{for:"rating"},"Рейтинг товара",-1),_hoisted_16$L={class:"form-floating mb-2"},_hoisted_17$I=createBaseVNode("label",{for:"description"},"Описание товара",-1),_hoisted_18$F={class:"form-floating mb-2"},_hoisted_19$D=createBaseVNode("label",{for:"description"},[createBaseVNode("i",{class:"fa-solid fa-clock text-primary"}),createTextVNode(" Особенности доставки товара")],-1),_hoisted_20$C={class:"form-floating mb-2"},_hoisted_21$B=createBaseVNode("label",{for:"article"},"Артикул товара",-1),_hoisted_22$B={class:"form-floating mb-2"},_hoisted_23$B=["value"],_hoisted_24$y=createBaseVNode("label",{for:"type"},"Тип товара",-1),_hoisted_25$w={class:"form-floating mb-2"},_hoisted_26$u=createBaseVNode("label",{for:"current-price"},"Актуальная цена, руб",-1),_hoisted_27$t={class:"form-floating mb-2"},_hoisted_28$s=createBaseVNode("label",{for:"old-price"},"Старая цена, руб",-1),_hoisted_29$r={class:"form-check mb-2"},_hoisted_30$r=["id"],_hoisted_31$r=["for"],_hoisted_32$r=createBaseVNode("p",{class:"alert alert-light mb-2"}," Оставьте 0, если нет ограничения на максимальный вес ",-1),_hoisted_33$q={class:"form-floating mb-2"},_hoisted_34$p=createBaseVNode("label",{for:"weight_config-max"},"Максимально для покупки, грамм",-1),_hoisted_35$p=createBaseVNode("p",{class:"alert alert-light mb-2"}," Оставьте 0, если нет ограничения на минимальный вес ",-1),_hoisted_36$o={class:"form-floating mb-2"},_hoisted_37$o=createBaseVNode("label",{for:"weight_config-min"},"Минимально для покупки, грамм",-1),_hoisted_38$o=createBaseVNode("p",{class:"alert alert-light mb-2"}," Укажите с каким шагом можно купить данный товар. ",-1),_hoisted_39$o={class:"form-floating mb-2"},_hoisted_40$m=createBaseVNode("label",{for:"weight_config-step"},"Шаг покупки, грамм",-1),_hoisted_41$m={class:"accordion-item border-0"},_hoisted_42$m=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-dimension","aria-expanded":"false","aria-controls":"collapseFive"}," Параметры ")],-1),_hoisted_43$m={id:"collapse-dimension",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_44$m={class:"accordion-body px-0"},_hoisted_45$m={class:"form-floating mb-2"},_hoisted_46$m=createBaseVNode("label",{for:"vk-product-id"},"Высота, см",-1),_hoisted_47$l={class:"form-floating mb-2"},_hoisted_48$l=createBaseVNode("label",{for:"vk-product-id"},"Ширина, см",-1),_hoisted_49$k={class:"form-floating mb-2"},_hoisted_50$k=createBaseVNode("label",{for:"vk-product-id"},"Длина, см",-1),_hoisted_51$j={class:"form-floating mb-2"},_hoisted_52$j=createBaseVNode("label",{for:"vk-product-id"},"Вес, кг",-1),_hoisted_53$i={class:"accordion-item border-0"},_hoisted_54$i=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive"}," Изображения к товару ")],-1),_hoisted_55$f={id:"collapseFive",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_56$f={class:"accordion-body px-0"},_hoisted_57$e={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_58$d={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_59$d=createBaseVNode("span",null,"+",-1),_hoisted_60$c={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_61$c={class:"remove"},_hoisted_62$c=["onClick"],_hoisted_63$c={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_64$b={class:"remove"},_hoisted_65$b=["onClick"],_hoisted_66$b={class:"accordion-item border-0"},_hoisted_67$b=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}," Интеграции ")],-1),_hoisted_68$b={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_69$b={class:"accordion-body px-0"},_hoisted_70$b={class:"form-floating mb-2"},_hoisted_71$b=createBaseVNode("label",{for:"vk-product-id"},"Идентификатор товара VK",-1),_hoisted_72$a={class:"form-floating mb-2"},_hoisted_73$a=createBaseVNode("label",{for:"iiko"},"Идентификатор в IIKO",-1),_hoisted_74$9={class:"form-floating mb-2"},_hoisted_75$9=createBaseVNode("label",{for:"fronpad"},"Идентификатор во FrontPad",-1),_hoisted_76$9={class:"accordion-item border-0"},_hoisted_77$9=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}," Категории ")],-1),_hoisted_78$8={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_79$8={class:"accordion-body px-0"},_hoisted_80$8={key:0,class:"d-flex flex-wrap mb-2"},_hoisted_81$8=["onClick"],_hoisted_82$8={class:"accordion-item border-0"},_hoisted_83$7=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"}," Характеристики ")],-1),_hoisted_84$6={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_85$6={class:"accordion-body px-0"},_hoisted_86$6={class:"input-group mb-3"},_hoisted_87$6={class:"form-floating"},_hoisted_88$6=createBaseVNode("label",{for:"floatingInput"},"Название секции",-1),_hoisted_89$6=createBaseVNode("button",{class:"btn btn-outline-light text-primary"},[createBaseVNode("i",{class:"fa-solid fa-plus"})],-1),_hoisted_90$6={key:0,class:"d-flex flex-wrap"},_hoisted_91$6={class:"badge bg-light p-2 mr-2 mb-1"},_hoisted_92$6=["onClick"],_hoisted_93$6={class:"form-floating mb-2"},_hoisted_94$6={class:"form-floating mb-2"},_hoisted_95$6=["onUpdate:modelValue","id"],_hoisted_96$5=["for"],_hoisted_97$5={class:"form-floating mb-2"},_hoisted_98$5=["onUpdate:modelValue","id"],_hoisted_99$5=["for"],_hoisted_100$5={class:"form-floating mb-2"},_hoisted_101$5=["onUpdate:modelValue","id"],_hoisted_102$5=createBaseVNode("option",{value:null},"Без секции",-1),_hoisted_103$5=["value"],_hoisted_104$5=["for"],_hoisted_105$5=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 sticky-bottom bottom-0 p-3"}," Сохранить товар ",-1);function _sfc_render$r(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$1b,[createBaseVNode("form",{onSubmit:t[30]||(t[30]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_2$19,[createBaseVNode("div",_hoisted_3$19,[_hoisted_4$15,createBaseVNode("div",_hoisted_5$15,[createBaseVNode("div",_hoisted_6$14,[createBaseVNode("div",_hoisted_7$12,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=l=>s.productForm.in_stop_list_at=l),type:"checkbox",value:"false",id:"in-stop-list-"+(s.productForm.id||"new")},null,8,_hoisted_8$_),[[vModelCheckbox,s.productForm.in_stop_list_at]]),createBaseVNode("label",{class:"form-check-label",for:"in-stop-list-"+(s.productForm.id||"new")}," Товар находится в стоп-листе ",8,_hoisted_9$W)]),createBaseVNode("div",_hoisted_10$T,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=l=>s.productForm.not_for_delivery=l),type:"checkbox",value:"false",id:"not_for_delivery"},null,512),[[vModelCheckbox,s.productForm.not_for_delivery]]),_hoisted_11$R]),createBaseVNode("div",_hoisted_12$R,[withDirectives(createBaseVNode("input",{type:"text",onInvalid:t[2]||(t[2]=l=>r.openInvalidTab(0)),"onUpdate:modelValue":t[3]||(t[3]=l=>s.productForm.title=l),class:"form-control",id:"title",placeholder:"Название",required:""},null,544),[[vModelText,s.productForm.title]]),_hoisted_13$N]),createBaseVNode("div",_hoisted_14$M,[withDirectives(createBaseVNode("input",{type:"number",min:"0",max:"5",step:"0.5","onUpdate:modelValue":t[4]||(t[4]=l=>s.productForm.rating=l),class:"form-control",id:"rating",placeholder:"Рейтинг товара"},null,512),[[vModelText,s.productForm.rating]]),_hoisted_15$M]),createBaseVNode("div",_hoisted_16$L,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":t[5]||(t[5]=l=>s.productForm.description=l),style:{"min-height":"200px"},onInvalid:t[6]||(t[6]=l=>r.openInvalidTab(0)),placeholder:"Напишите полное описание товара",id:"description"},`

                                `,544),[[vModelText,s.productForm.description]]),_hoisted_17$I]),createBaseVNode("div",_hoisted_18$F,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":t[7]||(t[7]=l=>s.productForm.delivery_terms=l),style:{"min-height":"200px"},onInvalid:t[8]||(t[8]=l=>r.openInvalidTab(0)),placeholder:"Укажите особенности доставки товара",id:"delivery_terms"},`

                                `,544),[[vModelText,s.productForm.delivery_terms]]),_hoisted_19$D]),createBaseVNode("div",_hoisted_20$C,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=l=>s.productForm.article=l),class:"form-control",id:"article",placeholder:"Название артикула"},null,512),[[vModelText,s.productForm.article]]),_hoisted_21$B]),createBaseVNode("div",_hoisted_22$B,[withDirectives(createBaseVNode("select",{class:"form-select font-12","onUpdate:modelValue":t[10]||(t[10]=l=>s.productForm.type=l),id:"type","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.types,(l,c)=>(openBlock(),createElementBlock("option",{value:l.value},toDisplayString(l.title),9,_hoisted_23$B))),256))],512),[[vModelSelect,s.productForm.type]]),_hoisted_24$y]),createBaseVNode("div",_hoisted_25$w,[withDirectives(createBaseVNode("input",{type:"number",onInvalid:t[11]||(t[11]=l=>r.openInvalidTab(0)),"onUpdate:modelValue":t[12]||(t[12]=l=>s.productForm.current_price=l),class:"form-control",id:"current-price",placeholder:"0 руб.",required:""},null,544),[[vModelText,s.productForm.current_price]]),_hoisted_26$u]),createBaseVNode("div",_hoisted_27$t,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=l=>s.productForm.old_price=l),class:"form-control",id:"old-price",placeholder:"0 руб"},null,512),[[vModelText,s.productForm.old_price]]),_hoisted_28$s]),createBaseVNode("div",_hoisted_29$r,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[14]||(t[14]=l=>s.productForm.is_weight_product=l),type:"checkbox",value:"false",id:"is_weight_product-"+(s.productForm.id||"new")},null,8,_hoisted_30$r),[[vModelCheckbox,s.productForm.is_weight_product]]),createBaseVNode("label",{class:"form-check-label",for:"is_weight_product-"+(s.productForm.id||"new")},[createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":!s.productForm.is_weight_product})},"Поштучный",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":s.productForm.is_weight_product})},"весовой",2)],8,_hoisted_31$r)]),s.productForm.is_weight_product?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_32$r,createBaseVNode("div",_hoisted_33$q,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=l=>s.productForm.weight_config.max=l),class:"form-control",id:"weight_config-max",placeholder:"0 грамм"},null,512),[[vModelText,s.productForm.weight_config.max]]),_hoisted_34$p]),_hoisted_35$p,createBaseVNode("div",_hoisted_36$o,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=l=>s.productForm.weight_config.min=l),class:"form-control",id:"weight_config-min",placeholder:"0 грамм"},null,512),[[vModelText,s.productForm.weight_config.min]]),_hoisted_37$o]),_hoisted_38$o,createBaseVNode("div",_hoisted_39$o,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=l=>s.productForm.weight_config.step=l),class:"form-control",id:"weight_config-step",placeholder:"0 грамм"},null,512),[[vModelText,s.productForm.weight_config.step]]),_hoisted_40$m])],64)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_41$m,[_hoisted_42$m,createBaseVNode("div",_hoisted_43$m,[createBaseVNode("div",_hoisted_44$m,[createBaseVNode("div",_hoisted_45$m,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=l=>s.productForm.dimension.height=l),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,s.productForm.dimension.height]]),_hoisted_46$m]),createBaseVNode("div",_hoisted_47$l,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=l=>s.productForm.dimension.width=l),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,s.productForm.dimension.width]]),_hoisted_48$l]),createBaseVNode("div",_hoisted_49$k,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=l=>s.productForm.dimension.length=l),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,s.productForm.dimension.length]]),_hoisted_50$k]),createBaseVNode("div",_hoisted_51$j,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[21]||(t[21]=l=>s.productForm.dimension.weight=l),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,s.productForm.dimension.weight]]),_hoisted_52$j])])])]),createBaseVNode("div",_hoisted_53$i,[_hoisted_54$i,createBaseVNode("div",_hoisted_55$f,[createBaseVNode("div",_hoisted_56$f,[createBaseVNode("div",_hoisted_57$e,[createBaseVNode("label",_hoisted_58$d,[_hoisted_59$d,createBaseVNode("input",{type:"file",onInvalid:t[22]||(t[22]=l=>r.openInvalidTab(1)),id:"location-photos",multiple:"",accept:"image/*",onChange:t[23]||(t[23]=(...l)=>r.onChangePhotos&&r.onChangePhotos(...l)),style:{display:"none"}},null,32)]),s.productForm.images?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.productForm.images,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_60$c,[withDirectives(createBaseVNode("img",null,null,512),[[n,l]]),createBaseVNode("div",_hoisted_61$c,[createBaseVNode("a",{href:"javascript:void(0)",onClick:m=>r.removeImage(c)},"Удалить",8,_hoisted_62$c)])]))),256)):createCommentVNode("",!0),s.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(s.photos,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_63$c,[withDirectives(createBaseVNode("img",null,null,512),[[n,r.getPhoto(l).imageUrl]]),createBaseVNode("div",_hoisted_64$b,[createBaseVNode("a",{href:"javascript:void(0)",onClick:m=>r.removePhoto(c)},"Удалить",8,_hoisted_65$b)])]))),256)):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_66$b,[_hoisted_67$b,createBaseVNode("div",_hoisted_68$b,[createBaseVNode("div",_hoisted_69$b,[createBaseVNode("div",_hoisted_70$b,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[24]||(t[24]=l=>s.productForm.vk_product_id=l),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,s.productForm.vk_product_id]]),_hoisted_71$b]),createBaseVNode("div",_hoisted_72$a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=l=>s.productForm.iiko_article=l),class:"form-control",id:"iiko",placeholder:"Название артикула IIKO"},null,512),[[vModelText,s.productForm.iiko_article]]),_hoisted_73$a]),createBaseVNode("div",_hoisted_74$9,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=l=>s.productForm.frontpad_article=l),class:"form-control",id:"fronpad",placeholder:"Название артикула FrontPad"},null,512),[[vModelText,s.productForm.frontpad_article]]),_hoisted_75$9])])])]),createBaseVNode("div",_hoisted_76$9,[_hoisted_77$9,createBaseVNode("div",_hoisted_78$8,[createBaseVNode("div",_hoisted_79$8,[s.categories.length>0?(openBlock(),createElementBlock("div",_hoisted_80$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.categories,(l,c)=>(openBlock(),createElementBlock("span",{onClick:m=>r.selectCategory(l),class:normalizeClass(["px-3 badge cursor-pointer mr-2 mb-1",{"bg-primary":s.productCategories.indexOf(l.id)!==-1,"bg-light":s.productCategories.indexOf(l.id)===-1}])},toDisplayString(l.title),11,_hoisted_81$8))),256))])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_82$8,[_hoisted_83$7,createBaseVNode("div",_hoisted_84$6,[createBaseVNode("div",_hoisted_85$6,[createBaseVNode("form",{onSubmit:t[28]||(t[28]=withModifiers((...l)=>r.addSection&&r.addSection(...l),["prevent"])),class:"form-floating mb-2"},[createBaseVNode("div",_hoisted_86$6,[createBaseVNode("div",_hoisted_87$6,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[27]||(t[27]=l=>s.sectionForm.section=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.sectionForm.section]]),_hoisted_88$6]),_hoisted_89$6])],32),s.sections.length>0?(openBlock(),createElementBlock("div",_hoisted_90$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.sections,(l,c)=>(openBlock(),createElementBlock("span",_hoisted_91$6,[createTextVNode(toDisplayString(l)+" ",1),createBaseVNode("i",{onClick:m=>r.removeSection(c),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,_hoisted_92$6)]))),256))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.productForm.options,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_93$6,[createBaseVNode("div",_hoisted_94$6,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m=>s.productForm.options[c].title=m,class:"form-control",id:"option-title-"+c,placeholder:"Характеристика"},null,8,_hoisted_95$6),[[vModelText,s.productForm.options[c].title]]),createBaseVNode("label",{for:"option-title-"+c,class:"font-12 my-0 w-100 d-flex justify-content-between"}," Название характеристики ",8,_hoisted_96$5)]),createBaseVNode("div",_hoisted_97$5,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":m=>s.productForm.options[c].value=m,class:"form-control",id:"option-value-"+c,placeholder:"Значение"},null,8,_hoisted_98$5),[[vModelText,s.productForm.options[c].value]]),createBaseVNode("label",{for:"option-value-"+c,class:"font-12 my-0"},"Значение характеристики",8,_hoisted_99$5)]),createBaseVNode("div",_hoisted_100$5,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":m=>s.productForm.options[c].section=m,id:"option-section-"+c,"aria-label":"Floating label select example"},[_hoisted_102$5,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.sections,m=>(openBlock(),createElementBlock("option",{value:m},toDisplayString(m),9,_hoisted_103$5))),256))],8,_hoisted_101$5),[[vModelSelect,s.productForm.options[c].section]]),createBaseVNode("label",{for:"option-section-"+c,class:"font-12 my-0"},"Секция товара",8,_hoisted_104$5)])]))),256)),createBaseVNode("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:t[29]||(t[29]=(...l)=>r.addOption&&r.addOption(...l))},"Добавить характеристику ")])])])]),_hoisted_105$5],32)])}const ProductForm=_export_sfc(_sfc_main$1b,[["render",_sfc_render$r]]),AdminProductCard_vue_vue_type_style_index_0_lang="",_hoisted_1$1a={class:"card product-card"},_hoisted_2$18={class:"rounded-3"},_hoisted_3$18={class:"controls"},_hoisted_4$14={class:"top d-flex justify-content-between w-100 align-items-center"},_hoisted_5$14={class:"rating w-100 p-2"},_hoisted_6$13={class:"text-white fw-bold"},_hoisted_7$11=createBaseVNode("i",{class:"fa-regular fa-star text-primary mr-1"},null,-1),_hoisted_8$Z={key:0,class:"badge bg-primary mr-2 fw-bold"},_hoisted_9$V={class:"text-center mb-2",style:{"font-size":"12px"}},_hoisted_10$S={key:0},_hoisted_11$Q={class:"text-center mb-2"},_hoisted_12$Q={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_13$M={key:0,class:"card-footer"},__default__$L={props:["item","displayType"],data(){return{showCart:!1}},computed:{...mapGetters(["inCart","getReviews","getReviewsPaginateObject"]),currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100},checkInCart(){return this.inCart(this.item.id)}},methods:{showProductDetails(){this.$emit("select",this.item)},goToProduct(){this.$router.push({name:"ProductV2",params:{productId:this.item.id}})},repairProduct(){this.$store.dispatch("restoreProduct",this.item.id).then(()=>{this.$notify({title:"Восстановление товара",text:"Товар успешно восстановлен",type:"success"}),this.item.deleted_at=null}).catch(()=>{this.$notify({title:"Восстановление товара",text:"Товар не удалось восстановить",type:"error"})})},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})}}},_sfc_main$1a=Object.assign(__default__$L,{__name:"AdminProductCard",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$1a,[createBaseVNode("div",{onClick:a[0]||(a[0]=(...s)=>t.showProductDetails&&t.showProductDetails(...s)),class:"img-container"},[withDirectives(createBaseVNode("img",_hoisted_2$18,null,512),[[i,o.item.images[0]]]),createBaseVNode("div",_hoisted_3$18,[createBaseVNode("div",_hoisted_4$14,[createBaseVNode("div",_hoisted_5$14,[createBaseVNode("span",_hoisted_6$13,[_hoisted_7$11,createTextVNode(" "+toDisplayString(o.item.rating||0),1)])]),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_8$Z,"%")):createCommentVNode("",!0)])])]),createBaseVNode("div",{class:"card-body",onClick:a[1]||(a[1]=(...s)=>t.showProductDetails&&t.showProductDetails(...s))},[createBaseVNode("p",_hoisted_9$V,[createTextVNode(toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_10$S,"...")):createCommentVNode("",!0)]),createBaseVNode("p",_hoisted_11$Q,[createTextVNode(toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_12$Q,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)])]),o.item.deleted_at?(openBlock(),createElementBlock("div",_hoisted_13$M,[createBaseVNode("button",{onClick:a[2]||(a[2]=(...s)=>t.repairProduct&&t.repairProduct(...s)),class:"btn btn-primary w-100",type:"button"},"Восстановить")])):createCommentVNode("",!0)])}}}),_hoisted_1$19={class:"input-group mb-2"},_hoisted_2$17={class:"form-floating"},_hoisted_3$17=createBaseVNode("label",{for:"floatingInput"},"Критерии поиска товара",-1),_hoisted_4$13=createBaseVNode("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_5$13={class:"form-floating my-2"},_hoisted_6$12=createStaticVNode('<option value="id">По номеру товара</option><option value="title">По названию</option><option value="description">По описанию</option><option value="price">По цене</option><option value="old_price">По наличию скидки</option><option value="rating">По рейтингу</option><option value="updated_at">По дате добавления</option>',7),_hoisted_13$L=[_hoisted_6$12],_hoisted_14$L=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_15$L={key:0},_hoisted_16$K=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_17$H=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_18$E={class:"form-check form-switch mb-2"},_hoisted_19$C={class:"form-check-label",for:"need_in_stop"},_hoisted_20$B={class:"form-check form-switch mb-2"},_hoisted_21$A=createBaseVNode("label",{class:"form-check-label",for:"need_removed"},"Отображать удаленные",-1),_hoisted_22$A={class:"form-check form-switch mb-2"},_hoisted_23$A=createBaseVNode("label",{class:"form-check-label",for:"need_table"},"Отображать в виде таблицы",-1),_hoisted_24$x={class:"form-check form-switch mb-2"},_hoisted_25$v=createBaseVNode("label",{class:"form-check-label",for:"need_recommendation_config"},"Режим настройки рекомендаций",-1),_hoisted_26$t={key:0},_hoisted_27$s={key:1,class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_28$r={class:"col"},_hoisted_29$q={key:2,class:"row"},_hoisted_30$q={class:"col-12"},_hoisted_31$q={class:"list-group"},_hoisted_32$q={class:"row row-cols-2"},_hoisted_33$p={class:"col"},_hoisted_34$o=["onClick"],_hoisted_35$o={class:"d-flex align-items-center"},_hoisted_36$n={key:0,class:"badge text-bg-primary",style:{"font-size":"8px","min-width":"30px","margin-right":"5px"}},_hoisted_37$n={key:1,class:"badge text-bg-danger",style:{"font-size":"8px","min-width":"30px","margin-right":"5px"}},_hoisted_38$n={key:2,class:"badge text-bg-warning",style:{"font-size":"8px","min-width":"30px","margin-right":"5px"}},_hoisted_39$n={class:"col d-flex justify-content-end align-items-center"},_hoisted_40$l={class:"dropdown"},_hoisted_41$l=createBaseVNode("button",{class:"btn",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_42$l={class:"dropdown-menu"},_hoisted_43$l={key:0},_hoisted_44$l=["onClick"],_hoisted_45$l={key:1},_hoisted_46$l=["onClick"],_hoisted_47$k=["onClick"],_hoisted_48$k=["onClick"],_hoisted_49$j={key:0,class:"row row-cols-1"},_hoisted_50$j={class:"col"},_hoisted_51$i={class:"d-flex mt-2 mb-2 justify-content-center"},_hoisted_52$i={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},_hoisted_53$h=["onChange","name","id"],_hoisted_54$h=["for"],_hoisted_55$e=["onChange","checked","name","id"],_hoisted_56$e=["for"],_hoisted_57$d=["onChange","checked","name","id"],_hoisted_58$c=["for"],_hoisted_59$c={class:"modal fade",id:"product-modal-admin-info",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_60$b={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_61$b={class:"modal-content"},_hoisted_62$b={class:"modal-header"},_hoisted_63$b=createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},null,-1),_hoisted_64$a={class:"modal-body"},_hoisted_65$a={class:"card border-0"},_hoisted_66$a={style:{"min-height":"350px","object-fit":"contain"},class:"card-img",alt:"..."},_hoisted_67$a={class:"card-img-overlay d-flex flex-column justify-content-between p-0"},_hoisted_68$a={class:"shadow-bg"},_hoisted_69$a={class:"text-left text-white",style:{"font-weight":"700","line-height":"100%"}},_hoisted_70$a={class:"text-left mb-0 text-white"},_hoisted_71$a={class:"text-primary fw-bold"},_hoisted_72$9={key:0,class:"row g-2 row-cols-5"},_hoisted_73$9={class:"col"},_hoisted_74$8=["onClick"],_hoisted_75$8={class:"p-2"},_hoisted_76$8=createBaseVNode("p",{class:"mb-0"},"Рейтинг товара",-1),_hoisted_77$8={class:"d-flex justify-content-between mb-3"},_hoisted_78$7={class:"nav nav-tabs justify-content-center"},_hoisted_79$7={class:"text-justify py-2 fst-italic"},_hoisted_80$7={key:0},_hoisted_81$7={class:"list-group w-100 py-2 rounded-0"},_hoisted_82$7={class:"list-group-item"},_hoisted_83$6={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_84$5=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем отзывы...")],-1),_hoisted_85$5=[_hoisted_84$5],_hoisted_86$5={key:2,class:"alert alert-light my-2",role:"alert"},_hoisted_87$5={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_88$5={class:"modal fade",id:"add-product-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_89$5={class:"modal-dialog modal-fullscreen"},_hoisted_90$5={class:"modal-content"},_hoisted_91$5=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Добавление товара"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_92$5={class:"modal-body"},_hoisted_93$5={class:"modal fade",id:"restore-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_94$5={class:"modal-dialog modal-dialog-centered"},_hoisted_95$5={class:"modal-content"},_hoisted_96$4={class:"modal-body"},_hoisted_97$4=createBaseVNode("h6",{class:"text-center my-3"},"Восстановить данный товар?",-1),_hoisted_98$4={class:"d-flex justify-content-center"},_hoisted_99$4={class:"modal fade",id:"remove-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_100$4={class:"modal-dialog modal-dialog-centered"},_hoisted_101$4={class:"modal-content"},_hoisted_102$4={class:"modal-body"},_hoisted_103$4=createBaseVNode("h6",{class:"text-center my-3"},"Вы действительно хотите удалить этот товар?",-1),_hoisted_104$4={class:"d-flex justify-content-center"},_hoisted_105$4={class:"modal fade",id:"stop-list-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_106$4={class:"modal-dialog modal-dialog-centered"},_hoisted_107$4={class:"modal-content"},_hoisted_108$4={class:"modal-body"},_hoisted_109$4={class:"text-center my-3"},_hoisted_110$3={class:"d-flex justify-content-center"},__default__$K={props:["selected","isSimple"],data(){return{tab:0,operation_text:null,selected_image:null,search:null,products:[],reviews:[],modal:null,accept_stop_list_modal:null,accept_remove_modal:null,accept_restore_modal:null,add_product_modal:null,selected_product:null,paginate:null,review_paginate:null,loading_reviews:!0,need_removed:!1,need_in_stop:!1,need_table:!0,recommendations:[],need_recommendation_config:!1,sort:{param:null,direction:"asc"}}},watch:{need_in_stop:{handler:function(o){this.loadProducts()},deep:!0},need_removed:{handler:function(o){this.loadProducts()},deep:!0}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){if(!this.products||this.products.length===0)return[];if(this.search instanceof Event)return this.products;if(!this.search)return this.products;const o=this.search instanceof Event||!this.search?"":this.search.toLowerCase();return this.products.filter(t=>{var a;return(a=t.title)==null?void 0:a.toLowerCase().includes(o)})},bot(){return window.currentBot},excludes(){var o,t;return((t=(o=this.bot.settings)==null?void 0:o.recommendation)==null?void 0:t.excludes)||[]}},mounted(){var t,a;this.recommendations=((a=(t=this.bot.settings)==null?void 0:t.recommendation)==null?void 0:a.products)||[];const o=localStorage.getItem("cashman_admin_product_list_page_index")!=null?localStorage.getItem("cashman_admin_product_list_page_index"):0;this.loadProducts(o),this.modal=new bootstrap.Modal(document.getElementById("product-modal-admin-info"),{}),this.accept_remove_modal=new bootstrap.Modal(document.getElementById("remove-modal"),{}),this.accept_restore_modal=new bootstrap.Modal(document.getElementById("restore-modal"),{}),this.add_product_modal=new bootstrap.Modal(document.getElementById("add-product-modal"),{}),this.accept_stop_list_modal=new bootstrap.Modal(document.getElementById("stop-list-modal"),{})},methods:{changeStatus(o,t){this.$store.dispatch("changeProductRecommendationStatus",{product_id:o,status:t}).then(a=>{let i=a;this.recommendations=i.products||[]}).catch(()=>{})},openAddProductModal(){this.add_product_modal.show()},openRestoreModal(o){this.selected_product=null,this.$nextTick(()=>{this.selected_product=o,this.accept_restore_modal.show()})},openStopListModal(o,t=null){this.operation_text=null,this.selected_product=null,this.$nextTick(()=>{this.operation_text=t,this.selected_product=o,this.accept_stop_list_modal.show()})},openRemoveModal(o){this.selected_product=null,this.$nextTick(()=>{this.selected_product=o,this.accept_remove_modal.show()})},nextReviews(o){this.loadReviews(o)},changeDirection(o){this.sort.direction=o,this.loadOrders(0)},loadReviews(o=0){return this.loading_reviews=!0,this.$store.dispatch("loadReviewsByProductId",{dataObject:{product_id:this.selected_product.id},page:o,size:30}).then(t=>{this.reviews=this.getReviews,this.review_paginate=this.getReviewsPaginateObject,this.loading_reviews=!1}).catch(()=>{this.loading_reviews=!1})},hideModal(){this.$nextTick(()=>{this.selected_product=null,this.modal.hide()})},hideStopListModal(){this.accept_stop_list_modal.hide()},hideRestoreModal(){this.accept_restore_modal.hide()},hideRemoveModal(){this.accept_remove_modal.hide()},selectProduct(o){this.selected_product=null,this.$nextTick(()=>{this.selected_product=o,this.loadReviews(),this.selected_image=this.selected_product.images[0]||null,this.selected_image=this.selected_product.images[0]||null,this.modal.show()})},nextProducts(o){localStorage.setItem("cashman_admin_product_list_page_index",o),this.loadProducts(o)},loadProducts(o=0){return o==null&&(o=localStorage.getItem("cashman_admin_product_list_page_index")!=null?localStorage.getItem("cashman_admin_product_list_page_index"):0),this.$store.dispatch("loadProducts",{dataObject:{search:this.search,direction:this.sort.direction,order_by:this.sort.param,need_removed:this.need_removed,need_all:!this.need_in_stop},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})},addToStopListProduct(){this.selected_product&&this.$store.dispatch("addToStopListProduct",this.selected_product.id).then(o=>{this.hideStopListModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно восстановлен",type:"success"})}).catch(()=>{this.hideStopListModal(),this.loadProducts()})},restoreProduct(){this.selected_product&&this.$store.dispatch("restoreProduct",this.selected_product.id).then(o=>{this.hideRestoreModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно восстановлен",type:"success"})}).catch(()=>{this.hideRestoreModal(),this.loadProducts()})},removeProduct(){this.selected_product&&this.$store.dispatch("removeShopProduct",this.selected_product.id).then(o=>{this.hideRemoveModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно удален",type:"success"})}).catch(()=>{this.hideRemoveModal(),this.loadProducts()})}}},_sfc_main$19=Object.assign(__default__$K,{__name:"ProductList",setup(o){return(t,a)=>{var s,r;const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{onSubmit:a[1]||(a[1]=withModifiers(n=>t.loadProducts(0),["prevent"]))},[createBaseVNode("div",_hoisted_1$19,[createBaseVNode("div",_hoisted_2$17,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control border-light",placeholder:"Поиск товара","aria-label":"Поиск товара","onUpdate:modelValue":a[0]||(a[0]=n=>t.search=n),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),_hoisted_3$17]),_hoisted_4$13])],32),createBaseVNode("div",_hoisted_5$13,[withDirectives(createBaseVNode("select",{onChange:a[2]||(a[2]=n=>t.loadProducts(0)),"onUpdate:modelValue":a[3]||(a[3]=n=>t.sort.param=n),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_13$L,544),[[vModelSelect,t.sort.param]]),_hoisted_14$L]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_15$L,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[4]||(a[4]=n=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_16$K])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[5]||(a[5]=n=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_17$H])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$E,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[6]||(a[6]=n=>t.need_in_stop=n),type:"checkbox",role:"switch",id:"need_in_stop"},null,512),[[vModelCheckbox,t.need_in_stop]]),createBaseVNode("label",_hoisted_19$C,[createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":t.need_in_stop})},"Товар в стоп листе",2),createTextVNode(" / "),createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":!t.need_in_stop})},"Все товары",2)])]),createBaseVNode("div",_hoisted_20$B,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[7]||(a[7]=n=>t.need_removed=n),type:"checkbox",role:"switch",id:"need_removed"},null,512),[[vModelCheckbox,t.need_removed]]),_hoisted_21$A]),createBaseVNode("div",_hoisted_22$A,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[8]||(a[8]=n=>t.need_table=n),type:"checkbox",role:"switch",id:"need_table"},null,512),[[vModelCheckbox,t.need_table]]),_hoisted_23$A]),createBaseVNode("div",_hoisted_24$x,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[9]||(a[9]=n=>t.need_recommendation_config=n),type:"checkbox",role:"switch",id:"need_recommendation_config"},null,512),[[vModelCheckbox,t.need_recommendation_config]]),_hoisted_25$v]),createBaseVNode("p",null,[createTextVNode("Всего товаров: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_26$t,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),!o.isSimple&&!t.need_table?(openBlock(),createElementBlock("div",_hoisted_27$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(n,l)=>(openBlock(),createElementBlock("div",_hoisted_28$r,[(openBlock(),createBlock(_sfc_main$1a,{key:"product-"+n.id,class:normalizeClass({selected:(o.selected||[]).indexOf(n.id)!=-1}),onSelect:c=>t.selectProduct(n),item:n},null,8,["class","onSelect","item"]))]))),256))])):createCommentVNode("",!0),o.isSimple||t.need_table?(openBlock(),createElementBlock("div",_hoisted_29$q,[createBaseVNode("div",_hoisted_30$q,[createBaseVNode("ul",_hoisted_31$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(n,l)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item",{"bg-success text-white fw-bold":(o.selected||[]).indexOf(n.id)!=-1,"bg-danger":n.deleted_at,"bg-warning":n.in_stop_list_at}])},[createBaseVNode("div",_hoisted_32$q,[createBaseVNode("div",_hoisted_33$p,[createBaseVNode("p",{class:"text-decoration-underline mb-0",onClick:c=>t.selectProduct(n)},toDisplayString(n.title),9,_hoisted_34$o),createBaseVNode("div",_hoisted_35$o,[n.vk_product_id?(openBlock(),createElementBlock("span",_hoisted_36$n,"VK")):createCommentVNode("",!0),n.iiko_article?(openBlock(),createElementBlock("span",_hoisted_37$n,"IIKO")):createCommentVNode("",!0),n.frontpad_article?(openBlock(),createElementBlock("span",_hoisted_38$n,"FrontPad")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_39$n,[createBaseVNode("div",_hoisted_40$l,[_hoisted_41$l,createBaseVNode("ul",_hoisted_42$l,[n.deleted_at==null?(openBlock(),createElementBlock("li",_hoisted_43$l,[createBaseVNode("a",{class:"dropdown-item",onClick:c=>t.openRemoveModal(n),href:"javascript:void(0)"},"Удалить товар",8,_hoisted_44$l)])):createCommentVNode("",!0),n.deleted_at?(openBlock(),createElementBlock("li",_hoisted_45$l,[createBaseVNode("a",{class:"dropdown-item",onClick:c=>t.openRestoreModal(n),href:"javascript:void(0)"},"Восстановить товар",8,_hoisted_46$l)])):createCommentVNode("",!0),createBaseVNode("li",null,[n.in_stop_list_at==null?(openBlock(),createElementBlock("a",{key:0,class:"dropdown-item",onClick:c=>t.openStopListModal(n,"добавления в стоп лист"),href:"javascript:void(0)"},"Добавить в стоп-лист",8,_hoisted_47$k)):createCommentVNode("",!0)]),createBaseVNode("li",null,[n.in_stop_list_at!=null?(openBlock(),createElementBlock("a",{key:0,class:"dropdown-item",onClick:c=>t.openStopListModal(n,"извлечения из стоп листа"),href:"javascript:void(0)"},"Вернуть из стоп-листа",8,_hoisted_48$k)):createCommentVNode("",!0)])])])])]),t.need_recommendation_config?(openBlock(),createElementBlock("div",_hoisted_49$j,[createBaseVNode("div",_hoisted_50$j,[createBaseVNode("div",_hoisted_51$i,[createBaseVNode("div",_hoisted_52$i,[createBaseVNode("input",{type:"radio",onChange:c=>t.changeStatus(n.id,0),class:"btn-check",name:"config-recommendation"+n.id,id:"config-recommendation-1-"+n.id,autocomplete:"off",checked:""},null,40,_hoisted_53$h),createBaseVNode("label",{class:"btn btn-outline-primary",style:{"font-size":"10px"},for:"config-recommendation-1-"+n.id},"Отмена",8,_hoisted_54$h),createBaseVNode("input",{type:"radio",onChange:c=>t.changeStatus(n.id,1),checked:t.recommendations.indexOf(n.id)!==-1,class:"btn-check",name:"config-recommendation"+n.id,id:"config-recommendation-2-"+n.id,autocomplete:"off"},null,40,_hoisted_55$e),createBaseVNode("label",{class:"btn btn-outline-primary",style:{"font-size":"10px"},for:"config-recommendation-2-"+n.id},"Рекомендация",8,_hoisted_56$e),createBaseVNode("input",{type:"radio",onChange:c=>t.changeStatus(n.id,2),checked:t.excludes.indexOf(n.id)!==-1,class:"btn-check",name:"config-recommendation"+n.id,id:"config-recommendation-3-"+n.id,autocomplete:"off"},null,40,_hoisted_57$d),createBaseVNode("label",{class:"btn btn-outline-primary",style:{"font-size":"10px"},for:"config-recommendation-3-"+n.id},"Исключение",8,_hoisted_58$c)])])])])):createCommentVNode("",!0)],2))),256))])])])):createCommentVNode("",!0),t.paginate?(openBlock(),createBlock(Pagination,{key:3,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_59$c,[createBaseVNode("div",_hoisted_60$b,[createBaseVNode("div",_hoisted_61$b,[createBaseVNode("div",_hoisted_62$b,[_hoisted_63$b,createBaseVNode("button",{type:"button",class:"btn-close",onClick:a[10]||(a[10]=(...n)=>t.hideModal&&t.hideModal(...n))})]),createBaseVNode("div",_hoisted_64$a,[t.selected_product!=null?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_65$a,[withDirectives(createBaseVNode("img",_hoisted_66$a,null,512),[[i,t.selected_image]]),createBaseVNode("div",_hoisted_67$a,[createBaseVNode("div",_hoisted_68$a,[createBaseVNode("h6",_hoisted_69$a,toDisplayString(t.selected_product.title||"Не указан"),1),createBaseVNode("p",_hoisted_70$a,[createTextVNode("Цена "),createBaseVNode("strong",_hoisted_71$a,toDisplayString(t.selected_product.current_price||0)+"₽",1)])])])]),(((s=t.selected_product)==null?void 0:s.images)||[]).length>1?(openBlock(),createElementBlock("div",_hoisted_72$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList((r=t.selected_product)==null?void 0:r.images,n=>(openBlock(),createElementBlock("div",_hoisted_73$9,[withDirectives(createBaseVNode("img",{style:{"min-height":"60px","object-fit":"contain"},onClick:l=>t.selected_image=n,class:normalizeClass([{"border border-primary":t.selected_image===n},"img-thumbnail my-2"]),alt:"..."},null,10,_hoisted_74$8),[[i,n]])]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_75$8,[_hoisted_76$8,createBaseVNode("h6",_hoisted_77$8,[createVNode(Rating,{rating:t.selected_product.rating},null,8,["rating"]),createTextVNode(" "+toDisplayString(t.selected_product.rating)+" из 5 ",1)])]),createBaseVNode("ul",_hoisted_78$7,[createBaseVNode("li",{onClick:a[11]||(a[11]=n=>t.tab=0),class:"nav-item"},[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),"aria-current":"page",href:"javascript:void(0)"},"Описание",2)]),createBaseVNode("li",{onClick:a[12]||(a[12]=n=>t.tab=2),class:"nav-item"},[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===2}]),href:"javascript:void(0)"},"Редактор",2)]),createBaseVNode("li",{onClick:a[13]||(a[13]=n=>t.tab=1),class:"nav-item"},[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),href:"javascript:void(0)"},"Отзывы",2)])]),withDirectives(createBaseVNode("div",null,[createBaseVNode("p",_hoisted_79$7,toDisplayString(t.selected_product.description||"-"),1)],512),[[vShow,t.tab===0]]),withDirectives(createBaseVNode("div",null,[(t.reviews||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_80$7,[createBaseVNode("ul",_hoisted_81$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(n,l)=>(openBlock(),createElementBlock("li",_hoisted_82$7,[createVNode(_sfc_main$2x,{"need-product":!1,modelValue:t.reviews[l],"onUpdate:modelValue":c=>t.reviews[l]=c},null,8,["modelValue","onUpdate:modelValue"])]))),256))]),t.review_paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.review_paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.reviews||[]).length===0&&t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_83$6,_hoisted_85$5)):createCommentVNode("",!0),(t.reviews||[]).length===0&&!t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_86$5," У данного товара еще нет отзывов! Для того чтобы оставить отзыв Вам необходимо заказать данный товар, после чего у вас появится возможность написать ваше впечатление от него;) ")):createCommentVNode("",!0)],512),[[vShow,t.tab===1]]),withDirectives(createBaseVNode("div",null,[createVNode(ProductForm,{onRemoveProduct:t.openRemoveModal,onCallback:a[14]||(a[14]=n=>t.loadProducts(null)),modelValue:t.selected_product,"onUpdate:modelValue":a[15]||(a[15]=n=>t.selected_product=n)},null,8,["onRemoveProduct","modelValue"])],512),[[vShow,t.tab===2]])],64)):createCommentVNode("",!0)])])])]),createBaseVNode("nav",_hoisted_87$5,[createBaseVNode("button",{onClick:a[16]||(a[16]=(...n)=>t.openAddProductModal&&t.openAddProductModal(...n)),class:"btn btn-primary w-100 p-3",type:"button"}," Добавить новый товар ")]),createBaseVNode("div",_hoisted_88$5,[createBaseVNode("div",_hoisted_89$5,[createBaseVNode("div",_hoisted_90$5,[_hoisted_91$5,createBaseVNode("div",_hoisted_92$5,[createVNode(ProductForm,{onCallback:a[17]||(a[17]=n=>t.loadProducts(null))})])])])]),createBaseVNode("div",_hoisted_93$5,[createBaseVNode("div",_hoisted_94$5,[createBaseVNode("div",_hoisted_95$5,[createBaseVNode("div",_hoisted_96$4,[_hoisted_97$4,createBaseVNode("div",_hoisted_98$4,[createBaseVNode("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:a[18]||(a[18]=(...n)=>t.restoreProduct&&t.restoreProduct(...n))},"Да "),createBaseVNode("button",{type:"button",class:"btn btn-secondary px-3",onClick:a[19]||(a[19]=(...n)=>t.hideRestoreModal&&t.hideRestoreModal(...n))},"Нет")])])])])]),createBaseVNode("div",_hoisted_99$4,[createBaseVNode("div",_hoisted_100$4,[createBaseVNode("div",_hoisted_101$4,[createBaseVNode("div",_hoisted_102$4,[_hoisted_103$4,createBaseVNode("div",_hoisted_104$4,[createBaseVNode("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:a[20]||(a[20]=(...n)=>t.removeProduct&&t.removeProduct(...n))},"Да "),createBaseVNode("button",{type:"button",class:"btn btn-secondary px-3",onClick:a[21]||(a[21]=(...n)=>t.hideRemoveModal&&t.hideRemoveModal(...n))},"Нет")])])])])]),createBaseVNode("div",_hoisted_105$4,[createBaseVNode("div",_hoisted_106$4,[createBaseVNode("div",_hoisted_107$4,[createBaseVNode("div",_hoisted_108$4,[createBaseVNode("h6",_hoisted_109$4,"Выполнить операцию "+toDisplayString(t.operation_text)+"?",1),createBaseVNode("div",_hoisted_110$3,[createBaseVNode("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:a[22]||(a[22]=(...n)=>t.addToStopListProduct&&t.addToStopListProduct(...n))},"Да "),createBaseVNode("button",{type:"button",class:"btn btn-secondary px-3",onClick:a[23]||(a[23]=(...n)=>t.hideStopListModal&&t.hideStopListModal(...n))},"Нет")])])])])])],64)}}}),_sfc_main$18={props:["item"],data(){return{categoryForm:{id:null,title:null,order_position:0}}},mounted(){this.item&&this.$nextTick(()=>{this.categoryForm.id=this.item.id||null,this.categoryForm.title=this.item.title||null,this.categoryForm.order_position=this.item.order_position||0})},methods:{storyCategory(){this.$store.dispatch("addProductCategory",{category:this.categoryForm}).then(()=>{this.$notify({title:"Категории товаров",text:"Данные успешно сохранены!",type:"success"}),this.$emit("callback")}).catch(()=>{this.$notify({title:"Категории товаров",text:"Ошибка сохранения категории!",type:"error"})})}}},_hoisted_1$18={class:"form-floating mb-2"},_hoisted_2$16=createBaseVNode("label",{for:"floatingInput"},"Название категории",-1),_hoisted_3$16={class:"form-floating mb-3"},_hoisted_4$12=createBaseVNode("label",{for:"floatingInput"},"Позиция в выдаче",-1),_hoisted_5$12={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_6$11={class:"btn btn-primary w-100 p-3",type:"submit"},_hoisted_7$10={key:0},_hoisted_8$Y={key:1};function _sfc_render$q(o,t,a,i,s,r){return openBlock(),createElementBlock("form",{onSubmit:t[2]||(t[2]=withModifiers((...n)=>r.storyCategory&&r.storyCategory(...n),["prevent"]))},[createBaseVNode("div",_hoisted_1$18,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>s.categoryForm.title=n),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,s.categoryForm.title]]),_hoisted_2$16]),createBaseVNode("div",_hoisted_3$16,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=n=>s.categoryForm.order_position=n),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.categoryForm.order_position]]),_hoisted_4$12]),createBaseVNode("nav",_hoisted_5$12,[createBaseVNode("button",_hoisted_6$11,[s.categoryForm.id?(openBlock(),createElementBlock("span",_hoisted_7$10,"Обновить категорию")):(openBlock(),createElementBlock("span",_hoisted_8$Y,"Добавить категорию"))])])],32)}const CategoryForm=_export_sfc(_sfc_main$18,[["render",_sfc_render$q]]),_hoisted_1$17={class:"form-floating"},_hoisted_2$15=createBaseVNode("label",{for:"floatingInput"},"Поиск категории товара",-1),_hoisted_3$15=createBaseVNode("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_4$11={class:"form-floating my-2"},_hoisted_5$11=createBaseVNode("option",{value:"id"},"По id",-1),_hoisted_6$10=createBaseVNode("option",{value:"title"},"По названию",-1),_hoisted_7$$=createBaseVNode("option",{value:"order_position"},"По позиции выдачи",-1),_hoisted_8$X=createBaseVNode("option",{value:"is_active"},"По статусу",-1),_hoisted_9$U=createBaseVNode("option",{value:"updated_at"},"По дате добавления",-1),_hoisted_10$R=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_11$P={key:0},_hoisted_12$P=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_13$K=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_14$K={class:"form-check form-switch mb-2"},_hoisted_15$K=createBaseVNode("label",{class:"form-check-label",for:"need_recommendation_config"},"Режим настройки рекомендаций",-1),_hoisted_16$J={key:0},_hoisted_17$G={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},_hoisted_18$D={class:"col"},_hoisted_19$B={class:"list-group"},_hoisted_20$A={class:"list-group-item"},_hoisted_21$z={class:"mb-2 d-flex justify-content-between"},_hoisted_22$z={class:"fw-bold"},_hoisted_23$z=["onClick"],_hoisted_24$w=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_25$u=[_hoisted_24$w],_hoisted_26$s={class:"input-group"},_hoisted_27$r=["onClick"],_hoisted_28$q={key:0,class:"fa-solid fa-eye text-primary"},_hoisted_29$p={key:1,class:"fa-solid fa-eye-slash text-light"},_hoisted_30$p={class:"form-floating"},_hoisted_31$p=["onChange","onUpdate:modelValue"],_hoisted_32$p=createBaseVNode("label",{for:""},"Позиция в выдаче",-1),_hoisted_33$o=["onClick"],_hoisted_34$n=createBaseVNode("i",{class:"fa-solid fa-trash-can text-danger"},null,-1),_hoisted_35$n=[_hoisted_34$n],_hoisted_36$m={key:0,class:"row row-cols-1"},_hoisted_37$m={class:"col"},_hoisted_38$m={class:"d-flex mt-2 mb-2 justify-content-center"},_hoisted_39$m={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},_hoisted_40$k=["onChange","name","id"],_hoisted_41$k=["for"],_hoisted_42$k=["onChange","checked","name","id"],_hoisted_43$k=["for"],_hoisted_44$k={key:2,class:"alert alert-light"},_hoisted_45$k=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},"data-bs-toggle":"modal","data-bs-target":"#category-form",class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"}," Добавить категорию ")],-1),_hoisted_46$k={class:"modal fade",id:"category-edit-item-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_47$j={class:"modal-dialog modal-fullscreen"},_hoisted_48$j={class:"modal-content"},_hoisted_49$i=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_50$i={class:"modal-body"},_hoisted_51$h={class:"modal fade",id:"remove-category-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_52$h={class:"modal-dialog"},_hoisted_53$g={class:"modal-content"},_hoisted_54$g=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление категории"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_55$d={key:0,class:"modal-body"},_hoisted_56$d={class:"text-primary fw-bold"},_hoisted_57$c={key:1,class:"modal-footer"},_hoisted_58$b=createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть ",-1),_hoisted_59$b={class:"modal fade",id:"category-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_60$a={class:"modal-dialog modal-fullscreen"},_hoisted_61$a={class:"modal-content"},_hoisted_62$a=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_63$a={class:"modal-body"},__default__$J={data(){return{selectedCategory:null,categoryEditorModal:null,removeModal:null,need_recommendation_config:!1,search:null,categories:[],paginate:null,recommendations:[],sort:{param:"id",direction:"asc"}}},computed:{...mapGetters(["getCategories","getCategoriesPaginateObject"]),bot(){return window.currentBot},recommendations(){var o,t;return((t=(o=this.bot.settings)==null?void 0:o.recommendation)==null?void 0:t.categories)||[]},filteredProductCategories(){return this.search?this.categories.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.categories}},mounted(){var o,t;this.recommendations=((t=(o=this.bot.settings)==null?void 0:o.recommendation)==null?void 0:t.categories)||[],this.loadProductCategories(),this.categoryEditorModal=new bootstrap.Modal(document.getElementById("category-edit-item-form"),{}),this.removeModal=new bootstrap.Modal(document.getElementById("remove-category-modal"),{})},methods:{changeStatus(o,t){this.$store.dispatch("changeCategoryRecommendationStatus",{category_id:o,status:t}).then(a=>{let i=a;this.recommendations=i.categories||[]}).catch(()=>{})},changeDirection(o){this.sort.direction=o,this.loadProductCategories(0)},updateCategory(o){this.$store.dispatch("storeProductCategory",{category:o,bot_id:this.bot.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Данные сохранены!",type:"success"}),this.loadProductCategories(),this.categoryEditorModal.hide()}).catch(t=>{this.$notify({title:"Конструктор ботов",text:"Ошибка сохранения данных!",type:"error"}),this.categoryEditorModal.hide()})},changeCategoryStatus(o){let t=this.categories.findIndex(a=>o.id===a.id);t!==-1&&(this.categories[t].is_active=!this.categories[t].is_active,this.$store.dispatch("changeProductCategoryStatus",o.id).then(a=>{this.$notify({title:"Конструктор ботов",text:"Статус категории успешно изменен!",type:"success"})}).catch(a=>{}))},selectProductCategory(o){this.selectedCategory=null,this.$nextTick(()=>{this.selectedCategory=o,this.categoryEditorModal.show()})},nextProductCategories(o){this.loadProductCategories(o)},openRemoveModal(o){this.selectedCategory=null,this.$nextTick(()=>{this.selectedCategory=o,this.removeModal.show()})},removeProductCategory(o){this.$store.dispatch("removeProductCategory",{category_id:o.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"}),this.loadProductCategories(),this.removeModal.hide(),this.selectedCategory=null}).catch(t=>{this.loadProductCategories(),this.$notify({title:"Конструктор ботов",text:"Ошибка удаления категории!",type:"error"}),this.selectedCategory=null,this.removeModal.hide()})},categoryFormCallback(){this.categoryEditorModal.hide(),this.loadProductCategories()},loadProductCategories(o=0){return this.$store.dispatch("loadCategories",{dataObject:{bot_id:this.bot.id,search:this.search,order_by:this.sort.param,direction:this.sort.direction},page:o,size:50}).then(()=>{this.categories=this.getCategories,this.paginate=this.getCategoriesPaginateObject})}}},_sfc_main$17=Object.assign(__default__$J,{__name:"ProductCategoryList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{class:"input-group mb-2",onSubmit:a[1]||(a[1]=withModifiers(i=>t.loadProductCategories(0),["prevent"]))},[createBaseVNode("div",_hoisted_1$17,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.search]]),_hoisted_2$15]),_hoisted_3$15],32),createBaseVNode("div",_hoisted_4$11,[withDirectives(createBaseVNode("select",{onChange:a[2]||(a[2]=i=>t.loadProductCategories(0)),"onUpdate:modelValue":a[3]||(a[3]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_5$11,_hoisted_6$10,createTextVNode(" > "),_hoisted_7$$,_hoisted_8$X,_hoisted_9$U],544),[[vModelSelect,t.sort.param]]),_hoisted_10$R]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_11$P,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[4]||(a[4]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_12$P])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[5]||(a[5]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_13$K])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14$K,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[6]||(a[6]=i=>t.need_recommendation_config=i),type:"checkbox",role:"switch",id:"need_recommendation_config"},null,512),[[vModelCheckbox,t.need_recommendation_config]]),_hoisted_15$K]),createBaseVNode("p",null,[createTextVNode("Всего категорий: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_16$J,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),t.filteredProductCategories.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_17$G,[createBaseVNode("div",_hoisted_18$D,[createBaseVNode("ul",_hoisted_19$B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProductCategories,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_20$A,[createBaseVNode("p",_hoisted_21$z,[createBaseVNode("span",_hoisted_22$z,toDisplayString(i.title),1),createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.selectProductCategory(i),class:"text-secondary"},_hoisted_25$u,8,_hoisted_23$z)]),createBaseVNode("div",_hoisted_26$s,[createBaseVNode("button",{type:"button",onClick:r=>t.changeCategoryStatus(i),class:"btn border-light"},[i.is_active?(openBlock(),createElementBlock("i",_hoisted_28$q)):createCommentVNode("",!0),i.is_active?createCommentVNode("",!0):(openBlock(),createElementBlock("i",_hoisted_29$p))],8,_hoisted_27$r),createBaseVNode("div",_hoisted_30$p,[withDirectives(createBaseVNode("input",{type:"number",onChange:r=>t.updateCategory(i),"onUpdate:modelValue":r=>i.order_position=r,class:"form-control border-light"},null,40,_hoisted_31$p),[[vModelText,i.order_position]]),_hoisted_32$p]),createBaseVNode("button",{title:"Удалить товар",onClick:r=>t.openRemoveModal(i),class:"btn border-light"},_hoisted_35$n,8,_hoisted_33$o)]),t.need_recommendation_config?(openBlock(),createElementBlock("div",_hoisted_36$m,[createBaseVNode("div",_hoisted_37$m,[createBaseVNode("div",_hoisted_38$m,[createBaseVNode("div",_hoisted_39$m,[createBaseVNode("input",{type:"radio",onChange:r=>t.changeStatus(i.id,0),class:"btn-check",name:"config-category-recommendation-"+i.id,id:"config-category-recommendation-1-"+i.id,autocomplete:"off",checked:""},null,40,_hoisted_40$k),createBaseVNode("label",{class:"btn btn-outline-primary",for:"config-category-recommendation-1-"+i.id},"Отмена",8,_hoisted_41$k),createBaseVNode("input",{type:"radio",onChange:r=>t.changeStatus(i.id,1),checked:t.recommendations.indexOf(i.id)!==-1,class:"btn-check",name:"config-category-recommendation-"+i.id,id:"config-category-recommendation-2-"+i.id,autocomplete:"off"},null,40,_hoisted_42$k),createBaseVNode("label",{class:"btn btn-outline-primary",for:"config-category-recommendation-2-"+i.id},"Рекомендация",8,_hoisted_43$k)])])])])):createCommentVNode("",!0)]))),256))])])]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextProductCategories,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("p",_hoisted_44$k," К сожалению, вы еще не добавили ни одной категории продуктов! ")),_hoisted_45$k,createBaseVNode("div",_hoisted_46$k,[createBaseVNode("div",_hoisted_47$j,[createBaseVNode("div",_hoisted_48$j,[_hoisted_49$i,createBaseVNode("div",_hoisted_50$i,[t.selectedCategory?(openBlock(),createBlock(CategoryForm,{key:0,onCallback:t.categoryFormCallback,item:t.selectedCategory},null,8,["onCallback","item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_51$h,[createBaseVNode("div",_hoisted_52$h,[createBaseVNode("div",_hoisted_53$g,[_hoisted_54$g,t.selectedCategory?(openBlock(),createElementBlock("div",_hoisted_55$d,[createTextVNode(" Вы действительно хотите удалить "),createBaseVNode("strong",_hoisted_56$d,toDisplayString(t.selectedCategory.title||"-")+"?",1)])):createCommentVNode("",!0),t.selectedCategory?(openBlock(),createElementBlock("div",_hoisted_57$c,[_hoisted_58$b,createBaseVNode("button",{type:"button",onClick:a[7]||(a[7]=i=>t.removeProductCategory(t.selectedCategory)),class:"btn btn-primary"},"Да, удалить ")])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_59$b,[createBaseVNode("div",_hoisted_60$a,[createBaseVNode("div",_hoisted_61$a,[_hoisted_62$a,createBaseVNode("div",_hoisted_63$a,[createVNode(CategoryForm,{onCallback:t.categoryFormCallback},null,8,["onCallback"])])])])])],64))}}),_hoisted_1$16=["id"],_hoisted_2$14={class:"list-group"},_hoisted_3$14=["onClick"],_hoisted_4$10={key:0,class:"col-12"},_hoisted_5$10=["onClick"],_hoisted_6$$={key:0},_hoisted_7$_={key:1,class:"d-inline-flex align-items-center"},_hoisted_8$W=createBaseVNode("span",{class:"spinner-border",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),__default__$I={props:["selected"],data(){return{search:null,products:[],paginate:null,sort:{param:null,direction:"asc"}}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredCategories(){return this.products.length===0?[]:(this.search||"").length===0?this.products:this.products.filter(o=>o.products.filter(t=>t.title.toLowerCase().indexOf(this.search.toLowerCase())!=-1).length>0)},filteredProducts(){return this.categories.length===0?this.products:this.products.filter(o=>o.categories.findIndex(t=>this.categories.indexOf(t.id)!==-1)!==-1)}},mounted(){this.loadProducts()},methods:{loadMore(o,t){var a;return this.load_content=!0,this.$store.dispatch("loadMoreProductsByCategory",{partner_id:((a=this.selected_partner)==null?void 0:a.bot_partner_id)||null,category_id:o,offset:t}).then(i=>{let s=i.length||0;if(this.load_content=!1,s===0){this.products.find(r=>r.id===o).products_count=t;return}this.products.find(r=>r.id===o).products.push(...i)}).catch(()=>{this.load_content=!1})},changeDirection(o){this.sort.direction=o,this.loadOrders(0)},selectProduct(o){this.$emit("select",o)},nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProductsByCategory",{dataObject:{search:this.search,direction:this.sort.direction,order_by:this.sort.param},page:o,size:100}).then(t=>{this.products=t.data}).catch(()=>{})}}},_sfc_main$16=Object.assign(__default__$I,{__name:"SimpleProductList",setup(o){return(t,a)=>t.filteredCategories.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.filteredCategories,i=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",{class:"my-4 divider",id:"cat-"+i.id},toDisplayString(i.title||"-"),9,_hoisted_1$16),createBaseVNode("ul",_hoisted_2$14,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.products,(s,r)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item d-flex justify-content-between align-items-center",{"bg-success text-white fw-bold":(o.selected||[]).indexOf(s.id)!=-1}]),onClick:n=>t.selectProduct(s)},toDisplayString(s.title),11,_hoisted_3$14))),256))]),i.products_count>i.products.length?(openBlock(),createElementBlock("div",_hoisted_4$10,[createBaseVNode("button",{onClick:s=>t.loadMore(i.id,i.products.length),class:"btn btn-outline-light text-primary p-3 my-3 w-100",type:"button"},[t.load_content?(openBlock(),createElementBlock("span",_hoisted_7$_,[createTextVNode(" Загружаем.... "),_hoisted_8$W])):(openBlock(),createElementBlock("span",_hoisted_6$$,"Загрузить еще ("+toDisplayString(i.products_count-i.products.length)+") ",1))],8,_hoisted_5$10)])):createCommentVNode("",!0)],64))),256)):(openBlock(),createBlock(PreloaderV1,{key:1}))}}),CollectionForm_vue_vue_type_style_index_0_scoped_5c95131a_lang="",_withScopeId$a=o=>(pushScopeId("data-v-5c95131a"),o=o(),popScopeId(),o),_hoisted_1$15=["for"],_hoisted_2$13=_withScopeId$a(()=>createBaseVNode("i",{class:"fa-solid fa-image text-primary"},null,-1)),_hoisted_3$13=["id"],_hoisted_4$$=_withScopeId$a(()=>createBaseVNode("p",{class:"mt-3 font-16 text-primary"}," Нажмите для выбора фотографии",-1)),_hoisted_5$$={key:1,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},_hoisted_6$_={key:0,class:"w-100 object-fit-cover",alt:""},_hoisted_7$Z={class:"remove"},_hoisted_8$V=_withScopeId$a(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1)),_hoisted_9$T={key:2,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},_hoisted_10$Q={class:"w-100 object-fit-cover"},_hoisted_11$O={class:"remove"},_hoisted_12$O=_withScopeId$a(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1)),_hoisted_13$J={class:"form-floating mb-2"},_hoisted_14$J=_withScopeId$a(()=>createBaseVNode("label",{for:"floatingInput"},"Название подборки",-1)),_hoisted_15$J={class:"form-floating mb-2"},_hoisted_16$I=_withScopeId$a(()=>createBaseVNode("label",{for:"floatingTextarea"},"Описание",-1)),_hoisted_17$F={class:"form-floating mb-2"},_hoisted_18$C=_withScopeId$a(()=>createBaseVNode("label",{for:"floatingInput"},"Скидка на подборку, %",-1)),_hoisted_19$A={class:"form-floating mb-3"},_hoisted_20$z=_withScopeId$a(()=>createBaseVNode("label",{for:"floatingInput"},"Позиция в выдаче",-1)),_hoisted_21$y=_withScopeId$a(()=>createBaseVNode("p",{class:"alert alert-light mb-2"}," Делает подборку доступной для всех пользователей, позволяя им формировать заказ. ",-1)),_hoisted_22$y={class:"form-check form-switch mb-2"},_hoisted_23$y=["id"],_hoisted_24$v=["for"],_hoisted_25$t={class:"form-check form-switch mb-2"},_hoisted_26$r=["id"],_hoisted_27$q=["for"],_hoisted_28$p={key:0,class:"fa-solid fa-chevron-up"},_hoisted_29$o={key:1,class:"fa-solid fa-chevron-down"},_hoisted_30$o={key:3},_hoisted_31$o=_withScopeId$a(()=>createBaseVNode("p",{class:"alert alert-light"},[createTextVNode(" При выборе товаров из одной и той же категории пользователь сможет указать один из этих продуктов по своему усмотрению. Если выбран флаг "),createBaseVNode("span",{class:"text-primary fw-bold"},'"все в категории"'),createTextVNode(", то у пользователя не будет возможности выбирать, ему можно будет заказать всё как есть. ")],-1)),_hoisted_32$o={class:"form-check form-switch mb-2"},_hoisted_33$n={class:"form-check-label",for:"collectionForm_choose_all_in_category"},_hoisted_34$m={class:"form-check form-switch mb-2"},_hoisted_35$m={class:"form-check-label",for:"collectionForm_choose_all_in_category"},_hoisted_36$l={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_37$l={class:"btn btn-primary w-100 p-3",type:"submit"},_hoisted_38$l={key:0},_hoisted_39$l={key:1},__default__$H={props:["item"],data(){return{photo:null,show_products:!1,collectionForm:{id:null,title:null,order_position:0,image:null,description:null,is_public:!0,is_active:!0,discount:0,products:[],config:{choose_all_in_category:!1,can_skip_categories:!1}}}},computed:{bot(){return window.currentBot},mappedProducts(){return this.collectionForm.products.map(({id:o})=>o)},uuid(){return v4()}},mounted(){this.item&&this.$nextTick(()=>{this.collectionForm.id=this.item.id||null,this.collectionForm.title=this.item.title||null,this.collectionForm.order_position=this.item.order_position||0,this.collectionForm.image=this.item.image||null,this.collectionForm.description=this.item.description||null,this.collectionForm.discount=this.item.discount||0,this.collectionForm.is_public=this.item.is_public||!0,this.collectionForm.is_active=this.item.is_active||!0,this.collectionForm.config=this.item.config||{},this.collectionForm.products=this.item.products||[],(this.item.products||[]).length>0&&(this.show_products=!0)})},methods:{removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0]},storeCollection(){let o=new FormData;Object.keys(this.collectionForm).forEach(t=>{const a=this.collectionForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photo&&o.append("photo",this.photo),this.$store.dispatch("storeCollection",{collectionForm:o}).then(()=>{this.$notify({title:"Коллекция товаров",text:"Данные успешно сохранены!",type:"success"}),this.$emit("callback"),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click())}).catch(()=>{this.$notify({title:"Коллекция товаров",text:"Ошибка сохранения категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click())})},selectProduct(o){let t=this.collectionForm.products.findIndex(a=>a.id==o.id);t===-1?this.collectionForm.products.push(o):this.collectionForm.products.splice(t,1)}}},_sfc_main$15=Object.assign(__default__$H,{__name:"CollectionForm",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:a[12]||(a[12]=withModifiers((...s)=>t.storeCollection&&t.storeCollection(...s),["prevent"])),class:"pb-5 mb-5"},[!t.photo&&!t.collectionForm.image?(openBlock(),createElementBlock("label",{key:0,for:"photos-"+t.uuid,style:{"font-size":"14px","min-height":"300px"},class:"photo-loader my-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},[_hoisted_2$13,createBaseVNode("input",{type:"file",id:"photos-"+t.uuid,accept:"image/*",onChange:a[0]||(a[0]=(...s)=>t.onChangePhotos&&t.onChangePhotos(...s)),style:{display:"none"}},null,40,_hoisted_3$13),_hoisted_4$$],8,_hoisted_1$15)):createCommentVNode("",!0),t.collectionForm.image?(openBlock(),createElementBlock("div",_hoisted_5$$,[t.collectionForm.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_6$_,null,512)),[[i,"/images-by-company-id/"+t.bot.company_id+"/"+t.collectionForm.image]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$Z,[createBaseVNode("a",{onClick:a[1]||(a[1]=s=>t.collectionForm.image=null),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_hoisted_8$V,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0),t.photo&&!t.collectionForm.image?(openBlock(),createElementBlock("div",_hoisted_9$T,[withDirectives(createBaseVNode("img",_hoisted_10$Q,null,512),[[i,t.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_11$O,[createBaseVNode("a",{onClick:a[2]||(a[2]=(...s)=>t.removePhoto&&t.removePhoto(...s)),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_hoisted_12$O,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$J,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=s=>t.collectionForm.title=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.collectionForm.title]]),_hoisted_14$J]),createBaseVNode("div",_hoisted_15$J,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=s=>t.collectionForm.description=s),placeholder:"Leave a comment here",style:{"min-height":"150px"},required:"",id:"floatingTextarea"},null,512),[[vModelText,t.collectionForm.description]]),_hoisted_16$I]),createBaseVNode("div",_hoisted_17$F,[withDirectives(createBaseVNode("input",{type:"number",min:"0",max:"100","onUpdate:modelValue":a[5]||(a[5]=s=>t.collectionForm.discount=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.collectionForm.discount]]),_hoisted_18$C]),createBaseVNode("div",_hoisted_19$A,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=s=>t.collectionForm.order_position=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.collectionForm.order_position]]),_hoisted_20$z]),_hoisted_21$y,createBaseVNode("div",_hoisted_22$y,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=s=>t.collectionForm.is_active=s),role:"switch",id:"collectionForm_is_active-"+t.uuid},null,8,_hoisted_23$y),[[vModelCheckbox,t.collectionForm.is_active]]),createBaseVNode("label",{class:"form-check-label",for:"collectionForm_is_active-"+t.uuid},[createTextVNode("Отображение подборки: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.is_active})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.is_active})},"выкл",2)],8,_hoisted_24$v)]),createBaseVNode("div",_hoisted_25$t,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=s=>t.collectionForm.is_public=s),role:"switch",id:"collectionForm_is_public-"+t.uuid},null,8,_hoisted_26$r),[[vModelCheckbox,t.collectionForm.is_public]]),createBaseVNode("label",{class:"form-check-label",for:"collectionForm_is_public-"+t.uuid},[createTextVNode("Является публичной: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.is_public})},"да",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.is_public})},"нет",2)],8,_hoisted_27$q)]),createBaseVNode("button",{type:"button",onClick:a[9]||(a[9]=s=>t.show_products=!t.show_products),class:"btn btn-outline-primary p-2 w-100 mb-2"},[t.show_products?(openBlock(),createElementBlock("i",_hoisted_29$o)):(openBlock(),createElementBlock("i",_hoisted_28$p)),createTextVNode(" Открыть выбор продуктов ")]),t.show_products?(openBlock(),createElementBlock("div",_hoisted_30$o,[_hoisted_31$o,createBaseVNode("div",_hoisted_32$o,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=s=>t.collectionForm.config.choose_all_in_category=s),role:"switch",id:"collectionForm_choose_all_in_category"},null,512),[[vModelCheckbox,t.collectionForm.config.choose_all_in_category]]),createBaseVNode("label",_hoisted_33$n,[createTextVNode("Все в категории: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.config.choose_all_in_category})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.config.choose_all_in_category})},"выкл",2)])]),createBaseVNode("div",_hoisted_34$m,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=s=>t.collectionForm.config.can_skip_categories=s),role:"switch",id:"collectionForm_choose_all_in_category"},null,512),[[vModelCheckbox,t.collectionForm.config.can_skip_categories]]),createBaseVNode("label",_hoisted_35$m,[createTextVNode("Разрешить пропуск категорий: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.config.can_skip_categories})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.config.can_skip_categories})},"выкл",2)])]),createVNode(_sfc_main$16,{selected:t.mappedProducts,onSelect:t.selectProduct},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("nav",_hoisted_36$l,[createBaseVNode("button",_hoisted_37$l,[t.collectionForm.id?(openBlock(),createElementBlock("span",_hoisted_38$l,"Обновить подборку")):(openBlock(),createElementBlock("span",_hoisted_39$l,"Добавить подборку"))])])],32)}}}),CollectionForm=_export_sfc(_sfc_main$15,[["__scopeId","data-v-5c95131a"]]),_hoisted_1$14={class:"form-floating"},_hoisted_2$12=createBaseVNode("label",{for:"floatingInput"},"Поиск подборок",-1),_hoisted_3$12=createBaseVNode("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_4$_={class:"form-floating my-2"},_hoisted_5$_=createBaseVNode("option",{value:"id"},"По id",-1),_hoisted_6$Z=createBaseVNode("option",{value:"title"},"По названию",-1),_hoisted_7$Y=createStaticVNode('<option value="order_position">По позиции выдачи</option><option value="is_active">По статусу</option><option value="is_public">По публичности</option><option value="discount">По величине скидки</option><option value="updated_at">По дате добавления</option>',5),_hoisted_12$N=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_13$I={key:0},_hoisted_14$I=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_15$I=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_16$H={key:0},_hoisted_17$E={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},_hoisted_18$B={class:"col"},_hoisted_19$z={class:"list-group"},_hoisted_20$y={class:"list-group-item"},_hoisted_21$x={class:"d-flex justify-content-between"},_hoisted_22$x={class:"mb-0"},_hoisted_23$x={class:"badge bg-primary mr-2"},_hoisted_24$u=["onClick"],_hoisted_25$s={class:"fw-bold"},_hoisted_26$q={class:"dropdown"},_hoisted_27$p=createBaseVNode("button",{class:"btn btn-outline-light",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_28$o={class:"dropdown-menu"},_hoisted_29$n=["onClick"],_hoisted_30$n=createBaseVNode("i",{class:"fa-solid fa-eye"},null,-1),_hoisted_31$n=["onClick"],_hoisted_32$n=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_33$m=["onClick"],_hoisted_34$l=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_35$l={key:2,class:"alert alert-light"},_hoisted_36$k={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_37$k={class:"modal fade",id:"collection-items-show",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_38$k={class:"modal-dialog modal-fullscreen"},_hoisted_39$k={class:"modal-content"},_hoisted_40$j=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Демонстрация"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_41$j={class:"modal-body pb-5 mb-5"},_hoisted_42$j={class:"modal fade",id:"collection-item-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_43$j={class:"modal-dialog modal-fullscreen"},_hoisted_44$j={class:"modal-content"},_hoisted_45$j=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_46$j={class:"modal-body"},_hoisted_47$i={class:"modal fade",id:"remove-collection-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_48$i={class:"modal-dialog"},_hoisted_49$h={class:"modal-content"},_hoisted_50$h=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление категории"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_51$g={key:0,class:"modal-body"},_hoisted_52$g={class:"text-primary fw-bold"},_hoisted_53$f={key:1,class:"modal-footer"},_hoisted_54$f=createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть ",-1),__default__$G={data(){return{search:null,collections:[],paginate:null,loaded:!0,selected:null,sort:{param:"id",direction:"asc"}}},computed:{...mapGetters(["getCollections","getCollectionsPaginateObject"]),bot(){return window.currentBot},filteredProductCollections(){return this.search?this.collections.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.collections.filter(o=>!o.is_deleted)}},mounted(){this.loadProductCollections()},methods:{openModalDemo(o){this.loaded=!1,this.selected=o,new bootstrap.Modal("#collection-items-show",{}).show(),this.$nextTick(()=>{this.loaded=!0})},openRemoveModal(o){this.loaded=!1,this.selected=o,new bootstrap.Modal("#remove-collection-modal",{}).show(),this.$nextTick(()=>{this.loaded=!0})},openModalEditor(o){this.loaded=!1,this.selected=o,new bootstrap.Modal("#collection-item-form",{}).show(),this.$nextTick(()=>{this.loaded=!0})},changeDirection(o){this.sort.direction=o,this.loadProductCollections(0)},updateCollection(o){this.$store.dispatch("storeCollection",{collectionForm:o,bot_id:this.bot.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Данные сохранены!",type:"success"})}).catch(t=>{this.$notify({title:"Конструктор ботов",text:"Ошибка сохранения данных!",type:"error"})})},selectProductCollection(o){this.loaded=!1,this.selected=o,this.$nextTick(()=>{this.loaded=!0})},nextProductCollections(o){this.loadProductCollections(o)},removeProductCollection(o){o.is_deleted=!0,this.$store.dispatch("removeProductCollection",{collectionId:o.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"}),this.loadProductCollections(),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(a=>a.click())}).catch(t=>{this.loadProductCollections(),this.$notify({title:"Конструктор ботов",text:"Ошибка удаления категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(a=>a.click())})},loadProductCollections(o=0){return this.$store.dispatch("loadCollections",{dataObject:{search:this.search,order_by:this.sort.param,direction:this.sort.direction},page:o,size:10}).then(()=>{this.collections=this.getCollections,this.paginate=this.getCollectionsPaginateObject})}}},_sfc_main$14=Object.assign(__default__$G,{__name:"CollectionList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{class:"input-group mb-2",onSubmit:a[1]||(a[1]=withModifiers(i=>t.loadProductCollections(0),["prevent"]))},[createBaseVNode("div",_hoisted_1$14,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.search]]),_hoisted_2$12]),_hoisted_3$12],32),createBaseVNode("div",_hoisted_4$_,[withDirectives(createBaseVNode("select",{onClick:a[2]||(a[2]=i=>t.loadProductCollections(0)),"onUpdate:modelValue":a[3]||(a[3]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_5$_,_hoisted_6$Z,createTextVNode(" > "),_hoisted_7$Y],512),[[vModelSelect,t.sort.param]]),_hoisted_12$N]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_13$I,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[4]||(a[4]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_14$I])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[5]||(a[5]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_15$I])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("p",null,[createTextVNode("Всего подборок: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_16$H,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),t.filteredProductCollections.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_17$E,[createBaseVNode("div",_hoisted_18$B,[createBaseVNode("ul",_hoisted_19$z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProductCollections,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_20$y,[createBaseVNode("div",_hoisted_21$x,[createBaseVNode("p",_hoisted_22$x,[createBaseVNode("span",_hoisted_23$x," #"+toDisplayString(i.id),1),createBaseVNode("span",{onClick:r=>t.openModalEditor(i),class:"fw-bold"},toDisplayString(i.title),9,_hoisted_24$u),createBaseVNode("small",_hoisted_25$s," ("+toDisplayString((i.products||[]).length)+" товаров)",1)]),createBaseVNode("div",_hoisted_26$q,[_hoisted_27$p,createBaseVNode("ul",_hoisted_28$o,[createBaseVNode("li",null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.openModalDemo(i),class:"dropdown-item"},[_hoisted_30$n,createTextVNode(" Демо")],8,_hoisted_29$n)]),createBaseVNode("li",null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.openModalEditor(i),class:"dropdown-item"},[_hoisted_32$n,createTextVNode(" Редактировать")],8,_hoisted_31$n)]),createBaseVNode("li",null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.openRemoveModal(i),class:"dropdown-item"},[_hoisted_34$l,createTextVNode(" Удалить")],8,_hoisted_33$m)])])])])]))),256))])])]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextProductCollections,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("p",_hoisted_35$l," К сожалению, вы еще не добавили ни одной коллекции продуктов! ")),createBaseVNode("nav",_hoisted_36$k,[createBaseVNode("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:a[6]||(a[6]=i=>t.openModalEditor(null)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"}," Добавить подборку ")]),createBaseVNode("div",_hoisted_37$k,[createBaseVNode("div",_hoisted_38$k,[createBaseVNode("div",_hoisted_39$k,[_hoisted_40$j,createBaseVNode("div",_hoisted_41$j,[t.selected&&t.loaded?(openBlock(),createBlock(_sfc_main$2u,{key:0,item:t.selected},null,8,["item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_42$j,[createBaseVNode("div",_hoisted_43$j,[createBaseVNode("div",_hoisted_44$j,[_hoisted_45$j,createBaseVNode("div",_hoisted_46$j,[t.loaded?(openBlock(),createBlock(CollectionForm,{key:0,onCallback:a[7]||(a[7]=i=>t.loadProductCollections(0)),item:t.selected},null,8,["item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_47$i,[createBaseVNode("div",_hoisted_48$i,[createBaseVNode("div",_hoisted_49$h,[_hoisted_50$h,t.selected&&t.loaded?(openBlock(),createElementBlock("div",_hoisted_51$g,[createTextVNode(" Вы действительно хотите удалить "),createBaseVNode("strong",_hoisted_52$g,toDisplayString(t.selected.title||"-")+" (#"+toDisplayString(t.selected.id||"-")+")?",1)])):createCommentVNode("",!0),t.selected&&t.loaded?(openBlock(),createElementBlock("div",_hoisted_53$f,[_hoisted_54$f,createBaseVNode("button",{type:"button",onClick:a[8]||(a[8]=i=>t.removeProductCollection(t.selected)),class:"btn btn-primary"},"Да, удалить ")])):createCommentVNode("",!0)])])])],64))}}),Shop_vue_vue_type_style_index_0_lang="",_hoisted_1$13={class:"container py-3"},_hoisted_2$11={class:"row"},_hoisted_3$11={class:"col-12 py-2",style:{position:"sticky",top:"0px","z-index":"1000"}},_hoisted_4$Z={class:"btn-group w-100 px-3 catalog-tabs py-2",style:{"overflow-x":"auto"}},_hoisted_5$Z=createBaseVNode("i",{class:"fa-solid fa-users mr-2"},null,-1),_hoisted_6$Y=createBaseVNode("i",{class:"fa-solid fa-user-secret mr-2"},null,-1),_hoisted_7$X=createBaseVNode("i",{class:"fa-solid fa-box-open mr-2"},null,-1),_hoisted_8$U=createBaseVNode("i",{class:"fa-solid fa-arrows-rotate mr-2"},null,-1),_hoisted_9$S={class:"col-12"},_hoisted_10$P={class:"col-12"},_hoisted_11$N={key:0,class:"col-12"},_hoisted_12$M={class:"col-12"},_hoisted_13$H={class:"form-floating mb-2"},_hoisted_14$H=createBaseVNode("label",{for:"floatingInput"},"Ссылка на страницу ВК с товарами",-1),_hoisted_15$H=["disabled"],_hoisted_16$G=createBaseVNode("i",{class:"fa-regular fa-floppy-disk mr-2"},null,-1),_hoisted_17$D={key:0,class:"btn btn-outline-warning p-3 mb-1 w-100"},_hoisted_18$A=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_19$y=createBaseVNode("span",{class:"spinner-border text-warning ml-2",style:{"border-width":"2px",width:"1rem",height:"1rem"},role:"status"},null,-1),_hoisted_20$x=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_21$w={key:0,class:"col-12"},_hoisted_22$w=createBaseVNode("i",{class:"fa-solid fa-gears mr-2"},null,-1),_hoisted_23$w={key:1,class:"col-12"},_hoisted_24$t=createBaseVNode("i",{class:"fa-solid fa-gears mr-2"},null,-1),_hoisted_25$r={class:"col-12"},_hoisted_26$p=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_27$o=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_28$n={class:"col-12"},_hoisted_29$m={class:"modal fade",id:"update-products-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_30$m={class:"modal-dialog modal-dialog-centered"},_hoisted_31$m={class:"modal-content"},_hoisted_32$m={class:"modal-body"},_hoisted_33$l=createBaseVNode("h6",{class:"text-center my-3"},"Вы действительно хотите обновить товар?",-1),_hoisted_34$k=createBaseVNode("p",{class:"alert alert-warning mb-2"},"При обновлении будут загружены все товары из вк, текущие ваши товары будут удалены и заменены на новые.",-1),_hoisted_35$k={class:"d-flex justify-content-center"},_hoisted_36$j={class:"modal fade",id:"update-products-from-frontpad-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_37$j={class:"modal-dialog modal-dialog-centered"},_hoisted_38$j={class:"modal-content"},_hoisted_39$j={class:"modal-body"},_hoisted_40$i={class:"nav nav-tabs mb-2 d-flex justify-content-center"},_hoisted_41$i={class:"nav-item"},_hoisted_42$i={class:"nav-item"},_hoisted_43$i=createBaseVNode("h6",{class:"text-center my-3"},"Вы действительно хотите обновить товар?",-1),_hoisted_44$i=createBaseVNode("p",{class:"alert alert-warning mb-2"}," Товар с фронтпада можно обвить раз в час!!Будут загружены полностью новые товары из FrontPad ",-1),_hoisted_45$i={class:"d-flex justify-content-center"},_hoisted_46$i={class:"form-floating mb-2"},_hoisted_47$h=createBaseVNode("label",{for:"excelFileInput"},"Файл Excel",-1),_hoisted_48$h=createBaseVNode("button",{class:"btn p-3 w-100 btn-primary"},"Отправить",-1),__default__$F={data(){return{tab:0,load:!1,url:null,link:null,frontpad_tab:0,selectedFile:null,update_products_modal:null,update_products_from_frontpad_modal:null,selectedProduct:null,botForm:{vk_shop_link:null}}},computed:{tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},mounted(){this.updateProducts(),this.botForm.vk_shop_link=window.currentBot.vk_shop_link||null,this.update_products_modal=new bootstrap.Modal(document.getElementById("update-products-modal"),{}),this.update_products_from_frontpad_modal=new bootstrap.Modal(document.getElementById("update-products-from-frontpad-modal"),{}),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{handleFileUpload(o){const t=o.target.files[0];t&&(this.selectedFile=t)},async submitFrontPadFile(){const o=new FormData;o.append("excel_file",this.selectedFile),this.$store.dispatch("updateProductsFromFrontPadExcel",{form:o}).then(t=>{this.$notify({title:"Импорт данных",text:"Успешно!"}),this.frontpad_tab=0,this.hideUpdateFrontPadModal()}).catch(t=>{this.frontpad_tab=0,this.hideUpdateFrontPadModal()})},doUpdateProducts(){this.exportProducts(),this.open(this.link,"_blank")},doUpdateFrontPadProducts(){this.load=!0,this.$store.dispatch("updateProductsFromFrontPad").then(o=>{this.load=!1,this.hideUpdateFrontPadModal()}).catch(()=>{this.load=!1,this.hideUpdateFrontPadModal()})},hideUpdateFrontPadModal(){this.update_products_from_frontpad_modal.hide()},openFrontPadUpdateModal(){this.update_products_from_frontpad_modal.show()},openUpdateModal(){this.update_products_modal.show()},hideUpdateModal(){this.update_products_modal.hide()},goTo(o){this.$router.push({name:o})},updateShopLink(){this.load=!0,this.$store.dispatch("updateShopLink",{botForm:this.botForm}).then(o=>{this.load=!1,this.updateProducts(),this.$notify({title:"Менеджер магазина",text:"Ссылка на источник в ВК обновлена",type:"success"})}).catch(()=>{this.load=!1})},refresh(){this.load=!0,this.selectedProduct=null,this.$nextTick(()=>{this.load=!1})},removeAllProducts(){this.load=!0,this.$store.dispatch("removeAllProducts").then(o=>{this.load=!1,this.$notify({title:"Менеджер магазина",text:"Все продукты удалены",type:"success"})}).catch(()=>{this.load=!1})},selectProduct(o){this.load=!0,this.$nextTick(()=>{this.selectedProduct=o,this.load=!1})},exportOrders(){this.$store.dispatch("exportAllOrders").then(o=>{this.load=!1,this.$notify({title:"Менеджер магазина",text:"Все заказы экспортированы в файл",type:"success"})}).catch(()=>{this.load=!1})},exportProducts(){this.$store.dispatch("exportAllProducts").then(o=>{this.load=!1,this.$notify({title:"Менеджер магазина",text:"Все продукты экспортированы в файл",type:"success"})}).catch(()=>{this.load=!1})},importProducts(){this.$notify({title:"Менеджер магазина",text:"Функция недоступна"})},updateProducts(){this.load=!0,this.$store.dispatch("updateProductsFromVk").then(o=>{this.link=o.data.url||null,this.load=!1,this.url=null}).catch(()=>{this.load=!1})},open(o){this.tg.openLink(o)}}},_sfc_main$13=Object.assign(__default__$F,{__name:"Shop",setup(o){return(t,a)=>{var i,s;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$13,[createBaseVNode("div",_hoisted_2$11,[createBaseVNode("div",_hoisted_3$11,[createBaseVNode("div",_hoisted_4$Z,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===0}]),onClick:a[0]||(a[0]=r=>t.tab=0),style:{"min-width":"200px","line-height":"100%"},"aria-current":"page"},[_hoisted_5$Z,createTextVNode("Товары ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===2}]),onClick:a[1]||(a[1]=r=>t.tab=2),style:{"min-width":"200px","line-height":"100%"}},[_hoisted_6$Y,createTextVNode("Категории ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===3}]),onClick:a[2]||(a[2]=r=>t.tab=3),style:{"min-width":"300px","line-height":"100%"}},[_hoisted_7$X,createTextVNode(" Подборки товара (комбо) ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-info btn p-3",{active:t.tab===4}]),onClick:a[3]||(a[3]=r=>t.tab=4),style:{"min-width":"300px","line-height":"100%"},"aria-current":"page"},[_hoisted_8$U,createTextVNode("Обновление данных ")],2)])]),withDirectives(createBaseVNode("div",_hoisted_9$S,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$19,{key:0,onSelect:t.selectProduct},null,8,["onSelect"]))],512),[[vShow,t.tab===0]]),withDirectives(createBaseVNode("div",_hoisted_10$P,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$14,{key:0}))],512),[[vShow,t.tab===3]]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_11$N,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(ProductForm,{key:0,item:t.selectedProduct,onRefresh:t.refresh},null,8,["item","onRefresh"]))])):createCommentVNode("",!0),t.tab===4?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_12$M,[createBaseVNode("form",{onSubmit:a[5]||(a[5]=withModifiers((...r)=>t.updateShopLink&&t.updateShopLink(...r),["prevent"])),class:"mb-2"},[createBaseVNode("div",_hoisted_13$H,[withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":a[4]||(a[4]=r=>t.botForm.vk_shop_link=r),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,t.botForm.vk_shop_link]]),_hoisted_14$H]),createBaseVNode("button",{disabled:t.load,class:"btn btn-outline-info w-100 p-3"},[_hoisted_16$G,createTextVNode(" Сохранить ")],8,_hoisted_15$H)],32),t.link?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_17$D,[_hoisted_18$A,createTextVNode("Подготовка ссылки "),_hoisted_19$y])),t.link?(openBlock(),createElementBlock("a",{key:1,onClick:a[6]||(a[6]=(...r)=>t.openUpdateModal&&t.openUpdateModal(...r)),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 mb-2"},[_hoisted_20$x,createTextVNode(" Обновить товар из ВК ")])):createCommentVNode("",!0)]),(i=t.currentBot.frontPad)!=null&&i.is_active?(openBlock(),createElementBlock("div",_hoisted_21$w,[createBaseVNode("a",{onClick:a[7]||(a[7]=(...r)=>t.openFrontPadUpdateModal&&t.openFrontPadUpdateModal(...r)),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 mb-2"},[_hoisted_22$w,createTextVNode(" Обновить товар из FrontPad ")])])):createCommentVNode("",!0),(s=t.currentBot.iiko)!=null&&s.is_active?(openBlock(),createElementBlock("div",_hoisted_23$w,[createBaseVNode("a",{onClick:a[8]||(a[8]=r=>t.goTo("IikoV2")),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 mb-2"},[_hoisted_24$t,createTextVNode(" Обновить товар из IIKO ")])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_25$r,[createBaseVNode("button",{disabled:!0,onClick:a[9]||(a[9]=(...r)=>t.exportOrders&&t.exportOrders(...r)),class:"btn btn-success p-3 w-100 mb-2"},[_hoisted_26$p,createTextVNode(" Экспортировать заказы ")]),createBaseVNode("button",{disabled:!0,onClick:a[10]||(a[10]=(...r)=>t.importProducts&&t.importProducts(...r)),class:"btn btn-success p-3 w-100 mb-2"},[_hoisted_27$o,createTextVNode(" Импорт из XLS ")]),createBaseVNode("button",{onClick:a[11]||(a[11]=(...r)=>t.exportProducts&&t.exportProducts(...r)),class:"btn btn-success p-3 w-100 mb-2"}," Экспорт в XLS ")])],64)):createCommentVNode("",!0),withDirectives(createBaseVNode("div",_hoisted_28$n,[createVNode(_sfc_main$17)],512),[[vShow,t.tab===2]])])]),createBaseVNode("div",_hoisted_29$m,[createBaseVNode("div",_hoisted_30$m,[createBaseVNode("div",_hoisted_31$m,[createBaseVNode("div",_hoisted_32$m,[_hoisted_33$l,_hoisted_34$k,createBaseVNode("div",_hoisted_35$k,[createBaseVNode("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2",onClick:a[12]||(a[12]=(...r)=>t.doUpdateProducts&&t.doUpdateProducts(...r))},"Да "),createBaseVNode("button",{type:"button",class:"btn btn-secondary px-3",onClick:a[13]||(a[13]=(...r)=>t.hideUpdateModal&&t.hideUpdateModal(...r))},"Нет")])])])])]),createBaseVNode("div",_hoisted_36$j,[createBaseVNode("div",_hoisted_37$j,[createBaseVNode("div",_hoisted_38$j,[createBaseVNode("div",_hoisted_39$j,[createBaseVNode("ul",_hoisted_40$i,[createBaseVNode("li",_hoisted_41$i,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.frontpad_tab===1}]),onClick:a[14]||(a[14]=r=>t.frontpad_tab=1),"aria-current":"page",href:"javascript:void(0)"},"API",2)]),createBaseVNode("li",_hoisted_42$i,[createBaseVNode("a",{onClick:a[15]||(a[15]=r=>t.frontpad_tab=0),class:normalizeClass([{active:t.frontpad_tab===0},"nav-link"]),href:"javascript:void(0)"},"Эксель",2)])]),t.frontpad_tab===1?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_43$i,_hoisted_44$i,createBaseVNode("div",_hoisted_45$i,[createBaseVNode("button",{type:"button",style:{"margin-right":"10px"},class:"btn btn-primary px-3 mr-2 p-3",onClick:a[16]||(a[16]=(...r)=>t.doUpdateFrontPadProducts&&t.doUpdateFrontPadProducts(...r))},"Да "),createBaseVNode("button",{type:"button",class:"btn btn-secondary px-3",onClick:a[17]||(a[17]=(...r)=>t.hideUpdateFrontPadModal&&t.hideUpdateFrontPadModal(...r))},"Нет ")])],64)):createCommentVNode("",!0),t.frontpad_tab===0?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[19]||(a[19]=withModifiers((...r)=>t.submitFrontPadFile&&t.submitFrontPadFile(...r),["prevent"]))},[createBaseVNode("div",_hoisted_46$i,[createBaseVNode("input",{type:"file",class:"form-control",id:"excelFileInput",accept:".xlsx,.xls",onChange:a[18]||(a[18]=(...r)=>t.handleFileUpload&&t.handleFileUpload(...r))},null,32),_hoisted_47$h]),_hoisted_48$h],32)):createCommentVNode("",!0)])])])])],64)}}}),Shop=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$13},Symbol.toStringTag,{value:"Module"})),_hoisted_1$12={class:"container"},__default__$E={data(){},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})}},_sfc_main$12=Object.assign(__default__$E,{__name:"Orders",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$12,[createVNode(_sfc_main$1o)]))}}),Orders=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$12},Symbol.toStringTag,{value:"Module"})),_sfc_main$11={components:{Chart:script$c,Grid:script$5,Line:script$9,Bar:script$8,Tooltip:script$4,Responsive:script$6,Pie:script$7},props:["date"],data(){return{traffics:[],tooltipConfig:{source:{label:"Источник",color:"#5d1010"},count:{label:"Кол-во",color:"#5d1010"}},margin:{left:0,top:20,right:0,bottom:0},axis:{primary:{type:"band"},secondary:{domain:["dataMin","dataMax + 100"],type:"linear",ticks:11}},need_chart:!1,sort:{is_individual:!1,key:"created_at",direction:"asc"}}},watch:{sort:{handler:function(o){this.prepareStatistic()},deep:!0}},mounted(){this.prepareStatistic()},methods:{changeSort(o){this.sort.key=o,this.sort.direction=this.sort.direction==="asc"?"desc":"asc"},prepareStatistic(){return this.loadedChart=!1,this.$store.dispatch("trafficLoad",{date:this.date,need_all:!this.need_date_range,sort:this.sort}).then(o=>{this.traffics=o.traffics})}}},_hoisted_1$11={class:"form-check form-switch mb-2"},_hoisted_2$10=createBaseVNode("label",{class:"form-check-label",for:"need-individual"},"Индивидуальные переходы",-1),_hoisted_3$10={class:"form-check form-switch mb-2"},_hoisted_4$Y=createBaseVNode("label",{class:"form-check-label",for:"need-chart-display"},"Отображать диаграмму",-1),_hoisted_5$Y={class:"table"},_hoisted_6$X={scope:"col"},_hoisted_7$W={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_8$T={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_9$R={scope:"col"},_hoisted_10$O={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_11$M={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_12$L={scope:"col"},_hoisted_13$G={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_14$G={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_15$G={scope:"row"},_hoisted_16$F={key:0,class:"d-flex justify-content-center mb-3"},_hoisted_17$C={key:1,class:"text-danger my-3 text-center"};function _sfc_render$p(o,t,a,i,s,r){const n=resolveComponent("Pie"),l=resolveComponent("Tooltip"),c=resolveComponent("Chart");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$11,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=m=>s.sort.is_individual=m),type:"checkbox",role:"switch",id:"need-individual"},null,512),[[vModelCheckbox,s.sort.is_individual]]),_hoisted_2$10]),createBaseVNode("div",_hoisted_3$10,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=m=>s.need_chart=m),type:"checkbox",role:"switch",id:"need-chart-display"},null,512),[[vModelCheckbox,s.need_chart]]),_hoisted_4$Y]),(s.traffics||[]).length>0?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("table",_hoisted_5$Y,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",_hoisted_6$X,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[2]||(t[2]=m=>r.changeSort("id"))},[s.sort.key==="id"?(openBlock(),createElementBlock(Fragment,{key:0},[s.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_7$W)):(openBlock(),createElementBlock("i",_hoisted_8$T))],64)):createCommentVNode("",!0),createTextVNode(" # ")])]),createBaseVNode("th",_hoisted_9$R,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[3]||(t[3]=m=>r.changeSort("source"))},[s.sort.key==="source"?(openBlock(),createElementBlock(Fragment,{key:0},[s.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_10$O)):(openBlock(),createElementBlock("i",_hoisted_11$M))],64)):createCommentVNode("",!0),createTextVNode(" Источник ")])]),createBaseVNode("th",_hoisted_12$L,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[4]||(t[4]=m=>r.changeSort("count"))},[s.sort.key==="count"?(openBlock(),createElementBlock(Fragment,{key:0},[s.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_13$G)):(openBlock(),createElementBlock("i",_hoisted_14$G))],64)):createCommentVNode("",!0),createTextVNode(" Число переходов ")])])])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.traffics,m=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("th",_hoisted_15$G,toDisplayString(m.id),1),createBaseVNode("td",null,toDisplayString(m.source),1),createBaseVNode("td",null,toDisplayString(m.count),1)]))),256))])]),s.need_chart?(openBlock(),createElementBlock("div",_hoisted_16$F,[createVNode(c,{direction:"circular",size:{width:400,height:400},data:s.traffics,margin:s.margin,axis:s.axis,config:{controlHover:!1}},{layers:withCtx(()=>[createVNode(n,{dataKeys:["source","count"],"pie-style":{innerRadius:10,padAngle:.05}},null,8,["pie-style"])]),widgets:withCtx(()=>[createVNode(l,{config:s.tooltipConfig,hideLine:""},null,8,["config"])]),_:1},8,["data","margin","axis"])])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("p",_hoisted_17$C,"Нет данных по переходам:("))],64)}const TrafficStatistic=_export_sfc(_sfc_main$11,[["render",_sfc_render$p]]),Statistic_vue_vue_type_style_index_0_lang="",_hoisted_1$10={class:"container"},_hoisted_2$$={class:"row my-3",style:{position:"sticky",top:"10px","z-index":"100"}},_hoisted_3$$={key:0,class:"col-md-4"},_hoisted_4$X={class:"row"},_hoisted_5$X={class:"col-12"},_hoisted_6$W={class:"form-check form-switch"},_hoisted_7$V=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckDefault"}," Использовать временной период ",-1),_hoisted_8$S={class:"row"},_hoisted_9$Q={class:"col-12"},_hoisted_10$N=createBaseVNode("h6",{class:"my-3 fw-bold"},"Основная статистика",-1),_hoisted_11$L=createBaseVNode("p",{class:"fst-italic"}," Сводка всех показателей эффективности работы системы ",-1),_hoisted_12$K={key:0,class:"table"},_hoisted_13$F=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-light"},[createBaseVNode("th",{scope:"col",style:{width:"200px"}},"Ключ"),createBaseVNode("th",{scope:"col"},"Значение")])],-1),_hoisted_14$F=createBaseVNode("th",{scope:"row"},"Всего пользователей в БД",-1),_hoisted_15$F={class:"font-weight-bold"},_hoisted_16$E=createBaseVNode("th",{scope:"row"},"Всего VIP",-1),_hoisted_17$B={class:"font-weight-bold"},_hoisted_18$z=createBaseVNode("th",{scope:"row"},"Администраторы в БД",-1),_hoisted_19$x={class:"font-weight-bold"},_hoisted_20$w=createBaseVNode("th",{scope:"row"},"Администраторы за работой",-1),_hoisted_21$v={class:"font-weight-bold"},_hoisted_22$v=createBaseVNode("th",{scope:"row"},"Всего кэшбэка на счету у пользователей, руб",-1),_hoisted_23$v={class:"font-weight-bold"},_hoisted_24$s={key:0},_hoisted_25$q=createBaseVNode("th",{scope:"row"},"Всего кэшбэка начислено пользователям, руб",-1),_hoisted_26$o={class:"font-weight-bold"},_hoisted_27$n={key:0},_hoisted_28$m=createBaseVNode("th",{scope:"row"},"Всего кэшбэка списано у пользователей, руб",-1),_hoisted_29$l={class:"font-weight-bold"},_hoisted_30$l={key:0},_hoisted_31$l=createBaseVNode("th",{scope:"row"},"Всего начислено кэшбэка первого уровня, руб",-1),_hoisted_32$l={class:"font-weight-bold"},_hoisted_33$k={key:0},_hoisted_34$j=createBaseVNode("th",{scope:"row"},"Всего начислено кэшбэка второго уровня, руб",-1),_hoisted_35$j={class:"font-weight-bold"},_hoisted_36$i={key:0},_hoisted_37$i=createBaseVNode("th",{scope:"row"},"Всего начислено кэшбэка третьего уровня, руб",-1),_hoisted_38$i={class:"font-weight-bold"},_hoisted_39$i={key:0},_hoisted_40$h=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_41$h={class:"col-12"},_hoisted_42$h={class:"form-check form-switch my-3"},_hoisted_43$h=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Отобразить графики",-1),_hoisted_44$h={class:"row my-3 sticky-charts"},_hoisted_45$h={class:"col-12"},_hoisted_46$h={class:"nav nav-tabs"},_hoisted_47$g={class:"nav-item"},_hoisted_48$g={class:"nav-item"},_hoisted_49$g={class:"nav-item"},_hoisted_50$g={class:"nav-item"},_hoisted_51$f={key:0,class:"col-12"},_hoisted_52$f={key:0,class:"d-flex justify-content-center mb-3"},_hoisted_53$e={key:1,class:"text-danger my-2"},_hoisted_54$e={key:1,class:"w-100 overflow-x-scroll"},_hoisted_55$c={class:"table"},_hoisted_56$c=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"#"),createBaseVNode("th",{scope:"col"},"Год"),createBaseVNode("th",{scope:"col"},"Месяц"),createBaseVNode("th",{scope:"col"},"Число пользователей")])],-1),_hoisted_57$b={scope:"row"},_hoisted_58$a={key:1,class:"col-12"},_hoisted_59$a=createBaseVNode("h6",{class:"my-2"},"Начисления",-1),_hoisted_60$9={class:"d-flex justify-content-center mb-3"},_hoisted_61$9={key:1,class:"text-danger my-3"},_hoisted_62$9=createBaseVNode("h6",{class:"my-2"},"Списания",-1),_hoisted_63$9={class:"d-flex justify-content-center mb-3"},_hoisted_64$9={key:1,class:"text-danger my-3"},_hoisted_65$9={key:1,class:"w-100 overflow-x-scroll"},_hoisted_66$9={class:"table"},_hoisted_67$9=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"#"),createBaseVNode("th",{scope:"col"},"Год"),createBaseVNode("th",{scope:"col"},"Месяц"),createBaseVNode("th",{scope:"col"},"Начислено"),createBaseVNode("th",{scope:"col"},"Списано")])],-1),_hoisted_68$9={scope:"row"},_hoisted_69$9={key:2,class:"col-12"},_hoisted_70$9={key:0,class:"d-flex justify-content-center mb-3"},_hoisted_71$9={key:1,class:"text-danger my-3"},_hoisted_72$8={key:1,class:"d-flex"},_hoisted_73$8={class:"w-100 overflow-x-scroll"},_hoisted_74$7={class:"w-100 overflow-x-scroll"},_hoisted_75$7={key:0,class:"table"},_hoisted_76$7=createBaseVNode("th",{scope:"col"},"#",-1),_hoisted_77$7={scope:"col"},_hoisted_78$6={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_79$6={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_80$6={scope:"col"},_hoisted_81$6={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_82$6={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_83$5={scope:"col"},_hoisted_84$4={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_85$4={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_86$4={scope:"col"},_hoisted_87$4={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_88$4={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_89$4={scope:"col"},_hoisted_90$4={key:0,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_91$4={key:1,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_92$4={scope:"row"},_hoisted_93$4={key:1,class:"text-danger my-3"},_hoisted_94$4={key:3,class:"col-12"},_hoisted_95$4={class:"w-100 overflow-x-scroll"},__default__$D={components:{Chart:script$c,Grid:script$5,Line:script$9,Bar:script$8,Tooltip:script$4,Responsive:script$6,Pie:script$7,VueDatePicker:Ka$1},data(){return{sort:{key:"price",direction:"asc"},need_charts:!1,need_date_range:!1,date:null,tab:0,botUser:null,loadedChart:!1,statistic:null,loading:!1,tooltipConfig:{sump:{label:"Сумма продаж",color:"#5d1010"},sum:{label:"Сумма",color:"#5d1010"},count:{label:"Кол-во",color:"#5d1010"},m:{label:"Месяц",color:"#54a375"},y:{label:"Год",color:"#0ea9cb"}},products:[{title:"1",count:1,price:2020},{title:"2",count:2,price:2020},{title:"3",count:3,price:2020},{title:"4",count:4,price:2020},{title:"5",count:5,price:2020}],orders:[{sump:0,m:1,y:2020},{sump:111,m:2,y:2020},{sump:222,m:3,y:2020},{sump:333,m:4,y:2020},{sump:444,m:5,y:2020}],users:[{count:0,m:1,y:2020},{count:111,m:2,y:2020},{count:222,m:3,y:2020},{count:333,m:4,y:2020},{count:444,m:5,y:2020}],cashback_up:[{sum:0,m:1,y:2020},{sum:111,m:2,y:2020},{sum:222,m:3,y:2020},{sum:333,m:4,y:2020},{sum:444,m:5,y:2020}],cashback_down:[{sum:0,m:1,y:2020},{sum:111,m:2,y:2020},{sum:222,m:3,y:2020},{sum:333,m:4,y:2020},{sum:444,m:5,y:2020}],direction:"horizontal",margin:{left:0,top:20,right:20,bottom:0},axis:{primary:{type:"band"},secondary:{domain:["dataMin","dataMax + 100"],type:"linear",ticks:11}}}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},preparedCashback(){if(this.cashback_up.length===0&&this.cashback_down.length===0)return[];let o=[];for(let t=0;t<this.cashback_up.length;t++){let a=null;for(let i=0;i<this.cashback_down.length;i++){let s=this.cashback_down[i],r=this.cashback_up[t];if(r.m===s.m&&r.y===s.y){a=this.cashback_down[i];break}}o.push({y:this.cashback_up[t].y||0,m:this.cashback_up[t].m||0,up:this.cashback_up[t].sum||0,down:a===null?0:a.sum})}return o}},watch:{sort:{handler:function(o){this.prepareStatistic()},deep:!0},need_date_range:function(){this.prepareStatistic()},date:function(){this.prepareStatistic()}},mounted(){const o=new Date,t=new Date(new Date().setDate(o.getDate()+7));this.date=[o,t],this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic()),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(a=>a.click()),this.$router.back()})},methods:{changeSort(o){this.sort.key=o,this.sort.direction=this.sort.direction==="asc"?"desc":"asc"},prepareStatistic(){return this.loadedChart=!1,this.$store.dispatch("statisticLoad",{date:this.date,need_all:!this.need_date_range,sort:this.sort}).then(o=>{this.statistic=o.statistic,this.orders=this.statistic.orders.sum,this.products=this.statistic.orders.products,this.users=this.statistic.users.sum,this.cashback_up=this.statistic.cashback_up.sum,this.cashback_down=this.statistic.cashback_down.sum,this.loadedChart=!0})},downloadBotStatistic(){this.$notify({title:"Внимание!",text:"Начался формироваться документ статистики!"}),this.$store.dispatch("downloadBotStatistic").then(o=>{this.$notify({title:"Отлично!",text:"Документ успешно сформирован",type:"success"})}).catch(()=>{this.$notify({title:"Упс!",text:"Что-то пошло не так...",type:"error"})})}}},_sfc_main$10=Object.assign(__default__$D,{__name:"Statistic",setup(o){return(t,a)=>{const i=resolveComponent("Marker");return openBlock(),createElementBlock("div",_hoisted_1$10,[createBaseVNode("div",_hoisted_2$$,[t.need_date_range?(openBlock(),createElementBlock("div",_hoisted_3$$,[createVNode(unref(Ka$1),{modelValue:t.date,"onUpdate:modelValue":a[0]||(a[0]=s=>t.date=s),locale:"ru",range:""},null,8,["modelValue"])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$X,[createBaseVNode("div",_hoisted_5$X,[createBaseVNode("div",_hoisted_6$W,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[1]||(a[1]=s=>t.need_date_range=s),type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[vModelCheckbox,t.need_date_range]]),_hoisted_7$V])])]),createBaseVNode("div",_hoisted_8$S,[createBaseVNode("div",_hoisted_9$Q,[_hoisted_10$N,_hoisted_11$L,t.statistic?(openBlock(),createElementBlock("table",_hoisted_12$K,[_hoisted_13$F,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_14$F,createBaseVNode("td",_hoisted_15$F,toDisplayString(t.statistic.users_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_16$E,createBaseVNode("td",_hoisted_17$B,toDisplayString(t.statistic.vip_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_18$z,createBaseVNode("td",_hoisted_19$x,toDisplayString(t.statistic.admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_20$w,createBaseVNode("td",_hoisted_21$v,toDisplayString(t.statistic.work_admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_22$v,createBaseVNode("td",_hoisted_23$v,[createTextVNode(toDisplayString((t.statistic.summary_cashback||0).toFixed(2))+" ",1),t.statistic.summary_cashback_people_count?(openBlock(),createElementBlock("strong",_hoisted_24$s,"("+toDisplayString(t.statistic.summary_cashback_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_25$q,createBaseVNode("td",_hoisted_26$o,[createTextVNode(toDisplayString((t.statistic.cashback_summary_up||0).toFixed(2))+" ",1),t.statistic.cashback_summary_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_27$n,"("+toDisplayString(t.statistic.cashback_summary_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_28$m,createBaseVNode("td",_hoisted_29$l,[createTextVNode(toDisplayString((t.statistic.cashback_summary_down||0).toFixed(2))+" ",1),t.statistic.cashback_summary_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_30$l,"("+toDisplayString(t.statistic.cashback_summary_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_31$l,createBaseVNode("td",_hoisted_32$l,[createTextVNode(toDisplayString((t.statistic.cashback_up_level_1||0).toFixed(2))+" ",1),t.statistic.cashback_up_level_1_people_count?(openBlock(),createElementBlock("strong",_hoisted_33$k,"("+toDisplayString(t.statistic.cashback_up_level_1_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_34$j,createBaseVNode("td",_hoisted_35$j,[createTextVNode(toDisplayString((t.statistic.cashback_up_level_2||0).toFixed(2))+" ",1),t.statistic.cashback_up_level_2_people_count?(openBlock(),createElementBlock("strong",_hoisted_36$i,"("+toDisplayString(t.statistic.cashback_up_level_2_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_37$i,createBaseVNode("td",_hoisted_38$i,[createTextVNode(toDisplayString((t.statistic.cashback_up_level_3||0).toFixed(2))+" ",1),t.statistic.cashback_up_level_3_people_count?(openBlock(),createElementBlock("strong",_hoisted_39$i,"("+toDisplayString(t.statistic.cashback_up_level_3_people_count)+" чел)",1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[2]||(a[2]=(...s)=>t.downloadBotStatistic&&t.downloadBotStatistic(...s)),class:"btn w-100 btn-outline-info p-3"},[_hoisted_40$h,createTextVNode(" Скачать статистику ")])]),createBaseVNode("div",_hoisted_41$h,[createBaseVNode("div",_hoisted_42$h,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[3]||(a[3]=s=>t.need_charts=s),type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[vModelCheckbox,t.need_charts]]),_hoisted_43$h]),createBaseVNode("div",_hoisted_44$h,[createBaseVNode("div",_hoisted_45$h,[createBaseVNode("ul",_hoisted_46$h,[createBaseVNode("li",_hoisted_47$g,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[4]||(a[4]=s=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Пользователи",2)]),createBaseVNode("li",_hoisted_48$g,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[5]||(a[5]=s=>t.tab=1),"aria-current":"page",href:"javascript:void(0)"},"Бонусы",2)]),createBaseVNode("li",_hoisted_49$g,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===2}]),onClick:a[6]||(a[6]=s=>t.tab=2),"aria-current":"page",href:"javascript:void(0)"},"Продажи",2)]),createBaseVNode("li",_hoisted_50$g,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===3}]),onClick:a[7]||(a[7]=s=>t.tab=3),"aria-current":"page",href:"javascript:void(0)"},"Переходы",2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_51$f,[t.need_charts?(openBlock(),createElementBlock("div",_hoisted_52$f,[t.loadedChart&&(t.users||[]).length>0?(openBlock(),createBlock(unref(script$c),{key:0,size:{width:300,height:320},data:t.users,margin:t.margin,direction:t.direction,axis:t.axis},{layers:withCtx(()=>[createVNode(unref(script$5),{strokeDasharray:"2,2"}),createVNode(unref(script$8),{dataKeys:["m","count"],barStyle:{fill:"#ffe775"}}),createVNode(i,{value:1e3,label:"Avg.",color:"#e76f51",strokeWidth:"2",strokeDasharray:"6 6"})]),widgets:withCtx(()=>[createVNode(unref(script$4),{borderColor:"#48CAE4",config:t.tooltipConfig},null,8,["config"])]),_:1},8,["data","margin","direction","axis"])):(openBlock(),createElementBlock("p",_hoisted_53$e,"Статистика еще не загружена или её нет"))])):createCommentVNode("",!0),(t.users||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_54$e,[createBaseVNode("table",_hoisted_55$c,[_hoisted_56$c,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.users,(s,r)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("th",_hoisted_57$b,toDisplayString(r+1),1),createBaseVNode("td",null,toDisplayString(s.y),1),createBaseVNode("td",null,toDisplayString(s.m),1),createBaseVNode("td",null,toDisplayString(s.count),1)]))),256))])])])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_58$a,[t.need_charts?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_59$a,createBaseVNode("div",_hoisted_60$9,[t.loadedChart&&(t.cashback_up||[]).length>0?(openBlock(),createBlock(unref(script$c),{key:0,size:{width:300,height:320},data:t.cashback_up,margin:t.margin,direction:t.direction,axis:t.axis},{layers:withCtx(()=>[createVNode(unref(script$5),{strokeDasharray:"2,2"}),createVNode(unref(script$8),{dataKeys:["m","sum"],barStyle:{fill:"#ffe775"}}),createVNode(i,{value:1e3,label:"Avg.",color:"#e76f51",strokeWidth:"2",strokeDasharray:"6 6"})]),widgets:withCtx(()=>[createVNode(unref(script$4),{borderColor:"#48CAE4",config:t.tooltipConfig},null,8,["config"])]),_:1},8,["data","margin","direction","axis"])):(openBlock(),createElementBlock("p",_hoisted_61$9,"Статистика еще не загружена или её нет"))]),_hoisted_62$9,createBaseVNode("div",_hoisted_63$9,[t.loadedChart&&(t.cashback_down||[]).length>0?(openBlock(),createBlock(unref(script$c),{key:0,size:{width:300,height:320},data:t.cashback_down,margin:t.margin,direction:t.direction,axis:t.axis},{layers:withCtx(()=>[createVNode(unref(script$5),{strokeDasharray:"2,2"}),createVNode(unref(script$8),{dataKeys:["m","sum"],barStyle:{fill:"#ffe775"}}),createVNode(i,{value:1e3,label:"Avg.",color:"#e76f51",strokeWidth:"2",strokeDasharray:"6 6"})]),widgets:withCtx(()=>[createVNode(unref(script$4),{borderColor:"#48CAE4",config:t.tooltipConfig},null,8,["config"])]),_:1},8,["data","margin","direction","axis"])):(openBlock(),createElementBlock("p",_hoisted_64$9,"Статистика еще не загружена или её нет"))])],64)):createCommentVNode("",!0),(t.preparedCashback||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_65$9,[createBaseVNode("table",_hoisted_66$9,[_hoisted_67$9,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.preparedCashback,(s,r)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("th",_hoisted_68$9,toDisplayString(r+1),1),createBaseVNode("td",null,toDisplayString(s.y),1),createBaseVNode("td",null,toDisplayString(s.m),1),createBaseVNode("td",null,toDisplayString(s.up),1),createBaseVNode("td",null,toDisplayString(s.down),1)]))),256))])])])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===2?(openBlock(),createElementBlock("div",_hoisted_69$9,[t.need_charts?(openBlock(),createElementBlock("div",_hoisted_70$9,[t.loadedChart&&(t.orders||[]).length>0?(openBlock(),createBlock(unref(script$c),{key:0,size:{width:300,height:320},data:t.orders,margin:t.margin,direction:t.direction,axis:t.axis},{layers:withCtx(()=>[createVNode(unref(script$5),{strokeDasharray:"2,2"}),createVNode(unref(script$8),{dataKeys:["m","sump"],barStyle:{fill:"#ffe775"}}),createVNode(i,{value:1e3,label:"Avg.",color:"#e76f51",strokeWidth:"2",strokeDasharray:"6 6"})]),widgets:withCtx(()=>[createVNode(unref(script$4),{borderColor:"#48CAE4",config:t.tooltipConfig},null,8,["config"])]),_:1},8,["data","margin","direction","axis"])):(openBlock(),createElementBlock("p",_hoisted_71$9,"Статистика еще не загружена или её нет"))])):createCommentVNode("",!0),t.need_charts?(openBlock(),createElementBlock("div",_hoisted_72$8,[createBaseVNode("div",_hoisted_73$8,[createVNode(unref(script$c),{direction:"circular",size:{width:600,height:400},data:t.products,margin:{left:0,top:50,right:0,bottom:0},axis:t.axis,config:{controlHover:!1}},{layers:withCtx(()=>[createVNode(unref(script$7),{dataKeys:["title","count","price"],"pie-style":{innerRadius:10,padAngle:.05}},null,8,["pie-style"])]),widgets:withCtx(()=>[createVNode(unref(script$4),{config:{title:{label:"Название"},price:{label:"Выручено средств"},count:{label:"Кол-во"},volume_count_ratio:{hide:!0},volume_price_ratio:{hide:!0}},hideLine:""})]),_:1},8,["data","axis"])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_74$7,[(t.products||[]).length>0?(openBlock(),createElementBlock("table",_hoisted_75$7,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[_hoisted_76$7,createBaseVNode("th",_hoisted_77$7,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[8]||(a[8]=s=>t.changeSort("title"))},[t.sort.key==="title"?(openBlock(),createElementBlock(Fragment,{key:0},[t.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_78$6)):(openBlock(),createElementBlock("i",_hoisted_79$6))],64)):createCommentVNode("",!0),createTextVNode(" Название ")])]),createBaseVNode("th",_hoisted_80$6,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[9]||(a[9]=s=>t.changeSort("price"))},[t.sort.key==="price"?(openBlock(),createElementBlock(Fragment,{key:0},[t.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_81$6)):(openBlock(),createElementBlock("i",_hoisted_82$6))],64)):createCommentVNode("",!0),createTextVNode(" Объем продаж ")])]),createBaseVNode("th",_hoisted_83$5,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[10]||(a[10]=s=>t.changeSort("count"))},[t.sort.key==="count"?(openBlock(),createElementBlock(Fragment,{key:0},[t.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_84$4)):(openBlock(),createElementBlock("i",_hoisted_85$4))],64)):createCommentVNode("",!0),createTextVNode(" Продано ед. ")])]),createBaseVNode("th",_hoisted_86$4,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[11]||(a[11]=s=>t.changeSort("volume_count_ratio"))},[t.sort.key==="volume_count_ratio"?(openBlock(),createElementBlock(Fragment,{key:0},[t.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_87$4)):(openBlock(),createElementBlock("i",_hoisted_88$4))],64)):createCommentVNode("",!0),createTextVNode(" % от объема ")])]),createBaseVNode("th",_hoisted_89$4,[createBaseVNode("a",{href:"javascript:void(0)",onClick:a[12]||(a[12]=s=>t.changeSort("volume_price_ratio"))},[t.sort.key==="volume_price_ratio"?(openBlock(),createElementBlock(Fragment,{key:0},[t.sort.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_90$4)):(openBlock(),createElementBlock("i",_hoisted_91$4))],64)):createCommentVNode("",!0),createTextVNode(" % от числа ")])])])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.products,(s,r)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("th",_hoisted_92$4,toDisplayString(r+1),1),createBaseVNode("td",null,toDisplayString(s.title),1),createBaseVNode("td",null,toDisplayString(s.price),1),createBaseVNode("td",null,toDisplayString(s.count),1),createBaseVNode("td",null,toDisplayString(s.volume_count_ratio),1),createBaseVNode("td",null,toDisplayString(s.volume_price_ratio),1)]))),256))])])):(openBlock(),createElementBlock("p",_hoisted_93$4,"Нет данных по продажам за выбранный период:("))])])):createCommentVNode("",!0),t.tab===3?(openBlock(),createElementBlock("div",_hoisted_94$4,[createBaseVNode("div",_hoisted_95$4,[createVNode(TrafficStatistic,{date:t.date},null,8,["date"])])])):createCommentVNode("",!0)])])])])}}}),Statistic=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$10},Symbol.toStringTag,{value:"Module"})),_hoisted_1$$={class:"form-floating mb-2"},_hoisted_2$_=createBaseVNode("label",{for:"floatingInput"},"Текст промокода",-1),_hoisted_3$_={class:"form-floating mb-2"},_hoisted_4$W=createBaseVNode("label",{for:"floatingTextarea"}," Назначение промокода",-1),_hoisted_5$W={class:"form-check form-switch mb-2"},_hoisted_6$V=createBaseVNode("label",{class:"form-check-label",for:"is_active"},"Доступен для активации",-1),_hoisted_7$U={class:"form-floating mb-2"},_hoisted_8$R=createBaseVNode("label",{for:"floatingInput"}," Максимальное число активаций кода",-1),_hoisted_9$P={class:"alert alert-light mb-2"},_hoisted_10$M={class:"form-check form-switch mb-2"},_hoisted_11$K=createBaseVNode("label",{class:"form-check-label",for:"discount_in_percent"},"Скидка в процентах",-1),_hoisted_12$J={key:0,class:"form-floating mb-2"},_hoisted_13$E=createBaseVNode("label",{for:"floatingInput"}," Величина скидки \\ баллов, руб",-1),_hoisted_14$E={key:1,class:"form-floating mb-2"},_hoisted_15$E=createBaseVNode("label",{for:"floatingInput"}," Величина скидки \\ баллов, %",-1),_hoisted_16$D={class:"form-floating mb-2"},_hoisted_17$A=createBaseVNode("label",{for:"floatingInput"}," Сумма активации от... руб",-1),_hoisted_18$y={class:"form-floating mb-2"},_hoisted_19$w=createBaseVNode("label",{for:"floatingInput"},"Доступен до...",-1),_hoisted_20$v={class:"form-check form-switch mb-2"},_hoisted_21$u=createBaseVNode("label",{class:"form-check-label",for:"is_active"},"Сгенерировать красивый сертификат",-1),_hoisted_22$u={type:"submit",class:"btn btn-primary w-100 p-3"},_hoisted_23$u={key:0},_hoisted_24$r={key:1},__default__$C={props:["code"],data(){return{step:0,load:!1,need_reset:!1,promoCodeForm:{id:null,code:null,description:null,cashback_amount:0,max_activation_count:1,is_active:!0,available_to:null,activate_price:0,need_certificate:!0,config:{discount_in_percent:!1}}}},computed:{...mapGetters(["getSelf"]),bot(){return window.currentBot}},watch:{promoCodeForm:{handler(o){this.need_reset=!0},deep:!0},"promoCodeForm.config.discount_in_percent":{handler(o){this.promoCodeForm.config.discount_in_percent&&this.promoCodeForm.cashback_amount>100&&(this.promoCodeForm.cashback_amount=50)},deep:!0}},mounted(){this.code&&this.$nextTick(()=>{this.promoCodeForm={id:this.code.id||null,description:this.code.description||null,code:this.code.code||null,cashback_amount:this.code.cashback_amount||0,max_activation_count:this.code.max_activation_count||1,is_active:this.code.is_active||!1,available_to:this.code.available_to?this.$filters.local(this.code.available_to):null},this.code.config&&(this.promoCodeForm.config={discount_in_percent:this.code.config.discount_in_percent||!1})})},methods:{submitForm(){let o=new FormData;Object.keys(this.promoCodeForm).forEach(t=>{const a=this.promoCodeForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.append("bot_id",this.bot.id),this.$store.dispatch("storePromoCodes",{promoCodeForm:o}).then(t=>{this.promoCodeForm={id:null,code:null,description:null,cashback_amount:0,max_activation_count:1,is_active:!0,need_certificate:!0,config:{discount_in_percent:!1}},this.$emit("callback",t.data),this.$notify("Промокод успешно создан")}).catch(t=>{this.$notify("Ошибка создания промокода")})}}},_sfc_main$$=Object.assign(__default__$C,{__name:"PromoCodesForm",setup(o){return(t,a)=>(openBlock(),createElementBlock("form",{onSubmit:a[10]||(a[10]=withModifiers((...i)=>t.submitForm&&t.submitForm(...i),["prevent"]))},[createBaseVNode("div",_hoisted_1$$,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.promoCodeForm.code=i),maxlength:"255",class:"form-control",required:"",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.promoCodeForm.code]]),_hoisted_2$_]),createBaseVNode("div",_hoisted_3$_,[withDirectives(createBaseVNode("textarea",{class:"form-control",maxlength:"255","onUpdate:modelValue":a[1]||(a[1]=i=>t.promoCodeForm.description=i),placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,t.promoCodeForm.description]]),_hoisted_4$W]),createBaseVNode("div",_hoisted_5$W,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=i=>t.promoCodeForm.is_active=i),type:"checkbox",role:"switch",id:"is_active"},null,512),[[vModelCheckbox,t.promoCodeForm.is_active]]),_hoisted_6$V]),createBaseVNode("div",_hoisted_7$U,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"1","onUpdate:modelValue":a[3]||(a[3]=i=>t.promoCodeForm.max_activation_count=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.promoCodeForm.max_activation_count]]),_hoisted_8$R]),createBaseVNode("div",_hoisted_9$P,[createTextVNode(" Данный параметр позволяет настроить скидку при покупке товаров в магазине в "),createBaseVNode("span",{class:normalizeClass(["text-primary",{"fw-bold":t.promoCodeForm.config.discount_in_percent}])},"%",2),createTextVNode(" или в "),createBaseVNode("span",{class:normalizeClass(["text-primary",{"fw-bold":!t.promoCodeForm.config.discount_in_percent}])},"рублях",2)]),createBaseVNode("div",_hoisted_10$M,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[4]||(a[4]=i=>t.promoCodeForm.config.discount_in_percent=i),type:"checkbox",role:"switch",id:"discount_in_percent"},null,512),[[vModelCheckbox,t.promoCodeForm.config.discount_in_percent]]),_hoisted_11$K]),t.promoCodeForm.config.discount_in_percent?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$J,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"1","onUpdate:modelValue":a[5]||(a[5]=i=>t.promoCodeForm.cashback_amount=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.promoCodeForm.cashback_amount]]),_hoisted_13$E])),t.promoCodeForm.config.discount_in_percent?(openBlock(),createElementBlock("div",_hoisted_14$E,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"1",max:"100","onUpdate:modelValue":a[6]||(a[6]=i=>t.promoCodeForm.cashback_amount=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.promoCodeForm.cashback_amount]]),_hoisted_15$E])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$D,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"0","onUpdate:modelValue":a[7]||(a[7]=i=>t.promoCodeForm.activate_price=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.promoCodeForm.activate_price]]),_hoisted_17$A]),createBaseVNode("div",_hoisted_18$y,[withDirectives(createBaseVNode("input",{type:"datetime-local","onUpdate:modelValue":a[8]||(a[8]=i=>t.promoCodeForm.available_to=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.promoCodeForm.available_to]]),_hoisted_19$w]),createBaseVNode("div",_hoisted_20$v,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[9]||(a[9]=i=>t.promoCodeForm.need_certificate=i),type:"checkbox",role:"switch",id:"need_certificate"},null,512),[[vModelCheckbox,t.promoCodeForm.need_certificate]]),_hoisted_21$u]),createBaseVNode("button",_hoisted_22$u,[t.promoCodeForm.id==null?(openBlock(),createElementBlock("span",_hoisted_23$u,"Создать промокод")):(openBlock(),createElementBlock("span",_hoisted_24$r,"Обновить промокод"))])],32))}}),_hoisted_1$_={class:"row"},_hoisted_2$Z={class:"col-12"},_hoisted_3$Z={class:"input-group mb-2"},_hoisted_4$V={class:"form-floating"},_hoisted_5$V=createBaseVNode("label",{for:"floatingInput"},"Поиск промокода",-1),_hoisted_6$U={class:"row"},_hoisted_7$T={class:"col-12"},_hoisted_8$Q={class:"form-floating"},_hoisted_9$O=createStaticVNode('<option value="id">По номеру</option><option value="code">Код</option><option value="description">Описание</option><option value="cashback_amount">Сумма скидки</option><option value="is_active">Активные</option><option value="max_activation_count">Максимальное число активаций </option><option value="updated_at">По дате обновления</option>',7),_hoisted_16$C=[_hoisted_9$O],_hoisted_17$z=createBaseVNode("label",{for:"floatingSelect"},"Тип сортировки",-1),_hoisted_18$x={key:0,class:"mb-2"},_hoisted_19$v=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_20$u=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_21$t={key:0,class:"row row-cols-1"},_hoisted_22$t={class:"col mb-2"},_hoisted_23$t={class:"card"},_hoisted_24$q={class:"card-header d-flex justify-content-between align-items-center bg-transparent"},_hoisted_25$p={key:0,class:"fa-solid fa-chevron-down text-success"},_hoisted_26$n={key:1,class:"fa-solid fa-xmark text-danger"},_hoisted_27$m=["onClick"],_hoisted_28$l={class:"card-body"},_hoisted_29$k=["onClick"],_hoisted_30$k={class:"card-text mb-2 fst-italic"},_hoisted_31$k={class:"card-text mb-0 d-flex justify-content-between"},_hoisted_32$k={class:"fw-bold"},_hoisted_33$j={key:0},_hoisted_34$i={key:1},_hoisted_35$i={class:"fw-bold"},_hoisted_36$h={key:1},_hoisted_37$h=createBaseVNode("div",{class:"alert alert-warning alert-dismissible fade show mb-2",role:"alert"},[createBaseVNode("strong",null,"Внимание!"),createTextVNode(" Вы еще не добавили ни одного промокода! "),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})],-1),_hoisted_38$h={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},_hoisted_39$h={class:"d-flex justify-content-center mb-3"},_hoisted_40$g={alt:"",width:"100",height:"100"},_hoisted_41$g=createBaseVNode("h1",{class:"text-body-emphasis"},"Создание промокода",-1),_hoisted_42$g=createBaseVNode("p",{class:"col-lg-8 mx-auto fs-6 text-muted"}," Промокод - это инструмент мотивации пользователей пользоваться вашим сервисом. Он позволяет клиентам получать некоторые бонусы за активацию кода, а вы в свою очередь будете видеть статистику активация прмокода. ",-1),_hoisted_43$g={class:"row"},_hoisted_44$g={class:"col-12"},_hoisted_45$g={class:"modal fade",id:"remove-promo-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_46$g={class:"modal-dialog modal-dialog-centered"},_hoisted_47$f={key:0,class:"modal-content"},_hoisted_48$f={class:"modal-body"},_hoisted_49$f={class:"d-flex justify-content-center w-100 flex-row-reverse"},_hoisted_50$f=createBaseVNode("button",{type:"button",class:"btn btn-secondary ml-2",style:{"margin-left":"10px"},"data-bs-dismiss":"modal"},"Нет, отменить ",-1),__default__$B={data(){return{direction:"desc",order:"updated_at",selected:null,remove_promocode_modal:null,show:!0,loading:!0,codes:[],search:null,paginate_object:null}},computed:{...mapGetters(["getSelf","getPromoCodes","getPromoCodesPaginateObject"]),bot(){return window.currentBot}},mounted(){this.remove_promocode_modal=new bootstrap.Modal(document.getElementById("remove-promo-modal"),{}),this.loadPromoCodes()},methods:{changeDirection(o){this.direction=o,this.loadPromoCodes(0)},prepareForRemove(o){this.selected=null,this.$nextTick(()=>{this.selected=o,this.remove_promocode_modal.show()})},removeCode(){this.selected&&(this.loading=!0,this.$store.dispatch("removePromoCodes",{promoCodeId:this.selected.id}).then(o=>{this.loading=!1,this.loadPromoCodes(0),this.$notify({type:"success",text:"Промокод успешно удален"}),this.remove_promocode_modal.hide()}).catch(()=>{this.loading=!1,this.$notify({type:"error",text:"Ошибка удаления промокода"}),this.remove_promocode_modal.hide()}))},createPromoCode(){this.$emit("create")},nextPromoCodes(o){this.loadPromoCodes(o)},selectEvent(o){this.$emit("select",o)},loadPromoCodes(o=0){this.loading=!0,this.$store.dispatch("loadPromoCodes",{dataObject:{bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.codes=this.getPromoCodes,this.paginate_object=this.getPromoCodesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$_=Object.assign(__default__$B,{__name:"PromoCodesList",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$_,[createBaseVNode("div",_hoisted_2$Z,[createBaseVNode("div",_hoisted_3$Z,[createBaseVNode("div",_hoisted_4$V,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=s=>t.search=s),class:"form-control border-light",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_5$V]),createBaseVNode("button",{class:"btn btn-outline-light text-secondary",onClick:a[1]||(a[1]=s=>t.loadPromoCodes(0)),type:"button",id:"promocode-search-and-filter"},"Найти ")])])]),createBaseVNode("div",_hoisted_6$U,[createBaseVNode("div",_hoisted_7$T,[createBaseVNode("div",_hoisted_8$Q,[t.order?(openBlock(),createElementBlock("select",{key:0,class:"form-select",onChange:a[2]||(a[2]=s=>t.loadPromoCodes(0)),id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_16$C,32)):createCommentVNode("",!0),_hoisted_17$z]),t.order!=null?(openBlock(),createElementBlock("p",_hoisted_18$x,[createTextVNode("Направление сортировки: "),t.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[3]||(a[3]=s=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_19$v])):createCommentVNode("",!0),t.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[4]||(a[4]=s=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_20$u])):createCommentVNode("",!0)])):createCommentVNode("",!0)])]),t.codes.length>0?(openBlock(),createElementBlock("div",_hoisted_21$t,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.codes,(s,r)=>{var n,l;return openBlock(),createElementBlock("div",_hoisted_22$t,[createBaseVNode("div",_hoisted_23$t,[createBaseVNode("div",_hoisted_24$q,[createBaseVNode("span",null,[s.is_active?(openBlock(),createElementBlock("i",_hoisted_25$p)):(openBlock(),createElementBlock("i",_hoisted_26$n)),createTextVNode(" #"+toDisplayString(s.id),1)]),s.deleted_at==null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:c=>t.prepareForRemove(s),style:{"font-size":"12px"},class:"btn btn-link"}," Удалить ",8,_hoisted_27$m)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(s.current_activation_count||0)+" / "+toDisplayString(s.max_activation_count),1)]),createBaseVNode("div",_hoisted_28$l,[createBaseVNode("h5",{onClick:c=>t.selectEvent(s),class:"card-title fw-bold"},toDisplayString(s.code||"Не указано"),9,_hoisted_29$k),createBaseVNode("p",_hoisted_30$k,toDisplayString(s.description||"Не указано"),1),createBaseVNode("p",_hoisted_31$k,[createBaseVNode("span",null,[createTextVNode(" Скидка:"),createBaseVNode("strong",_hoisted_32$k,[createTextVNode("-"+toDisplayString(s.cashback_amount||0)+" ",1),(n=s.config)!=null&&n.discount_in_percent?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_33$j,"руб")),(l=s.config)!=null&&l.discount_in_percent?(openBlock(),createElementBlock("span",_hoisted_34$i,"%")):createCommentVNode("",!0)])]),createBaseVNode("span",null,[createTextVNode("Активация от: "),createBaseVNode("strong",_hoisted_35$i,toDisplayString(s.activate_price||0)+" руб",1)])])])])])}),256))])):(openBlock(),createElementBlock("div",_hoisted_36$h,[_hoisted_37$h,createBaseVNode("div",_hoisted_38$h,[createBaseVNode("div",_hoisted_39$h,[withDirectives(createBaseVNode("img",_hoisted_40$g,null,512),[[i,"/images/icon.png"]])]),_hoisted_41$g,_hoisted_42$g])])),createBaseVNode("div",_hoisted_43$g,[createBaseVNode("div",_hoisted_44$g,[t.paginate_object&&t.codes.length>0?(openBlock(),createBlock(Pagination$2,{key:0,onPagination_page:t.nextPromoCodes,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_45$g,[createBaseVNode("div",_hoisted_46$g,[t.selected?(openBlock(),createElementBlock("div",_hoisted_47$f,[createBaseVNode("div",_hoisted_48$f,[createBaseVNode("p",null,"Вы действительно хотите удалить "+toDisplayString(t.selected.code||t.selected.id||"этот промокод")+"?",1),createBaseVNode("div",_hoisted_49$f,[_hoisted_50$f,createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=(...s)=>t.removeCode&&t.removeCode(...s)),class:"btn btn-primary"},"Да, удалить ")])])])):createCommentVNode("",!0)])])],64)}}}),_hoisted_1$Z={class:"container py-2"},_hoisted_2$Y={class:"modal fade",id:"promocode-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$Y={class:"modal-dialog modal-fullscreen"},_hoisted_4$U={class:"modal-content"},_hoisted_5$U=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_6$T={class:"modal-body"},_hoisted_7$S={class:"col-12"},_hoisted_8$P={class:"fixed-footer p-3"},__default__$A={props:["bot"],data(){return{part:0,tab:0,promocodeFormModal:null,selectedPromoCode:null,loadForm:!1,loadTable:!1}},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.promocodeFormModal=new bootstrap.Modal("#promocode-form",{}),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{callbackForm(){this.loadTable=!0,this.selectedPromoCode=null,this.promocodeFormModal.hide(),this.$nextTick(()=>{this.loadTable=!1})},createPromoCode(){this.selectedPromoCode=null,this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.promocodeFormModal.show()})},selectPromoCode(o){this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.selectedPromoCode=o,this.promocodeFormModal.show()})}}},_sfc_main$Z=Object.assign(__default__$A,{__name:"Promocodes",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$Z,[t.loadTable?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$_,{key:0,onCreate:t.createPromoCode,onSelect:t.selectPromoCode,bot:o.bot},null,8,["onCreate","onSelect","bot"]))]),createBaseVNode("div",_hoisted_2$Y,[createBaseVNode("div",_hoisted_3$Y,[createBaseVNode("div",_hoisted_4$U,[_hoisted_5$U,createBaseVNode("div",_hoisted_6$T,[createBaseVNode("div",_hoisted_7$S,[t.loadForm?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$$,{key:0,onCallback:t.callbackForm,code:t.selectedPromoCode},null,8,["onCallback","code"]))])])])])]),createBaseVNode("div",_hoisted_8$P,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=(...i)=>t.createPromoCode&&t.createPromoCode(...i)),class:"btn btn-primary w-100 p-3"}," Создать новый промокод ")])],64))}}),Promocodes=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$Z},Symbol.toStringTag,{value:"Module"})),PagePassword_vue_vue_type_style_index_0_lang="",_sfc_main$Y={name:"App",data(){return{spent_time_counter:0,is_requested:!1,passwordForm:{password:null,page_id:null}}},computed:{tg(){return window.Telegram.WebApp}},mounted(){const o=new URLSearchParams(window.location.search);this.passwordForm.page_id=JSON.parse(o.get("page_id"))||null,localStorage.getItem("cashman_password_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_password_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_password_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.$store.dispatch("activatePassword",{passwordForm:this.passwordForm}).then(o=>{this.$notify({title:"Пароль страницы",text:"Пароль страницы успешно активирован!",type:"success"}),this.passwordForm.password=null,this.tg.close()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка активации пароля!",type:"error"})})}}},_hoisted_1$Y={class:"container py-3"},_hoisted_2$X={class:"row"},_hoisted_3$X={class:"col-12"},_hoisted_4$T={class:"card"},_hoisted_5$T={class:"card-body"},_hoisted_6$S=createBaseVNode("h5",{class:"text-center fw-bold my-3"},"Приветствуем!",-1),_hoisted_7$R=createBaseVNode("p",{class:"text-center fst-italic"}," У вас есть пароль от данной страницы? Отлично! Активируйте его прямо сейчас и наслаждайтесь эксклюзивными преимуществами! ",-1),_hoisted_8$O={class:"form-floating mb-3"},_hoisted_9$N=createBaseVNode("label",{for:"floatingInput"},[createBaseVNode("i",{class:"input-icon fa-solid fa-terminal"}),createTextVNode(" Ваш пароль")],-1),_hoisted_10$L=["disabled"],_hoisted_11$J={key:0,class:"color-white"},_hoisted_12$I={key:1,class:"color-white"};function _sfc_render$o(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$Y,[createBaseVNode("div",_hoisted_2$X,[createBaseVNode("div",_hoisted_3$X,[createBaseVNode("div",_hoisted_4$T,[createBaseVNode("div",_hoisted_5$T,[_hoisted_6$S,_hoisted_7$R,createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...n)=>r.submit&&r.submit(...n),["prevent"]))},[createBaseVNode("div",_hoisted_8$O,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>s.passwordForm.password=n),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,s.passwordForm.password]]),_hoisted_9$N]),createBaseVNode("button",{type:"submit",disabled:s.spent_time_counter>0,class:"btn w-100 btn-primary mb-2 p-3"},[s.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_11$J,"Активировать пароль")):(openBlock(),createElementBlock("span",_hoisted_12$I,"Осталось ждать "+toDisplayString(s.spent_time_counter)+" сек.",1))],8,_hoisted_10$L)],32)])])])])])}const PagePasswordV2=_export_sfc(_sfc_main$Y,[["render",_sfc_render$o]]),PagePassword=Object.freeze(Object.defineProperty({__proto__:null,default:PagePasswordV2},Symbol.toStringTag,{value:"Module"})),InstaQuest_vue_vue_type_style_index_0_scoped_5f02037e_lang="",_sfc_main$X={name:"App",data(){return{rules:null,sending:!1,action:null,photo:null,hasProfileData:!1,instaForm:{comment:null,name:null,phone:null}}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$notify({title:"Упс!",text:"Вы израсходовали все попытки!",type:"error"})},prepareUserData(){return this.$store.dispatch("instagramQuestPrepare").then(o=>{this.action=o.action,this.canPlay||this.$notify({title:"Упс!",text:"Вы израсходовали все попытки!",type:"error"})})},loadServiceData(){return this.$store.dispatch("instagramQuestLoadData").then(o=>{this.rules=o.rules})},removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0]},callbackPlayerForm(o){this.instaForm={...this.instaForm,...o},this.hasProfileData=!0},submit(){let o=new FormData;Object.keys(this.instaForm).forEach(t=>{const a=this.instaForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.append("photo",this.photo),this.$store.dispatch("instagramQuestResult",{instaForm:o}).then(t=>{this.sending=!1,this.instaForm={comment:null,name:null,phone:null},this.photo=null,this.hasProfileData=!1,this.$notify({title:"Вы выиграли!",text:"Наш менеджер свяжется с вами для дальнейших инструкций.",type:"success"}),setTimeout(()=>{this.prepareUserData()},5e3)}).catch(t=>{})}}},_withScopeId$9=o=>(pushScopeId("data-v-5f02037e"),o=o(),popScopeId(),o),_hoisted_1$X={class:"container py-3"},_hoisted_2$W={class:"row"},_hoisted_3$W={class:"col-12"},_hoisted_4$S=_withScopeId$9(()=>createBaseVNode("h4",null,"Правила данного задания",-1)),_hoisted_5$S={key:0,class:"alert-light alert"},_hoisted_6$R={key:1,class:"alert-light alert"},_hoisted_7$Q={key:2,class:"text-center"},_hoisted_8$N={class:"fw-bold text-primary"},_hoisted_9$M={class:"fw-bold text-primary"},_hoisted_10$K={key:4,class:"card"},_hoisted_11$I={class:"card-body"},_hoisted_12$H={key:0,for:"photos",style:{"font-size":"14px","min-height":"300px"},class:"photo-loader my-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},_hoisted_13$D=_withScopeId$9(()=>createBaseVNode("i",{class:"fa-brands fa-instagram text-primary"},null,-1)),_hoisted_14$D=_withScopeId$9(()=>createBaseVNode("p",{class:"mt-3 font-16 text-primary"}," Нажмите для выбора фотографии",-1)),_hoisted_15$D={key:1,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},_hoisted_16$B={class:"w-100 object-fit-cover"},_hoisted_17$y={class:"remove"},_hoisted_18$w=_withScopeId$9(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1));function _sfc_render$n(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$X,[createBaseVNode("div",_hoisted_2$W,[createBaseVNode("div",_hoisted_3$W,[_hoisted_4$S,s.rules?(openBlock(),createElementBlock("p",_hoisted_5$S,toDisplayString(s.rules),1)):(openBlock(),createElementBlock("p",_hoisted_6$R," Вам необходима загрузить скриншот из социальной сети, на котором видно что вы поделились нашим рекламным банером и он находился у вас на странице какое-то время. ")),r.canPlay?(openBlock(),createElementBlock("p",_hoisted_7$Q,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",_hoisted_8$N,toDisplayString(s.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",_hoisted_9$M,toDisplayString(s.action.max_attempts||1),1)])):(openBlock(),createElementBlock("p",{key:3,onClick:t[0]||(t[0]=(...l)=>r.lose&&r.lose(...l)),class:"alert alert-light text-center fw-bold text-danger"},"Вы израсходовали все ваши попытки")),r.canPlay?(openBlock(),createElementBlock("div",_hoisted_10$K,[createBaseVNode("div",_hoisted_11$I,[s.photo?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_12$H,[_hoisted_13$D,createBaseVNode("input",{type:"file",id:"photos",accept:"image/*",onChange:t[1]||(t[1]=(...l)=>r.onChangePhotos&&r.onChangePhotos(...l)),style:{display:"none"}},null,32),_hoisted_14$D])),s.photo?(openBlock(),createElementBlock("div",_hoisted_15$D,[withDirectives(createBaseVNode("img",_hoisted_16$B,null,512),[[n,r.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_17$y,[createBaseVNode("a",{onClick:t[2]||(t[2]=(...l)=>r.removePhoto&&r.removePhoto(...l)),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_hoisted_18$w,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0),s.photo?(openBlock(),createElementBlock("button",{key:2,onClick:t[3]||(t[3]=(...l)=>r.submit&&r.submit(...l)),type:"button",class:"btn btn-primary p-3 w-100"}," Получить приз ")):createCommentVNode("",!0)])])):createCommentVNode("",!0)])])])}const InstaQuestV2=_export_sfc(_sfc_main$X,[["render",_sfc_render$n],["__scopeId","data-v-5f02037e"]]),InstaQuest=Object.freeze(Object.defineProperty({__proto__:null,default:InstaQuestV2},Symbol.toStringTag,{value:"Module"})),RequestPhoto_vue_vue_type_style_index_0_scoped_a474ca72_lang="",_sfc_main$W={name:"App",data(){return{rules:null,sending:!1,photos:[],form:{comment:null,name:null,phone:null}}},computed:{},mounted(){this.loadServiceData()},methods:{loadServiceData(){return this.$store.dispatch("requestPhotoLoadData").then(o=>{this.rules=o.rules})},removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},submit(){let o=new FormData;if(Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch("requestPhotoResult",{form:o}).then(t=>{this.sending=!1,this.form={comment:null,name:null,phone:null},this.photos=[],this.$notify({title:"Отлично!",text:"Наш менеджер свяжется с вами для дальнейших инструкций.",type:"success"})}).catch(t=>{})}}},_withScopeId$8=o=>(pushScopeId("data-v-a474ca72"),o=o(),popScopeId(),o),_hoisted_1$W={class:"container py-3"},_hoisted_2$V={class:"row"},_hoisted_3$V={class:"col-12"},_hoisted_4$R=_withScopeId$8(()=>createBaseVNode("h4",null,"Правила",-1)),_hoisted_5$R={key:0,class:"alert-light alert"},_hoisted_6$Q={key:1,class:"alert-light alert"},_hoisted_7$P={class:"card"},_hoisted_8$M={class:"card-body"},_hoisted_9$L={class:"d-flex flex-wrap justify-content-center"},_hoisted_10$J={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_11$H={class:"mb-2 mr-2 img-preview"},_hoisted_12$G={class:"remove"},_hoisted_13$C=["onClick"],_hoisted_14$C={class:"form-floating mb-2"},_hoisted_15$C=_withScopeId$8(()=>createBaseVNode("label",{for:"floatingTextarea"},"Ваше сообщение",-1));function _sfc_render$m(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$W,[createBaseVNode("div",_hoisted_2$V,[createBaseVNode("div",_hoisted_3$V,[_hoisted_4$R,s.rules?(openBlock(),createElementBlock("p",_hoisted_5$R,toDisplayString(s.rules),1)):(openBlock(),createElementBlock("p",_hoisted_6$Q," Вам необходима загрузить скриншот и добавить к нему комментарий ")),createBaseVNode("div",_hoisted_7$P,[createBaseVNode("div",_hoisted_8$M,[createBaseVNode("div",_hoisted_9$L,[createBaseVNode("label",_hoisted_10$J,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:t[0]||(t[0]=(...l)=>r.onChangePhotos&&r.onChangePhotos(...l)),style:{display:"none"}},null,32)]),s.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.photos,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_11$H,[withDirectives(createBaseVNode("img",null,null,512),[[n,r.getPhoto(l).imageUrl]]),createBaseVNode("div",_hoisted_12$G,[createBaseVNode("a",{href:"javascript:void(0)",onClick:m=>r.removePhoto(c)},"Удалить",8,_hoisted_13$C)])]))),256)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_14$C,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.comment=l),placeholder:"Введите текст",id:"floatingTextarea",style:{height:"150px"}},null,512),[[vModelText,s.form.comment]]),_hoisted_15$C]),s.photos.length>0?(openBlock(),createElementBlock("button",{key:0,onClick:t[2]||(t[2]=(...l)=>r.submit&&r.submit(...l)),type:"button",class:"btn btn-primary p-3 w-100"}," Отправить ")):createCommentVNode("",!0)])])])])])}const RequestPhotoV2=_export_sfc(_sfc_main$W,[["render",_sfc_render$m],["__scopeId","data-v-a474ca72"]]),RequestPhoto=Object.freeze(Object.defineProperty({__proto__:null,default:RequestPhotoV2},Symbol.toStringTag,{value:"Module"})),FriendsGame_vue_vue_type_style_index_0_lang="",_sfc_main$V={name:"App",data(){return{action:null,settings:{image:null,rules:null},friendsForm:{friends_invite:0,current_friends:0,needed_friends:0,friends_on_start:0,start_at:null,complete_at:null}}},computed:{currentBot(){return window.currentBot},progress(){let o=this.friendsForm.needed_friends||0,t=this.friendsForm.current_friends||0,a=this.friendsForm.friends_on_start||0;return(t-a)/(o-a)*100}},mounted(){this.prepareUserData()},methods:{start(){this.$store.dispatch("friendsGameStart").then(o=>{this.prepareUserData(),this.$notify({title:"Отлично!",text:"гра началась! Поехали приглашать друзей!",type:"success"})}).catch(()=>{this.$notify({title:"Упс!",text:"Игра почему-то не началась...",type:"error"})})},complete(){this.$store.dispatch("friendsGameFinish").then(o=>{this.prepareUserData(),this.$notify({title:"Отлично!",text:"гра началась! Спасибо за участие в задании, скоро вы получите свои бонусы!",type:"success"})}).catch(()=>{this.$notify({title:"Упс!",text:"Мы не можем закончить это задание....",type:"error"})})},lose(){this.$notify({title:"Упс!",text:"Вы израсходовали все попытки!",type:"error"})},prepareUserData(){return this.$store.dispatch("friendsGamePrepare").then(o=>{this.action=o.action,this.settings.rules=o.rules||null,this.settings.image=o.image||null,this.action.data&&(this.friendsForm.current_friends=this.action.data.current_friends||0,this.friendsForm.needed_friends=this.action.data.needed_friends||0,this.friendsForm.friends_invite=this.action.data.friends_invite||0,this.friendsForm.friends_on_start=this.action.data.friends_on_start||0,this.friendsForm.start_at=this.action.data.start_at||null,this.friendsForm.complete_at=this.action.data.complete_at||null)})}}},_hoisted_1$V={class:"container py-2"},_hoisted_2$U={class:"row"},_hoisted_3$U={class:"col-12"},_hoisted_4$Q={class:"d-flex justify-content-center"},_hoisted_5$Q={class:"img-avatar"},_hoisted_6$P={class:"alert-light alert"},_hoisted_7$O=["innerHTML"],_hoisted_8$L={class:"col-12"},_hoisted_9$K={key:0,class:"card"},_hoisted_10$I={class:"card-body"},_hoisted_11$G={class:"text-center mb-2"},_hoisted_12$F={class:"fw-bold text-primary"},_hoisted_13$B={class:"fw-bold text-primary"},_hoisted_14$B={class:"text-center mb-2"},_hoisted_15$B={class:"fw-bold text-primary"},_hoisted_16$A={class:"mb-2 text-center"},_hoisted_17$x={class:"fw-bold text-primary"},_hoisted_18$v={class:"progress w-100",style:{height:"40px","border-radius":"25px"},role:"progressbar","aria-label":"Basic example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},_hoisted_19$u=createBaseVNode("p",{class:"my-2"},[createTextVNode("Когда полоска вашего прогресса достигнет "),createBaseVNode("strong",{class:"fw-bold text-primary"},"100%"),createTextVNode(" вы сможете получить свои бонусы!")],-1),_hoisted_20$t={key:1},_hoisted_21$s={key:2,class:"card mt-3"},_hoisted_22$s={class:"card-body"},_hoisted_23$s={key:0,class:"mt-2 mb-0"},_hoisted_24$p={class:"fw-bold text-primary"},_hoisted_25$o={key:1,class:"mt-2 mb-2"},_hoisted_26$m={class:"fw-bold text-primary"},_hoisted_27$l=["disabled"];function _sfc_render$l(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$V,[createBaseVNode("div",_hoisted_2$U,[createBaseVNode("div",_hoisted_3$U,[createBaseVNode("div",_hoisted_4$Q,[createBaseVNode("div",_hoisted_5$Q,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("p",_hoisted_6$P,[createTextVNode(" Перед началом квеста нажмите кнопку «Начать». Затем перейдите в главное меню Бота и нажмите кнопку «Пригласить Друзей/Подруг». Там вы найдете свою реферальную ссылку, которую легко можно отправить тем, кого хотели бы пригласить в наш Бот. Для выполнения квеста нужно пригласить "),createBaseVNode("strong",null,toDisplayString((s.friendsForm.needed_friends||0)-(s.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей/подруг , которые активируют нашего бота по вашей реферальной ссылке. ")]),s.settings.rules?(openBlock(),createElementBlock("p",{key:0,class:"alert-light alert",innerHTML:s.settings.rules},null,8,_hoisted_7$O)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$L,[s.friendsForm.start_at!=null?(openBlock(),createElementBlock("div",_hoisted_9$K,[createBaseVNode("div",_hoisted_10$I,[createBaseVNode("p",_hoisted_11$G,[createTextVNode("У вас сейчас "),createBaseVNode("strong",_hoisted_12$F,toDisplayString(s.friendsForm.friends_invite||0),1),createTextVNode(" / "),createBaseVNode("strong",_hoisted_13$B,toDisplayString((s.friendsForm.needed_friends||0)-(s.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_14$B,[createTextVNode("По заданию приглашено "),createBaseVNode("strong",_hoisted_15$B,toDisplayString(s.friendsForm.friends_invite||0),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_16$A,[createTextVNode("Текущий прогресс "),createBaseVNode("strong",_hoisted_17$x,toDisplayString(r.progress)+"%",1)]),createBaseVNode("div",_hoisted_18$v,[createBaseVNode("div",{class:"progress-bar bg-success progress-bar-striped",style:normalizeStyle({width:r.progress+"%"})},toDisplayString(r.progress.toFixed(2))+"% ",5)]),_hoisted_19$u])])):createCommentVNode("",!0),s.friendsForm.start_at==null?(openBlock(),createElementBlock("div",_hoisted_20$t,[s.friendsForm.complete_at==null&&s.friendsForm.start_at==null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn w-100 btn-success p-3",onClick:t[0]||(t[0]=(...l)=>r.start&&r.start(...l))},"Приступить к заданию")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_21$s,[createBaseVNode("div",_hoisted_22$s,[s.friendsForm.start_at!=null?(openBlock(),createElementBlock("p",_hoisted_23$s,[createTextVNode("Задание начато "),createBaseVNode("strong",_hoisted_24$p,toDisplayString(s.friendsForm.start_at),1)])):createCommentVNode("",!0),s.friendsForm.complete_at!=null?(openBlock(),createElementBlock("p",_hoisted_25$o,[createTextVNode("Задание завершено "),createBaseVNode("strong",_hoisted_26$m,toDisplayString(s.friendsForm.complete_at),1)])):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=(...l)=>r.complete&&r.complete(...l)),disabled:r.progress<100||s.friendsForm.complete_at!=null||s.friendsForm.start_at==null,class:"btn btn-primary p-3 w-100"},"Получить награды",8,_hoisted_27$l)])]))])])])}const FriendsGameV2=_export_sfc(_sfc_main$V,[["render",_sfc_render$l]]),FriendsGame=Object.freeze(Object.defineProperty({__proto__:null,default:FriendsGameV2},Symbol.toStringTag,{value:"Module"})),PromoCode_vue_vue_type_style_index_0_lang="",_sfc_main$U={name:"App",data(){return{spent_time_counter:0,is_requested:!1,promocodeForm:{code:null}}},mounted(){localStorage.getItem("cashman_promocode_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_promocode_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_promocode_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.$store.dispatch("activatePromocode",{promocodeForm:this.promocodeForm}).then(o=>{this.$notify({title:"Промокод",text:"Промокод успешно активирован!",type:"success"}),this.promocodeForm.code=null}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка активации промокода!",type:"error"})})}}},_hoisted_1$U={class:"container py-3"},_hoisted_2$T={class:"row"},_hoisted_3$T={class:"col-12"},_hoisted_4$P={class:"card"},_hoisted_5$P={class:"card-body"},_hoisted_6$O=createBaseVNode("h5",{class:"text-center fw-bold my-3"},"Приветствуем!",-1),_hoisted_7$N=createBaseVNode("p",{class:"text-center fst-italic"}," У вас есть промокод? Отлично! Активируйте его прямо сейчас и наслаждайтесь эксклюзивными преимуществами! ",-1),_hoisted_8$K={class:"form-floating mb-3"},_hoisted_9$J=createBaseVNode("label",{for:"floatingInput"},[createBaseVNode("i",{class:"input-icon fa-solid fa-terminal"}),createTextVNode(" Ваш промокод")],-1),_hoisted_10$H=["disabled"],_hoisted_11$F={key:0,class:"color-white"},_hoisted_12$E={key:1,class:"color-white"};function _sfc_render$k(o,t,a,i,s,r){return openBlock(),createElementBlock("div",_hoisted_1$U,[createBaseVNode("div",_hoisted_2$T,[createBaseVNode("div",_hoisted_3$T,[createBaseVNode("div",_hoisted_4$P,[createBaseVNode("div",_hoisted_5$P,[_hoisted_6$O,_hoisted_7$N,createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...n)=>r.submit&&r.submit(...n),["prevent"]))},[createBaseVNode("div",_hoisted_8$K,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>s.promocodeForm.code=n),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,s.promocodeForm.code]]),_hoisted_9$J]),createBaseVNode("button",{type:"submit",disabled:s.spent_time_counter>0,class:"btn w-100 btn-primary mb-2 p-3"},[s.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_11$F,"Активировать промокод")):(openBlock(),createElementBlock("span",_hoisted_12$E,"Осталось ждать "+toDisplayString(s.spent_time_counter)+" сек.",1))],8,_hoisted_10$H)],32)])])])])])}const PromoCodeFormV2=_export_sfc(_sfc_main$U,[["render",_sfc_render$k]]),PromoCode=Object.freeze(Object.defineProperty({__proto__:null,default:PromoCodeFormV2},Symbol.toStringTag,{value:"Module"})),VipProfileV1_vue_vue_type_style_index_0_scoped_233896c2_lang="",_sfc_main$T={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.$nextTick(()=>{this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0}}),this.loadCashBackModuleData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(a=>a.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(a=>{if(a.is_active){let i=this.getUserFieldValue(a.id),s=i.value,r=i.config;this.vipForm.fields.push({id:a.id,title:a.label,description:a.description,key:a.key,value:a.type===2?s==="1":s,type:a.type,pattern:a.pattern,required:a.required,config:r})}})})},nextStep(){this.step++},loadCashBackModuleData(){this.loading=!0,this.$store.dispatch("loadCashBackModuleData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveVip",{...this.vipForm}).then(o=>{this.loading=!1,this.$notify({title:"Отлично!",text:"Вы успешно заполнили форму и стали наши VIP-пользователем!",type:"success"}),this.tg.close()}).catch(()=>{this.loading=!1,this.$notify({title:"Упс!",text:"Ошибка заполнения формы!",type:"error"})})}}},_withScopeId$7=o=>(pushScopeId("data-v-233896c2"),o=o(),popScopeId(),o),_hoisted_1$T={key:0,class:"container py-3"},_hoisted_2$S={class:"row"},_hoisted_3$S={key:0,class:"col-12"},_hoisted_4$O={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_5$O={class:"img-avatar"},_hoisted_6$N={class:"col-12"},_hoisted_7$M=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимущества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_8$J=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Как мне к Вам обращаться?",-1)),_hoisted_9$I={class:"form-floating"},_hoisted_10$G=_withScopeId$7(()=>createBaseVNode("label",{for:"vipForm-name"},"Ф.И.О.",-1)),_hoisted_11$E={class:"col-12"},_hoisted_12$D={key:0,class:"mb-3"},_hoisted_13$A=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Введите свой номер телефона",-1)),_hoisted_14$A={class:"form-floating"},_hoisted_15$A=_withScopeId$7(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_16$z={key:0,class:"col-12"},_hoisted_17$w=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_18$u=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Вы мужчина или женщина?",-1)),_hoisted_19$t={class:"row mb-2"},_hoisted_20$s={class:"col-6"},_hoisted_21$r=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_22$r=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_23$r=[_hoisted_21$r,_hoisted_22$r],_hoisted_24$o={class:"col-6"},_hoisted_25$n=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_26$l=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_27$k=[_hoisted_25$n,_hoisted_26$l],_hoisted_28$k={key:1,class:"col-12"},_hoisted_29$j=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),_hoisted_30$j=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Введите свой день рождения",-1)),_hoisted_31$j={class:"form-floating"},_hoisted_32$j=_withScopeId$7(()=>createBaseVNode("label",{for:"vipForm-phone"},"Дата рождения",-1)),_hoisted_33$i={key:2,class:"col-12"},_hoisted_34$h=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_35$h=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Какой у Вас город?",-1)),_hoisted_36$g={class:"form-floating"},_hoisted_37$g=_withScopeId$7(()=>createBaseVNode("label",{for:"vipForm-city"},"Город проживания",-1)),_hoisted_38$g={class:"col-12"},_hoisted_39$g={key:0},_hoisted_40$f={class:"text-center my-3"},_hoisted_41$f={key:0,class:"form-floating"},_hoisted_42$f=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_43$f=["for"],_hoisted_44$f={key:1,class:"row mb-2"},_hoisted_45$f={class:"col-6"},_hoisted_46$f=["onClick"],_hoisted_47$e=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_48$e=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_49$e=[_hoisted_47$e,_hoisted_48$e],_hoisted_50$e={class:"col-6"},_hoisted_51$e=["onClick"],_hoisted_52$e=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_53$d=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_54$d=[_hoisted_52$e,_hoisted_53$d],_hoisted_55$b={class:"col-12"},_hoisted_56$b=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_57$a=_withScopeId$7(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"https://telegra.ph/Politika-konfidencialnosti-12-29-5",target:"_blank"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_58$9={class:"d-flex mb-3"},_hoisted_59$9={class:"form-check form-switch"},_hoisted_60$8={class:"form-check-label",for:"toggle-id-1"},_hoisted_61$8={key:0},_hoisted_62$8={key:1},_hoisted_63$8=["disabled"],_hoisted_64$8={key:1,class:"col-12"},_hoisted_65$8={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_66$8={class:"img-avatar"},_hoisted_67$8={class:"col-12"},_hoisted_68$8=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_69$8=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Как мне к Вам обращаться?",-1)),_hoisted_70$8={class:"form-floating"},_hoisted_71$8=_withScopeId$7(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_72$7={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_73$7={class:"img-avatar"},_hoisted_74$6={class:"col-12"},_hoisted_75$6={class:"mb-3"},_hoisted_76$6=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Введите свой номер телефона",-1)),_hoisted_77$6={class:"form-floating"},_hoisted_78$5=_withScopeId$7(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_79$5=_withScopeId$7(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_80$5={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_81$5={class:"img-avatar"},_hoisted_82$5={class:"col-12"},_hoisted_83$4=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_84$3=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Ты мужчина или женщина?",-1)),_hoisted_85$3={class:"row mb-2"},_hoisted_86$3={class:"col-6"},_hoisted_87$3=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_88$3=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_89$3=[_hoisted_87$3,_hoisted_88$3],_hoisted_90$3={class:"col-6"},_hoisted_91$3=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_92$3=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_93$3=[_hoisted_91$3,_hoisted_92$3],_hoisted_94$3=_withScopeId$7(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_95$3={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_96$3={class:"img-avatar"},_hoisted_97$3={class:"col-12"},_hoisted_98$3=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_99$3=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Какой у Вас город?",-1)),_hoisted_100$3={class:"form-floating"},_hoisted_101$3=_withScopeId$7(()=>createBaseVNode("label",{for:"vipForm-city"},"Город проживания",-1)),_hoisted_102$3=_withScopeId$7(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_103$3={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_104$3={class:"img-avatar"},_hoisted_105$3={class:"col-12"},_hoisted_106$3=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочитайте мои условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_107$3=_withScopeId$7(()=>createBaseVNode("h6",{class:"text-center my-3"},"Последний шаг",-1)),_hoisted_108$3=_withScopeId$7(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_109$3={class:"d-flex mb-3"},_hoisted_110$2={class:"pt-1"},_hoisted_111$2={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_112$2={key:0},_hoisted_113$2={key:1},_hoisted_114$2={class:"ml-auto mr-4 pr-2"},_hoisted_115$2={class:"custom-control ios-switch"},_hoisted_116$2=_withScopeId$7(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_117$2=["disabled"],_hoisted_118$2={key:2,class:"col-12"},_hoisted_119$2={class:"card"},_hoisted_120$2={class:"card-body"},_hoisted_121$2=_withScopeId$7(()=>createBaseVNode("li",null,"Накопление баллов за покупки",-1)),_hoisted_122$2=_withScopeId$7(()=>createBaseVNode("li",null,"Оплата товаров через баллы",-1)),_hoisted_123$2=_withScopeId$7(()=>createBaseVNode("li",null,"Реферальная программа",-1)),_hoisted_124$2=_withScopeId$7(()=>createBaseVNode("h6",null,"Ваши данные:",-1)),_hoisted_125$2={class:"mb-0"},_hoisted_126$2={class:"mb-0"},_hoisted_127$2={class:"mb-0"},_hoisted_128$2={class:"mb-0"},_hoisted_129$2={class:"mb-0"},_hoisted_130$1={key:0},_hoisted_131$1={key:1};function _sfc_render$j(o,t,a,i,s,r){const n=resolveDirective("lazy"),l=resolveDirective("mask");return s.botUser?(openBlock(),createElementBlock("div",_hoisted_1$T,[createBaseVNode("div",_hoisted_2$S,[!s.botUser.is_vip&&s.settings.display_type==0?(openBlock(),createElementBlock("div",_hoisted_3$S,[createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...c)=>r.submit&&r.submit(...c),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_4$O,[createBaseVNode("div",_hoisted_5$O,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("div",_hoisted_6$N,[_hoisted_7$M,_hoisted_8$J,createBaseVNode("div",_hoisted_9$I,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[0]||(t[0]=c=>s.vipForm.name=c),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,s.vipForm.name]]),_hoisted_10$G])]),createBaseVNode("div",_hoisted_11$E,[s.vipForm.name?(openBlock(),createElementBlock("p",_hoisted_12$D,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(s.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):createCommentVNode("",!0),_hoisted_13$A,createBaseVNode("div",_hoisted_14$A,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=c=>s.vipForm.phone=c),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[l,"+7(###)###-##-##"],[vModelText,s.vipForm.phone]]),_hoisted_15$A])]),s.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_16$z,[_hoisted_17$w,_hoisted_18$u,createBaseVNode("div",_hoisted_19$t,[createBaseVNode("div",_hoisted_20$s,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":s.vipForm.sex},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:t[2]||(t[2]=c=>s.vipForm.sex=!0)},_hoisted_23$r,2)]),createBaseVNode("div",_hoisted_24$o,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":!s.vipForm.sex},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:t[3]||(t[3]=c=>s.vipForm.sex=!1)},_hoisted_27$k,2)])])])):createCommentVNode("",!0),s.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_28$k,[_hoisted_29$j,_hoisted_30$j,createBaseVNode("div",_hoisted_31$j,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center","onUpdate:modelValue":t[4]||(t[4]=c=>s.vipForm.birthday=c),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,s.vipForm.birthday]]),_hoisted_32$j])])):createCommentVNode("",!0),s.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_33$i,[_hoisted_34$h,_hoisted_35$h,createBaseVNode("div",_hoisted_36$g,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=c=>s.vipForm.city=c),class:"form-control text-center",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,s.vipForm.city]]),_hoisted_37$g])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.vipForm.fields,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_38$g,[s.settings[c.key]?(openBlock(),createElementBlock("div",_hoisted_39$g,[createBaseVNode("h6",_hoisted_40$f,toDisplayString(c.description),1),c.type===0||c.type===1?(openBlock(),createElementBlock("div",_hoisted_41$f,[withDirectives(createBaseVNode("input",{type:c.type===1?"number":"text","onUpdate:modelValue":p=>s.vipForm.fields[m].value=p,class:"form-control text-center",placeholder:c.title,pattern:s.vipForm.fields[m].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:s.vipForm.fields[m].required||!1},null,8,_hoisted_42$f),[[vModelDynamic,s.vipForm.fields[m].value]]),createBaseVNode("label",{for:"vipForm-field"+m},toDisplayString(c.title),9,_hoisted_43$f)])):createCommentVNode("",!0),c.type===2?(openBlock(),createElementBlock("div",_hoisted_44$f,[createBaseVNode("div",_hoisted_45$f,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":s.vipForm.fields[m].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:p=>s.vipForm.fields[m].value=!0},_hoisted_49$e,10,_hoisted_46$f)]),createBaseVNode("div",_hoisted_50$e,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":!s.vipForm.fields[m].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:p=>s.vipForm.fields[m].value=!1},_hoisted_54$d,10,_hoisted_51$e)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),createBaseVNode("div",_hoisted_55$b,[_hoisted_56$b,_hoisted_57$a,createBaseVNode("div",_hoisted_58$9,[createBaseVNode("div",_hoisted_59$9,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[6]||(t[6]=c=>s.confirm=c),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[vModelCheckbox,s.confirm]]),createBaseVNode("label",_hoisted_60$8,[s.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_61$8,"С правилами ознакомилась")),s.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_62$8,"С правилами ознакомлен")):createCommentVNode("",!0)])])]),createBaseVNode("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_63$8)])],32)])):createCommentVNode("",!0),!s.botUser.is_vip&&s.settings.display_type==1?(openBlock(),createElementBlock("div",_hoisted_64$8,[s.step===0?(openBlock(),createElementBlock("form",{key:0,onSubmit:t[9]||(t[9]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_65$8,[createBaseVNode("div",_hoisted_66$8,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("div",_hoisted_67$8,[_hoisted_68$8,_hoisted_69$8,createBaseVNode("div",_hoisted_70$8,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[8]||(t[8]=c=>s.vipForm.name=c),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,s.vipForm.name]])]),_hoisted_71$8])],32)):createCommentVNode("",!0),s.step===1?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[11]||(t[11]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_72$7,[createBaseVNode("div",_hoisted_73$7,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("div",_hoisted_74$6,[createBaseVNode("p",_hoisted_75$6,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(s.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])]),_hoisted_76$6,createBaseVNode("div",_hoisted_77$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[10]||(t[10]=c=>s.vipForm.phone=c),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[l,"+7(###)###-##-##"],[vModelText,s.vipForm.phone]]),_hoisted_78$5]),_hoisted_79$5])],32)):createCommentVNode("",!0),s.step===2?(openBlock(),createElementBlock("form",{key:2,onSubmit:t[14]||(t[14]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_80$5,[createBaseVNode("div",_hoisted_81$5,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("div",_hoisted_82$5,[_hoisted_83$4,_hoisted_84$3,createBaseVNode("div",_hoisted_85$3,[createBaseVNode("div",_hoisted_86$3,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":s.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:t[12]||(t[12]=c=>s.vipForm.sex=!0)},_hoisted_89$3,2)]),createBaseVNode("div",_hoisted_90$3,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!s.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:t[13]||(t[13]=c=>s.vipForm.sex=!1)},_hoisted_93$3,2)])]),_hoisted_94$3])],32)):createCommentVNode("",!0),s.step===3?(openBlock(),createElementBlock("form",{key:3,onSubmit:t[16]||(t[16]=withModifiers((...c)=>r.nextStep&&r.nextStep(...c),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_95$3,[createBaseVNode("div",_hoisted_96$3,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("div",_hoisted_97$3,[_hoisted_98$3,_hoisted_99$3,createBaseVNode("div",_hoisted_100$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=c=>s.vipForm.city=c),class:"form-control text-center",placeholder:"Краснодар",id:"vipForm-city","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,s.vipForm.city]]),_hoisted_101$3]),_hoisted_102$3])],32)):createCommentVNode("",!0),s.step===4?(openBlock(),createElementBlock("form",{key:4,onSubmit:t[19]||(t[19]=withModifiers((...c)=>r.submit&&r.submit(...c),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_103$3,[createBaseVNode("div",_hoisted_104$3,[withDirectives(createBaseVNode("img",null,null,512),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])]),createBaseVNode("div",_hoisted_105$3,[_hoisted_106$3,_hoisted_107$3,_hoisted_108$3,createBaseVNode("div",_hoisted_109$3,[createBaseVNode("div",_hoisted_110$2,[createBaseVNode("h5",_hoisted_111$2,[s.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_112$2,"С правилами озакномилась")),s.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_113$2,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_114$2,[createBaseVNode("div",_hoisted_115$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[17]||(t[17]=c=>s.confirm=c),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,s.confirm]]),_hoisted_116$2])])]),createBaseVNode("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-outline-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_117$2),createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=c=>s.step=0),class:"btn btn-outline-primary p-3 w-100 mb-2"}," Исправить ошибки ")])],32)):createCommentVNode("",!0)])):createCommentVNode("",!0),s.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_118$2,[createBaseVNode("div",_hoisted_119$2,[createBaseVNode("div",_hoisted_120$2,[createTextVNode(" Поздравляем! Вы являетесь нашим VIP-пользователем! Вам доступны следующие возможности: "),createBaseVNode("ul",null,[_hoisted_121$2,_hoisted_122$2,_hoisted_123$2,createBaseVNode("li",null,[_hoisted_124$2,createBaseVNode("p",_hoisted_125$2,"Имя: "+toDisplayString(s.botUser.name||"Не указано"),1),createBaseVNode("p",_hoisted_126$2,"Телефон: "+toDisplayString(s.botUser.phone||"Не указано"),1),createBaseVNode("p",_hoisted_127$2,"Город: "+toDisplayString(s.botUser.city||"Не указано"),1),createBaseVNode("p",_hoisted_128$2,"Пол: "+toDisplayString(s.botUser.sex?"Мужской":"Женский"),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.vipForm.fields,c=>(openBlock(),createElementBlock("p",_hoisted_129$2,[createTextVNode(toDisplayString(c.title)+": ",1),c.config.type===2?(openBlock(),createElementBlock("span",_hoisted_130$1,toDisplayString(c.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),c.config.type===0||c.config.type===1?(openBlock(),createElementBlock("span",_hoisted_131$1,toDisplayString(c.value),1)):createCommentVNode("",!0)]))),256))])])])])])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}const VipProfileV2_1=_export_sfc(_sfc_main$T,[["render",_sfc_render$j],["__scopeId","data-v-233896c2"]]),VipProfileV1=Object.freeze(Object.defineProperty({__proto__:null,default:VipProfileV2_1},Symbol.toStringTag,{value:"Module"})),SimpleProfileV1_vue_vue_type_style_index_0_scoped_57f78e9d_lang="",_sfc_main$S={data(){return{load:!1,confirm:!1,botUser:null,vipForm:{name:null,phone:null,page_id:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.vipForm.phone=this.botUser.phone||null}},mounted(){const o=new URLSearchParams(window.location.search);this.vipForm.page_id=JSON.parse(o.get("page_id"))||null},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{submit(){this.loading=!0,this.$store.dispatch("saveSimpleProfileFormData",{dataObject:this.vipForm}).then(o=>{this.loading=!1,this.$notify({title:"Отлично!",text:"Вы успешно заполнили форму и стали наши VIP-пользователем!",type:"success"}),this.tg.close()}).catch(()=>{this.loading=!1,this.$notify({title:"Упс!",text:"Ошибка заполнения формы!",type:"error"})})}}},_withScopeId$6=o=>(pushScopeId("data-v-57f78e9d"),o=o(),popScopeId(),o),_hoisted_1$S={key:0,class:"container py-3"},_hoisted_2$R={class:"row"},_hoisted_3$R={class:"col-12"},_hoisted_4$N={class:"col-12 mb-2"},_hoisted_5$N={class:"form-floating"},_hoisted_6$M=_withScopeId$6(()=>createBaseVNode("label",{for:"vipForm-name"},"Ф.И.О.",-1)),_hoisted_7$L={class:"col-12"},_hoisted_8$I={class:"form-floating"},_hoisted_9$H=_withScopeId$6(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_10$F={class:"col-12"},_hoisted_11$D=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_12$C=_withScopeId$6(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"https://telegra.ph/Politika-konfidencialnosti-12-29-5",target:"_blank"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_13$z={class:"d-flex mb-3"},_hoisted_14$z={class:"form-check form-switch"},_hoisted_15$z=_withScopeId$6(()=>createBaseVNode("label",{class:"form-check-label",for:"toggle-id-1"}," С правилами ознакомлен ",-1)),_hoisted_16$y=["disabled"];function _sfc_render$i(o,t,a,i,s,r){const n=resolveDirective("mask");return s.botUser?(openBlock(),createElementBlock("div",_hoisted_1$S,[createBaseVNode("div",_hoisted_2$R,[createBaseVNode("div",_hoisted_3$R,[createBaseVNode("form",{onSubmit:t[3]||(t[3]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_4$N,[createBaseVNode("div",_hoisted_5$N,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[0]||(t[0]=l=>s.vipForm.name=l),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,s.vipForm.name]]),_hoisted_6$M])]),createBaseVNode("div",_hoisted_7$L,[createBaseVNode("div",_hoisted_8$I,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=l=>s.vipForm.phone=l),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[n,["+7(###)###-##-##"]],[vModelText,s.vipForm.phone]]),_hoisted_9$H])]),createBaseVNode("div",_hoisted_10$F,[_hoisted_11$D,_hoisted_12$C,createBaseVNode("div",_hoisted_13$z,[createBaseVNode("div",_hoisted_14$z,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=l=>s.confirm=l),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[vModelCheckbox,s.confirm]]),_hoisted_15$z])]),createBaseVNode("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_16$y)])],32)])])])):createCommentVNode("",!0)}const SimpleProfileV2_1=_export_sfc(_sfc_main$S,[["render",_sfc_render$i],["__scopeId","data-v-57f78e9d"]]),SimpleProfileV1=Object.freeze(Object.defineProperty({__proto__:null,default:SimpleProfileV2_1},Symbol.toStringTag,{value:"Module"})),VipProfileV2_vue_vue_type_style_index_0_scoped_b5cc11e8_lang="",_sfc_main$R={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0,need_phone:!0,need_email:!0,need_profile_form_image:!0,form_image:null,pre_birthday_text:null,pre_email_text:null,pre_age_text:null,pre_city_text:null,pre_sex_text:null,pre_name_text:null,pre_phone_text:null,text_after_submit:null},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadProfileFormData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(a=>a.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(a=>{if(a.is_active){let i=this.getUserFieldValue(a.id),s=i.value,r=i.config;this.vipForm.fields.push({id:a.id,title:a.label,description:a.description,key:a.key,value:a.type===2?s==="1":s,type:a.type,pattern:a.pattern,required:a.required,config:r})}})})},loadProfileFormData(){this.loading=!0,this.$store.dispatch("loadProfileFormData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveProfileFormData",{dataObject:this.vipForm}).then(o=>{this.loading=!1,this.$notify({title:"Отлично!",text:"Вы успешно заполнили форму и стали наши VIP-пользователем!",type:"success"}),this.tg.close()}).catch(()=>{this.loading=!1,this.$notify({title:"Упс!",text:"Ошибка заполнения формы!",type:"error"})})}}},_withScopeId$5=o=>(pushScopeId("data-v-b5cc11e8"),o=o(),popScopeId(),o),_hoisted_1$R={key:0,class:"container py-3"},_hoisted_2$Q={class:"row"},_hoisted_3$Q={key:0,class:"col-12"},_hoisted_4$M={key:0,class:"col-12 d-flex justify-content-center mb-3"},_hoisted_5$M={class:"img-avatar"},_hoisted_6$L={key:0,class:"img-avatar"},_hoisted_7$K={key:1},_hoisted_8$H={class:"col-12"},_hoisted_9$G=["innerHTML"],_hoisted_10$E={class:"form-floating"},_hoisted_11$C=_withScopeId$5(()=>createBaseVNode("label",{for:"vipForm-name"},"Ф.И.О.",-1)),_hoisted_12$B={key:1,class:"col-12"},_hoisted_13$y=["innerHTML"],_hoisted_14$y={class:"form-floating"},_hoisted_15$y=_withScopeId$5(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_16$x={key:2,class:"col-12"},_hoisted_17$v=["innerHTML"],_hoisted_18$t={class:"form-floating"},_hoisted_19$s=_withScopeId$5(()=>createBaseVNode("label",{for:"vipForm-email"},"Почта",-1)),_hoisted_20$r={key:3,class:"col-12"},_hoisted_21$q=["innerHTML"],_hoisted_22$q={class:"row mb-0"},_hoisted_23$q={class:"col-6"},_hoisted_24$n=_withScopeId$5(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_25$m=_withScopeId$5(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_26$k=[_hoisted_24$n,_hoisted_25$m],_hoisted_27$j={class:"col-6"},_hoisted_28$j=_withScopeId$5(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_29$i=_withScopeId$5(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_30$i=[_hoisted_28$j,_hoisted_29$i],_hoisted_31$i={key:4,class:"col-12"},_hoisted_32$i=["innerHTML"],_hoisted_33$h={class:"form-floating"},_hoisted_34$g=_withScopeId$5(()=>createBaseVNode("label",{for:"vipForm-birthday"},"Дата рождения",-1)),_hoisted_35$g={key:5,class:"col-12"},_hoisted_36$f=["innerHTML"],_hoisted_37$f={class:"form-floating"},_hoisted_38$f=_withScopeId$5(()=>createBaseVNode("label",{for:"vipForm-city"},"Город проживания",-1)),_hoisted_39$f={class:"col-12"},_hoisted_40$e={key:0},_hoisted_41$e={class:"text-center my-3"},_hoisted_42$e={key:0,class:"form-floating"},_hoisted_43$e=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_44$e=["for"],_hoisted_45$e={key:1,class:"row mb-0"},_hoisted_46$e={class:"col-6 p-3"},_hoisted_47$d=["onClick"],_hoisted_48$d=_withScopeId$5(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_49$d=_withScopeId$5(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_50$d=[_hoisted_48$d,_hoisted_49$d],_hoisted_51$d={class:"col-6 p-3"},_hoisted_52$d=["onClick"],_hoisted_53$c=_withScopeId$5(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_54$c=_withScopeId$5(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_55$a=[_hoisted_53$c,_hoisted_54$c],_hoisted_56$a={class:"col-12"},_hoisted_57$9=_withScopeId$5(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_58$8=_withScopeId$5(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"https://telegra.ph/Politika-konfidencialnosti-12-29-5",target:"_blank"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_59$8={class:"d-flex mb-3"},_hoisted_60$7={class:"form-check form-switch"},_hoisted_61$7={class:"form-check-label",for:"toggle-id-1"},_hoisted_62$7={key:0},_hoisted_63$7={key:1},_hoisted_64$7=["disabled"],_hoisted_65$7={key:1,class:"col-12"},_hoisted_66$7=["innerHTML"],_hoisted_67$7={class:"alert alert-light"},_hoisted_68$7=_withScopeId$5(()=>createBaseVNode("h6",{class:"text-primary text-center fw-bold"},"Ваши данные:",-1)),_hoisted_69$7={class:"mb-2 d-flex justify-content-between"},_hoisted_70$7={class:"fw-bold text-primary"},_hoisted_71$7={key:0,class:"mb-2 d-flex justify-content-between"},_hoisted_72$6={class:"fw-bold text-primary"},_hoisted_73$6={key:1,class:"mb-2 d-flex justify-content-between"},_hoisted_74$5={class:"fw-bold text-primary"},_hoisted_75$5={key:2,class:"mb-2 d-flex justify-content-between"},_hoisted_76$5={class:"fw-bold text-primary"},_hoisted_77$5={key:3,class:"mb-2 d-flex justify-content-between"},_hoisted_78$4={class:"fw-bold text-primary"},_hoisted_79$4={key:4,class:"mb-2 d-flex justify-content-between"},_hoisted_80$4={class:"fw-bold text-primary"},_hoisted_81$4={class:"mb-2 d-flex justify-content-between"},_hoisted_82$4={key:0},_hoisted_83$3={key:1};function _sfc_render$h(o,t,a,i,s,r){const n=resolveDirective("lazy"),l=resolveDirective("mask");return s.botUser?(openBlock(),createElementBlock("div",_hoisted_1$R,[createBaseVNode("div",_hoisted_2$Q,[s.botUser.is_vip?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$Q,[createBaseVNode("form",{onSubmit:t[8]||(t[8]=withModifiers((...c)=>r.submit&&r.submit(...c),["prevent"])),class:"row mb-0"},[s.settings.need_profile_form_image?(openBlock(),createElementBlock("div",_hoisted_4$M,[createBaseVNode("div",_hoisted_5$M,[(s.settings.form_image||"").length>0?withDirectives((openBlock(),createElementBlock("img",_hoisted_6$L,null,512)),[[n,s.settings.form_image]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_7$K,null,512)),[[n,"/images-by-bot-id/"+r.currentBot.id+"/"+r.currentBot.image]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$H,[s.settings.pre_name_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:s.settings.pre_name_text},null,8,_hoisted_9$G)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$E,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[0]||(t[0]=c=>s.vipForm.name=c),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,s.vipForm.name]]),_hoisted_11$C])]),s.settings.need_phone?(openBlock(),createElementBlock("div",_hoisted_12$B,[s.settings.pre_phone_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:s.settings.pre_phone_text},null,8,_hoisted_13$y)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14$y,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=c=>s.vipForm.phone=c),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[l,["+7(###)###-##-##"]],[vModelText,s.vipForm.phone]]),_hoisted_15$y])])):createCommentVNode("",!0),s.settings.need_email?(openBlock(),createElementBlock("div",_hoisted_16$x,[s.settings.pre_email_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:s.settings.pre_email_text},null,8,_hoisted_17$v)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$t,[withDirectives(createBaseVNode("input",{type:"email",class:"form-control text-center","onUpdate:modelValue":t[2]||(t[2]=c=>s.vipForm.email=c),placeholder:"example@test.com","aria-label":"vipForm-email","aria-describedby":"vipForm-email",required:""},null,512),[[vModelText,s.vipForm.email]]),_hoisted_19$s])])):createCommentVNode("",!0),s.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_20$r,[s.settings.pre_sex_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:s.settings.pre_sex_text},null,8,_hoisted_21$q)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_22$q,[createBaseVNode("div",_hoisted_23$q,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":s.vipForm.sex},"btn w-100 btn-outline-primary p-2 d-flex justify-content-between flex-column align-items-center"]),onClick:t[3]||(t[3]=c=>s.vipForm.sex=!0)},_hoisted_26$k,2)]),createBaseVNode("div",_hoisted_27$j,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":!s.vipForm.sex},"btn w-100 btn-outline-primary p-2 d-flex justify-content-between flex-column align-items-center"]),onClick:t[4]||(t[4]=c=>s.vipForm.sex=!1)},_hoisted_30$i,2)])])])):createCommentVNode("",!0),s.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_31$i,[s.settings.pre_birthday_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:s.settings.pre_birthday_text},null,8,_hoisted_32$i)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_33$h,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center","onUpdate:modelValue":t[5]||(t[5]=c=>s.vipForm.birthday=c),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,s.vipForm.birthday]]),_hoisted_34$g])])):createCommentVNode("",!0),s.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_35$g,[s.settings.pre_city_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:s.settings.pre_city_text},null,8,_hoisted_36$f)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37$f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>s.vipForm.city=c),class:"form-control text-center",placeholder:"Ваш город","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,s.vipForm.city]]),_hoisted_38$f])])):createCommentVNode("",!0),(s.vipForm.fields||[]).length>0?(openBlock(!0),createElementBlock(Fragment,{key:6},renderList(s.vipForm.fields,(c,m)=>(openBlock(),createElementBlock("div",_hoisted_39$f,[s.settings[c.key]?(openBlock(),createElementBlock("div",_hoisted_40$e,[createBaseVNode("h6",_hoisted_41$e,toDisplayString(c.description),1),c.type===0||c.type===1?(openBlock(),createElementBlock("div",_hoisted_42$e,[withDirectives(createBaseVNode("input",{type:c.type===1?"number":"text","onUpdate:modelValue":p=>s.vipForm.fields[m].value=p,class:"form-control text-center",placeholder:c.title,pattern:s.vipForm.fields[m].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:s.vipForm.fields[m].required||!1},null,8,_hoisted_43$e),[[vModelDynamic,s.vipForm.fields[m].value]]),createBaseVNode("label",{for:"vipForm-field"+m},toDisplayString(c.title||"-"),9,_hoisted_44$e)])):createCommentVNode("",!0),c.type===2?(openBlock(),createElementBlock("div",_hoisted_45$e,[createBaseVNode("div",_hoisted_46$e,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":s.vipForm.fields[m].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:p=>s.vipForm.fields[m].value=!0},_hoisted_50$d,10,_hoisted_47$d)]),createBaseVNode("div",_hoisted_51$d,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":!s.vipForm.fields[m].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:p=>s.vipForm.fields[m].value=!1},_hoisted_55$a,10,_hoisted_52$d)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_56$a,[_hoisted_57$9,_hoisted_58$8,createBaseVNode("div",_hoisted_59$8,[createBaseVNode("div",_hoisted_60$7,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[7]||(t[7]=c=>s.confirm=c),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[vModelCheckbox,s.confirm]]),createBaseVNode("label",_hoisted_61$7,[s.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_62$7,"С правилами ознакомилась")),s.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_63$7,"С правилами ознакомлен")):createCommentVNode("",!0)])])]),createBaseVNode("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_64$7)])],32)])),s.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_65$7,[createBaseVNode("p",{class:"alert alert-light my-2",innerHTML:s.settings.text_after_submit},null,8,_hoisted_66$7),createBaseVNode("div",_hoisted_67$7,[_hoisted_68$7,createBaseVNode("p",_hoisted_69$7,[createTextVNode("Имя: "),createBaseVNode("span",_hoisted_70$7,toDisplayString(s.botUser.name||"Не указано"),1)]),s.settings.need_phone?(openBlock(),createElementBlock("p",_hoisted_71$7,[createTextVNode("Телефон: "),createBaseVNode("span",_hoisted_72$6,toDisplayString(s.botUser.phone||"Не указано"),1)])):createCommentVNode("",!0),s.settings.need_email?(openBlock(),createElementBlock("p",_hoisted_73$6,[createTextVNode("Email: "),createBaseVNode("span",_hoisted_74$5,toDisplayString(s.botUser.email||"Не указано"),1)])):createCommentVNode("",!0),s.settings.need_city?(openBlock(),createElementBlock("p",_hoisted_75$5,[createTextVNode("Город: "),createBaseVNode("span",_hoisted_76$5,toDisplayString(s.botUser.city||"Не указано"),1)])):createCommentVNode("",!0),s.settings.need_birthday?(openBlock(),createElementBlock("p",_hoisted_77$5,[createTextVNode("Дата рождения: "),createBaseVNode("span",_hoisted_78$4,toDisplayString(s.botUser.birthday||"Не указано"),1)])):createCommentVNode("",!0),s.settings.need_sex?(openBlock(),createElementBlock("p",_hoisted_79$4,[createTextVNode("Пол: "),createBaseVNode("span",_hoisted_80$4,toDisplayString(s.botUser.sex?"Мужской":"Женский"),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.vipForm.fields,c=>(openBlock(),createElementBlock("p",_hoisted_81$4,[createTextVNode(toDisplayString(c.title)+": ",1),c.config.type===2?(openBlock(),createElementBlock("span",_hoisted_82$4,toDisplayString(c.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),c.config.type===0||c.config.type===1?(openBlock(),createElementBlock("span",_hoisted_83$3,toDisplayString(c.value),1)):createCommentVNode("",!0)]))),256))])])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}const VipProfileV2_2=_export_sfc(_sfc_main$R,[["render",_sfc_render$h],["__scopeId","data-v-b5cc11e8"]]),VipProfileV2=Object.freeze(Object.defineProperty({__proto__:null,default:VipProfileV2_2},Symbol.toStringTag,{value:"Module"})),_hoisted_1$Q={class:"form-check form-switch mb-2"},_hoisted_2$P={class:"form-check-label",for:"script-settings-wheel-of-fortune-can_play"},_hoisted_3$P={class:"form-check form-switch mb-2"},_hoisted_4$L={class:"form-check-label",for:"script-settings-wheel-of-fortune-use_in_shop"},_hoisted_5$L={class:"form-floating mb-2"},_hoisted_6$K={for:"script-settings-disabled_text"},_hoisted_7$J={key:0},_hoisted_8$G={class:"form-floating mb-2"},_hoisted_9$F={for:"script-settings-disabled_text"},_hoisted_10$D={key:0},_hoisted_11$B={class:"form-floating mb-2"},_hoisted_12$A={for:"floatingInput"},_hoisted_13$x={key:0},_hoisted_14$x={class:"form-floating mb-2"},_hoisted_15$x={for:"script-settings-disabled_text"},_hoisted_16$w={key:0},_hoisted_17$u={class:"form-floating mb-2"},_hoisted_18$s=createBaseVNode("label",{for:"floatingInput"},"Максимальное число попыток",-1),_hoisted_19$r={class:"form-floating mb-2"},_hoisted_20$q=createBaseVNode("option",{value:null,selected:""},"Не выбрано",-1),_hoisted_21$p=["value"],_hoisted_22$p=createBaseVNode("label",{for:"select-custom-script"},"Персональный скрипт",-1),_hoisted_23$p={class:"alert alert-light mb-2"},_hoisted_24$m=createBaseVNode("p",{class:"mb-0"},[createBaseVNode("i",{class:"fa-solid fa-trophy text-primary"}),createTextVNode(" Призы, которые может выиграть пользователь, максимум "),createBaseVNode("strong",{class:"fw-bold text-primary"},"20")],-1),_hoisted_25$l={key:0,class:"mb-0"},_hoisted_26$j=createBaseVNode("strong",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_27$i={class:"mb-2 align-items-start d-flex"},_hoisted_28$i={class:"form-floating w-100",style:{"padding-right":"5px"}},_hoisted_29$h=["onUpdate:modelValue"],_hoisted_30$h={for:"script-settings-disabled_text"},_hoisted_31$h={key:0},_hoisted_32$h={class:"dropdown"},_hoisted_33$g=createBaseVNode("i",{class:"fa-solid fa-gear text-secondary"},null,-1),_hoisted_34$f=[_hoisted_33$g],_hoisted_35$f={class:"dropdown-menu w-100"},_hoisted_36$e=["onClick"],_hoisted_37$e=createBaseVNode("i",{class:"fa-solid fa-cog"},null,-1),_hoisted_38$e=["onClick"],_hoisted_39$e=createBaseVNode("i",{class:"fa-solid fa-trash text-danger"},null,-1),_hoisted_40$d=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),_hoisted_41$d={class:"modal fade",id:"prize-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_42$d={class:"modal-dialog"},_hoisted_43$d={class:"modal-content"},_hoisted_44$d=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор приз"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_45$d={class:"modal-body"},_hoisted_46$d={class:"form-floating mb-2"},_hoisted_47$c=["value"],_hoisted_48$c=createBaseVNode("label",{for:"floatingSelect"},"Тип приза",-1),_hoisted_49$c={key:0},_hoisted_50$c={key:1},_hoisted_51$c={key:1,class:"form-floating mb-2"},_hoisted_52$c=createBaseVNode("label",{for:"floatingInput"},"Значение эффекта",-1),_hoisted_53$b={style:{"max-height":"200px","overflow-y":"auto"},class:"row row-cols-5 w-100 p-2 mb-2"},_hoisted_54$b={class:"col mb-2"},_hoisted_55$9=["onClick"],_hoisted_56$9=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-success w-100 p-3","data-bs-dismiss":"modal"},"Сохранить")],-1),__default__$z={props:["modelValue"],data(){return{tab:"main",prize_config_modal:null,selected_prize_index:null,smiles:["🥤","🥗","🍔","🍗","🍟","🥓","🌯","🍱","🍜","🍲","🍧","🍨","🧁","🥞","🤖","🎲","🎯","😊","😎","🌻","👽","💌","📚","🐶","👻","🏀","👓","🎓","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","💡","🚀","⭐","💎","☘","🏆","🎁"],loaded_params:!1,wheel_types:[{key:"text",title:"Приз выдается во время заказа"},{key:"product_discount",title:"Скидка на товары, %"},{key:"cashback",title:"Начисление кэшбэка, руб"},{key:"effect_product",title:"Скидка на конкретный товар, %"}],scripts:[{id:"marketplace_1",title:"Под маркетплейс (вариант 1)"},{id:"auth_1",title:"Форма регистрации"},{id:"review_1",title:"Форма отзыва"}],form:{use_in_shop:!1,can_play:!0,rules_text:null,max_attempts:1,main_text:null,callback_message:null,win_message:null,btn_text:null,before_script:null,after_script:null,wheels:[]}}},computed:{bot(){return window.currentBot}},watch:{form:{handler:function(o){this.$emit("updated:modelValue",this.form)},deep:!0}},mounted(){this.prize_config_modal=new bootstrap.Modal("#prize-modal",{}),this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.loaded_params=!0,this.form.use_in_shop=this.bot.settings.selected_script_id==this.form.slug_id})},methods:{selectPrize(o){this.selected_prize_index=null,this.tab="main",this.$nextTick(()=>{this.selected_prize_index=o,this.prize_config_modal.show()})},selectProduct(o,t){this.form.wheels[t].effect_product=o,this.tab="main"},changeWheelColor(o){},removeWheel(o){this.form.wheels.splice(o,1),this.$notify({title:"Колесо фортуны",text:"Приз успешно удален",type:"success"})},addWheel(){this.form.wheels||(this.form.wheels=[]),this.form.wheels.length<20?(this.form.wheels.push({key:"wheel_text",type:"text",value:null,effect_value:0,effect_product:null}),this.$notify({title:"Колесо фортуны",text:"Новый приз успешно добавлен",type:"success"})):this.$notify({title:"Колесо фортуны",text:"Вы уже добавили максимальное число призов!",type:"error"})},addSmile(o,t){this.form.wheels[o].smile=t},submit(){let o=new FormData;Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("updateWheelCustomScriptParams",{slugForm:o}).then(t=>{this.$notify({title:"Информация о скрипте",text:"Информация о скрипте успешно обновлена!",type:"success"}),this.$emit("callback",t.data),window.location.reload()}).catch(t=>{this.$notify({title:"Информация о скрипте",text:"Ошибка обновления информации о скрипте",type:"error"})})}}},_sfc_main$Q=Object.assign(__default__$z,{__name:"WheelCustomScriptEditor",setup(o){return(t,a)=>{var i,s;return openBlock(),createElementBlock(Fragment,null,[t.loaded_params?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[10]||(a[10]=withModifiers((...r)=>t.submit&&t.submit(...r),["prevent"]))},[createBaseVNode("div",_hoisted_1$Q,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=r=>t.form.can_play=r),role:"switch",id:"script-settings-wheel-of-fortune-can_play"},null,512),[[vModelCheckbox,t.form.can_play]]),createBaseVNode("label",_hoisted_2$P,[createTextVNode("Состояние колеса фортуны: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_play})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_play})},"выкл",2)])]),createBaseVNode("div",_hoisted_3$P,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=r=>t.form.use_in_shop=r),role:"switch",id:"script-settings-wheel-of-fortune-use_in_shop"},null,512),[[vModelCheckbox,t.form.use_in_shop]]),createBaseVNode("label",_hoisted_4$L,[createTextVNode("Использовать выигрыши колеса фортуны в корзине товаров : "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.use_in_shop})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.use_in_shop})},"выкл",2)])]),createBaseVNode("div",_hoisted_5$L,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=r=>t.form.rules_text=r),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play"},null,512),[[vModelText,t.form.rules_text]]),createBaseVNode("label",_hoisted_6$K,[createTextVNode("Правила колеса фортуны "),(t.form.rules_text||"").length>0?(openBlock(),createElementBlock("span",_hoisted_7$J,toDisplayString((t.form.rules_text||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8$G,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=r=>t.form.main_text=r),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play",required:""},null,512),[[vModelText,t.form.main_text]]),createBaseVNode("label",_hoisted_9$F,[createTextVNode("Текст в боте "),(t.form.main_text||"").length>0?(openBlock(),createElementBlock("span",_hoisted_10$D,toDisplayString((t.form.main_text||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$B,[withDirectives(createBaseVNode("input",{type:"text",maxlength:"100","onUpdate:modelValue":a[4]||(a[4]=r=>t.form.btn_text=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.form.btn_text]]),createBaseVNode("label",_hoisted_12$A,[createTextVNode("Текст кнопки "),(t.form.btn_text||"").length>0?(openBlock(),createElementBlock("span",_hoisted_13$x,toDisplayString((t.form.btn_text||"").length)+"/100",1)):createCommentVNode("",!0)])]),createVNode(ParametrizedTextArea,{modelValue:t.form.win_message,"onUpdate:modelValue":a[5]||(a[5]=r=>t.form.win_message=r),maxlength:4e3,required:!0,class:"mb-2"},{title:withCtx(()=>[createTextVNode(" Текст при выигрыше ")]),_:1},8,["modelValue"]),createBaseVNode("div",_hoisted_14$x,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=r=>t.form.callback_message=r),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play",required:""},null,512),[[vModelText,t.form.callback_message]]),createBaseVNode("label",_hoisted_15$x,[createTextVNode(" Детали получения приза "),(t.form.callback_message||"").length>0?(openBlock(),createElementBlock("span",_hoisted_16$w,toDisplayString((t.form.callback_message||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_17$u,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[7]||(a[7]=r=>t.form.max_attempts=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.form.max_attempts]]),_hoisted_18$s]),createBaseVNode("div",_hoisted_19$r,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":a[8]||(a[8]=r=>t.form.before_script=r),id:"select-custom-script","aria-label":"Floating label select example"},[_hoisted_20$q,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.scripts,r=>(openBlock(),createElementBlock("option",{value:r.id},toDisplayString(r.title||"-"),9,_hoisted_21$p))),256))],512),[[vModelSelect,t.form.before_script]]),_hoisted_22$p]),createBaseVNode("div",_hoisted_23$p,[_hoisted_24$m,t.form.wheels.length===0?(openBlock(),createElementBlock("p",_hoisted_25$l,[_hoisted_26$j,createTextVNode(" Вы еще не добавили ни одного приза в колесо!")])):createCommentVNode("",!0)]),t.form.wheels.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.form.wheels,(r,n)=>(openBlock(),createElementBlock("div",_hoisted_27$i,[createBaseVNode("div",_hoisted_28$i,[withDirectives(createBaseVNode("textarea",{class:"form-control border-light","onUpdate:modelValue":l=>t.form.wheels[n].value=l,maxlength:"4000",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play",required:""},`

                    `,8,_hoisted_29$h),[[vModelText,t.form.wheels[n].value]]),createBaseVNode("label",_hoisted_30$h,[createTextVNode("#"+toDisplayString(n+1)+" - описание приза ",1),(t.form.wheels[n].value||"").length>0?(openBlock(),createElementBlock("span",_hoisted_31$h,toDisplayString((t.form.wheels[n].value||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_32$h,[createBaseVNode("button",{style:normalizeStyle({"background-color":t.form.wheels[n].bg_color}),class:"btn btn-outline-light",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_34$f,4),createBaseVNode("ul",_hoisted_35$f,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:l=>t.selectPrize(n),href:"javascript:void(0)"},[_hoisted_37$e,createTextVNode(" Настроить")],8,_hoisted_36$e)]),createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:l=>t.removeWheel(n),href:"javascript:void(0)"},[_hoisted_39$e,createTextVNode(" Удалить ")],8,_hoisted_38$e)])])])]))),256)):createCommentVNode("",!0),t.form.wheels.length<20?(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:a[9]||(a[9]=(...r)=>t.addWheel&&t.addWheel(...r)),class:"btn btn-outline-primary p-3 w-100 mb-5"},"Добавить приз ")):createCommentVNode("",!0),_hoisted_40$d],32)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_41$d,[createBaseVNode("div",_hoisted_42$d,[createBaseVNode("div",_hoisted_43$d,[_hoisted_44$d,createBaseVNode("div",_hoisted_45$d,[t.selected_prize_index!=null?(openBlock(),createElementBlock(Fragment,{key:0},[t.tab==="main"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_46$d,[withDirectives(createBaseVNode("select",{class:"form-select",id:"floatingSelect",onChange:a[11]||(a[11]=r=>t.selectProduct(null,t.selected_prize_index)),"onUpdate:modelValue":a[12]||(a[12]=r=>t.form.wheels[t.selected_prize_index].type=r),required:"","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.wheel_types,r=>(openBlock(),createElementBlock("option",{value:r.key},toDisplayString(r.title||"-"),9,_hoisted_47$c))),256))],544),[[vModelSelect,t.form.wheels[t.selected_prize_index].type]]),_hoisted_48$c]),t.form.wheels[t.selected_prize_index].type==="effect_product"?(openBlock(),createElementBlock("button",{key:0,onClick:a[13]||(a[13]=r=>t.tab="products"),class:"w-100 btn mb-2 btn-outline-light text-primary p-3",type:"button","aria-expanded":"false"},[t.form.wheels[t.selected_prize_index].effect_product?(openBlock(),createElementBlock("span",_hoisted_50$c,toDisplayString(((i=t.form.wheels[t.selected_prize_index].effect_product)==null?void 0:i.title)||"Без названия"),1)):(openBlock(),createElementBlock("span",_hoisted_49$c,"Выбрать товар"))])):createCommentVNode("",!0),t.form.wheels[t.selected_prize_index].type!=="text"?(openBlock(),createElementBlock("div",_hoisted_51$c,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[14]||(a[14]=r=>t.form.wheels[t.selected_prize_index].effect_value=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.form.wheels[t.selected_prize_index].effect_value]]),_hoisted_52$c])):createCommentVNode("",!0),withDirectives(createBaseVNode("input",{type:"color",onChange:a[15]||(a[15]=r=>t.changeWheelColor(t.selected_prize_index)),"onUpdate:modelValue":a[16]||(a[16]=r=>t.form.wheels[t.selected_prize_index].bg_color=r),style:{"min-height":"30px"},class:"form-control p-0 mb-2",id:"floatingInput",placeholder:"name@example.com"},null,544),[[vModelText,t.form.wheels[t.selected_prize_index].bg_color]]),createBaseVNode("div",_hoisted_53$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.smiles,r=>(openBlock(),createElementBlock("div",_hoisted_54$b,[createBaseVNode("a",{class:normalizeClass([{"bg-primary":r===(t.form.wheels[t.selected_prize_index]||{smile:null}).smile},"btn btn-outline-light"]),onClick:n=>t.addSmile(t.selected_prize_index,r),href:"javascript:void(0)"},toDisplayString(r),11,_hoisted_55$9)]))),256))])],64)):createCommentVNode("",!0),t.tab==="products"?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("button",{onClick:a[17]||(a[17]=r=>t.tab="main"),class:"btn btn-light text-secondary mb-3"},"Назад "),createVNode(_sfc_main$16,{selected:[(s=t.form.wheels[t.selected_prize_index].effect_product)==null?void 0:s.id],onSelect:a[18]||(a[18]=r=>t.selectProduct(r,t.selected_prize_index))},null,8,["selected"])],64)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)]),_hoisted_56$9])])])],64)}}}),MarketPlace1Form_vue_vue_type_style_index_0_lang="",_sfc_main$P={data(){return{form:{marketplace_id:null,file_1:null,file_2:null}}},methods:{submit(){this.$preloader.show(),this.$emit("callback",this.form)},onChangePhotos1(o){const t=o.target.files[0];this.form.file_1=t},onChangePhotos2(o){const t=o.target.files[0];this.form.file_2=t},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}}}},_hoisted_1$P={class:"card"},_hoisted_2$O={class:"card-body"},_hoisted_3$O=createBaseVNode("h3",{class:"fw-bold text-primary text-center my-3"}," Три простых шага и вы в игре ",-1),_hoisted_4$K=createBaseVNode("h6",null,[createBaseVNode("span",{class:"fw-bold text-primary"},"Шаг 1."),createTextVNode(" На каком маркетплейсе вы совершили покупку?")],-1),_hoisted_5$K={class:"d-flex justify-content-around my-2"},_hoisted_6$J={class:"form-check m-0 p-0"},_hoisted_7$I=createBaseVNode("label",{class:"form-check-label img-option",for:"radioDefault1"},[createBaseVNode("img",{src:"/images/marketplaces/yandex-market-sign-logo.png",alt:"Yandex"})],-1),_hoisted_8$F={class:"form-check m-0 p-0"},_hoisted_9$E=createBaseVNode("label",{class:"form-check-label img-option",for:"radioDefault2"},[createBaseVNode("img",{src:"/images/marketplaces/wildberries-sign-logo.svg",alt:"Wildberries"})],-1),_hoisted_10$C={class:"form-check m-0 p-0"},_hoisted_11$A=createBaseVNode("label",{class:"form-check-label img-option",for:"radioDefault3"},[createBaseVNode("img",{src:"/images/marketplaces/ozon-icon-logo.svg",alt:"Ozon"})],-1),_hoisted_12$z=createBaseVNode("h6",null,[createBaseVNode("span",{class:"fw-bold text-primary"},"Шаг 2."),createTextVNode(" Отправьте скриншот отзыва")],-1),_hoisted_13$w=createBaseVNode("div",{class:"alert alert-warning"}," Внимание! Отзыв должен быть обязательно с ТЕКСТОМ! ",-1),_hoisted_14$w={class:"mb-3"},_hoisted_15$w={for:"fileInput-1",class:"upload-area"},_hoisted_16$v={key:0,class:"text-muted"},_hoisted_17$t={key:1},_hoisted_18$r=createBaseVNode("h6",null,[createBaseVNode("span",{class:"fw-bold text-primary"},"Шаг 3."),createTextVNode(" Отправьте скриншот покупки")],-1),_hoisted_19$q={class:"mb-3"},_hoisted_20$p={for:"fileInput2",class:"upload-area"},_hoisted_21$o={key:0,class:"text-muted"},_hoisted_22$o={key:1},_hoisted_23$o=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Отправить",-1);function _sfc_render$g(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("div",_hoisted_2$O,[_hoisted_3$O,createBaseVNode("form",{onSubmit:t[5]||(t[5]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[_hoisted_4$K,createBaseVNode("div",_hoisted_5$K,[createBaseVNode("div",_hoisted_6$J,[withDirectives(createBaseVNode("input",{class:"form-check-input hide-input",value:"yandex","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.marketplace_id=l),type:"radio",name:"radioDefault",id:"radioDefault1"},null,512),[[vModelRadio,s.form.marketplace_id]]),_hoisted_7$I]),createBaseVNode("div",_hoisted_8$F,[withDirectives(createBaseVNode("input",{class:"form-check-input hide-input",value:"wb","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.type=l),type:"radio",name:"radioDefault",id:"radioDefault2"},null,512),[[vModelRadio,s.form.type]]),_hoisted_9$E]),createBaseVNode("div",_hoisted_10$C,[withDirectives(createBaseVNode("input",{class:"form-check-input hide-input","onUpdate:modelValue":t[2]||(t[2]=l=>s.form.type=l),value:"ozon",type:"radio",name:"radioDefault",id:"radioDefault3"},null,512),[[vModelRadio,s.form.type]]),_hoisted_11$A])]),_hoisted_12$z,_hoisted_13$w,createBaseVNode("div",_hoisted_14$w,[createBaseVNode("label",_hoisted_15$w,[s.form.file_1==null?(openBlock(),createElementBlock("div",_hoisted_16$v," 📁 Перетащите изображение сюда или нажмите, чтобы выбрать ")):withDirectives((openBlock(),createElementBlock("img",_hoisted_17$t,null,512)),[[n,r.getPhoto(s.form.file_1).imageUrl]])]),createBaseVNode("input",{type:"file",onChange:t[3]||(t[3]=(...l)=>r.onChangePhotos1&&r.onChangePhotos1(...l)),required:"",id:"fileInput-1",class:"hide-input",accept:"image/*"},null,32)]),_hoisted_18$r,createBaseVNode("div",_hoisted_19$q,[createBaseVNode("label",_hoisted_20$p,[s.form.file_2==null?(openBlock(),createElementBlock("div",_hoisted_21$o," 📁 Перетащите изображение сюда или нажмите, чтобы выбрать ")):withDirectives((openBlock(),createElementBlock("img",_hoisted_22$o,null,512)),[[n,r.getPhoto(s.form.file_2).imageUrl]])]),createBaseVNode("input",{type:"file",onChange:t[4]||(t[4]=(...l)=>r.onChangePhotos2&&r.onChangePhotos2(...l)),required:"",id:"fileInput2",class:"hide-input",accept:"image/*"},null,32)]),_hoisted_23$o],32)])])}const MarketPlace1Form=_export_sfc(_sfc_main$P,[["render",_sfc_render$g]]),_sfc_main$O={props:["review"],data(){return{form:{review_text:null,review_rating:5,file_1:null}}},mounted(){},methods:{onChangePhotos(o){const t=o.target.files[0];this.form.file_1=t},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(){this.form.file_1=null},submitReview(){this.$emit("callback",this.form)}}},_hoisted_1$O={class:"card-body"},_hoisted_2$N=createBaseVNode("h3",{class:"fw-bold text-primary text-center my-3"}," Оставить отзыв ",-1),_hoisted_3$N={class:"form-check mb-2"},_hoisted_4$J=createBaseVNode("label",{class:"form-check-label",for:"review_ratingReview1"}," Очень хорошо ",-1),_hoisted_5$J={class:"form-check mb-2"},_hoisted_6$I=createBaseVNode("label",{class:"form-check-label",for:"review_ratingReview2"}," Хорошо ",-1),_hoisted_7$H={class:"form-check mb-2"},_hoisted_8$E=createBaseVNode("label",{class:"form-check-label",for:"review_ratingReview3"}," Средне ",-1),_hoisted_9$D={class:"form-check mb-2"},_hoisted_10$B=createBaseVNode("label",{class:"form-check-label",for:"review_ratingReview4"}," Плохо ",-1),_hoisted_11$z={class:"form-check mb-2"},_hoisted_12$y=createBaseVNode("label",{class:"form-check-label",for:"review_ratingReview5"}," Очень плохо ",-1),_hoisted_13$v=createBaseVNode("h6",{class:"my-3 text-center fw-bold"},"Прикрепить фотографию",-1),_hoisted_14$v={class:"photo-preview d-flex justify-content-center flex-wrap w-100 my-3"},_hoisted_15$v={for:"menu-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_16$u=createBaseVNode("span",{class:"text-primary fw-bold"},"+",-1),_hoisted_17$s={key:0,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_18$q={class:"remove"},_hoisted_19$p=createBaseVNode("p",{class:"text-center"},[createBaseVNode("strong",null,"Напишите ваш отзыв")],-1),_hoisted_20$o={class:"form-floating"},_hoisted_21$n=createBaseVNode("label",{for:"floatingTextarea"},"Текст отзыва",-1),_hoisted_22$n=createBaseVNode("button",{type:"submit",class:"btn btn-primary my-2 w-100 p-3"},"Оставить отзыв",-1),_hoisted_23$n=createBaseVNode("button",{type:"button",class:"btn btn-link my-3 w-100 text-center","data-bs-dismiss":"modal","aria-label":"Close"}," Закрыть ",-1);function _sfc_render$f(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("form",{class:"card",onSubmit:t[8]||(t[8]=withModifiers((...l)=>r.submitReview&&r.submitReview(...l),["prevent"]))},[createBaseVNode("div",_hoisted_1$O,[_hoisted_2$N,createBaseVNode("div",_hoisted_3$N,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.review_rating=l),value:"5",type:"radio",name:"review_rating",id:"review_ratingReview1"},null,512),[[vModelRadio,s.form.review_rating]]),_hoisted_4$J]),createBaseVNode("div",_hoisted_5$J,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.review_rating=l),value:"4",type:"radio",name:"review_rating",id:"review_ratingReview2"},null,512),[[vModelRadio,s.form.review_rating]]),_hoisted_6$I]),createBaseVNode("div",_hoisted_7$H,[withDirectives(createBaseVNode("input",{class:"form-check-input",value:"3","onUpdate:modelValue":t[2]||(t[2]=l=>s.form.review_rating=l),type:"radio",name:"review_rating",id:"review_ratingReview3"},null,512),[[vModelRadio,s.form.review_rating]]),_hoisted_8$E]),createBaseVNode("div",_hoisted_9$D,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=l=>s.form.review_rating=l),value:"2",type:"radio",name:"review_rating",id:"review_ratingReview4"},null,512),[[vModelRadio,s.form.review_rating]]),_hoisted_10$B]),createBaseVNode("div",_hoisted_11$z,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[4]||(t[4]=l=>s.form.review_rating=l),value:"1",type:"radio",name:"review_rating",id:"review_ratingReview5"},null,512),[[vModelRadio,s.form.review_rating]]),_hoisted_12$y]),_hoisted_13$v,createBaseVNode("div",_hoisted_14$v,[createBaseVNode("label",_hoisted_15$v,[_hoisted_16$u,createBaseVNode("input",{type:"file",id:"menu-photos",accept:"image/*",onChange:t[5]||(t[5]=(...l)=>r.onChangePhotos&&r.onChangePhotos(...l)),style:{display:"none"}},null,32)]),s.form.file_1?(openBlock(),createElementBlock("div",_hoisted_17$s,[withDirectives(createBaseVNode("img",null,null,512),[[n,r.getPhoto(s.form.file_1).imageUrl]]),createBaseVNode("div",_hoisted_18$q,[createBaseVNode("a",{onClick:t[6]||(t[6]=l=>r.removePhoto())},"Удалить")])])):createCommentVNode("",!0)]),_hoisted_19$p,createBaseVNode("div",_hoisted_20$o,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{"min-height":"250px"},"onUpdate:modelValue":t[7]||(t[7]=l=>s.form.review_text=l),placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,s.form.review_text]]),_hoisted_21$n]),_hoisted_22$n,_hoisted_23$n])],32)}const Review1Form=_export_sfc(_sfc_main$O,[["render",_sfc_render$f]]),Auth1Form_vue_vue_type_style_index_0_lang="",_sfc_main$N={data(){return{load:!1,botUser:null,confirm:!1,form:{name:null,phone:null}}},mounted(){this.botUser=this.getSelf},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf,this.form.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.form.phone=this.botUser.phone||null}},methods:{submit(){this.$preloader.show(),this.$emit("callback",this.form)}}},_hoisted_1$N={class:"card"},_hoisted_2$M={class:"card-body"},_hoisted_3$M=createBaseVNode("h3",{class:"fw-bold text-primary text-center my-3"}," Регистрация участника ",-1),_hoisted_4$I={key:0,class:"row"},_hoisted_5$I={class:"col-12 mb-2"},_hoisted_6$H={class:"form-floating"},_hoisted_7$G=createBaseVNode("label",{for:"form-name"},"Ф.И.О.",-1),_hoisted_8$D={class:"col-12"},_hoisted_9$C={class:"form-floating"},_hoisted_10$A=createBaseVNode("label",{for:"form-phone"},"Номер телефона",-1),_hoisted_11$y={class:"col-12"},_hoisted_12$x=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1),_hoisted_13$u=createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"https://telegra.ph/Politika-konfidencialnosti-12-29-5",target:"_blank"},"политикой конфиденциальности"),createTextVNode(".")],-1),_hoisted_14$u={class:"d-flex mb-3"},_hoisted_15$u={class:"form-check form-switch"},_hoisted_16$t=createBaseVNode("label",{class:"form-check-label",for:"toggle-id-1"}," С правилами ознакомлен ",-1),_hoisted_17$r=["disabled"];function _sfc_render$e(o,t,a,i,s,r){const n=resolveDirective("mask");return openBlock(),createElementBlock("div",_hoisted_1$N,[createBaseVNode("div",_hoisted_2$M,[_hoisted_3$M,createBaseVNode("form",{onSubmit:t[3]||(t[3]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[s.botUser?(openBlock(),createElementBlock("div",_hoisted_4$I,[createBaseVNode("div",_hoisted_5$I,[createBaseVNode("div",_hoisted_6$H,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"form-name","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.name=l),"aria-describedby":"form-name",required:""},null,512),[[vModelText,s.form.name]]),_hoisted_7$G])]),createBaseVNode("div",_hoisted_8$D,[createBaseVNode("div",_hoisted_9$C,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.phone=l),placeholder:"+7(000)000-00-00","aria-label":"form-phone","aria-describedby":"form-phone",required:""},null,512),[[n,["+7(###)###-##-##"]],[vModelText,s.form.phone]]),_hoisted_10$A])]),createBaseVNode("div",_hoisted_11$y,[_hoisted_12$x,_hoisted_13$u,createBaseVNode("div",_hoisted_14$u,[createBaseVNode("div",_hoisted_15$u,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=l=>s.confirm=l),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[vModelCheckbox,s.confirm]]),_hoisted_16$t])])])])):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-primary w-100 p-3"},"Отправить ",8,_hoisted_17$r)],32)])])}const Auth1Form=_export_sfc(_sfc_main$N,[["render",_sfc_render$e]]),WheelCustom_vue_vue_type_style_index_0_lang="",_hoisted_1$M={key:0,class:"container py-3"},_hoisted_2$L={key:0,class:"row"},_hoisted_3$L={class:"col-12"},_hoisted_4$H=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_5$H={key:1,class:"row"},_hoisted_6$G={class:"col-12"},_hoisted_7$F={key:0},_hoisted_8$C=["innerHTML"],_hoisted_9$B={key:2,class:"mb-2"},_hoisted_10$z={class:"fw-bold text-primary"},_hoisted_11$x={class:"fw-bold text-primary"},_hoisted_12$w=createBaseVNode("p",{class:"mb-0 fw-bold text-danger"},"Вы израсходовали все ваши попытки",-1),_hoisted_13$t=[_hoisted_12$w],_hoisted_14$t={key:4},_hoisted_15$t={key:0,class:"alert-light alert mb-2"},_hoisted_16$s=createBaseVNode("h6",{class:"text-center fw-bold"},"Результат розыгрыша",-1),_hoisted_17$q={class:"mb-2 d-flex justify-content-between"},_hoisted_18$p={class:"fw-bold text-primary"},_hoisted_19$o={class:"mb-2 d-flex justify-content-between"},_hoisted_20$n={class:"fw-bold text-primary"},_hoisted_21$m={class:"mb-2 d-flex justify-content-between"},_hoisted_22$m={class:"fw-bold text-primary"},_hoisted_23$m={key:0,class:"mb-0 d-flex justify-content-between"},_hoisted_24$l={class:"fw-bold text-primary"},_hoisted_25$k=createBaseVNode("h6",{class:"mt-3 mb-2 text-center fw-bold"},"Как получить приз",-1),_hoisted_26$i=["innerHTML"],_hoisted_27$h={key:5,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_28$h=createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_29$g=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa-solid fa-dharmachakra"}),createTextVNode(" Доступны призы ")],-1),_hoisted_30$g={key:6,class:"alert alert-light w-100"},_hoisted_31$g=["onClick"],_hoisted_32$g={class:"wrap"},_hoisted_33$f={key:0,class:"start-panel"},_hoisted_34$e={key:0,class:"col-12"},_hoisted_35$e={class:"card",id:"result"},_hoisted_36$d={class:"card-body"},_hoisted_37$d=createBaseVNode("h6",{class:"text-center fw-bold"}," Ваш текущий выигрыш ",-1),_hoisted_38$d={class:"mb-2 text-center"},_hoisted_39$d={class:"mb-2 fst-italic"},_hoisted_40$c={key:1,class:"col-12"},_hoisted_41$c=createBaseVNode("h6",{class:"my-3"},"История розыгрышей",-1),_hoisted_42$c={class:"list-group"},_hoisted_43$c={class:"list-group-item p"},_hoisted_44$c={class:"mb-2 d-flex justify-content-between"},_hoisted_45$c={class:"fw-bold text-primary text-right"},_hoisted_46$c={class:"mb-2 d-flex justify-content-between"},_hoisted_47$b={class:"fw-bold text-primary text-right"},_hoisted_48$b={class:"mb-2 d-flex justify-content-between"},_hoisted_49$b={class:"fw-bold text-primary text-right"},_hoisted_50$b={key:0,class:"mb-2 d-flex justify-content-between"},_hoisted_51$b={class:"fw-bold text-primary text-right"},_hoisted_52$b={key:1,class:"container py-3"},_hoisted_53$a=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},[createTextVNode(" Подготавливаем данные... "),createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")])])])],-1),_hoisted_54$a=[_hoisted_53$a],__default__$y={components:{Wheel:Ka},name:"App",data(){return{tab:"main",smiles:["💙","💜","💚","💰","👑","🍩","⚽","🦖","🌺","🌷","🐾","⏳","💊","💡","🚀","⭐","💎","☘","🏆","🎁"],rules:null,action:null,step:1,before_script:null,script_data:null,selected_prize:null,show_prizes:!1,wheelDataLoaded:!1,winForm:{win:null},gift:0,logo:{src:"/wheel.png",width:120,height:120},items:[{id:1,value:"🍅",bgColor:"#fac600",color:"#ffffff"},{id:2,value:"🍲",bgColor:"#ffffff",color:"#000000"},{id:3,value:"🍦",bgColor:"#ff2e55",color:"#ffffff"},{id:4,value:"😍",bgColor:"#a1043a",color:"#ffffff"},{id:5,value:"☕",bgColor:"#ffffff",color:"#000000"},{id:6,value:"🍕",bgColor:"#c92729",color:"#ffffff"},{id:7,value:"📲",bgColor:"#ffffff",color:"#000000"},{id:8,value:"📌",bgColor:"#c92729",color:"#ffffff"},{id:9,value:"🚀",bgColor:"#c92729",color:"#ffffff"}]}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},sortedActionData(){var o;return!this.action||(((o=this.action)==null?void 0:o.data)||[]).length===0?[]:this.action.data.sort((t,a)=>new Date(a.played_at)-new Date(t.played_at))},canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.wheelDataLoaded=!1,this.loadServiceData().then(()=>{this.prepareUserData().then(()=>{this.step=this.before_script!=null?0:1,this.wheelDataLoaded=!0})}),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.tg.close()})},methods:{shuffle(o){let t=o.length,a;for(;t>0;)a=Math.floor(Math.random()*t),t--,[o[t],o[a]]=[o[a],o[t]];return o},launchWheel(){if(!this.canPlay){this.$notify({title:"Колесо фортуны",text:"Вы израсходовали все попытки!",type:"error"});return}this.gift=Math.floor(Math.random()*this.items.length)+1;let o=this.$refs.wheel;this.started=!0,o.spin()},formCallback(o){this.step=1,this.winForm={...this.winForm,...o},console.log(this.winForm)},done(o){this.winForm.win=o,this.$notify({title:"Колесо фортуны",text:"Поздравляем! Вы выиграли!",type:"success"}),this.action.current_attempts++,this.$nextTick(()=>{document.querySelector("#result").scrollIntoView(),setTimeout(()=>{this.submit()},2e3)})},lose(){this.$notify({title:"Колесо фортуны",text:"Вы израсходовали все попытки!",type:"error"})},prepareUserData(){return this.$store.dispatch("wheelOfFortuneCustomPrepare").then(o=>{this.action=o.action})},selectPrize(o){this.selected_prize=this.items[o]},loadServiceData(){return this.$store.dispatch("wheelOfFortuneCustomLoadData").then(o=>{this.script_data=o,this.rules=o.rules,this.after_script=o.after_script||null,this.before_script=o.before_script||null;const t=this.shuffle(o.wheels);let a=0;this.items=[];let i=[],s=(r,n)=>(r=Math.ceil(r),n=Math.floor(n),Math.floor(Math.random()*(n-r+1))+r);t.forEach(r=>{let n=!1,l=a+1;for(;!n;)l=this.smiles[s(0,this.smiles.length-1)],i.indexOf(l)===-1&&(i.push(l),n=!0);this.items.push({id:a+1,value:r.smile!=null?r.smile:l,bgColor:r.bg_color!=null?r.bg_color:a%2===0?"#9a1717":"#ffffff",color:"#9a1717",description:r.value}),a++})})},submit(){let o=new FormData;Object.keys(this.winForm).forEach(t=>{const a=this.winForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.set("file_1",this.winForm.file_1),o.set("file_2",this.winForm.file_2),o.append("description",this.winForm.win.description||"Без описания"),this.$store.dispatch("wheelOfFortuneCustomWin",{winForm:o}).then(t=>{this.winForm.win=null,this.prepareUserData(),this.tg.close()}).catch(t=>{}),this.$notify({title:"Колесо фортуны",text:"Вы выиграли приз "+(this.winForm.win.description||"Что-то интересное..."),type:"success"})}}},_sfc_main$M=Object.assign(__default__$y,{setup(o){return(t,a)=>{var i,s;return t.wheelDataLoaded?(openBlock(),createElementBlock("div",_hoisted_1$M,[(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("div",_hoisted_2$L,[createBaseVNode("div",_hoisted_3$L,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=r=>t.tab=t.tab==="main"?"config":"main"),class:"btn btn-outline-light text-primary w-100 mb-2",style:{"font-size":"12px"}},[_hoisted_4$H,createTextVNode(" Редактор скрипта ")])])])):createCommentVNode("",!0),t.tab==="main"?(openBlock(),createElementBlock(Fragment,{key:1},[t.step===0?(openBlock(),createElementBlock(Fragment,{key:0},[t.before_script==="marketplace_1"?(openBlock(),createBlock(MarketPlace1Form,{key:0,onCallback:t.formCallback},null,8,["onCallback"])):createCommentVNode("",!0),t.before_script==="auth_1"?(openBlock(),createBlock(Auth1Form,{key:1,onCallback:t.formCallback},null,8,["onCallback"])):createCommentVNode("",!0),t.before_script==="review_1"?(openBlock(),createBlock(Review1Form,{key:2,onCallback:t.formCallback},null,8,["onCallback"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_5$H,[createBaseVNode("div",_hoisted_6$G,[t.rules?(openBlock(),createElementBlock("h4",_hoisted_7$F,"Правила данной игры")):createCommentVNode("",!0),t.rules?(openBlock(),createElementBlock("p",{key:1,innerHTML:t.rules,class:"mb-2"},null,8,_hoisted_8$C)):createCommentVNode("",!0),t.canPlay&&t.action?(openBlock(),createElementBlock("p",_hoisted_9$B,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",_hoisted_10$z,toDisplayString(((i=t.action)==null?void 0:i.current_attempts)||0),1),createTextVNode(" из "),createBaseVNode("strong",_hoisted_11$x,toDisplayString(((s=t.action)==null?void 0:s.max_attempts)||1),1)])):(openBlock(),createElementBlock("div",{key:3,class:"alert-light alert mb-2",onClick:a[1]||(a[1]=(...r)=>t.lose&&t.lose(...r))},_hoisted_13$t)),t.action?(openBlock(),createElementBlock("div",_hoisted_14$t,[t.sortedActionData.length>0?(openBlock(),createElementBlock("div",_hoisted_15$t,[_hoisted_16$s,createBaseVNode("p",_hoisted_17$q,[createTextVNode("Название приза "),createBaseVNode("strong",_hoisted_18$p,toDisplayString(t.sortedActionData[0].description||"Отсутствует"),1)]),createBaseVNode("p",_hoisted_19$o,[createTextVNode("Победитель "),createBaseVNode("strong",_hoisted_20$n,toDisplayString(t.sortedActionData[0].name||"Не указано"),1)]),createBaseVNode("p",_hoisted_21$m,[createTextVNode("Телефон "),createBaseVNode("strong",_hoisted_22$m,toDisplayString(t.sortedActionData[0].phone||"Не указано"),1)]),t.sortedActionData[0].played_at?(openBlock(),createElementBlock("p",_hoisted_23$m,[createTextVNode(" Дата розыгрыша "),createBaseVNode("strong",_hoisted_24$l,toDisplayString(t.$filters.currentFull(t.sortedActionData[0].played_at)),1)])):createCommentVNode("",!0),_hoisted_25$k,t.script_data.callback_message?(openBlock(),createElementBlock("p",{key:1,class:"mb-0 fst-italic",innerHTML:t.script_data.callback_message},null,8,_hoisted_26$i)):createCommentVNode("",!0)])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_27$h,[createTextVNode(" Подготавливаем информацию по вашим розыгрышам... "),_hoisted_28$h])),createBaseVNode("p",{class:normalizeClass([{"alert-primary":!t.show_prizes,"alert-light":t.show_prizes},"my-2 d-flex justify-content-between alert rounded-2 align-items-center"])},[_hoisted_29$g,t.show_prizes?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-light text-primary rounded-5",onClick:a[2]||(a[2]=r=>t.show_prizes=!1)},"Скрыть ")):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:a[3]||(a[3]=r=>t.show_prizes=!0),class:"btn btn-primary rounded-5"},"Показать "))],2),t.show_prizes?(openBlock(),createElementBlock("div",_hoisted_30$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.items,(r,n)=>(openBlock(),createElementBlock("p",{onClick:l=>t.selectPrize(n),class:"mb-0"},toDisplayString(r.value)+" - "+toDisplayString(r.description),9,_hoisted_31$g))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$g,[createVNode(unref(Ka),{gift:t.gift,imgParams:t.logo,onDone:t.done,ref:"wheel",modelValue:t.items,"onUpdate:modelValue":a[4]||(a[4]=r=>t.items=r)},null,8,["gift","imgParams","onDone","modelValue"]),t.canPlay?(openBlock(),createElementBlock("div",_hoisted_33$f,[createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=(...r)=>t.launchWheel&&t.launchWheel(...r)),class:"btn btn-outline-primary bg-white border-5 text-black w-100 h-100 rounded-circle"}," Нажми старт ")])):createCommentVNode("",!0)])]),t.winForm.win?(openBlock(),createElementBlock("div",_hoisted_34$e,[createBaseVNode("div",_hoisted_35$e,[createBaseVNode("div",_hoisted_36$d,[_hoisted_37$d,createBaseVNode("h6",_hoisted_38$d,toDisplayString(t.winForm.win.value||t.winForm.win.id||"-")+" (#"+toDisplayString(t.winForm.win.id)+")",1),createBaseVNode("p",_hoisted_39$d,toDisplayString(t.winForm.win.description||"не указно"),1)])])])):createCommentVNode("",!0),t.sortedActionData.length>0?(openBlock(),createElementBlock("div",_hoisted_40$c,[_hoisted_41$c,createBaseVNode("ul",_hoisted_42$c,[t.action.data?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.sortedActionData,r=>(openBlock(),createElementBlock("li",_hoisted_43$c,[createBaseVNode("p",_hoisted_44$c,[createTextVNode("Название приза "),createBaseVNode("strong",_hoisted_45$c,toDisplayString(r.description||"Отсутствует"),1)]),createBaseVNode("p",_hoisted_46$c,[createTextVNode("Победитель "),createBaseVNode("strong",_hoisted_47$b,toDisplayString(r.name||"Не указано"),1)]),createBaseVNode("p",_hoisted_48$b,[createTextVNode("Телефон "),createBaseVNode("strong",_hoisted_49$b,toDisplayString(r.phone||"Не указано"),1)]),r.played_at?(openBlock(),createElementBlock("p",_hoisted_50$b,[createTextVNode(" Дата розыгрыша "),createBaseVNode("strong",_hoisted_51$b,toDisplayString(t.$filters.currentFull(r.played_at)),1)])):createCommentVNode("",!0)]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),t.tab==="config"?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("button",{onClick:a[6]||(a[6]=r=>t.tab="main"),class:"btn btn-light text-secondary mb-3"},"Назад "),t.script_data?(openBlock(),createBlock(_sfc_main$Q,{key:0,modelValue:t.script_data,"onUpdate:modelValue":a[7]||(a[7]=r=>t.script_data=r)},null,8,["modelValue"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_52$b,_hoisted_54$a))}}}),WheelCustom=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$M},Symbol.toStringTag,{value:"Module"})),AdminMenu_vue_vue_type_style_index_0_lang="",_sfc_main$L={computed:{tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{goTo(o){this.$router.push({name:o})}}},_hoisted_1$L={class:"container py-3"},_hoisted_2$K={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_3$K={class:"col"},_hoisted_4$G={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_5$G={class:"menu-item-img img-fluid",alt:""},_hoisted_6$F=createBaseVNode("p",{class:"my-2"},"Управление клиентами",-1),_hoisted_7$E={class:"col"},_hoisted_8$B={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_9$A={class:"menu-item-img img-fluid",alt:""},_hoisted_10$y=createBaseVNode("p",{class:"my-2"},"Управление столиками",-1),_hoisted_11$w={class:"col"},_hoisted_12$v={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_13$s={class:"menu-item-img img-fluid",alt:""},_hoisted_14$s=createBaseVNode("p",{class:"my-2"},"UTM-метки",-1),_hoisted_15$s={class:"col"},_hoisted_16$r={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_17$p={class:"menu-item-img img-fluid",alt:""},_hoisted_18$o=createBaseVNode("p",{class:"my-2"},"Управление рассылками",-1),_hoisted_19$n={class:"col"},_hoisted_20$m={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_21$l={class:"menu-item-img img-fluid",alt:""},_hoisted_22$l=createBaseVNode("p",{class:"my-2"},"Управление товарами",-1),_hoisted_23$l={class:"col"},_hoisted_24$k={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_25$j={class:"menu-item-img img-fluid",alt:""},_hoisted_26$h=createBaseVNode("p",{class:"my-2"},"Управление заказами",-1),_hoisted_27$g={class:"col"},_hoisted_28$g={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_29$f={class:"menu-item-img img-fluid",alt:""},_hoisted_30$f=createBaseVNode("p",{class:"my-2"},"Управление промокодами",-1),_hoisted_31$f={class:"col"},_hoisted_32$f={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_33$e={class:"menu-item-img img-fluid",alt:""},_hoisted_34$d=createBaseVNode("p",{class:"my-2"},"Статистика",-1),_hoisted_35$d={class:"col"},_hoisted_36$c={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_37$c={class:"menu-item-img img-fluid",alt:""},_hoisted_38$c=createBaseVNode("p",{class:"my-2"},"Управление ботом",-1),_hoisted_39$c={class:"col"},_hoisted_40$b={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_41$b={class:"menu-item-img img-fluid",alt:""},_hoisted_42$b=createBaseVNode("p",{class:"my-2"},"Управление страницами",-1),_hoisted_43$b={class:"col"},_hoisted_44$b={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_45$b={class:"menu-item-img img-fluid",alt:""},_hoisted_46$b=createBaseVNode("p",{class:"my-2"},"Управление диалогами",-1),_hoisted_47$a={class:"col"},_hoisted_48$a={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_49$a={class:"menu-item-img img-fluid",alt:""},_hoisted_50$a=createBaseVNode("p",{class:"my-2"},"Управление скриптами",-1),_hoisted_51$a={class:"col"},_hoisted_52$a={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_53$9={style:{"max-width":"150px"},class:"menu-item-img img-fluid",alt:""},_hoisted_54$9=createBaseVNode("p",{class:"my-2"},"Интеграции",-1);function _sfc_render$d(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$L,[createBaseVNode("div",_hoisted_2$K,[createBaseVNode("div",_hoisted_3$K,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=l=>r.goTo("ClientsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_4$G,[withDirectives(createBaseVNode("img",_hoisted_5$G,null,512),[[n,"/images/shop-v2-2/clients.png"]]),_hoisted_6$F])])]),createBaseVNode("div",_hoisted_7$E,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=l=>r.goTo("TablesManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_8$B,[withDirectives(createBaseVNode("img",_hoisted_9$A,null,512),[[n,"/images/shop-v2-2/clients.png"]]),_hoisted_10$y])])]),createBaseVNode("div",_hoisted_11$w,[createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=l=>r.goTo("LinkManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_12$v,[withDirectives(createBaseVNode("img",_hoisted_13$s,null,512),[[n,"/images/shop-v2-2/utm.png"]]),_hoisted_14$s])])]),createBaseVNode("div",_hoisted_15$s,[createBaseVNode("button",{type:"button",onClick:t[3]||(t[3]=l=>r.goTo("MailingV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_16$r,[withDirectives(createBaseVNode("img",_hoisted_17$p,null,512),[[n,"/images/shop-v2-2/mail.png"]]),_hoisted_18$o])])]),createBaseVNode("div",_hoisted_19$n,[createBaseVNode("button",{type:"button",onClick:t[4]||(t[4]=l=>r.goTo("ShopV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_20$m,[withDirectives(createBaseVNode("img",_hoisted_21$l,null,512),[[n,"/images/shop-v2-2/products.png"]]),_hoisted_22$l])])]),createBaseVNode("div",_hoisted_23$l,[createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=l=>r.goTo("AdminOrdersV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_24$k,[withDirectives(createBaseVNode("img",_hoisted_25$j,null,512),[[n,"/images/shop-v2-2/orders.png"]]),_hoisted_26$h])])]),createBaseVNode("div",_hoisted_27$g,[createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=l=>r.goTo("PromoCodesV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_28$g,[withDirectives(createBaseVNode("img",_hoisted_29$f,null,512),[[n,"/images/shop-v2-2/promo.png"]]),_hoisted_30$f])])]),createBaseVNode("div",_hoisted_31$f,[createBaseVNode("button",{type:"button",onClick:t[7]||(t[7]=l=>r.goTo("StatisticV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_32$f,[withDirectives(createBaseVNode("img",_hoisted_33$e,null,512),[[n,"/images/shop-v2-2/statistic.png"]]),_hoisted_34$d])])]),createBaseVNode("div",_hoisted_35$d,[createBaseVNode("button",{type:"button",onClick:t[8]||(t[8]=l=>r.goTo("BotManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_36$c,[withDirectives(createBaseVNode("img",_hoisted_37$c,null,512),[[n,"/images/shop-v2-2/statistic.png"]]),_hoisted_38$c])])]),createBaseVNode("div",_hoisted_39$c,[createBaseVNode("button",{type:"button",onClick:t[9]||(t[9]=l=>r.goTo("PageManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_40$b,[withDirectives(createBaseVNode("img",_hoisted_41$b,null,512),[[n,"/images/shop-v2-2/statistic.png"]]),_hoisted_42$b])])]),createBaseVNode("div",_hoisted_43$b,[createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=l=>r.goTo("DialogsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_44$b,[withDirectives(createBaseVNode("img",_hoisted_45$b,null,512),[[n,"/images/shop-v2-2/statistic.png"]]),_hoisted_46$b])])]),createBaseVNode("div",_hoisted_47$a,[createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=l=>r.goTo("SlugsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_48$a,[withDirectives(createBaseVNode("img",_hoisted_49$a,null,512),[[n,"/images/shop-v2-2/statistic.png"]]),_hoisted_50$a])])]),createBaseVNode("div",_hoisted_51$a,[createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=l=>r.goTo("IntegrationsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_52$a,[withDirectives(createBaseVNode("img",_hoisted_53$9,null,512),[[n,"/images/shop-v2-2/integrations.png"]]),_hoisted_54$9])])])])])}const AdminMenuV2=_export_sfc(_sfc_main$L,[["render",_sfc_render$d]]),AdminMenu=Object.freeze(Object.defineProperty({__proto__:null,default:AdminMenuV2},Symbol.toStringTag,{value:"Module"})),BotManager_vue_vue_type_style_index_0_lang="",_sfc_main$K={data(){return{tab:0,selected_warning:null,load:!1,need_payments:!1,need_shop:!1,bot:null,need_threads:!1,need_cashback_config:!1,cashback_fire_periods:[{title:"Не сгорает",value:0},{title:"7 дней",value:7},{title:"15 дней",value:15},{title:"30 дней",value:30},{title:"60 дней",value:60},{title:"60 дней",value:90},{title:"120 дней",value:120},{title:"180 дней",value:180},{title:"360 дней",value:360}],warnings:[{title:"Сумма чека больше чем",key:"bill_sum_more_then"},{title:"Сумма начисления кэшбэка больше чем",key:"cashback_up_sum_more_then"},{title:"Сумма списания кэшбэка больше чем",key:"cashback_down_sum_more_then"}],botForm:{title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,vk_shop_link:null,callback_link:null,balance:null,tax_per_day:null,welcome_message:null,image:null,description:null,info_link:null,commands:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,cashback_fire_percent:0,cashback_fire_period:0,photos:[],selected_bot_template_id:null,pages:[],warnings:[],amo:null,is_active:!1}}},computed:{filteredWarnings(){return this.botForm.warnings.length===0?this.warnings:this.warnings.filter(o=>!(this.botForm.warnings.findIndex(t=>t.rule_key===o.key)>=0))}},watch:{need_threads:function(o,t){let a=[{title:"Отзывы",key:"reviews",value:null},{title:"Операции с cashback",key:"cashback",value:null},{title:"Вопросы",key:"questions",value:null},{title:"Конкурсы",key:"actions",value:null},{title:"Заказы",key:"orders",value:null},{title:"Вывод средств",key:"ask-money",value:null}];this.need_threads&&!this.botForm.message_threads&&(this.botForm.message_threads=a),this.need_threads&&this.botForm.message_threads&&a.forEach(i=>{this.botForm.message_threads.findIndex(r=>r.key===i.key)===-1&&this.botForm.message_threads.push(i)})},need_payments:function(o,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},mounted(){this.loadBotAdminConfig(),window.addEventListener("select-telegram-channel-id",o=>{this.botForm[o.detail.param]=o.detail.channel})},methods:{removeCommands(o){this.botForm.commands.splice(o,1)},addCommands(){this.botForm.commands==null&&(this.botForm.commands=[]),this.botForm.commands.push({command:null,description:null})},loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.botForm={id:this.bot.id||null,title:this.bot.title||null,short_description:this.bot.short_description||null,long_description:this.bot.long_description||null,is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,message_threads:this.bot.message_threads||null,cashback_config:this.bot.cashback_config||null,commands:this.bot.commands||null,cashback_fire_percent:this.bot.cashback_fire_percent||0,cashback_fire_period:this.bot.cashback_fire_period||0,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,callback_link:this.bot.callback_link||null,image:this.bot.image||null,description:this.bot.description||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1||10,level_2:this.bot.level_2||0,level_3:this.bot.level_3||0,warnings:this.bot.warnings||[],photos:this.bot.photos||[],amo:this.bot.amo||null,is_active:this.bot.is_active||!1},this.botForm.commands==null&&(this.botForm.commands=[{command:"/start",description:"начни с этой команды"},{command:"/admins",description:"доступные администраторы в системе"},{command:"/help",description:"как использовать систему"},{command:"/about",description:"о CashMan"}]),this.botForm.payment_provider_token&&(this.need_payments=!0),this.botForm.vk_shop_link&&(this.need_shop=!0),this.botForm.cashback_config&&(this.need_cashback_config=!0)})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o){const t=o.target.files;this.botForm.image=null;for(let a=0;a<t.length;a++)this.botForm.photos.push(t[a])},addItem(o){this.botForm[o].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(o,t){this.botForm[o].splice(t,1)},removePhoto(o){o?this.botForm.photos.splice(o,1):this.botForm.image=null},switchStatus(){this.$store.dispatch("switchBotStatus").then(()=>{this.$notify({title:"Конструктор ботов",text:"Статус бота успешно изменен!",type:"success"})})},addBot(){let o=new FormData;Object.keys(this.botForm).forEach(t=>{const a=this.botForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.company&&o.append("company_id",this.company.id);for(let t=0;t<this.botForm.photos.length;t++)o.append("images[]",this.botForm.photos[t]);o.delete("photos"),this.$store.dispatch(this.bot==null?"createBot":"updateBot",{botForm:o}).then(t=>{this.$emit("callback",t.data),this.$notify({title:"Конструктор ботов",text:this.bot==null?"Бот успешно создан!":"Бот успешно обновлен!",type:"success"}),this.bot==null&&(this.botForm={title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,balance:null,tax_per_day:null,cashback_fire_percent:0,cashback_fire_period:0,image:null,description:null,info_link:null,social_links:[],warnings:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,photos:[],selected_bot_template_id:null,pages:[],is_active:!1})}).catch(t=>{})},getWarning(o){let t=this.warnings.find(a=>a.key===o);return t||{title:"Не найдено"}},removeWarning(o){this.botForm.warnings.splice(o,1)},removeCashBackConfig(o){this.botForm.cashback_config.splice(o,1)},addCashBackConfig(){this.botForm.cashback_config=this.botForm.cashback_config==null?[]:this.botForm.cashback_config,this.botForm.cashback_config.push({title:null})},addWarning(){const o=this.selected_warning;this.botForm.warnings.push({rule_key:o.key,rule_value:0,is_active:!0}),this.selected_warning=null},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},openUrl(o){this.tg.openLink(o)}}},_hoisted_1$K={class:"container py-3"},_hoisted_2$J={class:"row"},_hoisted_3$J={class:"col-12"},_hoisted_4$F={class:"card",style:{height:"330px"}},_hoisted_5$F={key:0,class:"card-body"},_hoisted_6$E={class:"w-100 d-flex justify-content-center p-3"},_hoisted_7$D={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_8$A={class:"color-white font-700 text-center mb-2"},_hoisted_9$z={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_10$x=createBaseVNode("i",{class:"fa-solid fa-sack-dollar"},null,-1),_hoisted_11$v={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_12$u=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar"},null,-1),_hoisted_13$r={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_14$r=createBaseVNode("i",{class:"fa-regular fa-calendar-days"},null,-1),_hoisted_15$r={class:"w-100 d-flex justify-content-center py-4"},_hoisted_16$q={class:"form-check form-switch"},_hoisted_17$o={class:"form-check-label",for:"toggle-id-1"},_hoisted_18$n={key:0,class:"ml-5"},_hoisted_19$m={key:1,class:"ml-5"},_hoisted_20$l={key:1,class:"card-body"},_hoisted_21$k=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_22$k=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_23$k=[_hoisted_21$k,_hoisted_22$k],_hoisted_24$j=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_25$i={class:"nav nav-tabs justify-content-center my-2"},_hoisted_26$g={class:"nav-item"},_hoisted_27$f={class:"nav-item"},_hoisted_28$f={class:"nav-item"},_hoisted_29$e={class:"nav-item"},_hoisted_30$e=createBaseVNode("div",{class:"alert alert-light my-2"},' Строго взять из BotFather! ТО что при создании с окончанием на "bot" ',-1),_hoisted_31$e={class:"form-floating mb-2"},_hoisted_32$e=createBaseVNode("label",{id:"bot-domain"}," Доменное имя бота из BotFather ",-1),_hoisted_33$d={key:0},_hoisted_34$c={class:"alert alert-light"},_hoisted_35$c={class:"form-floating mb-2"},_hoisted_36$b=createBaseVNode("label",{id:"bot-token"}," Токен бота ",-1),_hoisted_37$b={class:"form-floating mb-2"},_hoisted_38$b=createBaseVNode("label",{id:"bot-token-dev"},"Токен бота (для тестирования)",-1),_hoisted_39$b=createBaseVNode("div",{class:"alert alert-light"}," Имя бота, которая отображается у всех пользователей в боте ",-1),_hoisted_40$a={class:"form-floating mb-2"},_hoisted_41$a=createBaseVNode("label",{id:"bot-title"}," Отображаемое имя бота ",-1),_hoisted_42$a=createBaseVNode("div",{class:"alert alert-info"}," Описание бота, которое отобразится при переходе в бота по ссылке ",-1),_hoisted_43$a={class:"form-floating mb-2"},_hoisted_44$a={id:"bot-short-description"},_hoisted_45$a={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_46$a={class:"form-floating mb-2"},_hoisted_47$9={id:"bot-short-description"},_hoisted_48$9={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_49$9=createBaseVNode("h6",null,"Команды в боте",-1),_hoisted_50$9={key:0},_hoisted_51$9=createBaseVNode("em",null,"К сожалению, вы еще не добавили ни 1й команды в меню бота",-1),_hoisted_52$9=[_hoisted_51$9],_hoisted_53$8=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Например, команда "),createBaseVNode("b",null,"/start"),createTextVNode(", а описание к ней: "),createBaseVNode("b",null,"начало работы с системой")])],-1),_hoisted_54$8={class:"mb-2"},_hoisted_55$8=["onUpdate:modelValue","aria-describedby"],_hoisted_56$8={class:"mb-2"},_hoisted_57$8=["onUpdate:modelValue","aria-describedby"],_hoisted_58$7=["onClick"],_hoisted_59$7=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_60$6=createBaseVNode("div",{class:"divider divider-small my-4 bg-highlight"},null,-1),_hoisted_61$6={class:"mb-2"},_hoisted_62$6=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Данные команды отображаются в кнопке "),createBaseVNode("b",null,"Меню"),createTextVNode(" слева от поля ввода в боте")])],-1),_hoisted_63$6={class:"mb-2"},_hoisted_64$6={class:"d-flex justify-content-between align-items-center flex-wrap"},_hoisted_65$6={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center w-100",id:"bot-order-channel"},_hoisted_66$6=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_67$6=createBaseVNode("div",null,"Ввести адрес ссылки на канал в форму после добавления тоукена ",-1),_hoisted_68$6=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_69$6=[_hoisted_68$6],_hoisted_70$6=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_71$6=createBaseVNode("div",null,"Нужно ",-1),_hoisted_72$5={class:"mb-2"},_hoisted_73$5={class:"d-flex justify-content-between"},_hoisted_74$4={class:"form-label d-flex justify-content-between mt-2",id:"bot-main-channel"},_hoisted_75$4=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_76$4=[_hoisted_75$4],_hoisted_77$4={class:"mb-2"},_hoisted_78$3={class:"form-check"},_hoisted_79$3=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо добавить рассылку по топикам для канала заказов (он же системный канал) ",-1),_hoisted_80$3={key:0,class:"mb-2"},_hoisted_81$3=createBaseVNode("p",{class:"mb-2 font-italic"},[createTextVNode("Для того, чтоб узнать идентификатор топика в группе впишите в чат "),createBaseVNode("strong",null,'"Мой id"')],-1),_hoisted_82$3={class:"list-group"},_hoisted_83$2={class:"list-group-item"},_hoisted_84$2={class:"mb-0"},_hoisted_85$2=["onUpdate:modelValue"],_hoisted_86$2={key:1,class:"mb-0"},_hoisted_87$2={class:"mb-2"},_hoisted_88$2={class:"d-flex justify-content-between flex-wrap"},_hoisted_89$2={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-description"},_hoisted_90$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_91$2=createBaseVNode("div",null,"Отобразится пользователю при первом запуске",-1),_hoisted_92$2=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_93$2=createBaseVNode("div",null,"Нужно ",-1),_hoisted_94$2={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_95$2={class:"mb-2"},_hoisted_96$2={class:"d-flex justify-content-between flex-wrap"},_hoisted_97$2={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-description"},_hoisted_98$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_99$2=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_100$2=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_101$2=createBaseVNode("div",null,"Нужно ",-1),_hoisted_102$2={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_103$2={class:"mb-2"},_hoisted_104$2={class:"d-flex justify-content-between flex-wrap"},_hoisted_105$2={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-maintenance-message"},_hoisted_106$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_107$2=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_108$2=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_109$2=createBaseVNode("div",null,"Нужно ",-1),_hoisted_110$1={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_111$1={class:"mb-2"},_hoisted_112$1={class:"form-label d-flex justify-content-between mt-2",id:"bot-callback-url"},_hoisted_113$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_114$1=createBaseVNode("div",null,"Ссылка на внешний сервис для обратной связи ",-1),_hoisted_115$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_116$1={class:"mb-2"},_hoisted_117$1={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_118$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_119$1=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_120$1=createBaseVNode("a",{target:"_blank",href:"https://telegra.ph"},"Создать",-1),_hoisted_121$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_122$1=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_123$1={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_124$1=createBaseVNode("small",null,"Ссылка",-1),_hoisted_125$1=["onClick"],_hoisted_126$1=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_127$1=[_hoisted_126$1],_hoisted_128$1=["onUpdate:modelValue","aria-describedby"],_hoisted_129$1=["onUpdate:modelValue"],_hoisted_130=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_131={class:"d-flex justify-content-between align-items-center"},_hoisted_132=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_133=createBaseVNode("div",null,"Нужно ",-1),_hoisted_134={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_135={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_136=createBaseVNode("span",null,"+",-1),_hoisted_137={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_138={class:"remove"},_hoisted_139=["onClick"],_hoisted_140=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_141=[_hoisted_140],_hoisted_142={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_143={class:"remove"},_hoisted_144=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_145=[_hoisted_144],_hoisted_146={class:"form-floating mb-2"},_hoisted_147=createBaseVNode("label",{id:"bot-level-1"}," Уровень баллов #1 , % ",-1),_hoisted_148={class:"form-floating mb-2"},_hoisted_149=createBaseVNode("label",{id:"bot-level-2"},"Уровень баллов #2, %",-1),_hoisted_150={class:"form-floating mb-2"},_hoisted_151=createBaseVNode("label",{id:"bot-level-3"},"Уровень баллов #3, %",-1),_hoisted_152={class:"form-floating mb-2"},_hoisted_153=["value"],_hoisted_154=createBaseVNode("label",{id:"cashback-fired-period"},"Период сгорания баллов",-1),_hoisted_155={key:0,class:"form-floating mb-2"},_hoisted_156=createBaseVNode("label",{id:"cashback-fired-level"},"Уровень сгорания баллов, %",-1),_hoisted_157={class:"form-check mb-2"},_hoisted_158=createBaseVNode("label",{class:"form-check-label",for:"need-cashback-config"}," Необходимо настроить баллы по категориям ",-1),_hoisted_159={key:1,class:"mb-2"},_hoisted_160=createBaseVNode("h6",null,"Настройка категорий баллов",-1),_hoisted_161={class:"form-floating"},_hoisted_162=["onUpdate:modelValue","aria-describedby"],_hoisted_163=createBaseVNode("label",{for:""},"Название категории",-1),_hoisted_164={class:"input-group-text",id:"basic-addon1"},_hoisted_165=["onClick"],_hoisted_166=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_167=[_hoisted_166],_hoisted_168={class:"form-floating mb-2"},_hoisted_169=createBaseVNode("option",{value:null},"Не выбрано",-1),_hoisted_170=["value"],_hoisted_171=createBaseVNode("label",{class:"form-check-label",for:"warning-rules"},[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation text-danger"}),createTextVNode(" Правила критических оповещений ")],-1),_hoisted_172={class:"form-check form-switch"},_hoisted_173=["onUpdate:modelValue","id"],_hoisted_174=["for"],_hoisted_175={key:0,class:"fw-bold small text-primary"},_hoisted_176={key:1,class:"fw-bold small text-primary"},_hoisted_177={class:"input-group mb-2"},_hoisted_178={class:"form-floating"},_hoisted_179=["onUpdate:modelValue"],_hoisted_180={class:"input-group-text",id:"basic-addon1"},_hoisted_181=["onClick"],_hoisted_182=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_183=[_hoisted_182],_hoisted_184={class:"form-check form-switch mb-2"},_hoisted_185=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему",-1),_hoisted_186={class:"form-check form-switch"},_hoisted_187=["value"],_hoisted_188=createBaseVNode("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),_hoisted_189=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Если в боте планируется оплата, то необходимо через BotFather "),createBaseVNode("a",{href:"https://t.me/botfather",target:"_blank"},"привязать нужную"),createTextVNode(" платежную систему и указать в данном поле полученный токен ")],-1),_hoisted_190={class:"form-floating mb-2"},_hoisted_191=createBaseVNode("label",{for:""},"Токен платежной системы",-1),_hoisted_192={class:"form-check form-switch"},_hoisted_193=createBaseVNode("label",{class:"form-check-label",for:"need-shop"},"Необходимо интегрировать магазин в бота",-1),_hoisted_194=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Ссылка на страницу ВК с товарами для вашего магазина в боте. "),createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать")],-1),_hoisted_195={class:"form-floating mb-2"},_hoisted_196=createBaseVNode("label",{for:"vk_shop_link"}," ВК-группа ",-1),_hoisted_197=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_198=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_199={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_200=["disabled"];function _sfc_render$c(o,t,a,i,s,r){const n=resolveComponent("Popper"),l=resolveComponent("tempalte"),c=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$K,[createBaseVNode("div",_hoisted_2$J,[createBaseVNode("div",_hoisted_3$J,[createBaseVNode("div",_hoisted_4$F,[s.bot?(openBlock(),createElementBlock("div",_hoisted_5$F,[createBaseVNode("div",_hoisted_6$E,[withDirectives(createBaseVNode("img",_hoisted_7$D,null,512),[[c,"/images-by-company-id/"+s.bot.company_id+"/"+s.bot.image]])]),createBaseVNode("h2",_hoisted_8$A,toDisplayString(s.bot.bot_domain||"Нет домена"),1),createBaseVNode("p",_hoisted_9$z,[_hoisted_10$x,createTextVNode(" Баланс "+toDisplayString(s.bot.balance||"0")+" ₽ ",1)]),createBaseVNode("p",_hoisted_11$v,[_hoisted_12$u,createTextVNode(" Тариф "+toDisplayString(s.bot.tax_per_day||"0")+" ₽/день ",1)]),createBaseVNode("p",_hoisted_13$r,[_hoisted_14$r,createTextVNode(" Дней "+toDisplayString(s.bot.balance/s.bot.tax_per_day)+" осталось ",1)]),createBaseVNode("div",_hoisted_15$r,[createBaseVNode("div",_hoisted_16$q,[withDirectives(createBaseVNode("input",{class:"form-check-input",onChange:t[0]||(t[0]=(...m)=>r.switchStatus&&r.switchStatus(...m)),"onUpdate:modelValue":t[1]||(t[1]=m=>s.botForm.is_active=m),type:"checkbox",role:"switch",id:"toggle-id-1"},null,544),[[vModelCheckbox,s.botForm.is_active]]),createBaseVNode("label",_hoisted_17$o,[s.botForm.is_active?(openBlock(),createElementBlock("span",_hoisted_18$n,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_19$m,"Выкл"))])])])])):(openBlock(),createElementBlock("div",_hoisted_20$l,_hoisted_23$k)),_hoisted_24$j]),createBaseVNode("form",{onSubmit:t[42]||(t[42]=withModifiers((...m)=>r.addBot&&r.addBot(...m),["prevent"]))},[s.bot?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("ul",_hoisted_25$i,[createBaseVNode("li",_hoisted_26$g,[createBaseVNode("a",{onClick:t[2]||(t[2]=m=>s.tab=0),class:normalizeClass([{active:s.tab===0},"nav-link"]),href:"javascript:void(0)","aria-current":"page"},"Основное",2)]),createBaseVNode("li",_hoisted_27$f,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:s.tab===1}]),onClick:t[3]||(t[3]=m=>s.tab=1),href:"javascript:void(0)"},"Команды",2)]),createBaseVNode("li",_hoisted_28$f,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:s.tab===2}]),onClick:t[4]||(t[4]=m=>s.tab=2),href:"javascript:void(0)"},"Каналы",2)]),createBaseVNode("li",_hoisted_29$e,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:s.tab===3}]),onClick:t[5]||(t[5]=m=>s.tab=3),href:"javascript:void(0)"},"CashBack и платежные системы",2)])]),withDirectives(createBaseVNode("div",null,[_hoisted_30$e,createBaseVNode("div",_hoisted_31$e,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота","onUpdate:modelValue":t[6]||(t[6]=m=>s.botForm.bot_domain=m),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,s.botForm.bot_domain]]),_hoisted_32$e]),s.botForm.bot_domain?(openBlock(),createElementBlock("p",_hoisted_33$d,[createTextVNode("Проверить работу бота "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[7]||(t[7]=m=>r.openUrl("https://t.me/"+s.botForm.bot_domain))},"@"+toDisplayString(s.botForm.bot_domain),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_34$c,[createTextVNode(" Взять из BotFater при создании бота! Длинная нечитаемая подсвеченная строка! "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[8]||(t[8]=m=>r.openUrl("https://t.me/botfather")),class:"w-100",target:"_blank"},"Создать нового бота в ТГ"),createTextVNode(" или получить тоукен существюущего можно по ссылке. ")]),createBaseVNode("div",_hoisted_35$c,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[9]||(t[9]=m=>s.botForm.bot_token=m),maxlength:"255","aria-describedby":"bot-token",required:""},null,512),[[vModelText,s.botForm.bot_token]]),_hoisted_36$b]),createBaseVNode("div",_hoisted_37$b,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[10]||(t[10]=m=>s.botForm.bot_token_dev=m),maxlength:"255","aria-describedby":"bot-token-dev"},null,512),[[vModelText,s.botForm.bot_token_dev]]),_hoisted_38$b]),_hoisted_39$b,createBaseVNode("div",_hoisted_40$a,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Отображаемое имя бота","aria-label":"Отображаемое имя бота","onUpdate:modelValue":t[11]||(t[11]=m=>s.botForm.title=m),maxlength:"64","aria-describedby":"bot-title"},null,512),[[vModelText,s.botForm.title]]),_hoisted_41$a]),_hoisted_42$a,createBaseVNode("div",_hoisted_43$a,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Короткое описание бота","aria-label":"Короткое описание бота","onUpdate:modelValue":t[12]||(t[12]=m=>s.botForm.short_description=m),maxlength:"120",style:{"min-height":"200px"},"aria-describedby":"short-description"},null,512),[[vModelText,s.botForm.short_description]]),createBaseVNode("label",_hoisted_44$a,[createTextVNode(" Короткое описание бота "),s.botForm.short_description?(openBlock(),createElementBlock("small",_hoisted_45$a,toDisplayString(s.botForm.short_description.length)+" / 120",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_46$a,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Длинное описание бота","aria-label":"Длинное описание бота","onUpdate:modelValue":t[13]||(t[13]=m=>s.botForm.long_description=m),maxlength:"512",style:{"min-height":"200px"},"aria-describedby":"short-description"},null,512),[[vModelText,s.botForm.long_description]]),createBaseVNode("label",_hoisted_47$9,[createTextVNode(" Длинное описание бота "),s.botForm.long_description?(openBlock(),createElementBlock("small",_hoisted_48$9,toDisplayString(s.botForm.long_description.length)+" / 512",1)):createCommentVNode("",!0)])])],512),[[vShow,s.tab===0]]),withDirectives(createBaseVNode("div",null,[_hoisted_49$9,s.botForm.commands?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_50$9,_hoisted_52$9)),_hoisted_53$8,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.commands,(m,p)=>(openBlock(),createElementBlock("div",{class:"mb-2",key:"commands-"+p},[createBaseVNode("div",_hoisted_54$8,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Название команды","aria-label":"Название команды",maxlength:"255","onUpdate:modelValue":y=>s.botForm.commands[p].command=y,"aria-describedby":"bot-command-"+p,required:""},null,8,_hoisted_55$8),[[vModelText,s.botForm.commands[p].command]])]),createBaseVNode("div",_hoisted_56$8,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255","onUpdate:modelValue":y=>s.botForm.commands[p].description=y,"aria-describedby":"bot-command-description-"+p,required:""},null,8,_hoisted_57$8),[[vModelText,s.botForm.commands[p].description]])]),createBaseVNode("button",{type:"button",onClick:y=>r.removeCommands(p),class:"btn btn-outline-danger w-100"},[_hoisted_59$7,createTextVNode(" Удалить команду ")],8,_hoisted_58$7),_hoisted_60$6]))),128)),createBaseVNode("div",_hoisted_61$6,[_hoisted_62$6,createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=m=>r.addCommands()),class:"btn btn-success w-100"},"Добавить еще команду ")])],512),[[vShow,s.tab===1]]),withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_63$6,[createBaseVNode("div",_hoisted_64$6,[createBaseVNode("label",_hoisted_65$6,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_67$6]),default:withCtx(()=>[_hoisted_66$6]),_:1}),createTextVNode(" Канал для заказов (id) "),createBaseVNode("span",{onClick:t[15]||(t[15]=m=>r.requestChannelId("order_channel"))},_hoisted_69$6)]),createVNode(n,null,{content:withCtx(()=>[_hoisted_71$6]),default:withCtx(()=>[_hoisted_70$6]),_:1})])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[16]||(t[16]=m=>s.botForm.order_channel=m),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[vModelText,s.botForm.order_channel]])]),createBaseVNode("div",_hoisted_72$5,[createBaseVNode("div",_hoisted_73$5,[createBaseVNode("label",_hoisted_74$4,[createTextVNode("Канал для постов (id,рекламный) "),createBaseVNode("span",{onClick:t[17]||(t[17]=m=>r.requestChannelId("main_channel"))},_hoisted_76$4)])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[18]||(t[18]=m=>s.botForm.main_channel=m),maxlength:"255","aria-describedby":"bot-main-channel"},null,512),[[vModelText,s.botForm.main_channel]])]),createBaseVNode("div",_hoisted_77$4,[createBaseVNode("div",_hoisted_78$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=m=>s.need_threads=m),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,s.need_threads]]),_hoisted_79$3])]),s.need_threads?(openBlock(),createElementBlock("div",_hoisted_80$3,[_hoisted_81$3,createBaseVNode("ul",_hoisted_82$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.message_threads,(m,p)=>(openBlock(),createElementBlock("li",_hoisted_83$2,[createBaseVNode("p",_hoisted_84$2,toDisplayString(m.title)+" ("+toDisplayString(m.key)+")",1),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Идентификатор топика","onUpdate:modelValue":y=>s.botForm.message_threads[p].value=y},null,8,_hoisted_85$2),[[vModelText,s.botForm.message_threads[p].value]])]))),256))])])):createCommentVNode("",!0),s.botForm.bot_token?(openBlock(),createElementBlock("div",_hoisted_86$2,[createBaseVNode("div",_hoisted_87$2,[createBaseVNode("div",_hoisted_88$2,[createBaseVNode("label",_hoisted_89$2,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_91$2]),default:withCtx(()=>[_hoisted_90$2]),_:1}),createTextVNode(" Приветственное сообщение ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_93$2]),default:withCtx(()=>[_hoisted_92$2]),_:1})]),s.botForm.welcome_message?(openBlock(),createElementBlock("small",_hoisted_94$2," Длина текста "+toDisplayString(s.botForm.welcome_message.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое приветствие при запуске бота","aria-label":"Текстовое приветствие при запуске бота","onUpdate:modelValue":t[20]||(t[20]=m=>s.botForm.welcome_message=m),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,s.botForm.welcome_message]])]),createBaseVNode("div",_hoisted_95$2,[createBaseVNode("div",_hoisted_96$2,[createBaseVNode("label",_hoisted_97$2,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_99$2]),default:withCtx(()=>[_hoisted_98$2]),_:1}),createTextVNode(" Описание бота ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_101$2]),default:withCtx(()=>[_hoisted_100$2]),_:1})]),s.botForm.description?(openBlock(),createElementBlock("small",_hoisted_102$2," Длина текста "+toDisplayString(s.botForm.description.length)+" / 255",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое описание бота","aria-label":"Текстовое описание бота","onUpdate:modelValue":t[21]||(t[21]=m=>s.botForm.description=m),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,s.botForm.description]])]),createBaseVNode("div",_hoisted_103$2,[createBaseVNode("div",_hoisted_104$2,[createBaseVNode("label",_hoisted_105$2,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_107$2]),default:withCtx(()=>[_hoisted_106$2]),_:1}),createTextVNode(" Режим тех. работ ")]),createVNode(n,null,{content:withCtx(()=>[_hoisted_109$2]),default:withCtx(()=>[_hoisted_108$2]),_:1})]),s.botForm.maintenance_message?(openBlock(),createElementBlock("small",_hoisted_110$1," Длина текста "+toDisplayString(s.botForm.maintenance_message.length)+" / 255 ",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":t[22]||(t[22]=m=>s.botForm.maintenance_message=m),maxlength:"255",style:{"min-height":"200px"},"aria-describedby":"bot-maintenance-message",required:""},`
                    `,512),[[vModelText,s.botForm.maintenance_message]])]),createBaseVNode("div",_hoisted_111$1,[createBaseVNode("label",_hoisted_112$1,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_114$1]),default:withCtx(()=>[_hoisted_113$1]),_:1}),createTextVNode(" ВК-группа ")])]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на внешний сервис","aria-label":"Ссылка на внешний сервис","onUpdate:modelValue":t[23]||(t[23]=m=>s.botForm.callback_link=m),"aria-describedby":"callback_link"},null,512),[[vModelText,s.botForm.callback_link]])]),_hoisted_115$1,createBaseVNode("div",_hoisted_116$1,[createBaseVNode("label",_hoisted_117$1,[createBaseVNode("div",null,[createVNode(n,null,{content:withCtx(()=>[_hoisted_119$1]),default:withCtx(()=>[_hoisted_118$1]),_:1}),createTextVNode(" Информационная ссылка ")]),_hoisted_120$1]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Ссылка ресурс telegraph","aria-label":"Ссылка ресурс telegraph",maxlength:"255","onUpdate:modelValue":t[24]||(t[24]=m=>s.botForm.info_link=m),"aria-describedby":"bot-info-link"},null,512),[[vModelText,s.botForm.info_link]])]),_hoisted_121$1,_hoisted_122$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.social_links,(m,p)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+p},[createBaseVNode("div",_hoisted_123$1,[_hoisted_124$1,createBaseVNode("button",{type:"button",onClick:y=>r.removeItem("social_links",p),class:"btn btn-link text-danger"},_hoisted_127$1,8,_hoisted_125$1)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название ссылки","aria-label":"Название ссылки",maxlength:"255","onUpdate:modelValue":y=>s.botForm.social_links[p].title=y,"aria-describedby":"bot-social-link-"+p,required:""},null,8,_hoisted_128$1),[[vModelText,s.botForm.social_links[p].title]]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":y=>s.botForm.social_links[p].url=y},null,8,_hoisted_129$1),[[vModelText,s.botForm.social_links[p].url]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=m=>r.addSocialLinks()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_130,createBaseVNode("h6",_hoisted_131,[createTextVNode("Аватар для бота "),createVNode(n,null,{content:withCtx(()=>[_hoisted_133]),default:withCtx(()=>[_hoisted_132]),_:1})]),createBaseVNode("div",_hoisted_134,[createBaseVNode("label",_hoisted_135,[_hoisted_136,createBaseVNode("input",{type:"file",id:"bot-photos",multiple:"",accept:"image/*",onChange:t[26]||(t[26]=(...m)=>r.onChangePhotos&&r.onChangePhotos(...m)),style:{display:"none"}},null,32)]),s.botForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.botForm.photos,(m,p)=>(openBlock(),createElementBlock("div",_hoisted_137,[withDirectives(createBaseVNode("img",null,null,512),[[c,r.getPhoto(m).imageUrl]]),createBaseVNode("div",_hoisted_138,[createBaseVNode("a",{onClick:y=>r.removePhoto(p)},_hoisted_141,8,_hoisted_139)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_142,[withDirectives(createBaseVNode("img",null,null,512),[[c,"/images-by-bot-id/"+s.bot.id+"/"+s.botForm.image]]),createBaseVNode("div",_hoisted_143,[createBaseVNode("a",{onClick:t[27]||(t[27]=m=>r.removePhoto())},_hoisted_145)])]))])])):createCommentVNode("",!0)],512),[[vShow,s.tab===2]]),withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_146,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень баллов","onUpdate:modelValue":t[28]||(t[28]=m=>s.botForm.level_1=m),min:"0","aria-describedby":"bot-level-1",required:""},null,512),[[vModelText,s.botForm.level_1]]),_hoisted_147]),createBaseVNode("div",_hoisted_148,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень баллов","onUpdate:modelValue":t[29]||(t[29]=m=>s.botForm.level_2=m),min:"0","aria-describedby":"bot-level-2"},null,512),[[vModelText,s.botForm.level_2]]),_hoisted_149]),createBaseVNode("div",_hoisted_150,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[30]||(t[30]=m=>s.botForm.level_3=m),min:"0","aria-describedby":"bot-level-3"},null,512),[[vModelText,s.botForm.level_3]]),_hoisted_151]),createBaseVNode("div",_hoisted_152,[withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[31]||(t[31]=m=>s.botForm.cashback_fire_period=m),id:"cashback-fired-period"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.cashback_fire_periods,m=>(openBlock(),createElementBlock("option",{value:m.value},toDisplayString(m.title||"Не указано"),9,_hoisted_153))),256))],512),[[vModelSelect,s.botForm.cashback_fire_period]]),_hoisted_154]),s.botForm.cashback_fire_period>0?(openBlock(),createElementBlock("div",_hoisted_155,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень сгорания баллов","onUpdate:modelValue":t[32]||(t[32]=m=>s.botForm.cashback_fire_percent=m),min:"0",max:"100","aria-describedby":"cashback-fired-level"},null,512),[[vModelText,s.botForm.cashback_fire_percent]]),_hoisted_156])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_157,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[33]||(t[33]=m=>s.need_cashback_config=m),type:"checkbox",id:"need-cashback-config"},null,512),[[vModelCheckbox,s.need_cashback_config]]),_hoisted_158]),s.need_cashback_config?(openBlock(),createElementBlock("div",_hoisted_159,[_hoisted_160,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.cashback_config,(m,p)=>(openBlock(),createElementBlock("div",{key:"social-link"+p,class:"input-group mb-2"},[createBaseVNode("div",_hoisted_161,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control w-100",placeholder:"Название категории","aria-label":"Название категории",maxlength:"255","onUpdate:modelValue":y=>s.botForm.cashback_config[p].title=y,"aria-describedby":"bot-cashback-config-"+p,required:""},null,8,_hoisted_162),[[vModelText,s.botForm.cashback_config[p].title]]),_hoisted_163]),createBaseVNode("span",_hoisted_164,[createBaseVNode("button",{type:"button",onClick:y=>r.removeCashBackConfig(p),class:"btn text-danger p-1"},_hoisted_167,8,_hoisted_165)])]))),128)),createBaseVNode("button",{type:"button",onClick:t[34]||(t[34]=m=>r.addCashBackConfig()),class:"btn btn-outline-primary p-3 w-100"}," Добавить еще категорию ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_168,[withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[35]||(t[35]=m=>s.selected_warning=m),onChange:t[36]||(t[36]=(...m)=>r.addWarning&&r.addWarning(...m)),id:"warning-rules"},[_hoisted_169,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filteredWarnings,m=>(openBlock(),createElementBlock("option",{value:m},toDisplayString(m.title),9,_hoisted_170))),256))],544),[[vModelSelect,s.selected_warning]]),_hoisted_171]),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.botForm.warnings,(m,p)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_172,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":y=>s.botForm.warnings[p].is_active=y,type:"checkbox",role:"switch",id:"warning-is-active-"+p},null,8,_hoisted_173),[[vModelCheckbox,s.botForm.warnings[p].is_active]]),createBaseVNode("label",{class:"form-check-label",for:"warning-is-active-"+p},[createTextVNode(toDisplayString(r.getWarning(m.rule_key).title||"Не найдено")+" ",1),s.botForm.warnings[p].is_active?(openBlock(),createElementBlock("span",_hoisted_175,"(Вкл)")):(openBlock(),createElementBlock("span",_hoisted_176,"(Выкл)"))],8,_hoisted_174)]),createBaseVNode("div",_hoisted_177,[createBaseVNode("div",_hoisted_178,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"Значение","onUpdate:modelValue":y=>s.botForm.warnings[p].rule_value=y,min:"0","aria-describedby":"bot-level-3"},null,8,_hoisted_179),[[vModelText,s.botForm.warnings[p].rule_value]])]),createBaseVNode("div",_hoisted_180,[createBaseVNode("button",{onClick:y=>r.removeWarning(p),type:"button",class:"btn p-1"},_hoisted_183,8,_hoisted_181)])])],64))),256)),createBaseVNode("div",_hoisted_184,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[37]||(t[37]=m=>s.need_payments=m),type:"checkbox",role:"switch",id:"need-payments"},null,512),[[vModelCheckbox,s.need_payments]]),_hoisted_185]),s.need_payments?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",_hoisted_186,[withDirectives(createBaseVNode("input",{class:"form-check-input",value:s.botForm.auto_cashback_on_payments,"onUpdate:modelValue":t[38]||(t[38]=m=>s.botForm.auto_cashback_on_payments=m),type:"checkbox",role:"switch",id:"bot-auto-cashback-on-payments"},null,8,_hoisted_187),[[vModelCheckbox,s.botForm.auto_cashback_on_payments]]),_hoisted_188]),_hoisted_189,createBaseVNode("div",_hoisted_190,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"уровень CashBack","onUpdate:modelValue":t[39]||(t[39]=m=>s.botForm.payment_provider_token=m),"aria-describedby":"bot-level-3"},null,512),[[vModelText,s.botForm.payment_provider_token]]),_hoisted_191])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_192,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[40]||(t[40]=m=>s.need_shop=m),type:"checkbox",role:"switch",id:"need-shop"},null,512),[[vModelCheckbox,s.need_shop]]),_hoisted_193]),s.need_shop?(openBlock(),createElementBlock(Fragment,{key:3},[_hoisted_194,createBaseVNode("div",_hoisted_195,[withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":t[41]||(t[41]=m=>s.botForm.vk_shop_link=m),id:"vk_shop_link","aria-describedby":"vk_shop_link"},null,512),[[vModelText,s.botForm.vk_shop_link]]),_hoisted_196])],64)):createCommentVNode("",!0)],512),[[vShow,s.tab===3]])],64)):(openBlock(),createBlock(l,{key:1},{default:withCtx(()=>[_hoisted_197,_hoisted_198]),_:1})),createBaseVNode("nav",_hoisted_199,[createBaseVNode("button",{disabled:!s.botForm.bot_token,type:"submit",class:"btn btn-primary p-3 w-100"}," Сохранить настройки ",8,_hoisted_200)])],32)])])])}const BotManagerV2=_export_sfc(_sfc_main$K,[["render",_sfc_render$c]]),BotManager=Object.freeze(Object.defineProperty({__proto__:null,default:BotManagerV2},Symbol.toStringTag,{value:"Module"})),PageList_vue_vue_type_style_index_0_lang="",_hoisted_1$J={class:"form-floating mb-2"},_hoisted_2$I=createBaseVNode("label",{for:""},[createBaseVNode("i",{class:"fa fa-search"}),createTextVNode(" Поиск страниц")],-1),_hoisted_3$I={class:"form-floating my-2"},_hoisted_4$E=createBaseVNode("option",{value:"id"},"По номеру страницы",-1),_hoisted_5$E=createBaseVNode("option",{value:"updated_at"},"По дате добавления",-1),_hoisted_6$D=[_hoisted_4$E,_hoisted_5$E],_hoisted_7$C=createBaseVNode("label",{for:"floatingSelect"},"Сортировать по...",-1),_hoisted_8$z={key:0},_hoisted_9$y=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_10$w=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_11$u={key:1,class:"list-group w-100"},_hoisted_12$t={class:"d-flex justify-content-between align-items-center"},_hoisted_13$q=["onClick"],_hoisted_14$q={class:"badge bg-primary mr-2 rounded-5",style:{"font-size":"10px"}},_hoisted_15$q={key:0},_hoisted_16$p={key:1},_hoisted_17$n=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_18$m=[_hoisted_17$n],_hoisted_19$l={class:"component-icons mt-2"},_hoisted_20$k={key:0},_hoisted_21$j=createBaseVNode("i",{class:"fa-regular fa-images"},null,-1),_hoisted_22$j=[_hoisted_21$j],_hoisted_23$j={key:1},_hoisted_24$i=createBaseVNode("i",{class:"fa-regular fa-note-sticky"},null,-1),_hoisted_25$h=[_hoisted_24$i],_hoisted_26$f={key:2},_hoisted_27$e=createBaseVNode("i",{class:"fa-solid fa-photo-film"},null,-1),_hoisted_28$e=[_hoisted_27$e],_hoisted_29$d={key:3},_hoisted_30$d=createBaseVNode("i",{class:"fa-regular fa-file-audio"},null,-1),_hoisted_31$d=[_hoisted_30$d],_hoisted_32$d={key:4},_hoisted_33$c=createBaseVNode("i",{class:"fa-regular fa-file-word"},null,-1),_hoisted_34$b=[_hoisted_33$c],_hoisted_35$b={key:5},_hoisted_36$a=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_37$a=[_hoisted_36$a],_hoisted_38$a={key:6},_hoisted_39$a=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_40$9=[_hoisted_39$a],_hoisted_41$9={key:7},_hoisted_42$9=createBaseVNode("i",{class:"fa-regular fa-comment-dots"},null,-1),_hoisted_43$9=[_hoisted_42$9],_hoisted_44$9={key:8},_hoisted_45$9=createBaseVNode("i",{class:"fa-solid fa-scale-balanced"},null,-1),_hoisted_46$9=[_hoisted_45$9],_hoisted_47$8={key:9},_hoisted_48$8=createBaseVNode("i",{class:"fa-regular fa-keyboard"},null,-1),_hoisted_49$8=[_hoisted_48$8],_hoisted_50$8={key:10},_hoisted_51$8=createBaseVNode("i",{class:"fa-solid fa-ellipsis"},null,-1),_hoisted_52$8=[_hoisted_51$8],_hoisted_53$7={key:0,class:"dropdown"},_hoisted_54$7=createBaseVNode("button",{class:"btn",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-ellipsis"})],-1),_hoisted_55$7={class:"dropdown-menu"},_hoisted_56$7=["onClick"],_hoisted_57$7=["onClick"],_hoisted_58$6={key:3,class:"alert alert-warning",role:"alert"},_hoisted_59$6={key:4,class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},__default__$x={props:["current","editor"],data(){return{bot:null,loading:!0,pages:[],sort:{param:"id",direction:"desc"},search:null,pages_paginate_object:null,need_new_page:!1}},computed:{...mapGetters(["getPages","getPagesPaginateObject"])},mounted(){this.loadPages(),window.addEventListener("reload-page-list",o=>{this.loadPages()})},methods:{changeDirection(o){this.sort.direction=o,this.loadPages(0)},duplicatePage(o){let t=this.pages.findIndex(a=>a.id===o);t!==-1&&(this.pages[t].before_duplicate=!0),this.$store.dispatch("duplicatePage",{dataObject:{pageId:o}}).then(a=>{this.$notify({title:"Управление страница",text:"Страница успешно продублирована!",type:"success"}),this.sort.param="id",this.sort.direction="desc",this.loadPages()}).catch(()=>{this.$notify({title:"Управление страница",text:"Ошибка дублирования страницы!",type:"error"})})},removePage(o){let t=this.pages.findIndex(a=>a.id===o);t!==-1&&(this.pages[t].before_deleted=!0),this.$store.dispatch("removePage",{dataObject:{pageId:o}}).then(a=>{this.$notify({title:"Управление страница",text:"Страница успешно удалена!",type:"success"}),this.loadPages()}).catch(()=>{this.$notify({title:"Управление страница",text:"Ошибка удаления страницы!",type:"error"})})},selectPage(o){this.$emit("callback",o)},nextPages(o){this.loadPages(o)},loadPages(o=0){this.$store.dispatch("loadPages",{dataObject:{search:this.search,order_by:this.sort.param||null,direction:this.sort.direction||"asc"},page:o}).then(t=>{this.pages=this.getPages,this.pages_paginate_object=this.getPagesPaginateObject}).catch(()=>{})}}},_sfc_main$J=Object.assign(__default__$x,{__name:"PageList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$J,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),class:"form-control",placeholder:"Поиск страницы"},null,512),[[vModelText,t.search]]),_hoisted_2$I]),createBaseVNode("div",_hoisted_3$I,[withDirectives(createBaseVNode("select",{onChange:a[1]||(a[1]=i=>t.loadPages(0)),"onUpdate:modelValue":a[2]||(a[2]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_6$D,544),[[vModelSelect,t.sort.param]]),_hoisted_7$C]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_8$z,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[3]||(a[3]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_9$y])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[4]||(a[4]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_10$w])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("button",{class:"btn btn-primary p-3 mb-3 w-100",onClick:a[5]||(a[5]=(...i)=>t.loadPages&&t.loadPages(...i)),type:"button",id:"button-addon2"},"Найти "),t.pages.length>0?(openBlock(),createElementBlock("ul",_hoisted_11$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pages,(i,s)=>(openBlock(),createElementBlock("li",{class:normalizeClass([{"bg-danger text-white":i.before_deleted,"bg-success text-white":i.before_duplicate},"list-group-item cursor-pointer px-2 py-2 border-light"])},[createBaseVNode("div",_hoisted_12$t,[createBaseVNode("strong",{onClick:r=>t.selectPage(i)},[createBaseVNode("span",_hoisted_14$q,"#"+toDisplayString(i.id||"Не указано"),1),i.slug?(openBlock(),createElementBlock("span",_hoisted_15$q,toDisplayString(i.slug.command||"Не указано"),1)):createCommentVNode("",!0),o.current&&o.current===i.id?(openBlock(),createElementBlock("span",_hoisted_16$p,_hoisted_18$m)):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_19$l,[(i.images||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_20$k,_hoisted_22$j)):createCommentVNode("",!0),i.sticker?(openBlock(),createElementBlock("li",_hoisted_23$j,_hoisted_25$h)):createCommentVNode("",!0),(i.videos||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_26$f,_hoisted_28$e)):createCommentVNode("",!0),(i.audios||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_29$d,_hoisted_31$d)):createCommentVNode("",!0),(i.documents||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_32$d,_hoisted_34$b)):createCommentVNode("",!0),i.next_page_id?(openBlock(),createElementBlock("li",_hoisted_35$b,_hoisted_37$a)):createCommentVNode("",!0),i.next_bot_menu_slug_id?(openBlock(),createElementBlock("li",_hoisted_38$a,_hoisted_40$9)):createCommentVNode("",!0),i.next_bot_dialog_command_id?(openBlock(),createElementBlock("li",_hoisted_41$9,_hoisted_43$9)):createCommentVNode("",!0),i.rules_if?(openBlock(),createElementBlock("li",_hoisted_44$9,_hoisted_46$9)):createCommentVNode("",!0),i.reply_keyboard_id?(openBlock(),createElementBlock("li",_hoisted_47$8,_hoisted_49$8)):createCommentVNode("",!0),i.inline_keyboard_id?(openBlock(),createElementBlock("li",_hoisted_50$8,_hoisted_52$8)):createCommentVNode("",!0)])],8,_hoisted_13$q),o.editor?(openBlock(),createElementBlock("div",_hoisted_53$7,[_hoisted_54$7,createBaseVNode("ul",_hoisted_55$7,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:r=>t.duplicatePage(i.id),href:"javascript:void(0)"},"Дублировать",8,_hoisted_56$7)]),createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:r=>t.removePage(i.id),href:"javascript:void(0)"},"Удалить",8,_hoisted_57$7)])])])):createCommentVNode("",!0)])],2))),256))])):createCommentVNode("",!0),t.pages_paginate_object?(openBlock(),createBlock(Pagination,{key:2,simple:!0,onPagination_page:t.nextPages,pagination:t.pages_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_58$6," Созданных страниц не найдено! ")),o.editor?(openBlock(),createElementBlock("nav",_hoisted_59$6,[createBaseVNode("button",{onClick:a[6]||(a[6]=i=>t.selectPage(null)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Добавить новую страницу ")])):createCommentVNode("",!0)],64))}}),_hoisted_1$I={key:0},_hoisted_2$H=createBaseVNode("h6",null,"Форма создания шаблона клавиатуры",-1),_hoisted_3$H={class:"mb-3"},_hoisted_4$D=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"Тип",-1),_hoisted_5$D=createBaseVNode("option",{value:"reply"},"Нижняя клавиатура",-1),_hoisted_6$C=createBaseVNode("option",{value:"inline"},"Встроенная клавиатура",-1),_hoisted_7$B=[_hoisted_5$D,_hoisted_6$C],_hoisted_8$y={class:"mb-3"},_hoisted_9$x={class:"form-label d-flex justify-content-between",id:"bot-domain"},_hoisted_10$v=createBaseVNode("span",null,"Мнемоническое имя",-1),_hoisted_11$t=createBaseVNode("i",{class:"fa-solid fa-arrows-rotate"},null,-1),_hoisted_12$s=[_hoisted_11$t],_hoisted_13$p={class:"col-12"},_hoisted_14$p=createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green1-dark w-100"}," Добавить новый шаблон клавиатуры ",-1),_hoisted_15$p=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$o={key:1,class:"mb-1"},_hoisted_17$m={class:"badge bg-warning"},_hoisted_18$l={class:"mb-3"},_hoisted_19$k={key:1,class:"card"},_hoisted_20$j={class:"card-body"},_hoisted_21$i={key:3,class:"mb-3"},_hoisted_22$i=createBaseVNode("div",{class:"alert alert-warning",role:"alert"},[createBaseVNode("p",null,"Список шаблонов клавиатур пуст!")],-1),_hoisted_23$i=[_hoisted_22$i],__default__$w={props:["selectMode","type"],data(){return{keyboards:[],load:!1,editedKeyboard:null,selectMenuIndex:null,keyboardForm:{type:"reply",slug:null,menu:[]}}},computed:{filteredKeyboard(){return this.type?this.keyboards.filter(o=>o.type==this.type):this.keyboards}},mounted(){this.loadMenusByBotTemplate(),this.generateSlug()},methods:{selectCard(o){this.$emit("select",o)},keyboardCallbackAction(o){let t=this.keyboards.find(a=>a.id===o);t.deleted_at=new Date,this.loadMenusByBotTemplate()},loadMenusByBotTemplate(){this.$store.dispatch("loadBotKeyboards").then(o=>{this.$nextTick(()=>{this.keyboards=o.data})})},submitKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const a=this.keyboardForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("createKeyboardTemplate",{keyboardForm:o}).then(t=>{this.keyboardForm={type:"reply",slug:null,menu:[]},this.load=!0,this.$nextTick(()=>{this.load=!1}),this.loadMenusByBotTemplate()})},generateSlug(){this.keyboardForm.slug=v4()},changeKeyboardFormMenu(o){this.keyboardForm.menu=o}}},_sfc_main$I=Object.assign(__default__$w,{__name:"KeyboardList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$I,[_hoisted_2$H,createBaseVNode("form",{onSubmit:a[3]||(a[3]=withModifiers((...i)=>t.submitKeyboard&&t.submitKeyboard(...i),["prevent"]))},[createBaseVNode("div",_hoisted_3$H,[_hoisted_4$D,withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=i=>t.keyboardForm.type=i),class:"form-control"},_hoisted_7$B,512),[[vModelSelect,t.keyboardForm.type]])]),createBaseVNode("div",_hoisted_8$y,[createBaseVNode("label",_hoisted_9$x,[_hoisted_10$v,createBaseVNode("a",{onClick:a[1]||(a[1]=(...i)=>t.generateSlug&&t.generateSlug(...i)),href:"javascript:void(0)"},_hoisted_12$s)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Мнемоническое имя","aria-label":"Мнемоническое имя","onUpdate:modelValue":a[2]||(a[2]=i=>t.keyboardForm.slug=i),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.keyboardForm.slug]])]),createBaseVNode("div",_hoisted_13$p,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(KeyboardConstructor,{key:0,onSave:t.changeKeyboardFormMenu,"edited-keyboard":t.keyboardForm},null,8,["onSave","edited-keyboard"]))]),_hoisted_14$p],32),_hoisted_15$p])),t.keyboards?(openBlock(),createElementBlock("p",_hoisted_16$o,[createTextVNode("В списке клавиатур "),createBaseVNode("span",_hoisted_17$m,toDisplayString(t.filteredKeyboard.length)+" ед.",1)])):createCommentVNode("",!0),t.keyboards?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.filteredKeyboard,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_18$l,[i.deleted_at?(openBlock(),createElementBlock("div",_hoisted_19$k,[createBaseVNode("div",_hoisted_20$j,[createBaseVNode("p",null,"Удаленная клавиатура #"+toDisplayString(i.id),1)])])):(openBlock(),createBlock(_sfc_main$3m,{key:0,"select-mode":o.selectMode,onSelect:t.selectCard,onReload:t.loadMenusByBotTemplate,onCallback:t.keyboardCallbackAction,keyboard:i},null,8,["select-mode","onSelect","onReload","onCallback","keyboard"]))]))),256)):createCommentVNode("",!0),t.filteredKeyboard.length===0?(openBlock(),createElementBlock("div",_hoisted_21$i,_hoisted_23$i)):createCommentVNode("",!0)],64))}}),BotSlugListSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$H=createBaseVNode("h6",null,"Добавление нового скрипта в бота",-1),_hoisted_2$G={class:"form-floating"},_hoisted_3$G=createBaseVNode("label",{for:""},"Поиск скрипта",-1),_hoisted_4$C=["onClick"],_hoisted_5$C={class:"form-control d-flex flex-column mb-2"},_hoisted_6$B={class:"fw-bold"},_hoisted_7$A={class:"fst-italic",style:{"font-size":"12px"}},_hoisted_8$x={key:1,class:"alert alert-light",role:"alert"},_hoisted_9$w={class:"mb-3"},__default__$v={props:["global","selected"],data(){return{load:!1,paginate:null,search:null,slugs:[]}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs?this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",a=o.command||"",i=o.comment||"";return a.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1}):[]}},mounted(){this.loadSlugs()},methods:{nextSlugs(o){this.loadSlugs(o)},selectSlug(o){this.$emit("callback",{id:o.id||null,slug:o.slug,comment:o.comment,command:o.command}),this.$notify({title:"Скрипты",text:"Вы выбрали скрипт из списка"})},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.global||!1},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})}}},_sfc_main$H=Object.assign(__default__$v,{__name:"BotSlugListSimple",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$H,createBaseVNode("div",_hoisted_2$G,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mt-1 mb-1","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),placeholder:"Поиск нужного скрипта по описанию"},null,512),[[vModelText,t.search]]),_hoisted_3$G]),t.filteredSlugs.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.filteredSlugs,(i,s)=>(openBlock(),createElementBlock("div",{onClick:r=>t.selectSlug(i),class:"input-group mb-0 align-items-start"},[createBaseVNode("div",{class:normalizeClass(["input-group-text d-flex flex-column",{"bg-primary text-white":o.selected==i.id}]),style:{"font-size":"12px"},id:"basic-addon1"},[createBaseVNode("span",null," #"+toDisplayString(i.id),1)],2),createBaseVNode("p",_hoisted_5$C,[createBaseVNode("span",_hoisted_6$B,toDisplayString(i.command||"Нет команды"),1),createBaseVNode("span",_hoisted_7$A,toDisplayString(i.comment||"Нет описания"),1)])],8,_hoisted_4$C))),256)):(openBlock(),createElementBlock("div",_hoisted_8$x,' У Вас еще нет добавленных скриптов! Воспользуйтесь разделом "Скрипты" для добавления. ')),createBaseVNode("div",_hoisted_9$w,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])],64))}}),_hoisted_1$G={key:0},_hoisted_2$F={class:"mb-2"},_hoisted_3$F={class:"mb-2"},_hoisted_4$B={key:0,class:"list-group list-boxes"},_hoisted_5$B=["onClick"],_hoisted_6$A={class:"bg-primary badge"},_hoisted_7$z={key:1,class:"alert alert-warning",role:"alert"},__default__$u={data(){return{loading:!0,dialogs:[],search:null,dialogs_paginate_object:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"])},mounted(){this.loadDialogs()},methods:{selectDialog(o){this.$emit("select-dialog",o),this.$notify({title:"Диалоги",text:"Вы выбрали диалог из списка!",type:"success"})},nextDialogs(o){this.loadDialogs(o)},loadDialogs(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialogs=this.getDialogs,this.dialogs_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$G=Object.assign(__default__$u,{__name:"BotDialogGroupListSimple",setup(o){return(t,a)=>t.dialogs.length>0?(openBlock(),createElementBlock("div",_hoisted_1$G,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.dialogs,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_2$F,[createBaseVNode("p",_hoisted_3$F," #"+toDisplayString(i.id)+" - "+toDisplayString(i.title||"Не указано ")+" ("+toDisplayString(i.slug||"Не указано")+")",1),i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("div",_hoisted_4$B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(r,n)=>(openBlock(),createElementBlock("div",{onClick:l=>t.selectDialog(r),class:"border rounded-2 p-3 mb-2"},[createBaseVNode("span",_hoisted_6$A,"#"+toDisplayString(r.id),1),createTextVNode(" "+toDisplayString(r.pre_text||"-"),1)],8,_hoisted_5$B))),256))])):createCommentVNode("",!0)]))),256)),t.dialogs_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextDialogs,pagination:t.dialogs_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_7$z," У выбранного бота нет созданных диалоговых групп "))}}),_hoisted_1$F=createBaseVNode("div",{class:"alert alert-success",role:"alert"},' Проверка правил идет по методу "И" - все правила должны выполняться для перехода на данную страницу, иначе будет вызвана страница из блока "иначе". Действия для "иначе" добавлять не обязательно. ',-1),_hoisted_2$E=createBaseVNode("h6",{class:"my-2 fw-bold"},"Блок условий (если)",-1),_hoisted_3$E=createBaseVNode("div",{class:"alert-light alert mb-2",id:"bot-domain"}," Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие будет выполнено. Не обязательно ",-1),_hoisted_4$A={class:"form-floating mb-2"},_hoisted_5$A=createBaseVNode("label",{for:"rules-if-message"},"Текст сообщения",-1),_hoisted_6$z={class:"dropdown"},_hoisted_7$y=createBaseVNode("button",{class:"btn btn-outline-primary w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Доступные для выбора условия ",-1),_hoisted_8$w={class:"dropdown-menu w-100"},_hoisted_9$v=["onClick"],_hoisted_10$u={class:"dropdown-item",href:"javascript:void(0)"},_hoisted_11$s={key:1,class:"my-2"},_hoisted_12$r={key:2,class:"list-group"},_hoisted_13$o={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_14$o={class:"form-check"},_hoisted_15$o={class:"form-check-label",for:"bot-user-is-vip"},_hoisted_16$n={key:0},_hoisted_17$l={key:1},_hoisted_18$k=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_19$j=[_hoisted_18$k],_hoisted_20$i={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_21$h={class:"form-check"},_hoisted_22$h={class:"form-check-label",for:"bot-user-is-admin"},_hoisted_23$h={key:0},_hoisted_24$h={key:1},_hoisted_25$g=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_26$e=[_hoisted_25$g],_hoisted_27$d={key:2,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_28$d={class:"form-check"},_hoisted_29$c={class:"form-check-label",for:"bot-user-is-deliveryman"},_hoisted_30$c={key:0},_hoisted_31$c={key:1},_hoisted_32$c=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_33$b=[_hoisted_32$c],_hoisted_34$a={key:3,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_35$a={class:"form-check"},_hoisted_36$9={class:"form-check-label",for:"bot-user-is-work"},_hoisted_37$9={key:0},_hoisted_38$9={key:1},_hoisted_39$9=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_40$8=[_hoisted_39$9],_hoisted_41$8={key:4,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_42$8={class:"form-check"},_hoisted_43$8={class:"form-check-label",for:"bot-user-in-location"},_hoisted_44$8={key:0},_hoisted_45$8={key:1},_hoisted_46$8=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_47$7=[_hoisted_46$8],_hoisted_48$7={key:5,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_49$7=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Возраст от ",-1),_hoisted_50$7=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_51$7=[_hoisted_50$7],_hoisted_52$7={key:6,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_53$6=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Только для города ",-1),_hoisted_54$6=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_55$6=[_hoisted_54$6],_hoisted_56$6={key:7,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_57$6={class:"form-check"},_hoisted_58$5={class:"form-check-label",for:"bot-user-sex"},_hoisted_59$5={key:0},_hoisted_60$5={key:1},_hoisted_61$5=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_62$5=[_hoisted_61$5],_hoisted_63$5={key:8,class:"list-group-item"},_hoisted_64$5={class:"mb-3"},_hoisted_65$5={class:"d-flex justify-content-between align-items-center"},_hoisted_66$5={class:"form-label d-flex w-100 align-items-center",id:"bot-order-channel"},_hoisted_67$5=["onClick"],_hoisted_68$5=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_69$5=[_hoisted_68$5],_hoisted_70$5={class:"form-floating"},_hoisted_71$5=["onUpdate:modelValue"],_hoisted_72$4=createBaseVNode("label",{for:""},"id канала",-1),_hoisted_73$4={key:3,class:"my-3 fw-bold"},_hoisted_74$3={key:4,class:"d-flex justify-content-between"},_hoisted_75$3=createBaseVNode("div",{class:"alert-light alert mb-2",id:"bot-domain"},' Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие не будет выполнено и будет вызван блок "иначе" ',-1),_hoisted_76$3={class:"form-floating mb-2"},_hoisted_77$3=createBaseVNode("label",{for:"rules-else-message"},"Текст сообщения",-1),__default__$t={props:["bot","rulesForm"],data(){return{rules:[{id:1,title:"Является администратором",rules_block:"bot_user",rule:{is_admin:!0}},{id:2,title:"Является VIP-пользователем",rules_block:"bot_user",rule:{is_vip:!0}},{id:3,title:"Находится в заведении",rules_block:"bot_user",rule:{user_in_location:!0}},{id:4,title:"За работой",rules_block:"bot_user",rule:{is_work:!0}},{id:5,title:"Возраст от ...",rules_block:"bot_user",rule:{age:18}},{id:6,title:"Находится в городе ...",rules_block:"bot_user",rule:{city:"Краснодар"}},{id:7,title:"Пол",rules_block:"bot_user",rule:{sex:!0}},{id:8,title:"Состоит в канале",rules_block:"channels",rule:{channel:1}},{id:9,title:"Является Менеджером",rules_block:"bot_user",rule:{is_manager:!0}}]}},mounted(){window.addEventListener("select-rule-event",o=>{this.addRulesFromEvent(o.detail.rule)})},methods:{hasRuleKey(o){return this.rulesForm.rules_if==null?!1:Object.keys(this.rulesForm.rules_if.bot_user).find(t=>t===o)!=null},modifyChannel(o){this.rulesForm.rules_if.channels[o.param]=o.text},removeChannelFromRule(o){this.rulesForm.rules_if.channels.splice(o,1),this.checkRules()},checkRules(){const o=Object.getOwnPropertyNames(this.rulesForm.rules_if.bot_user),t=this.rulesForm.rules_if.channels;o.length===0&&t.length===0&&(this.rulesForm.rules_if=null)},removeRule(o){delete this.rulesForm.rules_if.bot_user[o],this.checkRules()},addRulesFromEvent(o){this.rulesForm.rules_if||(this.rulesForm.rules_if={bot_user:{},channels:[]}),o.rules_block==="bot_user"&&(this.rulesForm.rules_if.bot_user={...this.rulesForm.rules_if.bot_user,...o.rule}),o.rules_block==="channels"&&this.rulesForm.rules_if.channels.push(o.rule.channel)},attachPageToRule(o){o.id!=this.rulesForm.id?this.rulesForm.rules_else_page_id=o.id:this.$notify({title:"Правила страниц",text:"Вы не можете связать данную страницу с собой!",type:"error"})},openRulesModal(){this.$botPages.rules()}}},_sfc_main$F=Object.assign(__default__$t,{__name:"PageRules",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$F,_hoisted_2$E,o.rulesForm.rules_if?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_3$E,createBaseVNode("div",_hoisted_4$A,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":a[0]||(a[0]=i=>o.rulesForm.rules_if_message=i),maxlength:"255",id:"rules-if-message","aria-describedby":"rules-if-message"},`
            `,512),[[vModelText,o.rulesForm.rules_if_message]]),_hoisted_5$A])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$z,[_hoisted_7$y,createBaseVNode("ul",_hoisted_8$w,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.rules,i=>(openBlock(),createElementBlock("li",{onClick:s=>t.addRulesFromEvent(i)},[createBaseVNode("a",_hoisted_10$u,toDisplayString(i.title||"Не указан"),1)],8,_hoisted_9$v))),256))])]),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_11$s,"Выбранные условия")):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("ul",_hoisted_12$r,[t.hasRuleKey("is_vip")?(openBlock(),createElementBlock("li",_hoisted_13$o,[createBaseVNode("div",_hoisted_14$o,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[1]||(a[1]=i=>o.rulesForm.rules_if.bot_user.is_vip=i),type:"checkbox",id:"bot-user-is-vip"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_vip]]),createBaseVNode("label",_hoisted_15$o,[o.rulesForm.rules_if.bot_user.is_vip?(openBlock(),createElementBlock("span",_hoisted_16$n,"Является VIP-пользователем")):(openBlock(),createElementBlock("span",_hoisted_17$l,"Не является VIP-пользователем"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[2]||(a[2]=i=>t.removeRule("is_vip"))},_hoisted_19$j)])):createCommentVNode("",!0),t.hasRuleKey("is_admin")?(openBlock(),createElementBlock("li",_hoisted_20$i,[createBaseVNode("div",_hoisted_21$h,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[3]||(a[3]=i=>o.rulesForm.rules_if.bot_user.is_admin=i),type:"checkbox",id:"bot-user-is-admin"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_admin]]),createBaseVNode("label",_hoisted_22$h,[o.rulesForm.rules_if.bot_user.is_admin?(openBlock(),createElementBlock("span",_hoisted_23$h,"Является администратором")):(openBlock(),createElementBlock("span",_hoisted_24$h,"Не является администратором"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[4]||(a[4]=i=>t.removeRule("is_admin"))},_hoisted_26$e)])):createCommentVNode("",!0),t.hasRuleKey("is_deliveryman")?(openBlock(),createElementBlock("li",_hoisted_27$d,[createBaseVNode("div",_hoisted_28$d,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[5]||(a[5]=i=>o.rulesForm.rules_if.bot_user.is_deliveryman=i),type:"checkbox",id:"bot-user-is-deliveryman"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_deliveryman]]),createBaseVNode("label",_hoisted_29$c,[o.rulesForm.rules_if.bot_user.is_deliveryman?(openBlock(),createElementBlock("span",_hoisted_30$c,"Является доставщиком")):(openBlock(),createElementBlock("span",_hoisted_31$c,"Не является доставщиком"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[6]||(a[6]=i=>t.removeRule("is_deliveryman"))},_hoisted_33$b)])):createCommentVNode("",!0),t.hasRuleKey("is_work")?(openBlock(),createElementBlock("li",_hoisted_34$a,[createBaseVNode("div",_hoisted_35$a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[7]||(a[7]=i=>o.rulesForm.rules_if.bot_user.is_work=i),type:"checkbox",id:"bot-user-is-work"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_work]]),createBaseVNode("label",_hoisted_36$9,[o.rulesForm.rules_if.bot_user.is_work?(openBlock(),createElementBlock("span",_hoisted_37$9,"За работой")):(openBlock(),createElementBlock("span",_hoisted_38$9,"Не работает"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[8]||(a[8]=i=>t.removeRule("is_work"))},_hoisted_40$8)])):createCommentVNode("",!0),t.hasRuleKey("user_in_location")?(openBlock(),createElementBlock("li",_hoisted_41$8,[createBaseVNode("div",_hoisted_42$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[9]||(a[9]=i=>o.rulesForm.rules_if.bot_user.user_in_location=i),type:"checkbox",id:"bot-user-in-location"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.user_in_location]]),createBaseVNode("label",_hoisted_43$8,[o.rulesForm.rules_if.bot_user.user_in_location?(openBlock(),createElementBlock("span",_hoisted_44$8,"Находится в заведении")):(openBlock(),createElementBlock("span",_hoisted_45$8,"Не находится в заведении"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[10]||(a[10]=i=>t.removeRule("user_in_location"))},_hoisted_47$7)])):createCommentVNode("",!0),t.hasRuleKey("age")?(openBlock(),createElementBlock("li",_hoisted_48$7,[createBaseVNode("div",null,[_hoisted_49$7,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Возраст от","aria-label":"Возраст от","onUpdate:modelValue":a[11]||(a[11]=i=>o.rulesForm.rules_if.bot_user.age=i),maxlength:"255","aria-describedby":"bot-user-age"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.age]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[12]||(a[12]=i=>t.removeRule("age"))},_hoisted_51$7)])):createCommentVNode("",!0),t.hasRuleKey("city")?(openBlock(),createElementBlock("li",_hoisted_52$7,[createBaseVNode("div",null,[_hoisted_53$6,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Город","aria-label":"Город","onUpdate:modelValue":a[13]||(a[13]=i=>o.rulesForm.rules_if.bot_user.city=i),maxlength:"255","aria-describedby":"bot-user-city"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.city]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[14]||(a[14]=i=>t.removeRule("city"))},_hoisted_55$6)])):createCommentVNode("",!0),t.hasRuleKey("sex")?(openBlock(),createElementBlock("li",_hoisted_56$6,[createBaseVNode("div",_hoisted_57$6,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[15]||(a[15]=i=>o.rulesForm.rules_if.bot_user.sex=i),type:"checkbox",id:"bot-user-sex"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.sex]]),createBaseVNode("label",_hoisted_58$5,[o.rulesForm.rules_if.bot_user.sex?(openBlock(),createElementBlock("span",_hoisted_59$5,"Только для мужчин")):(openBlock(),createElementBlock("span",_hoisted_60$5,"Только для женщин"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:a[16]||(a[16]=i=>t.removeRule("sex"))},_hoisted_62$5)])):createCommentVNode("",!0),o.rulesForm.rules_if.channels.length>0?(openBlock(),createElementBlock("li",_hoisted_63$5,[createTextVNode("Проверка нахождения в канале \\ группе: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.rulesForm.rules_if.channels,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_64$5,[createBaseVNode("div",_hoisted_65$5,[createBaseVNode("label",_hoisted_66$5,[createVNode(TelegramChannelHelper,{token:o.bot.bot_token,param:`${s}`,onCallback:t.modifyChannel},null,8,["token","param","onCallback"]),createTextVNode(" Канал для проверки ")]),createBaseVNode("button",{type:"button",class:"btn btn-link text-danger",onClick:r=>t.removeChannelFromRule(s)},_hoisted_69$5,8,_hoisted_67$5)]),createBaseVNode("div",_hoisted_70$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":r=>o.rulesForm.rules_if.channels[s]=r,maxlength:"255","aria-describedby":"bot-order-channel"},null,8,_hoisted_71$5),[[vModelText,o.rulesForm.rules_if.channels[s]]]),_hoisted_72$4])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_73$4,"Иначе")):createCommentVNode("",!0),o.rulesForm.rules_else_page_id?(openBlock(),createElementBlock("p",_hoisted_74$3,[createTextVNode("Вы выбрали страницу #"+toDisplayString(o.rulesForm.rules_else_page_id)+' в качестве условия "иначе" ',1),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[17]||(a[17]=i=>o.rulesForm.rules_else_page_id=null)},"Очистить")])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createBlock(_sfc_main$J,{key:5,current:o.rulesForm.id,onCallback:t.attachPageToRule,editor:!1},null,8,["current","onCallback"])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock(Fragment,{key:6},[_hoisted_75$3,createBaseVNode("div",_hoisted_76$3,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":a[18]||(a[18]=i=>o.rulesForm.rules_else_message=i),maxlength:"255",id:"rules-else-message","aria-describedby":"rules-else-message"},`
            `,512),[[vModelText,o.rulesForm.rules_else_message]]),_hoisted_77$3])],64)):createCommentVNode("",!0)],64))}}),_hoisted_1$E=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_2$D={key:1,class:"form-check form-switch mb-2"},_hoisted_3$D=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Отобразить QR-код и ссылку на страницу",-1),_hoisted_4$z={key:2,class:"alert alert-info mb-2"},_hoisted_5$z={class:"d-flex justify-content-center"},_hoisted_6$y={style:{width:"300px",height:"300px"}},_hoisted_7$x=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Команда должна начинаться с символа . и *"),createBaseVNode("br"),createTextVNode(" Например: .*Меню ")],-1),_hoisted_8$v={class:"form-floating mb-2"},_hoisted_9$u=createBaseVNode("label",{class:"form-label",id:"bot-domain"},[createTextVNode(" Команда "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_10$t={class:"form-floating mb-2"},_hoisted_11$r=createBaseVNode("label",{class:"form-label",id:"bot-domain"},[createTextVNode(" Описание страницы "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_12$q={class:"mb-2"},_hoisted_13$n={class:"form-check"},_hoisted_14$n=createBaseVNode("label",{class:"form-check-label",for:"is_external"}," Внешнее управление страницей ",-1),_hoisted_15$n={class:"form-floating mb-2"},_hoisted_16$m={for:"floatingTextarea2"},_hoisted_17$k={key:0},_hoisted_18$j={class:"mb-2"},_hoisted_19$i={class:"form-check"},_hoisted_20$h=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_21$g={key:0,class:"mb-2"},_hoisted_22$g=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_23$g={class:"d-flex flex-wrap justify-content-center"},_hoisted_24$g={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_25$f={class:"mb-2 mr-2 img-preview"},_hoisted_26$d={class:"remove"},_hoisted_27$c=["onClick"],_hoisted_28$c={key:0},_hoisted_29$b={key:1,class:"d-flex flex-wrap justify-content-center"},_hoisted_30$b={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_31$b={class:"remove"},_hoisted_32$b=["onClick"],_hoisted_33$a={class:"form-check mb-2"},_hoisted_34$9=createBaseVNode("label",{class:"form-check-label",for:"need-page-video"}," Видео к странице ",-1),_hoisted_35$9={key:1,class:"mb-2"},_hoisted_36$8=createBaseVNode("p",{class:"alert alert-danger mb-2 rounded-s"}," Внимание! не больше 10 видео на 1й странице! ",-1),_hoisted_37$8={class:"form-check mb-2"},_hoisted_38$8=createBaseVNode("label",{class:"form-check-label",for:"need-page-sticker"}," Стикер к странице ",-1),_hoisted_39$8={key:2,class:"mb-2"},_hoisted_40$7={class:"form-check mb-2"},_hoisted_41$7=createBaseVNode("label",{class:"form-check-label",for:"need-reply-menu"}," Нижнее меню страницы ",-1),_hoisted_42$7={class:"form-check mb-2"},_hoisted_43$7=createBaseVNode("label",{class:"form-check-label",for:"need-page-audio"}," Звук к странице ",-1),_hoisted_44$7={key:3,class:"mb-2"},_hoisted_45$7=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 аудио (audio) на 1й странице! Или 1 голосовое (voice) ",-1),_hoisted_46$7={class:"form-check mb-2"},_hoisted_47$6=createBaseVNode("label",{class:"form-check-label",for:"need-page-document"}," Документ \\ презентацию к странице \\ картинку в оригинале ",-1),_hoisted_48$6={key:4,class:"mb-2"},_hoisted_49$6=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 документов на 1й странице! ",-1),_hoisted_50$6={key:5,class:"mb-2"},_hoisted_51$6=createBaseVNode("h6",{class:"mb-2"},"Конструктор нижнего меню",-1),_hoisted_52$6={class:"form-floating mb-2"},_hoisted_53$5=createBaseVNode("label",{class:"form-check-label",for:"bot-reply_keyboard_title"}," Заголовок нижнего меню ",-1),_hoisted_54$5={key:0},_hoisted_55$5={key:1},_hoisted_56$5={class:"form-check mb-2"},_hoisted_57$5=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_58$4={key:6,class:"mb-2"},_hoisted_59$4=createBaseVNode("h6",null,"Конструктор меню в сообщении",-1),_hoisted_60$4={key:0},_hoisted_61$4={key:1},_hoisted_62$4={class:"form-check mb-2"},_hoisted_63$4=createBaseVNode("label",{class:"form-check-label",for:"need-page-attach"}," Связать с другой страницей ",-1),_hoisted_64$4={key:7,class:"mb-2"},_hoisted_65$4={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_66$4=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_67$4=[_hoisted_66$4],_hoisted_68$4={class:"form-check mb-2"},_hoisted_69$4=createBaseVNode("label",{class:"form-check-label",for:"need-slug-attach"}," Привязать скрипт ",-1),_hoisted_70$4={key:8,class:"mb-2"},_hoisted_71$4={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_72$3=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_73$3=[_hoisted_72$3],_hoisted_74$2={class:"form-check mb-2"},_hoisted_75$2=createBaseVNode("label",{class:"form-check-label",for:"need-dialog-attach"}," Привязать начало диалога ",-1),_hoisted_76$2={key:9,class:"mb-2"},_hoisted_77$2={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_78$2=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_79$2=[_hoisted_78$2],_hoisted_80$2={class:"form-check mb-2"},_hoisted_81$2=createBaseVNode("label",{class:"form-check-label",for:"need-rules"}," Нужны правила загрузки страницы ",-1),_hoisted_82$2=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-success w-100 p-3 mb-3"},"Сохранить изменения ",-1),__default__$s={props:["page","onlyEdit"],data(){return{need_show_qr_and_link:!1,need_clean:!1,load:!1,photos:[],showReplyTemplateSelector:!1,showInlineTemplateSelector:!1,need_page_sticker:!1,need_page_audios:!1,need_page_documents:!1,need_page_video:!1,need_page_images:!1,need_rules:!1,need_inline_menu:!1,need_reply_menu:!1,need_attach_page:!1,need_attach_dialog:!1,need_attach_slug:!1,bot:null,pageForm:{id:null,content:"",command:null,slug:null,comment:null,sticker:null,images:[],videos:[],audios:[],documents:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,next_page_id:null,next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if:null,rules_else_page_id:null,rules_if_message:null,rules_else_message:null}}},watch:{need_rules:function(o,t){this.need_rules||(this.pageForm.rules_if=null,this.pageForm.rules_else_page_id=null,this.pageForm.rules_if_message=null,this.pageForm.rules_else_message=null)},need_page_audios:function(o,t){this.need_page_audios||(this.pageForm.audios=[])},need_page_documents:function(o,t){this.need_page_documents||(this.pageForm.documents=[])},need_page_sticker:function(o,t){this.need_page_sticker||(this.pageForm.sticker=null)},need_page_images:function(o,t){this.need_page_images||(this.photos=[],this.pageForm.images=[])},need_page_video:function(o,t){this.need_page_video||(this.pageForm.videos=[])},need_inline_menu:function(o,t){this.need_inline_menu||(this.pageForm.inline_keyboard=null,this.pageForm.inline_keyboard_id=null)},need_reply_menu:function(o,t){this.need_reply_menu||(this.pageForm.reply_keyboard=null,this.pageForm.reply_keyboard_id=null)},need_attach_page:function(o,t){this.need_attach_page||(this.pageForm.next_page_id=null)},need_attach_dialog:function(o,t){this.need_attach_dialog||(this.pageForm.next_bot_dialog_command_id=null)},need_attach_slug:function(o,t){this.need_attach_slug||(this.pageForm.next_bot_menu_slug_id=null)},pageForm:{handler:function(o){this.pageForm.reply_keyboard!=null&&(this.need_reply_menu=!0),this.pageForm.inline_keyboard!=null&&(this.need_inline_menu=!0),this.pageForm.images.length>0&&(this.need_page_images=!0),this.pageForm.next_bot_dialog_command_id!=null&&(this.need_attach_dialog=!0),this.pageForm.next_bot_menu_slug_id!=null&&(this.need_attach_slug=!0),this.pageForm.next_page_id!=null&&(this.need_attach_page=!0),this.pageForm.rules_if!=null&&(this.need_rules=!0),this.pageForm.videos.length>0&&(this.need_page_video=!0),this.pageForm.audios.length>0&&(this.need_page_audios=!0),this.pageForm.documents.length>0&&(this.need_page_documents=!0),this.pageForm.sticker&&(this.need_page_sticker=!0),this.need_clean=!0},deep:!0}},computed:{currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},pageLink(){if(!this.pageForm.id)return"Ссылка недоступна";let o="";for(let t=0;t<10-(""+this.pageForm.id).length;t++)o+="0";return o+=this.pageForm.id,"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("004"+o)}},mounted(){if(this.loadBot(),this.page){let o=this.page;this.photos=[],this.pageForm={id:o.id,slug_id:o.slug?o.slug.id:null,content:o.content,command:o.slug?o.slug.command:null,slug:o.slug?o.slug.slug:null,comment:o.slug?o.slug.comment:null,images:o.images||[],reply_keyboard_title:o.reply_keyboard_title||null,reply_keyboard_id:o.reply_keyboard_id||null,inline_keyboard_id:o.inline_keyboard_id||null,reply_keyboard:o.replyKeyboard||null,inline_keyboard:o.inlineKeyboard||null,next_page_id:o.next_page_id||null,next_bot_dialog_command_id:o.next_bot_dialog_command_id||null,next_bot_menu_slug_id:o.next_bot_menu_slug_id||null,is_external:o.is_external||!1,videos:o.videos||[],audios:o.audios||[],sticker:o.sticker||null,documents:o.documents||[],rules_if:o.rules_if||null,rules_else_page_id:o.rules_else_page_id||null,rules_if_message:o.rules_if_message||null,rules_else_message:o.rules_else_message||null}}else this.clearForm()},methods:{copyToClipBoard(o){navigator.clipboard.writeText(o).then(()=>{this.$notify({title:"Конструктор страниц",text:"Ссылка скопирована в буфер",type:"success"})}).catch(t=>{this.$notify({title:"Конструктор страниц",text:"Ошибка копирования",type:"error"})})},loadBot(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},associateDialog(o){this.pageForm.next_bot_dialog_command_id=o.id},associateSlug(o){this.pageForm.next_bot_menu_slug_id=o.id},attachPage(o){o.id!=this.pageForm.id?this.pageForm.next_page_id=o.id:this.$notify({title:"Конструктор страниц",text:"Вы не можете связать данную страницу с собой",type:"error"})},injectContent(o){this.pageForm.content?this.pageForm.content+=o.text:this.pageForm.content=o.text},clearForm(){this.photos=[],this.pageForm={id:null,content:null,command:null,slug:null,comment:null,sticker:null,images:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,reply_keyboard_id:null,inline_keyboard_id:null,next_page_id:null,videos:[],audios:[],documents:[],next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if_message:null,rules_else_message:null},this.photos=[],this.showReplyTemplateSelector=!1,this.showInlineTemplateSelector=!1,this.need_page_sticker=!1,this.need_page_video=!1,this.need_page_images=!1,this.need_inline_menu=!1,this.need_reply_menu=!1,this.need_attach_page=!1,this.need_attach_dialog=!1,this.need_attach_slug=!1,this.need_rules=!1,this.need_page_audios=!1,this.need_page_documents=!1,this.$nextTick(()=>{this.need_clean=!1})},submitPage(){let o=new FormData;if(Object.keys(this.pageForm).forEach(t=>{const a=this.pageForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch(this.pageForm.id==null?"createPage":"updatePage",{pageForm:o}).then(t=>{this.load=!0,this.$nextTick(()=>{this.load=!1,this.clearForm()}),this.$emit("callback",t.data),this.$notify({title:"Конструктор страниц",text:this.pageForm.id==null?"Страница успешно создана!":"Страница успешно обновлена!",type:"success"})}).catch(t=>{})},saveInlineKeyboard(o){this.pageForm.inline_keyboard=o},selectReplyKeyboard(o){this.pageForm.reply_keyboard=o,this.showReplyTemplateSelector=!1},selectInlineKeyboard(o){this.pageForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},saveReplyKeyboard(o){this.pageForm.reply_keyboard=o},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.pageForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},onChange(o){this.pageForm.content=o},selectVideo(o){this.pageForm.videos||(this.pageForm.videos=[]);let t=this.pageForm.videos.indexOf(o.file_id);t!==-1?this.pageForm.videos.splice(t,1):this.pageForm.videos.push(o.file_id)},selectAudio(o){this.pageForm.audios||(this.pageForm.audios=[]);let t=this.pageForm.audios.indexOf(o.file_id);if(o.type==="voice"){if(t!==-1){this.pageForm.audios.splice(t,1);return}this.pageForm.audios=[o.file_id];return}t!==-1?this.pageForm.audios.splice(t,1):this.pageForm.audios.push(o.file_id)},selectSticker(o){this.pageForm.sticker=o.file_id},selectDocument(o){this.pageForm.documents||(this.pageForm.documents=[]);let t=this.pageForm.documents.indexOf(o.file_id);t!==-1?this.pageForm.documents.splice(t,1):this.pageForm.documents.push(o.file_id)}}},_sfc_main$E=Object.assign(__default__$s,{__name:"Page",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return t.bot?(openBlock(),createElementBlock("form",{key:0,onSubmit:a[27]||(a[27]=withModifiers((...s)=>t.submitPage&&t.submitPage(...s),["prevent"]))},[o.onlyEdit?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[t.pageForm.id||t.need_clean?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"w-100 btn text-center btn mb-2",onClick:a[0]||(a[0]=(...s)=>t.clearForm&&t.clearForm(...s))},[_hoisted_1$E,createTextVNode(" Очистить форму")])):createCommentVNode("",!0)],64)),t.pageForm.id?(openBlock(),createElementBlock("div",_hoisted_2$D,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[1]||(a[1]=s=>t.need_show_qr_and_link=s),type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[vModelCheckbox,t.need_show_qr_and_link]]),_hoisted_3$D])):createCommentVNode("",!0),t.pageForm.id&&t.need_show_qr_and_link?(openBlock(),createElementBlock("div",_hoisted_4$z,[createBaseVNode("p",null,[createTextVNode("Ссылка на текущую страницу: "),createBaseVNode("span",{class:"font-weight-bold",onClick:a[2]||(a[2]=s=>t.copyToClipBoard(t.pageLink))},toDisplayString(t.pageLink),1)]),createBaseVNode("div",_hoisted_5$z,[withDirectives(createBaseVNode("img",_hoisted_6$y,null,512),[[i,t.qr]])])])):createCommentVNode("",!0),_hoisted_7$x,createBaseVNode("div",_hoisted_8$v,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":a[3]||(a[3]=s=>t.pageForm.command=s),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.pageForm.command]]),_hoisted_9$u]),createBaseVNode("div",_hoisted_10$t,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Описание страницы","aria-label":"Описание страницы","onUpdate:modelValue":a[4]||(a[4]=s=>t.pageForm.comment=s),maxlength:"255",style:{"min-height":"150px"},"aria-describedby":"bot-domain",required:""},`
            `,512),[[vModelText,t.pageForm.comment]]),_hoisted_11$r]),createBaseVNode("div",_hoisted_12$q,[createBaseVNode("div",_hoisted_13$n,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[5]||(a[5]=s=>t.pageForm.is_external=s),type:"checkbox",id:"is_external"},null,512),[[vModelCheckbox,t.pageForm.is_external]]),_hoisted_14$n])]),t.pageForm.is_external?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:3},[createBaseVNode("div",_hoisted_15$n,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=s=>t.pageForm.content=s),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"}},null,512),[[vModelText,t.pageForm.content]]),createBaseVNode("label",_hoisted_16$m,[createTextVNode("Содержимое страницы "),t.pageForm.content?(openBlock(),createElementBlock("span",_hoisted_17$k,toDisplayString(t.pageForm.content.length)+"/4096 ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_18$j,[createBaseVNode("div",_hoisted_19$i,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[7]||(a[7]=s=>t.need_page_images=s),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_20$h])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_21$g,[_hoisted_22$g,createBaseVNode("div",_hoisted_23$g,[createBaseVNode("label",_hoisted_24$g,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:a[8]||(a[8]=(...s)=>t.onChangePhotos&&t.onChangePhotos(...s)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_25$f,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(s).imageUrl]]),createBaseVNode("div",_hoisted_26$d,[createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.removePhoto(r)},"Удалить",8,_hoisted_27$c)])]))),256)):createCommentVNode("",!0)]),t.pageForm.images.length>0?(openBlock(),createElementBlock("h6",_hoisted_28$c,"Ранее загруженные фотографии")):createCommentVNode("",!0),t.pageForm.images.length>0?(openBlock(),createElementBlock("div",_hoisted_29$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pageForm.images,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_30$b,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+t.bot.id+"/"+s]]),createBaseVNode("div",_hoisted_31$b,[createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.removeImage(r)},"Удалить",8,_hoisted_32$b)])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_33$a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[9]||(a[9]=s=>t.need_page_video=s),type:"checkbox",id:"need-page-video"},null,512),[[vModelCheckbox,t.need_page_video]]),_hoisted_34$9]),t.need_page_video?(openBlock(),createElementBlock("div",_hoisted_35$9,[_hoisted_36$8,createVNode(_sfc_main$4h,{"need-video":!0,"need-video-note":!0,selected:t.pageForm.videos,onSelect:t.selectVideo},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[10]||(a[10]=s=>t.need_page_sticker=s),type:"checkbox",id:"need-page-sticker"},null,512),[[vModelCheckbox,t.need_page_sticker]]),_hoisted_38$8]),t.need_page_sticker?(openBlock(),createElementBlock("div",_hoisted_39$8,[createVNode(_sfc_main$4h,{"need-sticker":!0,selected:[t.pageForm.sticker],onSelect:t.selectSticker},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_40$7,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[11]||(a[11]=s=>t.need_reply_menu=s),type:"checkbox",id:"need-reply-menu"},null,512),[[vModelCheckbox,t.need_reply_menu]]),_hoisted_41$7]),createBaseVNode("div",_hoisted_42$7,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[12]||(a[12]=s=>t.need_page_audios=s),type:"checkbox",id:"need-page-audio"},null,512),[[vModelCheckbox,t.need_page_audios]]),_hoisted_43$7]),t.need_page_audios?(openBlock(),createElementBlock("div",_hoisted_44$7,[_hoisted_45$7,createVNode(_sfc_main$4h,{"need-audio":!0,selected:t.pageForm.audios,onSelect:t.selectAudio},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_46$7,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[13]||(a[13]=s=>t.need_page_documents=s),type:"checkbox",id:"need-page-document"},null,512),[[vModelCheckbox,t.need_page_documents]]),_hoisted_47$6]),t.need_page_documents?(openBlock(),createElementBlock("div",_hoisted_48$6,[_hoisted_49$6,createVNode(_sfc_main$4h,{"need-document":!0,selected:t.pageForm.documents,onSelect:t.selectDocument},null,8,["selected","onSelect"])])):createCommentVNode("",!0),t.need_reply_menu?(openBlock(),createElementBlock("div",_hoisted_50$6,[_hoisted_51$6,createBaseVNode("div",_hoisted_52$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Заголовок нижнего меню","aria-label":"Заголовок нижнего меню","onUpdate:modelValue":a[14]||(a[14]=s=>t.pageForm.reply_keyboard_title=s),maxlength:"255","aria-describedby":"bot-reply_keyboard_title"},null,512),[[vModelText,t.pageForm.reply_keyboard_title]]),_hoisted_53$5]),createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showReplyTemplateSelector,"btn-primary":t.showReplyTemplateSelector}]),type:"button",onClick:a[15]||(a[15]=s=>t.showReplyTemplateSelector=!t.showReplyTemplateSelector)},[t.showReplyTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_55$5," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_54$5," Открыть шаблоны меню"))],2),t.showReplyTemplateSelector?(openBlock(),createBlock(_sfc_main$I,{key:0,class:"mb-2",type:"reply",onSelect:t.selectReplyKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(_sfc_main$1u,{key:1,type:"reply",onSave:t.saveReplyKeyboard,modelValue:t.pageForm.reply_keyboard,"onUpdate:modelValue":a[16]||(a[16]=s=>t.pageForm.reply_keyboard=s)},null,8,["onSave","modelValue"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_56$5,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[17]||(a[17]=s=>t.need_inline_menu=s),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_57$5]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_58$4,[_hoisted_59$4,createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:a[18]||(a[18]=s=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_61$4," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_60$4," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$I,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(_sfc_main$1u,{key:1,type:"inline",onSave:t.saveInlineKeyboard,modelValue:t.pageForm.inline_keyboard,"onUpdate:modelValue":a[19]||(a[19]=s=>t.pageForm.inline_keyboard=s)},null,8,["onSave","modelValue"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_62$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[20]||(a[20]=s=>t.need_attach_page=s),type:"checkbox",id:"need-page-attach"},null,512),[[vModelCheckbox,t.need_attach_page]]),_hoisted_63$4]),t.need_attach_page?(openBlock(),createElementBlock("div",_hoisted_64$4,[t.pageForm.next_page_id?(openBlock(),createElementBlock("p",_hoisted_65$4,[createTextVNode("Связано со страницей #"+toDisplayString(t.pageForm.next_page_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:a[21]||(a[21]=s=>t.pageForm.next_page_id=null)},_hoisted_67$4)])):createCommentVNode("",!0),createVNode(_sfc_main$J,{current:t.pageForm.id,onCallback:t.attachPage,editor:!1},null,8,["current","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_68$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[22]||(a[22]=s=>t.need_attach_slug=s),type:"checkbox",id:"need-slug-attach"},null,512),[[vModelCheckbox,t.need_attach_slug]]),_hoisted_69$4]),t.need_attach_slug?(openBlock(),createElementBlock("div",_hoisted_70$4,[t.pageForm.next_bot_menu_slug_id?(openBlock(),createElementBlock("p",_hoisted_71$4,[createTextVNode("Связано со скриптом #"+toDisplayString(t.pageForm.next_bot_menu_slug_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:a[23]||(a[23]=s=>t.pageForm.next_bot_menu_slug_id=null)},_hoisted_73$3)])):createCommentVNode("",!0),createVNode(_sfc_main$H,{global:!0,selected:t.pageForm.next_bot_menu_slug_id,onCallback:t.associateSlug},null,8,["selected","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_74$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[24]||(a[24]=s=>t.need_attach_dialog=s),type:"checkbox",id:"need-dialog-attach"},null,512),[[vModelCheckbox,t.need_attach_dialog]]),_hoisted_75$2]),t.need_attach_dialog?(openBlock(),createElementBlock("div",_hoisted_76$2,[t.pageForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("p",_hoisted_77$2,[createTextVNode(" Связано с диалогом #"+toDisplayString(t.pageForm.next_bot_dialog_command_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:a[25]||(a[25]=s=>t.pageForm.next_bot_dialog_command_id=null)},_hoisted_79$2)])):createCommentVNode("",!0),createVNode(_sfc_main$G,{onSelectDialog:t.associateDialog},null,8,["onSelectDialog"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_80$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[26]||(a[26]=s=>t.need_rules=s),type:"checkbox",id:"need-rules"},null,512),[[vModelCheckbox,t.need_rules]]),_hoisted_81$2])],64)),t.need_rules?(openBlock(),createBlock(_sfc_main$F,{key:4,bot:t.bot,"rules-form":t.pageForm},null,8,["bot","rules-form"])):createCommentVNode("",!0),_hoisted_82$2],32)):createCommentVNode("",!0)}}}),_hoisted_1$D={class:"container py-3"},_hoisted_2$C={class:"row"},_hoisted_3$C={class:"col-12"},_hoisted_4$y={class:"modal fade",id:"page-form-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_5$y={class:"modal-dialog modal-fullscreen"},_hoisted_6$x={class:"modal-content"},_hoisted_7$w=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_8$u={class:"modal-body mb-5"},_hoisted_9$t={key:1,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_10$s=createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),__default__$r={data(){return{page:null,loadPage:!1,loadPageList:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},pageListCallback(o){this.loadPage=!0;const t=new bootstrap.Modal("#page-form-modal",{});this.$nextTick(()=>{this.loadPage=!1,this.page=o,t.show()})},pageCallback(o){this.loadPageList=!0,this.$nextTick(()=>{this.loadPageList=!1})}}},_sfc_main$D=Object.assign(__default__$r,{__name:"Pages",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$D,[createBaseVNode("div",_hoisted_2$C,[createBaseVNode("div",_hoisted_3$C,[t.loadPageList?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$J,{key:0,editor:!0,onCallback:t.pageListCallback},null,8,["onCallback"]))])])]),createBaseVNode("div",_hoisted_4$y,[createBaseVNode("div",_hoisted_5$y,[createBaseVNode("div",_hoisted_6$x,[_hoisted_7$w,createBaseVNode("div",_hoisted_8$u,[t.loadPage?(openBlock(),createElementBlock("div",_hoisted_9$t,[createTextVNode(" Подготавливаем данные... "),_hoisted_10$s])):(openBlock(),createBlock(_sfc_main$E,{key:0,page:t.page,onCallback:t.pageCallback},null,8,["page","onCallback"]))])])])])],64))}}),Pages=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$D},Symbol.toStringTag,{value:"Module"})),_hoisted_1$C={class:"container py-3"},_hoisted_2$B=createBaseVNode("div",{class:"alert alert-light"}," Данный раздел предназначен для быстрой генерации ссылок с UTM-метками, по которым в дальнейшем будут переходит новые пользователи. Результат - отображение статистики по наиболее популярным точкам восприятия рекламы пользователем. ",-1),_hoisted_3$B={class:"row"},_hoisted_4$x={class:"col-12"},_hoisted_5$x=createBaseVNode("p",null,"Для начала выберите страницу, для которой будет создана ссылка",-1),_hoisted_6$w={key:0,class:"text-center mt-3"},_hoisted_7$v={class:"fw-bold text-primary"},_hoisted_8$t={key:0,class:"col-12 p-3"},_hoisted_9$s={class:"text-center fw-bold"},_hoisted_10$r=createBaseVNode("div",{class:"alert alert-light mb-2"},[createBaseVNode("strong",{class:"fw-bold"},"Внимание!"),createTextVNode(" Используйте метки "),createBaseVNode("strong",{class:"fw-bold text-primary"},"на английском языке"),createTextVNode(" или "),createBaseVNode("strong",{class:"fw-bold text-primary"},"число"),createTextVNode("! ")],-1),_hoisted_11$q={style:{position:"sticky",bottom:"81px"},class:"form-floating mb-2"},_hoisted_12$p=createBaseVNode("label",{for:"utm-source"},"Укажите метку для статистики",-1),_hoisted_13$m={class:"d-flex justify-content-center"},_hoisted_14$m={style:{width:"200px",height:"200px"}},_hoisted_15$m={key:1,class:"col-12"},_hoisted_16$l=createBaseVNode("h6",{class:"fw-bold text-center mt-5"},"Статистика по переходам",-1),_hoisted_17$j={class:"w-100 overflow-x-scroll"},_hoisted_18$i={class:"modal fade",id:"page-form-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_19$h={class:"modal-dialog modal-fullscreen"},_hoisted_20$g={class:"modal-content"},_hoisted_21$f=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_22$f={class:"modal-body pb-5"},_hoisted_23$f={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_24$f=["disabled"],__default__$q={data(){return{date:null,page:null,utm_source:null,loadPage:!1,loadPageList:!1,pageFormModal:null}},watch:{utm_source:{handler:o=>{const t=o.replace(/[а-яА-Я\s]/g,"");globalThis.utm_source=t},deep:!0}},computed:{bot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.pageLink},pageLink(){if(!this.page)return"https://t.me/next_service1_bot";let o="";for(let t=0;t<10-(""+this.page.id).length;t++)o+="0";return o+=this.page.id,"https://t.me/"+this.bot.bot_domain+"?start="+gBase64.encode("004"+o+(this.utm_source!=null?"utm"+this.utm_source:""))}},mounted(){this.pageFormModal=new bootstrap.Modal("#page-form-modal",{}),this.loadBotAdminConfig();const o=new Date,t=new Date(new Date().setDate(o.getDate()-31)),a=new Date(new Date().setDate(o.getDate()+31));this.date=[t,a]},methods:{copyLink(){this.copyToClipBoard(this.pageLink)},copyToClipBoard(o){navigator.clipboard.writeText(o).then(()=>{this.$notify({title:"Копирование",text:"Ссылка скопирована в буфер"})}).catch(t=>{this.$notify({title:"Копирование",text:"Ошибка копирования",type:"error"})})},loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},openPageList(){this.pageFormModal.show()},pageListCallback(o){this.loadPage=!0,this.$nextTick(()=>{this.page=o,this.loadPage=!1,this.pageFormModal.hide()})},pageCallback(o){this.loadPageList=!0,this.$nextTick(()=>{this.loadPageList=!1})}}},_sfc_main$C=Object.assign(__default__$q,{__name:"Links",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$C,[_hoisted_2$B,createBaseVNode("div",_hoisted_3$B,[createBaseVNode("div",_hoisted_4$x,[_hoisted_5$x,createBaseVNode("button",{onClick:a[0]||(a[0]=(...s)=>t.openPageList&&t.openPageList(...s)),class:"btn btn-primary w-100"},"Выбрать страницу "),t.page?(openBlock(),createElementBlock("p",_hoisted_6$w,[createTextVNode(' Вы выбрали страницу "'),createBaseVNode("span",_hoisted_7$v,toDisplayString(t.page.slug.command),1),createTextVNode('" (#'+toDisplayString(t.page.id)+") ",1)])):createCommentVNode("",!0)]),t.page?(openBlock(),createElementBlock("div",_hoisted_8$t,[createBaseVNode("p",_hoisted_9$s,[createTextVNode("Ссылка на текущую страницу: "),createBaseVNode("span",{style:{"word-wrap":"break-word"},class:"bg-secondary text-white font-bold cursor-pointer",onClick:a[1]||(a[1]=s=>t.copyToClipBoard(t.pageLink))},toDisplayString(t.pageLink),1)]),_hoisted_10$r,createBaseVNode("div",_hoisted_11$q,[withDirectives(createBaseVNode("input",{type:"text",maxlength:"100","onUpdate:modelValue":a[2]||(a[2]=s=>t.utm_source=s),class:"form-control",id:"utm-source",placeholder:"name@example.com"},null,512),[[vModelText,t.utm_source]]),_hoisted_12$p]),createBaseVNode("div",_hoisted_13$m,[withDirectives(createBaseVNode("img",_hoisted_14$m,null,512),[[i,t.qr]])])])):createCommentVNode("",!0),t.date?(openBlock(),createElementBlock("div",_hoisted_15$m,[_hoisted_16$l,createBaseVNode("div",_hoisted_17$j,[createVNode(TrafficStatistic,{date:t.date},null,8,["date"])])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_18$i,[createBaseVNode("div",_hoisted_19$h,[createBaseVNode("div",_hoisted_20$g,[_hoisted_21$f,createBaseVNode("div",_hoisted_22$f,[t.loadPageList?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$J,{key:0,editor:!0,onCallback:t.pageListCallback},null,8,["onCallback"]))])])])]),createBaseVNode("nav",_hoisted_23$f,[createBaseVNode("button",{onClick:a[3]||(a[3]=(...s)=>t.copyLink&&t.copyLink(...s)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},disabled:!t.page,class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Скопировать ссылку в буфер ",8,_hoisted_24$f)])],64)}}}),Links=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$C},Symbol.toStringTag,{value:"Module"})),_sfc_main$B={computed:{tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{goTo(o){this.$router.push({name:o})}}},_hoisted_1$B={class:"container py-3"},_hoisted_2$A={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_3$A={class:"col"},_hoisted_4$w={class:"card-body w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_5$w={class:"img-fluid",alt:""},_hoisted_6$v=createBaseVNode("p",{class:"my-2"},"Управление IIKO",-1),_hoisted_7$u={class:"col"},_hoisted_8$s={class:"card-body w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_9$r={style:{"object-fit":"cover"},class:"img-fluid",alt:""},_hoisted_10$q=createBaseVNode("p",{class:"my-2"},"Управление CDEK",-1),_hoisted_11$p={class:"col"},_hoisted_12$o={class:"card-body w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_13$l={class:"img-fluid",alt:""},_hoisted_14$l=createBaseVNode("p",{class:"my-2"},"Управление AMO",-1),_hoisted_15$l={class:"col"},_hoisted_16$k={class:"card-body w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_17$i={class:"img-fluid",alt:""},_hoisted_18$h=createBaseVNode("p",{class:"my-2"},"Управление Bitrix24",-1),_hoisted_19$g={class:"col"},_hoisted_20$f={class:"card-body w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_21$e={class:"img-fluid",alt:""},_hoisted_22$e=createBaseVNode("p",{class:"my-2"},"Управление yClients",-1),_hoisted_23$e={class:"col"},_hoisted_24$e={class:"card-body w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_25$e={class:"img-fluid",alt:""},_hoisted_26$c=createBaseVNode("p",{class:"my-2"},"Управление FrontPad",-1);function _sfc_render$b(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$A,[createBaseVNode("div",_hoisted_3$A,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=l=>r.goTo("IikoV2")),style:{"min-height":"250px",height:"100%"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_4$w,[withDirectives(createBaseVNode("img",_hoisted_5$w,null,512),[[n,"/images/shop-v2-2/iiko.png"]]),_hoisted_6$v])])]),createBaseVNode("div",_hoisted_7$u,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=l=>r.goTo("CdekV2")),style:{"min-height":"250px",height:"100%"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_8$s,[withDirectives(createBaseVNode("img",_hoisted_9$r,null,512),[[n,"/images/shop-v2-2/CDEK.png"]]),_hoisted_10$q])])]),createBaseVNode("div",_hoisted_11$p,[createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=l=>r.goTo("AmoV2")),style:{"min-height":"250px",height:"100%"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_12$o,[withDirectives(createBaseVNode("img",_hoisted_13$l,null,512),[[n,"/images/shop-v2-2/amo.png"]]),_hoisted_14$l])])]),createBaseVNode("div",_hoisted_15$l,[createBaseVNode("button",{type:"button",onClick:t[3]||(t[3]=l=>r.goTo("BitrixV2")),style:{"min-height":"250px",height:"100%"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_16$k,[withDirectives(createBaseVNode("img",_hoisted_17$i,null,512),[[n,"/images/shop-v2-2/bitrix.png"]]),_hoisted_18$h])])]),createBaseVNode("div",_hoisted_19$g,[createBaseVNode("button",{type:"button",onClick:t[4]||(t[4]=l=>r.goTo("YClientsV2")),style:{"min-height":"250px",height:"100%"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_20$f,[withDirectives(createBaseVNode("img",_hoisted_21$e,null,512),[[n,"/images/shop-v2-2/yclients.png"]]),_hoisted_22$e])])]),createBaseVNode("div",_hoisted_23$e,[createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=l=>r.goTo("FrontPadV2")),style:{"min-height":"250px",height:"100%"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_24$e,[withDirectives(createBaseVNode("img",_hoisted_25$e,null,512),[[n,"/images/shop-v2-2/promo.png"]]),_hoisted_26$c])])])])])}const IntegrationsV2=_export_sfc(_sfc_main$B,[["render",_sfc_render$b]]),IntegrationMenu=Object.freeze(Object.defineProperty({__proto__:null,default:IntegrationsV2},Symbol.toStringTag,{value:"Module"})),AddPartnerForm_vue_vue_type_style_index_0_scoped_4139fdee_lang="",_sfc_main$A={data(){return{telegramInput:"",modal:null}},mounted(){this.modal=new bootstrap.Modal(document.getElementById("add-partner-modal"))},methods:{openModal(){this.modal.show()},handleSubmit(){const o=this.processTelegramLink(this.telegramInput);let t=new FormData;t.append("telegram_domain",o),this.$store.dispatch("storePartner",{form:t}).then(a=>{this.load=!0,this.telegramInput="",this.$notify({title:"Добавление партнера",text:"Партнер успешно добавлен",type:"success"}),this.modal.hide(),this.$emit("callback")}).catch(a=>{this.$notify({title:"Добавление партнера",text:a.response.data.message||"Ошибка добавления партнера",type:"error"})})},processTelegramLink(o){let t=o.trim();return t.startsWith("https://t.me/")?t=t.replace("https://t.me/",""):t.startsWith("@")&&(t=t.replace("@","")),t}}},_withScopeId$4=o=>(pushScopeId("data-v-4139fdee"),o=o(),popScopeId(),o),_hoisted_1$A={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px","z-index":"999!important"}},_hoisted_2$z={class:"container text-center"},_hoisted_3$z={class:"modal fade",id:"add-partner-modal",tabindex:"-1","aria-labelledby":"add-partner-modal-label","aria-hidden":"true"},_hoisted_4$v={class:"modal-dialog"},_hoisted_5$v={class:"modal-content"},_hoisted_6$u=_withScopeId$4(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h5",{class:"modal-title",id:"add-partner-modal-label"},"Добавление партнера"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_7$t={class:"modal-body"},_hoisted_8$r=_withScopeId$4(()=>createBaseVNode("p",{class:"alert alert-light border-secondary mb-2"}," Настройка партнера происходит после его добавления ",-1)),_hoisted_9$q={class:"mb-3 form-floating"},_hoisted_10$p=_withScopeId$4(()=>createBaseVNode("label",{for:"telegram",class:"form-label"},"Ссылка на Telegram-бота",-1)),_hoisted_11$o=_withScopeId$4(()=>createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Добавить",-1));function _sfc_render$a(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("nav",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$z,[createBaseVNode("button",{class:"btn text-center btn-primary w-100 p-3 rounded-3 shadow-lg",onClick:t[0]||(t[0]=(...n)=>r.openModal&&r.openModal(...n))}," Добавить партнера ")])]),createBaseVNode("div",_hoisted_3$z,[createBaseVNode("div",_hoisted_4$v,[createBaseVNode("div",_hoisted_5$v,[_hoisted_6$u,createBaseVNode("div",_hoisted_7$t,[_hoisted_8$r,createBaseVNode("form",{onSubmit:t[2]||(t[2]=withModifiers((...n)=>r.handleSubmit&&r.handleSubmit(...n),["prevent"]))},[createBaseVNode("div",_hoisted_9$q,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"telegram","onUpdate:modelValue":t[1]||(t[1]=n=>s.telegramInput=n),placeholder:"Введите ссылку на Telegram-бота"},null,512),[[vModelText,s.telegramInput]]),_hoisted_10$p]),_hoisted_11$o],32)])])])])],64)}const AddPartnerForm=_export_sfc(_sfc_main$A,[["render",_sfc_render$a],["__scopeId","data-v-4139fdee"]]),ConfigPartnerForm_vue_vue_type_style_index_0_scoped_e64183e7_lang="",_sfc_main$z={props:["initialData"],data(){return{file:null,preview:null,activeTab:"partner",labels:{partner:{organization_name:"Название организации",inn:"ИНН",ogrn:"ОГРН",kpp:"КПП",legal_address:"Юридический адрес",actual_address:"Фактический адрес",email:"E-mail",phone:"Телефон",status:"Статус"},contract:{contract_number:"Номер договора",contract_name:"Название",start_date:"Дата начала",end_date:"Дата окончания",contract_status:"Статус",total_amount:"Сумма"},contact:{full_name:"ФИО",position:"Должность",email:"E-mail",phone:"Телефон"},document:{file_name:"Файл",document_type:"Тип документа"}},tabs:[{key:"partner",label:"Партнёр"},{key:"contract",label:"Договор"},{key:"contacts",label:"Контакты"},{key:"documents",label:"Документы"}],form:{id:null,title:"",description:"",image:"",is_active:!0,extra_charge:0,demo_mode:!0,config:{excludes:[],bg_color:"transparent"},legal_info:{partner:{organization_name:"ООО «Альфа-Партнер»",legal_form:"ООО",inn:"7701234567",ogrn:"1027700132195",kpp:"770101001",registration_date:"2015-04-10",legal_address:"г. Москва, ул. Центральная, д. 12",actual_address:"г. Москва, ул. Центральная, д. 14",bank_name:"ПАО Сбербанк",bik:"044525225",checking_account:"40702810900000012345",correspondent_account:"30101810400000000225",email:"info@alfapartner.ru",phone:"+7 (495) 123-45-67",status:"Активен",notes:"Надёжный партнёр, сотрудничество с 2018 года"},contacts:[{full_name:"Иванов Сергей Петрович",position:"Генеральный директор",email:"ivanov@alfapartner.ru",phone:"+7 (495) 555-12-34"},{full_name:"Кузнецова Анна Дмитриевна",position:"Юрист",email:"kuznetsova@alfapartner.ru",phone:"+7 (495) 555-12-35"}],contracts:{contract_number:"ДГ-2025/14",contract_name:"Договор на оказание консультационных услуг",contract_type:"Услуги",start_date:"2025-02-01",end_date:"2026-02-01",contract_status:"Подписан",total_amount:12e5,currency:"RUB",payment_terms:"Оплата в течение 10 рабочих дней после выставления счёта",responsible_person:"Петров И.А.",signed_by:"Иванов С.П.",signature_date:"2025-01-28",auto_renewal:!1,termination_reason:null},documents:[{file_name:"Договор_ДГ-2025-14.pdf",file_path:"/docs/contracts/ДГ-2025-14.pdf",document_type:"Договор",uploaded_at:"2025-01-28T14:12:00",verified:!0,comment:"Подписан обеими сторонами"}]}}}},computed:{bot(){return window.currentBot||null}},mounted(){this.initialData&&(this.form={...this.initialData})},methods:{addContract(){this.form.legal_info.contracts.value.push({id:Date.now(),partner_id:1})},addContact(){this.form.legal_info.contacts.value.push({id:Date.now(),partner_id:1})},addDocument(){this.form.legal_info.documents.value.push({id:Date.now(),contract_id:10})},onFileChange(o){const t=o.target.files[0];this.file=t,t&&(this.preview=URL.createObjectURL(t)),this.$emit("select",t)},handleSubmit(){let o=new FormData;Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.file&&o.append("file",this.file),this.$store.dispatch("updatePartner",{form:o}).then(t=>{this.$notify({title:"Отлично!",text:"Параметры успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Упс!",text:"Ошибка сохранения параметров",type:"error"})})}}},_withScopeId$3=o=>(pushScopeId("data-v-e64183e7"),o=o(),popScopeId(),o),_hoisted_1$z={class:"form-check form-switch mb-2"},_hoisted_2$y=_withScopeId$3(()=>createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheck"}," Активен ",-1)),_hoisted_3$y={class:"mb-2 form-floating"},_hoisted_4$u=_withScopeId$3(()=>createBaseVNode("label",{for:"title"},"Заголовок",-1)),_hoisted_5$u={class:"mb-2 form-floating"},_hoisted_6$t=_withScopeId$3(()=>createBaseVNode("label",{for:"description"},"Описание",-1)),_hoisted_7$s={class:"form-floating mb-2 file-floating"},_hoisted_8$q=_withScopeId$3(()=>createBaseVNode("label",{for:"imageInput"},"Загрузить изображение",-1)),_hoisted_9$p={key:0,class:"mb-2"},_hoisted_10$o={class:"card"},_hoisted_11$n={class:"card-body"},_hoisted_12$n=["src"],_hoisted_13$k={key:1,class:"mb-2"},_hoisted_14$k={class:"card"},_hoisted_15$k={class:"card-body"},_hoisted_16$j={class:"img-fluid rounded border img-preview"},_hoisted_17$h={class:"mb-2 form-floating"},_hoisted_18$g=_withScopeId$3(()=>createBaseVNode("label",{for:"extra_charge"},"Дополнительная плата",-1)),_hoisted_19$f={class:"form-check form-switch mb-2"},_hoisted_20$e=_withScopeId$3(()=>createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheck"}," Режим тестирования ",-1)),_hoisted_21$d={class:"nav nav-tabs mb-2"},_hoisted_22$d=["onClick"],_hoisted_23$d=_withScopeId$3(()=>createBaseVNode("h4",null,"Данные партнёра",-1)),_hoisted_24$d={class:"row row-cols-1"},_hoisted_25$d={class:"form-floating"},_hoisted_26$b=["onUpdate:modelValue","id"],_hoisted_27$b=["for"],_hoisted_28$b=_withScopeId$3(()=>createBaseVNode("h4",null,"Контракт",-1)),_hoisted_29$a={class:"row row-cols-1"},_hoisted_30$a={class:"form-floating"},_hoisted_31$a=["onUpdate:modelValue","id"],_hoisted_32$a=["for"],_hoisted_33$9=_withScopeId$3(()=>createBaseVNode("h4",null,"Контактные лица",-1)),_hoisted_34$8=_withScopeId$3(()=>createBaseVNode("div",{class:"divider my-3"},"Контакт",-1)),_hoisted_35$8={class:"row row-cols-1"},_hoisted_36$7={class:"form-floating"},_hoisted_37$7=["onUpdate:modelValue","id"],_hoisted_38$7=["for"],_hoisted_39$7=["onClick"],_hoisted_40$6=_withScopeId$3(()=>createBaseVNode("h4",null,"Документы",-1)),_hoisted_41$6=["onClick"],_hoisted_42$6={class:"row row-cols-1"},_hoisted_43$6={class:"form-floating"},_hoisted_44$6=["onUpdate:modelValue","id"],_hoisted_45$6=["for"],_hoisted_46$6=_withScopeId$3(()=>createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Отправить")],-1));function _sfc_render$9(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:t[8]||(t[8]=withModifiers((...l)=>r.handleSubmit&&r.handleSubmit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_1$z,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheck","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.is_active=l)},null,512),[[vModelCheckbox,s.form.is_active]]),_hoisted_2$y]),createBaseVNode("div",_hoisted_3$y,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.title=l),placeholder:"Введите заголовок"},null,512),[[vModelText,s.form.title]]),_hoisted_4$u]),createBaseVNode("div",_hoisted_5$u,[withDirectives(createBaseVNode("textarea",{class:"form-control",id:"description",style:{"min-height":"200px"},"onUpdate:modelValue":t[2]||(t[2]=l=>s.form.description=l),placeholder:"Введите описание"},null,512),[[vModelText,s.form.description]]),_hoisted_6$t]),createBaseVNode("div",_hoisted_7$s,[createBaseVNode("input",{type:"file",class:"form-control",id:"imageInput",accept:"image/*",onChange:t[3]||(t[3]=(...l)=>r.onFileChange&&r.onFileChange(...l))},null,32),_hoisted_8$q]),s.preview?(openBlock(),createElementBlock("div",_hoisted_9$p,[createBaseVNode("div",_hoisted_10$o,[createBaseVNode("div",_hoisted_11$n,[createBaseVNode("img",{src:s.preview,class:"img-fluid rounded border img-preview"},null,8,_hoisted_12$n)])])])):createCommentVNode("",!0),s.form.image?(openBlock(),createElementBlock("div",_hoisted_13$k,[createBaseVNode("div",_hoisted_14$k,[createBaseVNode("div",_hoisted_15$k,[withDirectives(createBaseVNode("img",_hoisted_16$j,null,512),[[n,"/images-by-bot-id/"+r.bot.id+"/"+s.form.image]])])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_17$h,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",id:"extra_charge","onUpdate:modelValue":t[4]||(t[4]=l=>s.form.extra_charge=l),placeholder:"Введите дополнительную плату"},null,512),[[vModelText,s.form.extra_charge]]),_hoisted_18$g]),createBaseVNode("div",_hoisted_19$f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheck","onUpdate:modelValue":t[5]||(t[5]=l=>s.form.demo_mode=l)},null,512),[[vModelCheckbox,s.form.demo_mode]]),_hoisted_20$e]),s.form.demo_mode?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("ul",_hoisted_21$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.tabs,l=>(openBlock(),createElementBlock("li",{class:"nav-item",key:l.key},[createBaseVNode("button",{type:"button",class:normalizeClass(["nav-link",{active:s.activeTab===l.key}]),onClick:c=>s.activeTab=l.key},toDisplayString(l.label),11,_hoisted_22$d)]))),128))]),withDirectives(createBaseVNode("template",null,[_hoisted_23$d,createBaseVNode("div",_hoisted_24$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.form.legal_info.partner,(l,c)=>(openBlock(),createElementBlock("div",{class:"col mb-2",key:c},[createBaseVNode("div",_hoisted_25$d,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":m=>o.partner[c]=m,id:"partner_"+c,placeholder:" "},null,8,_hoisted_26$b),[[vModelText,o.partner[c]]]),createBaseVNode("label",{for:"partner_"+c},toDisplayString(s.labels.partner[c]||c),9,_hoisted_27$b)])]))),128))])],512),[[vShow,s.activeTab==="partner"]]),withDirectives(createBaseVNode("template",null,[_hoisted_28$b,createBaseVNode("div",_hoisted_29$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.form.legal_info.contract,(l,c)=>(openBlock(),createElementBlock("div",{class:"col mb-2",key:c},[createBaseVNode("div",_hoisted_30$a,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":m=>s.form.legal_info.contract[c]=m,id:"contract_"+c,placeholder:" "},null,8,_hoisted_31$a),[[vModelText,s.form.legal_info.contract[c]]]),createBaseVNode("label",{for:"contract_"+c},toDisplayString(s.labels.contract[c]||c),9,_hoisted_32$a)])]))),128))])],512),[[vShow,s.activeTab==="contract"]]),withDirectives(createBaseVNode("template",null,[_hoisted_33$9,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.form.legal_info.contacts,(l,c)=>(openBlock(),createElementBlock("div",{key:"contact-"+c,class:"rounded mb-2 position-relative"},[_hoisted_34$8,createBaseVNode("div",_hoisted_35$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l,(m,p)=>(openBlock(),createElementBlock("div",{class:"col mb-2",key:p},[createBaseVNode("div",_hoisted_36$7,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":y=>l[p]=y,id:"contact_"+p+c,placeholder:" "},null,8,_hoisted_37$7),[[vModelText,l[p]]]),createBaseVNode("label",{for:"contact_"+p+c},toDisplayString(s.labels.contact[p]||p),9,_hoisted_38$7)])]))),128))]),createBaseVNode("button",{class:"btn btn-sm btn-danger w-100",onClick:m=>s.form.legal_info.contacts.splice(c,1)}," Удалить контакт ",8,_hoisted_39$7)]))),128)),createBaseVNode("button",{class:"btn btn-outline-primary",onClick:t[6]||(t[6]=(...l)=>r.addContact&&r.addContact(...l))},"+ Добавить контакт")],512),[[vShow,s.activeTab==="contacts"]]),withDirectives(createBaseVNode("template",null,[_hoisted_40$6,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.form.legal_info.documents,(l,c)=>(openBlock(),createElementBlock("div",{key:"doc"+c,class:"border rounded p-3 mb-2 position-relative"},[createBaseVNode("button",{class:"btn btn-sm btn-danger position-absolute top-0 end-0 m-2",onClick:m=>s.form.legal_info.documents.splice(c,1)}," Удалить документ ",8,_hoisted_41$6),createBaseVNode("div",_hoisted_42$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l,(m,p)=>(openBlock(),createElementBlock("div",{class:"col mb-2",key:p},[createBaseVNode("div",_hoisted_43$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":y=>l[p]=y,id:"doc_"+p+c,placeholder:" "},null,8,_hoisted_44$6),[[vModelText,l[p]]]),createBaseVNode("label",{for:"doc_"+p+c},toDisplayString(s.labels.document[p]||p),9,_hoisted_45$6)])]))),128))])]))),128)),createBaseVNode("button",{class:"btn btn-outline-primary",onClick:t[7]||(t[7]=(...l)=>r.addDocument&&r.addDocument(...l))},"+ Добавить документ")],512),[[vShow,s.activeTab==="documents"]])],64)),_hoisted_46$6],32)}const ConfigPartnerForm=_export_sfc(_sfc_main$z,[["render",_sfc_render$9],["__scopeId","data-v-e64183e7"]]),PartnerProductList_vue_vue_type_style_index_0_scoped_9b93497d_lang="",_sfc_main$y={props:["partner"],data(){return{extra_charge:0,need_product_config:!1}},computed:{excludes(){var o;return((o=this.partner.config)==null?void 0:o.excludes)||[]}},mounted(){this.extra_charge=this.partner.extra_charge||0},methods:{changeStatus(o,t){var s;let a=((s=this.partner.config)==null?void 0:s.excludes)||[],i=a.indexOf(o);i===-1?a.push(o):a.splice(i,1),this.partner.config.excludes=a,this.$store.dispatch("changePartnerProductStatus",{product_id:o,partner_id:this.partner.id,status:t}).then(r=>{}).catch(()=>{})}}},_withScopeId$2=o=>(pushScopeId("data-v-9b93497d"),o=o(),popScopeId(),o),_hoisted_1$y={class:"form-floating mb-2"},_hoisted_2$x=_withScopeId$2(()=>createBaseVNode("label",{for:""},"Наценка, %",-1)),_hoisted_3$x={class:"form-check form-switch mb-2"},_hoisted_4$t=_withScopeId$2(()=>createBaseVNode("label",{class:"form-check-label",for:"need_product_config"},"Режим настройки отображения товаров",-1)),_hoisted_5$t={key:0,class:"list-group"},_hoisted_6$s={class:"mb-0 d-flex justify-content-between align-items-center"},_hoisted_7$r={key:0,class:"badge bg-primary"},_hoisted_8$p={key:1,class:"badge bg-info"},_hoisted_9$o={key:0,class:"row row-cols-1"},_hoisted_10$n={class:"col"},_hoisted_11$m={class:"d-flex mt-2 mb-2 justify-content-center"},_hoisted_12$m={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},_hoisted_13$j=["onChange","checked","name","id"],_hoisted_14$j=["for"],_hoisted_15$j=["onChange","checked","name","id"],_hoisted_16$i=["for"];function _sfc_render$8(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$y,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=n=>s.extra_charge=n),class:"form-control",placeholder:"Поиск страницы"},null,512),[[vModelText,s.extra_charge]]),_hoisted_2$x]),createBaseVNode("div",_hoisted_3$x,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=n=>s.need_product_config=n),type:"checkbox",role:"switch",id:"need_product_config"},null,512),[[vModelCheckbox,s.need_product_config]]),_hoisted_4$t]),a.partner?(openBlock(),createElementBlock("ul",_hoisted_5$t,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.partner.products,(n,l)=>(openBlock(),createElementBlock("li",{class:normalizeClass([{"bg-exclude":r.excludes.indexOf(n.id)!==-1},"list-group-item"])},[createBaseVNode("p",_hoisted_6$s,[createTextVNode(toDisplayString(n.title)+" ",1),s.extra_charge===0?(openBlock(),createElementBlock("span",_hoisted_7$r,toDisplayString(n.current_price||0)+"₽",1)):(openBlock(),createElementBlock("span",_hoisted_8$p,toDisplayString(parseFloat(n.current_price)+parseFloat((n.current_price*s.extra_charge/100).toFixed(2)))+"₽",1))]),s.need_product_config?(openBlock(),createElementBlock("div",_hoisted_9$o,[createBaseVNode("div",_hoisted_10$n,[createBaseVNode("div",_hoisted_11$m,[createBaseVNode("div",_hoisted_12$m,[createBaseVNode("input",{type:"radio",onChange:c=>r.changeStatus(n.id,0),checked:r.excludes.indexOf(n.id)===-1,class:"btn-check",name:"config-partner-product-"+n.id,id:"config-partner-product1-"+n.id,autocomplete:"off"},null,40,_hoisted_13$j),createBaseVNode("label",{class:"btn btn-outline-primary",for:"config-partner-product1-"+n.id},"Отображать",8,_hoisted_14$j),createBaseVNode("input",{type:"radio",onChange:c=>r.changeStatus(n.id,1),checked:r.excludes.indexOf(n.id)!==-1,class:"btn-check",name:"config-partner-product-"+n.id,id:"config-partner-product2-"+n.id,autocomplete:"off"},null,40,_hoisted_15$j),createBaseVNode("label",{class:"btn btn-outline-primary",for:"config-partner-product2-"+n.id},"Не отображать",8,_hoisted_16$i)])])])])):createCommentVNode("",!0)],2))),256))])):createCommentVNode("",!0)],64)}const PartnerProductList=_export_sfc(_sfc_main$y,[["render",_sfc_render$8],["__scopeId","data-v-9b93497d"]]),PartnerList_vue_vue_type_style_index_0_scoped_09dd2fae_lang="",_withScopeId$1=o=>(pushScopeId("data-v-09dd2fae"),o=o(),popScopeId(),o),_hoisted_1$x={class:"input-group mb-2"},_hoisted_2$w={class:"form-floating"},_hoisted_3$w=_withScopeId$1(()=>createBaseVNode("label",{for:"floatingInput"},"Критерии поиска",-1)),_hoisted_4$s=_withScopeId$1(()=>createBaseVNode("button",{class:"btn btn-outline-secondary text-primary",type:"submit",id:"button-addon2"}," Найти ",-1)),_hoisted_5$s={class:"form-floating my-2"},_hoisted_6$r=createStaticVNode('<option value="title" data-v-09dd2fae>По названию</option><option value="is_active" data-v-09dd2fae>Активные</option><option value="product_count" data-v-09dd2fae>По числу товаров</option><option value="updated_at" data-v-09dd2fae>По дате добавления</option><option value="updated_at" data-v-09dd2fae>По дате договора</option>',5),_hoisted_11$l=[_hoisted_6$r],_hoisted_12$l=_withScopeId$1(()=>createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1)),_hoisted_13$i={key:0},_hoisted_14$i=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1)),_hoisted_15$i=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1)),_hoisted_16$h={class:"row row-cols-1 mb-5"},_hoisted_17$g={class:"card-body"},_hoisted_18$f={class:"card-title fw-bold"},_hoisted_19$e={class:"card-text"},_hoisted_20$d=_withScopeId$1(()=>createBaseVNode("strong",null,"Число товаров: ",-1)),_hoisted_21$c=_withScopeId$1(()=>createBaseVNode("br",null,null,-1)),_hoisted_22$c=_withScopeId$1(()=>createBaseVNode("strong",null,"Договор работает до: ",-1)),_hoisted_23$c=_withScopeId$1(()=>createBaseVNode("br",null,null,-1)),_hoisted_24$c=_withScopeId$1(()=>createBaseVNode("strong",null,"Статус: ",-1)),_hoisted_25$c={class:"card-footer d-flex justify-content-between align-items-center"},_hoisted_26$a={class:"btn-group"},_hoisted_27$a=["onClick"],_hoisted_28$a=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-pen-to-square"},null,-1)),_hoisted_29$9=[_hoisted_28$a],_hoisted_30$9=["onClick"],_hoisted_31$9=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-store"},null,-1)),_hoisted_32$9=[_hoisted_31$9],_hoisted_33$8={class:"form-switch form-check"},_hoisted_34$7=["id","onUpdate:modelValue"],_hoisted_35$7=["for"],_hoisted_36$6=["onClick"],_hoisted_37$6=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1)),_hoisted_38$6=[_hoisted_37$6],_hoisted_39$6={class:"modal fade",id:"config-partner-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_40$5={class:"modal-dialog modal-fullscreen"},_hoisted_41$5={class:"modal-content"},_hoisted_42$5=_withScopeId$1(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Настройка партнера"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_43$5={class:"modal-body"},_hoisted_44$5={class:"modal fade",id:"products-partner-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_45$5={class:"modal-dialog modal-fullscreen"},_hoisted_46$5={class:"modal-content"},_hoisted_47$5=_withScopeId$1(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Настройка товаров"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_48$5={class:"modal-body"},_hoisted_49$5={class:"modal fade",id:"remove-partner-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_50$5={class:"modal-dialog modal-dialog-centered"},_hoisted_51$5={class:"modal-content"},_hoisted_52$5=_withScopeId$1(()=>createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление партнера"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),_hoisted_53$4={class:"modal-body"},_hoisted_54$4={class:"mb-2"},_hoisted_55$4={class:"fw-bold text-primary"},_hoisted_56$4={class:"w-100 d-flex justify-content-center"},_hoisted_57$4=_withScopeId$1(()=>createBaseVNode("button",{"data-bs-dismiss":"modal",class:"btn btn-secondary",type:"button"},"Нет, отменить ",-1)),__default__$p={data(){return{sort:{param:"id",direction:"desc"},loading:!1,selected:null,search:null,config_modal:null,remove_modal:null,partners:[],partners_paginate_object:null}},computed:{...mapGetters(["getPartners","getPartnersPaginateObject"]),filteredPartners(){return this.search?(this.partners||[]).filter(o=>{const t=o.title.toLowerCase().includes((this.search||"").toLowerCase()),a=this.sort.param?o.status===this.sort.param:!0;return t&&a}):this.partners||[]}},mounted(){this.config_modal=new bootstrap.Modal(document.getElementById("config-partner-modal")),this.remove_modal=new bootstrap.Modal(document.getElementById("remove-partner-modal")),this.products_modal=new bootstrap.Modal(document.getElementById("products-partner-modal")),this.loadPartners()},methods:{changeDirection(o){this.sort.direction=o,this.loadPartners(0)},nextPartners(o){this.loadPartners(o)},selectPartnerForProductObserve(o){this.selected=null,this.$nextTick(()=>{this.selected=o,this.products_modal.show()})},selectPartnerForRemove(o){this.selected=null,this.$nextTick(()=>{this.selected=o,this.remove_modal.show()})},selectPartner(o){this.selected=null,this.$nextTick(()=>{this.selected=o,this.config_modal.show()})},loadPartners(o=0){this.loading=!0,this.$store.dispatch("loadPartners",{dataObject:{...this.search?{search:this.search}:{},...this.sort.param?{order_by:this.sort.param}:{},direction:this.sort.direction||"asc"},page:o}).then(t=>{this.partners=(this.getPartners||[]).map(a=>({...a,products:Array.isArray(a.products)?a.products:[],contract_expiration:a.contract_expiration||"-"})),this.partners_paginate_object=this.getPartnersPaginateObject||null,this.loading=!1}).catch(t=>{this.loading=!1,console.error("LOAD PARTNERS ERROR:",t)})},removePartner(){if(!this.selected)return;let o=this.partners.findIndex(t=>t.id===this.selected.id);o!==-1&&(this.partners[o].before_deleted=!0),this.$store.dispatch("removePartner",{partnerId:this.selected.id}).then(t=>{this.$notify({title:"Управление партнерами",text:"Партнер успешно удален!",type:"success"}),this.remove_modal.hide(),this.loadPartners()}).catch(()=>{this.$notify({title:"Управление партнерами",text:"Ошибка удаления партнера!",type:"error"}),this.remove_modal.hide()})},applyFilters(){this.loadPartners()}}},_sfc_main$x=Object.assign(__default__$p,{__name:"PartnerList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{onSubmit:a[3]||(a[3]=withModifiers((...i)=>t.applyFilters&&t.applyFilters(...i),["prevent"])),class:"mt-2 mb-2"},[createBaseVNode("div",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$w,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Поиск партнера","aria-label":"Поиск партнера","onUpdate:modelValue":a[0]||(a[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),_hoisted_3$w]),_hoisted_4$s]),createBaseVNode("div",_hoisted_5$s,[withDirectives(createBaseVNode("select",{onChange:a[1]||(a[1]=(...i)=>t.applyFilters&&t.applyFilters(...i)),"onUpdate:modelValue":a[2]||(a[2]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_11$l,544),[[vModelSelect,t.sort.param]]),_hoisted_12$l])],32),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_13$i,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:a[4]||(a[4]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_14$i])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:a[5]||(a[5]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_15$i])):createCommentVNode("",!0)])):createCommentVNode("",!0),!t.loading&&(t.partners||[]).length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_16$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.partners,(i,s)=>{var r;return openBlock(),createElementBlock("div",{class:"col",key:i.id},[createBaseVNode("div",{class:normalizeClass(["card mb-2",{"border-danger":i.before_deleted}])},[createBaseVNode("div",_hoisted_17$g,[createBaseVNode("h5",_hoisted_18$f,toDisplayString(i.title),1),createBaseVNode("p",_hoisted_19$e,[_hoisted_20$d,createTextVNode(" "+toDisplayString(((r=i.products)==null?void 0:r.length)||0),1),_hoisted_21$c,_hoisted_22$c,createTextVNode(" "+toDisplayString(i.contract_expiration||"-"),1),_hoisted_23$c,_hoisted_24$c,createBaseVNode("span",{class:normalizeClass({"text-success":i.is_active,"text-danger":!i.is_active})},toDisplayString(i.is_active?"Активен":"Не активен"),3)])]),createBaseVNode("div",_hoisted_25$c,[createBaseVNode("div",_hoisted_26$a,[createBaseVNode("button",{type:"button",onClick:n=>t.selectPartner(i),class:"btn btn-primary"},_hoisted_29$9,8,_hoisted_27$a),createBaseVNode("button",{type:"button",onClick:n=>t.selectPartnerForProductObserve(i),class:"btn btn-primary"},_hoisted_32$9,8,_hoisted_30$9)]),createBaseVNode("div",_hoisted_33$8,[withDirectives(createBaseVNode("input",{type:"checkbox",class:"form-check-input",id:"is_active-partner-"+i.id,"onUpdate:modelValue":n=>i.is_active=n},null,8,_hoisted_34$7),[[vModelCheckbox,i.is_active]]),createBaseVNode("label",{class:"form-check-label",for:"is_active-partner-"+i.id},toDisplayString(i.is_active?"Активен":"Не активен"),9,_hoisted_35$7)]),createBaseVNode("button",{type:"button",onClick:n=>t.selectPartnerForRemove(i),class:"btn btn-danger"},_hoisted_38$6,8,_hoisted_36$6)])],2)])}),128))]),t.partners_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextPartners,pagination:t.partners_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_39$6,[createBaseVNode("div",_hoisted_40$5,[createBaseVNode("div",_hoisted_41$5,[_hoisted_42$5,createBaseVNode("div",_hoisted_43$5,[t.selected?(openBlock(),createBlock(ConfigPartnerForm,{key:0,"initial-data":t.selected},null,8,["initial-data"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_44$5,[createBaseVNode("div",_hoisted_45$5,[createBaseVNode("div",_hoisted_46$5,[_hoisted_47$5,createBaseVNode("div",_hoisted_48$5,[t.selected?(openBlock(),createBlock(PartnerProductList,{key:0,partner:t.selected},null,8,["partner"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_49$5,[createBaseVNode("div",_hoisted_50$5,[createBaseVNode("div",_hoisted_51$5,[_hoisted_52$5,createBaseVNode("div",_hoisted_53$4,[t.selected?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("p",_hoisted_54$4,[createTextVNode("Вы точно хотите удалить "),createBaseVNode("strong",_hoisted_55$4,toDisplayString(t.selected.title||"этого партнера"),1),createTextVNode("?")]),createBaseVNode("div",_hoisted_56$4,[createBaseVNode("button",{onClick:a[6]||(a[6]=(...i)=>t.removePartner&&t.removePartner(...i)),style:{"margin-right":"10px"},class:"btn btn-danger",type:"button"},"Да, удалить "),_hoisted_57$4])],64)):createCommentVNode("",!0)])])])])],64))}}),PartnerList=_export_sfc(_sfc_main$x,[["__scopeId","data-v-09dd2fae"]]),SelfConfigForm_vue_vue_type_style_index_0_scoped_d0dd1e30_lang="",_sfc_main$w={props:["modelValue"],data(){return{file:null,preview:null,form:{title:"",description:"",image:"",config:{excludes:[],bg_color:"transparent"}}}},computed:{bot(){return window.currentBot||null}},mounted(){var o,t;(o=this.bot.settings)!=null&&o.partners&&(this.form={...(t=this.bot.settings)==null?void 0:t.partners})},methods:{addContract(){this.form.legal_info.contracts.value.push({id:Date.now(),partner_id:1})},addContact(){this.form.legal_info.contacts.value.push({id:Date.now(),partner_id:1})},addDocument(){this.form.legal_info.documents.value.push({id:Date.now(),contract_id:10})},onFileChange(o){const t=o.target.files[0];this.file=t,t&&(this.preview=URL.createObjectURL(t)),this.$emit("select",t)},handleSubmit(){let o=new FormData;Object.keys(this.form).forEach(t=>{const a=this.form[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.file&&o.append("file",this.file),this.$store.dispatch("updateSelfPartner",{form:o}).then(t=>{this.$notify({title:"Отлично!",text:"Параметры успешно сохранены",type:"success"}),this.$emit("success")}).catch(t=>{this.$notify({title:"Упс!",text:"Ошибка сохранения параметров",type:"error"})})}}},_withScopeId=o=>(pushScopeId("data-v-d0dd1e30"),o=o(),popScopeId(),o),_hoisted_1$w={class:"mb-2 form-floating"},_hoisted_2$v=_withScopeId(()=>createBaseVNode("label",{for:"title"},"Заголовок",-1)),_hoisted_3$v={class:"mb-2 form-floating"},_hoisted_4$r=_withScopeId(()=>createBaseVNode("label",{for:"description"},"Описание",-1)),_hoisted_5$r={class:"form-floating mb-2 file-floating"},_hoisted_6$q=_withScopeId(()=>createBaseVNode("label",{for:"imageInput"},"Загрузить изображение",-1)),_hoisted_7$q={key:0,class:"mb-2"},_hoisted_8$o={class:"card"},_hoisted_9$n={class:"card-body"},_hoisted_10$m=["src"],_hoisted_11$k={key:1,class:"mb-2"},_hoisted_12$k={class:"card"},_hoisted_13$h={class:"card-body"},_hoisted_14$h={class:"img-fluid rounded border img-preview"},_hoisted_15$h=_withScopeId(()=>createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Отправить",-1));function _sfc_render$7(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:t[3]||(t[3]=withModifiers((...l)=>r.handleSubmit&&r.handleSubmit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_1$w,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.title=l),placeholder:"Введите заголовок"},null,512),[[vModelText,s.form.title]]),_hoisted_2$v]),createBaseVNode("div",_hoisted_3$v,[withDirectives(createBaseVNode("textarea",{class:"form-control",id:"description",style:{"min-height":"200px"},"onUpdate:modelValue":t[1]||(t[1]=l=>s.form.description=l),placeholder:"Введите описание"},null,512),[[vModelText,s.form.description]]),_hoisted_4$r]),createBaseVNode("div",_hoisted_5$r,[createBaseVNode("input",{type:"file",class:"form-control",id:"imageInput",accept:"image/*",onChange:t[2]||(t[2]=(...l)=>r.onFileChange&&r.onFileChange(...l))},null,32),_hoisted_6$q]),s.preview?(openBlock(),createElementBlock("div",_hoisted_7$q,[createBaseVNode("div",_hoisted_8$o,[createBaseVNode("div",_hoisted_9$n,[createBaseVNode("img",{src:s.preview,class:"img-fluid rounded border img-preview"},null,8,_hoisted_10$m)])])])):createCommentVNode("",!0),s.form.image?(openBlock(),createElementBlock("div",_hoisted_11$k,[createBaseVNode("div",_hoisted_12$k,[createBaseVNode("div",_hoisted_13$h,[withDirectives(createBaseVNode("img",_hoisted_14$h,null,512),[[n,"/images-by-bot-id/"+r.bot.id+"/"+s.form.image]])])])])):createCommentVNode("",!0),_hoisted_15$h],32)}const SelfConfigForm=_export_sfc(_sfc_main$w,[["render",_sfc_render$7],["__scopeId","data-v-d0dd1e30"]]),_hoisted_1$v={class:"container py-3"},_hoisted_2$u={class:"row"},_hoisted_3$u={class:"col-12"},_hoisted_4$q={class:"form-check form-switch mb-2"},_hoisted_5$q={class:"form-check-label",for:"partners-is_active"},_hoisted_6$p={class:"form-check form-switch mb-2"},_hoisted_7$p={class:"form-check-label",for:"partners-display_self"},_hoisted_8$n={class:"col-12"},_hoisted_9$m={class:"col-12"},_hoisted_10$l={class:"nav nav-tabs justify-content-center catalog-tabs"},_hoisted_11$j={class:"nav-item"},_hoisted_12$j={class:"nav-item"},_hoisted_13$g={key:0,class:"col-12"},_hoisted_14$g={class:"modal fade",id:"self-config-partner-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_15$g={class:"modal-dialog modal-fullscreen"},_hoisted_16$g={class:"modal-content"},_hoisted_17$f=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Настройка партнера"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_18$e={class:"modal-body"},__default__$o={data(){return{config_modal:null,loading:!1,tab:0,form:{is_active:!1,display_self:!1}}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot},tg(){return window.Telegram.WebApp}},mounted(){var o,t,a,i,s,r;this.config_modal=new bootstrap.Modal(document.getElementById("self-config-partner-modal")),this.form.is_active=((a=(t=(o=this.currentBot)==null?void 0:o.settings)==null?void 0:t.partners)==null?void 0:a.is_active)??!1,this.form.display_self=((r=(s=(i=this.currentBot)==null?void 0:i.settings)==null?void 0:s.partners)==null?void 0:r.display_self)??!1},methods:{callbackAddPartner(){this.loading=!0,this.$nextTick(()=>{this.loading=!1})},openSelfConfigModal(){this.config_modal.show()},closeSelfConfigModal(){this.config_modal.hide()},updatePartnersSettings(){this.$store.dispatch("updatePartnersSettings",this.form).then(o=>{}).catch(()=>{})},loadPartners(){this.$store.dispatch("loadPartners",{}).then(o=>{}).catch(()=>{})}}},_sfc_main$v=Object.assign(__default__$o,{__name:"Partners",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$u,[createBaseVNode("div",_hoisted_3$u,[createBaseVNode("div",_hoisted_4$q,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",onChange:a[0]||(a[0]=(...i)=>t.updatePartnersSettings&&t.updatePartnersSettings(...i)),"onUpdate:modelValue":a[1]||(a[1]=i=>t.form.is_active=i),role:"switch",id:"partners-is_active"},null,544),[[vModelCheckbox,t.form.is_active]]),createBaseVNode("label",_hoisted_5$q,[createTextVNode("Режим работы с партнерами "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.is_active})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.is_active})},"выкл",2)])]),createBaseVNode("div",_hoisted_6$p,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",onChange:a[2]||(a[2]=(...i)=>t.updatePartnersSettings&&t.updatePartnersSettings(...i)),"onUpdate:modelValue":a[3]||(a[3]=i=>t.form.display_self=i),role:"switch",id:"partners-display_self"},null,544),[[vModelCheckbox,t.form.display_self]]),createBaseVNode("label",_hoisted_7$p,[createTextVNode("Отображать себя в списке "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.display_self})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.display_self})},"выкл",2)])])]),createBaseVNode("div",_hoisted_8$n,[t.form.display_self?(openBlock(),createElementBlock("button",{key:0,onClick:a[4]||(a[4]=(...i)=>t.openSelfConfigModal&&t.openSelfConfigModal(...i)),type:"button",class:"btn btn-outline-primary p-3 w-100 mb-2"},"Свои параметры отображения ")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$m,[createBaseVNode("ul",_hoisted_10$l,[createBaseVNode("li",_hoisted_11$j,[createBaseVNode("button",{type:"button",class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[5]||(a[5]=i=>t.tab=0),style:{"font-weight":"bold"},"aria-current":"page"},"Партнеры ",2)]),createBaseVNode("li",_hoisted_12$j,[createBaseVNode("button",{type:"button",disabled:!0,class:normalizeClass(["nav-link",{active:t.tab===1}]),style:{"font-weight":"bold"}},"Статистика продаж ",2)])])]),t.loading?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_13$g,[createVNode(PartnerList),createVNode(AddPartnerForm,{onCallback:t.callbackAddPartner},null,8,["onCallback"])]))])]),createBaseVNode("div",_hoisted_14$g,[createBaseVNode("div",_hoisted_15$g,[createBaseVNode("div",_hoisted_16$g,[_hoisted_17$f,createBaseVNode("div",_hoisted_18$e,[createVNode(SelfConfigForm,{onSuccess:t.closeSelfConfigModal},null,8,["onSuccess"])])])])])],64))}}),Partners=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$v},Symbol.toStringTag,{value:"Module"})),_sfc_main$u={props:["data","bot"],components:{Vue3JsonEditor},data(){return{load:!1,custom_fields:null,fields:[{title:"Телефонный номер",field:"phone"},{title:"Ф.И.О.",field:"fio_from_telegram"},{title:"Почта",field:"email"},{title:"Дата рождения",field:"birthday"},{title:"Возраст",field:"age"},{title:"Страна",field:"country"},{title:"Адрес",field:"address"},{title:"Пол",field:"sex"},{title:"Идентификатор чата",field:"fio_from_telegram"}],hasConnect:!1,amoForm:{client_id:null,client_secret:null,auth_code:null,redirect_uri:null,subdomain:null,bot_id:null,fields:null}}},mounted(){this.data&&this.$nextTick(()=>{this.amoForm.client_id=this.data.client_id||null,this.amoForm.client_secret=this.data.client_secret||null,this.amoForm.auth_code=this.data.auth_code||null,this.amoForm.redirect_uri=this.data.redirect_uri||null,this.amoForm.subdomain=this.data.subdomain||null,this.amoForm.bot_id=this.data.bot_id||this.bot.id||null,this.amoForm.fields=this.data.fields||null})},methods:{loadAmoFields(){this.load=!0,this.custom_fields=null,this.$store.dispatch("loadAmoFields").then(o=>{this.custom_fields=o._embedded.custom_fields.contacts||null,this.$nextTick(()=>{this.load=!1}),this.$notify({title:"Работа с AMO",text:"Справочная информация успешно загружена",type:"success"})}).catch(o=>{this.$notify({title:"Работа с AMO",text:"Ошибка работы со справочной информацией",type:"error"})})},removeField(o){this.amoForm.fields&&this.amoForm.fields.splice(o,1)},addField(){this.amoForm.fields||(this.amoForm.fields=[]),this.amoForm.fields.push({key:null,field:null,enum:null})},syncAmo(){this.$store.dispatch("syncAmo").then(o=>{this.$notify({title:"Работа с AMO",text:"Данные CRM успешно сохранены",type:"success"})}).catch(o=>{this.$notify({title:"Работа с AMO",text:"Ошибка работы",type:"error"})})},submitAmo(){let o=new FormData;Object.keys(this.amoForm).forEach(t=>{const a=this.amoForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("saveAmoCRM",{amoForm:o}).then(t=>{this.$notify({title:"Работа с AMO",text:"Данные CRM успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Работа с AMO",text:"Ошибка работы",type:"error"})})}}},_hoisted_1$u=createBaseVNode("h3",null,"Настройка AMO",-1),_hoisted_2$t=createBaseVNode("p",{class:"mb-2 alert alert-light"},[createBaseVNode("a",{target:"_blank",href:"https://www.amocrm.ru/developers/content/oauth/step-by-step"},"Документация для разработчика "),createTextVNode(" по шагам")],-1),_hoisted_3$t={class:"form-floating mb-2"},_hoisted_4$p=createBaseVNode("label",{id:"client_id"}," ID интеграции ",-1),_hoisted_5$p={class:"form-floating mb-2"},_hoisted_6$o=createBaseVNode("label",{id:"client_secret"}," Секретный ключ клиента ",-1),_hoisted_7$o={class:"form-floating mb-2"},_hoisted_8$m=createBaseVNode("label",{id:"auth_code"}," Полученный код авторизации ",-1),_hoisted_9$l={class:"form-floating mb-2"},_hoisted_10$k=createBaseVNode("label",{id:"subdomain2"}," Ваш поддомен в системе AMO CRM ",-1),_hoisted_11$i=["disabled"],_hoisted_12$i={class:"card mb-2"},_hoisted_13$f={class:"card-body"},_hoisted_14$f={class:"form-floating mb-2"},_hoisted_15$f=["onUpdate:modelValue"],_hoisted_16$f=["id"],_hoisted_17$e={class:"form-floating mb-2"},_hoisted_18$d=["onUpdate:modelValue"],_hoisted_19$d=["value"],_hoisted_20$c=["id"],_hoisted_21$b={class:"form-floating mb-2"},_hoisted_22$b=["onUpdate:modelValue"],_hoisted_23$b=["id"],_hoisted_24$b=["onClick"],_hoisted_25$b=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),_hoisted_26$9=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center align-items-center"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-2"}),createTextVNode(" Сохранить настройку AMO ")])],-1),_hoisted_27$9=createBaseVNode("hr",{class:"my-3 p-0"},null,-1),_hoisted_28$9=createBaseVNode("i",{class:"fa-solid fa-rotate mr-2"},null,-1);function _sfc_render$6(o,t,a,i,s,r){const n=resolveComponent("Vue3JsonEditor");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$u,createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...l)=>r.submitAmo&&r.submitAmo(...l),["prevent"]))},[_hoisted_2$t,createBaseVNode("div",_hoisted_3$t,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_id","aria-label":"client_id","onUpdate:modelValue":t[0]||(t[0]=l=>s.amoForm.client_id=l),"aria-describedby":"client_id",required:""},null,512),[[vModelText,s.amoForm.client_id]]),_hoisted_4$p]),createBaseVNode("div",_hoisted_5$p,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_secret","aria-label":"client_secret","onUpdate:modelValue":t[1]||(t[1]=l=>s.amoForm.client_secret=l),"aria-describedby":"client_secret",required:""},null,512),[[vModelText,s.amoForm.client_secret]]),_hoisted_6$o]),createBaseVNode("div",_hoisted_7$o,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",style:{"min-height":"250px"},placeholder:"auth_code","aria-label":"auth_code","onUpdate:modelValue":t[2]||(t[2]=l=>s.amoForm.auth_code=l),"aria-describedby":"auth_code",required:""},`
                                    `,512),[[vModelText,s.amoForm.auth_code]]),_hoisted_8$m]),createBaseVNode("div",_hoisted_9$l,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"subdomain","aria-label":"subdomain","onUpdate:modelValue":t[3]||(t[3]=l=>s.amoForm.subdomain=l),"aria-describedby":"subdomain",required:""},null,512),[[vModelText,s.amoForm.subdomain]]),_hoisted_10$k]),createBaseVNode("button",{type:"button",disabled:!s.amoForm.client_id||!s.amoForm.auth_code||!s.amoForm.client_secret||!s.amoForm.subdomain,onClick:t[4]||(t[4]=(...l)=>r.loadAmoFields&&r.loadAmoFields(...l)),class:"btn w-100 btn-outline-light text-primary p-3 mb-2"}," Загрузить справочную информацию ",8,_hoisted_11$i),!s.load&&s.custom_fields?(openBlock(),createBlock(n,{key:0,mode:"tree",modelValue:s.custom_fields,"onUpdate:modelValue":t[5]||(t[5]=l=>s.custom_fields=l),"show-btns":!1,expandedOnStart:!1},null,8,["modelValue"])):createCommentVNode("",!0),s.amoForm.fields?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(s.amoForm.fields,(l,c)=>(openBlock(),createElementBlock("div",_hoisted_12$i,[createBaseVNode("div",_hoisted_13$f,[createBaseVNode("div",_hoisted_14$f,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"Ключ","aria-label":"Ключ","onUpdate:modelValue":m=>s.amoForm.fields[c].key=m,"aria-describedby":"Ключ",required:""},null,8,_hoisted_15$f),[[vModelText,s.amoForm.fields[c].key]]),createBaseVNode("label",{id:"field-key-"+c}," Ключевое значение из справочника ",8,_hoisted_16$f)]),createBaseVNode("div",_hoisted_17$e,[withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":m=>s.amoForm.fields[c].field=m},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.fields,m=>(openBlock(),createElementBlock("option",{value:m.field},toDisplayString(m.title||"Ошибка"),9,_hoisted_19$d))),256))],8,_hoisted_18$d),[[vModelSelect,s.amoForm.fields[c].field]]),createBaseVNode("label",{id:"field-field-"+c}," Поле из списка для связи ",8,_hoisted_20$c)]),createBaseVNode("div",_hoisted_21$b,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Перечисление","aria-label":"Перечисление","onUpdate:modelValue":m=>s.amoForm.fields[c].enum=m,"aria-describedby":"Перечисление"},null,8,_hoisted_22$b),[[vModelText,s.amoForm.fields[c].enum]]),createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-enum-"+c}," Перечисление (enum) из справочника ",8,_hoisted_23$b)]),createBaseVNode("button",{type:"button",onClick:m=>r.removeField(c),class:"btn btn-link p-3 w-100"},[_hoisted_25$b,createTextVNode(" Удалить связь полей (#"+toDisplayString(c+1)+") ",1)],8,_hoisted_24$b)])]))),256)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=(...l)=>r.addField&&r.addField(...l)),class:"btn w-100 btn-outline-info p-3"}," Добавить связь полей "),_hoisted_26$9],32),_hoisted_27$9,createBaseVNode("a",{href:"javascript:void(0)",onClick:t[8]||(t[8]=(...l)=>r.syncAmo&&r.syncAmo(...l)),class:"btn btn-outline-primary w-100 p-3"},[_hoisted_28$9,createTextVNode(" Синхронизировать ")])],64)}const AmoForm=_export_sfc(_sfc_main$u,[["render",_sfc_render$6]]),_hoisted_1$t={class:"container my-3"},_hoisted_2$s={class:"row"},_hoisted_3$s={class:"col-12"},_hoisted_4$o={key:1,class:"alert alert-light"},_hoisted_5$o=createBaseVNode("p",{class:"text-center"},"Загружаем данные...",-1),_hoisted_6$n=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_7$n=[_hoisted_5$o,_hoisted_6$n],__default__$n={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.amo=this.bot.amo||null})}}},_sfc_main$t=Object.assign(__default__$n,{__name:"Amo",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",_hoisted_3$s,[!t.load&&t.bot?(openBlock(),createBlock(AmoForm,{key:0,bot:t.bot,data:t.bot.amo},null,8,["bot","data"])):(openBlock(),createElementBlock("div",_hoisted_4$o,_hoisted_7$n))])])]))}}),Amo=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$t},Symbol.toStringTag,{value:"Module"})),_hoisted_1$s=createBaseVNode("h3",null,"Настройка CDEK",-1),_hoisted_2$r={class:"col-md-6 col-12 mb-2"},_hoisted_3$r={class:"form-floating"},_hoisted_4$n=createBaseVNode("label",{class:"form-label",id:"phone"}," Номер телефона отправителя ",-1),_hoisted_5$n={class:"col-md-6 col-12 mb-2"},_hoisted_6$m={class:"form-floating"},_hoisted_7$m=createBaseVNode("label",{class:"form-label",id:"account"}," Аккаунт ",-1),_hoisted_8$l={class:"col-md-6 col-12 mb-2"},_hoisted_9$k={class:"form-floating"},_hoisted_10$j=createBaseVNode("label",{class:"form-label",id:"secure_password"}," Пароль приложения ",-1),_hoisted_11$h={class:"col-md-6 mb-2"},_hoisted_12$h={class:"form-floating"},_hoisted_13$e=["value"],_hoisted_14$e=createBaseVNode("label",{for:"floatingSelect"},"Тариф перевозки товаров по умолчанию",-1),_hoisted_15$e={class:"col-md-6 mb-2"},_hoisted_16$e={class:"dropdown"},_hoisted_17$d={class:"btn btn-outline-light text-primary dropdown-toggle w-100 p-3",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_18$c={key:0,class:"badge bg-primary"},_hoisted_19$c={class:"dropdown-menu w-100"},_hoisted_20$b=["onClick"],_hoisted_21$a={class:"col-md-6 mb-2"},_hoisted_22$a={class:"form-check form-switch"},_hoisted_23$a={class:"form-check-label",for:"is_active"},_hoisted_24$a={key:0,class:"fw-bold text-primary"},_hoisted_25$a={key:1,class:"fw-bold text-primary"},_hoisted_26$8={key:0,class:"col-md-12"},_hoisted_27$8=createBaseVNode("h6",null,"Настройка офиса отправления",-1),_hoisted_28$8={class:"col-md-12"},_hoisted_29$8=createBaseVNode("p",{class:"my-2"},"Размер посылки по умолчанию",-1),_hoisted_30$8={key:0},_hoisted_31$8=createBaseVNode("i",{class:"fa-solid fa-dolly text-primary"},null,-1),_hoisted_32$8={key:1},_hoisted_33$7=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 w-100"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-1"}),createTextVNode(" Сохранить настройку ")])],-1),_hoisted_34$6={class:"modal fade",id:"dimension-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_35$6={class:"modal-dialog modal-fullscreen"},_hoisted_36$5={class:"modal-content"},_hoisted_37$5=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Расчёт размеров"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_38$5={class:"modal-body"},_hoisted_39$5=createBaseVNode("div",{class:"divider my-3"},"Габариты",-1),_hoisted_40$4={class:"form-floating mb-3"},_hoisted_41$4=createBaseVNode("label",{for:"floatingInput"},"Ширина, см",-1),_hoisted_42$4={class:"form-floating mb-3"},_hoisted_43$4=createBaseVNode("label",{for:"floatingInput"},"Высота, см",-1),_hoisted_44$4={class:"form-floating mb-3"},_hoisted_45$4=createBaseVNode("label",{for:"floatingInput"},"Длина, см",-1),_hoisted_46$4={class:"form-floating mb-3"},_hoisted_47$4=createBaseVNode("label",{for:"floatingInput"},"Вес, кг",-1),_hoisted_48$4={class:"modal-footer"},_hoisted_49$4={"data-bs-dismiss":"modal",type:"button",class:"btn btn-primary w-100"},_hoisted_50$4={key:0},_hoisted_51$4=createBaseVNode("i",{class:"fa-solid fa-dolly"},null,-1),_hoisted_52$4={key:1},__default__$m={props:["bot"],data(){return{load:!1,dimensionModal:null,tariffs:[{code:136,title:"Посылка склад-склад (до 50 кг)"},{code:234,title:"Экономичная посылка склад-склад (до 50 кг)"},{code:368,title:"Посылка склад-постамат (до 30 кг)"},{code:378,title:"Экономичная посылка склад-постамат (до 50 кг)"},{code:2536,title:"Один офис (ИМ, до 30 кг)"}],services:[{code:"INSURANCE",title:"Страхование"},{code:"PART_DELIV",title:"Частичная доставка"},{code:"DANGER_CARGO",title:"Опасный груз"},{code:"SMS",title:"СМС-уведомление(+10р)"},{code:"ADULT_GOODS",title:"Товары 18+"}],cdekForm:{account:null,secure_password:null,is_active:!0,bot_id:null,phone:null,config:{tariff_code:null,region:null,city:null,office:null,services:[],base_dimensions:{length:0,width:0,height:0,weight:0}}}}},computed:{emptyDimensions(){return this.cdekForm.config.base_dimensions.width==0&&this.cdekForm.config.base_dimensions.height==0&&this.cdekForm.config.base_dimensions.length==0&&this.cdekForm.config.base_dimensions.weight==0}},mounted(){this.dimensionModal=new bootstrap.Modal(document.getElementById("dimension-modal"),{}),this.bot.cdek&&this.$nextTick(()=>{var o,t;this.load=!1,this.cdekForm.account=this.bot.cdek.account||null,this.cdekForm.secure_password=this.bot.cdek.secure_password||null,this.cdekForm.is_active=this.bot.cdek.is_active||!0,this.cdekForm.bot_id=this.bot.cdek.bot_id||this.bot.id||null,this.cdekForm.phone=((o=this.bot.company)==null?void 0:o.phones[0])||null,(t=this.bot.cdek)!=null&&t.config&&(this.cdekForm.config.tariff_code=this.bot.cdek.config.tariff_code||null,this.cdekForm.config.region=this.bot.cdek.config.region||null,this.cdekForm.config.city=this.bot.cdek.config.city||null,this.cdekForm.config.office=this.bot.cdek.config.office||null,this.bot.cdek.config.base_dimensions&&(this.cdekForm.config.base_dimensions.length=this.bot.cdek.config.base_dimensions.length||0,this.cdekForm.config.base_dimensions.width=this.bot.cdek.config.base_dimensions.width||0,this.cdekForm.config.base_dimensions.height=this.bot.cdek.config.base_dimensions.height||0,this.cdekForm.config.base_dimensions.weight=this.bot.cdek.config.base_dimensions.weight||0)),this.load=!0})},methods:{openDimensionModal(){this.dimensionModal.show()},selectOffice(o){this.cdekForm.config.region=o.region,this.cdekForm.config.city=o.city,this.cdekForm.config.office=o.office},toggleService(o){let t=this.services[o],a=this.cdekForm.config.services.findIndex(i=>i===t.code);a===-1?this.cdekForm.config.services.push(t.code):this.cdekForm.config.services.splice(a,1)},submitCdek(){let o=new FormData;Object.keys(this.cdekForm).forEach(t=>{const a=this.cdekForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("storeCdek",{cdekForm:o}).then(t=>{this.$notify({title:"Работа с CDEK",text:"Данные успешно сохранены",type:"success"}),window.location.reload()}).catch(t=>{this.$notify({title:"Работа с CDEK",text:"Ошибка работы",type:"error"})})}}},_sfc_main$s=Object.assign(__default__$m,{__name:"CdekForm",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$s,createBaseVNode("form",{onSubmit:a[6]||(a[6]=withModifiers((...i)=>t.submitCdek&&t.submitCdek(...i),["prevent"])),class:"row py-3"},[createBaseVNode("div",_hoisted_2$r,[createBaseVNode("div",_hoisted_3$r,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"phone","aria-label":"phone","onUpdate:modelValue":a[0]||(a[0]=i=>t.cdekForm.phone=i),required:"","aria-describedby":"phone"},null,512),[[vModelText,t.cdekForm.phone]]),_hoisted_4$n])]),createBaseVNode("div",_hoisted_5$n,[createBaseVNode("div",_hoisted_6$m,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"account","aria-label":"account","onUpdate:modelValue":a[1]||(a[1]=i=>t.cdekForm.account=i),required:"","aria-describedby":"account"},null,512),[[vModelText,t.cdekForm.account]]),_hoisted_7$m])]),createBaseVNode("div",_hoisted_8$l,[createBaseVNode("div",_hoisted_9$k,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"secure_password","aria-label":"secure_password","onUpdate:modelValue":a[2]||(a[2]=i=>t.cdekForm.secure_password=i),required:"","aria-describedby":"secure_password"},null,512),[[vModelText,t.cdekForm.secure_password]]),_hoisted_10$j])]),createBaseVNode("div",_hoisted_11$h,[createBaseVNode("div",_hoisted_12$h,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[3]||(a[3]=i=>t.cdekForm.config.tariff_code=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tariffs,i=>(openBlock(),createElementBlock("option",{value:i.code},toDisplayString(i.title||"-"),9,_hoisted_13$e))),256))],512),[[vModelSelect,t.cdekForm.config.tariff_code]]),_hoisted_14$e])]),createBaseVNode("div",_hoisted_15$e,[createBaseVNode("div",_hoisted_16$e,[createBaseVNode("button",_hoisted_17$d,[createTextVNode(" Выбрать доп. сервисы "),t.cdekForm.config.services.length>0?(openBlock(),createElementBlock("span",_hoisted_18$c,toDisplayString(t.cdekForm.config.services.length),1)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_19$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.services,(i,s)=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{onClick:r=>t.toggleService(s),class:normalizeClass([{"bg-primary":t.cdekForm.config.services.indexOf(i.code)!==-1},"dropdown-item"]),href:"javascript:void(0)"},toDisplayString(i.title||"-"),11,_hoisted_20$b)]))),256))])])]),createBaseVNode("div",_hoisted_21$a,[createBaseVNode("div",_hoisted_22$a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[4]||(a[4]=i=>t.cdekForm.is_active=i),type:"checkbox",role:"switch",id:"is_active"},null,512),[[vModelCheckbox,t.cdekForm.is_active]]),createBaseVNode("label",_hoisted_23$a,[createTextVNode("Статус "),t.cdekForm.is_active?(openBlock(),createElementBlock("span",_hoisted_24$a,"вкл")):(openBlock(),createElementBlock("span",_hoisted_25$a,"выкл"))])])]),t.load?(openBlock(),createElementBlock("div",_hoisted_26$8,[_hoisted_27$8,createVNode(SelectOffice,{config:t.cdekForm.config,onCallback:t.selectOffice},null,8,["config","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_28$8,[_hoisted_29$8,createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=(...i)=>t.openDimensionModal&&t.openDimensionModal(...i)),class:"btn btn-light w-100 p-3"},[t.emptyDimensions?(openBlock(),createElementBlock("span",_hoisted_30$8,[_hoisted_31$8,createTextVNode(" Укажите размер")])):(openBlock(),createElementBlock("span",_hoisted_32$8,toDisplayString(t.cdekForm.config.base_dimensions.width||0)+"x"+toDisplayString(t.cdekForm.config.base_dimensions.height||0)+"x"+toDisplayString(t.cdekForm.config.base_dimensions.length||0)+" см, до "+toDisplayString(t.cdekForm.config.base_dimensions.weight||0)+"кг ",1))])]),_hoisted_33$7],32),createBaseVNode("div",_hoisted_34$6,[createBaseVNode("div",_hoisted_35$6,[createBaseVNode("form",_hoisted_36$5,[_hoisted_37$5,createBaseVNode("div",_hoisted_38$5,[_hoisted_39$5,createBaseVNode("div",_hoisted_40$4,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[7]||(a[7]=i=>t.cdekForm.config.base_dimensions.width=i),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.cdekForm.config.base_dimensions.width]]),_hoisted_41$4]),createBaseVNode("div",_hoisted_42$4,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[8]||(a[8]=i=>t.cdekForm.config.base_dimensions.height=i),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.cdekForm.config.base_dimensions.height]]),_hoisted_43$4]),createBaseVNode("div",_hoisted_44$4,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":a[9]||(a[9]=i=>t.cdekForm.config.base_dimensions.length=i),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.cdekForm.config.base_dimensions.length]]),_hoisted_45$4]),createBaseVNode("div",_hoisted_46$4,[withDirectives(createBaseVNode("input",{type:"number",min:"0",step:"0.1","onUpdate:modelValue":a[10]||(a[10]=i=>t.cdekForm.config.base_dimensions.weight=i),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.cdekForm.config.base_dimensions.weight]]),_hoisted_47$4])]),createBaseVNode("div",_hoisted_48$4,[createBaseVNode("button",_hoisted_49$4,[t.emptyDimensions?(openBlock(),createElementBlock("span",_hoisted_50$4,[_hoisted_51$4,createTextVNode(" Добавить")])):(openBlock(),createElementBlock("span",_hoisted_52$4,toDisplayString(t.cdekForm.config.base_dimensions.width||0)+"x"+toDisplayString(t.cdekForm.config.base_dimensions.height||0)+"x"+toDisplayString(t.cdekForm.config.base_dimensions.length||0)+" см, до "+toDisplayString(t.cdekForm.config.base_dimensions.weight||0)+"кг ",1))])])])])])],64))}}),_hoisted_1$r=createBaseVNode("h3",null,"Расчёт цены CDEK",-1),_hoisted_2$q=createBaseVNode("h6",null,"Офис отправления",-1),_hoisted_3$q=createBaseVNode("h6",null,"Офис получения",-1),_hoisted_4$m={class:"form-check form-switch mt-3 mb-2"},_hoisted_5$m=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Режим интернет-магазина",-1),_hoisted_6$l=createBaseVNode("h6",{class:"my-2"},"Ваши посылки",-1),_hoisted_7$l={class:"list-group my-2"},_hoisted_8$k={class:"list-group-item d-flex justify-content-between"},_hoisted_9$j=["onClick"],_hoisted_10$i=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_11$g=[_hoisted_10$i],_hoisted_12$g={key:1,class:"alert alert-light"},_hoisted_13$d={key:2,class:"alert alert-light"},_hoisted_14$d={class:"d-flex justify-content-between"},_hoisted_15$d={class:"fw-bold"},_hoisted_16$d={class:"badge bg-primary"},_hoisted_17$c=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_18$b=[_hoisted_17$c],_hoisted_19$b={class:"mb-0"},_hoisted_20$a={class:"fw-bold text-primary"},_hoisted_21$9={class:"fw-bold text-primary"},_hoisted_22$9={class:"mb-0"},_hoisted_23$9={class:"fw-bold text-primary"},_hoisted_24$9={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_25$9=["disabled"],_hoisted_26$7=["disabled"],_hoisted_27$7={class:"modal fade",id:"choose-tariff-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_28$7={class:"modal-dialog modal-fullscreen"},_hoisted_29$7={class:"modal-content"},_hoisted_30$7=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор тарифа"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_31$7={key:0,class:"modal-body"},_hoisted_32$7={class:"list-group list-group-numbered"},_hoisted_33$6={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_34$5={class:"ms-2 me-auto"},_hoisted_35$5={class:"fw-bold"},_hoisted_36$4={class:"mb-0"},_hoisted_37$4={class:"fw-bold text-primary"},_hoisted_38$4={class:"fw-bold text-primary"},_hoisted_39$4={class:"mb-0"},_hoisted_40$3={class:"fw-bold text-primary"},_hoisted_41$3=["onClick"],_hoisted_42$3={class:"badge text-bg-primary rounded-pill"},_hoisted_43$3={key:1,class:"modal-body"},_hoisted_44$3={class:"modal fade",id:"make-order-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_45$3={class:"modal-dialog modal-fullscreen"},_hoisted_46$3=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Оформление заказа"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_47$3={class:"modal-body"},_hoisted_48$3=createBaseVNode("div",{class:"divider my-3"},"Данные отправителя",-1),_hoisted_49$3={class:"form-floating mb-2"},_hoisted_50$3=createBaseVNode("label",{for:"floatingInput"},"Ф.И.О. отправителя",-1),_hoisted_51$3={class:"input-group mb-2"},_hoisted_52$3={class:"form-floating"},_hoisted_53$3=["onUpdate:modelValue"],_hoisted_54$3=createBaseVNode("label",{for:"floatingInput"},"+7(000)000-00-00",-1),_hoisted_55$3=["onClick"],_hoisted_56$3=createBaseVNode("i",{class:"fas fa-trash"},null,-1),_hoisted_57$3=[_hoisted_56$3],_hoisted_58$3=createBaseVNode("div",{class:"divider my-3"},"Данные получателя",-1),_hoisted_59$3={class:"form-floating mb-2"},_hoisted_60$3=createBaseVNode("label",{for:"floatingInput"},"Ф.И.О. получателя",-1),_hoisted_61$3={class:"input-group mb-2"},_hoisted_62$3={class:"form-floating"},_hoisted_63$3=["onUpdate:modelValue"],_hoisted_64$3=createBaseVNode("label",{for:"floatingInput"},"+7(000)000-00-00",-1),_hoisted_65$3=["onClick"],_hoisted_66$3=createBaseVNode("i",{class:"fas fa-trash"},null,-1),_hoisted_67$3=[_hoisted_66$3],_hoisted_68$3={class:"form-floating my-2"},_hoisted_69$3=createBaseVNode("label",{for:"floatingInput"},"Адрес получателя",-1),_hoisted_70$3=createBaseVNode("div",{class:"divider my-3"},"Комментарий к заказу",-1),_hoisted_71$3={class:"form-floating"},_hoisted_72$2=createBaseVNode("label",{for:"floatingTextarea2"},"Комментарий к заказу",-1),_hoisted_73$2=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{class:"btn btn-primary w-100 p-3"},"Зарегистрировать заказ")],-1),__default__$l={data(){return{tariffs:[],chooseTariffModal:null,makeOrderModal:null,calcTariffForm:{is_shop_mode:!0,comment:null,tariff:null,from:{region:null,city:null,office:null,address:null},to:{region:null,city:null,office:null,address:null},packages:[],sender_name:null,sender_phones:[],recipient_name:null,recipient_phones:[""]}}},watch:{"calcTariffForm.packages":{handler:function(o){this.calcTariffForm.tariff=null},deep:!0}},computed:{canCalcTariff(){return this.calcTariffForm.packages.length>0&&this.calcTariffForm.from.region!=null&&this.calcTariffForm.from.city!=null&&this.calcTariffForm.to.region!=null&&this.calcTariffForm.to.city!=null}},mounted(){if(this.chooseTariffModal=new bootstrap.Modal(document.getElementById("choose-tariff-modal"),{}),this.makeOrderModal=new bootstrap.Modal(document.getElementById("make-order-modal"),{}),localStorage.getItem("cashman_calc-tariff-form-from")!=null){let o=JSON.parse(localStorage.getItem("cashman_calc-tariff-form-from"));this.calcTariffForm.to.region=(o==null?void 0:o.region)||null,this.calcTariffForm.to.city=(o==null?void 0:o.city)||null,this.calcTariffForm.to.office=(o==null?void 0:o.office)||null}if(localStorage.getItem("cashman_calc-tariff-form-to")!=null){let o=JSON.parse(localStorage.getItem("cashman_calc-tariff-form-to"));this.calcTariffForm.to.region=(o==null?void 0:o.region)||null,this.calcTariffForm.to.city=(o==null?void 0:o.city)||null,this.calcTariffForm.to.office=(o==null?void 0:o.office)||null}},methods:{addSenderPhone(){this.calcTariffForm.sender_phones.push("")},addRecipientPhone(){this.calcTariffForm.recipient_phones.push("")},removeRecipientPhone(o){this.calcTariffForm.recipient_phones.splice(o,1)},removeSenderPhone(o){this.calcTariffForm.sender_phones.splice(o,1)},openOrderModal(){this.makeOrderModal.toggle()},selectTariff(o){this.calcTariffForm.tariff=o,this.chooseTariffModal.hide()},selectOffice(o,t){let a=t===0?"from":"to";this.calcTariffForm[a].region=o.region,this.calcTariffForm[a].city=o.city,this.calcTariffForm[a].office=o.office,this.calcTariffForm.tariff=null},selectSize(o){this.calcTariffForm.packages.push({width:o.width||0,height:o.height||0,length:o.length||0,weight:o.weight||0,items:o.items||[]})},removeItem(o){this.calcTariffForm.packages.splice(o,1)},submitCdek(){let o=new FormData;Object.keys(this.calcTariffForm).forEach(t=>{const a=this.calcTariffForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("storeCdekOrder",{cdekForm:o}).then(t=>{localStorage.setItem("cashman_calc-tariff-form-tariff",JSON.stringify(this.calcTariffForm.tariff)),localStorage.setItem("cashman_calc-tariff-form-from",JSON.stringify(this.calcTariffForm.from)),localStorage.setItem("cashman_calc-tariff-form-to",JSON.stringify(this.calcTariffForm.to)),this.$notify({title:"Работа с CDEK",text:"Данные успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Работа с CDEK",text:"Ошибка работы",type:"error"})})},submitTariffCalcCdek(){this.chooseTariffModal.show(),this.tariffs=[];let o=new FormData;Object.keys(this.calcTariffForm).forEach(t=>{const a=this.calcTariffForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("calcCdekTariff",{cdekForm:o}).then(t=>{this.tariffs=t,this.$notify({title:"Работа с CDEK",text:"Данные успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Работа с CDEK",text:"Ошибка работы",type:"error"})})}}},_sfc_main$r=Object.assign(__default__$l,{__name:"CdekAdminCalcForm",setup(o){return(t,a)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$r,_hoisted_2$q,createVNode(SelectOffice,{onCallback:a[0]||(a[0]=s=>t.selectOffice(s,0))}),_hoisted_3$q,createVNode(SelectOffice,{onCallback:a[1]||(a[1]=s=>t.selectOffice(s,1))}),createBaseVNode("div",_hoisted_4$m,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=s=>t.calcTariffForm.is_shop_mode=s),type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[vModelCheckbox,t.calcTariffForm.is_shop_mode]]),_hoisted_5$m]),createVNode(SelectBoxSize,{"shop-mode":t.calcTariffForm.is_shop_mode,onCallback:t.selectSize},null,8,["shop-mode","onCallback"]),t.calcTariffForm.packages.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_6$l,createBaseVNode("ul",_hoisted_7$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.calcTariffForm.packages,(s,r)=>(openBlock(),createElementBlock("li",_hoisted_8$k,[createBaseVNode("span",null,toDisplayString(s.width||0)+"x"+toDisplayString(s.height||0)+"x"+toDisplayString(s.length||0)+" см, до "+toDisplayString(s.weight||0)+"кг ",1),createBaseVNode("span",{onClick:n=>t.removeItem(r),class:"text-danger"},_hoisted_11$g,8,_hoisted_9$j)]))),256))])],64)):createCommentVNode("",!0),t.calcTariffForm.tariff?(openBlock(),createElementBlock("div",_hoisted_13$d,[createBaseVNode("div",_hoisted_14$d,[createBaseVNode("p",_hoisted_15$d,[createTextVNode(toDisplayString(t.calcTariffForm.tariff.tariff_name)+" ",1),createBaseVNode("span",_hoisted_16$d,"#"+toDisplayString(t.calcTariffForm.tariff.tariff_code),1)]),createBaseVNode("span",{onClick:a[3]||(a[3]=s=>t.calcTariffForm.tariff=null),class:"text-danger"},_hoisted_18$b)]),createBaseVNode("p",_hoisted_19$b,[createTextVNode("Доставка от "),createBaseVNode("span",_hoisted_20$a,toDisplayString(t.calcTariffForm.tariff.period_min),1),createTextVNode(" до "),createBaseVNode("span",_hoisted_21$9,toDisplayString(t.calcTariffForm.tariff.period_max),1),createTextVNode(" рабочих дней")]),createBaseVNode("p",_hoisted_22$9,[createTextVNode("Стоимость доставки "),createBaseVNode("span",_hoisted_23$9,toDisplayString(t.calcTariffForm.tariff.delivery_sum),1),createTextVNode(" руб.")])])):(openBlock(),createElementBlock("div",_hoisted_12$g," Тариф еще не выбран! ")),createBaseVNode("nav",_hoisted_24$9,[t.calcTariffForm.tariff==null?(openBlock(),createElementBlock("button",{key:0,disabled:!t.canCalcTariff,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:a[4]||(a[4]=(...s)=>t.submitTariffCalcCdek&&t.submitTariffCalcCdek(...s)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Рассчитать тариф ",8,_hoisted_25$9)):createCommentVNode("",!0),t.calcTariffForm.tariff!=null?(openBlock(),createElementBlock("button",{key:1,disabled:!t.canCalcTariff,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:a[5]||(a[5]=(...s)=>t.openOrderModal&&t.openOrderModal(...s)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Оформить заказ ",8,_hoisted_26$7)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_27$7,[createBaseVNode("div",_hoisted_28$7,[createBaseVNode("div",_hoisted_29$7,[_hoisted_30$7,t.tariffs.length>0?(openBlock(),createElementBlock("div",_hoisted_31$7,[createBaseVNode("ol",_hoisted_32$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tariffs,s=>(openBlock(),createElementBlock("li",_hoisted_33$6,[createBaseVNode("div",_hoisted_34$5,[createBaseVNode("div",_hoisted_35$5,toDisplayString(s.tariff_name),1),createBaseVNode("p",_hoisted_36$4,[createTextVNode("Доставка от "),createBaseVNode("span",_hoisted_37$4,toDisplayString(s.period_min),1),createTextVNode(" до "),createBaseVNode("span",_hoisted_38$4,toDisplayString(s.period_max),1),createTextVNode(" рабочих дней")]),createBaseVNode("p",_hoisted_39$4,[createTextVNode("Стоимость доставки "),createBaseVNode("span",_hoisted_40$3,toDisplayString(s.delivery_sum),1),createTextVNode(" руб.")]),createBaseVNode("button",{type:"button",class:"btn btn-primary w-100 mt-3",onClick:r=>t.selectTariff(s)},"Выбрать тариф ",8,_hoisted_41$3)]),createBaseVNode("span",_hoisted_42$3,"#"+toDisplayString(s.tariff_code),1)]))),256))])])):(openBlock(),createElementBlock("div",_hoisted_43$3,[createVNode(PreloaderV1)]))])])]),createBaseVNode("div",_hoisted_44$3,[createBaseVNode("div",_hoisted_45$3,[createBaseVNode("form",{class:"modal-content",onSubmit:a[12]||(a[12]=withModifiers((...s)=>t.submitCdek&&t.submitCdek(...s),["prevent"]))},[_hoisted_46$3,createBaseVNode("div",_hoisted_47$3,[_hoisted_48$3,createBaseVNode("div",_hoisted_49$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=s=>t.calcTariffForm.sender_name=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.calcTariffForm.sender_name]]),_hoisted_50$3]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.calcTariffForm.sender_phones,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_51$3,[createBaseVNode("div",_hoisted_52$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":n=>t.calcTariffForm.sender_phones[r]=n,class:"form-control",id:"floatingInput",required:"",placeholder:"name@example.com"},null,8,_hoisted_53$3),[[i,"+7(###)###-##-##"],[vModelText,t.calcTariffForm.sender_phones[r]]]),_hoisted_54$3]),createBaseVNode("span",{onClick:n=>t.removeSenderPhone(r),class:"input-group-text",id:"basic-addon1"},_hoisted_57$3,8,_hoisted_55$3)]))),256)),createBaseVNode("a",{onClick:a[7]||(a[7]=(...s)=>t.addSenderPhone&&t.addSenderPhone(...s)),href:"javascript:void(0)"},"+ Ещё номер телефона"),_hoisted_58$3,createBaseVNode("div",_hoisted_59$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=s=>t.calcTariffForm.recipient_name=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.calcTariffForm.recipient_name]]),_hoisted_60$3]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.calcTariffForm.recipient_phones,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_61$3,[createBaseVNode("div",_hoisted_62$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":n=>t.calcTariffForm.recipient_phones[r]=n,class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,8,_hoisted_63$3),[[i,"+7(###)###-##-##"],[vModelText,t.calcTariffForm.recipient_phones[r]]]),_hoisted_64$3]),t.calcTariffForm.recipient_phones.length>1?(openBlock(),createElementBlock("span",{key:0,onClick:n=>t.removeRecipientPhone(r),class:"input-group-text",id:"basic-addon1"},_hoisted_67$3,8,_hoisted_65$3)):createCommentVNode("",!0)]))),256)),createBaseVNode("a",{onClick:a[9]||(a[9]=(...s)=>t.addRecipientPhone&&t.addRecipientPhone(...s)),href:"javascript:void(0)"},"+ Ещё номер телефона"),createBaseVNode("div",_hoisted_68$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=s=>t.calcTariffForm.to.address=s),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.calcTariffForm.to.address]]),_hoisted_69$3]),_hoisted_70$3,createBaseVNode("div",_hoisted_71$3,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":a[11]||(a[11]=s=>t.calcTariffForm.comment=s),class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.calcTariffForm.comment]]),_hoisted_72$2])]),_hoisted_73$2],32)])])],64)}}}),_hoisted_1$q={class:"container my-3"},_hoisted_2$p={class:"row"},_hoisted_3$p={class:"col-12"},_hoisted_4$l={class:"nav justify-content-center nav-tabs my-2"},_hoisted_5$l={class:"nav-item"},_hoisted_6$k={class:"nav-item"},_hoisted_7$k={key:0,class:"col-12"},_hoisted_8$j={key:1,class:"alert alert-light"},_hoisted_9$i=createBaseVNode("p",{class:"text-center"},"Загружаем данные...",-1),_hoisted_10$h=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_11$f=[_hoisted_9$i,_hoisted_10$h],_hoisted_12$f={key:1,class:"col-12"},__default__$k={data(){return{tab:0,load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.cdek=this.bot.cdek||null})}}},_sfc_main$q=Object.assign(__default__$k,{__name:"Cdek",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$p,[createBaseVNode("div",_hoisted_3$p,[createBaseVNode("ul",_hoisted_4$l,[createBaseVNode("li",_hoisted_5$l,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[0]||(a[0]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Настройка",2)]),createBaseVNode("li",_hoisted_6$k,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[1]||(a[1]=i=>t.tab=1),href:"javascript:void(0)"},"Калькулятор",2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_7$k,[!t.load&&t.bot?(openBlock(),createBlock(_sfc_main$s,{key:0,bot:t.bot},null,8,["bot"])):(openBlock(),createElementBlock("div",_hoisted_8$j,_hoisted_11$f))])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_12$f,[createVNode(_sfc_main$r)])):createCommentVNode("",!0)])]))}}),Cdek=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$q},Symbol.toStringTag,{value:"Module"})),_hoisted_1$p={key:0,class:"mb-2"},_hoisted_2$o={class:"badge bg-success text-white"},_hoisted_3$o=createBaseVNode("span",{class:"ml-1 mr-1"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_4$k={key:0,class:"badge bg-primary text-white"},_hoisted_5$k={key:1},_hoisted_6$j={class:"form-floating mb-2"},_hoisted_7$j=["id"],_hoisted_8$i=["for"],_hoisted_9$h={class:"mb-2"},_hoisted_10$g={class:"form-check"},_hoisted_11$e=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Диалог без ожидания ответа ",-1),_hoisted_12$e={key:1,class:"form-floating mb-2"},_hoisted_13$c=["id"],_hoisted_14$c=["for"],_hoisted_15$c={key:2,class:"form-floating mb-2"},_hoisted_16$c=["id"],_hoisted_17$b=["for"],_hoisted_18$a={key:3,class:"mb-2"},_hoisted_19$a={class:"form-floating mb-2"},_hoisted_20$9=["value"],_hoisted_21$8=["for"],_hoisted_22$8={class:"form-floating"},_hoisted_23$8=["id"],_hoisted_24$8=["for"],_hoisted_25$8={key:4,class:"form-floating mb-2"},_hoisted_26$6=["id"],_hoisted_27$6=createBaseVNode("option",{value:null,selected:""},"Не указан",-1),_hoisted_28$6=["value"],_hoisted_29$6=["for"],_hoisted_30$6={class:"mb-2"},_hoisted_31$6={class:"d-flex justify-content-between"},_hoisted_32$6=["for"],_hoisted_33$5=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_34$4=[_hoisted_33$5],_hoisted_35$4=["id"],_hoisted_36$3={class:"mb-2"},_hoisted_37$3={class:"form-check"},_hoisted_38$3=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-image"}," В диалоге нужно изображение ",-1),_hoisted_39$3={class:"form-check"},_hoisted_40$2=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-inline"}," В диалоге нужно меню к тексту ",-1),_hoisted_41$2={class:"form-check"},_hoisted_42$2=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-reply"}," В диалоге нужно нижнее меню ",-1),_hoisted_43$2={key:5,class:"mb-2"},_hoisted_44$2=createBaseVNode("h6",null,"Фотографии к диалогу",-1),_hoisted_45$2={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_46$2={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_47$2=createBaseVNode("span",null,"+",-1),_hoisted_48$2={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_49$2={class:"remove"},_hoisted_50$2=["onClick"],_hoisted_51$2={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_52$2={class:"remove"},_hoisted_53$2=["onClick"],_hoisted_54$2={key:6,class:"mb-2"},_hoisted_55$2=createBaseVNode("h6",null,"Кнопки к вопросу",-1),_hoisted_56$2={key:7,class:"mb-2"},_hoisted_57$2=createBaseVNode("h6",null,"Кнопки нижнего меню к вопросу",-1),_hoisted_58$2={class:"mb-2"},_hoisted_59$2=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Сохранить в переменную ",-1),_hoisted_60$2=createBaseVNode("option",{selected:""},"Не выбрано",-1),_hoisted_61$2=["value"],_hoisted_62$2={class:"form-check mb-2"},_hoisted_63$2=createBaseVNode("label",{class:"form-check-label font-12",for:"need-set-flags"}," Установить флаги в соответствующее значение ",-1),_hoisted_64$2={key:8,class:"mb-2"},_hoisted_65$2=createBaseVNode("h6",{class:"my-3"},"Выберите необходимые флаги",-1),_hoisted_66$2=["onClick"],_hoisted_67$2={style:{"z-index":"100",bottom:"10px"},type:"submit",class:"btn btn-primary w-100 p-3 my-3 position-sticky"},_hoisted_68$2={key:0},_hoisted_69$2={key:1},_hoisted_70$2={key:9,class:"divider divider-small my-3 bg-highlight"},_hoisted_71$2=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),__default__$j={props:["item","bot"],data(){return{need_images:!1,need_inline_keyboard:!1,need_reply_keyboard:!1,need_set_flags:!1,commands:[],flags_variants:[{title:"Является VIP",key:"is_vip",value:null},{title:"Является Админом",key:"is_admin",value:null},{title:"За работой",key:"is_work",value:null},{title:"Является менеджером",key:"is_manager",value:null}],store_variants:[{title:"Имя",key:"name"},{title:"Почта",key:"email"},{title:"Возраст",key:"age"},{title:"Город",key:"city"},{title:"Страна",key:"country"},{title:"Адрес",key:"address"},{title:"Телефон",key:"phone"},{title:"День рождение",key:"birthday"}],expressions:[{expression:null,description:"Нет проверки"},{expression:"/([a-z0-9]+)/i",description:"Проверка набора из латинских букв и цифр"},{expression:"/([а-яё0-9]+)/iu",description:"Проверка на кириллицу и цифры"},{expression:"/(?P<digit>\\d+)/",description:"Проверка на число"},{expression:"/^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$/",description:"Проверка Email"},{expression:"/^((8|+7)[- ]?)?((?d{3})?[- ]?)?[d- ]{7,10}$/",description:"Проверка номера телефона"},{expression:"/^(0[1-9]|[12][0-9]|3[01])[.](0[1-9]|1[012])[.](19|20)dd$/",description:"Проверка даты по формату"},{expression:"/^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])$/",description:"Проверка даты по формату YYYY-MM-DD"},{expression:"/^(https?://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$/",description:"Проверка доменного имени"}],commandForm:{id:null,slug:null,pre_text:null,post_text:null,error_text:null,bot_id:null,input_pattern:null,inline_keyboard_id:null,reply_keyboard_id:null,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,reply_keyboard:null,is_empty:!1,result_flags:[],store_to:null},photos:[]}},computed:{...mapGetters(["getDialogs"])},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.commandForm[o.detail.param]=o.detail.channel}),this.item&&this.$nextTick(()=>{this.commandForm={id:this.item.id||null,slug:this.item.slug||null,pre_text:this.item.pre_text||null,post_text:this.item.post_text||null,error_text:this.item.error_text||null,is_empty:this.item.is_empty||!1,input_pattern:this.item.input_pattern||null,inline_keyboard_id:this.item.inline_keyboard_id||null,reply_keyboard_id:this.item.reply_keyboard_id||null,images:this.item.images||[],next_bot_dialog_command_id:this.item.next_bot_dialog_command_id||null,bot_dialog_group_id:this.item.bot_dialog_group_id||null,result_channel:this.item.result_channel||null,inline_keyboard:this.item.inline_keyboard||null,reply_keyboard:this.item.reply_keyboard||null,result_flags:this.item.result_flags||[],store_to:this.item.store_to||null},this.bot&&(this.commandForm.bot_id=this.bot.id||null),this.commandForm.inline_keyboard_id!=null&&(this.need_inline_keyboard=!0),this.commandForm.reply_keyboard_id!=null&&(this.need_reply_keyboard=!0),this.commandForm.images.length>0&&(this.need_images=!0),this.commandForm.result_flags.length>0&&(this.need_set_flags=!0)}),this.bot&&this.$nextTick(()=>{this.commandForm.bot_id=this.bot.id}),this.loadGroups()},methods:{unlinkCommand(){this.loading=!0,this.$store.dispatch("unlinkDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$notify({title:"Команды",text:"Диалоговая команда успешно продублирована!",type:"success"}),this.$emit("callback")}).catch(o=>{this.loading=!1})},removeCommand(){this.loading=!0,this.$store.dispatch("removeDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$notify({title:"Команды",text:"Диалоговая команда успешно удалена!",type:"success"}),this.$emit("callback")}).catch(o=>{this.loading=!1})},loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{simple:!0},page:o,size:100}).then(t=>{this.loading=!1,this.commands=this.getDialogs}).catch(()=>{this.loading=!1})},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},submit(){this.loading=!0;let o=new FormData;if(Object.keys(this.commandForm).forEach(t=>{const a=this.commandForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.photos){for(let t=0;t<this.photos.length;t++)o.append("files[]",this.photos[t]);o.delete("photos")}this.$store.dispatch(this.commandForm.id?"updateDialogCommand":"createDialogCommand",{dialogCommandForm:o}).then(t=>{this.loading=!1,this.$notify({title:"Команды",text:"Успешная обработка диалоговой команды!",type:"success"}),this.commandForm.id==null&&(this.commandForm={id:null,slug:null,pre_text:null,post_text:null,error_text:null,input_pattern:null,inline_keyboard_id:null,is_empty:!1,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,result_flags:[],store_to:null},this.photos=[]),this.$emit("callback")}).catch(t=>{this.loading=!1})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o,t){this[o].splice(t,1)},onChangePhotos(o){const t=o.target.files;for(let a=0;a<t.length;a++)this.photos.push(t[a])},saveInlineKeyboard(o){this.commandForm.inline_keyboard=o},saveReplyKeyboard(o){this.commandForm.reply_keyboard=o},addTextTo(o={param:null,text:null}){this.commandForm[o.param]=o.text},selectFlag(o){this.commandForm.result_flags||(this.commandForm.result_flags=[]);let t=this.commandForm.result_flags.indexOf(o.key);t===-1?this.commandForm.result_flags.push(o.key):this.commandForm.result_flags.splice(t,1)}}},_sfc_main$p=Object.assign(__default__$j,{__name:"BotDialogCommandForm",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:a[18]||(a[18]=withModifiers((...s)=>t.submit&&t.submit(...s),["prevent"]))},[t.commandForm.id?(openBlock(),createElementBlock("p",_hoisted_1$p,[createBaseVNode("span",_hoisted_2$o,"#"+toDisplayString(t.commandForm.id),1),_hoisted_3$o,t.commandForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("span",_hoisted_4$k,[createTextVNode("#"+toDisplayString(t.commandForm.next_bot_dialog_command_id||"-")+" ",1),createBaseVNode("i",{class:"ml-2 fa-solid fa-link-slash",onClick:a[0]||(a[0]=(...s)=>t.unlinkCommand&&t.unlinkCommand(...s))})])):(openBlock(),createElementBlock("span",_hoisted_5$k,"не связан"))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$j,[withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-pre-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":a[1]||(a[1]=s=>t.commandForm.pre_text=s),required:""},`

            `,8,_hoisted_7$j),[[vModelText,t.commandForm.pre_text]]),createBaseVNode("label",{for:"commandForm-pre-text-"+t.commandForm.id,class:"font-12"},"Текст диалога",8,_hoisted_8$i)]),createBaseVNode("div",_hoisted_9$h,[createBaseVNode("div",_hoisted_10$g,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=s=>t.commandForm.is_empty=s),id:"need-empty-dialog",checked:""},null,512),[[vModelCheckbox,t.commandForm.is_empty]]),_hoisted_11$e])]),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$e,[withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-post-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":a[3]||(a[3]=s=>t.commandForm.post_text=s),required:""},`
            `,8,_hoisted_13$c),[[vModelText,t.commandForm.post_text]]),createBaseVNode("label",{for:"commandForm-post-text-"+t.commandForm.id,class:"font-12"},"Текст после успешного завершения диалога",8,_hoisted_14$c)])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15$c,[withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-error-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":a[4]||(a[4]=s=>t.commandForm.error_text=s),required:""},`
            `,8,_hoisted_16$c),[[vModelText,t.commandForm.error_text]]),createBaseVNode("label",{for:"commandForm-error-text-"+t.commandForm.id,class:"font-12"},"Текст на случай ошибки корректности данных",8,_hoisted_17$b)])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_18$a,[createBaseVNode("div",_hoisted_19$a,[withDirectives(createBaseVNode("select",{id:"next-dialog-select",class:"form-select form-control font-12","onUpdate:modelValue":a[5]||(a[5]=s=>t.commandForm.input_pattern=s)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.expressions,s=>(openBlock(),createElementBlock("option",{value:s.expression},toDisplayString(s.description||"-"),9,_hoisted_20$9))),256))],512),[[vModelSelect,t.commandForm.input_pattern]]),createBaseVNode("label",{class:"form-label font-12",for:"commandForm-result-channel-"+t.commandForm.id},"Регулярное выражение для автоматической проверки данных ",8,_hoisted_21$8)]),createBaseVNode("div",_hoisted_22$8,[withDirectives(createBaseVNode("input",{id:"custom-regular-expression"+t.commandForm.id,type:"text",class:"form-control",placeholder:"Регулярное выражение","aria-label":"Регулярное выражение","onUpdate:modelValue":a[6]||(a[6]=s=>t.commandForm.input_pattern=s),maxlength:"255","aria-describedby":"commandForm-input-pattern"},null,8,_hoisted_23$8),[[vModelText,t.commandForm.input_pattern]]),createBaseVNode("label",{for:"custom-regular-expression"+t.commandForm.id,class:"font-12"},"или впишите своё",8,_hoisted_24$8)])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$8,[createBaseVNode("select",{id:"next-dialog-select"+t.commandForm.id,class:"form-select form-control font-12","aria-label":"Default select example"},[_hoisted_27$6,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.commands,(s,r)=>(openBlock(),createElementBlock("option",{value:s.id},"#"+toDisplayString(s.id)+" "+toDisplayString(s.pre_text||"Без текста"),9,_hoisted_28$6))),256))],8,_hoisted_26$6),createBaseVNode("label",{for:"next-dialog-select"+t.commandForm.id,class:"font-12"},"Следующий диалог",8,_hoisted_29$6)])),createBaseVNode("div",_hoisted_30$6,[createBaseVNode("div",_hoisted_31$6,[createBaseVNode("label",{class:"form-label",for:"commandForm-result-channel-"+t.commandForm.id},"Канал для отправки данных ",8,_hoisted_32$6),createBaseVNode("span",{onClick:a[7]||(a[7]=s=>t.requestChannelId("result_channel"))},_hoisted_34$4)]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":a[8]||(a[8]=s=>t.commandForm.result_channel=s),id:"commandForm-result-channel-"+t.commandForm.id,"aria-describedby":"bot-order-channel"},null,8,_hoisted_35$4),[[vModelText,t.commandForm.result_channel]])]),createBaseVNode("div",_hoisted_36$3,[createBaseVNode("div",_hoisted_37$3,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=s=>t.need_images=s),id:"need-dialog-image",checked:""},null,512),[[vModelCheckbox,t.need_images]]),_hoisted_38$3]),createBaseVNode("div",_hoisted_39$3,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=s=>t.need_inline_keyboard=s),id:"need-dialog-menu-inline",checked:""},null,512),[[vModelCheckbox,t.need_inline_keyboard]]),_hoisted_40$2]),createBaseVNode("div",_hoisted_41$2,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=s=>t.need_reply_keyboard=s),id:"need-dialog-menu-reply",checked:""},null,512),[[vModelCheckbox,t.need_reply_keyboard]]),_hoisted_42$2])]),t.need_images?(openBlock(),createElementBlock("div",_hoisted_43$2,[_hoisted_44$2,createBaseVNode("div",_hoisted_45$2,[createBaseVNode("label",_hoisted_46$2,[_hoisted_47$2,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:a[12]||(a[12]=(...s)=>t.onChangePhotos&&t.onChangePhotos(...s)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_48$2,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(s).imageUrl]]),createBaseVNode("div",_hoisted_49$2,[createBaseVNode("a",{onClick:n=>t.removePhoto("photos",r)},"Удалить",8,_hoisted_50$2)])]))),256)):createCommentVNode("",!0),t.commandForm.images&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.commandForm.images,(s,r)=>(openBlock(),createElementBlock("div",_hoisted_51$2,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+o.bot.id+"/"+s]]),createBaseVNode("div",_hoisted_52$2,[createBaseVNode("a",{onClick:n=>t.removePhoto("images",r)},"Удалить",8,_hoisted_53$2)])]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.need_inline_keyboard?(openBlock(),createElementBlock("div",_hoisted_54$2,[_hoisted_55$2,createVNode(_sfc_main$1u,{onSave:t.saveInlineKeyboard,modelValue:t.commandForm.inline_keyboard,"onUpdate:modelValue":a[13]||(a[13]=s=>t.commandForm.inline_keyboard=s)},null,8,["onSave","modelValue"])])):createCommentVNode("",!0),t.need_reply_keyboard?(openBlock(),createElementBlock("div",_hoisted_56$2,[_hoisted_57$2,createVNode(_sfc_main$1u,{onSave:t.saveReplyKeyboard,modelValue:t.commandForm.reply_keyboard,"onUpdate:modelValue":a[14]||(a[14]=s=>t.commandForm.reply_keyboard=s)},null,8,["onSave","modelValue"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_58$2,[_hoisted_59$2,withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":a[15]||(a[15]=s=>t.commandForm.store_to=s)},[_hoisted_60$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.store_variants,s=>(openBlock(),createElementBlock("option",{value:s.key},toDisplayString(s.title||"Не указано"),9,_hoisted_61$2))),256))],512),[[vModelSelect,t.commandForm.store_to]])]),createBaseVNode("div",_hoisted_62$2,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[16]||(a[16]=s=>t.need_set_flags=s),id:"need-set-flags",checked:""},null,512),[[vModelCheckbox,t.need_set_flags]]),_hoisted_63$2]),t.need_set_flags?(openBlock(),createElementBlock("div",_hoisted_64$2,[_hoisted_65$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.flags_variants,s=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mr-2",{"bg-info text-white":t.commandForm.result_flags.indexOf(s.key)!=-1}]),onClick:r=>t.selectFlag(s)},toDisplayString(s.title),11,_hoisted_66$2))),256))])):createCommentVNode("",!0),createBaseVNode("button",_hoisted_67$2,[t.commandForm.id?(openBlock(),createElementBlock("span",_hoisted_68$2,"Обновить диалог")):(openBlock(),createElementBlock("span",_hoisted_69$2,"Добавить диалог"))]),t.commandForm.id?(openBlock(),createElementBlock("div",_hoisted_70$2)):createCommentVNode("",!0),t.commandForm.id?(openBlock(),createElementBlock("a",{key:10,onClick:a[17]||(a[17]=(...s)=>t.removeCommand&&t.removeCommand(...s)),title:"Удаление команды",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},[_hoisted_71$2,createTextVNode(" Удалить диалог ")])):createCommentVNode("",!0)],32)}}}),DialogCommandCard_vue_vue_type_style_index_0_lang="",_hoisted_1$o=["data-bs-target"],_hoisted_2$n={class:"badge bg-primary mr-2"},_hoisted_3$n={class:"mb-0",style:{"line-height":"100%","font-size":"10px","text-align":"left"}},_hoisted_4$j=["id"],_hoisted_5$j={class:"modal-dialog modal-fullscreen"},_hoisted_6$i={class:"modal-content"},_hoisted_7$i=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_8$h={class:"modal-body"},__default__$i={props:["item","bot"],data(){return{showMenu:!1}},methods:{selectDialog(){this.$emit("select",this.item)}}},_sfc_main$o=Object.assign(__default__$i,{__name:"DialogCommandCard",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{"data-bs-toggle":"modal","data-bs-target":"#open-dialog-editor-"+o.item.id,class:"btn d-flex justify-content-start align-items-start",type:"button"},[createBaseVNode("span",_hoisted_2$n,"#"+toDisplayString(o.item.id),1),createBaseVNode("p",_hoisted_3$n,toDisplayString(o.item.pre_text||"Нет команды"),1)],8,_hoisted_1$o),createBaseVNode("div",{class:"modal fade",id:"open-dialog-editor-"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_5$j,[createBaseVNode("div",_hoisted_6$i,[_hoisted_7$i,createBaseVNode("div",_hoisted_8$h,[createVNode(_sfc_main$p,{bot:o.bot,item:o.item},null,8,["bot","item"])])])])],8,_hoisted_4$j)],64))}}),_hoisted_1$n={key:0,class:"list-group"},_hoisted_2$m={class:"list-group-item p-2"},_hoisted_3$m={key:1},_hoisted_4$i={key:1,class:"row"},_hoisted_5$i=createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет созданных диалоговых групп ")],-1),_hoisted_6$h=[_hoisted_5$i],_hoisted_7$h={class:"modal fade",id:"create-bot-dialog",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_8$g={class:"modal-dialog modal-fullscreen"},_hoisted_9$g={class:"modal-content"},_hoisted_10$f=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_11$d={class:"modal-body"},_hoisted_12$d=createBaseVNode("button",{style:{"z-index":"100",bottom:"10px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#create-bot-dialog",class:"btn btn-primary p-3 w-100 my-2 position-sticky"},[createBaseVNode("i",{class:"fa-regular fa-comment-dots mr-2"}),createTextVNode("Создать новый диалог ")],-1),__default__$h={props:["bot"],data(){return{needCreate:!1,loading:!0,dialog_groups:[],search:null,link:null,group:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"]),filteredCommands(){return this.link?this.dialog_groups.find(t=>t.id===this.link.group_id).bot_dialog_commands.filter(t=>t.id!=this.link.id):[]}},mounted(){this.loadGroups()},methods:{loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialog_groups=this.getDialogs,this.dialog_groups_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$n=Object.assign(__default__$h,{__name:"BotDialogGroupList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.dialog_groups.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.dialog_groups,(i,s)=>(openBlock(),createElementBlock("div",null,[i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(r,n)=>(openBlock(),createElementBlock("li",_hoisted_2$m,[o.bot?(openBlock(),createBlock(_sfc_main$o,{key:0,bot:o.bot,onCallback:t.loadGroups,item:r},null,8,["bot","onCallback","item"])):createCommentVNode("",!0)]))),256))])):(openBlock(),createElementBlock("p",_hoisted_3$m,"Диалоговых скриптов не найдено"))]))),256)):(openBlock(),createElementBlock("div",_hoisted_4$i,_hoisted_6$h)),createBaseVNode("div",_hoisted_7$h,[createBaseVNode("div",_hoisted_8$g,[createBaseVNode("div",_hoisted_9$g,[_hoisted_10$f,createBaseVNode("div",_hoisted_11$d,[o.bot?(openBlock(),createBlock(_sfc_main$p,{key:0,onCallback:t.loadGroups,bot:o.bot},null,8,["onCallback","bot"])):createCommentVNode("",!0)])])])]),_hoisted_12$d],64))}}),_hoisted_1$m={class:"container py-3"},_hoisted_2$l={class:"row"},_hoisted_3$l={class:"col-12"},__default__$g={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$m=Object.assign(__default__$g,{__name:"Dialogs",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$l,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$n,{key:0,bot:t.bot},null,8,["bot"]))])])]))}}),Dialogs=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$m},Symbol.toStringTag,{value:"Module"})),_hoisted_1$l={key:0,class:"list-group"},_hoisted_2$k={class:"w-100 list-group-item"},_hoisted_3$k=["onClick"],_hoisted_4$h=createBaseVNode("i",{class:"fa-solid fa-scroll text-primary"},null,-1),_hoisted_5$h={class:"mb-2"},_hoisted_6$g=createBaseVNode("div",{class:"alert alert-light mb-2"}," Вы можете добавить данный скрипт изменив сразу название команды на нужное непосредственно ВАМ! Меняется только название. ",-1),_hoisted_7$g={class:"form-floating"},_hoisted_8$f=createBaseVNode("label",{for:""},"Команда",-1),_hoisted_9$f=["disabled"],_hoisted_10$e={key:2,class:"mb-2"},_hoisted_11$c=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," К сожалению еще нет глобальных скриптов ",-1),_hoisted_12$c=[_hoisted_11$c],__default__$f={props:["canAdd","bot"],data(){return{search:null,slugs:[],slugs_paginate_object:null,slugForm:{command:null,comment:null,slug:null,config:[],is_global:!0,bot_id:null}}},computed:{...mapGetters(["getGlobalSlugs","getGlobalSlugsPaginateObject"]),filteredAllSlugs(){return this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",a=o.command||"",i=o.comment||"";return a.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1})}},mounted(){this.loadAllSlugs()},methods:{loadAllSlugs(o=0){this.$store.dispatch("loadGlobalSlugs",{dataObject:{search:this.search||null,needGlobal:!0},page:o}).then(t=>{this.slugs=this.getGlobalSlugs,this.slugs_paginate_object=this.getGlobalSlugsPaginateObject})},removeSlug(o){this.$store.dispatch("removeSlug",{dataObject:{slugId:o.id}}).then(t=>{this.$notify({title:"Конструктор команд",text:"Команда успешно удалена!",type:"success"}),this.loadAllSlugs()}).catch(t=>{this.loadAllSlugs()})},nextSlugs(o){this.loadAllSlugs(o)},selectSlug(o){if(this.slugForm.id===o.id){this.slugForm.id=null,this.slugForm.slug=null,this.slugForm.comment=null,this.slugForm.command=null,this.slugForm.config=[],this.slugForm.is_global=!1;return}this.slugForm.id=o.id||null,this.slugForm.slug=o.slug,this.slugForm.comment=o.comment,this.slugForm.command=this.command||o.command,this.slugForm.config=o.config||[],this.slugForm.is_global=o.is_global||!1,this.$emit("select",o)},addSlug(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const a=this.slugForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("createSlug",{slugForm:o}).then(t=>{this.$notify({title:"Конструктор команд",text:"Команда успешно обновлена!",type:"success"}),this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0,this.$emit("callback")}).catch(t=>{})}}},_sfc_main$l=Object.assign(__default__$f,{__name:"GlobalSlugList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredAllSlugs,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_2$k,[i?(openBlock(),createElementBlock("p",{key:0,onClick:r=>t.selectSlug(i),class:"mb-2"},[_hoisted_4$h,createBaseVNode("span",null,toDisplayString(i.command||"Не указана"),1)],8,_hoisted_3$k)):createCommentVNode("",!0),t.slugForm.id==i.id&&t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("form",{key:1,onSubmit:a[1]||(a[1]=withModifiers((...r)=>t.addSlug&&t.addSlug(...r),["prevent"])),class:"mb-0 d-flex flex-wrap"},[createBaseVNode("div",_hoisted_5$h,[_hoisted_6$g,createBaseVNode("div",_hoisted_7$g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":a[0]||(a[0]=r=>t.slugForm.command=r),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.slugForm.command]]),_hoisted_8$f])]),createBaseVNode("button",{disabled:t.slugForm.slug==null,class:"btn btn-primary w-100 p-3"},"Добавить скрипт в бота ",8,_hoisted_9$f)],32)):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0),t.slugs_paginate_object?(openBlock(),createBlock(Pagination,{key:1,onPagination_page:t.nextSlugs,pagination:t.slugs_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_10$e,_hoisted_12$c))],64))}}),Slug_vue_vue_type_style_index_0_lang="",_hoisted_1$k={class:"alert alert-light w-100 mb-1",type:"button"},_hoisted_2$j={key:0,class:"fa-solid fa-chevron-up"},_hoisted_3$j={key:1,class:"fa-solid fa-chevron-down"},_hoisted_4$g=["data-bs-target"],_hoisted_5$g={key:0,class:"fa-regular fa-pen-to-square"},_hoisted_6$f={key:1,class:"fa-solid fa-xmark"},_hoisted_7$f={key:0,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_8$e={key:1,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_9$e=createBaseVNode("i",{class:"fa-solid fa-clone"},null,-1),_hoisted_10$d=[_hoisted_9$e],_hoisted_11$b=createBaseVNode("i",{class:"fa-regular fa-trash-can color-white"},null,-1),_hoisted_12$b=[_hoisted_11$b],_hoisted_13$b={key:1,class:"list-group my-2 p-0"},_hoisted_14$b={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_15$b={class:"ms-2 me-auto"},_hoisted_16$b=createBaseVNode("div",{class:"fw-bold"},"Идентификатор",-1),_hoisted_17$a={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_18$9={class:"ms-2 me-auto"},_hoisted_19$9=createBaseVNode("div",{class:"fw-bold"},"Команда",-1),_hoisted_20$8={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_21$7={class:"ms-2 me-auto"},_hoisted_22$7=createBaseVNode("div",{class:"fw-bold"},"Мнемоническое имя",-1),_hoisted_23$7={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_24$7={class:"ms-2 me-auto"},_hoisted_25$7=createBaseVNode("div",{class:"fw-bold"},"Пояснение",-1),_hoisted_26$5={key:0,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_27$5={class:"ms-2 me-auto"},_hoisted_28$5=createBaseVNode("div",{class:"fw-bold"},"Набор параметров скрипта",-1),_hoisted_29$5={key:1,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_30$5=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Привязана страница")],-1),_hoisted_31$5=[_hoisted_30$5],_hoisted_32$5={key:2,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_33$4=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Глобальный скрипт")],-1),_hoisted_34$3=[_hoisted_33$4],_hoisted_35$3=["id"],_hoisted_36$2={class:"modal-dialog modal-fullscreen"},_hoisted_37$2={class:"modal-content"},_hoisted_38$2=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_39$2={class:"modal-body py-3"},__default__$e={props:["item","bot","selectMode"],data(){return{showMenu:!1,edit:!1,load:!1,simple:!0}},mounted(){},methods:{toggleMenu(){this.showMenu=!this.showMenu,this.simple=!0,this.edit=!1},switchEditor(){this.simple=!0,this.edit=!this.edit},switchSimple(){this.simple=!this.simple,this.edit=!1},selectCard(){this.$emit("select",this.item)},slugFormCallback(){this.load=!0,this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},editSlug(){this.load=!0,this.$nextTick(()=>{this.load=!1})},selectSlug(){this.load=!0,this.$emit("select",this.item),this.$nextTick(()=>{this.load=!1})},duplicateSlug(){this.load=!0,this.$store.dispatch("duplicateSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$notify({title:"Конструктор команд",text:"Команда успешно продублирована!",type:"success"}),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},removeSlug(){this.load=!0,this.$store.dispatch("removeSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$notify({title:"Конструктор команд",text:"Команда успешно удалена!",type:"success"}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})}}},_sfc_main$k=Object.assign(__default__$e,{__name:"Slug",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("p",{onClick:a[0]||(a[0]=(...i)=>t.toggleMenu&&t.toggleMenu(...i)),class:"w-100 mb-0"},[t.showMenu?(openBlock(),createElementBlock("i",_hoisted_2$j)):(openBlock(),createElementBlock("i",_hoisted_3$j)),createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)]),t.showMenu?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("a",{"data-bs-toggle":"modal","data-bs-target":"#slug-modal-editor-"+o.item.id,href:"javascript:void(0)",title:"Редактировать команду",style:{width:"auto"},class:"btn btn-outline-light text-primary mr-2"},[t.edit?(openBlock(),createElementBlock("i",_hoisted_6$f)):(openBlock(),createElementBlock("i",_hoisted_5$g))],8,_hoisted_4$g),createBaseVNode("a",{href:"javascript:void(0)",onClick:a[1]||(a[1]=(...i)=>t.switchSimple&&t.switchSimple(...i)),class:"btn btn-outline-light text-primary mr-2"},[t.simple?(openBlock(),createElementBlock("i",_hoisted_7$f)):(openBlock(),createElementBlock("i",_hoisted_8$e))]),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-outline-light text-primary mr-2",onClick:a[2]||(a[2]=(...i)=>t.duplicateSlug&&t.duplicateSlug(...i))},_hoisted_10$d),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-outline-light text-primary mr-2",onClick:a[3]||(a[3]=(...i)=>t.removeSlug&&t.removeSlug(...i))},_hoisted_12$b)],64)):createCommentVNode("",!0),t.simple?createCommentVNode("",!0):(openBlock(),createElementBlock("ol",_hoisted_13$b,[createBaseVNode("li",_hoisted_14$b,[createBaseVNode("div",_hoisted_15$b,[_hoisted_16$b,createTextVNode(" №"+toDisplayString(o.item.id||"Нет идентификатора"),1)])]),createBaseVNode("li",_hoisted_17$a,[createBaseVNode("div",_hoisted_18$9,[_hoisted_19$9,createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)])]),createBaseVNode("li",_hoisted_20$8,[createBaseVNode("div",_hoisted_21$7,[_hoisted_22$7,createTextVNode(" "+toDisplayString(o.item.slug||"Slug"),1)])]),createBaseVNode("li",_hoisted_23$7,[createBaseVNode("div",_hoisted_24$7,[_hoisted_25$7,createTextVNode(" "+toDisplayString(o.item.comment||"Пояснение не указано"),1)])]),o.item.config?(openBlock(),createElementBlock("li",_hoisted_26$5,[createBaseVNode("div",_hoisted_27$5,[_hoisted_28$5,o.item.config?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(o.item.config,i=>(openBlock(),createElementBlock("p",null,[createBaseVNode("strong",null,toDisplayString(i.key||"Ключ не найден")+":",1),createTextVNode(toDisplayString(i.value||"Не указано"),1)]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),o.item.page?(openBlock(),createElementBlock("li",_hoisted_29$5,_hoisted_31$5)):createCommentVNode("",!0),o.item.is_global?(openBlock(),createElementBlock("li",_hoisted_32$5,_hoisted_34$3)):createCommentVNode("",!0)]))]),createBaseVNode("div",{class:"modal fade",id:"slug-modal-editor-"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_36$2,[createBaseVNode("div",_hoisted_37$2,[_hoisted_38$2,createBaseVNode("div",_hoisted_39$2,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$4i,{key:0,item:o.item,onCallback:t.slugFormCallback},null,8,["item","onCallback"]))])])])],8,_hoisted_35$3)],64))}}),_hoisted_1$j={key:0},_hoisted_2$i=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_3$i={key:1},_hoisted_4$f=createBaseVNode("i",{class:"fa-regular fa-square-minus"},null,-1),_hoisted_5$f={key:0,class:"mb-2"},_hoisted_6$e={class:"form-floating mb-2"},_hoisted_7$e=createBaseVNode("label",{for:"floatingInput"},"Быстрый поиск команды",-1),_hoisted_8$d={class:"form-check"},_hoisted_9$d={class:"form-check-label",for:"need_global"},_hoisted_10$c={key:0},_hoisted_11$a={key:1},_hoisted_12$a={class:"mb-0"},_hoisted_13$a={class:"mb-3"},_hoisted_14$a={key:2,class:"mb-3"},_hoisted_15$a=createBaseVNode("div",{class:"alert alert-light",role:"alert"}," У Вас еще нет добавленных скриптов! ",-1),_hoisted_16$a=[_hoisted_15$a],__default__$d={props:["command","bot"],data(){return{need_global:!0,show:!1,slugs:[],paginate:null,ownSearch:null,slugForm:{command:null,comment:null,slug:null}}},watch:{need_global:function(o,t){this.loadSlugs()}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs.length===0?[]:this.ownSearch==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",a=o.command||"",i=o.comment||"";return a.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||i.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||t.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1})}},mounted(){this.loadSlugs(),this.command&&this.$nextTick(()=>{this.slugForm.command=this.command})},methods:{nextSlugs(o){this.loadSlugs(o)},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.need_global},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},callbackSlugs(){this.loadSlugs()},selectSlug(o){this.$emit("select",o)},loadAllSlugs(){this.$store.dispatch("loadAllSlugs").then(o=>{this.allSlugs=o.data})},addSlug(o){}}},_sfc_main$j=Object.assign(__default__$d,{__name:"BotSlugList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:a[0]||(a[0]=i=>t.show=!t.show),class:"btn btn-outline-light text-primary mb-2 w-100"},[t.show?(openBlock(),createElementBlock("span",_hoisted_3$i,[_hoisted_4$f,createTextVNode(" Свернуть форму добавления")])):(openBlock(),createElementBlock("span",_hoisted_1$j,[_hoisted_2$i,createTextVNode(" Добавить глобальный скрипт")]))]),t.show?(openBlock(),createElementBlock("div",_hoisted_5$f,[o.bot?(openBlock(),createBlock(_sfc_main$l,{key:0,"can-add":!0,bot:o.bot,onCallback:t.loadSlugs},null,8,["bot","onCallback"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$e,[_hoisted_7$e,withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":a[1]||(a[1]=i=>t.ownSearch=i),class:"form-control",id:"floatingInput",placeholder:"Название команды"},null,512),[[vModelText,t.ownSearch]])]),createBaseVNode("div",_hoisted_8$d,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=i=>t.need_global=i),type:"checkbox",id:"need_global"},null,512),[[vModelCheckbox,t.need_global]]),createBaseVNode("label",_hoisted_9$d,[t.need_global?(openBlock(),createElementBlock("span",_hoisted_10$c,"Глобальные")):(openBlock(),createElementBlock("span",_hoisted_11$a,"Локальные"))])]),t.slugs&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.filteredSlugs,(i,s)=>(openBlock(),createElementBlock("div",_hoisted_12$a,[createVNode(_sfc_main$k,{item:i,bot:o.bot,onCallback:t.callbackSlugs,onSelect:t.selectSlug},null,8,["item","bot","onCallback","onSelect"])]))),256)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$a,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)]),t.filteredSlugs.length===0?(openBlock(),createElementBlock("div",_hoisted_14$a,_hoisted_16$a)):createCommentVNode("",!0)],64))}}),_hoisted_1$i={class:"container py-3"},_hoisted_2$h={class:"row"},_hoisted_3$h={class:"col-12"},__default__$c={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$i=Object.assign(__default__$c,{__name:"Slugs",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$h,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$j,{key:0,bot:t.bot},null,8,["bot"]))])])]))}}),Slugs=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$i},Symbol.toStringTag,{value:"Module"})),_hoisted_1$h={class:"container my-3"},_hoisted_2$g={class:"row"},_hoisted_3$g={class:"col-12"},_hoisted_4$e={key:1,class:"alert alert-light"},_hoisted_5$e=createBaseVNode("p",{class:"text-center"},"Загружаем данные...",-1),_hoisted_6$d=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_7$d=[_hoisted_5$e,_hoisted_6$d],__default__$b={data(){return{load:!1,bot:null,y_clients:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.y_clients=this.bot.y_clients,this.$notify({title:"Работа с YClients",text:"Данные успешно обновлены",type:"success"})})}}},_sfc_main$h=Object.assign(__default__$b,{__name:"YClients",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$g,[createBaseVNode("div",_hoisted_3$g,[!t.load&&t.bot?(openBlock(),createBlock(YClientsForm,{key:0,bot:t.bot,data:t.bot.y_clients},null,8,["bot","data"])):(openBlock(),createElementBlock("div",_hoisted_4$e,_hoisted_7$d))])])]))}}),YClients=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$h},Symbol.toStringTag,{value:"Module"})),_sfc_main$g={props:["modelValue"],computed:{isComplete(){return this.iikoForm.api_login&&this.iikoForm.organization_id&&this.iikoForm.terminal_group_id},preparedTerminals(){let o=[];return this.terminals.forEach(t=>{t.items.forEach(a=>{o.push(a)})}),o}},data(){return{load:!1,token:null,selected_organization:null,selected_terminal:null,organizations:[],terminals:[],iikoForm:{id:null,bot_id:null,api_login:null,organization_id:null,terminal_group_id:null}}},watch:{iikoForm:{handler:function(o){this.$emit("update:modelValue",this.iikoForm)},deep:!0}},mounted(){this.modelValue&&this.$nextTick(()=>{this.iikoForm.id=this.modelValue.id||null,this.iikoForm.bot_id=this.modelValue.bot_id||null,this.iikoForm.api_login=this.modelValue.api_login||null,this.iikoForm.organization_id=this.modelValue.organization_id||null,this.iikoForm.terminal_group_id=this.modelValue.terminal_group_id||null,this.selected_terminal={name:this.iikoForm.terminal_group_id},this.selected_organization={name:this.iikoForm.organization_id},this.iikoForm.api_login&&this.getToken()})},methods:{selectOrganization(o){if(!o){this.selected_organization=null,this.iikoForm.organization_id=null,this.selected_terminal=null,this.iikoForm.terminal_group_id=null;return}this.selected_organization=o,this.iikoForm.organization_id=o.id,this.getTerminals()},selectTerminal(o){if(!o){this.selected_terminal=null,this.iikoForm.terminal_group_id=null;return}this.selected_terminal=o,this.iikoForm.terminal_group_id=o.id},changeApiLogin(){this.token=null,this.selectOrganization(null),this.selectTerminal(null),this.getToken()},getToken(){this.$store.dispatch("getIikoToken",{api_login:this.iikoForm.api_login}).then(o=>{this.token=o.token||null,this.getOrganizations()}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения токена",type:"error"})})},getOrganizations(){this.token&&this.$store.dispatch("getIikoOrganizations",{token:this.token}).then(o=>{this.organizations=o.organizations||[]}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения списка организаций",type:"error"})})},getTerminals(){!this.token||!this.iikoForm.organization_id||this.$store.dispatch("getIikoTerminals",{token:this.token,organization_id:this.iikoForm.organization_id}).then(o=>{this.terminals=o.terminals||[]}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения списка терминалов",type:"error"})})},submit(){let o=new FormData;Object.keys(this.iikoForm).forEach(t=>{const a=this.iikoForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("storeIiko",{iikoForm:o}).then(t=>{this.$notify({title:"Отлично!",text:"Параметры успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Упс!",text:"Ошибка сохранения параметров",type:"error"})})}}},_hoisted_1$g={class:"form-floating mb-2"},_hoisted_2$f=createBaseVNode("label",{for:"iiko-form-api_login"},"API логин",-1),_hoisted_3$f=createBaseVNode("div",{class:"alert alert-light mb-2"}," Выберите организацию, которую хотите подключить ",-1),_hoisted_4$d={class:"dropdown mb-2"},_hoisted_5$d=["disabled"],_hoisted_6$c={key:0},_hoisted_7$c={key:1},_hoisted_8$c={class:"dropdown-menu w-100"},_hoisted_9$c=createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider p-0 m-0"})],-1),_hoisted_10$b=["onClick"],_hoisted_11$9={class:"text-wrap m-0"},_hoisted_12$9=createBaseVNode("div",{class:"alert alert-light mb-2"}," Выберите терминал в организации, через который будут проходить операции ",-1),_hoisted_13$9={class:"dropdown mb-2"},_hoisted_14$9=["disabled"],_hoisted_15$9={key:0},_hoisted_16$9={key:1},_hoisted_17$9={class:"dropdown-menu w-100"},_hoisted_18$8=createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider p-0 m-0"})],-1),_hoisted_19$8=["onClick"],_hoisted_20$7=["disabled"];function _sfc_render$5(o,t,a,i,s,r){return openBlock(),createElementBlock("form",{onSubmit:t[4]||(t[4]=withModifiers((...n)=>r.submit&&r.submit(...n),["prevent"]))},[createBaseVNode("div",_hoisted_1$g,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>s.iikoForm.api_login=n),onChange:t[1]||(t[1]=(...n)=>r.changeApiLogin&&r.changeApiLogin(...n)),class:"form-control",id:"iiko-form-api_login",placeholder:"name@example.com"},null,544),[[vModelText,s.iikoForm.api_login]]),_hoisted_2$f]),_hoisted_3$f,createBaseVNode("div",_hoisted_4$d,[createBaseVNode("button",{type:"button",disabled:!s.token,class:"btn btn-outline-primary dropdown-toggle w-100 p-3",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s.selected_organization?(openBlock(),createElementBlock("span",_hoisted_6$c,toDisplayString(s.selected_organization.name||"не указан"),1)):(openBlock(),createElementBlock("span",_hoisted_7$c,"Не выбрано организации"))],8,_hoisted_5$d),createBaseVNode("ul",_hoisted_8$c,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:t[2]||(t[2]=n=>r.selectOrganization(null)),href:"javascript:void(0)"},"Не выбрано")]),_hoisted_9$c,(openBlock(!0),createElementBlock(Fragment,null,renderList(s.organizations,n=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{class:normalizeClass([{"bg-primary text-white":n.id==this.iikoForm.organization_id},"dropdown-item"]),onClick:l=>r.selectOrganization(n),href:"javascript:void(0)"},[createBaseVNode("p",_hoisted_11$9,toDisplayString(n.name||"-")+" ("+toDisplayString(n.restaurantAddress||"-")+")",1)],10,_hoisted_10$b)]))),256))])]),_hoisted_12$9,createBaseVNode("div",_hoisted_13$9,[createBaseVNode("button",{type:"button",disabled:!s.iikoForm.organization_id,class:"btn btn-outline-primary dropdown-toggle w-100 p-3",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[s.selected_terminal?(openBlock(),createElementBlock("span",_hoisted_15$9,toDisplayString(s.selected_terminal.name||"не указан"),1)):(openBlock(),createElementBlock("span",_hoisted_16$9,"Не выбрано терминал"))],8,_hoisted_14$9),createBaseVNode("ul",_hoisted_17$9,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:t[3]||(t[3]=n=>r.selectTerminal(null)),href:"javascript:void(0)"},"Не выбрано")]),_hoisted_18$8,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.preparedTerminals,n=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{onClick:l=>r.selectTerminal(n),class:normalizeClass([{"bg-primary text-white":n.id==this.iikoForm.terminal_group_id},"dropdown-item"]),href:"javascript:void(0)"},toDisplayString(n.name||"-"),11,_hoisted_19$8)]))),256))])]),createBaseVNode("button",{class:"btn btn-primary p-3 w-100",disabled:!r.isComplete}," Сохранить настройки ",8,_hoisted_20$7)],32)}const IikoForm=_export_sfc(_sfc_main$g,[["render",_sfc_render$5]]),_sfc_main$f={data(){return{need_load_products:!1,selected_menu:null,selected_product:null,menus:[],categories:[],products:[]}},mounted(){this.getMenus()},methods:{selectProduct(o){this.selected_product=o,new bootstrap.Modal("#product-modal",{}).show()},selectMenu(o){this.selected_menu=o,this.getProducts()},getMenus(){this.$store.dispatch("getIikoMenu").then(o=>{this.menus=o.menus||[]}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения токена",type:"error"})})},getProducts(){this.need_load_products=!0,this.$store.dispatch("getIikoProducts",{menu_id:(this.selected_menu||{id:null}).id}).then(o=>{this.products=o.products.itemCategories||[],this.categories=o.products.productCategories||[],this.products.forEach(t=>{t.items.forEach(a=>{a.need_add=!0})}),this.need_load_products=!1}).catch(o=>{this.need_load_products=!1,this.$notify({title:"Упс!",text:"Ошибка получения токена",type:"error"})})},submit(){let o=[];this.products.forEach(t=>{t.items.forEach(a=>{o.push({id:a.itemId||null,sku:a.sku||null,name:a.name||null,description:a.description||null,category:t.name,in_stop:!a.need_add,price:a.itemSizes[0].prices[0].price||0,image:a.itemSizes[0].buttonImageUrl||null})})}),this.$store.dispatch("storeIikoProducts",{products:o}).then(t=>{this.$notify({title:"Отлично!",text:"Товары и категории успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Упс!",text:"Ошибка сохранения параметров",type:"error"})})}}},_hoisted_1$f={key:0,class:"list-group"},_hoisted_2$e=["onClick"],_hoisted_3$e={class:"badge bg-primary mr-2"},_hoisted_4$c={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_5$c=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем список меню...")],-1),_hoisted_6$b=[_hoisted_5$c],_hoisted_7$b={key:2,class:"mt-3 mb-0 p-0"},_hoisted_8$b={class:"my-2"},_hoisted_9$b={class:"list-group"},_hoisted_10$a={class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_11$8={class:"form-check"},_hoisted_12$8=["onUpdate:modelValue","id"],_hoisted_13$8=["for"],_hoisted_14$8=["onClick"],_hoisted_15$8={key:4,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_16$8=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем список товаров из меню...")],-1),_hoisted_17$8=[_hoisted_16$8],_hoisted_18$7={class:"modal fade",id:"product-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_19$7={class:"modal-dialog modal-fullscreen"},_hoisted_20$6={class:"modal-content"},_hoisted_21$6=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_22$6={key:0,class:"modal-body"},_hoisted_23$6={class:"img-fluid",alt:""},_hoisted_24$6={class:"my-2"},_hoisted_25$6={class:"fw-bold"};function _sfc_render$4(o,t,a,i,s,r){const n=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[s.menus.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.menus,l=>(openBlock(),createElementBlock("li",{onClick:c=>r.selectMenu(l),class:normalizeClass([{active:(this.selected_menu||{id:null}).id==l.id},"list-group-item"])},[createBaseVNode("span",_hoisted_3$e,"#"+toDisplayString(l.id),1),createTextVNode(toDisplayString(l.name),1)],10,_hoisted_2$e))),256))])):(openBlock(),createElementBlock("div",_hoisted_4$c,_hoisted_6$b)),s.products.length>0?(openBlock(),createElementBlock("hr",_hoisted_7$b)):createCommentVNode("",!0),s.products.length>0?(openBlock(!0),createElementBlock(Fragment,{key:3},renderList(s.products,(l,c)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h6",_hoisted_8$b,toDisplayString(l.name),1),createBaseVNode("ul",_hoisted_9$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.items,(m,p)=>(openBlock(),createElementBlock("li",_hoisted_10$a,[createBaseVNode("div",_hoisted_11$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":y=>s.products[c].items[p].need_add=y,type:"checkbox",value:"",id:"product-"+m.id},null,8,_hoisted_12$8),[[vModelCheckbox,s.products[c].items[p].need_add]]),createBaseVNode("label",{class:"form-check-label",for:"product-"+m.id},toDisplayString(m.name||"-"),9,_hoisted_13$8)]),createBaseVNode("i",{onClick:y=>r.selectProduct(m),class:"fa-solid fa-arrow-up-right-from-square"},null,8,_hoisted_14$8)]))),256))])],64))),256)):createCommentVNode("",!0),s.need_load_products?(openBlock(),createElementBlock("div",_hoisted_15$8,_hoisted_17$8)):createCommentVNode("",!0),s.products.length>0?(openBlock(),createElementBlock("button",{key:5,onClick:t[0]||(t[0]=(...l)=>r.submit&&r.submit(...l)),style:{"z-index":"100",bottom:"10px"},type:"button",class:"btn btn-primary w-100 p-3 my-3 position-sticky"},"Сохранить товары ")):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$7,[createBaseVNode("div",_hoisted_19$7,[createBaseVNode("div",_hoisted_20$6,[_hoisted_21$6,s.selected_product?(openBlock(),createElementBlock("div",_hoisted_22$6,[createBaseVNode("h6",null,toDisplayString(s.selected_product.name||"Нет имени"),1),createBaseVNode("p",null,toDisplayString(s.selected_product.description||"Нет описания"),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(s.selected_product.itemSizes,l=>(openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("img",_hoisted_23$6,null,512),[[n,l.buttonImageUrl]]),createBaseVNode("p",_hoisted_24$6,[createTextVNode(" Цена "),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.prices,c=>(openBlock(),createElementBlock("span",_hoisted_25$6,toDisplayString(c.price||0)+" ₽",1))),256))])],64))),256))])):createCommentVNode("",!0)])])])],64)}const IikoProducts=_export_sfc(_sfc_main$f,[["render",_sfc_render$4]]),_hoisted_1$e={class:"container py-3"},_hoisted_2$d={class:"row"},_hoisted_3$d={class:"col-12"},_hoisted_4$b={class:"nav nav-tabs d-flex justify-content-center mb-2"},_hoisted_5$b={class:"nav-item"},_hoisted_6$a=createBaseVNode("i",{class:"fa-solid fa-gears"},null,-1),_hoisted_7$a={class:"nav-item"},_hoisted_8$a=createBaseVNode("i",{class:"fa-brands fa-shopify"},null,-1),_hoisted_9$a={key:0,class:"col-12"},_hoisted_10$9={key:1,class:"col-12"},__default__$a={data(){return{tab:0,load:!1}},computed:{currentBot(){return window.currentBot||null}},mounted(){},methods:{}},_sfc_main$e=Object.assign(__default__$a,{__name:"Iiko",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("ul",_hoisted_4$b,[createBaseVNode("li",_hoisted_5$b,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[0]||(a[0]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},[_hoisted_6$a,createTextVNode(" Настройка")],2)]),createBaseVNode("li",_hoisted_7$a,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[1]||(a[1]=i=>t.tab=1),href:"javascript:void(0)"},[_hoisted_8$a,createTextVNode(" Продукты")],2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_9$a,[!t.load&&t.currentBot?(openBlock(),createBlock(IikoForm,{key:0,modelValue:t.currentBot.iiko,"onUpdate:modelValue":a[2]||(a[2]=i=>t.currentBot.iiko=i)},null,8,["modelValue"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_10$9,[createVNode(IikoProducts)])):createCommentVNode("",!0)])]))}}),Iiko=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$e},Symbol.toStringTag,{value:"Module"})),_sfc_main$d={props:["data","bot"],components:{Vue3JsonEditor},data(){return{load:!1,bitrixForm:{id:null,url:null,is_active:!1,bot_id:null,config:[]}}},mounted(){this.data&&this.$nextTick(()=>{this.bitrixForm.id=this.data.id||null,this.bitrixForm.url=this.data.url||null,this.bitrixForm.is_active=this.data.is_active||!1,this.bitrixForm.config=this.data.config||[],this.bitrixForm.bot_id=this.data.bot_id||this.bot.id||null})},methods:{checkConnection(){this.$notify({title:"Работа с Bitrix",text:"Отправили на этот url тестовый запрос!"});let o=new FormData;Object.keys(this.bitrixForm).forEach(t=>{const a=this.bitrixForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("checkBitrixURL",{bitrixForm:o}).then(t=>{this.$notify({title:"Работа с Bitrix",text:"Данные CRM успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Работа с Bitrix",text:"Ошибка отправки",type:"error"})})},submit(){let o=new FormData;Object.keys(this.bitrixForm).forEach(t=>{const a=this.bitrixForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("storeBitrix",{bitrixForm:o}).then(t=>{this.$notify({title:"Работа с Bitrix",text:"Данные CRM успешно сохранены",type:"success"}),this.$emit("callback")}).catch(t=>{})}}},_hoisted_1$d={class:"input-group mb-2"},_hoisted_2$c={class:"form-floating"},_hoisted_3$c=createBaseVNode("label",{for:"bitrixForm-url"},"URL для сбора данных",-1),_hoisted_4$a={class:"input-group-text",id:"basic-addon1"},_hoisted_5$a=["disabled"],_hoisted_6$9=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_7$9=[_hoisted_6$9],_hoisted_8$9={class:"form-check form-switch"},_hoisted_9$9={class:"form-check-label",for:"bitrixForm-is_active"},_hoisted_10$8=["disabled"];function _sfc_render$3(o,t,a,i,s,r){return openBlock(),createElementBlock("form",{onSubmit:t[3]||(t[3]=withModifiers((...n)=>r.submit&&r.submit(...n),["prevent"]))},[createBaseVNode("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$c,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>s.bitrixForm.url=n),class:"form-control",id:"bitrixForm-url",placeholder:"name@example.com"},null,512),[[vModelText,s.bitrixForm.url]]),_hoisted_3$c]),createBaseVNode("span",_hoisted_4$a,[createBaseVNode("button",{type:"button",disabled:(s.bitrixForm.url||"").length===0,onClick:t[1]||(t[1]=(...n)=>r.checkConnection&&r.checkConnection(...n)),class:"btn text-primary p-1"},_hoisted_7$9,8,_hoisted_5$a)])]),createBaseVNode("div",_hoisted_8$9,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=n=>s.bitrixForm.is_active=n),type:"checkbox",role:"switch",id:"bitrixForm-is_active"},null,512),[[vModelCheckbox,s.bitrixForm.is_active]]),createBaseVNode("label",_hoisted_9$9,[createTextVNode(" Сбор данных: "),createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":s.bitrixForm.is_active})},"вкл",2),createTextVNode(" / "),createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":!s.bitrixForm.is_active})},"выкл",2)])]),createBaseVNode("button",{disabled:!s.bitrixForm.url,class:"w-100 btn btn-primary p-3 my-3"},"Сохранить ",8,_hoisted_10$8)],32)}const BitrixForm=_export_sfc(_sfc_main$d,[["render",_sfc_render$3]]),_hoisted_1$c={class:"container my-3"},_hoisted_2$b={class:"row"},_hoisted_3$b={class:"col-12"},_hoisted_4$9={class:"fw-bold d-flex justify-content-between align-items-center pb-2"},_hoisted_5$9=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_6$8=[_hoisted_5$9],_hoisted_7$8={key:0,class:"list-group mb-2"},_hoisted_8$8=["onClick"],_hoisted_9$8=["onClick"],_hoisted_10$7={key:1,class:"alert alert-light"},_hoisted_11$7=createBaseVNode("strong",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_12$7={key:1,class:"alert-light alert"},_hoisted_13$7=createBaseVNode("p",null,"Загружаем данные...",-1),_hoisted_14$7=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_15$7=[_hoisted_13$7,_hoisted_14$7],_hoisted_16$7={class:"col-12"},_hoisted_17$7=createBaseVNode("h6",{class:"fw-bold d-flex justify-content-between align-items-center pb-2"},"Данные подключения",-1),__default__$9={data(){return{bitrix:[],selected:null,load:!1}},computed:{currentBot(){return window.currentBot||null}},mounted(){this.loadBitrix()},methods:{loadBitrix(){this.load=!0,this.$store.dispatch("loadBitrix").then(o=>{this.bitrix=o.data||[],this.load=!1}).catch(()=>{this.load=!1})},removeItem(o){this.$store.dispatch("removeBitrixItem",{id:o.id}).then(t=>{this.loadBitrix(),this.$notify({title:"Битрикс24",text:"Подключение успешно удалено",type:"success"})}).catch(()=>{this.loadBitrix(),this.$notify({title:"Битрикс24",text:"Ошибка удаления подключения",type:"error"})})},selectItem(o){this.selected=o,this.load=!0,this.$nextTick(()=>{this.load=!1})}}},_sfc_main$c=Object.assign(__default__$9,{__name:"Bitrix",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$b,[createBaseVNode("h6",_hoisted_4$9,[createTextVNode("Доступные подключения "),t.selected!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"text-decoration-none text-primary px-1",onClick:a[0]||(a[0]=i=>t.selectItem(null))},_hoisted_6$8)):createCommentVNode("",!0)]),t.load?(openBlock(),createElementBlock("div",_hoisted_12$7,_hoisted_15$7)):(openBlock(),createElementBlock(Fragment,{key:0},[(t.bitrix||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_7$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.bitrix,i=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item",{"border-success":i.is_active,"border-error":!i.is_active,"bg-success text-white":(t.selected||{id:null}).id===i.id}]),style:{"word-wrap":"break-word"}},[createBaseVNode("p",{onClick:s=>t.selectItem(i)},toDisplayString(i.url||"не указан"),9,_hoisted_8$8),createBaseVNode("a",{onClick:s=>t.removeItem(i),href:"javascript:void(0)"},"Удалить",8,_hoisted_9$8)],2))),256))])):(openBlock(),createElementBlock("div",_hoisted_10$7,[_hoisted_11$7,createTextVNode(" Еще нет добавленных данных по CRM ")]))],64))]),createBaseVNode("div",_hoisted_16$7,[_hoisted_17$7,!t.load&&t.currentBot?(openBlock(),createBlock(BitrixForm,{key:0,bot:t.currentBot,data:t.selected,onCallback:t.loadBitrix},null,8,["bot","data","onCallback"])):createCommentVNode("",!0)])])]))}}),Bitrix=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$c},Symbol.toStringTag,{value:"Module"})),_sfc_main$b={data(){return{hasConnect:!1,frontPadForm:{hook_url:null,channel:null,affiliate:1,point:1,token:null,statuses:[{value:1,key:"new",title:"Новый"}],bot_id:null,pays:[{value:1,key:"cash",title:"Наличные"},{value:2,key:"card",title:"Перевод на карту"}]}}},computed:{bot(){return window.currentBot}},mounted(){this.$nextTick(()=>{var o,t;(o=this.bot)!=null&&o.frontPad&&(this.frontPadForm.hook_url=this.bot.frontPad.hook_url||null,this.frontPadForm.channel=this.bot.frontPad.channel||null,this.frontPadForm.affiliate=this.bot.frontPad.affiliate||null,this.frontPadForm.point=this.bot.frontPad.point||null,this.frontPadForm.token=this.bot.frontPad.token||null,this.frontPadForm.bot_id=this.bot.frontPad.bot_id||this.bot.id||null,this.bot.frontPad.pays!=null&&(this.frontPadForm.pays=this.bot.frontPad.pays),this.bot.statuses!=null&&(this.frontPadForm.statuses=this.bot.frontPad.statuses)),this.frontPadForm.bot_id=((t=this.bot.frontPad)==null?void 0:t.bot_id)||this.bot.id||null})},methods:{submit(){let o=new FormData;Object.keys(this.frontPadForm).forEach(t=>{const a=this.frontPadForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.$store.dispatch("saveFrontPad",{frontPadForm:o}).then(t=>{this.$notify("Данные CRM успешно сохранены"),window.location.reload()}).catch(t=>{})}}},_hoisted_1$b=createBaseVNode("h3",null,"Настройка FrontPad",-1),_hoisted_2$a={class:"form-floating mb-2"},_hoisted_3$a=createBaseVNode("label",{id:"token"}," Токен интеграции ",-1),_hoisted_4$8=createBaseVNode("div",{class:"alert alert-light"},' Данные брать из справочника FrontPad "Каналы продаж". Создать канал. Telegram. Указать значение для API ',-1),_hoisted_5$8={class:"form-floating mb-2"},_hoisted_6$7=createBaseVNode("label",{class:"form-label",id:"channel"}," Канал продаж ",-1),_hoisted_7$7={class:"form-floating mb-2"},_hoisted_8$7=createBaseVNode("label",{id:"affiliate"}," Филиал ",-1),_hoisted_9$7={class:"form-floating mb-2"},_hoisted_10$6=createBaseVNode("label",{class:"form-label",id:"point"}," Точка продаж ",-1),_hoisted_11$6=createBaseVNode("div",{class:"alert alert-light",role:"alert"},' Данные брать из справочника FrontPad "Статусы". Указать значение для API ',-1),_hoisted_12$6={key:0,class:"card mb-2 p-0"},_hoisted_13$6=createBaseVNode("div",{class:"card-header"},[createBaseVNode("h6",{class:"fw-bold mb-0"},"Статусы")],-1),_hoisted_14$6={class:"card-body"},_hoisted_15$6={class:"table"},_hoisted_16$6=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"Название"),createBaseVNode("th",{scope:"col"},"Ключ"),createBaseVNode("th",{scope:"col"},"Значение")])],-1),_hoisted_17$6=["onUpdate:modelValue"],_hoisted_18$6=createBaseVNode("div",{class:"alert alert-light",role:"alert"},' Данные брать из справочника FrontPad "Варианты оплат". Указать значение для API ',-1),_hoisted_19$6={key:1,class:"card mb-2 p-0"},_hoisted_20$5=createBaseVNode("div",{class:"card-header"},[createBaseVNode("h6",{class:"fw-bold mb-0"},"Типы оплаты")],-1),_hoisted_21$5={class:"card-body"},_hoisted_22$5={class:"table"},_hoisted_23$5=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"Название"),createBaseVNode("th",{scope:"col"},"Ключ"),createBaseVNode("th",{scope:"col"},"Значение")])],-1),_hoisted_24$5=["onUpdate:modelValue"],_hoisted_25$5=createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 w-100"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-1"}),createTextVNode(" Сохранить настройку ")],-1);function _sfc_render$2(o,t,a,i,s,r){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$b,createBaseVNode("form",{onSubmit:t[4]||(t[4]=withModifiers((...n)=>r.submit&&r.submit(...n),["prevent"]))},[createBaseVNode("div",_hoisted_2$a,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[0]||(t[0]=n=>s.frontPadForm.token=n),"aria-describedby":"token"},null,512),[[vModelText,s.frontPadForm.token]]),_hoisted_3$a]),_hoisted_4$8,createBaseVNode("div",_hoisted_5$8,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"channel","aria-label":"channel","onUpdate:modelValue":t[1]||(t[1]=n=>s.frontPadForm.channel=n),"aria-describedby":"channel"},null,512),[[vModelText,s.frontPadForm.channel]]),_hoisted_6$7]),createBaseVNode("div",_hoisted_7$7,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Филиал","aria-label":"Филиал","onUpdate:modelValue":t[2]||(t[2]=n=>s.frontPadForm.affiliate=n),"aria-describedby":"Филиал"},null,512),[[vModelText,s.frontPadForm.affiliate]]),_hoisted_8$7]),createBaseVNode("div",_hoisted_9$7,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Точка продаж","aria-label":"Точка продаж","onUpdate:modelValue":t[3]||(t[3]=n=>s.frontPadForm.point=n),"aria-describedby":"Точка продаж"},null,512),[[vModelText,s.frontPadForm.point]]),_hoisted_10$6]),_hoisted_11$6,s.frontPadForm.statuses?(openBlock(),createElementBlock("div",_hoisted_12$6,[_hoisted_13$6,createBaseVNode("div",_hoisted_14$6,[createBaseVNode("table",_hoisted_15$6,[_hoisted_16$6,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.frontPadForm.statuses,(n,l)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(n.title||"-"),1),createBaseVNode("td",null,toDisplayString(n.key||"-"),1),createBaseVNode("td",null,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Статус","aria-label":"Статус","onUpdate:modelValue":c=>s.frontPadForm.statuses[l].value=c,"aria-describedby":"Статус"},null,8,_hoisted_17$6),[[vModelText,s.frontPadForm.statuses[l].value]])])]))),256))])])])])):createCommentVNode("",!0),_hoisted_18$6,s.frontPadForm.pays?(openBlock(),createElementBlock("div",_hoisted_19$6,[_hoisted_20$5,createBaseVNode("div",_hoisted_21$5,[createBaseVNode("table",_hoisted_22$5,[_hoisted_23$5,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.frontPadForm.pays,(n,l)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(n.title||"-"),1),createBaseVNode("td",null,toDisplayString(n.key||"-"),1),createBaseVNode("td",null,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Статус","aria-label":"Статус","onUpdate:modelValue":c=>s.frontPadForm.pays[l].value=c,"aria-describedby":"Статус"},null,8,_hoisted_24$5),[[vModelText,s.frontPadForm.pays[l].value]])])]))),256))])])])])):createCommentVNode("",!0),_hoisted_25$5],32)],64)}const FrontPadForm=_export_sfc(_sfc_main$b,[["render",_sfc_render$2]]),_hoisted_1$a={class:"container my-3"},_hoisted_2$9={class:"row"},_hoisted_3$9={class:"col-12"},__default__$8={data(){return{}},mounted(){},methods:{}},_sfc_main$a=Object.assign(__default__$8,{__name:"FrontPad",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$9,[createVNode(FrontPadForm)])])]))}}),FrontPad=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$a},Symbol.toStringTag,{value:"Module"})),_sfc_main$9={data(){return{file:null,sending:!1,need_video:!1,need_document:!1,callbackForm:{message:null,images:[],videos:[],documents:[]}}},watch:{need_video:{handler:function(o){this.need_video||(this.callbackForm.videos=[])},deep:!0},need_document:{handler:function(o){this.need_video||(this.callbackForm.documents=[])},deep:!0}},computed:{...mapGetters(["getSelf"]),self(){return this.getSelf},canSend(){return!this.sending&&((this.callbackForm.images||[]).length>0||(this.callbackForm.videos||[]).length>0||(this.callbackForm.documents||[]).length>0)},tg(){return window.Telegram.WebApp}},mounted(){},methods:{onChangePhotos(o){const t=o.target.files||[];for(let a=0;a<t.length;a++)this.callbackForm.images.push(t[a])},onChangeVideos(o){const t=o.target.files||[];for(let a=0;a<t.length;a++)this.callbackForm.videos.push(t[a])},onChangeDocuments(o){const t=o.target.files||[];for(let a=0;a<t.length;a++)this.callbackForm.documents.push(t[a])},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.callbackForm.images.splice(o,1)},removeVideo(o){this.callbackForm.videos.splice(o,1)},removeDocument(o){this.callbackForm.documents.splice(o,1)},onAdvancedUpload(o){},submitCallback(){let o=new FormData;this.sending=!0,Object.keys(this.callbackForm).forEach(t=>{const a=this.callbackForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),this.callbackForm.images.length>0&&(this.callbackForm.images.forEach(t=>{o.append("photos[]",t)}),o.delete("images")),this.callbackForm.documents.length>0&&(this.callbackForm.documents.forEach(t=>{o.append("documents[]",t)}),o.delete("documents")),this.callbackForm.videos.length>0&&(this.callbackForm.videos.forEach(t=>{o.append("videos[]",t)}),o.delete("videos")),this.$store.dispatch("uploadFileForm",{callbackForm:o}).then(t=>{this.callbackForm={message:null,videos:[],documents:[],images:[]},this.$notify({title:"Загрузка файлов",text:"Спасибо, файлы загружены"}),this.sending=!1,this.tg.close()}).catch(t=>{this.sending=!1})}}},_hoisted_1$9={key:0,class:"container py-3"},_hoisted_2$8=createBaseVNode("h3",null,"Загрузка файлов",-1),_hoisted_3$8=createBaseVNode("p",{class:"alert alert-light"},[createTextVNode(" Внимание! Вы можете загрузить до "),createBaseVNode("strong",{class:"fw-bold text-primary"},"10"),createTextVNode(" фотографий, "),createBaseVNode("strong",{class:"fw-bold text-primary"},"1"),createTextVNode(" видео-ролик и "),createBaseVNode("strong",{class:"fw-bold text-primary"},"1"),createTextVNode(" документ. ")],-1),_hoisted_4$7=createBaseVNode("h6",{class:"my-2 text-center fw-bold"},"Прикрепить фотографию ",-1),_hoisted_5$7={class:"form-floating mb-2"},_hoisted_6$6=["disabled"],_hoisted_7$6=createBaseVNode("label",{for:"menu-photos-upload"},"Фотографии",-1),_hoisted_8$6={class:"list-group list-group-numbered mb-2"},_hoisted_9$6={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_10$5={class:"ms-2 me-auto",style:{"word-break":"break-all"}},_hoisted_11$5=["onClick"],_hoisted_12$5={class:"form-check mb-2"},_hoisted_13$5=createBaseVNode("label",{class:"form-check-label",for:"need_attach_video"}," Нужно прикрепить видео ",-1),_hoisted_14$5=createBaseVNode("h6",{class:"mb-2 text-center fw-bold"},"Прикрепить видео",-1),_hoisted_15$5={class:"form-floating mb-2"},_hoisted_16$5=["disabled"],_hoisted_17$5=createBaseVNode("label",{for:"menu-video"},"Видео",-1),_hoisted_18$5={class:"list-group list-group-numbered mb-2"},_hoisted_19$5={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_20$4={class:"ms-2 me-auto",style:{"word-break":"break-all"}},_hoisted_21$4=["onClick"],_hoisted_22$4={class:"form-check mb-2"},_hoisted_23$4=createBaseVNode("label",{class:"form-check-label",for:"need_attach_file"}," Нужно прикрепить файл ",-1),_hoisted_24$4=createBaseVNode("h6",{class:"mb-2 text-center fw-bold"},"Прикрепить файл",-1),_hoisted_25$4={class:"form-floating mb-2"},_hoisted_26$4=["disabled"],_hoisted_27$4=createBaseVNode("label",{for:"menu-document"},"Документ",-1),_hoisted_28$4={class:"list-group list-group-numbered mb-2"},_hoisted_29$4={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_30$4={class:"ms-2 me-auto",style:{"word-break":"break-all"}},_hoisted_31$4=["onClick"],_hoisted_32$4={class:"form-floating"},_hoisted_33$3=createBaseVNode("label",{for:"callbackForm-message"},"Пояснение",-1),_hoisted_34$2={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_35$2=["disabled"];function _sfc_render$1(o,t,a,i,s,r){return r.self?(openBlock(),createElementBlock("div",_hoisted_1$9,[_hoisted_2$8,_hoisted_3$8,createBaseVNode("form",{onSubmit:t[6]||(t[6]=withModifiers((...n)=>r.submitCallback&&r.submitCallback(...n),["prevent"]))},[_hoisted_4$7,createBaseVNode("div",_hoisted_5$7,[createBaseVNode("input",{type:"file",id:"menu-photos-upload",accept:"image/*",onChange:t[0]||(t[0]=(...n)=>r.onChangePhotos&&r.onChangePhotos(...n)),class:"form-control",disabled:(s.callbackForm.images||[]).length===10,placeholder:"name@example.com",multiple:!0},null,40,_hoisted_6$6),_hoisted_7$6]),createBaseVNode("ol",_hoisted_8$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.callbackForm.images,(n,l)=>(openBlock(),createElementBlock("li",_hoisted_9$6,[createBaseVNode("div",_hoisted_10$5,toDisplayString(n.name||"не указан"),1),createBaseVNode("span",{onClick:c=>r.removePhoto(l),class:"badge text-bg-primary rounded-pill cursor-pointer"}," удалить ",8,_hoisted_11$5)]))),256))]),createBaseVNode("div",_hoisted_12$5,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=n=>s.need_video=n),type:"checkbox",value:"",id:"need_attach_video"},null,512),[[vModelCheckbox,s.need_video]]),_hoisted_13$5]),s.need_video?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_14$5,createBaseVNode("div",_hoisted_15$5,[createBaseVNode("input",{type:"file",id:"menu-video",accept:"video/*",disabled:(s.callbackForm.videos||[]).length===1,onChange:t[2]||(t[2]=(...n)=>r.onChangeVideos&&r.onChangeVideos(...n)),class:"form-control",placeholder:"name@example.com"},null,40,_hoisted_16$5),_hoisted_17$5]),createBaseVNode("ol",_hoisted_18$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.callbackForm.videos,(n,l)=>(openBlock(),createElementBlock("li",_hoisted_19$5,[createBaseVNode("div",_hoisted_20$4,toDisplayString(n.name||"не указан"),1),createBaseVNode("span",{onClick:c=>r.removeVideo(l),class:"badge text-bg-primary rounded-pill cursor-pointer"}," удалить ",8,_hoisted_21$4)]))),256))])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_22$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=n=>s.need_document=n),type:"checkbox",value:"",id:"need_attach_file"},null,512),[[vModelCheckbox,s.need_document]]),_hoisted_23$4]),s.need_document?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_24$4,createBaseVNode("div",_hoisted_25$4,[createBaseVNode("input",{type:"file",id:"menu-document",accept:"application/pdf",disabled:(s.callbackForm.documents||[]).length===1,onChange:t[4]||(t[4]=(...n)=>r.onChangeDocuments&&r.onChangeDocuments(...n)),class:"form-control",placeholder:"name@example.com"},null,40,_hoisted_26$4),_hoisted_27$4]),createBaseVNode("ol",_hoisted_28$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.callbackForm.documents,(n,l)=>(openBlock(),createElementBlock("li",_hoisted_29$4,[createBaseVNode("div",_hoisted_30$4,toDisplayString(n.name||"не указан"),1),createBaseVNode("span",{onClick:c=>r.removeDocument(l),class:"badge text-bg-primary rounded-pill cursor-pointer"}," удалить ",8,_hoisted_31$4)]))),256))])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$4,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%"},"onUpdate:modelValue":t[5]||(t[5]=n=>s.callbackForm.message=n),placeholder:"Leave a comment here",id:"callbackForm-message"},null,512),[[vModelText,s.callbackForm.message]]),_hoisted_33$3]),createBaseVNode("nav",_hoisted_34$2,[createBaseVNode("button",{type:"submit",disabled:!r.canSend,class:"btn btn-primary mt-2 p-3 w-100"}," Отправить сообщение ",8,_hoisted_35$2)])],32)])):createCommentVNode("",!0)}const UploadV2=_export_sfc(_sfc_main$9,[["render",_sfc_render$1]]),FileUpload=Object.freeze(Object.defineProperty({__proto__:null,default:UploadV2},Symbol.toStringTag,{value:"Module"})),_hoisted_1$8={key:0,class:"container py-3"},_hoisted_2$7={class:"d-flex justify-content-center align-items-center",style:{"min-height":"350px"}},_hoisted_3$7={key:0,style:{width:"200px",height:"200px","border-radius":"50%",overflow:"hidden"}},_hoisted_4$6={class:"w-100 object-fit-cover"},_hoisted_5$6={key:1,style:{width:"200px",height:"200px"}},_hoisted_6$5={class:"w-100 object-fit-cover"},_hoisted_7$5=createBaseVNode("h6",{class:"opacity-75 mb-3"},"Информация о профиле друга",-1),_hoisted_8$5={class:"list-group"},_hoisted_9$5={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_10$4=createBaseVNode("span",null,"Имя",-1),_hoisted_11$4={style:{"font-size":"12px"},class:"text-primary fw-bold"},_hoisted_12$4={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_13$4=createBaseVNode("span",null,"ID",-1),_hoisted_14$4={class:"text-primary fw-bold"},_hoisted_15$4={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_16$4=createBaseVNode("span",null,"Телефон",-1),_hoisted_17$4={class:"text-primary fw-bold cursor-pointer"},_hoisted_18$4={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_19$4=createBaseVNode("span",null,"Город",-1),_hoisted_20$3={class:"text-primary fw-bold"},_hoisted_21$3={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_22$3=createBaseVNode("span",null,"День рождения",-1),_hoisted_23$3={class:"text-primary fw-bold"},_hoisted_24$3={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},_hoisted_25$3=createBaseVNode("span",null,"Приглашено друзей",-1),_hoisted_26$3={class:"text-primary fw-bold"},_hoisted_27$3={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},_hoisted_28$3=createBaseVNode("span",null,"Количество заказов",-1),_hoisted_29$3={class:"text-primary fw-bold"},_hoisted_30$3={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},_hoisted_31$3=createBaseVNode("span",null,"Получено баллов",-1),_hoisted_32$3={class:"text-primary fw-bold"},__default__$7={data(){return{photos:null,profile:null,friend_id:null}},computed:{tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},mounted(){const o=new URLSearchParams(window.location.search);this.friend_id=JSON.parse(o.get("friend"))||null,this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click()),this.$router.back()}),this.$nextTick(()=>{this.friend_id&&this.loadUserPhotos()})},methods:{loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos",{bot_user_id:this.friend_id}).then(o=>{console.log(o),this.photos=o.photos.result.photos||null,this.profile=o.profile}).catch(()=>{this.$notify({title:"Ошибочка",text:"Пользователь не найден!",type:"error"})})}}},_sfc_main$8=Object.assign(__default__$7,{__name:"Referral",setup(o){return(t,a)=>{const i=resolveDirective("lazy");return t.profile?(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$7,[(t.photos||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_3$7,[withDirectives(createBaseVNode("img",_hoisted_4$6,null,512),[[i,"/file-by-file-id-and-bot-domain/"+t.photos[0][0].file_id+"/"+t.currentBot.bot_domain]])])):(openBlock(),createElementBlock("div",_hoisted_5$6,[withDirectives(createBaseVNode("img",_hoisted_6$5,null,512),[[i,"/images/shop-v2/profile.png"]])]))]),_hoisted_7$5,createBaseVNode("ul",_hoisted_8$5,[createBaseVNode("li",_hoisted_9$5,[_hoisted_10$4,createBaseVNode("span",_hoisted_11$4,toDisplayString(t.profile.fio_from_telegram||"не указано"),1)]),createBaseVNode("li",_hoisted_12$4,[_hoisted_13$4,createBaseVNode("span",_hoisted_14$4,toDisplayString(t.profile.telegram_chat_id||"-"),1)]),createBaseVNode("li",_hoisted_15$4,[_hoisted_16$4,createBaseVNode("span",_hoisted_17$4,toDisplayString(t.profile.phone||"номер не указан"),1)]),createBaseVNode("li",_hoisted_18$4,[_hoisted_19$4,createBaseVNode("span",_hoisted_20$3,toDisplayString(t.profile.city||"не указан"),1)]),createBaseVNode("li",_hoisted_21$3,[_hoisted_22$3,createBaseVNode("span",_hoisted_23$3,toDisplayString(t.profile.birthday||"-"),1)]),createBaseVNode("li",_hoisted_24$3,[_hoisted_25$3,createBaseVNode("span",_hoisted_26$3,toDisplayString(t.profile.friends_count||0),1)]),createBaseVNode("li",_hoisted_27$3,[_hoisted_28$3,createBaseVNode("span",_hoisted_29$3,toDisplayString(t.profile.order_count||0),1)]),createBaseVNode("li",_hoisted_30$3,[_hoisted_31$3,createBaseVNode("span",_hoisted_32$3,toDisplayString(t.profile.cashBack.amount||0)+" ₽",1)])])])):(openBlock(),createBlock(PreloaderV1,{key:1}))}}}),Referral=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$8},Symbol.toStringTag,{value:"Module"})),_hoisted_1$7={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_2$6={key:0,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-2 px-3 rounded-3 shadow-lg d-flex justify-content-between align-items-center"},_hoisted_3$6={class:"btn-group dropup"},_hoisted_4$5=createBaseVNode("button",{class:"btn btn-dark dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cart-shopping mr-2"})],-1),_hoisted_5$5={class:"dropdown-menu"},_hoisted_6$4={class:"d-block",style:{position:"relative"}},_hoisted_7$4={key:0,class:"bg-white text-primary sup-badge"},_hoisted_8$4=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_9$4={key:1,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-secondary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},__default__$6={data(){return{settings:null}},computed:{...mapGetters(["inCart","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},canBy(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work||(this.settings?this.settings.can_buy_after_closing:!0):!0}},mounted(){var o;(o=this.bot.settings)!=null&&o.self_updated?this.settings=this.bot.settings:this.loadShopModuleData(),this.loadBasketData()},methods:{clearCart(){this.$store.dispatch("clearCart").then(()=>{this.$notify({title:"Корзина",text:"Корзина успешно очищена!",type:"success"})})},goToCart(){this.$router.push({name:"TableCartV2"})},loadBasketData(){return this.$store.dispatch("loadProductsInBasket")},loadShopModuleData(){return this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{this.settings||(this.settings={}),o&&Object.keys(o).forEach(t=>{t&&(this.settings[t]=o[t])}),this.settings_loaded=!0})})}}},_sfc_main$7=Object.assign(__default__$6,{__name:"TableMenu",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$2j,{settings:t.settings},null,8,["settings"]),createBaseVNode("nav",_hoisted_1$7,[t.canBy?(openBlock(),createElementBlock("button",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$6,[_hoisted_4$5,createBaseVNode("ul",_hoisted_5$5,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:a[0]||(a[0]=(...i)=>t.clearCart&&t.clearCart(...i)),href:"javascript:void(0)"},"Очистить корзину")])])]),createBaseVNode("div",{class:"d-flex justify-content-between align-items-center w-100 px-2",onClick:a[1]||(a[1]=(...i)=>t.goToCart&&t.goToCart(...i))},[createBaseVNode("span",_hoisted_6$4,[t.cartTotalCount>0?(openBlock(),createElementBlock("sup",_hoisted_7$4,toDisplayString(t.cartTotalCount),1)):createCommentVNode("",!0),createTextVNode("Ваш заказ ")]),createBaseVNode("strong",null,[createTextVNode(toDisplayString(t.cartTotalPrice||0),1),_hoisted_8$4,createTextVNode("₽")])])])):(openBlock(),createElementBlock("p",_hoisted_9$4," В данный момент покупки недоступны "))])],64))}}),TableMenu=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$7},Symbol.toStringTag,{value:"Module"})),_hoisted_1$6={class:"container py-3"},_hoisted_2$5={class:"row"},_hoisted_3$5={class:"col-12"},_hoisted_4$4={class:"col-12 justify-content-center d-flex"},_hoisted_5$4={class:"nav nav-tabs"},_hoisted_6$3={class:"nav-item"},_hoisted_7$3={key:0,class:"nav-item"},_hoisted_8$3={key:1,class:"nav-item"},_hoisted_9$3={key:0,class:"card my-3"},_hoisted_10$3={class:"card-header bg-primary text-white"},_hoisted_11$3={class:"card-body"},_hoisted_12$3={class:"card-title"},_hoisted_13$3={class:"card-text"},_hoisted_14$3=createBaseVNode("strong",null,"Имя:",-1),_hoisted_15$3=createBaseVNode("br",null,null,-1),_hoisted_16$3=createBaseVNode("strong",null,"Телефон:",-1),_hoisted_17$3=createBaseVNode("br",null,null,-1),_hoisted_18$3=createBaseVNode("strong",null,"Количество персон:",-1),_hoisted_19$3=createBaseVNode("br",null,null,-1),_hoisted_20$2=createBaseVNode("strong",null,"Описание:",-1),_hoisted_21$2={key:0,class:"alert alert-danger my-2 text-black"},_hoisted_22$2=createBaseVNode("strong",{class:"fw-bold text-primary"},"закрыт",-1),_hoisted_23$2=createBaseVNode("h6",{class:"divider my-3"},"Информация",-1),_hoisted_24$2={class:"list-group list-group-flush"},_hoisted_25$2={class:"list-group-item"},_hoisted_26$2={class:"d-flex justify-content-between mb-0"},_hoisted_27$2={class:"fw-bold text-primary"},_hoisted_28$2={class:"list-group-item"},_hoisted_29$2={class:"d-flex justify-content-between mb-0"},_hoisted_30$2={key:0,href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#creator-profile-modal",class:"fw-bold text-primary",style:{"text-align":"right"}},_hoisted_31$2=createBaseVNode("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1),_hoisted_32$2={key:1},_hoisted_33$2={class:"list-group-item"},_hoisted_34$1={class:"d-flex justify-content-between mb-0"},_hoisted_35$1={key:0,href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#waiter-profile-modal",style:{"text-align":"right"},class:"fw-bold text-primary"},_hoisted_36$1=createBaseVNode("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1),_hoisted_37$1={key:1},_hoisted_38$1={class:"list-group-item"},_hoisted_39$1={class:"d-flex justify-content-between mb-0"},_hoisted_40$1={class:"fw-bold text-primary"},_hoisted_41$1={class:"list-group-item"},_hoisted_42$1={class:"d-flex justify-content-between mb-0"},_hoisted_43$1={class:"fw-bold text-primary"},_hoisted_44$1={class:"list-group-item"},_hoisted_45$1={class:"d-flex justify-content-between mb-0"},_hoisted_46$1={class:"fw-bold text-primary"},_hoisted_47$1={class:"list-group-item"},_hoisted_48$1={class:"d-flex justify-content-between mb-0 fw-bold"},_hoisted_49$1={class:"fw-bold text-primary"},_hoisted_50$1={class:"list-group-item"},_hoisted_51$1={class:"d-flex justify-content-between mb-0"},_hoisted_52$1={class:"fw-bold text-primary"},_hoisted_53$1={class:"list-group-item"},_hoisted_54$1={class:"d-flex justify-content-between mb-0 fw-bold"},_hoisted_55$1={class:"fw-bold text-primary"},_hoisted_56$1=createBaseVNode("i",{class:"fa-regular fa-bell"},null,-1),_hoisted_57$1={key:0,class:"color-primary"},_hoisted_58$1={key:1,class:"color-primary"},_hoisted_59$1=createBaseVNode("p",{class:"divider mb-3"},[createBaseVNode("span",{class:"d-flex flex-column align-items-center"},[createTextVNode(" Бонусы "),createBaseVNode("small",{style:{"font-size":"10px"}},"(нажми для использования)")])],-1),_hoisted_60$1={class:"card-body"},_hoisted_61$1={class:"d-flex justify-content-between mb-0"},_hoisted_62$1=createBaseVNode("span",null," Списать баллы",-1),_hoisted_63$1=createBaseVNode("p",{class:"divider mb-3"},"Оплата заказа",-1),_hoisted_64$1={class:"form-floating mb-2"},_hoisted_65$1=createBaseVNode("label",{for:"floatingInput"},[createBaseVNode("i",{class:"fa-solid fa-signature"}),createTextVNode(" Ф.И.О.")],-1),_hoisted_66$1={class:"form-floating mb-2"},_hoisted_67$1=createBaseVNode("label",{for:"floatingInput"},[createBaseVNode("i",{class:"fa-solid fa-mobile-screen-button"}),createTextVNode(" Номер телефона")],-1),_hoisted_68$1={class:"form-check form-switch"},_hoisted_69$1=createBaseVNode("label",{class:"form-check-label",for:"client-have-birthday"},"У меня День рождения!",-1),_hoisted_70$1={key:0,class:"alert alert-light mb-2"},_hoisted_71$1=createBaseVNode("strong",{class:"fw-bold text-primary"},"паспорта",-1),_hoisted_72$1={class:"btn-group-vertical w-100"},_hoisted_73$1=["disabled"],_hoisted_74$1={key:0,class:"color-primary"},_hoisted_75$1=createBaseVNode("i",{class:"fa-solid fa-person-circle-check"},null,-1),_hoisted_76$1={class:"fw-bold small"},_hoisted_77$1={key:1,class:"color-primary"},_hoisted_78$1=["disabled"],_hoisted_79$1={key:0,class:"color-primary"},_hoisted_80$1=createBaseVNode("i",{class:"fa-solid fa-people-line"},null,-1),_hoisted_81$1={class:"fw-bold small"},_hoisted_82$1={key:1,class:"color-primary"},_hoisted_83$1={class:"alert alert-light my-2",style:{"text-align":"left"}},_hoisted_84$1={key:2,class:"alert alert-warning my-3"},_hoisted_85$1={key:0,class:"alert alert-danger my-2 text-black"},_hoisted_86$1=createBaseVNode("strong",{class:"fw-bold text-primary"},"закрыт",-1),_hoisted_87$1=createBaseVNode("h4",null,"Ваш текущий заказ",-1),_hoisted_88$1={key:0},_hoisted_89$1={key:1},_hoisted_90$1={key:2},_hoisted_91$1=createBaseVNode("p",{class:"alert alert-warning"}," Внимание! Оформленный заказ необходимо сразу оплатить! ",-1),_hoisted_92$1=["disabled"],_hoisted_93$1=createBaseVNode("i",{class:"fa-solid fa-clock-rotate-left"},null,-1),_hoisted_94$1={key:0,class:"color-white"},_hoisted_95$1={key:1,class:"color-white"},_hoisted_96$1={key:0,class:"alert alert-light"},_hoisted_97$1=["disabled"],_hoisted_98$1=createBaseVNode("i",{class:"fa-solid fa-clock-rotate-left"},null,-1),_hoisted_99$1={key:0,class:"color-white"},_hoisted_100$1={key:1,class:"color-white"},_hoisted_101$1={key:0,class:"alert alert-danger my-2 text-black"},_hoisted_102$1=createBaseVNode("strong",{class:"fw-bold text-primary"},"закрыт",-1),_hoisted_103$1=createBaseVNode("p",{class:"divider my-3"},"Заказы клиентов",-1),_hoisted_104$1={class:"my-3"},_hoisted_105$1={class:"fw-bold"},_hoisted_106$1={key:0},_hoisted_107$1=createBaseVNode("i",{class:"fa-solid fa-star text-primary"},null,-1),_hoisted_108$1=[_hoisted_107$1],_hoisted_109$1={class:"list-group"},_hoisted_110={class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_111={class:"fw-bold",style:{"font-size":"10px"}},_hoisted_112={class:"alert alert-light d-flex justify-content-between my-2"},_hoisted_113={class:"fw-bold"},_hoisted_114=["disabled"],_hoisted_115=createBaseVNode("i",{class:"fa-solid fa-file-arrow-down"},null,-1),_hoisted_116={key:0,class:"color-primary"},_hoisted_117={key:1,class:"color-primary"},_hoisted_118={class:"modal fade",id:"creator-profile-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_119={class:"modal-dialog modal-fullscreen"},_hoisted_120={class:"modal-content"},_hoisted_121=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Ваш профиль"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_122={class:"modal-body"},_hoisted_123={class:"modal fade",id:"waiter-profile-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_124={class:"modal-dialog modal-fullscreen"},_hoisted_125={class:"modal-content"},_hoisted_126=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Профиль официанта"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_127={class:"modal-body"},_hoisted_128={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_129=createBaseVNode("i",{class:"fa-solid fa-cart-shopping"},null,-1),__default__$5={data(){return{selectedTable:null,tab:0,spent_time_counter:0,loaded_settings:!0,sent_to_waiter:!1,settings:{},orderForm:{is_self:!1,action_prize:null,use_cashback:!1,client:{name:null,phone:null,have_birthday:!1},promo:{discount_in_percent:!1,discount:0,activate_price:0,code:null}},table:{id:null,bot_id:null,number:null,creator:null,creator_id:null,officiant:null,officiant_id:null,closed_at:null,additional_services:null,config:null,clients:[]},clients:[],basket:[],self_summary_price:0,self_summary_count:0,summary_price:0,summary_count:0}},computed:{...mapGetters(["getSelf","cartProducts","cartTotalCount","cartTotalPrice"]),self(){return window.self},bot(){return window.currentBot},servicePrice(){var t;let o=0;return(t=this.table.additional_services)==null||t.forEach(a=>{o+=a.price||0}),o},fullTablePrice(){return this.summary_price+this.servicePrice},cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,a=this.bot.max_cashback_use_percent||0,i=t*(a/100);return Math.min(i,o)}},mounted(){let o=localStorage.getItem("cashman_current_active_table")||null;o&&(this.selectedTable=JSON.parse(o)),this.loadCurrentTableData(),this.loadBasketData(),this.loadShopModuleData(),localStorage.getItem("cashman_self_table_counter")!=null&&this.startTimer(localStorage.getItem("cashman_self_table_counter"))},methods:{changeOrderStatus(){let o=localStorage.getItem("cashman_current_active_table")||null;o&&(o=JSON.parse(o)),this.$store.dispatch("acceptTableOder",{dataObject:{table_id:o==null?void 0:o.id,type:0}}).then(t=>{this.$notify({title:"Заказ",text:"Статус заказа успешно изменен",type:"success"}),this.tab=2,this.loadBasketData(),this.startTablePay()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка изменения статуса заказа",type:"error"})})},selectATable(o){this.selectedTable=null,this.$nextTick(()=>{this.selectedTable=o,localStorage.setItem("cashman_current_active_table",JSON.stringify(o)),this.loadCurrentTableData(),this.loadBasketData()})},startTablePay(){this.startTimer(10),this.$notify({title:"Корзина",text:"Формируем платежную ссылку!"});let o=new FormData;Object.keys(this.orderForm).forEach(t=>{const a=this.orderForm[t]||"";typeof a=="object"?o.append(t,JSON.stringify(a)):o.append(t,a)}),o.append("table_id",this.table.id),this.$store.dispatch("startTablePay",o).then(t=>{window.open(t.url,"_blank"),this.$notify({title:"Корзина",text:"Заказ успешно отправлен к вам чат!",type:"success"})}).catch(()=>{this.$notify({title:"Корзина",text:"Ошибка отправки сообщения!",type:"error"})})},fillForm(){this.orderForm.client.name=this.getSelf.name||this.getSelf.fio_from_telegram||null,this.orderForm.client.phone=this.getSelf.phone||null},sendOrderToMyChat(){this.startTimer(10),this.$store.dispatch("sendOrderToMyChat",{dataObject:{table_id:this.table.id}}).then(o=>{this.$notify({title:"Корзина",text:"Заказ успешно отправлен к вам чат!",type:"success"})}).catch(()=>{this.$notify({title:"Корзина",text:"Ошибка отправки сообщения!",type:"error"})})},callWaiter(o=!1){this.startTimer(10),this.$notify({title:"Корзина",text:"Отправляем запрос к официанту!"}),this.$store.dispatch("requestWaiterComing",{dataObject:{table_id:this.table.id,need_payment:o||!1}}).then(t=>{this.$notify({title:"Корзина",text:"Официанта оповещен и сейчас подойдет к вам!",type:"success"})}).catch(()=>{this.$notify({title:"Корзина",text:"Ошибка отправки оповещения официанту!",type:"error"})})},makeOrder(){this.sent_to_waiter=!0,this.startTimer(10),this.$store.dispatch("requestApproveTable",{dataObject:{table_id:this.table.id}}).then(o=>{this.$notify({title:"Корзина",text:"Ваш заказ передан официанту!",type:"success"})}).catch(()=>{this.sent_to_waiter=!1,this.$notify({title:"Корзина",text:"Ошибка отправки заказа официанту!",type:"error"})})},selectPrize(o){this.orderForm.action_prize=o},loadApprovedSelfTableBasket(){this.$store.dispatch("loadApprovedSelfTableBasket").then(o=>{console.log(o)})},loadShopModuleData(){return this.loaded_settings=!1,this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{o&&Object.keys(o).forEach(t=>{this.settings[t]=o[t]}),this.fillForm(),this.loaded_settings=!0})})},loadBasketData(){return this.$store.dispatch("loadProductsInBasket")},changeTab(o){this.tab=o,(this.tab===1||this.tab===2)&&this.loadCurrentTableData()},goToCatalog(){this.$router.push({name:"TableMenuV2"})},startTimer(o){this.spent_time_counter=parseInt(o)!=null?Math.min(parseInt(o),10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.spent_time_counter=null),localStorage.setItem("cashman_self_table_counter",this.spent_time_counter)},1e3)},loadCurrentTableData(){this.$store.dispatch("loadCurrentTableData").then(o=>{var a,i;let t=o.table;this.table.id=t.id||null,this.table.bot_id=t.bot_id||null,this.table.number=t.number||null,this.table.creator=t.creator||null,this.table.creator_id=t.creator_id||null,this.table.officiant=t.officiant||null,this.table.officiant_id=t.officiant_id||null,this.table.closed_at=t.closed_at||null,this.table.additional_services=t.additional_services||null,this.table.config=t.config||null,this.table.clients=t.clients||[],this.summary_price=o.summary_price||0,this.summary_count=o.summary_count||0,this.clients=o.clients||[],this.basket=o.basket||[],this.self_summary_price=((a=this.basket.find(s=>s.id===this.self.id))==null?void 0:a.summary_price)||0,this.self_summary_count=((i=this.basket.find(s=>s.id===this.self.id))==null?void 0:i.summary_count)||0})}}},_sfc_main$6=Object.assign(__default__$5,{__name:"TableCart",setup(o){return(t,a)=>{var s,r,n,l;const i=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[createVNode(BookingDropdown,{onSelect:t.selectATable},null,8,["onSelect"])]),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("ul",_hoisted_5$4,[createBaseVNode("li",_hoisted_6$3,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:a[0]||(a[0]=c=>t.changeTab(0)),"aria-current":"page",href:"javascript:void(0)"},"Столик",2)]),t.cartTotalCount>0?(openBlock(),createElementBlock("li",_hoisted_7$3,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:a[1]||(a[1]=c=>t.changeTab(1)),"aria-current":"page",href:"javascript:void(0)"},"Корзина",2)])):createCommentVNode("",!0),t.table.id?(openBlock(),createElementBlock("li",_hoisted_8$3,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===2}]),onClick:a[2]||(a[2]=c=>t.changeTab(2)),href:"javascript:void(0)"},"Заказы столика",2)])):createCommentVNode("",!0)])])]),t.tab===0?(openBlock(),createElementBlock(Fragment,{key:0},[t.selectedTable?(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",_hoisted_10$3," Бронь столика №"+toDisplayString(t.selectedTable.number),1),createBaseVNode("div",_hoisted_11$3,[createBaseVNode("h5",_hoisted_12$3," Дата: "+toDisplayString(t.selectedTable.booked_date_at)+" в "+toDisplayString(t.selectedTable.booked_time_at),1),createBaseVNode("p",_hoisted_13$3,[_hoisted_14$3,createTextVNode(" "+toDisplayString((s=t.selectedTable.booked_info)==null?void 0:s.name)+" ",1),_hoisted_15$3,_hoisted_16$3,createTextVNode(" "+toDisplayString((r=t.selectedTable.booked_info)==null?void 0:r.phone)+" ",1),_hoisted_17$3,_hoisted_18$3,createTextVNode(" "+toDisplayString((n=t.selectedTable.booked_info)==null?void 0:n.persons)+" ",1),_hoisted_19$3,_hoisted_20$2,createTextVNode(" "+toDisplayString(((l=t.selectedTable.booked_info)==null?void 0:l.description)||"-"),1)])])])):createCommentVNode("",!0),t.table.id?(openBlock(),createElementBlock(Fragment,{key:1},[t.table.closed_at!=null?(openBlock(),createElementBlock("div",_hoisted_21$2,[createTextVNode(" Внимание! Данный столик уже "),_hoisted_22$2,createTextVNode("! Операции со столиком недоступны! ")])):createCommentVNode("",!0),_hoisted_23$2,createBaseVNode("ul",_hoisted_24$2,[createBaseVNode("li",_hoisted_25$2,[createBaseVNode("p",_hoisted_26$2,[createTextVNode("Номер столика "),createBaseVNode("span",_hoisted_27$2,"#"+toDisplayString(t.table.number||"1"),1)])]),createBaseVNode("li",_hoisted_28$2,[createBaseVNode("p",_hoisted_29$2,[createTextVNode("Столик оформлен на "),t.table.creator?(openBlock(),createElementBlock("a",_hoisted_30$2,[_hoisted_31$2,createTextVNode(" "+toDisplayString(t.table.creator.fio_from_telegram||"-"),1)])):(openBlock(),createElementBlock("span",_hoisted_32$2," не указано "))])]),createBaseVNode("li",_hoisted_33$2,[createBaseVNode("p",_hoisted_34$1,[createTextVNode("Вас обслуживает "),t.table.officiant?(openBlock(),createElementBlock("a",_hoisted_35$1,[_hoisted_36$1,createTextVNode(" "+toDisplayString(t.table.officiant.name||t.table.officiant.fio_from_telegram||"-"),1)])):(openBlock(),createElementBlock("span",_hoisted_37$1," не указано "))])]),createBaseVNode("li",_hoisted_38$1,[createBaseVNode("p",_hoisted_39$1,[createTextVNode("Кол-во гостей "),createBaseVNode("span",_hoisted_40$1,toDisplayString(t.table.clients.length)+" чел.",1)])]),createBaseVNode("li",_hoisted_41$1,[createBaseVNode("p",_hoisted_42$1,[createTextVNode("Заказано позиция Вами "),createBaseVNode("span",_hoisted_43$1,toDisplayString(t.self_summary_count)+" ед.",1)])]),createBaseVNode("li",_hoisted_44$1,[createBaseVNode("p",_hoisted_45$1,[createTextVNode("Заказано позиция Всего "),createBaseVNode("span",_hoisted_46$1,toDisplayString(t.summary_count)+" ед.",1)])]),createBaseVNode("li",_hoisted_47$1,[createBaseVNode("p",_hoisted_48$1,[createTextVNode("Итого по Вам "),createBaseVNode("span",_hoisted_49$1,toDisplayString(t.self_summary_price)+" ₽ ("+toDisplayString(t.self_summary_count)+" ед.)",1)])]),createBaseVNode("li",_hoisted_50$1,[createBaseVNode("p",_hoisted_51$1,[createTextVNode("Дополнительные услуги "),createBaseVNode("span",_hoisted_52$1,toDisplayString((t.table.additional_services||[]).length)+" ед. на "+toDisplayString(t.servicePrice)+" ₽",1)])]),createBaseVNode("li",_hoisted_53$1,[createBaseVNode("p",_hoisted_54$1,[createTextVNode("Итого по столику "),createBaseVNode("span",_hoisted_55$1,toDisplayString(t.fullTablePrice)+" ₽ ("+toDisplayString(t.summary_count)+" ед.)",1)])])]),createBaseVNode("button",{type:"button",onClick:a[3]||(a[3]=c=>t.callWaiter(!1)),class:"btn btn-outline-primary p-3 w-100 my-3"},[_hoisted_56$1,t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_57$1,"Позвать официанта")):(openBlock(),createElementBlock("span",_hoisted_58$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))]),t.settings.need_bonuses_section?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_59$1,createBaseVNode("div",{class:normalizeClass(["card my-3",{"text-bg-primary":t.orderForm.use_cashback}]),onClick:a[4]||(a[4]=c=>t.orderForm.use_cashback=!t.orderForm.use_cashback)},[createBaseVNode("div",_hoisted_60$1,[createBaseVNode("p",_hoisted_61$1,[_hoisted_62$1,createBaseVNode("strong",null,toDisplayString(t.cashbackLimit)+"₽",1)])])],2)],64)):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:a[11]||(a[11]=withModifiers((...c)=>t.startTablePay&&t.startTablePay(...c),["prevent"]))},[_hoisted_63$1,createBaseVNode("div",_hoisted_64$1,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=c=>t.orderForm.client.name=c),id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.orderForm.client.name]]),_hoisted_65$1]),createBaseVNode("div",_hoisted_66$1,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=c=>t.orderForm.client.phone=c),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[i,["+7(###)###-##-##"]],[vModelText,t.orderForm.client.phone]]),_hoisted_67$1]),createBaseVNode("div",_hoisted_68$1,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[7]||(a[7]=c=>t.orderForm.client.have_birthday=c),type:"checkbox",role:"switch",id:"client-have-birthday"},null,512),[[vModelCheckbox,t.orderForm.client.have_birthday]]),_hoisted_69$1]),t.orderForm.client.have_birthday?(openBlock(),createElementBlock("div",_hoisted_70$1,[createTextVNode(" Если у вас День рождения, то при предъявлении "),_hoisted_71$1,createTextVNode(" вы сможете получить подарок от заведения:) ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_72$1,[createBaseVNode("button",{disabled:t.spent_time_counter>0,type:"submit",onClick:a[8]||(a[8]=c=>t.orderForm.is_self=!0),class:"btn btn-outline-primary p-3"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_74$1,[_hoisted_75$1,createTextVNode(" Оплатить за себя "),createBaseVNode("span",_hoisted_76$1,"("+toDisplayString(t.self_summary_price)+"₽)",1)])):(openBlock(),createElementBlock("span",_hoisted_77$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_73$1),createBaseVNode("button",{disabled:t.spent_time_counter>0,type:"submit",onClick:a[9]||(a[9]=c=>t.orderForm.is_self=!1),class:"btn btn-outline-primary p-3"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_79$1,[_hoisted_80$1,createTextVNode(" Оплатить за столик "),createBaseVNode("span",_hoisted_81$1,"("+toDisplayString(t.summary_price)+"₽)",1)])):(openBlock(),createElementBlock("span",_hoisted_82$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_78$1)]),createBaseVNode("div",_hoisted_83$1,[createTextVNode(" Для оплаты наличным расчетом "),createBaseVNode("span",{onClick:a[10]||(a[10]=c=>t.callWaiter(!0)),class:"fw-bold text-primary"},"пригласите официанта"),createTextVNode(" (нажав сюда). ")])],32)],64)):(openBlock(),createElementBlock("p",_hoisted_84$1," Данный столик не обслуживается! "))],64)):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock(Fragment,{key:1},[t.table.closed_at!=null?(openBlock(),createElementBlock("div",_hoisted_85$1,[createTextVNode(" Внимание! Данный столик уже "),_hoisted_86$1,createTextVNode("! Операции со столиком недоступны! ")])):createCommentVNode("",!0),t.loaded_settings?(openBlock(),createBlock(_sfc_main$25,{key:1,onSelectPrize:t.selectPrize,onChangeTab:t.changeTab,"simple-mode":!0,"form-data":t.orderForm,settings:t.settings},{"upper-text":withCtx(()=>[_hoisted_87$1,t.cartTotalCount>0?(openBlock(),createElementBlock("p",_hoisted_88$1," Данный заказ еще не передан в работу. Вам необходимо подтвердить его. Подтвержденный заказ нельзя отменить. ")):(openBlock(),createElementBlock("p",_hoisted_89$1," В корзине ничего нет:) "))]),_:1},8,["onSelectPrize","onChangeTab","form-data","settings"])):(openBlock(),createElementBlock("p",_hoisted_90$1," Вы еще ничего не выбрали из меню ")),t.selectedTable?(openBlock(),createElementBlock(Fragment,{key:3},[_hoisted_91$1,createBaseVNode("button",{onClick:a[12]||(a[12]=(...c)=>t.changeOrderStatus&&t.changeOrderStatus(...c)),disabled:t.cartTotalCount==0||t.spent_time_counter>0,class:"btn btn-primary w-100 p-3 mb-2"},[_hoisted_93$1,t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_94$1,"Подтвердить заказ")):(openBlock(),createElementBlock("span",_hoisted_95$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_92$1)],64)):(openBlock(),createElementBlock(Fragment,{key:4},[t.sent_to_waiter?(openBlock(),createElementBlock("p",_hoisted_96$1," Ваш заказ передан официанту! Как только он подтвердит заказ страница обновится и ваш заказ будет отображаться в общем списке заказов столика! ")):createCommentVNode("",!0),createBaseVNode("button",{onClick:a[13]||(a[13]=(...c)=>t.makeOrder&&t.makeOrder(...c)),disabled:t.cartTotalCount==0||t.spent_time_counter>0,class:"btn btn-primary w-100 p-3 mb-2"},[_hoisted_98$1,t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_99$1,"Оформить заказ")):(openBlock(),createElementBlock("span",_hoisted_100$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_97$1)],64))],64)):createCommentVNode("",!0),t.tab===2?(openBlock(),createElementBlock(Fragment,{key:2},[t.table.closed_at!=null?(openBlock(),createElementBlock("div",_hoisted_101$1,[createTextVNode(" Внимание! Данный столик уже "),_hoisted_102$1,createTextVNode("! Операции со столиком недоступны! ")])):createCommentVNode("",!0),_hoisted_103$1,t.basket.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.basket,c=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("p",_hoisted_104$1,[createTextVNode("Клиент "),createBaseVNode("span",_hoisted_105$1,toDisplayString(c.name||"-"),1),t.self.id===c.id?(openBlock(),createElementBlock("span",_hoisted_106$1,_hoisted_108$1)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_109$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.basket,m=>(openBlock(),createElementBlock("li",_hoisted_110,[createBaseVNode("span",null,[createBaseVNode("i",{class:normalizeClass([{"text-secondary":m.table_approved_at==null,"text-success":m.table_approved_at!=null},"fa-solid fa-check-double"])},null,2),createTextVNode(" "+toDisplayString(m.product.title),1)]),createBaseVNode("span",_hoisted_111,toDisplayString(m.count)+"ед. x "+toDisplayString(m.product.current_price)+"₽ = "+toDisplayString(m.count*m.product.current_price)+"₽",1)]))),256))]),createBaseVNode("p",_hoisted_112,[createTextVNode("Итого по клиенту "),createBaseVNode("span",_hoisted_113,toDisplayString(c.summary_price||0)+"₽",1)])],64))),256)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",disabled:t.spent_time_counter>0,onClick:a[14]||(a[14]=(...c)=>t.sendOrderToMyChat&&t.sendOrderToMyChat(...c)),class:"btn btn-outline-primary p-3 w-100"},[_hoisted_115,t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_116," Сохранить заказ в чат ")):(openBlock(),createElementBlock("span",_hoisted_117,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_114)],64)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_118,[createBaseVNode("div",_hoisted_119,[createBaseVNode("div",_hoisted_120,[_hoisted_121,createBaseVNode("div",_hoisted_122,[t.table.creator?(openBlock(),createBlock(ProfileCard,{key:0,"can-edit":!1,data:t.table.creator},null,8,["data"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_123,[createBaseVNode("div",_hoisted_124,[createBaseVNode("div",_hoisted_125,[_hoisted_126,createBaseVNode("div",_hoisted_127,[t.table.officiant?(openBlock(),createBlock(ProfileCard,{key:0,"can-edit":!1,data:t.table.officiant},null,8,["data"])):createCommentVNode("",!0)])])])]),createBaseVNode("nav",_hoisted_128,[createBaseVNode("button",{type:"button",onClick:a[15]||(a[15]=(...c)=>t.goToCatalog&&t.goToCatalog(...c)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"},[_hoisted_129,createTextVNode(" Вернуться к меню ")])])],64)}}}),TableCart=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$6},Symbol.toStringTag,{value:"Module"}));function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var momentExports={},moment={get exports(){return momentExports},set exports(o){momentExports=o}},hasRequiredMoment;function requireMoment(){return hasRequiredMoment||(hasRequiredMoment=1,function(o,t){(function(a,i){o.exports=i()})(commonjsGlobal,function(){var a;function i(){return a.apply(null,arguments)}function s(d){a=d}function r(d){return d instanceof Array||Object.prototype.toString.call(d)==="[object Array]"}function n(d){return d!=null&&Object.prototype.toString.call(d)==="[object Object]"}function l(d,_){return Object.prototype.hasOwnProperty.call(d,_)}function c(d){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(d).length===0;var _;for(_ in d)if(l(d,_))return!1;return!0}function m(d){return d===void 0}function p(d){return typeof d=="number"||Object.prototype.toString.call(d)==="[object Number]"}function y(d){return d instanceof Date||Object.prototype.toString.call(d)==="[object Date]"}function b(d,_){var u=[],f,g=d.length;for(f=0;f<g;++f)u.push(_(d[f],f));return u}function k(d,_){for(var u in _)l(_,u)&&(d[u]=_[u]);return l(_,"toString")&&(d.toString=_.toString),l(_,"valueOf")&&(d.valueOf=_.valueOf),d}function V(d,_,u,f){return Nl(d,_,u,f,!0).utc()}function F(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(d){return d._pf==null&&(d._pf=F()),d._pf}var J;Array.prototype.some?J=Array.prototype.some:J=function(d){var _=Object(this),u=_.length>>>0,f;for(f=0;f<u;f++)if(f in _&&d.call(this,_[f],f,_))return!0;return!1};function H(d){if(d._isValid==null){var _=x(d),u=J.call(_.parsedDateParts,function(g){return g!=null}),f=!isNaN(d._d.getTime())&&_.overflow<0&&!_.empty&&!_.invalidEra&&!_.invalidMonth&&!_.invalidWeekday&&!_.weekdayMismatch&&!_.nullInput&&!_.invalidFormat&&!_.userInvalidated&&(!_.meridiem||_.meridiem&&u);if(d._strict&&(f=f&&_.charsLeftOver===0&&_.unusedTokens.length===0&&_.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(d))d._isValid=f;else return f}return d._isValid}function he(d){var _=V(NaN);return d!=null?k(x(_),d):x(_).userInvalidated=!0,_}var se=i.momentProperties=[],ue=!1;function G(d,_){var u,f,g,w=se.length;if(m(_._isAMomentObject)||(d._isAMomentObject=_._isAMomentObject),m(_._i)||(d._i=_._i),m(_._f)||(d._f=_._f),m(_._l)||(d._l=_._l),m(_._strict)||(d._strict=_._strict),m(_._tzm)||(d._tzm=_._tzm),m(_._isUTC)||(d._isUTC=_._isUTC),m(_._offset)||(d._offset=_._offset),m(_._pf)||(d._pf=x(_)),m(_._locale)||(d._locale=_._locale),w>0)for(u=0;u<w;u++)f=se[u],g=_[f],m(g)||(d[f]=g);return d}function le(d){G(this,d),this._d=new Date(d._d!=null?d._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ue===!1&&(ue=!0,i.updateOffset(this),ue=!1)}function X(d){return d instanceof le||d!=null&&d._isAMomentObject!=null}function N(d){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+d)}function T(d,_){var u=!0;return k(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,d),u){var f=[],g,w,A,so=arguments.length;for(w=0;w<so;w++){if(g="",typeof arguments[w]=="object"){g+=`
[`+w+"] ";for(A in arguments[0])l(arguments[0],A)&&(g+=A+": "+arguments[0][A]+", ");g=g.slice(0,-2)}else g=arguments[w];f.push(g)}N(d+`
Arguments: `+Array.prototype.slice.call(f).join("")+`
`+new Error().stack),u=!1}return _.apply(this,arguments)},_)}var D={};function O(d,_){i.deprecationHandler!=null&&i.deprecationHandler(d,_),D[d]||(N(_),D[d]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function z(d){return typeof Function<"u"&&d instanceof Function||Object.prototype.toString.call(d)==="[object Function]"}function de(d){var _,u;for(u in d)l(d,u)&&(_=d[u],z(_)?this[u]=_:this["_"+u]=_);this._config=d,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ht(d,_){var u=k({},d),f;for(f in _)l(_,f)&&(n(d[f])&&n(_[f])?(u[f]={},k(u[f],d[f]),k(u[f],_[f])):_[f]!=null?u[f]=_[f]:delete u[f]);for(f in d)l(d,f)&&!l(_,f)&&n(d[f])&&(u[f]=k({},u[f]));return u}function oo(d){d!=null&&this.set(d)}var zt;Object.keys?zt=Object.keys:zt=function(d){var _,u=[];for(_ in d)l(d,_)&&u.push(_);return u};var Xt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function no(d,_,u){var f=this._calendar[d]||this._calendar.sameElse;return z(f)?f.call(_,u):f}function _o(d,_,u){var f=""+Math.abs(d),g=_-f.length,w=d>=0;return(w?u?"+":"":"-")+Math.pow(10,Math.max(0,g)).toString().substr(1)+f}var lo=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,go=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yo={},uo={};function fe(d,_,u,f){var g=f;typeof f=="string"&&(g=function(){return this[f]()}),d&&(uo[d]=g),_&&(uo[_[0]]=function(){return _o(g.apply(this,arguments),_[1],_[2])}),u&&(uo[u]=function(){return this.localeData().ordinal(g.apply(this,arguments),d)})}function Do(d){return d.match(/\[[\s\S]/)?d.replace(/^\[|\]$/g,""):d.replace(/\\/g,"")}function jo(d){var _=d.match(lo),u,f;for(u=0,f=_.length;u<f;u++)uo[_[u]]?_[u]=uo[_[u]]:_[u]=Do(_[u]);return function(g){var w="",A;for(A=0;A<f;A++)w+=z(_[A])?_[A].call(g,d):_[A];return w}}function Co(d,_){return d.isValid()?(_=Lo(_,d.localeData()),yo[_]=yo[_]||jo(_),yo[_](d)):d.localeData().invalidDate()}function Lo(d,_){var u=5;function f(g){return _.longDateFormat(g)||g}for(go.lastIndex=0;u>=0&&go.test(d);)d=d.replace(go,f),go.lastIndex=0,u-=1;return d}var Fo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function us(d){var _=this._longDateFormat[d],u=this._longDateFormat[d.toUpperCase()];return _||!u?_:(this._longDateFormat[d]=u.match(lo).map(function(f){return f==="MMMM"||f==="MM"||f==="DD"||f==="dddd"?f.slice(1):f}).join(""),this._longDateFormat[d])}var ts="Invalid date";function Go(){return this._invalidDate}var Qo="%d",Fs=/\d{1,2}/;function Uo(d){return this._ordinal.replace("%d",d)}var Ro={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Wo(d,_,u,f){var g=this._relativeTime[u];return z(g)?g(d,_,u,f):g.replace(/%d/i,d)}function xs(d,_){var u=this._relativeTime[d>0?"future":"past"];return z(u)?u(_):u.replace(/%s/i,_)}var Jo={};function No(d,_){var u=d.toLowerCase();Jo[u]=Jo[u+"s"]=Jo[_]=d}function Ao(d){return typeof d=="string"?Jo[d]||Jo[d.toLowerCase()]:void 0}function qo(d){var _={},u,f;for(f in d)l(d,f)&&(u=Ao(f),u&&(_[u]=d[f]));return _}var ps={};function Po(d,_){ps[d]=_}function fs(d){var _=[],u;for(u in d)l(d,u)&&_.push({unit:u,priority:ps[u]});return _.sort(function(f,g){return f.priority-g.priority}),_}function Oo(d){return d%4===0&&d%100!==0||d%400===0}function To(d){return d<0?Math.ceil(d)||0:Math.floor(d)}function co(d){var _=+d,u=0;return _!==0&&isFinite(_)&&(u=To(_)),u}function Yo(d,_){return function(u){return u!=null?(bs(this,d,u),i.updateOffset(this,_),this):os(this,d)}}function os(d,_){return d.isValid()?d._d["get"+(d._isUTC?"UTC":"")+_]():NaN}function bs(d,_,u){d.isValid()&&!isNaN(u)&&(_==="FullYear"&&Oo(d.year())&&d.month()===1&&d.date()===29?(u=co(u),d._d["set"+(d._isUTC?"UTC":"")+_](u,d.month(),Rs(u,d.month()))):d._d["set"+(d._isUTC?"UTC":"")+_](u))}function gs(d){return d=Ao(d),z(this[d])?this[d]():this}function ks(d,_){if(typeof d=="object"){d=qo(d);var u=fs(d),f,g=u.length;for(f=0;f<g;f++)this[u[f].unit](d[u[f].unit])}else if(d=Ao(d),z(this[d]))return this[d](_);return this}var ss=/\d/,Mo=/\d\d/,Vs=/\d{3}/,as=/\d{4}/,is=/[+-]?\d{6}/,Bo=/\d\d?/,Ko=/\d\d\d\d?/,Ns=/\d\d\d\d\d\d?/,rs=/\d{1,3}/,mo=/\d{1,4}/,eo=/[+-]?\d{1,6}/,ao=/\d+/,io=/[+-]?\d+/,$o=/Z|[+-]\d\d:?\d\d/gi,So=/Z|[+-]\d\d(?::?\d\d)?/gi,Os=/[+-]?\d+(\.\d{1,3})?/,v=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Q;Q={};function M(d,_,u){Q[d]=z(_)?_:function(f,g){return f&&u?u:_}}function ct(d,_){return l(Q,d)?Q[d](_._strict,_._locale):new RegExp(Bt(d))}function Bt(d){return ro(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_,u,f,g,w){return u||f||g||w}))}function ro(d){return d.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var po={};function to(d,_){var u,f=_,g;for(typeof d=="string"&&(d=[d]),p(_)&&(f=function(w,A){A[_]=co(w)}),g=d.length,u=0;u<g;u++)po[d[u]]=f}function vo(d,_){to(d,function(u,f,g,w){g._w=g._w||{},_(u,g._w,g,w)})}function $s(d,_,u){_!=null&&l(po,d)&&po[d](_,u._a,u,d)}var Io=0,Xo=1,Ho=2,xo=3,Zo=4,ns=5,ws=6,Yl=7,Hl=8;function Ql(d,_){return(d%_+_)%_}var Eo;Array.prototype.indexOf?Eo=Array.prototype.indexOf:Eo=function(d){var _;for(_=0;_<this.length;++_)if(this[_]===d)return _;return-1};function Rs(d,_){if(isNaN(d)||isNaN(_))return NaN;var u=Ql(_,12);return d+=(_-u)/12,u===1?Oo(d)?29:28:31-u%7%2}fe("M",["MM",2],"Mo",function(){return this.month()+1}),fe("MMM",0,0,function(d){return this.localeData().monthsShort(this,d)}),fe("MMMM",0,0,function(d){return this.localeData().months(this,d)}),No("month","M"),Po("month",8),M("M",Bo),M("MM",Bo,Mo),M("MMM",function(d,_){return _.monthsShortRegex(d)}),M("MMMM",function(d,_){return _.monthsRegex(d)}),to(["M","MM"],function(d,_){_[Xo]=co(d)-1}),to(["MMM","MMMM"],function(d,_,u,f){var g=u._locale.monthsParse(d,f,u._strict);g!=null?_[Xo]=g:x(u).invalidMonth=d});var Jl="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_l=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Xl=v,Zl=v;function ed(d,_){return d?r(this._months)?this._months[d.month()]:this._months[(this._months.isFormat||_l).test(_)?"format":"standalone"][d.month()]:r(this._months)?this._months:this._months.standalone}function td(d,_){return d?r(this._monthsShort)?this._monthsShort[d.month()]:this._monthsShort[_l.test(_)?"format":"standalone"][d.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function od(d,_,u){var f,g,w,A=d.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],f=0;f<12;++f)w=V([2e3,f]),this._shortMonthsParse[f]=this.monthsShort(w,"").toLocaleLowerCase(),this._longMonthsParse[f]=this.months(w,"").toLocaleLowerCase();return u?_==="MMM"?(g=Eo.call(this._shortMonthsParse,A),g!==-1?g:null):(g=Eo.call(this._longMonthsParse,A),g!==-1?g:null):_==="MMM"?(g=Eo.call(this._shortMonthsParse,A),g!==-1?g:(g=Eo.call(this._longMonthsParse,A),g!==-1?g:null)):(g=Eo.call(this._longMonthsParse,A),g!==-1?g:(g=Eo.call(this._shortMonthsParse,A),g!==-1?g:null))}function sd(d,_,u){var f,g,w;if(this._monthsParseExact)return od.call(this,d,_,u);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),f=0;f<12;f++){if(g=V([2e3,f]),u&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),!u&&!this._monthsParse[f]&&(w="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[f]=new RegExp(w.replace(".",""),"i")),u&&_==="MMMM"&&this._longMonthsParse[f].test(d))return f;if(u&&_==="MMM"&&this._shortMonthsParse[f].test(d))return f;if(!u&&this._monthsParse[f].test(d))return f}}function hl(d,_){var u;if(!d.isValid())return d;if(typeof _=="string"){if(/^\d+$/.test(_))_=co(_);else if(_=d.localeData().monthsParse(_),!p(_))return d}return u=Math.min(d.date(),Rs(d.year(),_)),d._d["set"+(d._isUTC?"UTC":"")+"Month"](_,u),d}function ml(d){return d!=null?(hl(this,d),i.updateOffset(this,!0),this):os(this,"Month")}function ad(){return Rs(this.year(),this.month())}function rd(d){return this._monthsParseExact?(l(this,"_monthsRegex")||ul.call(this),d?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Xl),this._monthsShortStrictRegex&&d?this._monthsShortStrictRegex:this._monthsShortRegex)}function nd(d){return this._monthsParseExact?(l(this,"_monthsRegex")||ul.call(this),d?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Zl),this._monthsStrictRegex&&d?this._monthsStrictRegex:this._monthsRegex)}function ul(){function d(A,so){return so.length-A.length}var _=[],u=[],f=[],g,w;for(g=0;g<12;g++)w=V([2e3,g]),_.push(this.monthsShort(w,"")),u.push(this.months(w,"")),f.push(this.months(w,"")),f.push(this.monthsShort(w,""));for(_.sort(d),u.sort(d),f.sort(d),g=0;g<12;g++)_[g]=ro(_[g]),u[g]=ro(u[g]);for(g=0;g<24;g++)f[g]=ro(f[g]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_.join("|")+")","i")}fe("Y",0,0,function(){var d=this.year();return d<=9999?_o(d,4):"+"+d}),fe(0,["YY",2],0,function(){return this.year()%100}),fe(0,["YYYY",4],0,"year"),fe(0,["YYYYY",5],0,"year"),fe(0,["YYYYYY",6,!0],0,"year"),No("year","y"),Po("year",1),M("Y",io),M("YY",Bo,Mo),M("YYYY",mo,as),M("YYYYY",eo,is),M("YYYYYY",eo,is),to(["YYYYY","YYYYYY"],Io),to("YYYY",function(d,_){_[Io]=d.length===2?i.parseTwoDigitYear(d):co(d)}),to("YY",function(d,_){_[Io]=i.parseTwoDigitYear(d)}),to("Y",function(d,_){_[Io]=parseInt(d,10)});function Ms(d){return Oo(d)?366:365}i.parseTwoDigitYear=function(d){return co(d)+(co(d)>68?1900:2e3)};var pl=Yo("FullYear",!0);function ld(){return Oo(this.year())}function dd(d,_,u,f,g,w,A){var so;return d<100&&d>=0?(so=new Date(d+400,_,u,f,g,w,A),isFinite(so.getFullYear())&&so.setFullYear(d)):so=new Date(d,_,u,f,g,w,A),so}function Is(d){var _,u;return d<100&&d>=0?(u=Array.prototype.slice.call(arguments),u[0]=d+400,_=new Date(Date.UTC.apply(null,u)),isFinite(_.getUTCFullYear())&&_.setUTCFullYear(d)):_=new Date(Date.UTC.apply(null,arguments)),_}function qs(d,_,u){var f=7+_-u,g=(7+Is(d,0,f).getUTCDay()-_)%7;return-g+f-1}function fl(d,_,u,f,g){var w=(7+u-f)%7,A=qs(d,f,g),so=1+7*(_-1)+w+A,ho,ko;return so<=0?(ho=d-1,ko=Ms(ho)+so):so>Ms(d)?(ho=d+1,ko=so-Ms(d)):(ho=d,ko=so),{year:ho,dayOfYear:ko}}function Us(d,_,u){var f=qs(d.year(),_,u),g=Math.floor((d.dayOfYear()-f-1)/7)+1,w,A;return g<1?(A=d.year()-1,w=g+ls(A,_,u)):g>ls(d.year(),_,u)?(w=g-ls(d.year(),_,u),A=d.year()+1):(A=d.year(),w=g),{week:w,year:A}}function ls(d,_,u){var f=qs(d,_,u),g=qs(d+1,_,u);return(Ms(d)-f+g)/7}fe("w",["ww",2],"wo","week"),fe("W",["WW",2],"Wo","isoWeek"),No("week","w"),No("isoWeek","W"),Po("week",5),Po("isoWeek",5),M("w",Bo),M("ww",Bo,Mo),M("W",Bo),M("WW",Bo,Mo),vo(["w","ww","W","WW"],function(d,_,u,f){_[f.substr(0,1)]=co(d)});function cd(d){return Us(d,this._week.dow,this._week.doy).week}var _d={dow:0,doy:6};function hd(){return this._week.dow}function md(){return this._week.doy}function ud(d){var _=this.localeData().week(this);return d==null?_:this.add((d-_)*7,"d")}function pd(d){var _=Us(this,1,4).week;return d==null?_:this.add((d-_)*7,"d")}fe("d",0,"do","day"),fe("dd",0,0,function(d){return this.localeData().weekdaysMin(this,d)}),fe("ddd",0,0,function(d){return this.localeData().weekdaysShort(this,d)}),fe("dddd",0,0,function(d){return this.localeData().weekdays(this,d)}),fe("e",0,0,"weekday"),fe("E",0,0,"isoWeekday"),No("day","d"),No("weekday","e"),No("isoWeekday","E"),Po("day",11),Po("weekday",11),Po("isoWeekday",11),M("d",Bo),M("e",Bo),M("E",Bo),M("dd",function(d,_){return _.weekdaysMinRegex(d)}),M("ddd",function(d,_){return _.weekdaysShortRegex(d)}),M("dddd",function(d,_){return _.weekdaysRegex(d)}),vo(["dd","ddd","dddd"],function(d,_,u,f){var g=u._locale.weekdaysParse(d,f,u._strict);g!=null?_.d=g:x(u).invalidWeekday=d}),vo(["d","e","E"],function(d,_,u,f){_[f]=co(d)});function fd(d,_){return typeof d!="string"?d:isNaN(d)?(d=_.weekdaysParse(d),typeof d=="number"?d:null):parseInt(d,10)}function bd(d,_){return typeof d=="string"?_.weekdaysParse(d)%7||7:isNaN(d)?null:d}function Ga(d,_){return d.slice(_,7).concat(d.slice(0,_))}var gd="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$d="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yd=v,Bd=v,vd=v;function kd(d,_){var u=r(this._weekdays)?this._weekdays:this._weekdays[d&&d!==!0&&this._weekdays.isFormat.test(_)?"format":"standalone"];return d===!0?Ga(u,this._week.dow):d?u[d.day()]:u}function Vd(d){return d===!0?Ga(this._weekdaysShort,this._week.dow):d?this._weekdaysShort[d.day()]:this._weekdaysShort}function Nd(d){return d===!0?Ga(this._weekdaysMin,this._week.dow):d?this._weekdaysMin[d.day()]:this._weekdaysMin}function wd(d,_,u){var f,g,w,A=d.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)w=V([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(w,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(w,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(w,"").toLocaleLowerCase();return u?_==="dddd"?(g=Eo.call(this._weekdaysParse,A),g!==-1?g:null):_==="ddd"?(g=Eo.call(this._shortWeekdaysParse,A),g!==-1?g:null):(g=Eo.call(this._minWeekdaysParse,A),g!==-1?g:null):_==="dddd"?(g=Eo.call(this._weekdaysParse,A),g!==-1||(g=Eo.call(this._shortWeekdaysParse,A),g!==-1)?g:(g=Eo.call(this._minWeekdaysParse,A),g!==-1?g:null)):_==="ddd"?(g=Eo.call(this._shortWeekdaysParse,A),g!==-1||(g=Eo.call(this._weekdaysParse,A),g!==-1)?g:(g=Eo.call(this._minWeekdaysParse,A),g!==-1?g:null)):(g=Eo.call(this._minWeekdaysParse,A),g!==-1||(g=Eo.call(this._weekdaysParse,A),g!==-1)?g:(g=Eo.call(this._shortWeekdaysParse,A),g!==-1?g:null))}function Cd(d,_,u){var f,g,w;if(this._weekdaysParseExact)return wd.call(this,d,_,u);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),f=0;f<7;f++){if(g=V([2e3,1]).day(f),u&&!this._fullWeekdaysParse[f]&&(this._fullWeekdaysParse[f]=new RegExp("^"+this.weekdays(g,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[f]=new RegExp("^"+this.weekdaysShort(g,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[f]=new RegExp("^"+this.weekdaysMin(g,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[f]||(w="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[f]=new RegExp(w.replace(".",""),"i")),u&&_==="dddd"&&this._fullWeekdaysParse[f].test(d))return f;if(u&&_==="ddd"&&this._shortWeekdaysParse[f].test(d))return f;if(u&&_==="dd"&&this._minWeekdaysParse[f].test(d))return f;if(!u&&this._weekdaysParse[f].test(d))return f}}function Sd(d){if(!this.isValid())return d!=null?this:NaN;var _=this._isUTC?this._d.getUTCDay():this._d.getDay();return d!=null?(d=fd(d,this.localeData()),this.add(d-_,"d")):_}function Fd(d){if(!this.isValid())return d!=null?this:NaN;var _=(this.day()+7-this.localeData()._week.dow)%7;return d==null?_:this.add(d-_,"d")}function xd(d){if(!this.isValid())return d!=null?this:NaN;if(d!=null){var _=bd(d,this.localeData());return this.day(this.day()%7?_:_-7)}else return this.day()||7}function Ed(d){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qa.call(this),d?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=yd),this._weekdaysStrictRegex&&d?this._weekdaysStrictRegex:this._weekdaysRegex)}function Pd(d){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qa.call(this),d?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bd),this._weekdaysShortStrictRegex&&d?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Td(d){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Qa.call(this),d?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vd),this._weekdaysMinStrictRegex&&d?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function d(zo,ms){return ms.length-zo.length}var _=[],u=[],f=[],g=[],w,A,so,ho,ko;for(w=0;w<7;w++)A=V([2e3,1]).day(w),so=ro(this.weekdaysMin(A,"")),ho=ro(this.weekdaysShort(A,"")),ko=ro(this.weekdays(A,"")),_.push(so),u.push(ho),f.push(ko),g.push(so),g.push(ho),g.push(ko);_.sort(d),u.sort(d),f.sort(d),g.sort(d),this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_.join("|")+")","i")}function Ja(){return this.hours()%12||12}function Dd(){return this.hours()||24}fe("H",["HH",2],0,"hour"),fe("h",["hh",2],0,Ja),fe("k",["kk",2],0,Dd),fe("hmm",0,0,function(){return""+Ja.apply(this)+_o(this.minutes(),2)}),fe("hmmss",0,0,function(){return""+Ja.apply(this)+_o(this.minutes(),2)+_o(this.seconds(),2)}),fe("Hmm",0,0,function(){return""+this.hours()+_o(this.minutes(),2)}),fe("Hmmss",0,0,function(){return""+this.hours()+_o(this.minutes(),2)+_o(this.seconds(),2)});function gl(d,_){fe(d,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_)})}gl("a",!0),gl("A",!1),No("hour","h"),Po("hour",13);function $l(d,_){return _._meridiemParse}M("a",$l),M("A",$l),M("H",Bo),M("h",Bo),M("k",Bo),M("HH",Bo,Mo),M("hh",Bo,Mo),M("kk",Bo,Mo),M("hmm",Ko),M("hmmss",Ns),M("Hmm",Ko),M("Hmmss",Ns),to(["H","HH"],xo),to(["k","kk"],function(d,_,u){var f=co(d);_[xo]=f===24?0:f}),to(["a","A"],function(d,_,u){u._isPm=u._locale.isPM(d),u._meridiem=d}),to(["h","hh"],function(d,_,u){_[xo]=co(d),x(u).bigHour=!0}),to("hmm",function(d,_,u){var f=d.length-2;_[xo]=co(d.substr(0,f)),_[Zo]=co(d.substr(f)),x(u).bigHour=!0}),to("hmmss",function(d,_,u){var f=d.length-4,g=d.length-2;_[xo]=co(d.substr(0,f)),_[Zo]=co(d.substr(f,2)),_[ns]=co(d.substr(g)),x(u).bigHour=!0}),to("Hmm",function(d,_,u){var f=d.length-2;_[xo]=co(d.substr(0,f)),_[Zo]=co(d.substr(f))}),to("Hmmss",function(d,_,u){var f=d.length-4,g=d.length-2;_[xo]=co(d.substr(0,f)),_[Zo]=co(d.substr(f,2)),_[ns]=co(d.substr(g))});function jd(d){return(d+"").toLowerCase().charAt(0)==="p"}var Od=/[ap]\.?m?\.?/i,Md=Yo("Hours",!0);function Id(d,_,u){return d>11?u?"pm":"PM":u?"am":"AM"}var yl={calendar:Xt,longDateFormat:Fo,invalidDate:ts,ordinal:Qo,dayOfMonthOrdinalParse:Fs,relativeTime:Ro,months:Jl,monthsShort:cl,week:_d,weekdays:gd,weekdaysMin:$d,weekdaysShort:bl,meridiemParse:Od},wo={},As={},Ls;function Ud(d,_){var u,f=Math.min(d.length,_.length);for(u=0;u<f;u+=1)if(d[u]!==_[u])return u;return f}function Bl(d){return d&&d.toLowerCase().replace("_","-")}function Ad(d){for(var _=0,u,f,g,w;_<d.length;){for(w=Bl(d[_]).split("-"),u=w.length,f=Bl(d[_+1]),f=f?f.split("-"):null;u>0;){if(g=Ks(w.slice(0,u).join("-")),g)return g;if(f&&f.length>=u&&Ud(w,f)>=u-1)break;u--}_++}return Ls}function Ld(d){return d.match("^[^/\\\\]*$")!=null}function Ks(d){var _=null,u;if(wo[d]===void 0&&o&&o.exports&&Ld(d))try{_=Ls._abbr,u=commonjsRequire,u("./locale/"+d),ys(_)}catch{wo[d]=null}return wo[d]}function ys(d,_){var u;return d&&(m(_)?u=ds(d):u=Za(d,_),u?Ls=u:typeof console<"u"&&console.warn&&console.warn("Locale "+d+" not found. Did you forget to load it?")),Ls._abbr}function Za(d,_){if(_!==null){var u,f=yl;if(_.abbr=d,wo[d]!=null)O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),f=wo[d]._config;else if(_.parentLocale!=null)if(wo[_.parentLocale]!=null)f=wo[_.parentLocale]._config;else if(u=Ks(_.parentLocale),u!=null)f=u._config;else return As[_.parentLocale]||(As[_.parentLocale]=[]),As[_.parentLocale].push({name:d,config:_}),null;return wo[d]=new oo(Ht(f,_)),As[d]&&As[d].forEach(function(g){Za(g.name,g.config)}),ys(d),wo[d]}else return delete wo[d],null}function zd(d,_){if(_!=null){var u,f,g=yl;wo[d]!=null&&wo[d].parentLocale!=null?wo[d].set(Ht(wo[d]._config,_)):(f=Ks(d),f!=null&&(g=f._config),_=Ht(g,_),f==null&&(_.abbr=d),u=new oo(_),u.parentLocale=wo[d],wo[d]=u),ys(d)}else wo[d]!=null&&(wo[d].parentLocale!=null?(wo[d]=wo[d].parentLocale,d===ys()&&ys(d)):wo[d]!=null&&delete wo[d]);return wo[d]}function ds(d){var _;if(d&&d._locale&&d._locale._abbr&&(d=d._locale._abbr),!d)return Ls;if(!r(d)){if(_=Ks(d),_)return _;d=[d]}return Ad(d)}function Rd(){return zt(wo)}function dn(d){var _,u=d._a;return u&&x(d).overflow===-2&&(_=u[Xo]<0||u[Xo]>11?Xo:u[Ho]<1||u[Ho]>Rs(u[Io],u[Xo])?Ho:u[xo]<0||u[xo]>24||u[xo]===24&&(u[Zo]!==0||u[ns]!==0||u[ws]!==0)?xo:u[Zo]<0||u[Zo]>59?Zo:u[ns]<0||u[ns]>59?ns:u[ws]<0||u[ws]>999?ws:-1,x(d)._overflowDayOfYear&&(_<Io||_>Ho)&&(_=Ho),x(d)._overflowWeeks&&_===-1&&(_=Yl),x(d)._overflowWeekday&&_===-1&&(_=Hl),x(d).overflow=_),d}var qd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kd=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gd=/Z|[+-]\d\d(?::?\d\d)?/,Gs=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wd=/^\/?Date\((-?\d+)/i,Yd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hd={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vl(d){var _,u,f=d._i,g=qd.exec(f)||Kd.exec(f),w,A,so,ho,ko=Gs.length,zo=pn.length;if(g){for(x(d).iso=!0,_=0,u=ko;_<u;_++)if(Gs[_][1].exec(g[1])){A=Gs[_][0],w=Gs[_][2]!==!1;break}if(A==null){d._isValid=!1;return}if(g[3]){for(_=0,u=zo;_<u;_++)if(pn[_][1].exec(g[3])){so=(g[2]||" ")+pn[_][0];break}if(so==null){d._isValid=!1;return}}if(!w&&so!=null){d._isValid=!1;return}if(g[4])if(Gd.exec(g[4]))ho="Z";else{d._isValid=!1;return}d._f=A+(so||"")+(ho||""),el(d)}else d._isValid=!1}function Qd(d,_,u,f,g,w){var A=[Jd(d),cl.indexOf(_),parseInt(u,10),parseInt(f,10),parseInt(g,10)];return w&&A.push(parseInt(w,10)),A}function Jd(d){var _=parseInt(d,10);return _<=49?2e3+_:_<=999?1900+_:_}function Xd(d){return d.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Zd(d,_,u){if(d){var f=bl.indexOf(d),g=new Date(_[0],_[1],_[2]).getDay();if(f!==g)return x(u).weekdayMismatch=!0,u._isValid=!1,!1}return!0}function ec(d,_,u){if(d)return Hd[d];if(_)return 0;var f=parseInt(u,10),g=f%100,w=(f-g)/100;return w*60+g}function kl(d){var _=Yd.exec(Xd(d._i)),u;if(_){if(u=Qd(_[4],_[3],_[2],_[5],_[6],_[7]),!Zd(_[1],u,d))return;d._a=u,d._tzm=ec(_[8],_[9],_[10]),d._d=Is.apply(null,d._a),d._d.setUTCMinutes(d._d.getUTCMinutes()-d._tzm),x(d).rfc2822=!0}else d._isValid=!1}function tc(d){var _=Wd.exec(d._i);if(_!==null){d._d=new Date(+_[1]);return}if(vl(d),d._isValid===!1)delete d._isValid;else return;if(kl(d),d._isValid===!1)delete d._isValid;else return;d._strict?d._isValid=!1:i.createFromInputFallback(d)}i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(d){d._d=new Date(d._i+(d._useUTC?" UTC":""))});function Es(d,_,u){return d??_??u}function oc(d){var _=new Date(i.now());return d._useUTC?[_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()]:[_.getFullYear(),_.getMonth(),_.getDate()]}function gn(d){var _,u,f=[],g,w,A;if(!d._d){for(g=oc(d),d._w&&d._a[Ho]==null&&d._a[Xo]==null&&sc(d),d._dayOfYear!=null&&(A=Es(d._a[Io],g[Io]),(d._dayOfYear>Ms(A)||d._dayOfYear===0)&&(x(d)._overflowDayOfYear=!0),u=Is(A,0,d._dayOfYear),d._a[Xo]=u.getUTCMonth(),d._a[Ho]=u.getUTCDate()),_=0;_<3&&d._a[_]==null;++_)d._a[_]=f[_]=g[_];for(;_<7;_++)d._a[_]=f[_]=d._a[_]==null?_===2?1:0:d._a[_];d._a[xo]===24&&d._a[Zo]===0&&d._a[ns]===0&&d._a[ws]===0&&(d._nextDay=!0,d._a[xo]=0),d._d=(d._useUTC?Is:dd).apply(null,f),w=d._useUTC?d._d.getUTCDay():d._d.getDay(),d._tzm!=null&&d._d.setUTCMinutes(d._d.getUTCMinutes()-d._tzm),d._nextDay&&(d._a[xo]=24),d._w&&typeof d._w.d<"u"&&d._w.d!==w&&(x(d).weekdayMismatch=!0)}}function sc(d){var _,u,f,g,w,A,so,ho,ko;_=d._w,_.GG!=null||_.W!=null||_.E!=null?(w=1,A=4,u=Es(_.GG,d._a[Io],Us(Vo(),1,4).year),f=Es(_.W,1),g=Es(_.E,1),(g<1||g>7)&&(ho=!0)):(w=d._locale._week.dow,A=d._locale._week.doy,ko=Us(Vo(),w,A),u=Es(_.gg,d._a[Io],ko.year),f=Es(_.w,ko.week),_.d!=null?(g=_.d,(g<0||g>6)&&(ho=!0)):_.e!=null?(g=_.e+w,(_.e<0||_.e>6)&&(ho=!0)):g=w),f<1||f>ls(u,w,A)?x(d)._overflowWeeks=!0:ho!=null?x(d)._overflowWeekday=!0:(so=fl(u,f,g,w,A),d._a[Io]=so.year,d._dayOfYear=so.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function el(d){if(d._f===i.ISO_8601){vl(d);return}if(d._f===i.RFC_2822){kl(d);return}d._a=[],x(d).empty=!0;var _=""+d._i,u,f,g,w,A,so=_.length,ho=0,ko,zo;for(g=Lo(d._f,d._locale).match(lo)||[],zo=g.length,u=0;u<zo;u++)w=g[u],f=(_.match(ct(w,d))||[])[0],f&&(A=_.substr(0,_.indexOf(f)),A.length>0&&x(d).unusedInput.push(A),_=_.slice(_.indexOf(f)+f.length),ho+=f.length),uo[w]?(f?x(d).empty=!1:x(d).unusedTokens.push(w),$s(w,f,d)):d._strict&&!f&&x(d).unusedTokens.push(w);x(d).charsLeftOver=so-ho,_.length>0&&x(d).unusedInput.push(_),d._a[xo]<=12&&x(d).bigHour===!0&&d._a[xo]>0&&(x(d).bigHour=void 0),x(d).parsedDateParts=d._a.slice(0),x(d).meridiem=d._meridiem,d._a[xo]=ac(d._locale,d._a[xo],d._meridiem),ko=x(d).era,ko!==null&&(d._a[Io]=d._locale.erasConvertYear(ko,d._a[Io])),gn(d),dn(d)}function ac(d,_,u){var f;return u==null?_:d.meridiemHour!=null?d.meridiemHour(_,u):(d.isPM!=null&&(f=d.isPM(u),f&&_<12&&(_+=12),!f&&_===12&&(_=0)),_)}function ic(d){var _,u,f,g,w,A,so=!1,ho=d._f.length;if(ho===0){x(d).invalidFormat=!0,d._d=new Date(NaN);return}for(g=0;g<ho;g++)w=0,A=!1,_=G({},d),d._useUTC!=null&&(_._useUTC=d._useUTC),_._f=d._f[g],el(_),H(_)&&(A=!0),w+=x(_).charsLeftOver,w+=x(_).unusedTokens.length*10,x(_).score=w,so?w<f&&(f=w,u=_):(f==null||w<f||A)&&(f=w,u=_,A&&(so=!0));k(d,u||_)}function rc(d){if(!d._d){var _=qo(d._i),u=_.day===void 0?_.date:_.day;d._a=b([_.year,_.month,u,_.hour,_.minute,_.second,_.millisecond],function(f){return f&&parseInt(f,10)}),gn(d)}}function nc(d){var _=new le(dn(Vl(d)));return _._nextDay&&(_.add(1,"d"),_._nextDay=void 0),_}function Vl(d){var _=d._i,u=d._f;return d._locale=d._locale||ds(d._l),_===null||u===void 0&&_===""?he({nullInput:!0}):(typeof _=="string"&&(d._i=_=d._locale.preparse(_)),X(_)?new le(dn(_)):(y(_)?d._d=_:r(u)?ic(d):u?el(d):lc(d),H(d)||(d._d=null),d))}function lc(d){var _=d._i;m(_)?d._d=new Date(i.now()):y(_)?d._d=new Date(_.valueOf()):typeof _=="string"?tc(d):r(_)?(d._a=b(_.slice(0),function(u){return parseInt(u,10)}),gn(d)):n(_)?rc(d):p(_)?d._d=new Date(_):i.createFromInputFallback(d)}function Nl(d,_,u,f,g){var w={};return(_===!0||_===!1)&&(f=_,_=void 0),(u===!0||u===!1)&&(f=u,u=void 0),(n(d)&&c(d)||r(d)&&d.length===0)&&(d=void 0),w._isAMomentObject=!0,w._useUTC=w._isUTC=g,w._l=u,w._i=d,w._f=_,w._strict=f,nc(w)}function Vo(d,_,u,f){return Nl(d,_,u,f,!1)}var dc=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var d=Vo.apply(null,arguments);return this.isValid()&&d.isValid()?d<this?this:d:he()}),cc=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var d=Vo.apply(null,arguments);return this.isValid()&&d.isValid()?d>this?this:d:he()});function wl(d,_){var u,f;if(_.length===1&&r(_[0])&&(_=_[0]),!_.length)return Vo();for(u=_[0],f=1;f<_.length;++f)(!_[f].isValid()||_[f][d](u))&&(u=_[f]);return u}function _c(){var d=[].slice.call(arguments,0);return wl("isBefore",d)}function hc(){var d=[].slice.call(arguments,0);return wl("isAfter",d)}var mc=function(){return Date.now?Date.now():+new Date},zs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function uc(d){var _,u=!1,f,g=zs.length;for(_ in d)if(l(d,_)&&!(Eo.call(zs,_)!==-1&&(d[_]==null||!isNaN(d[_]))))return!1;for(f=0;f<g;++f)if(d[zs[f]]){if(u)return!1;parseFloat(d[zs[f]])!==co(d[zs[f]])&&(u=!0)}return!0}function pc(){return this._isValid}function fc(){return es(NaN)}function Ws(d){var _=qo(d),u=_.year||0,f=_.quarter||0,g=_.month||0,w=_.week||_.isoWeek||0,A=_.day||0,so=_.hour||0,ho=_.minute||0,ko=_.second||0,zo=_.millisecond||0;this._isValid=uc(_),this._milliseconds=+zo+ko*1e3+ho*6e4+so*1e3*60*60,this._days=+A+w*7,this._months=+g+f*3+u*12,this._data={},this._locale=ds(),this._bubble()}function Ys(d){return d instanceof Ws}function tl(d){return d<0?Math.round(-1*d)*-1:Math.round(d)}function bc(d,_,u){var f=Math.min(d.length,_.length),g=Math.abs(d.length-_.length),w=0,A;for(A=0;A<f;A++)(u&&d[A]!==_[A]||!u&&co(d[A])!==co(_[A]))&&w++;return w+g}function Cl(d,_){fe(d,0,0,function(){var u=this.utcOffset(),f="+";return u<0&&(u=-u,f="-"),f+_o(~~(u/60),2)+_+_o(~~u%60,2)})}Cl("Z",":"),Cl("ZZ",""),M("Z",So),M("ZZ",So),to(["Z","ZZ"],function(d,_,u){u._useUTC=!0,u._tzm=ol(So,d)});var gc=/([\+\-]|\d\d)/gi;function ol(d,_){var u=(_||"").match(d),f,g,w;return u===null?null:(f=u[u.length-1]||[],g=(f+"").match(gc)||["-",0,0],w=+(g[1]*60)+co(g[2]),w===0?0:g[0]==="+"?w:-w)}function sl(d,_){var u,f;return _._isUTC?(u=_.clone(),f=(X(d)||y(d)?d.valueOf():Vo(d).valueOf())-u.valueOf(),u._d.setTime(u._d.valueOf()+f),i.updateOffset(u,!1),u):Vo(d).local()}function al(d){return-Math.round(d._d.getTimezoneOffset())}i.updateOffset=function(){};function $c(d,_,u){var f=this._offset||0,g;if(!this.isValid())return d!=null?this:NaN;if(d!=null){if(typeof d=="string"){if(d=ol(So,d),d===null)return this}else Math.abs(d)<16&&!u&&(d=d*60);return!this._isUTC&&_&&(g=al(this)),this._offset=d,this._isUTC=!0,g!=null&&this.add(g,"m"),f!==d&&(!_||this._changeInProgress?El(this,es(d-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?f:al(this)}function yc(d,_){return d!=null?(typeof d!="string"&&(d=-d),this.utcOffset(d,_),this):-this.utcOffset()}function Bc(d){return this.utcOffset(0,d)}function vc(d){return this._isUTC&&(this.utcOffset(0,d),this._isUTC=!1,d&&this.subtract(al(this),"m")),this}function kc(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var d=ol($o,this._i);d!=null?this.utcOffset(d):this.utcOffset(0,!0)}return this}function Vc(d){return this.isValid()?(d=d?Vo(d).utcOffset():0,(this.utcOffset()-d)%60===0):!1}function Nc(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wc(){if(!m(this._isDSTShifted))return this._isDSTShifted;var d={},_;return G(d,this),d=Vl(d),d._a?(_=d._isUTC?V(d._a):Vo(d._a),this._isDSTShifted=this.isValid()&&bc(d._a,_.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Cc(){return this.isValid()?!this._isUTC:!1}function Sc(){return this.isValid()?this._isUTC:!1}function Sl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Fc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function es(d,_){var u=d,f=null,g,w,A;return Ys(d)?u={ms:d._milliseconds,d:d._days,M:d._months}:p(d)||!isNaN(+d)?(u={},_?u[_]=+d:u.milliseconds=+d):(f=Fc.exec(d))?(g=f[1]==="-"?-1:1,u={y:0,d:co(f[Ho])*g,h:co(f[xo])*g,m:co(f[Zo])*g,s:co(f[ns])*g,ms:co(tl(f[ws]*1e3))*g}):(f=xc.exec(d))?(g=f[1]==="-"?-1:1,u={y:Cs(f[2],g),M:Cs(f[3],g),w:Cs(f[4],g),d:Cs(f[5],g),h:Cs(f[6],g),m:Cs(f[7],g),s:Cs(f[8],g)}):u==null?u={}:typeof u=="object"&&("from"in u||"to"in u)&&(A=Ec(Vo(u.from),Vo(u.to)),u={},u.ms=A.milliseconds,u.M=A.months),w=new Ws(u),Ys(d)&&l(d,"_locale")&&(w._locale=d._locale),Ys(d)&&l(d,"_isValid")&&(w._isValid=d._isValid),w}es.fn=Ws.prototype,es.invalid=fc;function Cs(d,_){var u=d&&parseFloat(d.replace(",","."));return(isNaN(u)?0:u)*_}function Fl(d,_){var u={};return u.months=_.month()-d.month()+(_.year()-d.year())*12,d.clone().add(u.months,"M").isAfter(_)&&--u.months,u.milliseconds=+_-+d.clone().add(u.months,"M"),u}function Ec(d,_){var u;return d.isValid()&&_.isValid()?(_=sl(_,d),d.isBefore(_)?u=Fl(d,_):(u=Fl(_,d),u.milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0}}function xl(d,_){return function(u,f){var g,w;return f!==null&&!isNaN(+f)&&(O(_,"moment()."+_+"(period, number) is deprecated. Please use moment()."+_+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),w=u,u=f,f=w),g=es(u,f),El(this,g,d),this}}function El(d,_,u,f){var g=_._milliseconds,w=tl(_._days),A=tl(_._months);d.isValid()&&(f=f??!0,A&&hl(d,os(d,"Month")+A*u),w&&bs(d,"Date",os(d,"Date")+w*u),g&&d._d.setTime(d._d.valueOf()+g*u),f&&i.updateOffset(d,w||A))}var Pc=xl(1,"add"),Tc=xl(-1,"subtract");function Pl(d){return typeof d=="string"||d instanceof String}function Dc(d){return X(d)||y(d)||Pl(d)||p(d)||Oc(d)||jc(d)||d===null||d===void 0}function jc(d){var _=n(d)&&!c(d),u=!1,f=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],g,w,A=f.length;for(g=0;g<A;g+=1)w=f[g],u=u||l(d,w);return _&&u}function Oc(d){var _=r(d),u=!1;return _&&(u=d.filter(function(f){return!p(f)&&Pl(d)}).length===0),_&&u}function Mc(d){var _=n(d)&&!c(d),u=!1,f=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],g,w;for(g=0;g<f.length;g+=1)w=f[g],u=u||l(d,w);return _&&u}function Ic(d,_){var u=d.diff(_,"days",!0);return u<-6?"sameElse":u<-1?"lastWeek":u<0?"lastDay":u<1?"sameDay":u<2?"nextDay":u<7?"nextWeek":"sameElse"}function Uc(d,_){arguments.length===1&&(arguments[0]?Dc(arguments[0])?(d=arguments[0],_=void 0):Mc(arguments[0])&&(_=arguments[0],d=void 0):(d=void 0,_=void 0));var u=d||Vo(),f=sl(u,this).startOf("day"),g=i.calendarFormat(this,f)||"sameElse",w=_&&(z(_[g])?_[g].call(this,u):_[g]);return this.format(w||this.localeData().calendar(g,this,Vo(u)))}function Ac(){return new le(this)}function Lc(d,_){var u=X(d)?d:Vo(d);return this.isValid()&&u.isValid()?(_=Ao(_)||"millisecond",_==="millisecond"?this.valueOf()>u.valueOf():u.valueOf()<this.clone().startOf(_).valueOf()):!1}function zc(d,_){var u=X(d)?d:Vo(d);return this.isValid()&&u.isValid()?(_=Ao(_)||"millisecond",_==="millisecond"?this.valueOf()<u.valueOf():this.clone().endOf(_).valueOf()<u.valueOf()):!1}function Rc(d,_,u,f){var g=X(d)?d:Vo(d),w=X(_)?_:Vo(_);return this.isValid()&&g.isValid()&&w.isValid()?(f=f||"()",(f[0]==="("?this.isAfter(g,u):!this.isBefore(g,u))&&(f[1]===")"?this.isBefore(w,u):!this.isAfter(w,u))):!1}function qc(d,_){var u=X(d)?d:Vo(d),f;return this.isValid()&&u.isValid()?(_=Ao(_)||"millisecond",_==="millisecond"?this.valueOf()===u.valueOf():(f=u.valueOf(),this.clone().startOf(_).valueOf()<=f&&f<=this.clone().endOf(_).valueOf())):!1}function Kc(d,_){return this.isSame(d,_)||this.isAfter(d,_)}function Gc(d,_){return this.isSame(d,_)||this.isBefore(d,_)}function Wc(d,_,u){var f,g,w;if(!this.isValid())return NaN;if(f=sl(d,this),!f.isValid())return NaN;switch(g=(f.utcOffset()-this.utcOffset())*6e4,_=Ao(_),_){case"year":w=Hs(this,f)/12;break;case"month":w=Hs(this,f);break;case"quarter":w=Hs(this,f)/3;break;case"second":w=(this-f)/1e3;break;case"minute":w=(this-f)/6e4;break;case"hour":w=(this-f)/36e5;break;case"day":w=(this-f-g)/864e5;break;case"week":w=(this-f-g)/6048e5;break;default:w=this-f}return u?w:To(w)}function Hs(d,_){if(d.date()<_.date())return-Hs(_,d);var u=(_.year()-d.year())*12+(_.month()-d.month()),f=d.clone().add(u,"months"),g,w;return _-f<0?(g=d.clone().add(u-1,"months"),w=(_-f)/(f-g)):(g=d.clone().add(u+1,"months"),w=(_-f)/(g-f)),-(u+w)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Yc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hc(d){if(!this.isValid())return null;var _=d!==!0,u=_?this.clone().utc():this;return u.year()<0||u.year()>9999?Co(u,_?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?_?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Co(u,"Z")):Co(u,_?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var d="moment",_="",u,f,g,w;return this.isLocal()||(d=this.utcOffset()===0?"moment.utc":"moment.parseZone",_="Z"),u="["+d+'("]',f=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",g="-MM-DD[T]HH:mm:ss.SSS",w=_+'[")]',this.format(u+f+g+w)}function Jc(d){d||(d=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var _=Co(this,d);return this.localeData().postformat(_)}function Xc(d,_){return this.isValid()&&(X(d)&&d.isValid()||Vo(d).isValid())?es({to:this,from:d}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function Zc(d){return this.from(Vo(),d)}function e_(d,_){return this.isValid()&&(X(d)&&d.isValid()||Vo(d).isValid())?es({from:this,to:d}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function t_(d){return this.to(Vo(),d)}function Tl(d){var _;return d===void 0?this._locale._abbr:(_=ds(d),_!=null&&(this._locale=_),this)}var Dl=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(d){return d===void 0?this.localeData():this.locale(d)});function jl(){return this._locale}var Qs=1e3,Ps=60*Qs,Js=60*Ps,Ol=(365*400+97)*24*Js;function Ts(d,_){return(d%_+_)%_}function Ml(d,_,u){return d<100&&d>=0?new Date(d+400,_,u)-Ol:new Date(d,_,u).valueOf()}function Il(d,_,u){return d<100&&d>=0?Date.UTC(d+400,_,u)-Ol:Date.UTC(d,_,u)}function o_(d){var _,u;if(d=Ao(d),d===void 0||d==="millisecond"||!this.isValid())return this;switch(u=this._isUTC?Il:Ml,d){case"year":_=u(this.year(),0,1);break;case"quarter":_=u(this.year(),this.month()-this.month()%3,1);break;case"month":_=u(this.year(),this.month(),1);break;case"week":_=u(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_=u(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_=u(this.year(),this.month(),this.date());break;case"hour":_=this._d.valueOf(),_-=Ts(_+(this._isUTC?0:this.utcOffset()*Ps),Js);break;case"minute":_=this._d.valueOf(),_-=Ts(_,Ps);break;case"second":_=this._d.valueOf(),_-=Ts(_,Qs);break}return this._d.setTime(_),i.updateOffset(this,!0),this}function s_(d){var _,u;if(d=Ao(d),d===void 0||d==="millisecond"||!this.isValid())return this;switch(u=this._isUTC?Il:Ml,d){case"year":_=u(this.year()+1,0,1)-1;break;case"quarter":_=u(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_=u(this.year(),this.month()+1,1)-1;break;case"week":_=u(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_=u(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_=u(this.year(),this.month(),this.date()+1)-1;break;case"hour":_=this._d.valueOf(),_+=Js-Ts(_+(this._isUTC?0:this.utcOffset()*Ps),Js)-1;break;case"minute":_=this._d.valueOf(),_+=Ps-Ts(_,Ps)-1;break;case"second":_=this._d.valueOf(),_+=Qs-Ts(_,Qs)-1;break}return this._d.setTime(_),i.updateOffset(this,!0),this}function a_(){return this._d.valueOf()-(this._offset||0)*6e4}function i_(){return Math.floor(this.valueOf()/1e3)}function r_(){return new Date(this.valueOf())}function n_(){var d=this;return[d.year(),d.month(),d.date(),d.hour(),d.minute(),d.second(),d.millisecond()]}function l_(){var d=this;return{years:d.year(),months:d.month(),date:d.date(),hours:d.hours(),minutes:d.minutes(),seconds:d.seconds(),milliseconds:d.milliseconds()}}function d_(){return this.isValid()?this.toISOString():null}function c_(){return H(this)}function __(){return k({},x(this))}function h_(){return x(this).overflow}function m_(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fe("N",0,0,"eraAbbr"),fe("NN",0,0,"eraAbbr"),fe("NNN",0,0,"eraAbbr"),fe("NNNN",0,0,"eraName"),fe("NNNNN",0,0,"eraNarrow"),fe("y",["y",1],"yo","eraYear"),fe("y",["yy",2],0,"eraYear"),fe("y",["yyy",3],0,"eraYear"),fe("y",["yyyy",4],0,"eraYear"),M("N",il),M("NN",il),M("NNN",il),M("NNNN",V_),M("NNNNN",N_),to(["N","NN","NNN","NNNN","NNNNN"],function(d,_,u,f){var g=u._locale.erasParse(d,f,u._strict);g?x(u).era=g:x(u).invalidEra=d}),M("y",ao),M("yy",ao),M("yyy",ao),M("yyyy",ao),M("yo",w_),to(["y","yy","yyy","yyyy"],Io),to(["yo"],function(d,_,u,f){var g;u._locale._eraYearOrdinalRegex&&(g=d.match(u._locale._eraYearOrdinalRegex)),u._locale.eraYearOrdinalParse?_[Io]=u._locale.eraYearOrdinalParse(d,g):_[Io]=parseInt(d,10)});function u_(d,_){var u,f,g,w=this._eras||ds("en")._eras;for(u=0,f=w.length;u<f;++u){switch(typeof w[u].since){case"string":g=i(w[u].since).startOf("day"),w[u].since=g.valueOf();break}switch(typeof w[u].until){case"undefined":w[u].until=1/0;break;case"string":g=i(w[u].until).startOf("day").valueOf(),w[u].until=g.valueOf();break}}return w}function p_(d,_,u){var f,g,w=this.eras(),A,so,ho;for(d=d.toUpperCase(),f=0,g=w.length;f<g;++f)if(A=w[f].name.toUpperCase(),so=w[f].abbr.toUpperCase(),ho=w[f].narrow.toUpperCase(),u)switch(_){case"N":case"NN":case"NNN":if(so===d)return w[f];break;case"NNNN":if(A===d)return w[f];break;case"NNNNN":if(ho===d)return w[f];break}else if([A,so,ho].indexOf(d)>=0)return w[f]}function f_(d,_){var u=d.since<=d.until?1:-1;return _===void 0?i(d.since).year():i(d.since).year()+(_-d.offset)*u}function b_(){var d,_,u,f=this.localeData().eras();for(d=0,_=f.length;d<_;++d)if(u=this.clone().startOf("day").valueOf(),f[d].since<=u&&u<=f[d].until||f[d].until<=u&&u<=f[d].since)return f[d].name;return""}function g_(){var d,_,u,f=this.localeData().eras();for(d=0,_=f.length;d<_;++d)if(u=this.clone().startOf("day").valueOf(),f[d].since<=u&&u<=f[d].until||f[d].until<=u&&u<=f[d].since)return f[d].narrow;return""}function $_(){var d,_,u,f=this.localeData().eras();for(d=0,_=f.length;d<_;++d)if(u=this.clone().startOf("day").valueOf(),f[d].since<=u&&u<=f[d].until||f[d].until<=u&&u<=f[d].since)return f[d].abbr;return""}function y_(){var d,_,u,f,g=this.localeData().eras();for(d=0,_=g.length;d<_;++d)if(u=g[d].since<=g[d].until?1:-1,f=this.clone().startOf("day").valueOf(),g[d].since<=f&&f<=g[d].until||g[d].until<=f&&f<=g[d].since)return(this.year()-i(g[d].since).year())*u+g[d].offset;return this.year()}function B_(d){return l(this,"_erasNameRegex")||rl.call(this),d?this._erasNameRegex:this._erasRegex}function v_(d){return l(this,"_erasAbbrRegex")||rl.call(this),d?this._erasAbbrRegex:this._erasRegex}function k_(d){return l(this,"_erasNarrowRegex")||rl.call(this),d?this._erasNarrowRegex:this._erasRegex}function il(d,_){return _.erasAbbrRegex(d)}function V_(d,_){return _.erasNameRegex(d)}function N_(d,_){return _.erasNarrowRegex(d)}function w_(d,_){return _._eraYearOrdinalRegex||ao}function rl(){var d=[],_=[],u=[],f=[],g,w,A=this.eras();for(g=0,w=A.length;g<w;++g)_.push(ro(A[g].name)),d.push(ro(A[g].abbr)),u.push(ro(A[g].narrow)),f.push(ro(A[g].name)),f.push(ro(A[g].abbr)),f.push(ro(A[g].narrow));this._erasRegex=new RegExp("^("+f.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+u.join("|")+")","i")}fe(0,["gg",2],0,function(){return this.weekYear()%100}),fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Xs(d,_){fe(0,[d,d.length],0,_)}Xs("gggg","weekYear"),Xs("ggggg","weekYear"),Xs("GGGG","isoWeekYear"),Xs("GGGGG","isoWeekYear"),No("weekYear","gg"),No("isoWeekYear","GG"),Po("weekYear",1),Po("isoWeekYear",1),M("G",io),M("g",io),M("GG",Bo,Mo),M("gg",Bo,Mo),M("GGGG",mo,as),M("gggg",mo,as),M("GGGGG",eo,is),M("ggggg",eo,is),vo(["gggg","ggggg","GGGG","GGGGG"],function(d,_,u,f){_[f.substr(0,2)]=co(d)}),vo(["gg","GG"],function(d,_,u,f){_[f]=i.parseTwoDigitYear(d)});function C_(d){return Ul.call(this,d,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function S_(d){return Ul.call(this,d,this.isoWeek(),this.isoWeekday(),1,4)}function F_(){return ls(this.year(),1,4)}function x_(){return ls(this.isoWeekYear(),1,4)}function E_(){var d=this.localeData()._week;return ls(this.year(),d.dow,d.doy)}function P_(){var d=this.localeData()._week;return ls(this.weekYear(),d.dow,d.doy)}function Ul(d,_,u,f,g){var w;return d==null?Us(this,f,g).year:(w=ls(d,f,g),_>w&&(_=w),T_.call(this,d,_,u,f,g))}function T_(d,_,u,f,g){var w=fl(d,_,u,f,g),A=Is(w.year,0,w.dayOfYear);return this.year(A.getUTCFullYear()),this.month(A.getUTCMonth()),this.date(A.getUTCDate()),this}fe("Q",0,"Qo","quarter"),No("quarter","Q"),Po("quarter",7),M("Q",ss),to("Q",function(d,_){_[Xo]=(co(d)-1)*3});function D_(d){return d==null?Math.ceil((this.month()+1)/3):this.month((d-1)*3+this.month()%3)}fe("D",["DD",2],"Do","date"),No("date","D"),Po("date",9),M("D",Bo),M("DD",Bo,Mo),M("Do",function(d,_){return d?_._dayOfMonthOrdinalParse||_._ordinalParse:_._dayOfMonthOrdinalParseLenient}),to(["D","DD"],Ho),to("Do",function(d,_){_[Ho]=co(d.match(Bo)[0])});var Al=Yo("Date",!0);fe("DDD",["DDDD",3],"DDDo","dayOfYear"),No("dayOfYear","DDD"),Po("dayOfYear",4),M("DDD",rs),M("DDDD",Vs),to(["DDD","DDDD"],function(d,_,u){u._dayOfYear=co(d)});function j_(d){var _=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return d==null?_:this.add(d-_,"d")}fe("m",["mm",2],0,"minute"),No("minute","m"),Po("minute",14),M("m",Bo),M("mm",Bo,Mo),to(["m","mm"],Zo);var O_=Yo("Minutes",!1);fe("s",["ss",2],0,"second"),No("second","s"),Po("second",15),M("s",Bo),M("ss",Bo,Mo),to(["s","ss"],ns);var M_=Yo("Seconds",!1);fe("S",0,0,function(){return~~(this.millisecond()/100)}),fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),fe(0,["SSS",3],0,"millisecond"),fe(0,["SSSS",4],0,function(){return this.millisecond()*10}),fe(0,["SSSSS",5],0,function(){return this.millisecond()*100}),fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),No("millisecond","ms"),Po("millisecond",16),M("S",rs,ss),M("SS",rs,Mo),M("SSS",rs,Vs);var Bs,Ll;for(Bs="SSSS";Bs.length<=9;Bs+="S")M(Bs,ao);function I_(d,_){_[ws]=co(("0."+d)*1e3)}for(Bs="S";Bs.length<=9;Bs+="S")to(Bs,I_);Ll=Yo("Milliseconds",!1),fe("z",0,0,"zoneAbbr"),fe("zz",0,0,"zoneName");function U_(){return this._isUTC?"UTC":""}function A_(){return this._isUTC?"Coordinated Universal Time":""}var ce=le.prototype;ce.add=Pc,ce.calendar=Uc,ce.clone=Ac,ce.diff=Wc,ce.endOf=s_,ce.format=Jc,ce.from=Xc,ce.fromNow=Zc,ce.to=e_,ce.toNow=t_,ce.get=gs,ce.invalidAt=h_,ce.isAfter=Lc,ce.isBefore=zc,ce.isBetween=Rc,ce.isSame=qc,ce.isSameOrAfter=Kc,ce.isSameOrBefore=Gc,ce.isValid=c_,ce.lang=Dl,ce.locale=Tl,ce.localeData=jl,ce.max=cc,ce.min=dc,ce.parsingFlags=__,ce.set=ks,ce.startOf=o_,ce.subtract=Tc,ce.toArray=n_,ce.toObject=l_,ce.toDate=r_,ce.toISOString=Hc,ce.inspect=Qc,typeof Symbol<"u"&&Symbol.for!=null&&(ce[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ce.toJSON=d_,ce.toString=Yc,ce.unix=i_,ce.valueOf=a_,ce.creationData=m_,ce.eraName=b_,ce.eraNarrow=g_,ce.eraAbbr=$_,ce.eraYear=y_,ce.year=pl,ce.isLeapYear=ld,ce.weekYear=C_,ce.isoWeekYear=S_,ce.quarter=ce.quarters=D_,ce.month=ml,ce.daysInMonth=ad,ce.week=ce.weeks=ud,ce.isoWeek=ce.isoWeeks=pd,ce.weeksInYear=E_,ce.weeksInWeekYear=P_,ce.isoWeeksInYear=F_,ce.isoWeeksInISOWeekYear=x_,ce.date=Al,ce.day=ce.days=Sd,ce.weekday=Fd,ce.isoWeekday=xd,ce.dayOfYear=j_,ce.hour=ce.hours=Md,ce.minute=ce.minutes=O_,ce.second=ce.seconds=M_,ce.millisecond=ce.milliseconds=Ll,ce.utcOffset=$c,ce.utc=Bc,ce.local=vc,ce.parseZone=kc,ce.hasAlignedHourOffset=Vc,ce.isDST=Nc,ce.isLocal=Cc,ce.isUtcOffset=Sc,ce.isUtc=Sl,ce.isUTC=Sl,ce.zoneAbbr=U_,ce.zoneName=A_,ce.dates=T("dates accessor is deprecated. Use date instead.",Al),ce.months=T("months accessor is deprecated. Use month instead",ml),ce.years=T("years accessor is deprecated. Use year instead",pl),ce.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yc),ce.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wc);function L_(d){return Vo(d*1e3)}function z_(){return Vo.apply(null,arguments).parseZone()}function zl(d){return d}var bo=oo.prototype;bo.calendar=no,bo.longDateFormat=us,bo.invalidDate=Go,bo.ordinal=Uo,bo.preparse=zl,bo.postformat=zl,bo.relativeTime=Wo,bo.pastFuture=xs,bo.set=de,bo.eras=u_,bo.erasParse=p_,bo.erasConvertYear=f_,bo.erasAbbrRegex=v_,bo.erasNameRegex=B_,bo.erasNarrowRegex=k_,bo.months=ed,bo.monthsShort=td,bo.monthsParse=sd,bo.monthsRegex=nd,bo.monthsShortRegex=rd,bo.week=cd,bo.firstDayOfYear=md,bo.firstDayOfWeek=hd,bo.weekdays=kd,bo.weekdaysMin=Nd,bo.weekdaysShort=Vd,bo.weekdaysParse=Cd,bo.weekdaysRegex=Ed,bo.weekdaysShortRegex=Pd,bo.weekdaysMinRegex=Td,bo.isPM=jd,bo.meridiem=Id;function Zs(d,_,u,f){var g=ds(),w=V().set(f,_);return g[u](w,d)}function Rl(d,_,u){if(p(d)&&(_=d,d=void 0),d=d||"",_!=null)return Zs(d,_,u,"month");var f,g=[];for(f=0;f<12;f++)g[f]=Zs(d,f,u,"month");return g}function nl(d,_,u,f){typeof d=="boolean"?(p(_)&&(u=_,_=void 0),_=_||""):(_=d,u=_,d=!1,p(_)&&(u=_,_=void 0),_=_||"");var g=ds(),w=d?g._week.dow:0,A,so=[];if(u!=null)return Zs(_,(u+w)%7,f,"day");for(A=0;A<7;A++)so[A]=Zs(_,(A+w)%7,f,"day");return so}function R_(d,_){return Rl(d,_,"months")}function q_(d,_){return Rl(d,_,"monthsShort")}function K_(d,_,u){return nl(d,_,u,"weekdays")}function G_(d,_,u){return nl(d,_,u,"weekdaysShort")}function W_(d,_,u){return nl(d,_,u,"weekdaysMin")}ys("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(d){var _=d%10,u=co(d%100/10)===1?"th":_===1?"st":_===2?"nd":_===3?"rd":"th";return d+u}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",ys),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ds);var cs=Math.abs;function Y_(){var d=this._data;return this._milliseconds=cs(this._milliseconds),this._days=cs(this._days),this._months=cs(this._months),d.milliseconds=cs(d.milliseconds),d.seconds=cs(d.seconds),d.minutes=cs(d.minutes),d.hours=cs(d.hours),d.months=cs(d.months),d.years=cs(d.years),this}function ql(d,_,u,f){var g=es(_,u);return d._milliseconds+=f*g._milliseconds,d._days+=f*g._days,d._months+=f*g._months,d._bubble()}function H_(d,_){return ql(this,d,_,1)}function Q_(d,_){return ql(this,d,_,-1)}function Kl(d){return d<0?Math.floor(d):Math.ceil(d)}function J_(){var d=this._milliseconds,_=this._days,u=this._months,f=this._data,g,w,A,so,ho;return d>=0&&_>=0&&u>=0||d<=0&&_<=0&&u<=0||(d+=Kl(ll(u)+_)*864e5,_=0,u=0),f.milliseconds=d%1e3,g=To(d/1e3),f.seconds=g%60,w=To(g/60),f.minutes=w%60,A=To(w/60),f.hours=A%24,_+=To(A/24),ho=To(Gl(_)),u+=ho,_-=Kl(ll(ho)),so=To(u/12),u%=12,f.days=_,f.months=u,f.years=so,this}function Gl(d){return d*4800/146097}function ll(d){return d*146097/4800}function X_(d){if(!this.isValid())return NaN;var _,u,f=this._milliseconds;if(d=Ao(d),d==="month"||d==="quarter"||d==="year")switch(_=this._days+f/864e5,u=this._months+Gl(_),d){case"month":return u;case"quarter":return u/3;case"year":return u/12}else switch(_=this._days+Math.round(ll(this._months)),d){case"week":return _/7+f/6048e5;case"day":return _+f/864e5;case"hour":return _*24+f/36e5;case"minute":return _*1440+f/6e4;case"second":return _*86400+f/1e3;case"millisecond":return Math.floor(_*864e5)+f;default:throw new Error("Unknown unit "+d)}}function Z_(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+co(this._months/12)*31536e6:NaN}function _s(d){return function(){return this.as(d)}}var eh=_s("ms"),th=_s("s"),oh=_s("m"),sh=_s("h"),ah=_s("d"),ih=_s("w"),rh=_s("M"),nh=_s("Q"),lh=_s("y");function dh(){return es(this)}function ch(d){return d=Ao(d),this.isValid()?this[d+"s"]():NaN}function Ss(d){return function(){return this.isValid()?this._data[d]:NaN}}var _h=Ss("milliseconds"),hh=Ss("seconds"),mh=Ss("minutes"),uh=Ss("hours"),ph=Ss("days"),fh=Ss("months"),bh=Ss("years");function gh(){return To(this.days()/7)}var hs=Math.round,Ds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function $h(d,_,u,f,g){return g.relativeTime(_||1,!!u,d,f)}function yh(d,_,u,f){var g=es(d).abs(),w=hs(g.as("s")),A=hs(g.as("m")),so=hs(g.as("h")),ho=hs(g.as("d")),ko=hs(g.as("M")),zo=hs(g.as("w")),ms=hs(g.as("y")),vs=w<=u.ss&&["s",w]||w<u.s&&["ss",w]||A<=1&&["m"]||A<u.m&&["mm",A]||so<=1&&["h"]||so<u.h&&["hh",so]||ho<=1&&["d"]||ho<u.d&&["dd",ho];return u.w!=null&&(vs=vs||zo<=1&&["w"]||zo<u.w&&["ww",zo]),vs=vs||ko<=1&&["M"]||ko<u.M&&["MM",ko]||ms<=1&&["y"]||["yy",ms],vs[2]=_,vs[3]=+d>0,vs[4]=f,$h.apply(null,vs)}function Bh(d){return d===void 0?hs:typeof d=="function"?(hs=d,!0):!1}function vh(d,_){return Ds[d]===void 0?!1:_===void 0?Ds[d]:(Ds[d]=_,d==="s"&&(Ds.ss=_-1),!0)}function kh(d,_){if(!this.isValid())return this.localeData().invalidDate();var u=!1,f=Ds,g,w;return typeof d=="object"&&(_=d,d=!1),typeof d=="boolean"&&(u=d),typeof _=="object"&&(f=Object.assign({},Ds,_),_.s!=null&&_.ss==null&&(f.ss=_.s-1)),g=this.localeData(),w=yh(this,!u,f,g),u&&(w=g.pastFuture(+this,w)),g.postformat(w)}var dl=Math.abs;function js(d){return(d>0)-(d<0)||+d}function ja(){if(!this.isValid())return this.localeData().invalidDate();var d=dl(this._milliseconds)/1e3,_=dl(this._days),u=dl(this._months),f,g,w,A,so=this.asSeconds(),ho,ko,zo,ms;return so?(f=To(d/60),g=To(f/60),d%=60,f%=60,w=To(u/12),u%=12,A=d?d.toFixed(3).replace(/\.?0+$/,""):"",ho=so<0?"-":"",ko=js(this._months)!==js(so)?"-":"",zo=js(this._days)!==js(so)?"-":"",ms=js(this._milliseconds)!==js(so)?"-":"",ho+"P"+(w?ko+w+"Y":"")+(u?ko+u+"M":"")+(_?zo+_+"D":"")+(g||f||d?"T":"")+(g?ms+g+"H":"")+(f?ms+f+"M":"")+(d?ms+A+"S":"")):"P0D"}var fo=Ws.prototype;fo.isValid=pc,fo.abs=Y_,fo.add=H_,fo.subtract=Q_,fo.as=X_,fo.asMilliseconds=eh,fo.asSeconds=th,fo.asMinutes=oh,fo.asHours=sh,fo.asDays=ah,fo.asWeeks=ih,fo.asMonths=rh,fo.asQuarters=nh,fo.asYears=lh,fo.valueOf=Z_,fo._bubble=J_,fo.clone=dh,fo.get=ch,fo.milliseconds=_h,fo.seconds=hh,fo.minutes=mh,fo.hours=uh,fo.days=ph,fo.weeks=gh,fo.months=fh,fo.years=bh,fo.humanize=kh,fo.toISOString=ja,fo.toString=ja,fo.toJSON=ja,fo.locale=Tl,fo.localeData=jl,fo.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ja),fo.lang=Dl,fe("X",0,0,"unix"),fe("x",0,0,"valueOf"),M("x",io),M("X",Os),to("X",function(d,_,u){u._d=new Date(parseFloat(d)*1e3)}),to("x",function(d,_,u){u._d=new Date(co(d))});//! moment.js
return i.version="2.29.4",s(Vo),i.fn=ce,i.min=_c,i.max=hc,i.now=mc,i.utc=V,i.unix=L_,i.months=R_,i.isDate=y,i.locale=ys,i.invalid=he,i.duration=es,i.isMoment=X,i.weekdays=K_,i.parseZone=z_,i.localeData=ds,i.isDuration=Ys,i.monthsShort=q_,i.weekdaysMin=W_,i.defineLocale=Za,i.updateLocale=zd,i.locales=Rd,i.weekdaysShort=G_,i.normalizeUnits=Ao,i.relativeTimeRounding=Bh,i.relativeTimeThreshold=vh,i.calendarFormat=Ic,i.prototype=ce,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(moment)),momentExports}(function(o,t){(function(a,i){i(typeof commonjsRequire=="function"?requireMoment():a.moment)})(commonjsGlobal,function(a){//! moment.js locale configuration
function i(l,c){var m=l.split("_");return c%10===1&&c%100!==11?m[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?m[1]:m[2]}function s(l,c,m){var p={ss:c?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:c?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return m==="m"?c?"минута":"минуту":l+" "+i(p[m],+l)}var r=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],n=a.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}else return this.day()===2?"[Во] dddd, [в] LT":"[В] dddd, [в] LT"},lastWeek:function(l){if(l.week()!==this.week())switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}else return this.day()===2?"[Во] dddd, [в] LT":"[В] dddd, [в] LT"},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:s,m:s,mm:s,h:"час",hh:s,d:"день",dd:s,w:"неделя",ww:s,M:"месяц",MM:s,y:"год",yy:s},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(l){return/^(дня|вечера)$/.test(l)},meridiem:function(l,c,m){return l<4?"ночи":l<12?"утра":l<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(l,c){switch(c){case"M":case"d":case"DDD":return l+"-й";case"D":return l+"-го";case"w":case"W":return l+"-я";default:return l}},week:{dow:1,doy:4}});return n})})();const _hoisted_1$5=createStaticVNode('<button type="button" class="btn btn-primary p-3 w-100 mb-2" data-bs-toggle="modal" data-bs-target="#statistic-modal"><i class="fa-solid fa-chart-pie"></i> Статистика </button><div class="modal fade" id="statistic-modal" tabindex="-1" aria-labelledby="fullscreenModalLabel" aria-hidden="true"><div class="modal-dialog modal-fullscreen"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="fullscreenModalLabel">Статистика по столикам</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button></div><div class="modal-body"><div class="alert alert-danger"> Статистика в данный момент находится на стадии разработки! Параметры и значения не соответствуют реальным </div><table class="table table-bordered mb-2"><thead class="table-light"><tr><th>Параметр</th><th>Значение</th></tr></thead><tbody><tr><td>Среднее время ожидания заказа</td><td>12 минут</td></tr><tr><td>Количество обслуженных столиков за день</td><td>45</td></tr><tr><td>Средний чек</td><td>1 250 ₽</td></tr><tr><td>Уровень удовлетворенности клиентов</td><td>92%</td></tr><tr><td>Среднее время на обслуживание одного столика</td><td>35 минут</td></tr><tr><td>Процент повторных заказов</td><td>28%</td></tr><tr><td>Количество официантов в смену</td><td>6</td></tr><tr><td>Процент просроченных заказов</td><td>3%</td></tr></tbody></table><button type="button" class="btn btn-primary w-100 p-3">Скачать файл статистики</button></div><div class="modal-footer"><button type="button" class="btn btn-secondary w-100 p-3" data-bs-dismiss="modal">Закрыть</button></div></div></div></div>',2),_hoisted_3$4={class:"row row-cols-1"},_hoisted_4$3={class:"col mb-2"},_hoisted_5$3={class:"card-body"},_hoisted_6$2={class:"row"},_hoisted_7$2={class:"col-4"},_hoisted_8$2={class:"mb-2",style:{"font-size":"12px"}},_hoisted_9$2={key:0,class:"col-8"},_hoisted_10$2={class:"mb-2",style:{"font-size":"12px"}},_hoisted_11$2=createBaseVNode("i",{class:"fa-solid fa-bell-concierge"},null,-1),_hoisted_12$2={class:"col-12"},_hoisted_13$2={class:"mb-2",style:{"font-size":"12px"}},_hoisted_14$2=createBaseVNode("i",{class:"fa-solid fa-people-group"},null,-1),_hoisted_15$2={class:"fw-bold"},_hoisted_16$2={class:"col-12"},_hoisted_17$2={class:"mb-2",style:{"font-size":"12px"}},_hoisted_18$2={key:1,class:"col-12"},_hoisted_19$2=createBaseVNode("p",{class:"mb-2 bg-danger text-white fw-bold"},"Данный столик забронирован",-1),_hoisted_20$1={class:"mb-2",style:{"font-size":"12px"}},_hoisted_21$1={class:"mb-2",style:{"font-size":"12px"}},_hoisted_22$1={class:"mb-2",style:{"font-size":"12px"}},_hoisted_23$1={class:"mb-0",style:{"font-size":"12px"}},_hoisted_24$1={class:"btn-group w-100 mb-0"},_hoisted_25$1=["onClick"],_hoisted_26$1=createBaseVNode("i",{class:"fa-solid fa-arrow-right-to-bracket"},null,-1),_hoisted_27$1=["onClick"],_hoisted_28$1=createBaseVNode("i",{class:"fa-solid fa-arrow-right-to-bracket"},null,-1),_hoisted_29$1=["onClick"],_hoisted_30$1=createBaseVNode("i",{class:"fa-solid fa-eye"},null,-1),_hoisted_31$1=["onClick"],_hoisted_32$1=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_33$1={key:1,class:"alert alert-light"},__default__$4={props:["selected"],data(){return{search:null,tables:[],paginate:null,sort:{param:null,direction:"asc"}}},computed:{...mapGetters(["getTables","getTablesPaginateObject"]),self(){return window.self||null},tg(){return window.Telegram.WebApp}},mounted(){this.loadTables(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.push({name:"MenuV2"})})},methods:{timeAgo(o){return hooks.locale("ru"),hooks(o).format("D-MM-YYYY [в] HH:mm")},closeTable(o){this.$store.dispatch("closeTableOrder",{dataObject:{table_id:o}}).then(t=>{this.$notify({title:"Заказ",text:"Столик успешно закрыт",type:"success"}),this.loadTable()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка завершения работы столика",type:"error"})})},takeATable(o){this.changeTableWaiter(o)},changeTableWaiter(o){return this.$store.dispatch("changeTableWaiter",{dataObject:{table_id:o}}).then(t=>{this.$notify({title:"Смена официанта",text:"Официант успешно изменен",type:"success"}),this.loadTables()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка смены официанта",type:"error"})})},goToTable(o){this.$router.push({name:"TableV2",params:{tableId:o}})},nextTables(o){this.loadTables(o)},loadTables(o=0){return this.$store.dispatch("loadTables",{dataObject:{},page:o,size:100}).then(t=>{this.tables=this.getTables,this.paginate=this.getTablesPaginateObject}).catch(()=>{})}}},_sfc_main$5=Object.assign(__default__$4,{__name:"TablesList",setup(o){return(t,a)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$5,t.tables.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_3$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tables,(i,s)=>{var r,n,l,c,m,p;return openBlock(),createElementBlock("div",_hoisted_4$3,[createBaseVNode("div",{class:normalizeClass([{"border-primary":i.officiant_id!=null&&i.officiant_id===t.self.id},"card"])},[createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$2,[createBaseVNode("p",_hoisted_8$2,"Столик #"+toDisplayString(parseInt(i.number||"0")+1),1)]),i.officiant?(openBlock(),createElementBlock("div",_hoisted_9$2,[createBaseVNode("p",_hoisted_10$2,[_hoisted_11$2,createTextVNode(" "+toDisplayString(((r=i.officiant)==null?void 0:r.name)||((n=i.officiant)==null?void 0:n.fio_from_telegram)||"Официант"),1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("p",_hoisted_13$2,[_hoisted_14$2,createTextVNode(" Клиентов за столиком "),createBaseVNode("strong",_hoisted_15$2,toDisplayString(((l=i.clients)==null?void 0:l.length)||0),1)])]),createBaseVNode("div",_hoisted_16$2,[createBaseVNode("p",_hoisted_17$2,"Начало обслуживания "+toDisplayString(t.timeAgo(i.start_at)),1)]),i.booked_info?(openBlock(),createElementBlock("div",_hoisted_18$2,[_hoisted_19$2,createBaseVNode("p",_hoisted_20$1,toDisplayString(i.booked_date_at)+" в "+toDisplayString(i.booked_time_at),1),createBaseVNode("p",_hoisted_21$1,"На имя: "+toDisplayString((c=i.booked_info)==null?void 0:c.name),1),createBaseVNode("p",_hoisted_22$1,"Контакт для связи: "+toDisplayString((m=i.booked_info)==null?void 0:m.phone),1),createBaseVNode("p",_hoisted_23$1,"Доп инфо: "+toDisplayString((p=i.booked_info)==null?void 0:p.description),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_24$1,[i.officiant_id==null?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:y=>t.takeATable(i.id),class:"btn btn-outline-primary",style:{"font-size":"12px"}},[_hoisted_26$1,createTextVNode(" В работу ")],8,_hoisted_25$1)):createCommentVNode("",!0),t.self.id===i.officiant_id?(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:y=>t.changeTableWaiter(i.id),class:"btn btn-outline-primary",style:{"font-size":"12px"}},[_hoisted_28$1,createTextVNode(" Выйти ")],8,_hoisted_27$1)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:y=>t.goToTable(i.id),class:"btn btn-outline-primary",style:{"font-size":"12px"}},[_hoisted_30$1,createTextVNode(" Просмотр ")],8,_hoisted_29$1),t.self.id===i.officiant_id?(openBlock(),createElementBlock("button",{key:2,type:"button",onClick:y=>t.closeTable(i.id),class:"btn btn-outline-primary",style:{"font-size":"12px"}},[_hoisted_32$1,createTextVNode(" Закрыть ")],8,_hoisted_31$1)):createCommentVNode("",!0)])])],2)])}),256))]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextTables,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("p",_hoisted_33$1," В данный момент нет ваших столиков в обслуживании и клиентов без официанта. "))],64))}}),_hoisted_1$4={class:"container py-2"},_hoisted_2$4=createBaseVNode("h6",null,"Управление столиками",-1),__default__$3={},_sfc_main$4=Object.assign(__default__$3,{__name:"TablesManager",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[_hoisted_2$4,createVNode(_sfc_main$5)]))}}),TablesManager=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$4},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3={class:"container"},_hoisted_2$3={key:0,class:"alert alert-danger my-2"},_hoisted_3$3=createBaseVNode("strong",{class:"fw-bold text-primary"},"закрыт",-1),_hoisted_4$2={class:"list-group list-group-flush"},_hoisted_5$2={class:"list-group-item"},_hoisted_6$1={class:"d-flex justify-content-between mb-0"},_hoisted_7$1={class:"fw-bold text-primary"},_hoisted_8$1={class:"list-group-item"},_hoisted_9$1={class:"d-flex justify-content-between mb-0"},_hoisted_10$1={key:0,href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#creator-profile-modal",class:"fw-bold text-primary",style:{"text-align":"right"}},_hoisted_11$1=createBaseVNode("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1),_hoisted_12$1={key:1},_hoisted_13$1={class:"list-group-item"},_hoisted_14$1={class:"d-flex justify-content-between mb-0"},_hoisted_15$1={key:0,"data-bs-toggle":"modal","data-bs-target":"#officiant-profile-modal",href:"javascript:void(0)",style:{"text-align":"right"},class:"fw-bold text-primary"},_hoisted_16$1=createBaseVNode("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1),_hoisted_17$1={key:1},_hoisted_18$1={class:"list-group-item"},_hoisted_19$1={"data-bs-toggle":"modal","data-bs-target":"#clients-list-modal",class:"d-flex justify-content-between mb-0"},_hoisted_20={class:"fw-bold text-primary"},_hoisted_21={class:"list-group-item"},_hoisted_22={class:"d-flex justify-content-between mb-0"},_hoisted_23={class:"fw-bold text-primary"},_hoisted_24={class:"list-group-item"},_hoisted_25={"data-bs-toggle":"modal","data-bs-target":"#add-additional-modal",class:"d-flex justify-content-between mb-0"},_hoisted_26={class:"fw-bold text-primary"},_hoisted_27=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_28={class:"list-group-item"},_hoisted_29={class:"d-flex justify-content-between mb-0 fw-bold"},_hoisted_30={class:"fw-bold text-primary"},_hoisted_31=createBaseVNode("div",{class:"divider my-3"},"Действия",-1),_hoisted_32=["disabled"],_hoisted_33={key:0},_hoisted_34={key:1},_hoisted_35={class:"alert alert-light mb-2"},_hoisted_36=createBaseVNode("p",{class:"mb-2"},"Внимание! Закрывая столик вы подтверждаете что клиент уже завершает посещение заведения и оплатил заказ!",-1),_hoisted_37={class:"form-check form-switch"},_hoisted_38=createBaseVNode("label",{class:"form-check-label",for:"need-automatic-cashback"},"Начислить автоматически баллы после закрытия!",-1),_hoisted_39={class:"form-check form-switch"},_hoisted_40=createBaseVNode("label",{class:"form-check-label",for:"can-close-table"},"Всё проверено, точно можно закрыть!",-1),_hoisted_41=["disabled"],_hoisted_42=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_43=createBaseVNode("p",{class:"divider my-3"},"Заказы клиентов",-1),_hoisted_44={class:"my-3"},_hoisted_45={class:"fw-bold"},_hoisted_46={class:"list-group"},_hoisted_47=["onClick"],_hoisted_48={class:"fw-bold",style:{"font-size":"10px"}},_hoisted_49={key:1},_hoisted_50={class:"alert alert-light d-flex justify-content-between my-2"},_hoisted_51={class:"fw-bold"},_hoisted_52=createBaseVNode("div",{class:"divider my-3"},"Действия",-1),_hoisted_53={class:"btn-group-vertical w-100 mb-3"},_hoisted_54=["disabled"],_hoisted_55=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_56=["disabled"],_hoisted_57=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_58=["disabled"],_hoisted_59=createBaseVNode("i",{class:"fa-solid fa-hand"},null,-1),_hoisted_60={class:"btn-group-vertical w-100"},_hoisted_61=["disabled"],_hoisted_62=createBaseVNode("i",{class:"fa-solid fa-check"},null,-1),_hoisted_63=["disabled"],_hoisted_64=createBaseVNode("i",{class:"fa-solid fa-ban"},null,-1),_hoisted_65=["disabled"],_hoisted_66=createBaseVNode("i",{class:"fa-solid fa-download"},null,-1),_hoisted_67={class:"modal fade",id:"creator-profile-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_68={class:"modal-dialog modal-fullscreen"},_hoisted_69={class:"modal-content"},_hoisted_70=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Профиль клиента"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_71={class:"modal-body"},_hoisted_72={class:"modal fade",id:"officiant-profile-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_73={class:"modal-dialog modal-fullscreen"},_hoisted_74={class:"modal-content"},_hoisted_75=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Профиль официанта"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_76={class:"modal-body"},_hoisted_77={class:"modal fade",id:"clients-list-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_78={class:"modal-dialog modal-fullscreen"},_hoisted_79={class:"modal-content"},_hoisted_80=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Посетители за столиком"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_81={class:"modal-body"},_hoisted_82={key:0,class:"list-group list-group-numbered"},_hoisted_83={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_84={class:"ms-2 me-auto"},_hoisted_85={class:"fw-bold"},_hoisted_86={class:"mb-0"},_hoisted_87={class:"fw-bold"},_hoisted_88={class:"mb-0"},_hoisted_89={class:"fw-bold"},_hoisted_90={class:"badge text-bg-primary rounded-pill"},_hoisted_91={class:"modal fade",id:"add-additional-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_92={class:"modal-dialog modal-fullscreen"},_hoisted_93={class:"modal-content"},_hoisted_94=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Дополнительные услуги"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_95={class:"modal-body"},_hoisted_96={class:"form-floating mb-3"},_hoisted_97=createBaseVNode("label",{for:"floatingInput"},"Описание",-1),_hoisted_98={class:"form-floating mb-3"},_hoisted_99=createBaseVNode("label",{for:"floatingInput"},"Цена, руб",-1),_hoisted_100=createBaseVNode("button",{class:"btn btn-primary w-100 p-3"}," Создать сервис ",-1),_hoisted_101=createBaseVNode("h6",{class:"divider my-3"},"Добавленные сервисы",-1),_hoisted_102={class:"list-group"},_hoisted_103={class:"list-group-item d-flex justify-content-between"},_hoisted_104={class:"fw-bold"},_hoisted_105=["onClick"],_hoisted_106=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_107=[_hoisted_106],_hoisted_108={class:"modal-footer"},_hoisted_109=["disabled"],__default__$2={data(){return{can_close_table:!1,need_automatic_cashback:!0,serviceForm:{title:null,price:0},services:[],summary_price:0,summary_count:0,selected:[],table:null,clients:[],basket:[]}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){this.loadTable(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{closeTable(){let o=this.$route.params.tableId;this.$store.dispatch("closeTableOrder",{dataObject:{table_id:o}}).then(t=>{this.$notify({title:"Заказ",text:"Столик успешно закрыт",type:"success"}),this.loadTable()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка завершения работы столика",type:"error"})})},downloadTableData(){},acceptTableOrder(){this.changeOrderStatus(0)},declineTableOrder(){this.changeOrderStatus(1)},changeOrderStatus(o){let t=this.$route.params.tableId;this.$store.dispatch("acceptTableOder",{dataObject:{table_id:t,type:o}}).then(a=>{this.$notify({title:"Заказ",text:"Статус заказа успешно изменен",type:"success"}),this.loadTable()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка изменения статуса заказа",type:"error"})})},storeServices(){let o=this.$route.params.tableId;this.$store.dispatch("storeTableAdditionalServices",{dataObject:{table_id:o,services:this.services}}).then(t=>{this.$notify({title:"Заказ",text:"Заказ успешно передан на кухню",type:"success"}),this.services=[],this.loadTable()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка передачи заказа",type:"error"})})},deselect(){this.selected=[]},removeService(o){this.services.splice(o,1)},pushService(){const o=JSON.parse(JSON.stringify(this.serviceForm));this.services.push(o),this.serviceForm.price=0,this.serviceForm.title=null},selectBasketItem(o){let t=this.selected.findIndex(a=>o.id===a);t!==-1?this.selected.splice(t,1):this.selected.push(o.id)},changeTableWaiter(){let o=this.$route.params.tableId;this.$store.dispatch("changeTableWaiter",{dataObject:{table_id:o}}).then(t=>{this.$notify({title:"Смена официанта",text:"Официант успешно изменен",type:"success"}),this.table=t.data}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка смены официанта",type:"error"})})},loadTable(){let o=this.$route.params.tableId;this.$store.dispatch("loadTableData",{dataObject:{table_id:o}}).then(t=>{this.summary_price=t.summary_price||0,this.summary_count=t.summary_count||0,this.table=t.table||null,this.services=[...this.services,...this.table.additional_services||[]],this.clients=t.clients||[],this.basket=t.basket||[]})}}},_sfc_main$3=Object.assign(__default__$2,{__name:"Table",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[t.table?(openBlock(),createElementBlock(Fragment,{key:0},[t.table.closed_at!=null?(openBlock(),createElementBlock("div",_hoisted_2$3,[createTextVNode(" Внимание! Данный столик уже "),_hoisted_3$3,createTextVNode("! Операции со столиком недоступны! ")])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_4$2,[createBaseVNode("li",_hoisted_5$2,[createBaseVNode("p",_hoisted_6$1,[createTextVNode("Номер столика "),createBaseVNode("span",_hoisted_7$1,"#"+toDisplayString(t.table.number||"1"),1)])]),createBaseVNode("li",_hoisted_8$1,[createBaseVNode("p",_hoisted_9$1,[createTextVNode("Столик оформлен на "),t.table.creator?(openBlock(),createElementBlock("a",_hoisted_10$1,[_hoisted_11$1,createTextVNode(" "+toDisplayString(t.table.creator.fio_from_telegram||"-"),1)])):(openBlock(),createElementBlock("span",_hoisted_12$1," не указано "))])]),createBaseVNode("li",_hoisted_13$1,[createBaseVNode("p",_hoisted_14$1,[createTextVNode("Столик обслуживает "),t.table.officiant?(openBlock(),createElementBlock("a",_hoisted_15$1,[_hoisted_16$1,createTextVNode(" "+toDisplayString(t.table.officiant.name||t.table.officiant.fio_from_telegram||"-"),1)])):(openBlock(),createElementBlock("span",_hoisted_17$1," не указано "))])]),createBaseVNode("li",_hoisted_18$1,[createBaseVNode("p",_hoisted_19$1,[createTextVNode("Кол-во гостей "),createBaseVNode("span",_hoisted_20,toDisplayString(t.clients.length)+" чел.",1)])]),createBaseVNode("li",_hoisted_21,[createBaseVNode("p",_hoisted_22,[createTextVNode("Заказано позиций "),createBaseVNode("span",_hoisted_23,toDisplayString(t.summary_count)+" ед.",1)])]),createBaseVNode("li",_hoisted_24,[createBaseVNode("p",_hoisted_25,[createTextVNode("Дополнительные услуги "),createBaseVNode("span",_hoisted_26,[_hoisted_27,createTextVNode(" "+toDisplayString((t.table.additional_services||[]).length)+" ед.",1)])])]),createBaseVNode("li",_hoisted_28,[createBaseVNode("p",_hoisted_29,[createTextVNode("Итого "),createBaseVNode("span",_hoisted_30,toDisplayString(t.summary_price)+" ₽",1)])])]),_hoisted_31,createBaseVNode("button",{type:"button",disabled:t.table.closed_at!=null,onClick:a[0]||(a[0]=(...i)=>t.changeTableWaiter&&t.changeTableWaiter(...i)),class:"btn btn-primary w-100 p-3 mb-2"},[t.table.officiant_id==null?(openBlock(),createElementBlock("span",_hoisted_33,"Взять столик в работу")):(openBlock(),createElementBlock("span",_hoisted_34,"Перестать обслуживать столик"))],8,_hoisted_32),createBaseVNode("div",_hoisted_35,[_hoisted_36,createBaseVNode("div",_hoisted_37,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[1]||(a[1]=i=>t.need_automatic_cashback=i),type:"checkbox",role:"switch",id:"need-automatic-cashback"},null,512),[[vModelCheckbox,t.need_automatic_cashback]]),_hoisted_38]),createBaseVNode("div",_hoisted_39,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":a[2]||(a[2]=i=>t.can_close_table=i),type:"checkbox",role:"switch",id:"can-close-table"},null,512),[[vModelCheckbox,t.can_close_table]]),_hoisted_40])]),createBaseVNode("button",{type:"button",disabled:!t.can_close_table||t.table.closed_at!=null,onClick:a[3]||(a[3]=(...i)=>t.closeTable&&t.closeTable(...i)),class:"btn btn-primary w-100 p-3"},[_hoisted_42,createTextVNode(" Закрыть столик ")],8,_hoisted_41),_hoisted_43,t.basket.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.basket,i=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("p",_hoisted_44,[createTextVNode("Клиент "),createBaseVNode("span",_hoisted_45,toDisplayString(i.name||"-"),1)]),createBaseVNode("ul",_hoisted_46,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.basket,s=>{var r;return openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item d-flex justify-content-between align-items-center",{"bg-warning text-white fw-bold":(t.selected||[]).indexOf(s.id)!=-1}]),onClick:n=>t.selectBasketItem(s)},[s.product?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",null,[createBaseVNode("i",{class:normalizeClass([{"text-secondary":s.table_approved_at==null,"text-success":s.table_approved_at!=null},"fa-solid fa-check-double"])},null,2),createTextVNode(" "+toDisplayString(((r=s.product)==null?void 0:r.title)||"-"),1)]),createBaseVNode("span",_hoisted_48,toDisplayString(s.count)+"ед. x "+toDisplayString(s.product.current_price)+"₽ = "+toDisplayString(s.count*s.product.current_price)+"₽",1)],64)):(openBlock(),createElementBlock("span",_hoisted_49,"товар не найден"))],10,_hoisted_47)}),256))]),createBaseVNode("p",_hoisted_50,[createTextVNode("Итого по клиенту "),createBaseVNode("span",_hoisted_51,toDisplayString(i.summary_price||0)+"₽",1)])],64))),256)):createCommentVNode("",!0),_hoisted_52,t.selected.length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("p",null,[createTextVNode("Вы выбрали "+toDisplayString(t.selected.length||0)+" позиций ",1),createBaseVNode("span",{onClick:a[4]||(a[4]=(...i)=>t.deselect&&t.deselect(...i)),class:"text-primary"},"(отменить выделение)")]),createBaseVNode("div",_hoisted_53,[createBaseVNode("button",{type:"button",disabled:t.table.officiant_id==null||t.table.closed_at!=null,class:"btn btn-outline-primary p-3"},[_hoisted_55,createTextVNode(" Убрать выбранные из заказ ")],8,_hoisted_54),createBaseVNode("button",{type:"button",disabled:t.table.officiant_id==null||t.table.closed_at!=null,class:"btn btn-outline-primary p-3"},[_hoisted_57,createTextVNode(" Увеличить кол-во в заказе ")],8,_hoisted_56),createBaseVNode("button",{type:"button",disabled:t.table.officiant_id==null||t.table.closed_at!=null,class:"btn btn-outline-primary p-3"},[_hoisted_59,createTextVNode(" Добавить выбранное в стоп-лист ")],8,_hoisted_58)])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_60,[createBaseVNode("button",{type:"button",onClick:a[5]||(a[5]=(...i)=>t.acceptTableOrder&&t.acceptTableOrder(...i)),disabled:t.table.officiant_id==null||t.table.closed_at!=null,class:"btn btn-success p-3"},[_hoisted_62,createTextVNode(" Подтвердить заказ ")],8,_hoisted_61),createBaseVNode("button",{onClick:a[6]||(a[6]=(...i)=>t.declineTableOrder&&t.declineTableOrder(...i)),disabled:t.table.officiant_id==null||t.table.closed_at!=null,type:"button",class:"btn btn-danger p-3"},[_hoisted_64,createTextVNode(" Отклонить заказ ")],8,_hoisted_63),createBaseVNode("button",{onClick:a[7]||(a[7]=(...i)=>t.downloadTableData&&t.downloadTableData(...i)),disabled:t.table.officiant_id==null,type:"button",class:"btn btn-info p-3"},[_hoisted_66,createTextVNode(" Скачать данные файлом ")],8,_hoisted_65)]),createBaseVNode("div",_hoisted_67,[createBaseVNode("div",_hoisted_68,[createBaseVNode("div",_hoisted_69,[_hoisted_70,createBaseVNode("div",_hoisted_71,[t.table.creator?(openBlock(),createBlock(ProfileCard,{key:0,"can-edit":!1,data:t.table.creator},null,8,["data"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_72,[createBaseVNode("div",_hoisted_73,[createBaseVNode("div",_hoisted_74,[_hoisted_75,createBaseVNode("div",_hoisted_76,[t.table.officiant?(openBlock(),createBlock(ProfileCard,{key:0,"can-edit":!1,data:t.table.officiant},null,8,["data"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_77,[createBaseVNode("div",_hoisted_78,[createBaseVNode("div",_hoisted_79,[_hoisted_80,createBaseVNode("div",_hoisted_81,[t.clients.length>0?(openBlock(),createElementBlock("ol",_hoisted_82,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.clients,i=>(openBlock(),createElementBlock("li",_hoisted_83,[createBaseVNode("div",_hoisted_84,[createBaseVNode("div",_hoisted_85,toDisplayString(i.name||i.fio_from_telegram||i.telegram_chat_id||"-"),1),createBaseVNode("p",_hoisted_86,[createTextVNode("Номер телефона "),createBaseVNode("span",_hoisted_87,toDisplayString(i.phone||"не указан"),1)]),createBaseVNode("p",_hoisted_88,[createTextVNode("День рождения "),createBaseVNode("span",_hoisted_89,toDisplayString(i.birthday||"не указано"),1)])]),createBaseVNode("span",_hoisted_90,"#"+toDisplayString(i.id),1)]))),256))])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_91,[createBaseVNode("div",_hoisted_92,[createBaseVNode("div",_hoisted_93,[_hoisted_94,createBaseVNode("div",_hoisted_95,[createBaseVNode("form",{onSubmit:a[10]||(a[10]=withModifiers((...i)=>t.pushService&&t.pushService(...i),["prevent"]))},[createBaseVNode("div",_hoisted_96,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=i=>t.serviceForm.title=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.serviceForm.title]]),_hoisted_97]),createBaseVNode("div",_hoisted_98,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":a[9]||(a[9]=i=>t.serviceForm.price=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.serviceForm.price]]),_hoisted_99]),_hoisted_100],32),t.services.length>0?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_101,createBaseVNode("ul",_hoisted_102,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.services,(i,s)=>(openBlock(),createElementBlock("li",_hoisted_103,[createBaseVNode("span",null,[createTextVNode(toDisplayString((i==null?void 0:i.title)||"-")+" ",1),createBaseVNode("strong",_hoisted_104,toDisplayString(i.price)+" ₽",1)]),createBaseVNode("a",{onClick:r=>t.removeService(s),href:"javascript:void(0)"},_hoisted_107,8,_hoisted_105)]))),256))])],64)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_108,[createBaseVNode("button",{type:"button",onClick:a[11]||(a[11]=(...i)=>t.storeServices&&t.storeServices(...i)),disabled:t.services.length===0,class:"btn btn-primary w-100 p-3"},"Перенести сервисы в чек ",8,_hoisted_109)])])])])],64)):(openBlock(),createBlock(PreloaderV1,{key:1}))]))}}),Table=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3},Symbol.toStringTag,{value:"Module"})),_sfc_main$2={data(){return{tab:0,sending:!1,linkForm:{phone:null,name:null,email:null,amount:0,is_recurrent:!1,description:"Оплата заказа"}}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{submit(){this.sending=!0,this.$store.dispatch("sendSBPInvoice",{dataObject:this.linkForm}).then(o=>{this.sending=!1,this.linkForm.name=null,this.linkForm.phone=null,this.linkForm.email=null,this.linkForm.recurrent=!1,this.linkForm.description="Оплата заказа",this.linkForm.amount=0,this.$notify({title:"Оплата",text:"Вы успешно отправили ссылку на оплату",type:"success"})}).catch(()=>{this.sending=!1,this.$notify({title:"Упс...",text:"Что-то пошло не так...",type:"error"})})}}},_hoisted_1$2={class:"container py-3"},_hoisted_2$2=createBaseVNode("h6",null,[createBaseVNode("i",{class:"fa-solid fa-money-bill-transfer"}),createTextVNode(" Генерация ссылок на оплату")],-1),_hoisted_3$2={class:"form-check form-switch"},_hoisted_4$1=createBaseVNode("label",{class:"form-check-label",for:"is-recurent-payment"},"Является рекурентным",-1),_hoisted_5$1={class:"form-floating mb-2"},_hoisted_6=createBaseVNode("label",{for:"floatingInput"},[createTextVNode("Сумма, руб "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_7={class:"form-floating mb-2"},_hoisted_8={for:"floatingTextarea"},_hoisted_9={key:0,style:{"font-size":"12px"}},_hoisted_10=createBaseVNode("span",{class:"fw-bold text-danger"},"*",-1),_hoisted_11=createBaseVNode("div",{class:"divider my-3"},"Данные о клиенте",-1),_hoisted_12={class:"form-floating mb-2"},_hoisted_13=createBaseVNode("label",{for:"floatingInput"},"Имя клиента",-1),_hoisted_14={class:"form-floating mb-2"},_hoisted_15=createBaseVNode("label",{for:"floatingInput"},[createTextVNode("Телефон клиента "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_16={class:"form-floating mb-2"},_hoisted_17=createBaseVNode("label",{for:"floatingInput"},"Почта клиента",-1),_hoisted_18=["disabled"],_hoisted_19=createBaseVNode("i",{class:"fa-solid fa-paper-plane"},null,-1);function _sfc_render(o,t,a,i,s,r){const n=resolveDirective("mask");return openBlock(),createElementBlock("div",_hoisted_1$2,[_hoisted_2$2,createBaseVNode("form",{onSubmit:t[6]||(t[6]=withModifiers((...l)=>r.submit&&r.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_3$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=l=>s.linkForm.is_recurrent=l),type:"checkbox",role:"switch",id:"is-recurent-payment"},null,512),[[vModelCheckbox,s.linkForm.is_recurrent]]),_hoisted_4$1]),createBaseVNode("div",_hoisted_5$1,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[1]||(t[1]=l=>s.linkForm.amount=l),required:"",class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.linkForm.amount]]),_hoisted_6]),createBaseVNode("div",_hoisted_7,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{"min-height":"200px"},maxlength:"255",required:"","onUpdate:modelValue":t[2]||(t[2]=l=>s.linkForm.description=l),placeholder:"Leave a comment here",id:"floatingTextarea"},null,512),[[vModelText,s.linkForm.description]]),createBaseVNode("label",_hoisted_8,[createTextVNode("Описание услуги "),(s.linkForm.description||"").length>0?(openBlock(),createElementBlock("span",_hoisted_9,"("+toDisplayString(s.linkForm.description.length)+"/255)",1)):createCommentVNode("",!0),_hoisted_10])]),_hoisted_11,createBaseVNode("div",_hoisted_12,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=l=>s.linkForm.name=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.linkForm.name]]),_hoisted_13]),createBaseVNode("div",_hoisted_14,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>s.linkForm.phone=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[n,"+7(###) ###-##-##"],[vModelText,s.linkForm.phone]]),_hoisted_15]),createBaseVNode("div",_hoisted_16,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>s.linkForm.email=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,s.linkForm.email]]),_hoisted_17]),createBaseVNode("button",{disabled:s.sending,class:"btn btn-primary mb-2 w-100 p-3"},[_hoisted_19,createTextVNode(" Отправить ссылку на оплату в чат ")],8,_hoisted_18)],32)])}const SendInvoiceV2=_export_sfc(_sfc_main$2,[["render",_sfc_render]]),Invoice=Object.freeze(Object.defineProperty({__proto__:null,default:SendInvoiceV2},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1={class:"container"},_hoisted_2$1={class:"row"},_hoisted_3$1={class:"col-12"},_hoisted_4={key:1,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_5=createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),__default__$1={data(){return{page:null,bot:null}},mounted(){this.loadBotAdminConfig(),this.loadPageById()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},loadPageById(){let o=this.$route.params.pageId;this.$store.dispatch("loadPageById",{dataObject:{page_id:o}}).then(t=>{this.page=t.data})}}},_sfc_main$1=Object.assign(__default__$1,{__name:"PageEditor",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[t.page?(openBlock(),createBlock(_sfc_main$E,{key:0,"only-edit":!0,page:t.page},null,8,["page"])):(openBlock(),createElementBlock("div",_hoisted_4,[createTextVNode(" Подготавливаем данные... "),_hoisted_5]))])])]))}}),PageEditor=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1},Symbol.toStringTag,{value:"Module"})),_hoisted_1={class:"container py-3"},_hoisted_2={class:"row"},_hoisted_3={class:"col-12"},__default__={data(){}},_sfc_main=Object.assign(__default__,{__name:"Bookings",setup(o){return(t,a)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(TableBookingPlanner)])])]))}}),Bookings=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main},Symbol.toStringTag,{value:"Module"})),routes=[{path:"/",redirect:"/empty"},{name:"empty",path:"/empty",component:_sfc_main$3y,meta:{title:"Ничего не найдено",hide_menu:!0}},{name:"vip",path:"/vip",component:Vip,meta:{title:"VIP-анкета",hide_menu:!0}},{name:"FriendsGame",path:"/friends-game",component:_sfc_main$3I,meta:{title:"Приведи друзей",hide_menu:!0}},{name:"ClientPromocode",path:"/promocode-main",component:_sfc_main$3J,meta:{title:"Ввод промокода",hide_menu:!0}},{name:"appointments",path:"/appointment-events",component:_sfc_main$3P,meta:{title:"Запись",hide_menu:!0}},{name:"profileForm",path:"/profile-form",component:ProfileForm,meta:{title:"Анкета",hide_menu:!0}},{name:"quizzes",path:"/quizzes",component:_sfc_main$3W,meta:{title:"Квиз",hide_menu:!0}},{name:"quiz",path:"/quiz/:quizId",component:_sfc_main$3U,meta:{title:"Квиз",hide_menu:!0}},{name:"schedule",path:"/schedule-main",component:_sfc_main$40,meta:{title:"График работы",hide_menu:!0}},{name:"cashOut",path:"/cash-out",component:CashOut,meta:{title:"Вывод средств",hide_menu:!0}},{name:"admin",path:"/admins",component:_sfc_main$3w,meta:{title:"Активные администраторы",hide_menu:!0}},{name:"home",path:"/home",component:_sfc_main$4b,meta:{title:"Главная страница"}},{name:"booking",path:"/book-a-table",component:_sfc_main$3x,meta:{title:"Бронирование столика",hide_menu:!0}},{name:"products",path:"/products",component:_sfc_main$49,meta:{title:"Продукты"}},{name:"productsInCategory",path:"/products-in-category/:categoryId",component:_sfc_main$48,meta:{title:"Продукты в категории"}},{name:"categories",path:"/categories",component:_sfc_main$3t,meta:{title:"Категории товаров"}},{name:"OneArmedBanditPage",path:"/one-armed-bandit",component:_sfc_main$3N,meta:{title:"Однорукий бандит",hide_menu:!0}},{name:"wheel",path:"/wheel-of-fortune",component:_sfc_main$3F,meta:{title:"Колесо фортуны",hide_menu:!0}},{name:"wheelCustom",path:"/wheel-of-fortune-custom",component:_sfc_main$3D,meta:{title:"Колесо фортуны 2",hide_menu:!0}},{name:"saveup",path:"/save-up",component:_sfc_main$3A,meta:{title:"Накопительная карта",hide_menu:!0}},{name:"instagram",path:"/instagram-quest",component:_sfc_main$3z,meta:{title:"Инста-квест",hide_menu:!0}},{name:"product",path:"/products/:productId",component:_sfc_main$47,meta:{title:"Продукт"}},{name:"basket",path:"/basket",component:_sfc_main$44,meta:{title:"Корзина"}},{name:"favorites",path:"/favorites",component:_sfc_main$45,meta:{title:"Избранное"}}],adminRoutes=[{name:"AdminMain",path:"/admin-main",component:_sfc_main$3p,meta:{title:"Админ панель: Главная",hide_menu:!0,need_admin_menu:!0}},{name:"AdminChatLog",path:"/admin-chat-history/:botUserId",component:_sfc_main$3o,meta:{title:"История чата",hide_menu:!0,need_admin_menu:!0}},{name:"AdminPromotion",path:"/admin-promotion",component:_sfc_main$3i,meta:{title:"Админ панель: Реклама",hide_menu:!0,need_admin_menu:!0}},{name:"AdminMessageToUser",path:"/admin-callback",component:_sfc_main$2N,meta:{title:"Админ панель: Сообщение к пользователю",hide_menu:!0,need_admin_menu:!0}},{name:"AdminShopManager",path:"/admin-shop-manager",component:_sfc_main$39,meta:{title:"Админ панель: Магазин",hide_menu:!0,need_admin_menu:!0}},{name:"AdminCompanyManager",path:"/admin-company-manager",component:_sfc_main$37,meta:{title:"Профиль компании",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotManager",path:"/admin-bot-manager",component:AdminBotManager,meta:{title:"Настройки бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotAmo",path:"/admin-bot-amo",component:_sfc_main$2R,meta:{title:"AMO CRM",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotYClients",path:"/admin-bot-y-clients",component:_sfc_main$2P,meta:{title:"YClients",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotPage",path:"/admin-bot-page",component:_sfc_main$31,meta:{title:"Страницы бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotSlug",path:"/admin-bot-slug",component:_sfc_main$2Y,meta:{title:"Скрипты бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotDialog",path:"/admin-bot-dialog",component:_sfc_main$2U,meta:{title:"Диалоги бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotKeyboard",path:"/admin-bot-keyboard",component:_sfc_main$2T,meta:{title:"Клавитуары бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminStatistic",path:"/admin-statistic",component:_sfc_main$3h,meta:{title:"Админ панель: Статистика",hide_menu:!0,need_admin_menu:!0}},{name:"AdminWorkStatus",path:"/admin-work-status",component:_sfc_main$3g,meta:{title:"Админ панель: Работа",hide_menu:!0,need_admin_menu:!0}},{name:"AdminUsers",path:"/admin-users",component:AdminUsers,meta:{title:"Админ панель: Пользователи",hide_menu:!0,need_admin_menu:!0}},{name:"AdminActions",path:"/admin-actions",component:_sfc_main$3d,meta:{title:"Админ панель: События",hide_menu:!0,need_admin_menu:!0}},{name:"AdminOrders",path:"/admin-orders",component:AdminOrders,meta:{title:"Админ панель: Заказы",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBonusProduct",path:"/admin-bonus-product",component:_sfc_main$2O,meta:{title:"Админ панель: Бонусы",hide_menu:!0,need_admin_menu:!0}}],managerRoutes=[{name:"ManagerMain",path:"/manager-main",component:_sfc_main$2J,meta:{title:"Менеджер: Главная",hide_menu:!0}},{name:"ManagerForm",path:"/manager-form",component:ManagerForm,meta:{title:"Менеджер: Регистрация",hide_menu:!0}},{name:"ManagerClients",path:"/manager-clients",component:_sfc_main$2E,meta:{title:"Менеджер: Клиенты",hide_menu:!0}},{name:"ManagerProfile",path:"/manager-profile",component:ManagerProfile,meta:{title:"Менеджер: Профиль",hide_menu:!0}},{name:"ManagerPartners",path:"/manager-partners",component:_sfc_main$2B,meta:{title:"Менеджер: Партнеры",hide_menu:!0}}],deliveryRoutes=[{name:"DeliveryMain",path:"/delivery-main",component:_sfc_main$3K,meta:{title:"Доставка: Главная",hide_menu:!0,show_cart:!0}},{name:"DeliverymanForm",path:"/deliveryman-form",component:DeliverymanForm,meta:{title:"Регистрация доставщика",hide_menu:!0}},{name:"FoodConstructors",path:"/food-constructor-main",component:_sfc_main$3G,meta:{title:"Конструктор еды: Главная",hide_menu:!0}}],simplePrefix="/s",simpleRoutes=[{name:"UploadV2",path:simplePrefix+"/upload",component:UploadV2,meta:{title:"Загрузка файлов"}},{name:"SendInvoiceV2",path:simplePrefix+"/send-invoice",component:SendInvoiceV2,meta:{title:"СБП"}},{name:"ReferralV2",path:simplePrefix+"/referral",component:_sfc_main$8,meta:{title:"Информация о друге"}},{name:"CatalogV2",path:simplePrefix+"/menu",component:_sfc_main$2e,meta:{title:"Меню магазина"}},{name:"TableBookingV2",path:simplePrefix+"/booking",component:_sfc_main,meta:{title:"Бронирование столиков"}},{name:"WaiterCatalogV2",path:simplePrefix+"/waiter",component:_sfc_main$2c,meta:{title:"Каталог"}},{name:"ContactsV2",path:simplePrefix+"/contacts",component:_sfc_main$2a,meta:{title:"Контакты"}},{name:"ProductV2",path:simplePrefix+"/product/:productId",component:_sfc_main$26,meta:{title:"Товар"}},{name:"OrdersV2",path:simplePrefix+"/orders",component:_sfc_main$29,meta:{title:"Заказы"}},{name:"ShopCartV2",path:simplePrefix+"/cart",component:_sfc_main$1T,meta:{title:"Корзина"}},{name:"ProfileV2",path:simplePrefix+"/profile",component:_sfc_main$27,meta:{title:"Профиль"}},{name:"FeedBackV2",path:simplePrefix+"/feedback",component:FeedBackV2,meta:{title:"Обратная связь",hide_menu:!0}},{name:"MenuV2",path:simplePrefix+"/catalog",component:_sfc_main$1F,meta:{title:"Каталог сервисов"}},{name:"TableMenuV2",path:simplePrefix+"/table-menu",component:_sfc_main$7,meta:{title:"Столик"}},{name:"TableCartV2",path:simplePrefix+"/table-cart",component:_sfc_main$6,meta:{title:"Корзина"}},{name:"OneArmedBanditV2",path:simplePrefix+"/bandit",component:_sfc_main$1D,meta:{title:"Однорукий бандит"}},{name:"CashBackV2",path:simplePrefix+"/cashback",component:_sfc_main$1A,meta:{title:"История бонусов"}},{name:"FriendsV2",path:simplePrefix+"/friends",component:_sfc_main$1z,meta:{title:"Друзья"}},{name:"WheelOfFortuneV2",path:simplePrefix+"/wheel",component:_sfc_main$1y,meta:{title:"Колесо фортуны"}},{name:"StoryManagerV2",path:simplePrefix+"/stories",component:_sfc_main$1w,meta:{title:"Истории"}},{name:"MailingV2",path:simplePrefix+"/admin/mailing",component:_sfc_main$1r,meta:{title:"Рассылка"}},{name:"TablesManagerV2",path:simplePrefix+"/admin/tables-manager",component:_sfc_main$4,meta:{title:"Управление столиками"}},{name:"TableV2",path:simplePrefix+"/admin/tables-manager/:tableId",component:_sfc_main$3,meta:{title:"Столик"}},{name:"PageEditorV2",path:simplePrefix+"/admin/page-editor/:pageId",component:_sfc_main$1,meta:{title:"Реактор страницы"}},{name:"ClientsV2",path:simplePrefix+"/admin/clients",component:_sfc_main$1c,meta:{title:"Клиенты"}},{name:"ShopV2",path:simplePrefix+"/admin/shop",component:_sfc_main$13,meta:{title:"Магазин"}},{name:"AdminOrdersV2",path:simplePrefix+"/admin/orders",component:_sfc_main$12,meta:{title:"Заказы"}},{name:"LinkManagerV2",path:simplePrefix+"/admin/links",component:_sfc_main$C,meta:{title:"UTM-метки"}},{name:"StatisticV2",path:simplePrefix+"/admin/statistic",component:_sfc_main$10,meta:{title:"Статистика"}},{name:"AdminMenuV2",path:simplePrefix+"/admin/menu",component:AdminMenuV2,meta:{title:"Меню"}},{name:"PromoCodesV2",path:simplePrefix+"/admin/promocodes",component:_sfc_main$Z,meta:{title:"Промокоды"}},{name:"PagePasswordV2",path:simplePrefix+"/enter-page-password",component:PagePasswordV2,meta:{title:"Ввод ключа"}},{name:"InstaQuestV2",path:simplePrefix+"/new-insta-quest",component:InstaQuestV2,meta:{title:"Квест",hide_menu:!0}},{name:"RequestPhotoV2",path:simplePrefix+"/request-photo",component:RequestPhotoV2,meta:{title:"Запрос фото",hide_menu:!0}},{name:"FriendsGameV2",path:simplePrefix+"/new-friends-game",component:FriendsGameV2,meta:{title:"Квест",hide_menu:!0}},{name:"PromoCodeFormV2",path:simplePrefix+"/new-promo-code",component:PromoCodeFormV2,meta:{title:"Промокоды",hide_menu:!0}},{name:"VipProfileV2_1",path:simplePrefix+"/new-vip",component:VipProfileV2_1,meta:{title:"Анкета пользователя",hide_menu:!0}},{name:"VipProfileV2_2",path:simplePrefix+"/new-profile-form",component:VipProfileV2_2,meta:{title:"Анкета пользователя",hide_menu:!0}},{name:"SimpleProfileV2_1",path:simplePrefix+"/simple-profile-form",component:SimpleProfileV2_1,meta:{title:"Анкета пользователя",hide_menu:!0}},{name:"WheelCustomV2",path:simplePrefix+"/wheel-of-fortune-custom",component:_sfc_main$M,meta:{title:"Колесо фортуны",hide_menu:!0}},{name:"BotManagerV2",path:simplePrefix+"/admin/bot",component:BotManagerV2,meta:{title:"Бот"}},{name:"PageManagerV2",path:simplePrefix+"/admin/pages",component:_sfc_main$D,meta:{title:"Страницы"}},{name:"PartnersV2",path:simplePrefix+"/admin/partners",component:_sfc_main$v,meta:{title:"Партнеры"}},{name:"IntegrationsV2",path:simplePrefix+"/admin/integrations",component:IntegrationsV2,meta:{title:"Интеграции"}},{name:"AmoV2",path:simplePrefix+"/admin/amo",component:_sfc_main$t,meta:{title:"AMO"}},{name:"CdekV2",path:simplePrefix+"/admin/cdek",component:_sfc_main$q,meta:{title:"CDEK"}},{name:"BitrixV2",path:simplePrefix+"/admin/bitrix",component:_sfc_main$c,meta:{title:"Bitrix24"}},{name:"IikoV2",path:simplePrefix+"/admin/iiko",component:_sfc_main$e,meta:{title:"IIKO"}},{name:"FrontPadV2",path:simplePrefix+"/admin/frontpad",component:_sfc_main$a,meta:{title:"FrontPad"}},{name:"DialogsV2",path:simplePrefix+"/admin/dialogs",component:_sfc_main$m,meta:{title:"Диалоги"}},{name:"SlugsV2",path:simplePrefix+"/admin/scripts",component:_sfc_main$i,meta:{title:"Скрипты"}},{name:"YClientsV2",path:simplePrefix+"/admin/y-clients",component:_sfc_main$h,meta:{title:"YClients"}}],router=createRouter({history:createWebHashHistory(),routes:[...routes,...adminRoutes,...managerRoutes,...deliveryRoutes,...simpleRoutes]}),util={async makeAxiosFactory(o,t="GET",a=null,i=null){if(!navigator.onLine)return Promise.reject("Вы не в сети!");let s,r=window.Telegram&&window.Telegram.WebApp.initData||null,n=window.currentBot.bot_domain||null,l=window.currentScript||null;switch(axios.defaults.headers.common["X-CASHMAN-SLUG-ID"]=l?btoa(l):null,axios.defaults.headers.common["X-CASHMAN-BOT-DOMAIN"]=n?btoa(n):null,axios.defaults.headers.common["X-CASHMAN-TG-DATA"]=r?btoa(r):null,t.toUpperCase()){default:case"GET":s=await axios.get(o);break;case"POST":s=await axios.post(o,a,i);break;case"PUT":s=await axios.put(o,a);break;case"DELETE":s=await axios.delete(o);break}return s},async loadActualProducts(o=[]){let t=window.Telegram.WebApp.initData||null,a=window.currentBot.bot_domain||null,i=window.currentScript||null,s={tgData:t,slug_id:i,botDomain:a,ids:o},r="/bot-client/shop/products/by-ids",n="POST";return this.makeAxiosFactory(r,n,s).then(c=>{const m=c.data.data;return Promise.resolve(m)}).catch(c=>Promise.reject(c))}},BASE_CASHBACK_LINK="/bot-client/cashback";let state$J={cashback:[],cashback_paginate_object:null};const getters$J={getCashBack:o=>o.cashback||[],getCashBackPaginateObject:o=>o.cashback_paginate_object||null},actions$J={async loadCashBackModuleData(o){let t=`${BASE_CASHBACK_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadReceiverUserData(o,t={dataObject:{user_telegram_chat_id:null}}){let a=`${BASE_CASHBACK_LINK}/receiver`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>{let r=s.data;return Promise.resolve(r)}).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadCashBack(o,t={dataObject:{user_telegram_chat_id:null},page:0,size:12}){let a=t.page||0,s=`${BASE_CASHBACK_LINK}/history?page=${a}&size=12`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(n=>{let l=n.data;return o.commit("setCashBack",l.data),delete l.data,o.commit("setCashBackPaginateObject",l),Promise.resolve()}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async removeCashBack(o,t={dataObject:null}){let a=`${BASE_CASHBACK_LINK}/remove`,i=window.Telegram.WebApp.initData,s=window.currentBot.bot_domain||null;return util.makeAxiosFactory(a,"POST",{tgData:i,botDomain:s,...t.dataObject}).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async addCashBack(o,t={dataObject:null}){let a=`${BASE_CASHBACK_LINK}/add`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async requestUserData(o,t){let a=`${BASE_CASHBACK_LINK}/request-user-data`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async requestRefreshMenu(o,t){let a=`${BASE_CASHBACK_LINK}/request-refresh-menu`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async userMessage(o,t){let a=`${BASE_CASHBACK_LINK}/user-message`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async saveDeliveryman(o,t){let a=`${BASE_CASHBACK_LINK}/deliveryman`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async saveSimpleProfileFormData(o,t={dataObject:null}){let a={...t},i=`${BASE_CASHBACK_LINK}/profile-form-data`;return util.makeAxiosFactory(i,"POST",a.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async saveVip(o,t){let a={...t},i=`${BASE_CASHBACK_LINK}/vip`;return util.makeAxiosFactory(i,"POST",a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))}},mutations$J={setCashBack(o,t){o.cashback=t||[],localStorage.setItem("cashman_cashback",JSON.stringify(t))},setCashBackPaginateObject(o,t){o.cashback_paginate_object=t||[],localStorage.setItem("cashman_cashback_paginate_object",JSON.stringify(t))}},cashbackModule$1={state:state$J,mutations:mutations$J,actions:actions$J,getters:getters$J},BASE_ADMINS_LINK="/bot-client/admins";let state$I={admins:[],admins_paginate_object:null};const getters$I={getAdmins:o=>o.admins||[],getAdminsPaginateObject:o=>o.admins_paginate_object||null},actions$I={async loadAdmins(o,t={dataObject:null,page:0,size:12}){let a=t.page||0,s=`${BASE_ADMINS_LINK}?page=${a}&size=12`,r="POST";return util.makeAxiosFactory(s,r,t.dataObject).then(l=>{let c=l.data;return o.commit("setAdmins",c.data),delete c.data,o.commit("setAdminsPaginateObject",c),Promise.resolve()}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async requestAdmin(o,t={dataObject:null}){let a=`${BASE_ADMINS_LINK}/request`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve()).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async sendApproveToUser(o,t){let a=`${BASE_ADMINS_LINK}/send-approve`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async userReviewRequest(o,t){let a=`${BASE_ADMINS_LINK}/request-review`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async sendPageToUser(o,t){let a=`${BASE_ADMINS_LINK}/send-page-to-user`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async sendInvoice(o,t){let a=`${BASE_ADMINS_LINK}/send-invoice`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async addAdmin(o,t){let a=`${BASE_ADMINS_LINK}/add`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAdmin(o,t){let a=`${BASE_ADMINS_LINK}/remove`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async selfRemove(o,t){let a=`${BASE_ADMINS_LINK}/self-remove`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async workStateChange(o,t={dataObject:null}){let a=`${BASE_ADMINS_LINK}/work-status`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async trafficLoad(o,t={bot_id:null}){let a=`${BASE_ADMINS_LINK}/load-traffic-statistic`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async statisticLoad(o,t){let a=`${BASE_ADMINS_LINK}/load-statistic`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async downloadBotStatistic(o){return util.makeAxiosFactory(`${BASE_ADMINS_LINK}/download-bot-statistic`,"POST",null,{responseType:"blob"}).then(a=>a).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async downloadBotUsers(o){return util.makeAxiosFactory(`${BASE_ADMINS_LINK}/download-bot-users`,"POST",null,{responseType:"blob"}).then(a=>a).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async downloadCashBackHistory(o,t={orderBy:null,direction:null}){return util.makeAxiosFactory(`${BASE_ADMINS_LINK}/download-cashback-history`,"POST",t,{responseType:"blob"}).then(i=>i).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))}},mutations$I={setAdmins(o,t){o.admins=t||[],localStorage.setItem("cashman_admins",JSON.stringify(t))},setAdminsPaginateObject(o,t){o.admins_paginate_object=t||[],localStorage.setItem("cashman_admins_paginate_object",JSON.stringify(t))}},adminsModule={state:state$I,mutations:mutations$I,actions:actions$I,getters:getters$I},BASE_PRODUCTS_LINK="/bot-client/shop/products";let state$H={products:[],categories:[],products_paginate_object:null,categories_paginate_object:null};const getters$H={getProducts:o=>o.products||[],getCategories:o=>o.categories||[],getProductById:o=>t=>o.products.find(a=>a.id===t),getProductsPaginateObject:o=>o.products_paginate_object||null,getCategoriesPaginateObject:o=>o.categories_paginate_object||null},actions$H={async loadRecommendedProducts(o){let t=`${BASE_PRODUCTS_LINK}/load-recommended-products`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadShopModuleData(o){let t=`${BASE_PRODUCTS_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async exportAllProducts(o){let t=`${BASE_PRODUCTS_LINK}/export-all-products`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async removeProductCategory(o,t={category_id:null}){let a=`${BASE_PRODUCTS_LINK}/remove-category/${t.category_id}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async changeProductCategoryStatus(o,t){let a=`${BASE_PRODUCTS_LINK}/categories/status/${t}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async changeCategoryRecommendationStatus(o,t={category_id:null,status:0}){let a=`${BASE_PRODUCTS_LINK}/categories/recommendation-status`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async getFavList(o){let t=`${BASE_PRODUCTS_LINK}/fav-list`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async toggleProductInFavorites(o,t={form:null}){let a=`${BASE_PRODUCTS_LINK}/toggle-favorite`;return util.makeAxiosFactory(a,"POST",t.form).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeProductCategory(o,t={category:null}){let a=`${BASE_PRODUCTS_LINK}/store-category`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async addProductCategory(o,t={category:null}){let a=`${BASE_PRODUCTS_LINK}/add-category`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async saveProduct(o,t={productForm:null}){let a=`${BASE_PRODUCTS_LINK}/add-product`;return util.makeAxiosFactory(a,"POST",t.productForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async changeProductRecommendationStatus(o,t={product_id:null,status:0}){let a=`${BASE_PRODUCTS_LINK}/change-recommendation-status`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve()).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAllProducts(o){let t=`${BASE_PRODUCTS_LINK}/remove-all-products`,a="POST";return util.makeAxiosFactory(t,a).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeShopProduct(o,t){let a=`${BASE_PRODUCTS_LINK}/${t}`,i="DELETE";return util.makeAxiosFactory(a,i).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadMoreProductsByCategory(o,t){let a=`${BASE_PRODUCTS_LINK}-more-by-category`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadProductsByCategory(o,t){let a=`${BASE_PRODUCTS_LINK}-by-category`,i="POST";return util.makeAxiosFactory(a,i,{partner_id:t.partner_id}).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadProduct(o,t={dataObject:{productId:null}}){let a=`${BASE_PRODUCTS_LINK}/${t.dataObject.productId}`,i="POST";return util.makeAxiosFactory(a,i).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async addToStopListProduct(o,t){let a=`${BASE_PRODUCTS_LINK}/stop-list-product/${t}`,i="POST";return util.makeAxiosFactory(a,i).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async restoreProduct(o,t){let a=`${BASE_PRODUCTS_LINK}/restore-product/${t}`,i="POST";return util.makeAxiosFactory(a,i).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadCategory(o,t={dataObject:{categoryId:null}}){let a=`${BASE_PRODUCTS_LINK}/category/${t.dataObject.categoryId}`,i="POST";return util.makeAxiosFactory(a,i).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadProducts(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,r=`${BASE_PRODUCTS_LINK}?page=${i}&size=20`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setProducts",m.data),delete m.data,o.commit("setProductsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadProductsInCategory(o,t={dataObject:{search:null,category_id:null},page:0,size:12}){let a=window.Telegram.WebApp.initData||null,i=window.currentBot.bot_domain||null,s=window.currentScript||null,r={tgData:a,slug_id:s,botDomain:i,...t.dataObject},n=t.page||0,c=`${BASE_PRODUCTS_LINK}/in-category?page=${n}&size=12`,m="POST";return util.makeAxiosFactory(c,m,r).then(y=>{let b=y.data;return o.commit("setProducts",b.data),delete b.data,o.commit("setProductsPaginateObject",b),Promise.resolve()}).catch(y=>(o.commit("setErrors",y.response.data.errors||[]),Promise.reject(y)))},async loadCategories(o,t={page:0,size:100,dataObject:null}){let a=t.page||0,i=t.size||5,s=`${BASE_PRODUCTS_LINK}/categories?page=${a}&size=${i}`,r="POST";return util.makeAxiosFactory(s,r,t.dataObject).then(l=>{const c=l.data;return o.commit("setCategories",c.data),delete c.data,o.commit("setCategoriesPaginateObject",c),Promise.resolve()}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async loadRandomProducts(o){let t=window.Telegram.WebApp.initData||null,a=window.currentBot.bot_domain||null,i=window.currentScript||null,s={tgData:t,slug_id:i,botDomain:a},r=`${BASE_PRODUCTS_LINK}/random`,n="POST";return util.makeAxiosFactory(r,n,s).then(c=>{let m=c.data;return o.commit("setProducts",m.data),delete m.data,o.commit("setProductsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))}},mutations$H={setProducts(o,t){o.products=t||[],localStorage.setItem("cashman_products",JSON.stringify(t))},setCategories(o,t){o.categories=t||[],localStorage.setItem("cashman_categories",JSON.stringify(t))},setCategoriesPaginateObject(o,t){o.categories_paginate_object=t||[],localStorage.setItem("cashman_categories_paginate_object",JSON.stringify(t))},setProductsPaginateObject(o,t){o.products_paginate_object=t||[],localStorage.setItem("cashman_products_paginate_object",JSON.stringify(t))}},productsModule$1={state:state$H,mutations:mutations$H,actions:actions$H,getters:getters$H},BASE_FRIENDS_LINK$1="/bot-client/friends-script";let state$G={};const getters$G={},actions$G={async friendsLoadScriptVariants(o){let t=`${BASE_FRIENDS_LINK$1}/load-script-variants`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async friendsStoreConfig(o,t){let a=`${BASE_FRIENDS_LINK$1}/store`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$G={},friendsModule={state:state$G,mutations:mutations$G,actions:actions$G,getters:getters$G},state$F={filling_categories:[{id:1,title:"Овощные начинки"},{id:2,title:"Мясные начинки"},{id:3,title:"Морские начинки"},{id:4,title:"Сырные начинки"},{id:5,title:"Блинчики сладкие"},{id:6,title:"Сладкие добавки"},{id:7,title:"Блинчики соленые"},{id:8,title:"Основа пиццы"},{id:9,title:"Верхнее покрытие ролла"},{id:10,title:"Начинка ролла"},{id:11,title:"Основа ролла"},{id:12,title:"Хот-дог"},{id:13,title:"Добавки к хот-догу"},{id:14,title:"Вместе с хот-догом"},{id:15,title:"Основа гонконгских вафель"},{id:16,title:"Начинка гонконгских вафель"},{id:17,title:"Фруктовые добавки для гонконгских вафель"},{id:18,title:"Добавки топпинга или соуса для гонконгских вафель"},{id:19,title:"Ланч салат"},{id:20,title:"Ланч первые блюда"},{id:21,title:"Ланч гарнир"},{id:22,title:"Ланч напиток"},{id:23,title:"Бизнес-ланч"}],filling:[{id:1,title:"Грибы жаренные",weight:50,price:45,category:1,checked:!1,disabled:!1},{id:2,title:"Грибы стерилизованные",weight:40,price:45,category:1,checked:!1,disabled:!1},{id:3,title:"Грибы свежие",weight:40,price:45,category:1,checked:!1,disabled:!1},{id:4,title:"Ананасы",weight:40,price:35,category:1,checked:!1,disabled:!1},{id:5,title:"Помидоры свежие",weight:50,price:30,category:1,checked:!1,disabled:!1},{id:6,title:"Перец болгарский",weight:40,price:30,category:1,checked:!1,disabled:!1},{id:7,title:"Кукуруза",weight:40,price:30,category:1,checked:!1,disabled:!1},{id:8,title:"Маслины",weight:30,price:55,category:1,checked:!1,disabled:!1},{id:9,title:"Фасоль спаржевая",weight:50,price:30,category:1,checked:!1,disabled:!1},{id:10,title:"Пепперони",weight:30,price:26,category:1,checked:!1,disabled:!1},{id:11,title:"Маринованный лук",weight:50,price:12,category:1,checked:!1,disabled:!1},{id:12,title:"Огурец маринованный",weight:50,price:30,category:1,checked:!1,disabled:!1},{id:13,title:"Зелень петрушки к пицце",weight:3,price:12,category:1,checked:!1,disabled:!1},{id:14,title:"Зелень укропа к пицце",weight:3,price:12,category:1,checked:!1,disabled:!1},{id:15,title:"Балык мясной",weight:40,price:50,category:2,checked:!1,disabled:!1},{id:16,title:"Курица",weight:50,price:55,category:2,checked:!1,disabled:!1},{id:17,title:"Охотничьи колбаски",weight:50,price:55,category:2,checked:!1,disabled:!1},{id:18,title:"Салями",weight:40,price:50,category:2,checked:!1,disabled:!1},{id:19,title:"Бекон",weight:40,price:50,category:2,checked:!1,disabled:!1},{id:20,title:"Салями острая пепперони",weight:25,price:55,category:2,checked:!1,disabled:!1},{id:21,title:"Кальмары",weight:50,price:85,category:3,checked:!1,disabled:!1},{id:22,title:"Крабовые палочки",weight:50,price:40,category:3,checked:!1,disabled:!1},{id:23,title:"Семга",weight:40,price:135,category:3,checked:!1,disabled:!1},{id:24,title:"Ди Маре",weight:150,price:135,category:3,checked:!1,disabled:!1},{id:25,title:"Твердый сыр",weight:70,price:55,category:4,checked:!1,disabled:!1},{id:26,title:"Фета",weight:50,price:60,category:4,checked:!1,disabled:!1},{id:27,title:"Пармезан",weight:15,price:40,category:4,checked:!1,disabled:!1},{id:28,title:"Моцарелла",weight:60,price:60,category:4,checked:!1,disabled:!1},{id:29,title:"Блинчик соленый",weight:90,price:45,category:7,checked:!0,disabled:!0},{id:30,title:"Семга, тар-тар",weight:150,price:45,category:7,checked:!1,disabled:!1},{id:31,title:"Икра красная",weight:20,price:130,category:7,checked:!1,disabled:!1},{id:32,title:"Грибы(20г), сыр(20г)",weight:40,price:50,category:7,checked:!1,disabled:!1},{id:33,title:"Курица(30г), сыр(20г)",weight:50,price:55,category:7,checked:!1,disabled:!1},{id:34,title:"Сыр",weight:20,price:25,category:7,checked:!1,disabled:!1},{id:35,title:"Сыр(20г), грибы(20г), балык(20г)",weight:60,price:55,category:7,checked:!1,disabled:!1},{id:36,title:"Салями, помидор, сыр",weight:160,price:85,category:7,checked:!1,disabled:!1},{id:37,title:"Курица, грибы, сметана",weight:70,price:85,category:7,checked:!1,disabled:!1},{id:38,title:"С балыком 'Три желания'",weight:205,price:120,category:7,checked:!1,disabled:!1},{id:39,title:"С семгой 'Три желания'",weight:225,price:195,category:7,checked:!1,disabled:!1},{id:40,title:"Помидор(17г), сыр(30г), майонез(10г), зелень(3г)",weight:60,price:50,category:7,checked:!1,disabled:!1},{id:41,title:"Блинчик сладкий",weight:90,price:45,category:5,checked:!0,disabled:!0},{id:42,title:"Апельсин конфи",weight:60,price:50,category:5,checked:!1,disabled:!1},{id:43,title:"Банан (50г), шоколад(15г)",weight:65,price:60,category:5,checked:!1,disabled:!1},{id:44,title:"Альфорно / Творожная начинка",weight:200,price:95,category:5,checked:!1,disabled:!1},{id:45,title:"Нутелла / Банан / Мороженное",weight:210,price:115,category:5,checked:!1,disabled:!1},{id:46,title:"Творожная начинка / Апельсин конфи",weight:200,price:95,category:5,checked:!1,disabled:!1},{id:47,title:"Смородина / Творожная начинка",weight:240,price:95,category:5,checked:!1,disabled:!1},{id:48,title:"Вишня конфи",weight:60,price:50,category:5,checked:!1,disabled:!1},{id:49,title:"Клубника конфи",weight:60,price:50,category:5,checked:!1,disabled:!1},{id:50,title:"Нутелла(30г), орехи(5г)",weight:35,price:60,category:5,checked:!1,disabled:!1},{id:52,title:"Мёд",weight:25,price:25,category:6,checked:!1,disabled:!1},{id:53,title:"Сгущенное молоко",weight:20,price:25,category:6,checked:!1,disabled:!1},{id:54,title:"Сметана",weight:20,price:20,category:6,checked:!1,disabled:!1},{id:55,title:"Соус ванильный",weight:30,price:15,category:6,checked:!1,disabled:!1},{id:56,title:"Черная смородина",weight:60,price:50,category:6,checked:!1,disabled:!1},{id:57,title:"Шоколад",weight:25,price:50,category:6,checked:!1,disabled:!1},{id:58,title:"Яблоки, корица",weight:80,price:40,category:6,checked:!1,disabled:!1},{id:59,title:"Пицца Челентано",weight:350,price:95,category:8,checked:!0,disabled:!1},{id:60,title:"Пицца Челентано с белым соусом",weight:95,price:45,category:8,checked:!1,disabled:!1},{id:61,title:"Основа ролла",weight:95,price:80,category:11,checked:!0,disabled:!0},{id:62,title:"Лосось",weight:30,price:100,category:9,checked:!1,disabled:!1},{id:63,title:"Тунец",weight:30,price:110,category:9,checked:!1,disabled:!1},{id:64,title:"Угорь",weight:30,price:130,category:9,checked:!1,disabled:!1},{id:65,title:"Креветка Тигровая",weight:30,price:140,category:9,checked:!1,disabled:!1},{id:66,title:"Окунь",weight:30,price:60,category:9,checked:!1,disabled:!1},{id:67,title:"Кунжут Белый",weight:30,price:20,category:9,checked:!1,disabled:!1},{id:68,title:"Кунжут Черный",weight:30,price:20,category:9,checked:!1,disabled:!1},{id:69,title:"Кунжут ч/б",weight:30,price:30,category:9,checked:!1,disabled:!1},{id:70,title:"Икра Тобико Красная",weight:30,price:50,category:9,checked:!1,disabled:!1},{id:71,title:"Икра Тобико Зелёная",weight:30,price:50,category:9,checked:!1,disabled:!1},{id:72,title:"Икра Тобико Черная",weight:30,price:50,category:9,checked:!1,disabled:!1},{id:73,title:"Струшка Тунца",weight:30,price:30,category:9,checked:!1,disabled:!1},{id:74,title:"Огурец",weight:30,price:20,category:9,checked:!1,disabled:!1},{id:75,title:"Авакадо",weight:30,price:100,category:9,checked:!1,disabled:!1},{id:76,title:"Укроп",weight:3,price:10,category:9,checked:!1,disabled:!1},{id:77,title:"Нори",weight:30,price:15,category:9,checked:!0,disabled:!1},{id:78,title:"Лосось",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:79,title:"Тунец",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:80,title:"Угорь",weight:30,price:65,category:10,checked:!1,disabled:!1},{id:81,title:"Креветка Тигровая",weight:30,price:70,category:10,checked:!1,disabled:!1},{id:82,title:"Окунь",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:83,title:"Снежный Краб",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:84,title:"Мидии",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:85,title:"Кальмар",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:86,title:"Курица Жареная",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:87,title:"Лосось Жаренный",weight:30,price:55,category:10,checked:!1,disabled:!1},{id:88,title:"Окунь Жаренный",weight:30,price:35,category:10,checked:!1,disabled:!1},{id:89,title:"Сливочный Сыр",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:90,title:"Плаванный сыр",weight:30,price:25,category:10,checked:!1,disabled:!1},{id:91,title:"Икра Тобико Красная",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:92,title:"Икра Лосося",weight:30,price:100,category:10,checked:!1,disabled:!1},{id:93,title:"Огурец",weight:30,price:10,category:10,checked:!1,disabled:!1},{id:94,title:"Авакадо",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:95,title:"Чука",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:96,title:"Помидор",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:97,title:"Сладкиц Перец",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:98,title:"Айсберг",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:99,title:"Лук зелёный",weight:30,price:10,category:10,checked:!1,disabled:!1},{id:100,title:"Соус спайси",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:101,title:"Майонез",weight:30,price:10,category:10,checked:!1,disabled:!1},{id:102,title:"Классический",description:"пшеничная булочка, сосиска фирменная, огурец соленый, морковь по-корейски, кетчуп, майонез, горчица",weight:260,price:95,category:12,checked:!0,disabled:!1},{id:103,title:"Цезарь",description:'пшеничная булочка, сосиска куриная в беконе, томаты, сыр Пармезан, айсберг, соус "Цезарь", горчица',weight:280,price:279,category:12,checked:!1,disabled:!1},{id:104,title:"Black Angus",description:'пшенично-солодовая булочка, колбаски из говядины "Black Angus", томаты, лук-конфи, айсберг, соус "BBQ", горчица, кунжут',weight:280,price:219,category:12,checked:!1,disabled:!1},{id:105,title:"Blue shrimp with cheese",description:'пшенично-солодовая булочка, хвосты креветок фри, айсберг, сыр Дор блю, огурец свежий, соус "Цезарь", соус "Терияки", горчица, кунжут',weight:280,price:219,category:12,checked:!1,disabled:!1},{id:106,title:"Баварский",description:'пшеничная булочка, колбаски Баварские, огурец соленый, лук-фри, соус "BBQ", горчица',weight:280,price:199,category:12,checked:!1,disabled:!1},{id:107,title:"Чили",description:'пшеничная булочка, колбаски охотничьи, маринованый лук, огурец соленый, бекон, перец "Халапенью" , чили, соус "BBQ", горчица',weight:320,price:289,category:12,checked:!1,disabled:!1},{id:108,title:"Texas",description:'пшеничная булочка, сосиска фирменная в панировке, томаты, айсберг, морковь по-корейски, соус "BBQ", майонез, горчица',weight:280,price:169,category:12,checked:!1,disabled:!1},{id:109,title:"Roll dog",description:'лаваш, сосиски фирменные, томаты, маринованный лук, сыр Моцарелла, соус "BBQ", горчица',weight:320,price:219,category:12,checked:!1,disabled:!1},{id:110,title:"Бекон",weight:50,price:43,category:13,checked:!1,disabled:!1},{id:111,title:"Креветки фри",weight:50,price:220,category:13,checked:!1,disabled:!1},{id:112,title:"Сыр 'Дор блю'",weight:10,price:25,category:13,checked:!1,disabled:!1},{id:113,title:"Сыр 'Пармезан'",weight:10,price:20,category:13,checked:!1,disabled:!1},{id:114,title:"Сыр 'Моцарелла'",weight:10,price:15,category:13,checked:!1,disabled:!1},{id:115,title:"Колбаска 'Black angus'",weight:60,price:95,category:13,checked:!1,disabled:!1},{id:116,title:"Колбаска 'Баварская'",weight:40,price:75,category:13,checked:!1,disabled:!1},{id:117,title:"Колбаска куриная в беконе",weight:60,price:79,category:13,checked:!1,disabled:!1},{id:118,title:"Сосиска фирменная",weight:70,price:49,category:13,checked:!1,disabled:!1},{id:119,title:"Морковь по корейски",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:120,title:"Перец чили",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:121,title:"Томаты",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:122,title:"Огурец соленый",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:123,title:"Огурец свежий",weight:10,price:8,category:13,checked:!1,disabled:!1},{id:124,title:"Соус 'BBQ'",weight:20,price:15,category:13,checked:!1,disabled:!1},{id:125,title:"Соус 'Цезарь'",weight:20,price:15,category:13,checked:!1,disabled:!1},{id:126,title:"Горчица",weight:20,price:10,category:13,checked:!1,disabled:!1},{id:127,title:"Соус 'Французский'",weight:20,price:10,category:13,checked:!1,disabled:!1},{id:128,title:"Картофель фри",weight:100,price:80,category:14,checked:!1,disabled:!1},{id:129,title:"Лук фри",weight:100,price:95,category:14,checked:!1,disabled:!1},{id:130,title:"Ванильная",weight:100,price:50,category:15,checked:!0,disabled:!1},{id:131,title:"Шоколадная",weight:100,price:55,category:15,checked:!1,disabled:!1},{id:132,title:"Соленая",weight:100,price:50,category:15,checked:!1,disabled:!1},{id:133,title:"Взбитые сливки",weight:50,price:45,category:16,checked:!1,disabled:!1},{id:134,title:"Бельгийский шоколад",weight:30,price:29,category:16,checked:!1,disabled:!1},{id:135,title:"M&M's",weight:30,price:35,category:16,checked:!1,disabled:!1},{id:136,title:"Сыр",weight:50,price:48,category:16,checked:!1,disabled:!1},{id:137,title:"Ветчина",weight:50,price:52,category:16,checked:!1,disabled:!1},{id:138,title:"Бекон",weight:30,price:69,category:16,checked:!1,disabled:!1},{id:139,title:"Куриная грудка",weight:30,price:51,category:16,checked:!1,disabled:!1},{id:140,title:"Банан",weight:50,price:25,category:17,checked:!1,disabled:!1},{id:141,title:"Яблоко",weight:50,price:15,category:17,checked:!1,disabled:!1},{id:142,title:"Киви",weight:50,price:22,category:17,checked:!1,disabled:!1},{id:143,title:"Клубника",weight:50,price:55,category:17,checked:!1,disabled:!1},{id:144,title:"Карамель",weight:30,price:15,category:18,checked:!1,disabled:!1},{id:145,title:"Соленая карамель",weight:30,price:15,category:18,checked:!1,disabled:!1},{id:146,title:"Ягодный соус",weight:30,price:15,category:18,checked:!1,disabled:!1},{id:147,title:"Соус 'Цезарь'",weight:30,price:20,category:18,checked:!1,disabled:!1},{id:148,title:"Сырный соус",weight:30,price:30,category:18,checked:!1,disabled:!1},{id:149,title:"Остро-сладкий соус",weight:30,price:25,category:18,checked:!1,disabled:!1},{id:150,title:"Соус барбекю",weight:30,price:20,category:18,checked:!1,disabled:!1},{id:151,title:"Бизнес-ланч",weight:0,price:150,category:23,checked:!0,disabled:!0},{id:152,title:"Салат с крабовыми палочками",weight:150,price:0,category:19,checked:!1,disabled:!1},{id:153,title:"Салат из пекинской капусты",weight:150,price:0,category:19,checked:!1,disabled:!1},{id:154,title:"Салат с кукурузой и курицей",weight:150,price:0,category:19,checked:!1,disabled:!1},{id:155,title:"Борщ",weight:250,price:0,category:20,checked:!1,disabled:!1},{id:156,title:"Сырный суп с беконом",weight:250,price:0,category:20,checked:!1,disabled:!1},{id:157,title:"Бульон куриный с яйцом",weight:250,price:0,category:20,checked:!1,disabled:!1},{id:158,title:"Куриное филе в кляре с пюре",weight:220,price:0,category:21,checked:!1,disabled:!1},{id:159,title:"Рагу из овощей со свининой",weight:220,price:0,category:21,checked:!1,disabled:!1},{id:160,title:"Куриная печень в соусе с рисом карри",weight:200,price:0,category:21,checked:!1,disabled:!1},{id:161,title:"Каркаде",weight:250,price:0,category:22,checked:!1,disabled:!1},{id:162,title:"Компот",weight:250,price:0,category:22,checked:!1,disabled:!1},{id:163,title:"Пиво",weight:330,price:0,category:22,checked:!1,disabled:!1}]},getters$F={getIngredientById:o=>t=>o.filling.find(a=>a.id===t),getAllFillings:o=>o.filling||[],getIngredientsCategory:o=>t=>o.filling_categories.filter(a=>a.id===t)[0],getIngredientsFilling:o=>t=>o.filling.filter(a=>a.category===t)},actions$F={},mutations$F={},ingredientsModule={state:state$F,mutations:mutations$F,actions:actions$F,getters:getters$F},BASE_WHEEL_OF_FORTUNE_LINK$2="/bot-client/wheel-of-fortune";let state$E={};const getters$E={},actions$E={async wheelOfFortuneLoadData(o){let t=`${BASE_WHEEL_OF_FORTUNE_LINK$2}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortunePrepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_LINK$2}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneWin(o,t={winForm:null}){let a=`${BASE_WHEEL_OF_FORTUNE_LINK$2}/callback`;return util.makeAxiosFactory(a,"POST",t.winForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$E={},wheelOfFortuneModule$4={state:state$E,mutations:mutations$E,actions:actions$E,getters:getters$E},BASE_STORY_LINK="/bot-client/stories";let state$D={stories:[],stories_paginate_object:null};const getters$D={getStories:o=>o.stories||[],getStoryById:o=>t=>o.stories.find(a=>a.id===t),getStoriesPaginateObject:o=>o.stories_paginate_object||null},actions$D={async loadStories(o,t={page:1,size:20}){let a=t.page||1,i=t.size||20,s=`${BASE_STORY_LINK}?page=${a}&size=${i}`;return util.makeAxiosFactory(s,"GET").then(n=>{let l=n.data;return o.commit("setStories",l.data),delete l.data,o.commit("setStoriesPaginateObject",l),Promise.resolve()}).catch(n=>{var l,c;return o.commit("setErrors",((c=(l=n.response)==null?void 0:l.data)==null?void 0:c.errors)||[]),Promise.reject(n)})},async fetchStory(o,t={id:null}){let a=`${BASE_STORY_LINK}/${t.id}`;return util.makeAxiosFactory(a,"GET").then(s=>Promise.resolve(s.data)).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},async saveStory(o,t={storyForm:{}}){return util.makeAxiosFactory(BASE_STORY_LINK,"POST",t.storyForm).then(i=>Promise.resolve(i.data)).catch(i=>{var s,r;return o.commit("setErrors",((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.errors)||[]),Promise.reject(i)})},async deleteStory(o,t={id:null}){let a=`${BASE_STORY_LINK}/${t.id}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})}},mutations$D={setStories(o,t){o.stories=t||[],localStorage.setItem("cashman_stories",JSON.stringify(t))},setStoriesPaginateObject(o,t){o.stories_paginate_object=t||null,localStorage.setItem("cashman_stories_paginate_object",JSON.stringify(t))}},storiesModule={state:state$D,getters:getters$D,actions:actions$D,mutations:mutations$D},BASE_TABLES_LINK="/bot-client/tables";let state$C={tables:[],tables_paginate_object:null};const getters$C={getTables:o=>o.tables||[],getTablesPaginateObject:o=>o.tables_paginate_object||null},actions$C={async loadApprovedSelfTableBasket(o){let t=`${BASE_TABLES_LINK}/approved-self-basket`,a="POST";return util.makeAxiosFactory(t,a).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async nearestBookingList(o,t={start_date:null,end_date:null}){let a=`${BASE_TABLES_LINK}/nearest-booking-list`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async myUpcomingBookings(o){let t=`${BASE_TABLES_LINK}/my-upcoming-bookings`,a="POST";return util.makeAxiosFactory(t,a).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async bookingList(o,t={date:null,number:null}){let a=`${BASE_TABLES_LINK}/booking-list`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async bookATable(o,t={dataObject:{name:null,phone:null,persons:1,description:null,table:null}}){let a=`${BASE_TABLES_LINK}/book-table`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async exportNearestBookings(o,t={start_date:null,end_date:null}){let a=`${BASE_TABLES_LINK}/export-nearest-bookings`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async cancelBookingTable(o,t={bookingId:null}){let a=`${BASE_TABLES_LINK}/cancel-booking/${t.bookingId}`,i="DELETE";return util.makeAxiosFactory(a,i).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async storeTableAdditionalServices(o,t={dataObject:null}){let a=`${BASE_TABLES_LINK}/store-additional-service`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async acceptTableOder(o,t={dataObject:{table_id:null,type:0}}){let a=`${BASE_TABLES_LINK}/accept-table-order`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async requestApproveTable(o,t={dataObject:{table_id:null}}){let a=`${BASE_TABLES_LINK}/request-approve-table`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async startTablePay(o,t){let a=`${BASE_TABLES_LINK}/table-pay`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async sendOrderToMyChat(o,t={dataObject:{table_id:null}}){let a=`${BASE_TABLES_LINK}/send-order-to-my-chat`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async requestWaiterComing(o,t={dataObject:{table_id:null}}){let a=`${BASE_TABLES_LINK}/call-waiter`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async changeTableWaiter(o,t={dataObject:{table_id:null}}){let a=`${BASE_TABLES_LINK}/change-table-waiter`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async closeTableOrder(o,t={dataObject:{table_id:null}}){let a=`${BASE_TABLES_LINK}/close-table`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadTableData(o,t={dataObject:{table_id:null}}){let a=`${BASE_TABLES_LINK}/table-data`,i="POST";return util.makeAxiosFactory(a,i,t.dataObject).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadCurrentTableData(o){let t=`${BASE_TABLES_LINK}/current`,a="POST",i=localStorage.getItem("cashman_current_active_table")||null;return i&&(i=JSON.parse(i)),util.makeAxiosFactory(t,a,{table_id:(i==null?void 0:i.id)||null}).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadTables(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_TABLES_LINK}/waiter-tables?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setTables",m.data),delete m.data,o.commit("setTablesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async storeTables(o,t={promoCodeForm:null}){let a=`${BASE_TABLES_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.promoCodeForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeTables(o,t={promoCodeId:null}){let a=`${BASE_TABLES_LINK}/${t.promoCodeId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$C={setTables(o,t){o.tables=t||[],localStorage.setItem("cashman_tables",JSON.stringify(t))},setTablesPaginateObject(o,t){o.tables_paginate_object=t||[],localStorage.setItem("cashman_tables_paginate_object",JSON.stringify(t))}},tablesModule={state:state$C,mutations:mutations$C,actions:actions$C,getters:getters$C},BASE_CHAT_HISTORY_LINK="/bot-client/chat-history";let state$B={chat_history:[],chat_history_paginate_object:null};const getters$B={getChatHistory:o=>o.chat_history||[],getChatHistoryPaginateObject:o=>o.chat_history_paginate_object||null},actions$B={async loadChatHistory(o,t={dataObject:{bot_user_id:null},page:0,size:12}){let a=t.page||0,s=`${BASE_CHAT_HISTORY_LINK}?page=${a}&size=12`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(n=>{let l=n.data;return o.commit("setChatHistory",l.data),delete l.data,o.commit("setChatHistoryPaginateObject",l),Promise.resolve()}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))}},mutations$B={setChatHistory(o,t){o.chat_history=t||[],localStorage.setItem("cashman_chat_history",JSON.stringify(t))},setChatHistoryPaginateObject(o,t){o.chat_history_paginate_object=t||[],localStorage.setItem("cashman_chat_history_paginate_object",JSON.stringify(t))}},chat_historyModule={state:state$B,mutations:mutations$B,actions:actions$B,getters:getters$B},BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK="/bot-client/wheel-of-fortune-custom";let state$A={};const getters$A={},actions$A={async getClientNotUsedPrizesFromWheelOfFortune(o,t){let a=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/load-prizes-variants`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async wheelOfFortuneLoadScriptVariants(o){let t=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/load-script-variants`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async updateWheelCustomScriptParams(o,t={slugForm:null}){let a=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/store-params`;return util.makeAxiosFactory(a,"POST",t.slugForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async wheelOfFortuneCustomLoadData(o){let t=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneCustomPrepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneCustomWin(o,t={winForm:null}){let a=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/callback`;return util.makeAxiosFactory(a,"POST",t.winForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$A={},wheelOfFortuneModule$3={state:state$A,mutations:mutations$A,actions:actions$A,getters:getters$A},BASE_WHEEL_OF_FORTUNE_V3_LINK="/bot-client/shop/wheel-of-fortune-v3";let state$z={};const getters$z={},actions$z={async wheelOfFortuneV3Prepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_V3_LINK}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneV3Win(o,t={winForm:null}){let a=`${BASE_WHEEL_OF_FORTUNE_V3_LINK}/callback`;return util.makeAxiosFactory(a,"POST",t.winForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$z={},wheelOfFortuneModule$2={state:state$z,mutations:mutations$z,actions:actions$z,getters:getters$z},BASE_WHEEL_OF_FORTUNE_LINK$1="/bot-client/friends-game";let state$y={};const getters$y={},actions$y={async friendsGamePrepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_LINK$1}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async friendsGameStart(o,t){let a=`${BASE_WHEEL_OF_FORTUNE_LINK$1}/start-game`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async friendsGameFinish(o,t){let a=`${BASE_WHEEL_OF_FORTUNE_LINK$1}/finish-game`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$y={},wheelOfFortuneModule$1={state:state$y,mutations:mutations$y,actions:actions$y,getters:getters$y},BASE_BONUS_PRODUCT_LINK="/bot-client/bonus-product";let state$x={};const getters$x={},actions$x={async bonusProductPrepare(o){let t=`${BASE_BONUS_PRODUCT_LINK}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async bonusProductCheck(o,t={dataObject:null}){let a=`${BASE_BONUS_PRODUCT_LINK}/check`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async bonusProductExchange(o,t={dataObject:null}){let a=`${BASE_BONUS_PRODUCT_LINK}/exchange`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadActionData(o,t={dataObject:null}){let a=`${BASE_BONUS_PRODUCT_LINK}/load-action-data`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$x={},bonusProductModule={state:state$x,mutations:mutations$x,actions:actions$x,getters:getters$x},BASE_INSTAGRAM_QUEST_LINK="/bot-client/instagram-quest";let state$w={};const getters$w={},actions$w={async instagramQuestLoadData(o){let t=`${BASE_INSTAGRAM_QUEST_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async instagramQuestPrepare(o,t={prepareForm:null}){let a=`${BASE_INSTAGRAM_QUEST_LINK}/prepare`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async instagramQuestResult(o,t={instaForm:null}){let a=`${BASE_INSTAGRAM_QUEST_LINK}/callback`;return util.makeAxiosFactory(a,"POST",t.instaForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$w={},instagramQuestModule={state:state$w,mutations:mutations$w,actions:actions$w,getters:getters$w},BASE_REQUEST_PHOTO_LINK="/bot-client/request-photo";let state$v={};const getters$v={},actions$v={async requestPhotoLoadData(o){let t=`${BASE_REQUEST_PHOTO_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async requestPhotoResult(o,t={form:null}){let a=`${BASE_REQUEST_PHOTO_LINK}/callback`;return util.makeAxiosFactory(a,"POST",t.form).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$v={},requestPhotoModule={state:state$v,mutations:mutations$v,actions:actions$v,getters:getters$v},BASE_SCHEDULE_LINK="/bot-client/schedule";let state$u={};const getters$u={},actions$u={async scheduleLoadData(o){let t=`${BASE_SCHEDULE_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))}},mutations$u={},scheduleModule={state:state$u,mutations:mutations$u,actions:actions$u,getters:getters$u},BASE_WHEEL_OF_FORTUNE_LINK="/bot-client/cash-out";let state$t={};const getters$t={},actions$t={async withDrawMoney(o,t={withDrawMoneyForm:null}){let a=`${BASE_WHEEL_OF_FORTUNE_LINK}/withdraw-money`;return util.makeAxiosFactory(a,"POST",t.withDrawMoneyForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$t={},wheelOfFortuneModule={state:state$t,mutations:mutations$t,actions:actions$t,getters:getters$t};var vueCountDownTimer_commonExports={},vueCountDownTimer_common={get exports(){return vueCountDownTimer_commonExports},set exports(o){vueCountDownTimer_commonExports=o}};(function(o){o.exports=function(t){var a={};function i(s){if(a[s])return a[s].exports;var r=a[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=a,i.d=function(s,r,n){i.o(s,r)||Object.defineProperty(s,r,{enumerable:!0,get:n})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,r){if(r&1&&(s=i(s)),r&8||r&4&&typeof s=="object"&&s&&s.__esModule)return s;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:s}),r&2&&typeof s!="string")for(var l in s)i.d(n,l,function(c){return s[c]}.bind(null,l));return n},i.n=function(s){var r=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(r,"a",r),r},i.o=function(s,r){return Object.prototype.hasOwnProperty.call(s,r)},i.p="",i(i.s="fb15")}({"00b4":function(t,a,i){i("ac1f");var s=i("23e7"),r=i("da84"),n=i("c65b"),l=i("e330"),c=i("1626"),m=i("861d"),p=function(){var k=!1,V=/[ac]/;return V.exec=function(){return k=!0,/./.exec.apply(this,arguments)},V.test("abc")===!0&&k}(),y=r.Error,b=l(/./.test);s({target:"RegExp",proto:!0,forced:!p},{test:function(k){var V=this.exec;if(!c(V))return b(this,k);var F=n(V,this,k);if(F!==null&&!m(F))throw new y("RegExp exec method returned something other than an Object or null");return!!F}})},"00ee":function(t,a,i){var s=i("b622"),r=s("toStringTag"),n={};n[r]="z",t.exports=String(n)==="[object z]"},"0366":function(t,a,i){var s=i("e330"),r=i("59ed"),n=s(s.bind);t.exports=function(l,c){return r(l),c===void 0?l:n?n(l,c):function(){return l.apply(c,arguments)}}},"057f":function(t,a,i){var s=i("c6b6"),r=i("fc6a"),n=i("241c").f,l=i("4dae"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],m=function(p){try{return n(p)}catch{return l(c)}};t.exports.f=function(y){return c&&s(y)=="Window"?m(y):n(r(y))}},"06cf":function(t,a,i){var s=i("83ab"),r=i("c65b"),n=i("d1e7"),l=i("5c6c"),c=i("fc6a"),m=i("a04b"),p=i("1a2d"),y=i("0cfb"),b=Object.getOwnPropertyDescriptor;a.f=s?b:function(V,F){if(V=c(V),F=m(F),y)try{return b(V,F)}catch{}if(p(V,F))return l(!r(n.f,V,F),V[F])}},"07fa":function(t,a,i){var s=i("50c4");t.exports=function(r){return s(r.length)}},"0b42":function(t,a,i){var s=i("da84"),r=i("e8b5"),n=i("68ee"),l=i("861d"),c=i("b622"),m=c("species"),p=s.Array;t.exports=function(y){var b;return r(y)&&(b=y.constructor,n(b)&&(b===p||r(b.prototype))?b=void 0:l(b)&&(b=b[m],b===null&&(b=void 0))),b===void 0?p:b}},"0cfb":function(t,a,i){var s=i("83ab"),r=i("d039"),n=i("cc12");t.exports=!s&&!r(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!=7})},"0d40":function(t,a,i){i("6321")},"0d51":function(t,a,i){var s=i("da84"),r=s.String;t.exports=function(n){try{return r(n)}catch{return"Object"}}},"107c":function(t,a,i){var s=i("d039"),r=i("da84"),n=r.RegExp;t.exports=s(function(){var l=n("(?<a>b)","g");return l.exec("b").groups.a!=="b"||"b".replace(l,"$<a>c")!=="bc"})},1626:function(t,a){t.exports=function(i){return typeof i=="function"}},"1a2d":function(t,a,i){var s=i("e330"),r=i("7b0b"),n=s({}.hasOwnProperty);t.exports=Object.hasOwn||function(c,m){return n(r(c),m)}},"1be4":function(t,a,i){var s=i("d066");t.exports=s("document","documentElement")},"1c7e":function(t,a,i){var s=i("b622"),r=s("iterator"),n=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){n=!0}};c[r]=function(){return this},Array.from(c,function(){throw 2})}catch{}t.exports=function(m,p){if(!p&&!n)return!1;var y=!1;try{var b={};b[r]=function(){return{next:function(){return{done:y=!0}}}},m(b)}catch{}return y}},"1d80":function(t,a,i){var s=i("da84"),r=s.TypeError;t.exports=function(n){if(n==null)throw r("Can't call method on "+n);return n}},"1dde":function(t,a,i){var s=i("d039"),r=i("b622"),n=i("2d00"),l=r("species");t.exports=function(c){return n>=51||!s(function(){var m=[],p=m.constructor={};return p[l]=function(){return{foo:1}},m[c](Boolean).foo!==1})}},"23cb":function(t,a,i){var s=i("5926"),r=Math.max,n=Math.min;t.exports=function(l,c){var m=s(l);return m<0?r(m+c,0):n(m,c)}},"23e7":function(t,a,i){var s=i("da84"),r=i("06cf").f,n=i("9112"),l=i("6eeb"),c=i("ce4e"),m=i("e893"),p=i("94ca");t.exports=function(y,b){var k=y.target,V=y.global,F=y.stat,x,J,H,he,se,ue;if(V?J=s:F?J=s[k]||c(k,{}):J=(s[k]||{}).prototype,J)for(H in b){if(se=b[H],y.noTargetGet?(ue=r(J,H),he=ue&&ue.value):he=J[H],x=p(V?H:k+(F?".":"#")+H,y.forced),!x&&he!==void 0){if(typeof se==typeof he)continue;m(se,he)}(y.sham||he&&he.sham)&&n(se,"sham",!0),l(J,H,se,y)}}},"241c":function(t,a,i){var s=i("ca84"),r=i("7839"),n=r.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(c){return s(c,n)}},"24fb":function(t,a,i){t.exports=function(n){var l=[];return l.toString=function(){return this.map(function(m){var p=s(m,n);return m[2]?"@media ".concat(m[2]," {").concat(p,"}"):p}).join("")},l.i=function(c,m,p){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(p)for(var b=0;b<this.length;b++){var k=this[b][0];k!=null&&(y[k]=!0)}for(var V=0;V<c.length;V++){var F=[].concat(c[V]);p&&y[F[0]]||(m&&(F[2]?F[2]="".concat(m," and ").concat(F[2]):F[2]=m),l.push(F))}},l};function s(n,l){var c=n[1]||"",m=n[3];if(!m)return c;if(l&&typeof btoa=="function"){var p=r(m),y=m.sources.map(function(b){return"/*# sourceURL=".concat(m.sourceRoot||"").concat(b," */")});return[c].concat(y).concat([p]).join(`
`)}return[c].join(`
`)}function r(n){var l=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l);return"/*# ".concat(c," */")}},"2a62":function(t,a,i){var s=i("c65b"),r=i("825a"),n=i("dc4a");t.exports=function(l,c,m){var p,y;r(l);try{if(p=n(l,"return"),!p){if(c==="throw")throw m;return m}p=s(p,l)}catch(b){y=!0,p=b}if(c==="throw")throw m;if(y)throw p;return r(p),m}},"2ba4":function(t,a){var i=Function.prototype,s=i.apply,r=i.bind,n=i.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(r?n.bind(s):function(){return n.apply(s,arguments)})},"2d00":function(t,a,i){var s=i("da84"),r=i("342f"),n=s.process,l=s.Deno,c=n&&n.versions||l&&l.version,m=c&&c.v8,p,y;m&&(p=m.split("."),y=p[0]>0&&p[0]<4?1:+(p[0]+p[1])),!y&&r&&(p=r.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=r.match(/Chrome\/(\d+)/),p&&(y=+p[1]))),t.exports=y},"342f":function(t,a,i){var s=i("d066");t.exports=s("navigator","userAgent")||""},"35a1":function(t,a,i){var s=i("f5df"),r=i("dc4a"),n=i("3f8c"),l=i("b622"),c=l("iterator");t.exports=function(m){if(m!=null)return r(m,c)||r(m,"@@iterator")||n[s(m)]}},"37e8":function(t,a,i){var s=i("83ab"),r=i("9bf2"),n=i("825a"),l=i("fc6a"),c=i("df75");t.exports=s?Object.defineProperties:function(p,y){n(p);for(var b=l(y),k=c(y),V=k.length,F=0,x;V>F;)r.f(p,x=k[F++],b[x]);return p}},"3a9b":function(t,a,i){var s=i("e330");t.exports=s({}.isPrototypeOf)},"3bbe":function(t,a,i){var s=i("da84"),r=i("1626"),n=s.String,l=s.TypeError;t.exports=function(c){if(typeof c=="object"||r(c))return c;throw l("Can't set "+n(c)+" as a prototype")}},"3ca3":function(t,a,i){var s=i("6547").charAt,r=i("577e"),n=i("69f3"),l=i("7dd0"),c="String Iterator",m=n.set,p=n.getterFor(c);l(String,"String",function(y){m(this,{type:c,string:r(y),index:0})},function(){var b=p(this),k=b.string,V=b.index,F;return V>=k.length?{value:void 0,done:!0}:(F=s(k,V),b.index+=F.length,{value:F,done:!1})})},"3ee2":function(t,a,i){i("fba8")},"3f8c":function(t,a){t.exports={}},"408a":function(t,a,i){var s=i("e330");t.exports=s(1 .valueOf)},"428f":function(t,a,i){var s=i("da84");t.exports=s},"44ad":function(t,a,i){var s=i("da84"),r=i("e330"),n=i("d039"),l=i("c6b6"),c=s.Object,m=r("".split);t.exports=n(function(){return!c("z").propertyIsEnumerable(0)})?function(p){return l(p)=="String"?m(p,""):c(p)}:c},"44d2":function(t,a,i){var s=i("b622"),r=i("7c73"),n=i("9bf2"),l=s("unscopables"),c=Array.prototype;c[l]==null&&n.f(c,l,{configurable:!0,value:r(null)}),t.exports=function(m){c[l][m]=!0}},"485a":function(t,a,i){var s=i("da84"),r=i("c65b"),n=i("1626"),l=i("861d"),c=s.TypeError;t.exports=function(m,p){var y,b;if(p==="string"&&n(y=m.toString)&&!l(b=r(y,m))||n(y=m.valueOf)&&!l(b=r(y,m))||p!=="string"&&n(y=m.toString)&&!l(b=r(y,m)))return b;throw c("Can't convert object to primitive value")}},4930:function(t,a,i){var s=i("2d00"),r=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&s&&s<41})},"499e":function(t,a,i){i.r(a),i.d(a,"default",function(){return F});function s(G,le){for(var X=[],N={},T=0;T<le.length;T++){var D=le[T],O=D[0],z=D[1],de=D[2],Ht=D[3],oo={id:G+":"+T,css:z,media:de,sourceMap:Ht};N[O]?N[O].parts.push(oo):X.push(N[O]={id:O,parts:[oo]})}return X}var r=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},l=r&&(document.head||document.getElementsByTagName("head")[0]),c=null,m=0,p=!1,y=function(){},b=null,k="data-vue-ssr-id",V=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function F(G,le,X,N){p=X,b=N||{};var T=s(G,le);return x(T),function(O){for(var z=[],de=0;de<T.length;de++){var Ht=T[de],oo=n[Ht.id];oo.refs--,z.push(oo)}O?(T=s(G,O),x(T)):T=[];for(var de=0;de<z.length;de++){var oo=z[de];if(oo.refs===0){for(var zt=0;zt<oo.parts.length;zt++)oo.parts[zt]();delete n[oo.id]}}}}function x(G){for(var le=0;le<G.length;le++){var X=G[le],N=n[X.id];if(N){N.refs++;for(var T=0;T<N.parts.length;T++)N.parts[T](X.parts[T]);for(;T<X.parts.length;T++)N.parts.push(H(X.parts[T]));N.parts.length>X.parts.length&&(N.parts.length=X.parts.length)}else{for(var D=[],T=0;T<X.parts.length;T++)D.push(H(X.parts[T]));n[X.id]={id:X.id,refs:1,parts:D}}}}function J(){var G=document.createElement("style");return G.type="text/css",l.appendChild(G),G}function H(G){var le,X,N=document.querySelector("style["+k+'~="'+G.id+'"]');if(N){if(p)return y;N.parentNode.removeChild(N)}if(V){var T=m++;N=c||(c=J()),le=se.bind(null,N,T,!1),X=se.bind(null,N,T,!0)}else N=J(),le=ue.bind(null,N),X=function(){N.parentNode.removeChild(N)};return le(G),function(O){if(O){if(O.css===G.css&&O.media===G.media&&O.sourceMap===G.sourceMap)return;le(G=O)}else X()}}var he=function(){var G=[];return function(le,X){return G[le]=X,G.filter(Boolean).join(`
`)}}();function se(G,le,X,N){var T=X?"":N.css;if(G.styleSheet)G.styleSheet.cssText=he(le,T);else{var D=document.createTextNode(T),O=G.childNodes;O[le]&&G.removeChild(O[le]),O.length?G.insertBefore(D,O[le]):G.appendChild(D)}}function ue(G,le){var X=le.css,N=le.media,T=le.sourceMap;if(N&&G.setAttribute("media",N),b.ssrId&&G.setAttribute(k,le.id),T&&(X+=`
/*# sourceURL=`+T.sources[0]+" */",X+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(T))))+" */"),G.styleSheet)G.styleSheet.cssText=X;else{for(;G.firstChild;)G.removeChild(G.firstChild);G.appendChild(document.createTextNode(X))}}},"4d64":function(t,a,i){var s=i("fc6a"),r=i("23cb"),n=i("07fa"),l=function(c){return function(m,p,y){var b=s(m),k=n(b),V=r(y,k),F;if(c&&p!=p){for(;k>V;)if(F=b[V++],F!=F)return!0}else for(;k>V;V++)if((c||V in b)&&b[V]===p)return c||V||0;return!c&&-1}};t.exports={includes:l(!0),indexOf:l(!1)}},"4dae":function(t,a,i){var s=i("da84"),r=i("23cb"),n=i("07fa"),l=i("8418"),c=s.Array,m=Math.max;t.exports=function(p,y,b){for(var k=n(p),V=r(y,k),F=r(b===void 0?k:b,k),x=c(m(F-V,0)),J=0;V<F;V++,J++)l(x,J,p[V]);return x.length=J,x}},"4df4":function(t,a,i){var s=i("da84"),r=i("0366"),n=i("c65b"),l=i("7b0b"),c=i("9bdd"),m=i("e95a"),p=i("68ee"),y=i("07fa"),b=i("8418"),k=i("9a1f"),V=i("35a1"),F=s.Array;t.exports=function(J){var H=l(J),he=p(this),se=arguments.length,ue=se>1?arguments[1]:void 0,G=ue!==void 0;G&&(ue=r(ue,se>2?arguments[2]:void 0));var le=V(H),X=0,N,T,D,O,z,de;if(le&&!(this==F&&m(le)))for(O=k(H,le),z=O.next,T=he?new this:[];!(D=n(z,O)).done;X++)de=G?c(O,ue,[D.value,X],!0):D.value,b(T,X,de);else for(N=y(H),T=he?new this(N):F(N);N>X;X++)de=G?ue(H[X],X):H[X],b(T,X,de);return T.length=X,T}},"50c4":function(t,a,i){var s=i("5926"),r=Math.min;t.exports=function(n){return n>0?r(s(n),9007199254740991):0}},5692:function(t,a,i){var s=i("c430"),r=i("c6cd");(t.exports=function(n,l){return r[n]||(r[n]=l!==void 0?l:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,a,i){var s=i("d066"),r=i("e330"),n=i("241c"),l=i("7418"),c=i("825a"),m=r([].concat);t.exports=s("Reflect","ownKeys")||function(y){var b=n.f(c(y)),k=l.f;return k?m(b,k(y)):b}},"577e":function(t,a,i){var s=i("da84"),r=i("f5df"),n=s.String;t.exports=function(l){if(r(l)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return n(l)}},5899:function(t,a){t.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},"58a8":function(t,a,i){var s=i("e330"),r=i("1d80"),n=i("577e"),l=i("5899"),c=s("".replace),m="["+l+"]",p=RegExp("^"+m+m+"*"),y=RegExp(m+m+"*$"),b=function(k){return function(V){var F=n(r(V));return k&1&&(F=c(F,p,"")),k&2&&(F=c(F,y,"")),F}};t.exports={start:b(1),end:b(2),trim:b(3)}},5926:function(t,a){var i=Math.ceil,s=Math.floor;t.exports=function(r){var n=+r;return n!==n||n===0?0:(n>0?s:i)(n)}},"59ed":function(t,a,i){var s=i("da84"),r=i("1626"),n=i("0d51"),l=s.TypeError;t.exports=function(c){if(r(c))return c;throw l(n(c)+" is not a function")}},"5c6c":function(t,a){t.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},"5e77":function(t,a,i){var s=i("83ab"),r=i("1a2d"),n=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,c=r(n,"name"),m=c&&function(){}.name==="something",p=c&&(!s||s&&l(n,"name").configurable);t.exports={EXISTS:c,PROPER:m,CONFIGURABLE:p}},6321:function(t,a,i){var s=i("6ffc");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var r=i("499e").default;r("4c513a4d",s,!0,{sourceMap:!1,shadowMode:!1})},6547:function(t,a,i){var s=i("e330"),r=i("5926"),n=i("577e"),l=i("1d80"),c=s("".charAt),m=s("".charCodeAt),p=s("".slice),y=function(b){return function(k,V){var F=n(l(k)),x=r(V),J=F.length,H,he;return x<0||x>=J?b?"":void 0:(H=m(F,x),H<55296||H>56319||x+1===J||(he=m(F,x+1))<56320||he>57343?b?c(F,x):H:b?p(F,x,x+2):(H-55296<<10)+(he-56320)+65536)}};t.exports={codeAt:y(!1),charAt:y(!0)}},"65f0":function(t,a,i){var s=i("0b42");t.exports=function(r,n){return new(s(r))(n===0?0:n)}},"68ee":function(t,a,i){var s=i("e330"),r=i("d039"),n=i("1626"),l=i("f5df"),c=i("d066"),m=i("8925"),p=function(){},y=[],b=c("Reflect","construct"),k=/^\s*(?:class|function)\b/,V=s(k.exec),F=!k.exec(p),x=function(H){if(!n(H))return!1;try{return b(p,y,H),!0}catch{return!1}},J=function(H){if(!n(H))return!1;switch(l(H)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return F||!!V(k,m(H))};t.exports=!b||r(function(){var H;return x(x.call)||!x(Object)||!x(function(){H=!0})||H})?J:x},"69f3":function(t,a,i){var s=i("7f9a"),r=i("da84"),n=i("e330"),l=i("861d"),c=i("9112"),m=i("1a2d"),p=i("c6cd"),y=i("f772"),b=i("d012"),k="Object already initialized",V=r.TypeError,F=r.WeakMap,x,J,H,he=function(T){return H(T)?J(T):x(T,{})},se=function(T){return function(D){var O;if(!l(D)||(O=J(D)).type!==T)throw V("Incompatible receiver, "+T+" required");return O}};if(s||p.state){var ue=p.state||(p.state=new F),G=n(ue.get),le=n(ue.has),X=n(ue.set);x=function(T,D){if(le(ue,T))throw new V(k);return D.facade=T,X(ue,T,D),D},J=function(T){return G(ue,T)||{}},H=function(T){return le(ue,T)}}else{var N=y("state");b[N]=!0,x=function(T,D){if(m(T,N))throw new V(k);return D.facade=T,c(T,N,D),D},J=function(T){return m(T,N)?T[N]:{}},H=function(T){return m(T,N)}}t.exports={set:x,get:J,has:H,enforce:he,getterFor:se}},"6eeb":function(t,a,i){var s=i("da84"),r=i("1626"),n=i("1a2d"),l=i("9112"),c=i("ce4e"),m=i("8925"),p=i("69f3"),y=i("5e77").CONFIGURABLE,b=p.get,k=p.enforce,V=String(String).split("String");(t.exports=function(F,x,J,H){var he=H?!!H.unsafe:!1,se=H?!!H.enumerable:!1,ue=H?!!H.noTargetGet:!1,G=H&&H.name!==void 0?H.name:x,le;if(r(J)&&(String(G).slice(0,7)==="Symbol("&&(G="["+String(G).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!n(J,"name")||y&&J.name!==G)&&l(J,"name",G),le=k(J),le.source||(le.source=V.join(typeof G=="string"?G:""))),F===s){se?F[x]=J:c(x,J);return}else he?!ue&&F[x]&&(se=!0):delete F[x];se?F[x]=J:l(F,x,J)})(Function.prototype,"toString",function(){return r(this)&&b(this).source||m(this)})},"6ffc":function(t,a,i){var s=i("24fb");a=s(!1),a.push([t.i,".circles__container[data-v-2442d1f7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.circle__item[data-v-2442d1f7]{margin:5px;height:100%}",""]),t.exports=a},7156:function(t,a,i){var s=i("1626"),r=i("861d"),n=i("d2bb");t.exports=function(l,c,m){var p,y;return n&&s(p=c.constructor)&&p!==m&&r(y=p.prototype)&&y!==m.prototype&&n(l,y),l}},7418:function(t,a){a.f=Object.getOwnPropertySymbols},"746f":function(t,a,i){var s=i("428f"),r=i("1a2d"),n=i("e538"),l=i("9bf2").f;t.exports=function(c){var m=s.Symbol||(s.Symbol={});r(m,c)||l(m,c,{value:n.f(c)})}},7839:function(t,a){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(t,a,i){var s=i("cc12"),r=s("span").classList,n=r&&r.constructor&&r.constructor.prototype;t.exports=n===Object.prototype?void 0:n},"7b0b":function(t,a,i){var s=i("da84"),r=i("1d80"),n=s.Object;t.exports=function(l){return n(r(l))}},"7c73":function(t,a,i){var s=i("825a"),r=i("37e8"),n=i("7839"),l=i("d012"),c=i("1be4"),m=i("cc12"),p=i("f772"),y=">",b="<",k="prototype",V="script",F=p("IE_PROTO"),x=function(){},J=function(G){return b+V+y+G+b+"/"+V+y},H=function(G){G.write(J("")),G.close();var le=G.parentWindow.Object;return G=null,le},he=function(){var G=m("iframe"),le="java"+V+":",X;return G.style.display="none",c.appendChild(G),G.src=String(le),X=G.contentWindow.document,X.open(),X.write(J("document.F=Object")),X.close(),X.F},se,ue=function(){try{se=new ActiveXObject("htmlfile")}catch{}ue=typeof document<"u"?document.domain&&se?H(se):he():H(se);for(var G=n.length;G--;)delete ue[k][n[G]];return ue()};l[F]=!0,t.exports=Object.create||function(le,X){var N;return le!==null?(x[k]=s(le),N=new x,x[k]=null,N[F]=le):N=ue(),X===void 0?N:r(N,X)}},"7dd0":function(t,a,i){var s=i("23e7"),r=i("c65b"),n=i("c430"),l=i("5e77"),c=i("1626"),m=i("9ed3"),p=i("e163"),y=i("d2bb"),b=i("d44e"),k=i("9112"),V=i("6eeb"),F=i("b622"),x=i("3f8c"),J=i("ae93"),H=l.PROPER,he=l.CONFIGURABLE,se=J.IteratorPrototype,ue=J.BUGGY_SAFARI_ITERATORS,G=F("iterator"),le="keys",X="values",N="entries",T=function(){return this};t.exports=function(D,O,z,de,Ht,oo,zt){m(z,O,de);var Xt=function(Co){if(Co===Ht&&yo)return yo;if(!ue&&Co in lo)return lo[Co];switch(Co){case le:return function(){return new z(this,Co)};case X:return function(){return new z(this,Co)};case N:return function(){return new z(this,Co)}}return function(){return new z(this)}},no=O+" Iterator",_o=!1,lo=D.prototype,go=lo[G]||lo["@@iterator"]||Ht&&lo[Ht],yo=!ue&&go||Xt(Ht),uo=O=="Array"&&lo.entries||go,fe,Do,jo;if(uo&&(fe=p(uo.call(new D)),fe!==Object.prototype&&fe.next&&(!n&&p(fe)!==se&&(y?y(fe,se):c(fe[G])||V(fe,G,T)),b(fe,no,!0,!0),n&&(x[no]=T))),H&&Ht==X&&go&&go.name!==X&&(!n&&he?k(lo,"name",X):(_o=!0,yo=function(){return r(go,this)})),Ht)if(Do={values:Xt(X),keys:oo?yo:Xt(le),entries:Xt(N)},zt)for(jo in Do)(ue||_o||!(jo in lo))&&V(lo,jo,Do[jo]);else s({target:O,proto:!0,forced:ue||_o},Do);return(!n||zt)&&lo[G]!==yo&&V(lo,G,yo,{name:Ht}),x[O]=yo,Do}},"7f9a":function(t,a,i){var s=i("da84"),r=i("1626"),n=i("8925"),l=s.WeakMap;t.exports=r(l)&&/native code/.test(n(l))},"825a":function(t,a,i){var s=i("da84"),r=i("861d"),n=s.String,l=s.TypeError;t.exports=function(c){if(r(c))return c;throw l(n(c)+" is not an object")}},"83ab":function(t,a,i){var s=i("d039");t.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(t,a,i){var s=i("a04b"),r=i("9bf2"),n=i("5c6c");t.exports=function(l,c,m){var p=s(c);p in l?r.f(l,p,n(0,m)):l[p]=m}},"861d":function(t,a,i){var s=i("1626");t.exports=function(r){return typeof r=="object"?r!==null:s(r)}},8875:function(t,a,i){var s,r,n;(function(l,c){r=[],s=c,n=typeof s=="function"?s.apply(a,r):s,n!==void 0&&(t.exports=n)})(typeof self<"u"?self:this,function(){function l(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==l&&document.currentScript)return document.currentScript;try{throw new Error}catch(se){var m=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,y=m.exec(se.stack)||p.exec(se.stack),b=y&&y[1]||!1,k=y&&y[2]||!1,V=document.location.href.replace(document.location.hash,""),F,x,J,H=document.getElementsByTagName("script");b===V&&(F=document.documentElement.outerHTML,x=new RegExp("(?:[^\\n]+?\\n){0,"+(k-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),J=F.replace(x,"$1").trim());for(var he=0;he<H.length;he++)if(H[he].readyState==="interactive"||H[he].src===b||b===V&&H[he].innerHTML&&H[he].innerHTML.trim()===J)return H[he];return null}}return l})},8925:function(t,a,i){var s=i("e330"),r=i("1626"),n=i("c6cd"),l=s(Function.toString);r(n.inspectSource)||(n.inspectSource=function(c){return l(c)}),t.exports=n.inspectSource},"90e3":function(t,a,i){var s=i("e330"),r=0,n=Math.random(),l=s(1 .toString);t.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++r+n,36)}},9112:function(t,a,i){var s=i("83ab"),r=i("9bf2"),n=i("5c6c");t.exports=s?function(l,c,m){return r.f(l,c,n(1,m))}:function(l,c,m){return l[c]=m,l}},9263:function(t,a,i){var s=i("c65b"),r=i("e330"),n=i("577e"),l=i("ad6d"),c=i("9f7f"),m=i("5692"),p=i("7c73"),y=i("69f3").get,b=i("fce3"),k=i("107c"),V=m("native-string-replace",String.prototype.replace),F=RegExp.prototype.exec,x=F,J=r("".charAt),H=r("".indexOf),he=r("".replace),se=r("".slice),ue=function(){var N=/a/,T=/b*/g;return s(F,N,"a"),s(F,T,"a"),N.lastIndex!==0||T.lastIndex!==0}(),G=c.BROKEN_CARET,le=/()??/.exec("")[1]!==void 0,X=ue||le||G||b||k;X&&(x=function(T){var D=this,O=y(D),z=n(T),de=O.raw,Ht,oo,zt,Xt,no,_o,lo;if(de)return de.lastIndex=D.lastIndex,Ht=s(x,de,z),D.lastIndex=de.lastIndex,Ht;var go=O.groups,yo=G&&D.sticky,uo=s(l,D),fe=D.source,Do=0,jo=z;if(yo&&(uo=he(uo,"y",""),H(uo,"g")===-1&&(uo+="g"),jo=se(z,D.lastIndex),D.lastIndex>0&&(!D.multiline||D.multiline&&J(z,D.lastIndex-1)!==`
`)&&(fe="(?: "+fe+")",jo=" "+jo,Do++),oo=new RegExp("^(?:"+fe+")",uo)),le&&(oo=new RegExp("^"+fe+"$(?!\\s)",uo)),ue&&(zt=D.lastIndex),Xt=s(F,yo?oo:D,jo),yo?Xt?(Xt.input=se(Xt.input,Do),Xt[0]=se(Xt[0],Do),Xt.index=D.lastIndex,D.lastIndex+=Xt[0].length):D.lastIndex=0:ue&&Xt&&(D.lastIndex=D.global?Xt.index+Xt[0].length:zt),le&&Xt&&Xt.length>1&&s(V,Xt[0],oo,function(){for(no=1;no<arguments.length-2;no++)arguments[no]===void 0&&(Xt[no]=void 0)}),Xt&&go)for(Xt.groups=_o=p(null),no=0;no<go.length;no++)lo=go[no],_o[lo[0]]=Xt[lo[1]];return Xt}),t.exports=x},"94ca":function(t,a,i){var s=i("d039"),r=i("1626"),n=/#|\.prototype\./,l=function(b,k){var V=m[c(b)];return V==y?!0:V==p?!1:r(k)?s(k):!!k},c=l.normalize=function(b){return String(b).replace(n,".").toLowerCase()},m=l.data={},p=l.NATIVE="N",y=l.POLYFILL="P";t.exports=l},"9a1f":function(t,a,i){var s=i("da84"),r=i("c65b"),n=i("59ed"),l=i("825a"),c=i("0d51"),m=i("35a1"),p=s.TypeError;t.exports=function(y,b){var k=arguments.length<2?m(y):b;if(n(k))return l(r(k,y));throw p(c(y)+" is not iterable")}},"9bdd":function(t,a,i){var s=i("825a"),r=i("2a62");t.exports=function(n,l,c,m){try{return m?l(s(c)[0],c[1]):l(c)}catch(p){r(n,"throw",p)}}},"9bf2":function(t,a,i){var s=i("da84"),r=i("83ab"),n=i("0cfb"),l=i("825a"),c=i("a04b"),m=s.TypeError,p=Object.defineProperty;a.f=r?p:function(b,k,V){if(l(b),k=c(k),l(V),n)try{return p(b,k,V)}catch{}if("get"in V||"set"in V)throw m("Accessors not supported");return"value"in V&&(b[k]=V.value),b}},"9ed3":function(t,a,i){var s=i("ae93").IteratorPrototype,r=i("7c73"),n=i("5c6c"),l=i("d44e"),c=i("3f8c"),m=function(){return this};t.exports=function(p,y,b,k){var V=y+" Iterator";return p.prototype=r(s,{next:n(+!k,b)}),l(p,V,!1,!0),c[V]=m,p}},"9f7f":function(t,a,i){var s=i("d039"),r=i("da84"),n=r.RegExp,l=s(function(){var p=n("a","y");return p.lastIndex=2,p.exec("abcd")!=null}),c=l||s(function(){return!n("a","y").sticky}),m=l||s(function(){var p=n("^r","gy");return p.lastIndex=2,p.exec("str")!=null});t.exports={BROKEN_CARET:m,MISSED_STICKY:c,UNSUPPORTED_Y:l}},a04b:function(t,a,i){var s=i("c04e"),r=i("d9b5");t.exports=function(n){var l=s(n,"string");return r(l)?l:l+""}},a4d3:function(t,a,i){var s=i("23e7"),r=i("da84"),n=i("d066"),l=i("2ba4"),c=i("c65b"),m=i("e330"),p=i("c430"),y=i("83ab"),b=i("4930"),k=i("d039"),V=i("1a2d"),F=i("e8b5"),x=i("1626"),J=i("861d"),H=i("3a9b"),he=i("d9b5"),se=i("825a"),ue=i("7b0b"),G=i("fc6a"),le=i("a04b"),X=i("577e"),N=i("5c6c"),T=i("7c73"),D=i("df75"),O=i("241c"),z=i("057f"),de=i("7418"),Ht=i("06cf"),oo=i("9bf2"),zt=i("d1e7"),Xt=i("f36a"),no=i("6eeb"),_o=i("5692"),lo=i("f772"),go=i("d012"),yo=i("90e3"),uo=i("b622"),fe=i("e538"),Do=i("746f"),jo=i("d44e"),Co=i("69f3"),Lo=i("b727").forEach,Fo=lo("hidden"),us="Symbol",ts="prototype",Go=uo("toPrimitive"),Qo=Co.set,Fs=Co.getterFor(us),Uo=Object[ts],Ro=r.Symbol,Wo=Ro&&Ro[ts],xs=r.TypeError,Jo=r.QObject,No=n("JSON","stringify"),Ao=Ht.f,qo=oo.f,ps=z.f,Po=zt.f,fs=m([].push),Oo=_o("symbols"),To=_o("op-symbols"),co=_o("string-to-symbol-registry"),Yo=_o("symbol-to-string-registry"),os=_o("wks"),bs=!Jo||!Jo[ts]||!Jo[ts].findChild,gs=y&&k(function(){return T(qo({},"a",{get:function(){return qo(this,"a",{value:7}).a}})).a!=7})?function(mo,eo,ao){var io=Ao(Uo,eo);io&&delete Uo[eo],qo(mo,eo,ao),io&&mo!==Uo&&qo(Uo,eo,io)}:qo,ks=function(mo,eo){var ao=Oo[mo]=T(Wo);return Qo(ao,{type:us,tag:mo,description:eo}),y||(ao.description=eo),ao},ss=function(eo,ao,io){eo===Uo&&ss(To,ao,io),se(eo);var $o=le(ao);return se(io),V(Oo,$o)?(io.enumerable?(V(eo,Fo)&&eo[Fo][$o]&&(eo[Fo][$o]=!1),io=T(io,{enumerable:N(0,!1)})):(V(eo,Fo)||qo(eo,Fo,N(1,{})),eo[Fo][$o]=!0),gs(eo,$o,io)):qo(eo,$o,io)},Mo=function(eo,ao){se(eo);var io=G(ao),$o=D(io).concat(Ko(io));return Lo($o,function(So){(!y||c(as,io,So))&&ss(eo,So,io[So])}),eo},Vs=function(eo,ao){return ao===void 0?T(eo):Mo(T(eo),ao)},as=function(eo){var ao=le(eo),io=c(Po,this,ao);return this===Uo&&V(Oo,ao)&&!V(To,ao)?!1:io||!V(this,ao)||!V(Oo,ao)||V(this,Fo)&&this[Fo][ao]?io:!0},is=function(eo,ao){var io=G(eo),$o=le(ao);if(!(io===Uo&&V(Oo,$o)&&!V(To,$o))){var So=Ao(io,$o);return So&&V(Oo,$o)&&!(V(io,Fo)&&io[Fo][$o])&&(So.enumerable=!0),So}},Bo=function(eo){var ao=ps(G(eo)),io=[];return Lo(ao,function($o){!V(Oo,$o)&&!V(go,$o)&&fs(io,$o)}),io},Ko=function(eo){var ao=eo===Uo,io=ps(ao?To:G(eo)),$o=[];return Lo(io,function(So){V(Oo,So)&&(!ao||V(Uo,So))&&fs($o,Oo[So])}),$o};if(b||(Ro=function(){if(H(Wo,this))throw xs("Symbol is not a constructor");var eo=!arguments.length||arguments[0]===void 0?void 0:X(arguments[0]),ao=yo(eo),io=function($o){this===Uo&&c(io,To,$o),V(this,Fo)&&V(this[Fo],ao)&&(this[Fo][ao]=!1),gs(this,ao,N(1,$o))};return y&&bs&&gs(Uo,ao,{configurable:!0,set:io}),ks(ao,eo)},Wo=Ro[ts],no(Wo,"toString",function(){return Fs(this).tag}),no(Ro,"withoutSetter",function(mo){return ks(yo(mo),mo)}),zt.f=as,oo.f=ss,Ht.f=is,O.f=z.f=Bo,de.f=Ko,fe.f=function(mo){return ks(uo(mo),mo)},y&&(qo(Wo,"description",{configurable:!0,get:function(){return Fs(this).description}}),p||no(Uo,"propertyIsEnumerable",as,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:Ro}),Lo(D(os),function(mo){Do(mo)}),s({target:us,stat:!0,forced:!b},{for:function(mo){var eo=X(mo);if(V(co,eo))return co[eo];var ao=Ro(eo);return co[eo]=ao,Yo[ao]=eo,ao},keyFor:function(eo){if(!he(eo))throw xs(eo+" is not a symbol");if(V(Yo,eo))return Yo[eo]},useSetter:function(){bs=!0},useSimple:function(){bs=!1}}),s({target:"Object",stat:!0,forced:!b,sham:!y},{create:Vs,defineProperty:ss,defineProperties:Mo,getOwnPropertyDescriptor:is}),s({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:Bo,getOwnPropertySymbols:Ko}),s({target:"Object",stat:!0,forced:k(function(){de.f(1)})},{getOwnPropertySymbols:function(eo){return de.f(ue(eo))}}),No){var Ns=!b||k(function(){var mo=Ro();return No([mo])!="[null]"||No({a:mo})!="{}"||No(Object(mo))!="{}"});s({target:"JSON",stat:!0,forced:Ns},{stringify:function(eo,ao,io){var $o=Xt(arguments),So=ao;if(!(!J(ao)&&eo===void 0||he(eo)))return F(ao)||(ao=function(Os,v){if(x(So)&&(v=c(So,this,Os,v)),!he(v))return v}),$o[1]=ao,l(No,null,$o)}})}if(!Wo[Go]){var rs=Wo.valueOf;no(Wo,Go,function(mo){return c(rs,this)})}jo(Ro,us),go[Fo]=!0},a630:function(t,a,i){var s=i("23e7"),r=i("4df4"),n=i("1c7e"),l=!n(function(c){Array.from(c)});s({target:"Array",stat:!0,forced:l},{from:r})},a9e3:function(t,a,i){var s=i("83ab"),r=i("da84"),n=i("e330"),l=i("94ca"),c=i("6eeb"),m=i("1a2d"),p=i("7156"),y=i("3a9b"),b=i("d9b5"),k=i("c04e"),V=i("d039"),F=i("241c").f,x=i("06cf").f,J=i("9bf2").f,H=i("408a"),he=i("58a8").trim,se="Number",ue=r[se],G=ue.prototype,le=r.TypeError,X=n("".slice),N=n("".charCodeAt),T=function(oo){var zt=k(oo,"number");return typeof zt=="bigint"?zt:D(zt)},D=function(oo){var zt=k(oo,"number"),Xt,no,_o,lo,go,yo,uo,fe;if(b(zt))throw le("Cannot convert a Symbol value to a number");if(typeof zt=="string"&&zt.length>2){if(zt=he(zt),Xt=N(zt,0),Xt===43||Xt===45){if(no=N(zt,2),no===88||no===120)return NaN}else if(Xt===48){switch(N(zt,1)){case 66:case 98:_o=2,lo=49;break;case 79:case 111:_o=8,lo=55;break;default:return+zt}for(go=X(zt,2),yo=go.length,uo=0;uo<yo;uo++)if(fe=N(go,uo),fe<48||fe>lo)return NaN;return parseInt(go,_o)}}return+zt};if(l(se,!ue(" 0o1")||!ue("0b1")||ue("+0x1"))){for(var O=function(zt){var Xt=arguments.length<1?0:ue(T(zt)),no=this;return y(G,no)&&V(function(){H(no)})?p(Object(Xt),no,O):Xt},z=s?F(ue):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),de=0,Ht;z.length>de;de++)m(ue,Ht=z[de])&&!m(O,Ht)&&J(O,Ht,x(ue,Ht));O.prototype=G,G.constructor=O,c(r,se,O)}},ac1f:function(t,a,i){var s=i("23e7"),r=i("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,a,i){var s=i("825a");t.exports=function(){var r=s(this),n="";return r.global&&(n+="g"),r.ignoreCase&&(n+="i"),r.multiline&&(n+="m"),r.dotAll&&(n+="s"),r.unicode&&(n+="u"),r.sticky&&(n+="y"),n}},ae93:function(t,a,i){var s=i("d039"),r=i("1626"),n=i("7c73"),l=i("e163"),c=i("6eeb"),m=i("b622"),p=i("c430"),y=m("iterator"),b=!1,k,V,F;[].keys&&(F=[].keys(),"next"in F?(V=l(l(F)),V!==Object.prototype&&(k=V)):b=!0);var x=k==null||s(function(){var J={};return k[y].call(J)!==J});x?k={}:p&&(k=n(k)),r(k[y])||c(k,y,function(){return this}),t.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:b}},b041:function(t,a,i){var s=i("00ee"),r=i("f5df");t.exports=s?{}.toString:function(){return"[object "+r(this)+"]"}},b0c0:function(t,a,i){var s=i("83ab"),r=i("5e77").EXISTS,n=i("e330"),l=i("9bf2").f,c=Function.prototype,m=n(c.toString),p=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,y=n(p.exec),b="name";s&&!r&&l(c,b,{configurable:!0,get:function(){try{return y(p,m(this))[1]}catch{return""}}})},b622:function(t,a,i){var s=i("da84"),r=i("5692"),n=i("1a2d"),l=i("90e3"),c=i("4930"),m=i("fdbf"),p=r("wks"),y=s.Symbol,b=y&&y.for,k=m?y:y&&y.withoutSetter||l;t.exports=function(V){if(!n(p,V)||!(c||typeof p[V]=="string")){var F="Symbol."+V;c&&n(y,V)?p[V]=y[V]:m&&b?p[V]=b(F):p[V]=k(F)}return p[V]}},b64b:function(t,a,i){var s=i("23e7"),r=i("7b0b"),n=i("df75"),l=i("d039"),c=l(function(){n(1)});s({target:"Object",stat:!0,forced:c},{keys:function(p){return n(r(p))}})},b727:function(t,a,i){var s=i("0366"),r=i("e330"),n=i("44ad"),l=i("7b0b"),c=i("07fa"),m=i("65f0"),p=r([].push),y=function(b){var k=b==1,V=b==2,F=b==3,x=b==4,J=b==6,H=b==7,he=b==5||J;return function(se,ue,G,le){for(var X=l(se),N=n(X),T=s(ue,G),D=c(N),O=0,z=le||m,de=k?z(se,D):V||H?z(se,0):void 0,Ht,oo;D>O;O++)if((he||O in N)&&(Ht=N[O],oo=T(Ht,O,X),b))if(k)de[O]=oo;else if(oo)switch(b){case 3:return!0;case 5:return Ht;case 6:return O;case 2:p(de,Ht)}else switch(b){case 4:return!1;case 7:p(de,Ht)}return J?-1:F||x?x:de}};t.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6),filterReject:y(7)}},c04e:function(t,a,i){var s=i("da84"),r=i("c65b"),n=i("861d"),l=i("d9b5"),c=i("dc4a"),m=i("485a"),p=i("b622"),y=s.TypeError,b=p("toPrimitive");t.exports=function(k,V){if(!n(k)||l(k))return k;var F=c(k,b),x;if(F){if(V===void 0&&(V="default"),x=r(F,k,V),!n(x)||l(x))return x;throw y("Can't convert object to primitive value")}return V===void 0&&(V="number"),m(k,V)}},c430:function(t,a){t.exports=!1},c65b:function(t,a){var i=Function.prototype.call;t.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(t,a,i){var s=i("e330"),r=s({}.toString),n=s("".slice);t.exports=function(l){return n(r(l),8,-1)}},c6cd:function(t,a,i){var s=i("da84"),r=i("ce4e"),n="__core-js_shared__",l=s[n]||r(n,{});t.exports=l},c8ba:function(t,a){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}t.exports=i},ca84:function(t,a,i){var s=i("e330"),r=i("1a2d"),n=i("fc6a"),l=i("4d64").indexOf,c=i("d012"),m=s([].push);t.exports=function(p,y){var b=n(p),k=0,V=[],F;for(F in b)!r(c,F)&&r(b,F)&&m(V,F);for(;y.length>k;)r(b,F=y[k++])&&(~l(V,F)||m(V,F));return V}},cc12:function(t,a,i){var s=i("da84"),r=i("861d"),n=s.document,l=r(n)&&r(n.createElement);t.exports=function(c){return l?n.createElement(c):{}}},ce4e:function(t,a,i){var s=i("da84"),r=Object.defineProperty;t.exports=function(n,l){try{r(s,n,{value:l,configurable:!0,writable:!0})}catch{s[n]=l}return l}},cfeb:function(t,a,i){var s=i("24fb");a=s(!1),a.push([t.i,".circle__container[data-v-b2a3b458]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.circle__circle[data-v-b2a3b458],.circle__container[data-v-b2a3b458]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.circle__circle[data-v-b2a3b458]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:relative}.circle__value[data-v-b2a3b458]{position:absolute}circle[data-v-b2a3b458]{-webkit-transition:all .5s ease;transition:all .5s ease}",""]),t.exports=a},d012:function(t,a){t.exports={}},d039:function(t,a){t.exports=function(i){try{return!!i()}catch{return!0}}},d066:function(t,a,i){var s=i("da84"),r=i("1626"),n=function(l){return r(l)?l:void 0};t.exports=function(l,c){return arguments.length<2?n(s[l]):s[l]&&s[l][c]}},d1e7:function(t,a,i){var s={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!s.call({1:2},1);a.f=n?function(c){var m=r(this,c);return!!m&&m.enumerable}:s},d28b:function(t,a,i){var s=i("746f");s("iterator")},d2bb:function(t,a,i){var s=i("e330"),r=i("825a"),n=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l=!1,c={},m;try{m=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),m(c,[]),l=c instanceof Array}catch{}return function(y,b){return r(y),n(b),l?m(y,b):y.__proto__=b,y}}():void 0)},d3b7:function(t,a,i){var s=i("00ee"),r=i("6eeb"),n=i("b041");s||r(Object.prototype,"toString",n,{unsafe:!0})},d44e:function(t,a,i){var s=i("9bf2").f,r=i("1a2d"),n=i("b622"),l=n("toStringTag");t.exports=function(c,m,p){c&&!r(c=p?c:c.prototype,l)&&s(c,l,{configurable:!0,value:m})}},d9b5:function(t,a,i){var s=i("da84"),r=i("d066"),n=i("1626"),l=i("3a9b"),c=i("fdbf"),m=s.Object;t.exports=c?function(p){return typeof p=="symbol"}:function(p){var y=r("Symbol");return n(y)&&l(y.prototype,m(p))}},da84:function(t,a,i){(function(s){var r=function(n){return n&&n.Math==Math&&n};t.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},dc4a:function(t,a,i){var s=i("59ed");t.exports=function(r,n){var l=r[n];return l==null?void 0:s(l)}},ddb0:function(t,a,i){var s=i("da84"),r=i("fdbc"),n=i("785a"),l=i("e260"),c=i("9112"),m=i("b622"),p=m("iterator"),y=m("toStringTag"),b=l.values,k=function(F,x){if(F){if(F[p]!==b)try{c(F,p,b)}catch{F[p]=b}if(F[y]||c(F,y,x),r[x]){for(var J in l)if(F[J]!==l[J])try{c(F,J,l[J])}catch{F[J]=l[J]}}}};for(var V in r)k(s[V]&&s[V].prototype,V);k(n,"DOMTokenList")},df75:function(t,a,i){var s=i("ca84"),r=i("7839");t.exports=Object.keys||function(l){return s(l,r)}},e01a:function(t,a,i){var s=i("23e7"),r=i("83ab"),n=i("da84"),l=i("e330"),c=i("1a2d"),m=i("1626"),p=i("3a9b"),y=i("577e"),b=i("9bf2").f,k=i("e893"),V=n.Symbol,F=V&&V.prototype;if(r&&m(V)&&(!("description"in F)||V().description!==void 0)){var x={},J=function(){var N=arguments.length<1||arguments[0]===void 0?void 0:y(arguments[0]),T=p(F,this)?new V(N):N===void 0?V():V(N);return N===""&&(x[T]=!0),T};k(J,V),J.prototype=F,F.constructor=J;var H=String(V("test"))=="Symbol(test)",he=l(F.toString),se=l(F.valueOf),ue=/^Symbol\((.*)\)[^)]+$/,G=l("".replace),le=l("".slice);b(F,"description",{configurable:!0,get:function(){var N=se(this),T=he(N);if(c(x,N))return"";var D=H?le(T,7,-1):G(T,ue,"$1");return D===""?void 0:D}}),s({global:!0,forced:!0},{Symbol:J})}},e163:function(t,a,i){var s=i("da84"),r=i("1a2d"),n=i("1626"),l=i("7b0b"),c=i("f772"),m=i("e177"),p=c("IE_PROTO"),y=s.Object,b=y.prototype;t.exports=m?y.getPrototypeOf:function(k){var V=l(k);if(r(V,p))return V[p];var F=V.constructor;return n(F)&&V instanceof F?F.prototype:V instanceof y?b:null}},e177:function(t,a,i){var s=i("d039");t.exports=!s(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},e260:function(t,a,i){var s=i("fc6a"),r=i("44d2"),n=i("3f8c"),l=i("69f3"),c=i("7dd0"),m="Array Iterator",p=l.set,y=l.getterFor(m);t.exports=c(Array,"Array",function(b,k){p(this,{type:m,target:s(b),index:0,kind:k})},function(){var b=y(this),k=b.target,V=b.kind,F=b.index++;return!k||F>=k.length?(b.target=void 0,{value:void 0,done:!0}):V=="keys"?{value:F,done:!1}:V=="values"?{value:k[F],done:!1}:{value:[F,k[F]],done:!1}},"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")},e330:function(t,a){var i=Function.prototype,s=i.bind,r=i.call,n=s&&s.bind(r);t.exports=s?function(l){return l&&n(r,l)}:function(l){return l&&function(){return r.apply(l,arguments)}}},e538:function(t,a,i){var s=i("b622");a.f=s},e893:function(t,a,i){var s=i("1a2d"),r=i("56ef"),n=i("06cf"),l=i("9bf2");t.exports=function(c,m){for(var p=r(m),y=l.f,b=n.f,k=0;k<p.length;k++){var V=p[k];s(c,V)||y(c,V,b(m,V))}}},e8b5:function(t,a,i){var s=i("c6b6");t.exports=Array.isArray||function(n){return s(n)=="Array"}},e95a:function(t,a,i){var s=i("b622"),r=i("3f8c"),n=s("iterator"),l=Array.prototype;t.exports=function(c){return c!==void 0&&(r.Array===c||l[n]===c)}},f36a:function(t,a,i){var s=i("e330");t.exports=s([].slice)},f5df:function(t,a,i){var s=i("da84"),r=i("00ee"),n=i("1626"),l=i("c6b6"),c=i("b622"),m=c("toStringTag"),p=s.Object,y=l(function(){return arguments}())=="Arguments",b=function(k,V){try{return k[V]}catch{}};t.exports=r?l:function(k){var V,F,x;return k===void 0?"Undefined":k===null?"Null":typeof(F=b(V=p(k),m))=="string"?F:y?l(V):(x=l(V))=="Object"&&n(V.callee)?"Arguments":x}},f772:function(t,a,i){var s=i("5692"),r=i("90e3"),n=s("keys");t.exports=function(l){return n[l]||(n[l]=r(l))}},fb15:function(t,a,i){if(i.r(a),typeof window<"u"){var s=window.document.currentScript;{var r=i("8875");s=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r})}var n=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(i.p=n[1])}var l=function(){var N=this,T=N.$createElement,D=N._self._c||T;return D("div",{class:["circles__container"].concat(N.containerClasses)},N._l(N.circles,function(O,z){return D("div",{key:z,class:["circle__item"].concat(O.hasOwnProperty("classList")?O.classList:N.circleClasses)},[D("count-down-circle",N._b({},"count-down-circle",{value:N.values[O.id].value,size:"size"in O?O.size:N.size,strokeWidth:"strokeWidth"in O?O.strokeWidth:N.strokeWidth,strokeColor:"strokeColor"in O?O.strokeColor:N.strokeColor,underneathStrokeColor:"underneathStrokeColor"in O?O.underneathStrokeColor:N.underneathStrokeColor,fillColor:"fillColor"in O?O.fillColor:N.fillColor,valueFontSize:"valueFontSize"in O?O.valueFontSize:N.valueFontSize,labelFontSize:"labelFontSize"in O?O.labelFontSize:N.labelFontSize,labelPosition:"labelPosition"in O?O.labelPosition:N.labelPosition,showValue:"showValue"in O?O.showValue:N.showValue,steps:O.steps,label:O.label},!1))],1)}),0)},c=[];i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("e260"),i("3ca3"),i("ddb0"),i("fb6a"),i("b0c0"),i("a630"),i("ac1f"),i("00b4");function m(N,T){(T==null||T>N.length)&&(T=N.length);for(var D=0,O=new Array(T);D<T;D++)O[D]=N[D];return O}function p(N,T){if(N){if(typeof N=="string")return m(N,T);var D=Object.prototype.toString.call(N).slice(8,-1);if(D==="Object"&&N.constructor&&(D=N.constructor.name),D==="Map"||D==="Set")return Array.from(N);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return m(N,T)}}function y(N,T){var D=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!D){if(Array.isArray(N)||(D=p(N))||T&&N&&typeof N.length=="number"){D&&(N=D);var O=0,z=function(){};return{s:z,n:function(){return O>=N.length?{done:!0}:{done:!1,value:N[O++]}},e:function(Xt){throw Xt},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de=!0,Ht=!1,oo;return{s:function(){D=D.call(N)},n:function(){var Xt=D.next();return de=Xt.done,Xt},e:function(Xt){Ht=!0,oo=Xt},f:function(){try{!de&&D.return!=null&&D.return()}finally{if(Ht)throw oo}}}}i("a9e3"),i("b64b");var b=function(){var N=this,T=N.$createElement,D=N._self._c||T;return D("div",{ref:"container",staticClass:"circle__container",style:{width:N.circleSize+"px",flexDirection:N.labelPosition==="bottom"?"column":"column-reverse"}},[D("div",{staticClass:"circle__circle",style:{width:N.circleSize+"px",height:N.circleSize+"px",fontSize:N.valueFontSize+"px"}},[N.showValue?D("div",{staticClass:"circle__value"},[N._v(" "+N._s(N.value)+" ")]):N._e(),D("svg",{attrs:{width:N.circleSize,height:N.circleSize,xmlns:"http://www.w3.org/2000/svg"}},[D("circle",{attrs:{r:N.r,cy:N.cx,cx:N.cy,"stroke-width":N.strokeWidth,stroke:N.underneathStrokeColor,fill:N.fillColor}}),D("circle",{staticClass:"circle_animation",style:{strokeDasharray:N.strokeDasharray,strokeDashoffset:N.strokeDashoffset},attrs:{transform:"rotate(-90, "+N.cx+", "+N.cy+")",r:N.r,cy:N.cx,cx:N.cy,"stroke-width":N.strokeWidth,stroke:N.strokeColor,fill:"transparent"}})])]),N.label?D("div",{ref:"label",staticClass:"circle__label",style:{fontSize:N.labelFontSize+"px"}},[N._v(" "+N._s(N.label)+" ")]):N._e()])},k=[],V={name:"CountDownCircle",props:{size:{type:Number,default:0},strokeWidth:{type:Number,default:10},strokeColor:{type:String,default:"#9d989b"},underneathStrokeColor:{type:String,default:"#eee"},fillColor:{type:String,default:"#ffffff"},valueFontSize:{type:Number,default:20},labelFontSize:{type:Number,default:15},steps:{type:Number,default:60},value:{type:Number,default:10},label:{type:String,default:""},labelPosition:{validator:function(T){return["top","bottom"].indexOf(T)!==-1},default:"bottom"},showValue:{type:Boolean,default:!0}},data:function(){return{isMounted:!1}},computed:{circleSize:function(){return this.size===0&&this.isMounted?this.label?this.$refs.container.parentElement.clientHeight-this.$refs.label.clientHeight:this.$refs.container.parentElement.clientHeight:this.size},cx:function(){return this.circleSize/2},cy:function(){return this.circleSize/2},r:function(){return(this.circleSize-this.strokeWidth)/2},circleLength:function(){return 2*Math.PI*this.r},stepLength:function(){return this.circleLength/this.steps},strokeDasharray:function(){return this.circleLength},strokeDashoffset:function(){return this.circleLength-this.value*this.stepLength}},mounted:function(){var T=this;this.$nextTick(function(){T.isMounted=!0})}},F=V;i("3ee2");function x(N,T,D,O,z,de,Ht,oo){var zt=typeof N=="function"?N.options:N;T&&(zt.render=T,zt.staticRenderFns=D,zt._compiled=!0),O&&(zt.functional=!0),de&&(zt._scopeId="data-v-"+de);var Xt;if(Ht?(Xt=function(lo){lo=lo||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!lo&&typeof __VUE_SSR_CONTEXT__<"u"&&(lo=__VUE_SSR_CONTEXT__),z&&z.call(this,lo),lo&&lo._registeredComponents&&lo._registeredComponents.add(Ht)},zt._ssrRegister=Xt):z&&(Xt=oo?function(){z.call(this,(zt.functional?this.parent:this).$root.$options.shadowRoot)}:z),Xt)if(zt.functional){zt._injectStyles=Xt;var no=zt.render;zt.render=function(go,yo){return Xt.call(yo),no(go,yo)}}else{var _o=zt.beforeCreate;zt.beforeCreate=_o?[].concat(_o,Xt):[Xt]}return{exports:N,options:zt}}var J=x(F,b,k,!1,null,"b2a3b458",null),H=J.exports,he={name:"CircularCountDownTimer",components:{CountDownCircle:H},props:{containerClasses:{type:Array,default:function(){return[]}},circleClasses:{type:Array,default:function(){return[]}},interval:{type:Number,default:1e3},mainCircleId:{type:[String,Number],required:!0},stopConditions:{type:Object,default:function(){return{}}},triggerUpdate:{type:Boolean,default:!0},showValue:{type:Boolean,default:!0},size:{type:Number,default:0},strokeWidth:{type:Number,default:10},strokeColor:{type:String,default:"#9d989b"},underneathStrokeColor:{type:String,default:"#eee"},fillColor:{type:String,default:"#ffffff"},valueFontSize:{type:Number,default:20},labelFontSize:{type:Number,default:15},labelPosition:{validator:function(T){return["top","bottom"].indexOf(T)!==-1},default:"bottom"},circles:{type:Array,default:function(){return[]}}},data:function(){return{values:se(this.circles),timeOutId:void 0,expected:void 0}},watch:{circles:function(){this.values=se(this.circles),this.startTimer()}},methods:{nextStep:function(){if(this.updateCircleValue(this.mainCircleId),this.notifyUpdateValues(),this.shouldStop())this.$emit("finished");else{var T=Date.now()-this.expected;this.expected+=this.interval,this.timeOutId=setTimeout(this.nextStep,Math.max(0,this.interval-T))}},updateCircleValue:function(T){var D=this.values[T];if(D.stepLength>0&&D.value+D.stepLength>=D.steps){D.value=(D.value+D.stepLength)%D.steps+D.startValue;var O=y(D.dependentCircles),z;try{for(O.s();!(z=O.n()).done;){var de=z.value;this.updateCircleValue(de)}}catch(Xt){O.e(Xt)}finally{O.f()}}else if(D.stepLength<0&&D.value+D.stepLength<D.startValue){D.value=(D.value+D.stepLength)%D.steps+D.steps;var Ht=y(D.dependentCircles),oo;try{for(Ht.s();!(oo=Ht.n()).done;){var zt=oo.value;this.updateCircleValue(zt)}}catch(Xt){Ht.e(Xt)}finally{Ht.f()}}else D.value+=D.stepLength},shouldStop:function(){if(Object.keys(this.stopConditions).length>0){var T=!0;for(var D in this.stopConditions)if(this.values[D].value!==this.stopConditions[D]){T=!1;break}return T}else return!1},notifyUpdateValues:function(){if(this.triggerUpdate){var T={};for(var D in this.values)T[D]=this.values[D].value;this.$emit("update",T)}},getCircleProps:function(T){return{value:T.value,size:T.size,strokeWidth:T.strokeWidth,strokeColor:T.strokeColor,underneathStrokeColor:T.underneathStrokeColor,fillColor:T.fillColor,valueFontSize:T.valueFontSize,labelFontSize:T.labelFontSize,steps:T.steps,label:T.label,labelPosition:T.labelPosition}},startTimer:function(){clearTimeout(this.timeOutId),this.expected=Date.now()+this.interval,this.timeOutId=setTimeout(this.nextStep,this.interval)}},mounted:function(){this.$nextTick(this.startTimer)}},se=function(T){var D={},O=y(T),z;try{for(O.s();!(z=O.n()).done;){var de=z.value;D[de.id]={value:de.value||0,stepLength:de.stepLength||1,steps:de.steps,startValue:de.startValue||0,dependentCircles:de.dependentCircles||[]}}}catch(Ht){O.e(Ht)}finally{O.f()}return D},ue=he;i("0d40");var G=x(ue,l,c,!1,null,"2442d1f7",null),le=G.exports,X={install:function(T){T.component("circular-count-down-timer",le)}};a.default=X},fb6a:function(t,a,i){var s=i("23e7"),r=i("da84"),n=i("e8b5"),l=i("68ee"),c=i("861d"),m=i("23cb"),p=i("07fa"),y=i("fc6a"),b=i("8418"),k=i("b622"),V=i("1dde"),F=i("f36a"),x=V("slice"),J=k("species"),H=r.Array,he=Math.max;s({target:"Array",proto:!0,forced:!x},{slice:function(ue,G){var le=y(this),X=p(le),N=m(ue,X),T=m(G===void 0?X:G,X),D,O,z;if(n(le)&&(D=le.constructor,l(D)&&(D===H||n(D.prototype))?D=void 0:c(D)&&(D=D[J],D===null&&(D=void 0)),D===H||D===void 0))return F(le,N,T);for(O=new(D===void 0?H:D)(he(T-N,0)),z=0;N<T;N++,z++)N in le&&b(O,z,le[N]);return O.length=z,O}})},fba8:function(t,a,i){var s=i("cfeb");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var r=i("499e").default;r("40eeb3e0",s,!0,{sourceMap:!1,shadowMode:!1})},fc6a:function(t,a,i){var s=i("44ad"),r=i("1d80");t.exports=function(n){return s(r(n))}},fce3:function(t,a,i){var s=i("d039"),r=i("da84"),n=r.RegExp;t.exports=s(function(){var l=n(".","s");return!(l.dotAll&&l.exec(`
`)&&l.flags==="s")})},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,a,i){var s=i("4930");t.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(vueCountDownTimer_common);const BASE_BASKET_LINK="/bot-client/basket";let state$s={basket_items:[],basket_items_paginate_object:null};const getters$s={getProductsInBasket:o=>o.basket_items||[],getBasketPaginateObject:o=>o.basket_items_paginate_object||null,inCollectionCart:o=>(t,a)=>{var i;return((i=o.basket_items.find(s=>{var r,n;return((r=s.collection)==null?void 0:r.id)===t&&(((n=s.params)==null?void 0:n.variant_id)===a||a==null)}))==null?void 0:i.count)||0},inCart:o=>t=>{var a;return((a=o.basket_items.find(i=>i.product?i.product.id===t:!1))==null?void 0:a.count)||0},cartProducts:(o,t,a)=>o.basket_items||[],cartCollections:(o,t,a)=>(o.basket_items||[]).filter(i=>i.collection),cartTotalCount:(o,t)=>{if(o.basket_items==null||o.basket_items.length===0)return 0;let a=0;return o.basket_items.forEach(i=>{var s;a+=(s=i.product)!=null&&s.is_weight_product?1:i.count}),a},cartTotalPrice:(o,t)=>{if(o.basket_items==null||o.basket_items.length===0)return 0;let a=0;return o.basket_items.forEach(i=>{var s,r,n,l,c;if(i.product){let m=(s=i.params)!=null&&s.discount_price?((r=i.params)==null?void 0:r.discount_price)||0:i.product.current_price||0,p=(n=i.product)!=null&&n.is_weight_product?1:i.count,y=(l=i.product)!=null&&l.is_weight_product?m*i.count/(((c=i.product.weight_config)==null?void 0:c.step)||100):m;a+=y*p}if(i.collection){let m=0,p=i.params.ids||[];i.collection.products.forEach(y=>{m+=p.indexOf(y.id)!==-1?y.current_price:0}),a+=(m-m*(i.collection.discount/100))*i.count}}),a}},actions$s={async useWheelOfFortunePrize(o,t={form:null}){let a=`${BASE_BASKET_LINK}/use-wheel-of-fortune-prize`,i="POST";return util.makeAxiosFactory(a,i,t.form).then(r=>Promise.resolve(r.data)).catch(r=>{var n,l;return o.commit("setErrors",((l=(n=r.response)==null?void 0:n.data)==null?void 0:l.errors)||[]),Promise.reject(r)})},async createCheckoutLink(o,t={deliveryForm:null}){let a=`${BASE_BASKET_LINK}/checkout-link`,i="POST";return util.makeAxiosFactory(a,i,t.deliveryForm).then(r=>Promise.resolve(r.data)).catch(r=>{var n,l;return o.commit("setErrors",((l=(n=r.response)==null?void 0:n.data)==null?void 0:l.errors)||[]),Promise.reject(r)})},async startCheckout(o,t={deliveryForm:null}){let a=`${BASE_BASKET_LINK}/checkout`,i="POST";return util.makeAxiosFactory(a,i,t.deliveryForm).then(r=>(o.commit("setBasket",[]),o.commit("setBasketPaginateObject",null),Promise.resolve(r.data))).catch(r=>{var n,l;return o.commit("setErrors",((l=(n=r.response)==null?void 0:n.data)==null?void 0:l.errors)||[]),Promise.reject(r)})},async loadProductsInBasket(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let a=t.page||0,s=`${BASE_BASKET_LINK}?page=${a}&size=20`,r=localStorage.getItem("cashman_current_active_table")||null;return r&&(r=JSON.parse(r)),util.makeAxiosFactory(s,"POST",{table_id:(r==null?void 0:r.id)||null}).then(l=>{let c=l.data;return o.commit("setBasket",c.data),delete c.data,o.commit("setBasketPaginateObject",c),Promise.resolve()}).catch(l=>{var c,m;return o.commit("setErrors",((m=(c=l.response)==null?void 0:c.data)==null?void 0:m.errors)||[]),Promise.reject(l)})},async addCommentToProduct(o,t){let a=`${BASE_BASKET_LINK}/comment-product`;return util.makeAxiosFactory(a,"POST",{product_id:t.id,comment:t.comment||null}).then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},async addProductToCart(o,t){let a=`${BASE_BASKET_LINK}/inc-product`,i=localStorage.getItem("cashman_current_active_table")||null;return i&&(i=JSON.parse(i)),util.makeAxiosFactory(a,"POST",{product_id:t.id,table_id:(i==null?void 0:i.id)||null}).then(r=>{let n=r.data;return o.commit("setBasket",n.data),delete n.data,o.commit("setBasketPaginateObject",n),Promise.resolve()}).catch(r=>{var n,l;return o.commit("setErrors",((l=(n=r.response)==null?void 0:n.data)==null?void 0:l.errors)||[]),Promise.reject(r)})},async incCollectionQuantity(o,t){let a=`${BASE_BASKET_LINK}/inc-collection`;return util.makeAxiosFactory(a,"POST",t).then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},async decCollectionQuantity(o,t){let a=`${BASE_BASKET_LINK}/dec-collection`;return util.makeAxiosFactory(a,"POST",t).then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},async incQuantity(o,t){let a=`${BASE_BASKET_LINK}/increment/${t}`;return util.makeAxiosFactory(a,"POST").then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},async decQuantity(o,t){let a=`${BASE_BASKET_LINK}/decrement/${t}`;return util.makeAxiosFactory(a,"POST").then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},removeProduct(o,t){let a=`${BASE_BASKET_LINK}/remove/${t}`;return util.makeAxiosFactory(a,"DELETE").then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},removeCollectionFromCart(o,t){let a=`${BASE_BASKET_LINK}/dec-collection`;return util.makeAxiosFactory(a,"POST",t).then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},addCollectionToCart(o,t){let a=`${BASE_BASKET_LINK}/inc-collection`;return util.makeAxiosFactory(a,"POST",{product_collection:t}).then(s=>{let r=s.data;return o.commit("setBasket",r.data),delete r.data,o.commit("setBasketPaginateObject",r),Promise.resolve()}).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},clearCart(o){let t=`${BASE_BASKET_LINK}/clear`;return o.commit("setBasket",[]),o.commit("setBasketPaginateObject",null),util.makeAxiosFactory(t,"DELETE").then(i=>Promise.resolve()).catch(i=>{var s,r;return o.commit("setErrors",((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.errors)||[]),Promise.reject(i)})}},mutations$s={decrementItemQuantity(o,t){const a=o.basket_items.find(i=>{var s,r;return((s=i.product)==null?void 0:s.id)===t||((r=i.collection)==null?void 0:r.id)===t});a.count>1&&a.count--,localStorage.setItem("cashman_basket_items",JSON.stringify(o.basket_items))},incrementItemQuantity(o,t){const a=o.basket_items.find(i=>{var s,r;return((s=i.product)==null?void 0:s.id)===t||((r=i.collection)==null?void 0:r.id)===t});a.count++,localStorage.setItem("cashman_basket_items",JSON.stringify(o.basket_items))},setBasket(o,t){o.basket_items=t||[],localStorage.setItem("cashman_basket_items",JSON.stringify(t))},setBasketPaginateObject(o,t){o.basket_items_paginate_object=t||[],localStorage.setItem("cashman_basket_items_paginate_object",JSON.stringify(t))}},basketItemsModule={state:state$s,mutations:mutations$s,actions:actions$s,getters:getters$s},BASE_SELF_LINK="/bot-client";let state$r={self:null};const getters$r={getSelf:o=>o.self||null,getFavoriteProducts:o=>{var t,a;return((t=o.self)==null?void 0:t.config)==null?[]:((a=o.self.config)==null?void 0:a.favorites)||[]}},actions$r={async switchToPage(o,t={page:null}){let a=`${BASE_SELF_LINK}/switch-to-page`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async switchToMainMenu(o){let t=`${BASE_SELF_LINK}/switch-to-main-menu`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadSelf(o){let t=`${BASE_SELF_LINK}/self`,a="POST";return util.makeAxiosFactory(t,a).then(s=>{let r=s.data;return o.commit("setSelf",r.data),Promise.resolve(r)}).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadManagerData(o){let t=`${BASE_SELF_LINK}/manager/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadFriendsWeb(o){let t=`${BASE_SELF_LINK}/manager/friends-web`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async saveManager(o,t){let a=`${BASE_SELF_LINK}/manager/register`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadBotManagerConfig(o,t={botId:null}){let a=`${BASE_SELF_LINK}/manage-bot`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>{let n=r.data;return Promise.resolve(n)}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadBotAdminConfig(o){let t=`${BASE_SELF_LINK}/bot`,a="POST";return util.makeAxiosFactory(t,a).then(s=>{let r=s.data;return Promise.resolve(r)}).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$r={setSelf(o,t){o.self=t||[],localStorage.setItem("cashman_self",JSON.stringify(t))}},selfModule={state:state$r,mutations:mutations$r,actions:actions$r,getters:getters$r},state$q={favorites:localStorage.getItem("cashman_favorites")==null?[]:JSON.parse(localStorage.getItem("cashman_favorites"))},getters$q={inFav:o=>t=>o.favorites.find(i=>i.id===t)!=null,getFavorites:(o,t,a)=>o.favorites,favoritesCount:(o,t)=>o.favorites.length||0},actions$q={async loadActualPriceInFav({state:o,commit:t}){let a=[];return o.favorites.forEach(s=>{a.push(s.id)}),util.loadActualProducts(a).then(s=>{let r=s,n=[];o.favorites.forEach(c=>{n.push(r.find(m=>m.id===c.id))}),t("setFavoritesItems",n)}).catch(s=>(t("setErrors",s.response.data.errors||[]),Promise.reject(s)))},addToFavorites({state:o,commit:t},a){t("pushProductToFav",a)},removeFromFavorites({state:o,commit:t},a){t("removeProductFromFav",a)},clearFavorites({state:o,commit:t}){t("clearAllFavorites")}},mutations$q={pushProductToFav(o,t){o.favorites.find(i=>i.id===t.id)||o.favorites.push(t),localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))},removeProductFromFav(o,t){let a=o.favorites.filter(i=>i.id!==t);o.favorites=a,localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))},clearAllFavorites(o){o.favorites=[],localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))},setFavoritesItems(o,t){o.favorites=t,localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))}},cardModule$1={state:state$q,mutations:mutations$q,actions:actions$q,getters:getters$q};let state$p={};const getters$p={},actions$p={},mutations$p={},productsModule={state:state$p,mutations:mutations$p,actions:actions$p,getters:getters$p},BASE_USERS_LINK="/bot-client/users";let state$o={users:[],users_paginate_object:null};const getters$o={getUsers:o=>o.users||[],getUsersPaginateObject:o=>o.users_paginate_object||null},actions$o={async loadUsers(o,t={dataObject:{search:null},page:0,size:12}){let a=t.page||0,s=`${BASE_USERS_LINK}/search?page=${a}&size=12`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(n=>{let l=n.data;return o.commit("setUsers",l.data),delete l.data,o.commit("setUsersPaginateObject",l),Promise.resolve()}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async removeUsers(o,t={dataObject:null}){let a=`${BASE_USERS_LINK}/remove`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async addUsers(o,t={dataObject:null}){let a=`${BASE_USERS_LINK}/add`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$o={setUsers(o,t){o.users=t||[],localStorage.setItem("cashman_users",JSON.stringify(t))},setUsersPaginateObject(o,t){o.users_paginate_object=t||[],localStorage.setItem("cashman_users_paginate_object",JSON.stringify(t))}},usersModule={state:state$o,mutations:mutations$o,actions:actions$o,getters:getters$o},BASE_ACTIONS_LINK="/bot-client/actions";let state$n={actions:[],actions_paginate_object:null};const getters$n={getActions:o=>o.actions||[],getActionsPaginateObject:o=>o.actions_paginate_object||null},actions$n={async loadActions(o,t={dataObject:{search:null},page:0,size:12}){let a=t.page||0,s=`${BASE_ACTIONS_LINK}/history?page=${a}&size=12`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(n=>{let l=n.data;return o.commit("setActions",l.data),delete l.data,o.commit("setActionsPaginateObject",l),Promise.resolve()}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async removeActions(o,t={dataObject:null}){let a=`${BASE_ACTIONS_LINK}/remove`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$n={setActions(o,t){o.actions=t||[],localStorage.setItem("cashman_actions",JSON.stringify(t))},setActionsPaginateObject(o,t){o.actions_paginate_object=t||[],localStorage.setItem("cashman_actions_paginate_object",JSON.stringify(t))}},actionsModule={state:state$n,mutations:mutations$n,actions:actions$n,getters:getters$n};let state$m={...productsModule.state,...usersModule.state,...actionsModule.state};const getters$m={...productsModule.getters,...usersModule.getters,...actionsModule.getters},actions$m={...productsModule.actions,...usersModule.actions,...actionsModule.actions,async updateProductsFromVk(o){let t="/bot-client/vk-auth-link";return util$1.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))}},mutations$m={...productsModule.mutations,...usersModule.mutations,...actionsModule.mutations},shopAdminModule={state:state$m,mutations:mutations$m,actions:actions$m,getters:getters$m},BASE_COMPANIES_LINK="/bot-client/companies";let state$l={company:null,companies:[],locations:[],companies_paginate_object:null};const getters$l={getLocations:o=>o.locations||[],getCompany:o=>o.company||null,getCompanies:o=>o.companies||[],getCompanyById:o=>t=>o.companies.find(a=>a.id===t),getCompaniesPaginateObject:o=>o.companies_paginate_object||null},actions$l={async removeManagerCompany(o,t={companyId:null}){let a=`${BASE_COMPANIES_LINK}/${t.companyId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadManagersCompanies(o,t={page:0,size:50}){let a=t.page||0,i=t.size||50,s={...t},r=`${BASE_COMPANIES_LINK}/manager-companies-list?page=${a}&size=${i}`,n="POST";return util.makeAxiosFactory(r,n,s).then(c=>{let m=c.data;return o.commit("setCompanies",m.data),delete m.data,o.commit("setCompaniesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadCompanies(o,t={page:0,size:50}){let a=t.page||0,i=t.size||50,s={...t},r=`${BASE_COMPANIES_LINK}?page=${a}&size=${i}`,n="POST";return util.makeAxiosFactory(r,n,s).then(c=>{let m=c.data;return o.commit("setCompanies",m.data),delete m.data,o.commit("setCompaniesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async updateCompanyLawParams(o,t={companyForm:null}){let a=`${BASE_COMPANIES_LINK}/company-law-update`;return util.makeAxiosFactory(a,"POST",t.companyForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateCompany(o,t={companyForm:null}){let a=`${BASE_COMPANIES_LINK}/company-update`;return util.makeAxiosFactory(a,"POST",t.companyForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadCompany(o){let t=`${BASE_COMPANIES_LINK}/company`,a="POST";return util.makeAxiosFactory(t,a).then(s=>{let r=s.data;return o.commit("setCompany",r.data),Promise.resolve()}).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadLocationsByCompany(o){let t=`${BASE_COMPANIES_LINK}/location-list`;return util.makeAxiosFactory(t,"POST").then(i=>{let s=i.data;return o.commit("setLocations",s.data),delete s.data,Promise.resolve()}).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async createLocation(o,t={locationForm:null}){let a=`${BASE_COMPANIES_LINK}/location`;return util.makeAxiosFactory(a,"POST",t.locationForm).then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$l={setCompany(o,t){o.company=t||[],localStorage.setItem("cashman_current_company",JSON.stringify(t))},setCompanies(o,t){o.companies=t||[],localStorage.setItem("cashman_companies",JSON.stringify(t))},setLocations(o,t){o.locations=t||[],localStorage.setItem("cashman_locations",JSON.stringify(t))},setCompaniesPaginateObject(o,t){o.companies_paginate_object=t||[],localStorage.setItem("cashman_companies_paginate_object",JSON.stringify(t))}},companiesModule={state:state$l,mutations:mutations$l,actions:actions$l,getters:getters$l},state$k={watches:localStorage.getItem("cashman_watches")==null?[]:JSON.parse(localStorage.getItem("cashman_watches"))},getters$k={inWatch:o=>t=>o.watches.find(i=>i.id===t)!=null,getWatches:(o,t,a)=>o.watches,watchesCount:(o,t)=>o.watches.length||0},actions$k={addToWatch({state:o,commit:t},a){t("pushProductToWatch",a)}},mutations$k={pushProductToWatch(o,t){o.watches.find(i=>i.id===t.id)||o.watches.push(t),localStorage.setItem("cashman_watches",JSON.stringify(o.watches))}},cardModule={state:state$k,mutations:mutations$k,actions:actions$k,getters:getters$k},BASE_PAGES_LINK="/bot-client/pages";let state$j={pages:[],page_folders:[],pages_paginate_object:null,page_folders_paginate_object:null};const getters$j={getPages:o=>o.pages||[],getPageFolders:o=>o.page_folders||[],getPagesPaginateObject:o=>o.pages_paginate_object||null,getPageFoldersPaginateObject:o=>o.page_folders_paginate_object||null},actions$j={async loadPageById(o,t={dataObject:{page_id:null}}){let a=`${BASE_PAGES_LINK}/page-by-id/${t.dataObject.page_id}`,i="POST";return util.makeAxiosFactory(a,i).then(r=>{let n=r.data;return Promise.resolve(n)}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadPages(o,t={dataObject:{search:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,s=t.size||12,r=`${BASE_PAGES_LINK}?page=${i}&size=${s}`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setPages",m.data),delete m.data,o.commit("setPagesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadPageFolders(o,t={dataObject:{search:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,s=t.size||12,r=`${BASE_PAGES_LINK}/folders?page=${i}&size=${s}`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setPageFolders",m.data),delete m.data,o.commit("setPageFoldersPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async activatePassword(o,t={passwordForm:null}){let a=`${BASE_PAGES_LINK}/activate-page-password`;return util.makeAxiosFactory(a,"POST",t.passwordForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updatePage(o,t={pageForm:null}){let a=`${BASE_PAGES_LINK}/page-update`;return util.makeAxiosFactory(a,"POST",t.pageForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async duplicatePage(o,t={dataObject:{pageId:null}}){let a=`${BASE_PAGES_LINK}/duplicate/${t.dataObject.pageId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removePage(o,t={dataObject:{pageId:null}}){let a=`${BASE_PAGES_LINK}/remove/${t.dataObject.pageId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async createPage(o,t={pageForm:null}){let a=`${BASE_PAGES_LINK}/page`;return util.makeAxiosFactory(a,"POST",t.pageForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$j={setPages(o,t){o.pages=t||[],localStorage.setItem("cashman_pages",JSON.stringify(t))},setPagesPaginateObject(o,t){o.pages_paginate_object=t||[],localStorage.setItem("cashman_pages_paginate_object",JSON.stringify(t))},setPageFolders(o,t){o.pages=t||[],localStorage.setItem("cashman_page_folders",JSON.stringify(t))},setPageFoldersPaginateObject(o,t){o.pages_paginate_object=t||[],localStorage.setItem("cashman_page_folders_paginate_object",JSON.stringify(t))}},pagesModule={state:state$j,mutations:mutations$j,actions:actions$j,getters:getters$j},BASE_BOTS_LINK="/bot-client/bots";let state$i={bots:[],bots_paginate_object:null};const getters$i={getBots:o=>o.bots||[],getBotsPaginateObject:o=>o.bots_paginate_object||null},actions$i={async saveFrontPad(o,t={frontPadForm:null}){let a=`${BASE_BOTS_LINK}/save-frontpad`;return util.makeAxiosFactory(a,"POST",t.frontPadForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateProductsFromFrontPadExcel(o,t={form:{}}){let a=`${BASE_BOTS_LINK}/frontpad-excel-update`;return util.makeAxiosFactory(a,"POST",t.form).then(s=>Promise.resolve(s.data)).catch(s=>{var r,n;return o.commit("setErrors",((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.errors)||[]),Promise.reject(s)})},async updateProductsFromFrontPad(o){let t=`${BASE_BOTS_LINK}/frontpad-update`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadCurrentBotFields(o){let t=`${BASE_BOTS_LINK}/load-fields`,a="GET";return util.makeAxiosFactory(t,a).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeMessageSettings(o,t={dataObject:null}){let a=`${BASE_BOTS_LINK}/store-message-settings`,i="POST",s=t.dataObject;return util.makeAxiosFactory(a,i,s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async storeBotFields(o,t={dataObject:null}){let a=`${BASE_BOTS_LINK}/store-fields`,i="POST",s=t.dataObject;return util.makeAxiosFactory(a,i,s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async createBotLazy(o,t={botForm:null}){let a=`${BASE_BOTS_LINK}/bot-lazy`;return util.makeAxiosFactory(a,"POST",t.botForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},updateShopLink(o,t={botForm:null}){let a=`${BASE_BOTS_LINK}/update-shop-link`;return util.makeAxiosFactory(a,"POST",t.botForm).then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async switchBotStatusManager(o,t={botId:null}){let a=`${BASE_BOTS_LINK}/manager-switch-status`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async switchBotStatus(o){let t=`${BASE_BOTS_LINK}/switch-status`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async removeKeyboardTemplate(o,t={templateId:null}){let a=`${BASE_BOTS_LINK}/remove-keyboard-template/${t.templateId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async createKeyboardTemplate(o,t={keyboardForm:null}){let a=`${BASE_BOTS_LINK}/keyboard-template`;return util.makeAxiosFactory(a,"POST",t.keyboardForm).then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async editKeyboardTemplate(o,t={keyboardForm:null}){let a=`${BASE_BOTS_LINK}/edit-keyboard-template`;return util.makeAxiosFactory(a,"POST",t.keyboardForm).then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadBotKeyboards(o){let t=`${BASE_BOTS_LINK}/keyboards`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadSimpleBots(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_BOTS_LINK}/simple-bot-list?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setBots",m.data),delete m.data,o.commit("setBotsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async updateBotByManager(o,t={botForm:null}){let a=`${BASE_BOTS_LINK}/manager-bot-update`;return util.makeAxiosFactory(a,"POST",t.botForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateBotTheme(o,t={theme:null}){let a=`${BASE_BOTS_LINK}/bot-theme`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateBotMenuItems(o,t={iconForm:null}){let a=`${BASE_BOTS_LINK}/bot-icons-update`;return util.makeAxiosFactory(a,"POST",t.iconForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateBotParams(o,t={botForm:null}){let a=`${BASE_BOTS_LINK}/bot-params-update`;return util.makeAxiosFactory(a,"POST",t.botForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateBot(o,t={botForm:null}){let a=`${BASE_BOTS_LINK}/bot-update`;return util.makeAxiosFactory(a,"POST",t.botForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async syncAmo(o,t={dataObject:null}){let a=`${BASE_BOTS_LINK}/sync-amo`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadAmoFields(o,t={dataObject:null}){let a=`${BASE_BOTS_LINK}/load-amo-fields`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async saveYClients(o,t={yClientsForm:null}){let a=`${BASE_BOTS_LINK}/save-y-clients`;return util.makeAxiosFactory(a,"POST",t.yClientsForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async saveAmoCRM(o,t={amoForm:null}){let a=`${BASE_BOTS_LINK}/save-amo`;return util.makeAxiosFactory(a,"POST",t.amoForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async duplicateBot(o,t={dataObject:{bot_id:null,company_id:null}}){let a=`${BASE_BOTS_LINK}/duplicate`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeBotByManager(o,t={botId:null}){let a=`${BASE_BOTS_LINK}/remove-my-manager/${t.botId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeBot(o,t={botId:null}){let a=`${BASE_BOTS_LINK}/${t.botId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async restoreBot(o,t={botId:null}){let a=`${BASE_BOTS_LINK}/restore/${t.botId}`;return util.makeAxiosFactory(a,"GET").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadImageMenus(o){let t=`${BASE_BOTS_LINK}/image-menu`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadBotSlugs(o,t={isGlobal:!1}){let a={is_global:t.isGlobal||!1},i=`${BASE_BOTS_LINK}/slugs`;return util.makeAxiosFactory(i,"POST",a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))}},mutations$i={setBots(o,t){o.bots=t||[],localStorage.setItem("cashman_bots",JSON.stringify(t))},setBotsPaginateObject(o,t){o.bots_paginate_object=t||[],localStorage.setItem("cashman_bots_paginate_object",JSON.stringify(t))}},botsModule={state:state$i,mutations:mutations$i,actions:actions$i,getters:getters$i},BASE_DIALOGS_LINK="/bot-client/dialogs";let state$h={dialogs:[],dialogs_paginate_object:null};const getters$h={getDialogs:o=>o.dialogs||[],getDialogCommands:o=>o.dialogs||[],getDialogsPaginateObject:o=>o.dialogs_paginate_object||null},actions$h={async loadDialogs(o,t={dataObject:{search:null,simple:!1},page:0,size:12}){let a={...t.dataObject},i=t.page||0,r=`${BASE_DIALOGS_LINK}?page=${i}&size=12`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setDialogs",m.data),delete m.data,o.commit("setDialogsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async updateDialogGroup(o,t={dialogGroupForm:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/update-group`;return util.makeAxiosFactory(a,"POST",t.dialogGroupForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateDialogCommand(o,t={dialogCommandForm:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/update-dialog`;return util.makeAxiosFactory(a,"POST",t.dialogCommandForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeDialogGroup(o,t={dataObject:{dialogGroupId:null}}){let a=`${BASE_DIALOG_GROUPS_LINK}/remove-group/${t.dataObject.dialogGroupId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeDialogCommand(o,t={dataObject:{dialogCommandId:null}}){let a=`${BASE_DIALOG_GROUPS_LINK}/remove-dialog/${t.dataObject.dialogCommandId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async createDialogGroup(o,t={dialogGroupForm:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/add-group`;return util.makeAxiosFactory(a,"POST",t.dialogGroupForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async swapDialogCommand(o,t={swapForm:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/swap-dialog`;return util.makeAxiosFactory(a,"POST",t.swapForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async unlinkDialogCommand(o,t={dataObject:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/unlink-dialog`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async swapDialogGroup(o,t={swapForm:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/swap-group`;return util.makeAxiosFactory(a,"POST",t.swapForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async stopDialogs(o){let t=`${BASE_DIALOG_GROUPS_LINK}/stop-dialogs`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async createDialogCommand(o,t={dialogCommandForm:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/add-dialog`;return util.makeAxiosFactory(a,"POST",t.dialogCommandForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async duplicateDialogCommand(o,t={dataObject:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/duplicate-dialog`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async attachDialogCommandToSlug(o,t={dataObject:null}){let a=`${BASE_DIALOG_GROUPS_LINK}/attach-dialog-to-slug`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$h={setDialogs(o,t){o.dialogs=t||[],localStorage.setItem("cashman_dialogs",JSON.stringify(t))},setDialogsPaginateObject(o,t){o.dialogs_paginate_object=t||[],localStorage.setItem("cashman_dialogs_paginate_object",JSON.stringify(t))}},dialogGroupsModule$1={state:state$h,mutations:mutations$h,actions:actions$h,getters:getters$h},BASE_SLUGS_LINK="/bot-client/slugs";let state$g={slugs:[],global_slugs:[],slugs_paginate_object:null,global_slugs_paginate_object:null};const getters$g={getSlugs:o=>o.slugs||[],getGlobalSlugs:o=>o.global_slugs||[],getSlugById:o=>t=>o.slugs.find(a=>a.id===t),getSlugsPaginateObject:o=>o.slugs_paginate_object||null,getGlobalSlugsPaginateObject:o=>o.global_slugs_paginate_object||null},actions$g={async updateScriptParams(o,t={slugForm:null}){let a=`${BASE_SLUGS_LINK}/slug-script-params`;return util.makeAxiosFactory(a,"POST",t.slugForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadGlobalSlugs(o,t={dataObject:{search:null,needGlobal:!0},page:0,size:12}){let a=t.page||0,s=`${BASE_SLUGS_LINK}/global-list?page=${a}&size=12`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setGlobalSlugs",m.data),delete m.data,o.commit("setGlobalSlugsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadSlugs(o,t={dataObject:{botId:null,search:null,needGlobal:!1},page:0,size:12}){let a=t.page||0,i=t.size||12,s=`${BASE_SLUGS_LINK}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setSlugs",m.data),delete m.data,o.commit("setSlugsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async updateSlug(o,t={slugForm:null}){let a=`${BASE_SLUGS_LINK}/slug-update`;return util.makeAxiosFactory(a,"POST",t.slugForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async duplicateSlug(o,t={dataObject:{slugId:null}}){let a=`${BASE_SLUGS_LINK}/duplicate/${t.dataObject.slugId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeSlug(o,t={dataObject:{slugId:null}}){let a=`${BASE_SLUGS_LINK}/${t.dataObject.slugId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async refreshSlugParams(o,t={dataObject:{slugId:null}}){let a=`${BASE_SLUGS_LINK}/reload-params/${t.dataObject.slugId}`;return util.makeAxiosFactory(a,"GET").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async createSlug(o,t={slugForm:null}){let a=`${BASE_SLUGS_LINK}/slug`;return util.makeAxiosFactory(a,"POST",t.slugForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$g={setSlugs(o,t){o.slugs=t||[],localStorage.setItem("cashman_slugs",JSON.stringify(t))},setSlugsPaginateObject(o,t){o.slugs_paginate_object=t||[],localStorage.setItem("cashman_slugs_paginate_object",JSON.stringify(t))},setGlobalSlugs(o,t){o.global_slugs=t||[],localStorage.setItem("cashman_global_slugs",JSON.stringify(t))},setGlobalSlugsPaginateObject(o,t){o.global_slugs_paginate_object=t||[],localStorage.setItem("cashman_global_slugs_paginate_object",JSON.stringify(t))}},slugsModule={state:state$g,mutations:mutations$g,actions:actions$g,getters:getters$g},BASE_BOT_USERS_LINK="/bot-client/bot-users";let state$f={bot_users:[],bot_users_paginate_object:null};const getters$f={getBotUsers:o=>o.bot_users||[],getBotUserById:o=>t=>o.bot_users.find(a=>a.id===t),getBotUsersPaginateObject:o=>o.bot_users_paginate_object||null},actions$f={async getUserProfilePhotos(o,t=null){let a=`${BASE_BOT_USERS_LINK}/get-user-profile-photos`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadBotUsers(o,t={dataObject:{search:null},page:0,size:12}){let a=t.page||0,s=`${BASE_BOT_USERS_LINK}?page=${a}&size=12`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setBotUsers",m.data),delete m.data,o.commit("setBotUsersPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async updateProfile(o,t={botUserForm:null}){let a=`${BASE_BOT_USERS_LINK}/update-profile`;return util.makeAxiosFactory(a,"POST",t.botUserForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async initCoffee(o){let t=`${BASE_BOT_USERS_LINK}/init-coffee`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async updateBotUser(o,t={botUserForm:null}){let a=`${BASE_BOT_USERS_LINK}/update-bot-user`;return util.makeAxiosFactory(a,"POST",t.botUserForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeBotUser(o,t={dataObject:{dialogGroupId:null}}){let a=`${BASE_BOT_USERS_LINK}/remove-group/${t.dataObject.dialogGroupId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async createBotUser(o,t={dialogGroupForm:null}){let a=`${BASE_BOT_USERS_LINK}/add-group`;return util.makeAxiosFactory(a,"POST",t.dialogGroupForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$f={setBotUsers(o,t){o.bot_users=t||[],localStorage.setItem("cashman_bot_users",JSON.stringify(t))},setBotUsersPaginateObject(o,t){o.bot_users_paginate_object=t||[],localStorage.setItem("cashman_bot_users_paginate_object",JSON.stringify(t))}},dialogGroupsModule={state:state$f,mutations:mutations$f,actions:actions$f,getters:getters$f},BASE_MEDIA_LINK="/bot-client/media";let state$e={media:[],media_paginate_object:null};const getters$e={getMedia:o=>o.media||[],getMediaPaginateObject:o=>o.media_paginate_object||null},actions$e={async showMediaPreview(o,t={dataObject:{mediaId:null}}){let a=`${BASE_MEDIA_LINK}/preview/${t.dataObject.mediaId}`;return util.makeAxiosFactory(a,"GET").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadMedia(o,t={dataObject:{search:null,needPhoto:!1,needVideo:!1,needVideoNote:!1},page:0,size:12}){let a=t.page||0,i=t.size||12,s=`${BASE_MEDIA_LINK}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setMedia",m.data),delete m.data,o.commit("setMediaPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async removeMedia(o,t={dataObject:{mediaId:null}}){let a=`${BASE_MEDIA_LINK}/remove/${t.dataObject.mediaId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$e={setMedia(o,t){o.media=t||[],localStorage.setItem("cashman_media",JSON.stringify(t))},setMediaPaginateObject(o,t){o.media_paginate_object=t||[],localStorage.setItem("cashman_media_paginate_object",JSON.stringify(t))}},mediaModule={state:state$e,mutations:mutations$e,actions:actions$e,getters:getters$e},BASE_QUIZ_LINK="/bot-client/quizzes";let state$d={quizzes:[],quiz_questions:[],quiz_commands:[],quiz_results:[],quizzes_paginate_object:null,quiz_questions_paginate_object:null,quiz_commands_paginate_object:null,quiz_results_paginate_object:null};const getters$d={getQuizzes:o=>o.quizzes||[],getQuizResults:o=>o.quiz_results||[],getQuizQuestions:o=>o.quiz_questions||[],getQuizCommands:o=>o.quiz_commands||[],getQuizById:o=>t=>o.quizzes.find(a=>a.id===t),getQuizzesPaginateObject:o=>o.quizzes_paginate_object||null,getQuizResultsPaginateObject:o=>o.quiz_results_paginate_object||null,getQuizQuestionsPaginateObject:o=>o.quiz_questions_paginate_object||null,getQuizCommandsPaginateObject:o=>o.quiz_commands_paginate_object||null},actions$d={async loadQuizCommands(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_QUIZ_LINK}/list-of-quiz-commands/${t.dataObject.quiz_id}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setQuizCommands",m.data),delete m.data,o.commit("setQuizCommandsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async checkAndCompleteFullQuiz(o,t={quizQuestionId:null,answers:null}){let a=`${BASE_QUIZ_LINK}/check-all-answers`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>{let n=r.data;return Promise.resolve(n)}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async checkQuizQuestionAnswer(o,t={quizQuestionId:null,answers:null}){let a=`${BASE_QUIZ_LINK}/check-answer`,i="POST";return util.makeAxiosFactory(a,i,t).then(r=>{let n=r.data;return Promise.resolve(n)}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadQuizQuestions(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_QUIZ_LINK}/list-of-quiz-questions/${t.dataObject.quiz_id}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setQuizQuestions",m.data),delete m.data,o.commit("setQuizQuestionsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadQuizzes(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_QUIZ_LINK}/list-of-quiz?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setQuizzes",m.data),delete m.data,o.commit("setQuizzesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadQuizResults(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_QUIZ_LINK}/list-of-results?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setQuizResults",m.data),delete m.data,o.commit("setQuizResultsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async storeQuizQuestion(o,t={quizQuestionForm:null}){let a=`${BASE_QUIZ_LINK}/quiz-question-store`;return util.makeAxiosFactory(a,"POST",t.quizQuestionForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async completeQuiz(o,t={quiz_id:null}){let a=`${BASE_QUIZ_LINK}/quiz-complete`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async startQuiz(o,t={quiz_id:null}){let a=`${BASE_QUIZ_LINK}/start-quiz`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadSingleQuiz(o,t={quiz_id:null}){let a=`${BASE_QUIZ_LINK}/load-single-quiz`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async checkQuizCommand(o,t={quiz_id:null}){let a=`${BASE_QUIZ_LINK}/check-quiz-command`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeQuizCommand(o,t={quizCommandForm:null}){let a=`${BASE_QUIZ_LINK}/quiz-command-store`;return util.makeAxiosFactory(a,"POST",t.quizCommandForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeQuiz(o,t={quizForm:null}){let a=`${BASE_QUIZ_LINK}/quiz-store`;return util.makeAxiosFactory(a,"POST",t.quizForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeQuiz(o,t={quizId:null}){let a=`${BASE_QUIZ_LINK}/remove-quiz/${t.quizId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeQuizCommand(o,t={quizCommandId:null}){let a=`${BASE_QUIZ_LINK}/remove-quiz-command/${t.quizCommandId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeQuizAnswer(o,t={quizAnswerId:null}){let a=`${BASE_QUIZ_LINK}/remove-quiz-answer/${t.quizAnswerId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeQuizQuestion(o,t={quizQuestionId:null}){let a=`${BASE_QUIZ_LINK}/remove-quiz-question/${t.quizQuestionId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async restoreQuiz(o,t={quizId:null}){let a=`${BASE_QUIZ_LINK}/restore-quiz/${t.quizId}`;return util.makeAxiosFactory(a,"GET").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$d={setQuizzes(o,t){o.quizzes=t||[],localStorage.setItem("cashman_quizzes",JSON.stringify(t))},setQuizQuestions(o,t){o.quiz_questions=t||[],localStorage.setItem("cashman_quiz_questions",JSON.stringify(t))},setQuizCommands(o,t){o.quiz_commands=t||[],localStorage.setItem("cashman_quiz_commands",JSON.stringify(t))},setQuizResults(o,t){o.quiz_results=t||[],localStorage.setItem("cashman_quiz_results",JSON.stringify(t))},setQuizResultsPaginateObject(o,t){o.quiz_results_paginate_object=t||[],localStorage.setItem("cashman_quiz_results_paginate_object",JSON.stringify(t))},setQuizzesPaginateObject(o,t){o.quizzes_paginate_object=t||[],localStorage.setItem("cashman_quizzes_paginate_object",JSON.stringify(t))},setQuizQuestionsPaginateObject(o,t){o.quiz_questions_paginate_object=t||[],localStorage.setItem("cashman_quiz_questions_paginate_object",JSON.stringify(t))},setQuizCommandsPaginateObject(o,t){o.quiz_commands_paginate_object=t||[],localStorage.setItem("cashman_quiz_commands_paginate_object",JSON.stringify(t))}},quizModule={state:state$d,mutations:mutations$d,actions:actions$d,getters:getters$d},BASE_PROFILE_FORM_LINK="/bot-client/profile-form";let state$c={};const getters$c={},actions$c={async loadProfileFormData(o){let t=`${BASE_PROFILE_FORM_LINK}/load-profile-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async saveProfileFormData(o,t={dataObject:null}){let a=`${BASE_PROFILE_FORM_LINK}/store-profile-data`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$c={},cashbackModule={state:state$c,mutations:mutations$c,actions:actions$c,getters:getters$c},BASE_APPOINTMENTS_LINK="/bot-client/appointments";let state$b={appointments:[],appointment_events:[],appointment_services:[],appointment_schedules:[],appointment_reviews:[],appointment_paginate_object:null,appointment_services_paginate_object:null,appointment_events_paginate_object:null,appointment_schedules_paginate_object:null,appointment_reviews_paginate_object:null};const getters$b={getAppointments:o=>o.appointments||[],getAppointmentEvents:o=>o.appointment_events||[],getAppointmentServices:o=>o.appointment_services||[],getAppointmentSchedules:o=>o.appointment_schedules||[],getAppointmentReviews:o=>o.appointment_reviews||[],getAppointmentsPaginateObject:o=>o.appointment_paginate_object||null,getAppointmentEventsPaginateObject:o=>o.appointment_events_paginate_object||null,getAppointmentSchedulesPaginateObject:o=>o.appointment_schedules_paginate_object||null,getAppointmentServicesPaginateObject:o=>o.appointment_services_paginate_object||null,getAppointmentReviewsPaginateObject:o=>o.appointment_reviews_paginate_object||null},actions$b={async loadAppointments(o,t={dataObject:{search:null},page:0,size:12}){let a=t.page||0,i=t.size||12,s=`${BASE_APPOINTMENTS_LINK}/appointment-list/${t.dataObject.event_id}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setAppointments",m.data),delete m.data,o.commit("setAppointmentsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadAppointmentEvents(o,t={dataObject:{search:null},page:0,size:12}){let a=t.page||0,i=t.size||12,s=`${BASE_APPOINTMENTS_LINK}/event-list?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setAppointmentEvents",m.data),delete m.data,o.commit("setAppointmentEventsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadAppointmentReviews(o,t={dataObject:{search:null},page:0,size:12}){let a=t.page||0,i=t.size||12,s=`${BASE_APPOINTMENTS_LINK}/review-list/${t.dataObject.event_id}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setAppointmentReviews",m.data),delete m.data,o.commit("setAppointmentReviewsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadAppointmentSchedules(o,t={dataObject:{event_id:null},page:0,size:10}){let a=`${BASE_APPOINTMENTS_LINK}/schedule-list/${t.dataObject.event_id}?page=${t.page||0}&size=${t.size||10}`,i="POST",s=t.dataObject;return util.makeAxiosFactory(a,i,s).then(n=>{let l=n.data;return o.commit("setAppointmentSchedules",l.data),delete l.data,o.commit("setAppointmentSchedulesPaginateObject",l),Promise.resolve()}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async loadAppointmentServices(o,t={dataObject:{event_id:null,search:null},page:0,size:12}){let a=t.page||0,i=t.size||12,s=`${BASE_APPOINTMENTS_LINK}/service-list/${t.dataObject.event_id}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setAppointmentServices",m.data),delete m.data,o.commit("setAppointmentServicesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadAppointmentServiceCategories(o,t={dataObject:{event_id:null}}){let a=`${BASE_APPOINTMENTS_LINK}/service-category-list/${t.dataObject.event_id}`,i="POST",s=t.dataObject;return util.makeAxiosFactory(a,i,s).then(n=>{let l=n.data;return Promise.resolve(l)}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async addAppointmentEvent(o,t={appointmentEventForm:null}){let a=`${BASE_APPOINTMENTS_LINK}/add-event`;return util.makeAxiosFactory(a,"POST",t.appointmentEventForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async addAppointmentService(o,t={appointmentServiceForm:null}){let a=`${BASE_APPOINTMENTS_LINK}/add-service`;return util.makeAxiosFactory(a,"POST",t.appointmentServiceForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeAppointment(o,t={dataObject:{appointmentForm:null}}){let a=`${BASE_APPOINTMENTS_LINK}/store-appointment`;return util.makeAxiosFactory(a,"POST",t.dataObject.appointmentForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeAppointmentSchedule(o,t={dataObject:{schedule:null,bot_id:null,appointment_event_id:null}}){let a=`${BASE_APPOINTMENTS_LINK}/store-schedule`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeAppointmentReview(o,t={dataObject:{appointmentReviewForm:null}}){let a=`${BASE_APPOINTMENTS_LINK}/store-review`;return util.makeAxiosFactory(a,"POST",t.dataObject.appointmentReviewForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateAppointmentService(o,t={appointmentServiceForm:null}){let a=`${BASE_APPOINTMENTS_LINK}/update-service`;return util.makeAxiosFactory(a,"POST",t.appointmentServiceForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateAppointmentEvent(o,t={appointmentEventForm:null}){let a=`${BASE_APPOINTMENTS_LINK}/update-event`;return util.makeAxiosFactory(a,"post",t.appointmentEventForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async duplicateAppointmentEvent(o,t={dataObject:{appointmentEventId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/duplicate-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAppointment(o,t={dataObject:{appointmentId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/remove-appointment/${t.dataObject.appointmentId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAppointmentReview(o,t={dataObject:{appointmentReviewId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/remove-review/${t.dataObject.appointmentReviewId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAppointmentSchedule(o,t={dataObject:{appointmentScheduleId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/remove-schedule/${t.dataObject.appointmentScheduleId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAppointmentEvent(o,t={dataObject:{appointmentEventId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/remove-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeAppointmentService(o,t={dataObject:{appointmentServiceId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/remove-service/${t.dataObject.appointmentServiceId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async forceRemoveAppointment(o,t={dataObject:{appointmentEventId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/force-remove-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async restoreAppointmentEvent(o,t={dataObject:{appointmentEventId:null}}){let a=`${BASE_APPOINTMENTS_LINK}/restore-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(a,"GET").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$b={setAppointments(o,t){o.appointments=t||[],localStorage.setItem("cashman_appointments",JSON.stringify(t))},setAppointmentEvents(o,t){o.appointment_events=t||[],localStorage.setItem("cashman_appointment_events",JSON.stringify(t))},setAppointmentServices(o,t){o.appointment_services=t||[],localStorage.setItem("cashman_appointment_services",JSON.stringify(t))},setAppointmentReviews(o,t){o.appointment_reviews=t||[],localStorage.setItem("cashman_appointment_reviews",JSON.stringify(t))},setAppointmentSchedules(o,t){o.appointment_schedules=t||[],localStorage.setItem("cashman_appointment_schedules",JSON.stringify(t))},setAppointmentsPaginateObject(o,t){o.appointments_paginate_object=t||[],localStorage.setItem("cashman_appointments_paginate_object",JSON.stringify(t))},setAppointmentReviewsPaginateObject(o,t){o.appointment_reviews_paginate_object=t||[],localStorage.setItem("cashman_appointment_reviews_paginate_object",JSON.stringify(t))},setAppointmentEventsPaginateObject(o,t){o.appointment_events_paginate_object=t||[],localStorage.setItem("cashman_appointment_events_paginate_object",JSON.stringify(t))},setAppointmentServicesPaginateObject(o,t){o.appointment_services_paginate_object=t||[],localStorage.setItem("cashman_appointment_services_paginate_object",JSON.stringify(t))},setAppointmentSchedulesPaginateObject(o,t){o.appointment_schedules_paginate_object=t||[],localStorage.setItem("cashman_appointment_schedules_paginate_object",JSON.stringify(t))}},appointmentsModule={state:state$b,mutations:mutations$b,actions:actions$b,getters:getters$b},BASE_PROVIDERS_LINK="/bot-client/payments";let state$a={providers:[]};const getters$a={getProviders:o=>o.providers||[]},actions$a={async loadProviders(o){let t=`${BASE_PROVIDERS_LINK}/providers`,a="GET";return util.makeAxiosFactory(t,a).then(s=>{let r=s.data;return o.commit("setProviders",r),Promise.resolve()}).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$a={setProviders(o,t){o.providers=t||[],localStorage.setItem("cashman_providers",JSON.stringify(t))}},paymentsModule={state:state$a,mutations:mutations$a,actions:actions$a,getters:getters$a},BASE_PROMOCODES_LINK="/bot-client/promocodes";let state$9={promo_codes:[],promo_codes_paginate_object:null};const getters$9={getPromoCodes:o=>o.promo_codes||[],getPromoCodesPaginateObject:o=>o.promo_codes_paginate_object||null},actions$9={async activatePromocode(o,t={promocodeForm:null}){let a=`${BASE_PROMOCODES_LINK}/activate`;return util.makeAxiosFactory(a,"POST",t.promocodeForm).then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async activateShopDiscountPromocode(o,t={promocodeForm:null}){let a=`${BASE_PROMOCODES_LINK}/activate-shop-discount`;return util.makeAxiosFactory(a,"POST",t.promocodeForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadPromoCodes(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_PROMOCODES_LINK}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setPromoCodes",m.data),delete m.data,o.commit("setPromoCodesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async storePromoCodes(o,t={promoCodeForm:null}){let a=`${BASE_PROMOCODES_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.promoCodeForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removePromoCodes(o,t={promoCodeId:null}){let a=`${BASE_PROMOCODES_LINK}/${t.promoCodeId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$9={setPromoCodes(o,t){o.promo_codes=t||[],localStorage.setItem("cashman_promo_codes",JSON.stringify(t))},setPromoCodesPaginateObject(o,t){o.promo_codes_paginate_object=t||[],localStorage.setItem("cashman_promo_codes_paginate_object",JSON.stringify(t))}},promocodesModule={state:state$9,mutations:mutations$9,actions:actions$9,getters:getters$9},BASE_ORDERS_LINK="/bot-client/shop/orders";let state$8={orders:[],orders_paginate_object:null};const getters$8={getOrders:o=>o.orders||[],getOrderById:o=>t=>o.orders.find(a=>a.id===t),getOrdersPaginateObject:o=>o.orders_paginate_object||null},actions$8={async exportAllOrders(o){let t=`${BASE_ORDERS_LINK}/export-all-orders`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async sendSBPInvoice(o,t={dataObject:null}){let a=`${BASE_ORDERS_LINK}/send-sbp-invoice`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async declineOrder(o,t={dataObject:{order_id:null}}){let a=`${BASE_ORDERS_LINK}/decline-order`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async addCashBackToOrder(o,t={order_id:null}){let a=`${BASE_ORDERS_LINK}/add-cashback-to-order`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async requestDeliveryPrice(o,t){let a=`${BASE_ORDERS_LINK}/get-delivery-price`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadAllOrders(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,r=`${BASE_ORDERS_LINK}/all?page=${i}&size=20`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setOrders",m.data),delete m.data,o.commit("setOrdersPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadOrders(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,r=`${BASE_ORDERS_LINK}?page=${i}&size=20`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setOrders",m.data),delete m.data,o.commit("setOrdersPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async repeatOrder(o,t){let a=`${BASE_ORDERS_LINK}/repeat-order`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadOrderById(o,t={dataObject:{order_id:null}}){let a=`${BASE_ORDERS_LINK}/get-order-by-id`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async changeOrderStatus(o,t={dataObject:{status:null}}){let a=`${BASE_ORDERS_LINK}/change-order-status`;return util.makeAxiosFactory(a,"POST",t.dataObject).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$8={setOrders(o,t){o.orders=t||[],localStorage.setItem("cashman_orders",JSON.stringify(t))},setOrdersPaginateObject(o,t){o.orders_paginate_object=t||[],localStorage.setItem("cashman_orders_paginate_object",JSON.stringify(t))}},ordersModule={state:state$8,mutations:mutations$8,actions:actions$8,getters:getters$8},BASE_REVIEWS_LINK="/bot-client/shop/reviews";let state$7={reviews:[],reviews_paginate_object:null};const getters$7={getReviews:o=>o.reviews||[],getReviewById:o=>t=>o.reviews.find(a=>a.id===t),getReviewsPaginateObject:o=>o.reviews_paginate_object||null},actions$7={async notifyUserForReview(o,t={reviewForm:null}){let a=`${BASE_REVIEWS_LINK}/notify-user`;return util.makeAxiosFactory(a,"POST",t.reviewForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeReview(o,t={reviewForm:null}){let a=`${BASE_REVIEWS_LINK}/store-review`;return util.makeAxiosFactory(a,"POST",t.reviewForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadReviews(o,t={dataObject:null,page:0,size:12}){let a=t.page||0,i=t.size||20,s=`${BASE_REVIEWS_LINK}?page=${a}&size=${i}`,r="POST";return util.makeAxiosFactory(s,r,t.dataObject).then(l=>{let c=l.data;return o.commit("setReviews",c.data),delete c.data,o.commit("setReviewsPaginateObject",c),Promise.resolve()}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async loadReviewsByProductId(o,t={dataObject:{product_id:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,s=t.size||20,r=`${BASE_REVIEWS_LINK}/by-product-id?page=${i}&size=${s}`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setReviews",m.data),delete m.data,o.commit("setReviewsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))}},mutations$7={setReviews(o,t){o.reviews=t||[],localStorage.setItem("cashman_reviews",JSON.stringify(t))},setReviewsPaginateObject(o,t){o.reviews_paginate_object=t||[],localStorage.setItem("cashman_reviews_paginate_object",JSON.stringify(t))}},reviewsModule={state:state$7,mutations:mutations$7,actions:actions$7,getters:getters$7},BASE_QUEUE_LINK="/bot-client/mailing";let state$6={queues:[],queues_paginate_object:null};const getters$6={getQueues:o=>o.queues||[],getQueuesPaginateObject:o=>o.queues_paginate_object||null},actions$6={async loadQueues(o,t={dataObject:null,page:0,size:50}){let a=t.page||0,i=t.size||50,s=`${BASE_QUEUE_LINK}?page=${a}&size=${i}`,r="POST",n=t.dataObject;return util.makeAxiosFactory(s,r,n).then(c=>{let m=c.data;return o.commit("setQueues",m.data),delete m.data,o.commit("setQueuesPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async storeQueue(o,t={queueForm:null}){let a=`${BASE_QUEUE_LINK}/send-to-queue`;return util.makeAxiosFactory(a,"POST",t.queueForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeQueue(o,t={queueId:null}){let a=`${BASE_QUEUE_LINK}/remove/${t.queueId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$6={setQueues(o,t){o.queues=t||[],localStorage.setItem("cashman_queues",JSON.stringify(t))},setQueuesPaginateObject(o,t){o.queues_paginate_object=t||[],localStorage.setItem("cashman_queues_paginate_object",JSON.stringify(t))}},queueModule={state:state$6,mutations:mutations$6,actions:actions$6,getters:getters$6},BASE_IIKO_LINK="/bot-client/iiko";let state$5={};const getters$5={},actions$5={async getIikoToken(o,t){let a=`${BASE_IIKO_LINK}/token`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async getIikoMenu(o){let t=`${BASE_IIKO_LINK}/menu`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async getIikoProducts(o,t){let a=`${BASE_IIKO_LINK}/products`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async getIikoOrganizations(o,t){let a=`${BASE_IIKO_LINK}/organizations`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async getIikoTerminals(o,t){let a=`${BASE_IIKO_LINK}/terminals`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeIikoProducts(o,t){let a=`${BASE_IIKO_LINK}/store-products`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeIiko(o,t){let a=`${BASE_IIKO_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.iikoForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$5={},iikoModule={state:state$5,mutations:mutations$5,actions:actions$5,getters:getters$5},BASE_BITRIX_LINK="/bot-client/bitrix";let state$4={};const getters$4={},actions$4={async loadBitrix(o,t){let a=`${BASE_BITRIX_LINK}/load-connections`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async checkBitrixURL(o,t){let a=`${BASE_BITRIX_LINK}/check`;return util.makeAxiosFactory(a,"POST",t.bitrixForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeBitrixItem(o,t={id:null}){let a=`${BASE_BITRIX_LINK}/remove/${t.id}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeBitrix(o,t){let a=`${BASE_BITRIX_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.bitrixForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$4={},bitrixModule={state:state$4,mutations:mutations$4,actions:actions$4,getters:getters$4},BASE_CDEK_LINK="/bot-client/cdek";let state$3={};const getters$3={},actions$3={async calcCdekTariffFromCart(o,t){let a=`${BASE_CDEK_LINK}/calc-basket-tariff`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadCdekOffices(o,t){let a=`${BASE_CDEK_LINK}/get-offices`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadCdekCities(o,t){let a=`${BASE_CDEK_LINK}/get-cities`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadCdekRegions(o,t){let a=`${BASE_CDEK_LINK}/get-regions`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeCdekOrder(o,t){let a=`${BASE_CDEK_LINK}/make-order`;return util.makeAxiosFactory(a,"POST",t.cdekForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async calcCdekTariff(o,t){let a=`${BASE_CDEK_LINK}/calc-tariff`;return util.makeAxiosFactory(a,"POST",t.cdekForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async checkCdekURL(o,t){let a=`${BASE_CDEK_LINK}/check`;return util.makeAxiosFactory(a,"POST",t.cdekForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storeCdek(o,t){let a=`${BASE_CDEK_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.cdekForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$3={},cdekModule={state:state$3,mutations:mutations$3,actions:actions$3,getters:getters$3},BASE_COLLECTIONS_LINK="/bot-client/product-collections";let state$2={collections:[],collections_paginate_object:null};const getters$2={getCollections:o=>o.collections||[],getCollectionsPaginateObject:o=>o.collections_paginate_object||null},actions$2={async loadGlobalCollections(o,t={dataObject:{search:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,s=t.size||12,r=`${BASE_COLLECTIONS_LINK}/global?page=${i}&size=${s}`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setCollections",m.data),delete m.data,o.commit("setCollectionsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async loadCollections(o,t={dataObject:{search:null},page:0,size:12}){let a={...t.dataObject},i=t.page||0,s=t.size||12,r=`${BASE_COLLECTIONS_LINK}?page=${i}&size=${s}`,n="POST";return util.makeAxiosFactory(r,n,a).then(c=>{let m=c.data;return o.commit("setCollections",m.data),delete m.data,o.commit("setCollectionsPaginateObject",m),Promise.resolve()}).catch(c=>(o.commit("setErrors",c.response.data.errors||[]),Promise.reject(c)))},async storeCollection(o,t={collectionForm:null}){let a=`${BASE_COLLECTIONS_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.collectionForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async duplicateCollection(o,t={collectionId:null}){let a=`${BASE_COLLECTIONS_LINK}/duplicate/${t.dataObject.collectionId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removeProductCollection(o,t={collectionId:null}){let a=`${BASE_COLLECTIONS_LINK}/remove/${t.collectionId}`;return util.makeAxiosFactory(a,"POST").then(s=>Promise.resolve(s)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations$2={setCollections(o,t){o.collections=t||[],localStorage.setItem("cashman_collections",JSON.stringify(t))},setCollectionsPaginateObject(o,t){o.collections_paginate_object=t||[],localStorage.setItem("cashman_collections_paginate_object",JSON.stringify(t))}},collectionsModule={state:state$2,mutations:mutations$2,actions:actions$2,getters:getters$2},BASE_FRIENDS_LINK="/bot-client/friends";let state$1={friends:[],friends_paginate_object:null};const getters$1={getFriends:o=>o.friends||[],getFriendsPaginateObject:o=>o.friends_paginate_object||null},actions$1={async loadFriends(o,t={page:0,size:12}){let a=t.page||0,s=`${BASE_FRIENDS_LINK}?page=${a}&size=12`;return util.makeAxiosFactory(s,"POST").then(n=>{let l=n.data;return o.commit("setFriends",l.data),delete l.data,o.commit("setFriendsPaginateObject",l),Promise.resolve()}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))}},mutations$1={setFriends(o,t){o.friends=t||[],localStorage.setItem("cashman_friends",JSON.stringify(t))},setFriendsPaginateObject(o,t){o.friends_paginate_object=t||[],localStorage.setItem("cashman_friends_paginate_object",JSON.stringify(t))}},myFriendsModule={state:state$1,mutations:mutations$1,actions:actions$1,getters:getters$1},BASE_PARTNERS_LINK="/bot-client/partners";let state={partners:[],partners_paginate_object:null};const getters={getPartners:o=>o.partners||[],getPartnersPaginateObject:o=>o.partners_paginate_object||null},actions={async loadPartners(o,t){let a=`${BASE_PARTNERS_LINK}`;return util.makeAxiosFactory(a,"POST",t).then(s=>{let r=s.data;return o.commit("setPartners",r.data),delete r.data,o.commit("setPartnersPaginateObject",r),Promise.resolve()}).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updatePartnersSettings(o,t){let a=`${BASE_PARTNERS_LINK}/update-settings`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updateSelfPartner(o,t){let a=`${BASE_PARTNERS_LINK}/update-self`;return util.makeAxiosFactory(a,"POST",t.form).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async updatePartner(o,t){let a=`${BASE_PARTNERS_LINK}/update`;return util.makeAxiosFactory(a,"POST",t.form).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async listOfPartnersCategories(o,t){let a=`${BASE_PARTNERS_LINK}/partners-categories`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async changePartnerProductStatus(o,t){let a=`${BASE_PARTNERS_LINK}/change-status`;return util.makeAxiosFactory(a,"POST",t).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async storePartner(o,t){let a=`${BASE_PARTNERS_LINK}/store`;return util.makeAxiosFactory(a,"POST",t.form).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async removePartner(o,t={partnerId:null}){let a=`${BASE_PARTNERS_LINK}/${t.partnerId}`;return util.makeAxiosFactory(a,"DELETE").then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))}},mutations={setPartners(o,t){o.partners=t||[],localStorage.setItem("cashman_partners",JSON.stringify(t))},setPartnersPaginateObject(o,t){o.partners_paginate_object=t||[],localStorage.setItem("cashman_partners_paginate_object",JSON.stringify(t))}},partnersModule={state,mutations,actions,getters},store=createStore({state:{errors:[]},getters:{getErrors:o=>o.errors||[]},actions:{async sendToChannel(o,t={mailForm:null}){let a="/bot-client/send-to-channel";return util.makeAxiosFactory(a,"POST",t.mailForm).then(s=>Promise.resolve(s.data)).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async loadNotes(o){let t="/bot-client/manager-notes";return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async requestTelegramChannelId(o,t={dataObject:null}){let a={...t.dataObject},i="/bot-client/telegram-channel-id";return util.makeAxiosFactory(i,"POST",a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async uploadFileForm(o,t={callbackForm:null}){let a=t.callbackForm,i="/bot-client/upload-file";return util.makeAxiosFactory(i,"POST",a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async feedBackForm(o,t={callbackForm:null}){let a=t.callbackForm,i="/bot-client/feedback";return util.makeAxiosFactory(i,"POST",a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async callbackForm(o,t={callbackForm:null}){let a=t.callbackForm,i="/bot-client/callback";return util.makeAxiosFactory(i,"POST",a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))}},mutations:{setErrors(o,t){o.errors=t||[]}},modules:{cashBack:cashbackModule$1,admins:adminsModule,products:productsModule$1,wheelOfFortune:wheelOfFortuneModule$4,wheelOfFortuneCustom:wheelOfFortuneModule$3,wheelOfFortuneV3:wheelOfFortuneModule$2,instagramQuest:instagramQuestModule,requestPhoto:requestPhotoModule,schedule:scheduleModule,cashOut:wheelOfFortuneModule,cart:basketItemsModule,self:selfModule,favorites:cardModule$1,shopAdmin:shopAdminModule,bonusProduct:bonusProductModule,watches:cardModule,company:companiesModule,pages:pagesModule,bots:botsModule,dialogs:dialogGroupsModule$1,slugs:slugsModule,botUsers:dialogGroupsModule,media:mediaModule,ingredients:ingredientsModule,quiz:quizModule,chatHistory:chat_historyModule,profileForm:cashbackModule,appointments:appointmentsModule,collections:collectionsModule,payments:paymentsModule,promocodes:promocodesModule,orders:ordersModule,friendsGame:wheelOfFortuneModule$1,mailing:queueModule,iiko:iikoModule,friends:friendsModule,myFriends:myFriendsModule,reviews:reviewsModule,bitrix:bitrixModule,cdek:cdekModule,stories:storiesModule,tables:tablesModule,partners:partnersModule}}),eventBus=mitt();window.eventBus=eventBus;var Wl;const appName=((Wl=window.document.getElementsByTagName("title")[0])==null?void 0:Wl.innerText)||"Laravel";E$1({title:o=>`${o} - ${appName}`,resolve:o=>resolvePageComponent(`./Pages/${o}.vue`,Object.assign({"./Pages/MainV1.vue":()=>__vitePreload(()=>import("./MainV1-0ece0e5e.js"),["assets/MainV1-0ece0e5e.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index.es-7fe923e3.js","assets/V1Layout-463845e7.js","assets/V1Layout-5ac8cdc0.css","assets/vue3-simple-typeahead-af322e2b.js","assets/vue3-json-editor.esm.prod-2ea2d4db.js","assets/vue3-simple-typeahead-408b5272.css","assets/TelegramChannelHelper-510d1a84.js","assets/TelegramChannelHelper.vue_vue_type_style_index_0_lang-3e1392ba.js","assets/TelegramChannelHelper-8363056c.css","assets/TelegramChannelHelper-ee5a9069.css","assets/base64-35aa8d2f.js","assets/main-f4ba7aa5.js","assets/main-8c777a3a.css","assets/base64-5ad24a6a.css","assets/v4-4a60fe23.js","assets/carousel.es-cb3e1d04.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-dfed2e14.js","assets/vue3-perfect-scrollbar-8aa20407.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-7fa68054.js","assets/MainV1-57dd244b.css"]),"./Pages/MainV2.vue":()=>__vitePreload(()=>import("./MainV2-430989c0.js"),["assets/MainV2-430989c0.js","assets/index.es-7fe923e3.js","assets/vue3-simple-typeahead-af322e2b.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/vue3-json-editor.esm.prod-2ea2d4db.js","assets/vue3-simple-typeahead-408b5272.css","assets/TelegramChannelHelper-510d1a84.js","assets/TelegramChannelHelper.vue_vue_type_style_index_0_lang-3e1392ba.js","assets/TelegramChannelHelper-8363056c.css","assets/TelegramChannelHelper-ee5a9069.css","assets/base64-35aa8d2f.js","assets/main-f4ba7aa5.js","assets/main-8c777a3a.css","assets/base64-5ad24a6a.css","assets/v4-4a60fe23.js","assets/carousel.es-cb3e1d04.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-dfed2e14.js","assets/vue3-perfect-scrollbar-8aa20407.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-7fa68054.js","assets/MainV2-ac87afce.css"]),"./Pages/V1/Admin/Actions.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Actions),void 0),"./Pages/V1/Admin/BonusProduct.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>BonusProduct),void 0),"./Pages/V1/Admin/BotManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>BotManager$1),void 0),"./Pages/V1/Admin/BotManager/Amo.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Amo$1),void 0),"./Pages/V1/Admin/BotManager/Dialogs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Dialogs$1),void 0),"./Pages/V1/Admin/BotManager/Keyboards.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Keyboards),void 0),"./Pages/V1/Admin/BotManager/Pages.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Pages$1),void 0),"./Pages/V1/Admin/BotManager/Slugs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Slugs$1),void 0),"./Pages/V1/Admin/BotManager/YClients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>YClients$1),void 0),"./Pages/V1/Admin/ChatHistory.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ChatHistory),void 0),"./Pages/V1/Admin/CompanyManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>CompanyManager),void 0),"./Pages/V1/Admin/Main.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Main$1),void 0),"./Pages/V1/Admin/MessageToUser.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MessageToUser),void 0),"./Pages/V1/Admin/Orders.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Orders$1),void 0),"./Pages/V1/Admin/Promotion.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Promotion),void 0),"./Pages/V1/Admin/ShopManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ShopManager),void 0),"./Pages/V1/Admin/Statistic.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Statistic$1),void 0),"./Pages/V1/Admin/Users.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Users),void 0),"./Pages/V1/Admin/WorkStatus.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WorkStatus),void 0),"./Pages/V1/Appointment/Appointments.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Appointments),void 0),"./Pages/V1/Delivery/DeliveryManForm.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>DeliveryManForm),void 0),"./Pages/V1/Delivery/Main.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Main$2),void 0),"./Pages/V1/Error.vue":()=>__vitePreload(()=>import("./Error-d8d2ee25.js"),["assets/Error-d8d2ee25.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index.es-7fe923e3.js"]),"./Pages/V1/FoodConstructors.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FoodConstructors),void 0),"./Pages/V1/Manager/Clients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Clients$1),void 0),"./Pages/V1/Manager/Main.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Main),void 0),"./Pages/V1/Manager/Manager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Manager),void 0),"./Pages/V1/Manager/Partners.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Partners$1),void 0),"./Pages/V1/Manager/Profile.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Profile$1),void 0),"./Pages/V1/OneArmedBanditPage.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>OneArmedBanditPage),void 0),"./Pages/V1/Quiz/Quizzes.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Quizzes),void 0),"./Pages/V1/Quiz/SingleQuiz.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>SingleQuiz),void 0),"./Pages/V1/Result.vue":()=>__vitePreload(()=>import("./Result-22a65848.js"),["assets/Result-22a65848.js","assets/V1Layout-463845e7.js","assets/index.es-7fe923e3.js","assets/V1Layout-5ac8cdc0.css","assets/vue3-simple-typeahead-af322e2b.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/vue3-json-editor.esm.prod-2ea2d4db.js","assets/vue3-simple-typeahead-408b5272.css","assets/TelegramChannelHelper-510d1a84.js","assets/TelegramChannelHelper.vue_vue_type_style_index_0_lang-3e1392ba.js","assets/TelegramChannelHelper-8363056c.css","assets/TelegramChannelHelper-ee5a9069.css","assets/base64-35aa8d2f.js","assets/main-f4ba7aa5.js","assets/main-8c777a3a.css","assets/base64-5ad24a6a.css","assets/v4-4a60fe23.js","assets/carousel.es-cb3e1d04.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-dfed2e14.js","assets/vue3-perfect-scrollbar-8aa20407.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-7fa68054.js"]),"./Pages/V1/Shop/Admins.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Admins),void 0),"./Pages/V1/Shop/Basket.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Basket),void 0),"./Pages/V1/Shop/Booking.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Booking),void 0),"./Pages/V1/Shop/CashOut.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>CashOut$1),void 0),"./Pages/V1/Shop/CashReceipt.vue":()=>__vitePreload(()=>import("./CashReceipt-b31ab22d.js"),["assets/CashReceipt-b31ab22d.js","assets/index.es-7fe923e3.js","assets/CashReceipt-55274ec9.css"]),"./Pages/V1/Shop/Categories.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Categories),void 0),"./Pages/V1/Shop/Empty.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Empty),void 0),"./Pages/V1/Shop/Favorites.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Favorites),void 0),"./Pages/V1/Shop/FriendsGame.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FriendsGame$1),void 0),"./Pages/V1/Shop/Home.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Home),void 0),"./Pages/V1/Shop/Product.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Product$1),void 0),"./Pages/V1/Shop/Products.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Products),void 0),"./Pages/V1/Shop/ProductsInCategory.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ProductsInCategory),void 0),"./Pages/V1/Shop/ProfileForm.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ProfileForm$1),void 0),"./Pages/V1/Shop/Promocode.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Promocode),void 0),"./Pages/V1/Shop/Quest.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Quest),void 0),"./Pages/V1/Shop/SaveUp.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>SaveUp),void 0),"./Pages/V1/Shop/Schedule.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Schedule),void 0),"./Pages/V1/Shop/Vip.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Vip$1),void 0),"./Pages/V1/Shop/Wheel.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Wheel),void 0),"./Pages/V1/Shop/WheelCustom.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WheelCustom$1),void 0),"./Pages/V2/Admin/AdminMenu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>AdminMenu),void 0),"./Pages/V2/Admin/BotManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>BotManager),void 0),"./Pages/V2/Admin/CashBack.vue":()=>__vitePreload(()=>import("./CashBack-6b7f524d.js"),["assets/CashBack-6b7f524d.js","assets/index.es-7fe923e3.js","assets/vue3-simple-typeahead-af322e2b.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/vue3-json-editor.esm.prod-2ea2d4db.js","assets/vue3-simple-typeahead-408b5272.css","assets/TelegramChannelHelper-510d1a84.js","assets/TelegramChannelHelper.vue_vue_type_style_index_0_lang-3e1392ba.js","assets/TelegramChannelHelper-8363056c.css","assets/TelegramChannelHelper-ee5a9069.css","assets/base64-35aa8d2f.js","assets/main-f4ba7aa5.js","assets/main-8c777a3a.css","assets/base64-5ad24a6a.css","assets/v4-4a60fe23.js","assets/carousel.es-cb3e1d04.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-dfed2e14.js","assets/vue3-perfect-scrollbar-8aa20407.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-7fa68054.js"]),"./Pages/V2/Admin/Clients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Clients),void 0),"./Pages/V2/Admin/Dialogs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Dialogs),void 0),"./Pages/V2/Admin/IntegrationMenu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>IntegrationMenu),void 0),"./Pages/V2/Admin/Integrations/Amo.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Amo),void 0),"./Pages/V2/Admin/Integrations/Bitrix.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Bitrix),void 0),"./Pages/V2/Admin/Integrations/Cdek.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Cdek),void 0),"./Pages/V2/Admin/Integrations/FrontPad.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FrontPad),void 0),"./Pages/V2/Admin/Integrations/Iiko.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Iiko),void 0),"./Pages/V2/Admin/Integrations/YClients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>YClients),void 0),"./Pages/V2/Admin/Invoice.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Invoice),void 0),"./Pages/V2/Admin/Links.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Links),void 0),"./Pages/V2/Admin/Mailing.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Mailing),void 0),"./Pages/V2/Admin/Orders.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Orders),void 0),"./Pages/V2/Admin/PageEditor.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>PageEditor),void 0),"./Pages/V2/Admin/Pages.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Pages),void 0),"./Pages/V2/Admin/Partners.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Partners),void 0),"./Pages/V2/Admin/Promocodes.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Promocodes),void 0),"./Pages/V2/Admin/Shop.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Shop),void 0),"./Pages/V2/Admin/Slugs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Slugs),void 0),"./Pages/V2/Admin/Statistic.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Statistic),void 0),"./Pages/V2/Admin/StoryManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>StoryManager),void 0),"./Pages/V2/Admin/Tables/Table.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Table),void 0),"./Pages/V2/Admin/Tables/TablesManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>TablesManager),void 0),"./Pages/V2/Fastoran/Main.vue":()=>__vitePreload(()=>import("./Main-fcd5f8d9.js"),["assets/Main-fcd5f8d9.js","assets/index.es-7fe923e3.js","assets/_plugin-vue_export-helper-c27b6911.js"]),"./Pages/V2/Games/WheelCustom.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WheelCustom),void 0),"./Pages/V2/Other/FeedBack.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FeedBack),void 0),"./Pages/V2/Other/FileUpload.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FileUpload),void 0),"./Pages/V2/Result.vue":()=>__vitePreload(()=>import("./Result-08b5da51.js"),["assets/Result-08b5da51.js","assets/V1Layout-463845e7.js","assets/index.es-7fe923e3.js","assets/V1Layout-5ac8cdc0.css","assets/vue3-simple-typeahead-af322e2b.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/vue3-json-editor.esm.prod-2ea2d4db.js","assets/vue3-simple-typeahead-408b5272.css","assets/TelegramChannelHelper-510d1a84.js","assets/TelegramChannelHelper.vue_vue_type_style_index_0_lang-3e1392ba.js","assets/TelegramChannelHelper-8363056c.css","assets/TelegramChannelHelper-ee5a9069.css","assets/base64-35aa8d2f.js","assets/main-f4ba7aa5.js","assets/main-8c777a3a.css","assets/base64-5ad24a6a.css","assets/v4-4a60fe23.js","assets/carousel.es-cb3e1d04.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-dfed2e14.js","assets/vue3-perfect-scrollbar-8aa20407.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-7fa68054.js"]),"./Pages/V2/Shop/Bookings.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Bookings),void 0),"./Pages/V2/Shop/Catalog.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Catalog$1),void 0),"./Pages/V2/Shop/Contacts.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Contacts),void 0),"./Pages/V2/Shop/FriendsGame.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FriendsGame),void 0),"./Pages/V2/Shop/InstaQuest.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>InstaQuest),void 0),"./Pages/V2/Shop/Menu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Menu),void 0),"./Pages/V2/Shop/MyCashBack.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MyCashBack),void 0),"./Pages/V2/Shop/MyFriends.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MyFriends),void 0),"./Pages/V2/Shop/MyOrders.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MyOrders),void 0),"./Pages/V2/Shop/PagePassword.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>PagePassword),void 0),"./Pages/V2/Shop/Product.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Product),void 0),"./Pages/V2/Shop/Profile.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Profile),void 0),"./Pages/V2/Shop/PromoCode.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>PromoCode),void 0),"./Pages/V2/Shop/Referral.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Referral),void 0),"./Pages/V2/Shop/RequestPhoto.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>RequestPhoto),void 0),"./Pages/V2/Shop/ShopCart.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ShopCart),void 0),"./Pages/V2/Shop/SimpleProfileV1.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>SimpleProfileV1),void 0),"./Pages/V2/Shop/Tables/TableCart.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>TableCart),void 0),"./Pages/V2/Shop/Tables/TableMenu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>TableMenu),void 0),"./Pages/V2/Shop/VipProfileV1.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>VipProfileV1),void 0),"./Pages/V2/Shop/VipProfileV2.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>VipProfileV2),void 0),"./Pages/V2/Shop/WheelOfFortune.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WheelOfFortune),void 0),"./Pages/V2/Waiter/Catalog.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Catalog),void 0)})),setup({el:o,App:t,props:a,plugin:i}){const s=createApp({render:()=>h(t,a)});return s.config.globalProperties.$filters={local(r){return hooks(r).format("YYYY-MM-DDThh:mm")},timeAgo(r){return hooks(r).fromNow()},current(r){return hooks(r).format("YYYY-MM-DD")},currentFull(r){return hooks(r).format("YYYY-MM-DD HH:mm:ss")}},s.config.globalProperties.$botNotification=BotNotification,s.config.globalProperties.$cart=Cart,s.config.globalProperties.$cashback=CashBack,s.config.globalProperties.$botPages=BotPages,s.config.globalProperties.$productInfo=ProductInfo,s.config.globalProperties.$preloader=Preloader,s.use(i).use(store).use(VueTheMask).use(at).use(entry_esm).use(router).use(VueSocialSharing).use(index).use(entry_esm$1).use(vueTouchEvents).use(I,Ziggy).use(index$1,{loading:"/cashman-lazy.jpg",error:"/cashman-lazy.jpg"}).mount(o),s},progress:{color:"#4B5563"}});export{ReturnToBot as R,ScheduleList as S,_sfc_main$1B as _,baseJS as b};
