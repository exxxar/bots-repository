import{_ as d}from"./MainAdminLayout-28e1a6fc.js";import{_ as m}from"./SlugForm-bfc274b3.js";import{_ as u}from"./GlobalSlugList-1bba8449.js";import{o,H as l,w as c,n as e,a0 as n,k as p,M as a,l as b}from"./index.es-c4852431.js";import"./ManagerProfile-d7e8e099.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                 */import"./TelegramChannelHelper-ff1b321d.js";/* empty css                                                              */import"./BotMediaList-30a5f8d8.js";import"./Pagination-02b5940a.js";import"./vue3-json-editor.esm.prod-a2876a2f.js";const f={class:"container"},h={class:"row mb-2"},_={class:"col-12"},y={class:"btn-group",role:"group","aria-label":"Basic outlined example"},k=["disabled"],v={key:0},S={key:1,class:"row"},$={data(){return{slug:null,load:!1,step:0}},computed:{},mounted(){},methods:{selectScript(i){this.slug=i,this.step=1},reloadGlobalScripts(){this.load=!0,this.$store.dispatch("reloadGlobalScripts",{}).then(i=>{this.$notify({title:"Конструктор команд",text:"Глобальные скрипты успешно обновлены",type:"success"}),this.$nextTick(()=>{this.load=!1})}).catch(()=>{this.$notify({title:"Конструктор команд",text:"Ошибка обновления глобальных скриптов",type:"error"})})}}},O=Object.assign($,{__name:"ScriptPage",setup(i){return(t,s)=>(o(),l(d,{active:6,"need-menu":!0},{default:c(()=>[e("div",f,[e("div",h,[e("div",_,[e("div",y,[e("button",{type:"button",onClick:s[0]||(s[0]=r=>t.step=0),class:n([{"btn-primary":t.step===0,"btn-outline-primary":t.step!==0},"btn"])},"Поиск скрипта ",2),e("button",{type:"button",disabled:t.slug==null,onClick:s[1]||(s[1]=r=>t.step=1),class:n([{"btn-primary":t.step===1,"btn-outline-primary":t.step!==1},"btn"])},"Редактирование скрипта ",10,k)])])]),t.step===0?(o(),p("div",v,[e("a",{onClick:s[2]||(s[2]=(...r)=>t.reloadGlobalScripts&&t.reloadGlobalScripts(...r)),href:"javascript:void()"},"Обновить глобальные скрипты"),t.load?a("",!0):(o(),l(u,{key:0,onSelect:t.selectScript},null,8,["onSelect"]))])):a("",!0),t.step===1?(o(),p("div",S,[b(m,{item:t.slug},null,8,["item"])])):a("",!0)])]),_:1}))}});export{O as default};
