import{P as h}from"./Pagination-ccc8cfc8.js";import{_ as m}from"./_plugin-vue_export-helper-c27b6911.js";import{o as s,j as a,l as t,K as o,L as n,g as u,F as _,J as p,G as r}from"./index.es-db843bab.js";const f={props:["item"],methods:{open(c){c.is_open=!c.is_open}}},y={class:"d-flex justify-content-between w-100"},b={key:0,class:"fa fa-circle-up text-success mr-2",style:{"font-size":"24px"}},g={key:1,class:"fa-regular fa-circle-down text-danger mr-2",style:{"font-size":"24px"}},k={class:"fw-bold"},w={key:0,class:"text-primary fw-bold"},x={key:1,class:"text-primary fw-bold"},B={key:0,class:"w-100 mt-2"},C={class:"table table-borderless rounded-sm shadow-l m-0 p-0",style:{overflow:"hidden"}},j=t("thead",null,[t("tr",{class:"bg-gray1-dark"},[t("th",{scope:"col",class:"color-theme"},"Параметр"),t("th",{scope:"col",class:"color-theme"},"Значение")])],-1),v=t("th",{scope:"row"},"Тип операции",-1),P={class:"fw-bold text-primary"},O=t("th",{scope:"row"},"Сумма баллов, руб",-1),z={class:"fw-bold text-primary"},G={key:0},L=t("th",{scope:"row"},"Уровень начисления",-1),V={class:"fw-bold text-primary"},F={key:1},N=t("th",{scope:"row"},"Сумма в чеке, руб",-1),U={class:"fw-bold text-primary"},D=t("th",{scope:"row"},"Дата операции",-1),E={class:"fw-bold text-primary"},I=t("th",{scope:"row"},"Описание операции",-1),J={class:"fw-bold text-primary"},K=t("th",{scope:"row"},"TG id сотрудника",-1),S={class:"fw-bold text-primary"},T=t("th",{scope:"row"},"Имя сотрудника",-1),q={class:"fw-bold text-primary"},A=t("th",{scope:"row"},"Телефон сотрудника",-1),H={class:"fw-bold text-primary"};function M(c,i,e,l,$,d){return s(),a("div",{onClick:i[0]||(i[0]=tt=>d.open(e.item)),class:"list-group-item d-flex flex-column"},[t("div",y,[t("div",null,[e.item.operation_type?(s(),a("i",b)):(s(),a("i",g)),t("span",k,o(e.item.amount||0)+" руб. ",1)]),e.item.operation_type?(s(),a("span",w,"чек "+o(e.item.money_in_check||0)+" руб.",1)):(s(),a("span",x,"списание"))]),e.item.is_open?(s(),a("div",B,[t("table",C,[j,t("tbody",null,[t("tr",null,[v,t("td",P,o(e.item.operation_type?"Начисление":"Списание"),1)]),t("tr",null,[O,t("td",z,o(e.item.amount||0),1)]),e.item.operation_type?(s(),a("tr",G,[L,t("td",V,o(e.item.level||0),1)])):n("",!0),e.item.operation_type?(s(),a("tr",F,[N,t("td",U,o(e.item.money_in_check||0),1)])):n("",!0),t("tr",null,[D,t("td",E,o(c.$filters.current(e.item.created_at)),1)]),t("tr",null,[I,t("td",J,o(e.item.description||"Нет описания"),1)]),t("tr",null,[K,t("td",S,o(e.item.employee.telegram_chat_id||"Не указано"),1)]),t("tr",null,[T,t("td",q,o(e.item.employee.fio_from_telegram||"Не указано"),1)]),t("tr",null,[A,t("td",H,o(e.item.employee.phone||"Не указано"),1)])])])])):n("",!0)])}const Q=m(f,[["render",M]]),R={key:0,class:"list-group"},W={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},X=t("div",{class:"d-flex justify-content-center flex-column align-items-center"},[t("i",{class:"fa-brands fa-bitcoin mb-3",style:{"font-size":"36px"}}),t("p",null,"Операция с CashBack-ом еще нет:(")],-1),Y=[X],Z={props:["botUser"],data(){return{cashback:[],cashback_paginate_object:null}},watch:{self:{handler:function(c){this.loadCashBack()},deep:!0}},computed:{...u(["getCashBack","getCashBackPaginateObject"])},mounted(){this.loadCashBack()},methods:{nextCashBackPage(c){this.loadCashBack(c)},loadCashBack(c=0){this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id},page:c}).then(i=>{this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},ot=Object.assign(Z,{__name:"CashBackList",setup(c){return(i,e)=>(s(),a(_,null,[i.cashback.length>0?(s(),a("ul",R,[(s(!0),a(_,null,p(i.cashback,l=>(s(),r(Q,{item:l},null,8,["item"]))),256))])):(s(),a("div",W,Y)),i.cashback_paginate_object?(s(),r(h,{key:2,onPagination_page:i.nextCashBackPage,pagination:i.cashback_paginate_object},null,8,["onPagination_page","pagination"])):n("",!0)],64))}});export{ot as _};
