import{_ as r}from"./CashBackList-2f8bde7e.js";import{j as h,o as a,k as c,n as s,L as l,F as n,M as o,K as d,H as u,p as _}from"./index.es-c4852431.js";import"./Pagination-b758f7ed.js";/* empty css                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const p={key:0,class:"container"},k={class:"row"},m={class:"col-12"},f=s("h6",{class:"opacity-75 my-3"},"Ваш текущий баланс",-1),g={class:"list-group"},B={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},b=s("span",null,"Получено CashBack",-1),y={class:"text-primary fw-bold"},C={class:"col-12"},w={key:0,class:"opacity-75 my-3"},j={key:1,class:"list-group"},v={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},S={class:"text-primary fw-bold"},O={class:"row"},V=s("div",{class:"col-12"},[s("h5",{class:"my-3"},[s("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),_(" История операция")])],-1),N={class:"col-12"},P={data(){return{cashback:[],cashback_paginate_object:null}},watch:{self:{handler:function(e){this.loadCashBack()},deep:!0}},computed:{...h(["getSelf","getCashBack","getCashBackPaginateObject"]),self(){return this.getSelf},tg(){return window.Telegram.WebApp}},mounted(){this.self&&this.loadCashBack(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(e=>e.click()),this.$router.back()})},methods:{nextCashBackPage(e){this.loadCashBack(e)},loadCashBack(e=0){this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.self.telegram_chat_id},page:e}).then(t=>{this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},T=Object.assign(P,{__name:"MyCashBack",setup(e){return(t,$)=>t.self?(a(),c("div",p,[s("div",k,[s("div",m,[f,s("ul",g,[s("li",B,[b,s("span",y,l(t.self.cashBack.amount||0)+" ₽",1)])])]),s("div",C,[t.self.cashBack?(a(),c(n,{key:0},[(t.self.cashBack.subs||[]).length>0?(a(),c("h6",w,"Специальные начисления")):o("",!0),(t.self.cashBack.subs||[]).length>0?(a(),c("ul",j,[(a(!0),c(n,null,d(t.self.cashBack.subs,i=>(a(),c("li",v,[s("span",null,l(i.title||"-"),1),s("span",S,l(i.amount||0)+" ₽",1)]))),256))])):o("",!0)],64)):o("",!0)])]),s("div",O,[V,s("div",N,[t.getSelf?(a(),u(r,{key:0,"bot-user":t.getSelf},null,8,["bot-user"])):o("",!0)])])])):o("",!0)}});export{T as default};
