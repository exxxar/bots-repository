import{g as F,o as a,k as n,l as e,w as c,v as b,N as g,F as p,q as f,C as _,t as m,p as d,s as y,n as r,y as j,a4 as B,j as V,u as U,M as k,K as T,O as w,B as C,x as I}from"./index.es-00b6813f.js";import{a as M}from"./CompanyList-3b531f25.js";import{P as $}from"./TelegramChannelHelper.vue_vue_type_style_index_0_lang-059fda31.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{V as S}from"./vue3-json-editor.esm.prod-f4f06f6a.js";const P={key:0,class:"row"},L={class:"col-12"},A={class:"form-floating mb-3"},E=e("label",{for:"floatingInput"},"Быстрый поиск команды",-1),q={class:"col-12 mb-2"},z={class:"form-check"},R={class:"form-check-label",for:"need_global"},W={key:0},D={key:1},N={class:"form-check"},J=e("label",{class:"form-check-label",for:"need_show_deleted"}," Удаленные ",-1),H={key:0,class:"mb-3 col-12 col-sm-12"},K={class:"table"},G=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Команда"),e("th",{scope:"col"},"Пояснение")])],-1),Z=["onClick"],Q={key:2,class:"mb-3 col-md-12"},X=e("div",{class:"alert alert-danger",role:"alert"}," У Вас еще нет добавленных скриптов! ",-1),Y=[X],x={props:["command","canSelect"],data(){return{bot:null,load:!1,need_global:!0,need_show_deleted:!0,slugs:[],ownSearch:null,paginate:[]}},watch:{ownSearch:function(l,t){this.loadSlugs()},need_global:function(l,t){this.loadSlugs()},need_show_deleted:function(l,t){this.loadSlugs()}},computed:{...F(["getCurrentBot","getSlugs","getSlugsPaginateObject"])},mounted(){this.loadCurrentBot().then(()=>{this.loadSlugs()})},methods:{nextSlugs(l){this.loadSlugs(l)},loadSlugs(l=0){if(this.bot)return this.$store.dispatch("loadSlugs",{dataObject:{botId:this.bot.id,needGlobal:this.need_global,needDeleted:this.need_show_deleted,search:this.ownSearch},page:l}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},loadCurrentBot(l=null){return this.$store.dispatch("updateCurrentBot",{bot:l}).then(()=>{this.bot=this.getCurrentBot})},callbackSlugs(){this.loadSlugs()},selectSlug(l){this.$emit("select",l)}}},ee=Object.assign(x,{__name:"BotSlugSimpleTableList",setup(l){return(t,s)=>t.bot?(a(),n("div",P,[e("div",L,[e("div",A,[c(e("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=i=>t.ownSearch=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[b,t.ownSearch]]),E])]),e("div",q,[e("div",z,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[1]||(s[1]=i=>t.need_global=i),type:"checkbox",id:"need_global"},null,512),[[g,t.need_global]]),e("label",R,[t.need_global?(a(),n("span",W,"Глобальные")):(a(),n("span",D,"Локальные"))])]),e("div",N,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=i=>t.need_show_deleted=i),type:"checkbox",id:"need_show_deleted"},null,512),[[g,t.need_show_deleted]]),J])]),t.slugs?(a(),n("div",H,[e("table",K,[G,e("tbody",null,[(a(!0),n(p,null,f(t.slugs,(i,v)=>(a(),n("tr",{class:_({"border-info":i.deleted_at==null,"border-danger":i.deleted_at!=null})},[e("th",{scope:"row",class:_({"text-danger":i.deleted_at!=null})},m(i.id||"Нет идентификатора"),3),e("td",{onClick:o=>t.selectSlug(i),class:_({"text-danger":i.deleted_at!=null})},m(i.command||"Нет команды"),11,Z),e("td",{class:_({"text-danger":i.deleted_at!=null})},m(i.comment||"Пояснение не указано"),3)],2))),256))])])])):d("",!0),t.paginate?(a(),y($,{key:1,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):d("",!0),t.slugs.length===0?(a(),n("div",Q,Y)):d("",!0)])):d("",!0)}}),te={props:["botsCount"],computed:{profile(){return window.profile||null},maxSlotsCount(){var l,t;return((t=(l=this.profile)==null?void 0:l.manager)==null?void 0:t.max_bot_slot_count)||0},slotsPercent(){return this.botsCount/this.maxSlotsCount*100}}},se={class:"progress",role:"progressbar","aria-label":"Success striped example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"};function oe(l,t,s,i,v,o){return a(),n(p,null,[e("h6",null,[r("Ваши доступные слоты "),e("p",null,[r("Число слотов "),e("strong",null,m(s.botsCount+o.maxSlotsCount),1),r(". Отображается ботов "),e("strong",null,m(s.botsCount),1),r(" шт. под вашим управлением")])]),e("div",se,[e("div",{class:"progress-bar progress-bar-striped bg-success",style:j({width:o.slotsPercent+"%"})},null,4)])],64)}const le=O(te,[["render",oe]]),ae={key:0},ne={key:0,class:"row"},ie={class:"col-md-12"},de=e("h4",null,"Боты в работе",-1),re={class:"mb-0"},ce={class:"table mb-5"},me=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Домен"),e("th",{scope:"col"},"Название"),e("th",{scope:"col"},"Шаблон"),e("th",{scope:"col"},"Дата изменения"),e("th",{scope:"col"},"Действие")])],-1),he={scope:"row"},ue=["onClick"],be=["onClick"],pe={key:0,class:"badge bg-primary"},_e={key:1},fe={class:"d-flex"},ge=["onClick"],ve=e("i",{class:"fa-regular fa-star"},null,-1),ye=[ve],ke=["onClick"],$e=e("i",{class:"fa-solid fa-chevron-down"},null,-1),Fe=[$e],we=["onClick"],Ce=e("i",{class:"fa-solid fa-chevron-up"},null,-1),Be=[Ce],Ve=e("hr",null,null,-1),Se={class:"row"},je={class:"col-md-12 d-flex flex-column"},Ue={class:"d-flex"},Te={class:"dropdown mr-2"},Ie=e("button",{class:"btn btn-outline-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Фильтры ",-1),Me={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Oe=["onClick"],Pe={class:"input-group mb-3"},Le={key:0,class:"mt-2"},Ae={class:"badge bg-primary mr-1"},Ee=["onClick"],qe=e("i",{class:"fa-solid fa-xmark"},null,-1),ze=[qe],Re={key:1,class:"row"},We={class:"col-12"},De=e("h4",null,"Все боты",-1),Ne={class:"mb-0"},Je={class:"mb-0"},He={key:2,class:"row"},Ke={class:"col-12 mb-3"},Ge={key:0,class:"col-12 mb-3"},Ze={class:"table"},Qe=e("th",{scope:"col"},"Действие",-1),Xe={scope:"row"},Ye=["onClick"],xe=["onClick"],et={key:0,class:"badge bg-primary"},tt={key:1},st={class:"d-flex"},ot=["onClick"],lt=e("i",{class:"fa-regular fa-star"},null,-1),at=[lt],nt=["onClick"],it=e("i",{class:"fa-regular fa-copy"},null,-1),dt=[it],rt=["onClick"],ct=e("i",{class:"fa-solid fa-boxes-packing"},null,-1),mt=[ct],ht=["onClick"],ut=e("i",{class:"fa-solid fa-box-open"},null,-1),bt=[ut],pt=["onClick"],_t=e("i",{class:"fa-solid fa-trash-can text-white"},null,-1),ft=[_t],gt={class:"col-lg-4 col-12 mb-3"},vt={class:"card-body"},yt=["onClick"],kt={key:0,class:"badge bg-info"},$t={class:"card-footer d-flex"},Ft=["onClick"],wt=e("i",{class:"fa-regular fa-star"},null,-1),Ct=[wt],Bt=["onClick"],Vt=e("i",{class:"fa-regular fa-copy"},null,-1),St=[Vt],jt=["onClick"],Ut=e("i",{class:"fa-solid fa-boxes-packing"},null,-1),Tt=[Ut],It=["onClick"],Mt=e("i",{class:"fa-solid fa-box-open"},null,-1),Ot=[Mt],Pt=["onClick"],Lt=e("i",{class:"fa-solid fa-trash-can text-white"},null,-1),At=[Lt],Et={class:"col-12"},qt={key:3,class:"row"},zt=e("div",{class:"col-12"},[e("div",{class:"alert alert-warning",role:"alert"}," У выбранной компании нет созданных ботов! ")],-1),Rt=[zt],Wt={props:["companyId","editor"],data(){return{displayType:1,direction:"desc",order:"updated_at",filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],favorites:[],search:null,bots_paginate_object:null}},watch:{displayType:function(l,t){localStorage.setItem("cashman_set_botlist_display_type",this.displayType)},selectedFilters:{handler:function(l){this.loadBots()},deep:!0}},computed:{...F(["getBots","getBotsPaginateObject","getCurrentCompany","getBotFavorites","inBotFav"]),filteredBots(){if(!this.bots)return[];if(this.selectedFilters.length===0&&this.search==null)return this.bots;if(this.selectedFilters.length===0&&this.search!=null)return this.bots.filter(t=>(t.bot_domain||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1);let l=[];return this.selectedFilters.forEach(t=>{switch(t.slug){case"active":this.bots.filter(s=>s.deleted_at==null).forEach(s=>{l.push(s)});break;case"archive":this.bots.filter(s=>s.deleted_at!=null).forEach(s=>{l.push(s)});break}}),this.search==null?l:l.filter(t=>(t.bot_domain||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1)}},mounted(){this.selectFilter("active"),this.displayType=parseInt(localStorage.getItem("cashman_set_botlist_display_type")||0)},methods:{hasRole(l){return window.hasRole(l)||!1},loadBotsByIds(){if(this.getBotFavorites.length==0){this.favorites=[];return}this.loading=!0,this.$store.dispatch("loadBotsByIds",{ids:this.getBotFavorites}).then(l=>{this.loading=!1,this.favorites=l}).catch(()=>{this.loading=!1})},prepareFavorites(){this.$store.dispatch("loadBotFavs").then(l=>{this.loadBotsByIds()})},moveOrderFavBot(l,t){this.$store.dispatch("swapBotInFav",{id:l,direction:t}).then(s=>{this.loadBotsByIds()})},addToFavorite(l){if(this.inBotFav(l)){this.$store.dispatch("removeFromBotFavorites",l).then(t=>{this.$notify("Указанный бот успешно удален из избранного"),this.loadBotsByIds()});return}this.$store.dispatch("addBotToFavorites",l).then(t=>{this.$notify("Указанный бот успешно добавлен в избранное"),this.loadBotsByIds()})},duplicate(l){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:l,company_id:this.getCurrentCompany.id}}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.loadBots(s),this.$notify("Указанный бот успешно продублирован")})},addToArchive(l){this.$store.dispatch("removeBot",{botId:l}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.$store.dispatch("resetCurrentBot"),this.loadBots(s),this.$notify("Указанный бот успешно перемещен в архив")})},forceDelete(l){this.$store.dispatch("forceDeleteBot",{botId:l}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.$store.dispatch("resetCurrentBot"),this.loadBots(s),this.$notify("Указанный бот успешно перемещен из архива")})},extractFromArchive(l){this.$store.dispatch("restoreBot",{botId:l}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.loadBots(s),this.$notify("Указанный бот успешно перемещен из архива")})},selectFilter(l){let t=this.filters.find(s=>s.slug===l);t&&this.selectedFilters.filter(s=>s.slug===l).length===0&&this.selectedFilters.push(t)},removeSelectedFilter(l){let t=this.selectedFilters.findIndex(s=>s.slug===l);this.selectedFilters.splice(t,1)},selectBot(l){this.$emit("callback",l),this.show=!1,this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(l){this.loadBots(l)},loadAndOrder(l){this.order=l,this.direction=this.direction==="desc"?"asc":"desc",this.loadBots(0)},loadBots(l=0){this.loading=!0,this.$store.dispatch("loadBots",{dataObject:{companyId:this.companyId||null,search:this.search,order:this.order,direction:this.direction,filters:this.selectedFilters.map(t=>t.slug)},page:l,size:20}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject,this.prepareFavorites()}).catch(()=>{this.loading=!1})}}},Dt=Object.assign(Wt,{__name:"BotList",setup(l){return(t,s)=>t.show?(a(),n("div",ae,[t.favorites.length>0?(a(),n("div",ne,[e("div",ie,[de,e("p",re,"Количество ботов в работе "+m(t.favorites.length||0),1),e("table",ce,[me,e("tbody",null,[(a(!0),n(p,null,f(t.favorites,(i,v)=>(a(),n("tr",{class:_({"border-info":i.deleted_at==null,"border-danger":i.deleted_at!=null})},[e("th",he,m(i.id),1),e("td",{onClick:o=>t.selectBot(i)},[e("i",{class:_([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),r(" "+m(i.bot_domain||"Не указано"),1)],8,ue),e("td",{onClick:o=>t.selectBot(i)},m(i.title||"Не указано"),9,be),e("td",null,[i.is_template?(a(),n("span",pe,m(i.template_description||"Не указано"),1)):(a(),n("span",_e,"Не является шаблоном"))]),e("td",null,m(t.$filters.current(i.updated_at)),1),e("td",null,[e("div",fe,[e("button",{class:_(["btn btn-outline-danger mr-2",{"btn-danger text-white":t.inBotFav(i.id)}]),type:"button",onClick:o=>t.addToFavorite(i.id),title:"Добавить в избранное"},ye,10,ge),t.favorites.length>1?(a(),n("button",{key:0,class:"btn btn-outline-primary mr-2",type:"button",onClick:o=>t.moveOrderFavBot(i.id,1),title:"Переместить вниз"},Fe,8,ke)):d("",!0),t.favorites.length>1?(a(),n("button",{key:1,class:"btn btn-outline-primary mr-2",type:"button",onClick:o=>t.moveOrderFavBot(i.id,0),title:"Переместить вверх"},Be,8,we)):d("",!0)])])],2))),256))])]),Ve])])):d("",!0),e("div",Se,[e("div",je,[e("div",Ue,[e("div",Te,[Ie,e("ul",Me,[(a(!0),n(p,null,f(t.filters,i=>(a(),n("li",null,[e("a",{class:"dropdown-item",onClick:v=>t.selectFilter(i.slug),href:"#filter"},[e("i",{class:_([i.icon,"mr-2"])},null,2),r(" "+m(i.name||"Не указано"),1)],8,Oe)]))),256))])]),e("div",Pe,[c(e("input",{type:"search",class:"form-control",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),onKeydown:s[1]||(s[1]=B((...i)=>t.loadBots&&t.loadBots(...i),["enter"])),"aria-describedby":"button-addon2"},null,544),[[b,t.search]]),e("button",{class:"btn btn-outline-secondary",onClick:s[2]||(s[2]=(...i)=>t.loadBots&&t.loadBots(...i)),type:"button",id:"button-addon2"},"Найти ")])]),t.selectedFilters.length>0?(a(),n("p",Le,[(a(!0),n(p,null,f(t.selectedFilters,i=>(a(),n("span",Ae,[r(m(i.name||"не указан")+" ",1),e("a",{onClick:v=>t.removeSelectedFilter(i.slug),class:"ml-1 text-white",href:"#filter"},ze,8,Ee)]))),256))])):d("",!0)])]),t.bots_paginate_object?(a(),n("div",Re,[e("div",We,[De,e("p",Ne,"Количество найденных ботов "+m(t.bots_paginate_object.meta.total||0),1),e("p",Je,"Количество результатов на странице "+m(t.bots.length||0),1),e("p",null,[r(" Тип отображения списка: "),e("span",{onClick:s[3]||(s[3]=i=>t.displayType=0),class:_([{"bg-primary":t.displayType===0,"bg-secondary":t.displayType!==0},"badge cursor-pointer mr-2"])},"Карточки",2),e("span",{class:_([{"bg-primary":t.displayType===1,"bg-secondary":t.displayType!==1},"badge cursor-pointer mr-2"]),onClick:s[4]||(s[4]=i=>t.displayType=1)},"Таблица",2)])])])):d("",!0),t.bots.length>0?(a(),n("div",He,[e("div",Ke,[l.editor?d("",!0):(a(),n("button",{key:0,type:"button",class:"btn btn-outline-info",onClick:s[5]||(s[5]=i=>t.selectBot(null))},"Создать нового бота "))]),t.displayType===1?(a(),n("div",Ge,[e("table",Ze,[e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"cursor-pointer",onClick:s[6]||(s[6]=i=>t.loadAndOrder("id"))},"#"),e("th",{scope:"col",class:"cursor-pointer",onClick:s[7]||(s[7]=i=>t.loadAndOrder("bot_domain"))},"Домен"),e("th",{scope:"col",class:"cursor-pointer",onClick:s[8]||(s[8]=i=>t.loadAndOrder("title"))},"Название"),e("th",{scope:"col",class:"cursor-pointer",onClick:s[9]||(s[9]=i=>t.loadAndOrder("template_description"))},"Шаблон"),e("th",{scope:"col",class:"cursor-pointer",onClick:s[10]||(s[10]=i=>t.loadAndOrder("updated_at"))},"Дата изменения"),Qe])]),e("tbody",null,[(a(!0),n(p,null,f(t.bots,(i,v)=>(a(),n("tr",{class:_({"border-info":i.deleted_at==null,"border-danger":i.deleted_at!=null})},[e("th",Xe,m(i.id),1),e("td",{onClick:o=>t.selectBot(i)},[e("i",{class:_([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),r(" "+m(i.bot_domain||"Не указано"),1)],8,Ye),e("td",{onClick:o=>t.selectBot(i)},m(i.title||"Не указано"),9,xe),e("td",null,[i.is_template?(a(),n("span",et,m(i.template_description||"Не указано"),1)):(a(),n("span",tt,"Не является шаблоном"))]),e("td",null,m(t.$filters.current(i.updated_at)),1),e("td",null,[e("div",st,[e("button",{class:_(["btn btn-outline-danger mr-2",{"btn-danger text-white":t.inBotFav(i.id)}]),type:"button",onClick:o=>t.addToFavorite(i.id),title:"Добавить в избранное"},at,10,ot),e("button",{class:"btn btn-outline-info mr-2",type:"button",onClick:o=>t.duplicate(i.id),title:"Дублировать"},dt,8,nt),i.deleted_at==null&&t.hasRole("admin")?(a(),n("button",{key:0,class:"btn btn-outline-info",type:"button",onClick:o=>t.addToArchive(i.id),title:"В архив"},mt,8,rt)):d("",!0),i.deleted_at!=null&&t.hasRole("admin")?(a(),n("button",{key:1,class:"btn btn-outline-info mr-2",onClick:o=>t.extractFromArchive(i.id),title:"Из архива"},bt,8,ht)):d("",!0),i.deleted_at!=null&&t.hasRole("admin")?(a(),n("button",{key:2,class:"btn btn-danger mr-2",onClick:o=>t.forceDelete(i.id),title:"Удалить на совсем"},ft,8,pt)):d("",!0)])])],2))),256))])])])):d("",!0),t.displayType===0?(a(!0),n(p,{key:1},f(t.bots,(i,v)=>(a(),n("div",gt,[e("div",{class:_(["card w-100",{"border-info":i.deleted_at==null,"border-secondary":i.deleted_at!=null}])},[e("div",vt,[e("p",{class:"d-flex justify-content-between",onClick:o=>t.selectBot(i),style:{"word-wrap":"break-word"}},[e("span",null,[e("i",{class:_([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),r(" "+m(i.bot_domain||"Не указано"),1)]),i.is_template?(a(),n("span",kt,m(i.template_description||"Шаблон без названия"),1)):d("",!0)],8,yt)]),e("div",$t,[e("button",{class:_(["btn btn-outline-danger mr-2",{"btn-danger text-white":t.inBotFav(i.id)}]),type:"button",onClick:o=>t.addToFavorite(i.id),title:"Добавить в избранное"},Ct,10,Ft),e("button",{class:"btn btn-outline-info mr-2",type:"button",onClick:o=>t.duplicate(i.id),title:"Дублировать"},St,8,Bt),i.deleted_at==null&&t.hasRole("admin")?(a(),n("button",{key:0,class:"btn btn-outline-info",type:"button",onClick:o=>t.addToArchive(i.id),title:"В архив"},Tt,8,jt)):d("",!0),i.deleted_at!=null&&t.hasRole("admin")?(a(),n("button",{key:1,class:"btn btn-outline-info mr-2",onClick:o=>t.extractFromArchive(i.id),title:"Из архива"},Ot,8,It)):d("",!0),i.deleted_at!=null&&t.hasRole("admin")?(a(),n("button",{key:2,class:"btn btn-danger mr-2",onClick:o=>t.forceDelete(i.id),title:"Удалить на совсем"},At,8,Pt)):d("",!0)])],2)]))),256)):d("",!0),e("div",Et,[t.bots_paginate_object?(a(),y($,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):d("",!0)])])):(a(),n("div",qt,Rt))])):d("",!0)}}),Nt={class:"d-flex align-items-center"},Jt={key:0,style:{width:"40px",height:"40px","border-radius":"50%"},class:"object-fit-cover mr-2",alt:""},Ht={class:"dropdown w-100"},Kt={class:"dropdown-menu"},Gt=e("i",{class:"fa-regular fa-hand-pointer mr-2"},null,-1),Zt=["href"],Qt=e("i",{class:"fa-solid fa-arrow-right-to-bracket mr-2"},null,-1),Xt=e("i",{class:"fa-solid fa-gears mr-2"},null,-1),Yt=e("i",{class:"fa-solid fa-power-off mr-2"},null,-1),xt=["id"],es={class:"modal-dialog modal-xl"},ts={class:"modal-content"},ss=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Поиск ваших ботов"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),os={class:"modal-body"},ls={key:0,class:"nav nav-tabs"},as={class:"nav-item"},ns={class:"nav-item"},is={key:1,class:"px-2 py-3"},ds={class:"container"},rs={class:"row d-flex justify-content-center"},cs={class:"col-md-6 col-12"},ms={class:"input-group my-3"},hs={class:"w-100 d-flex justify-content-center flex-wrap"},us=e("p",{class:"mb-0 text-primary font-bold"},[e("small",null,"Тип сортировки")],-1),bs={class:"list-group d-flex flex-row w-100 justify-content-center"},ps={key:0},_s=e("i",{class:"fa-solid fa-caret-down"},null,-1),fs=[_s],gs={key:1},vs=e("i",{class:"fa-solid fa-caret-up"},null,-1),ys=[vs],ks={key:0},$s=e("i",{class:"fa-solid fa-caret-down"},null,-1),Fs=[$s],ws={key:1},Cs=e("i",{class:"fa-solid fa-caret-up"},null,-1),Bs=[Cs],Vs={key:0},Ss=e("i",{class:"fa-solid fa-caret-down"},null,-1),js=[Ss],Us={key:1},Ts=e("i",{class:"fa-solid fa-caret-up"},null,-1),Is=[Ts],Ms={key:0},Os=e("i",{class:"fa-solid fa-caret-down"},null,-1),Ps=[Os],Ls={key:1},As=e("i",{class:"fa-solid fa-caret-up"},null,-1),Es=[As],qs={key:1,class:"row my-2"},zs={class:"col-12"},Rs={key:0,class:"container pb-5"},Ws={class:"row row-cols-1 row-cols-lg-4 row-cols-md-1 g-4"},Ds={class:"col"},Ns={class:"card h-100"},Js={class:"card-img-top w-100 object-fit-cover",style:{"max-height":"150px"}},Hs={class:"card-body"},Ks={class:"card-title text-center"},Gs={class:"card-title text-center",style:{"font-size":"14px"}},Zs={class:"card-text text-center mb-2"},Qs={class:"card-text text-center mb-2"},Xs={class:"text-center mb-2"},Ys=["onClick"],xs={class:"row my-5"},eo={class:"col-12"},to={key:1,class:"container"},so=e("div",{class:"alert alert-info",role:"alert"},[e("p",null,"У вас еще нет созданных ботов, попробуйте с чего-то простого;)")],-1),oo={class:"d-flex justify-content-center"},lo={key:2,class:"px-2 py-3"},ao={props:["customClass","bot","id"],data(){return{search_modal_tab:0,direction:"desc",order:"updated_at",searchModal:null,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],loading:!0,bots:[],search:null,bots_paginate_object:null}},watch:{},computed:{...F(["getBots","getBotsPaginateObject","getCurrentCompany","getCurrentBot"]),profile(){return window.profile||null},filteredBots(){if(!this.bots)return[];if(this.selectedFilters.length===0&&this.search==null)return this.bots;if(this.selectedFilters.length===0&&this.search!=null)return this.bots.filter(t=>(t.bot_domain||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1);let l=[];return this.selectedFilters.forEach(t=>{switch(t.slug){case"active":this.bots.filter(s=>s.deleted_at==null).forEach(s=>{l.push(s)});break;case"archive":this.bots.filter(s=>s.deleted_at!=null).forEach(s=>{l.push(s)});break}}),this.search==null?l:l.filter(t=>(t.bot_domain||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1)}},mounted(){this.searchModal=new bootstrap.Modal(document.getElementById("bot-search-modal-"+(this.id||"local")),{backdrop:!1}),this.selectFilter("active")},methods:{openBotParams(){window.dispatchEvent(new CustomEvent("open-base-bot-params-event"))},gotoBot(l){this.selectBot(l)},openModal(){this.loadBots(),this.searchModal.show()},resetBot(){window.dispatchEvent(new CustomEvent("reset-current_bot-from-navbar-event")),this.$store.dispatch("resetCurrentBot").then(()=>{}),this.searchModal.hide()},hasRole(l){return window.hasRole(l)||!1},loadBotsByIds(){this.loading=!0,this.$store.dispatch("loadBotsByIds",{ids:[]}).then(l=>{this.loading=!1}).catch(()=>{this.loading=!1})},selectFilter(l){let t=this.filters.find(s=>s.slug===l);t&&this.selectedFilters.filter(s=>s.slug===l).length===0&&this.selectedFilters.push(t)},removeSelectedFilter(l){let t=this.selectedFilters.findIndex(s=>s.slug===l);this.selectedFilters.splice(t,1)},selectBot(l){this.searchModal.hide(),this.$store.dispatch("updateCurrentBot",{bot:l}).then(()=>{}),this.$emit("select-bot",l),this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(l){this.loadBots(l)},loadAndOrder(l){this.order=l,this.direction=this.direction==="desc"?"asc":"desc",this.loadBots(0)},loadBots(l=0){this.loading=!0,this.$store.dispatch("loadBots",{dataObject:{companyId:this.companyId||null,search:this.search,order:this.order,direction:this.direction,filters:this.selectedFilters.map(t=>t.slug)},page:l,size:20}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject}).catch(()=>{this.loading=!1})}}},no=Object.assign(ao,{__name:"BotSearchModal",setup(l){return(t,s)=>{var v,o,u;const i=V("lazy");return a(),n(p,null,[e("div",Nt,[l.bot?c((a(),n("img",Jt,null,512)),[[i,"/images/companies/"+l.bot.bot_domain+"/logo.jpg"]]):d("",!0),e("div",Ht,[e("button",{class:_(l.customClass),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[l.bot?(a(),n(p,{key:1},[r(m(l.bot.bot_domain||"Без имени"),1)],64)):(a(),n(p,{key:0},[r(" Бот не выбран ")],64))],2),e("ul",Kt,[e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:s[0]||(s[0]=(...h)=>t.openModal&&t.openModal(...h))},[Gt,r(" Выбрать бота")])]),l.bot?(a(),n(p,{key:0},[e("li",null,[e("a",{href:"https://t.me/"+(l.bot.bot_domain||"botfather"),class:"dropdown-item",target:"_blank"},[Qt,r(" Перейти в бот")],8,Zt)]),e("li",null,[e("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=(...h)=>t.openBotParams&&t.openBotParams(...h)),class:"dropdown-item"},[Xt,r(" Базовые параметры бота")])]),e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:s[2]||(s[2]=(...h)=>t.resetBot&&t.resetBot(...h))},[Yt,r(" Завершить работу с ботом")])])],64)):d("",!0)])])]),e("div",{class:"modal fade",id:"bot-search-modal-"+(l.id||"local"),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[e("div",es,[e("div",ts,[ss,e("div",os,[(v=t.profile)!=null&&v.is_admin?(a(),n("ul",ls,[e("li",as,[e("a",{onClick:s[3]||(s[3]=h=>t.search_modal_tab=0),class:_([{active:t.search_modal_tab===0},"nav-link"]),"aria-current":"page",href:"javascript:void(0)"},"Базовый поиск",2)]),e("li",ns,[e("a",{onClick:s[4]||(s[4]=h=>t.search_modal_tab=1),class:_([{active:t.search_modal_tab===1},"nav-link"]),href:"javascript:void(0)"},"Административный поиск",2)])])):d("",!0),t.search_modal_tab===0?(a(),n("div",is,[e("div",ds,[t.bots.length>0?(a(),y(le,{key:0,"bots-count":((u=(o=t.bots_paginate_object)==null?void 0:o.meta)==null?void 0:u.total)||0},null,8,["bots-count"])):d("",!0),e("div",rs,[e("div",cs,[e("div",ms,[c(e("input",{type:"search",class:"form-control",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":s[5]||(s[5]=h=>t.search=h),onKeydown:s[6]||(s[6]=B(h=>t.loadBots(0),["enter"])),"aria-describedby":"button-addon2"},null,544),[[b,t.search]]),e("button",{class:"btn btn-outline-secondary",onClick:s[7]||(s[7]=h=>t.loadBots(0)),type:"button",id:"button-addon2"},"Найти ")]),e("div",hs,[us,e("ul",bs,[e("li",{class:"list-inline-item mr-2 cursor-pointer",onClick:s[8]||(s[8]=h=>t.loadAndOrder("id"))},[t.direction==="desc"&&t.order==="id"?(a(),n("span",ps,fs)):d("",!0),t.direction==="asc"&&t.order==="id"?(a(),n("span",gs,ys)):d("",!0),r(" Id ")]),e("li",{class:"list-inline-item mr-2 cursor-pointer",onClick:s[9]||(s[9]=h=>t.loadAndOrder("title"))},[t.direction==="desc"&&t.order==="title"?(a(),n("span",ks,Fs)):d("",!0),t.direction==="asc"&&t.order==="title"?(a(),n("span",ws,Bs)):d("",!0),r(" Название бота ")]),e("li",{class:"list-inline-item mr-2 cursor-pointer",onClick:s[10]||(s[10]=h=>t.loadAndOrder("bot_domain"))},[t.direction==="desc"&&t.order==="bot_domain"?(a(),n("span",Vs,js)):d("",!0),t.direction==="asc"&&t.order==="bot_domain"?(a(),n("span",Us,Is)):d("",!0),r(" Домен бота ")]),e("li",{class:"list-inline-item mr-2 cursor-pointer",onClick:s[11]||(s[11]=h=>t.loadAndOrder("updated_at"))},[t.direction==="desc"&&t.order==="updated_at"?(a(),n("span",Ms,Ps)):d("",!0),t.direction==="asc"&&t.order==="updated_at"?(a(),n("span",Ls,Es)):d("",!0),r(" Дата обновления ")])])])])]),t.bots.length>0?(a(),n("div",qs,[e("div",zs,[t.bots_paginate_object?(a(),y($,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):d("",!0)])])):d("",!0)]),t.bots.length>0?(a(),n("div",Rs,[e("div",Ws,[(a(!0),n(p,null,f(t.bots,h=>(a(),n("div",Ds,[e("div",Ns,[c(e("img",Js,null,512),[[i,"/images/companies/"+h.bot_domain+"/logo.jpg"]]),e("div",Hs,[e("h6",Ks,"#"+m(h.id),1),e("h5",Gs,m(h.title||h.id),1),e("p",Zs," Баланс "+m(h.balance||"0")+" руб ",1),e("p",Qs," Тариф "+m(h.tax_per_day||"0")+" руб\\день ",1),e("p",Xs,[e("small",null,m(t.$filters.currentFull(h.updated_at)),1)])]),e("div",{class:_(["card-footer",{"bg-danger":(h.bot_token||"").length<40,"bg-success":(h.bot_token||"").length>=40}])},[e("button",{type:"button",onClick:$d=>t.gotoBot(h),class:"btn btn-link text-white w-100"},"Редактировать ",8,Ys)],2)])]))),256))]),e("div",xs,[e("div",eo,[t.bots_paginate_object?(a(),y($,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):d("",!0)])])])):(a(),n("div",to,[so,e("div",oo,[e("button",{class:"btn btn-primary",onClick:s[12]||(s[12]=(...h)=>t.resetBot&&t.resetBot(...h))},"Поехали создавать")])]))])):d("",!0),t.search_modal_tab===1?(a(),n("div",lo,[U(Dt,{onCallback:t.gotoBot},null,8,["onCallback"])])):d("",!0)])])])],8,xt)],64)}}});const io={key:0,class:"h-100 gradient-form"},ro={class:"container py-5 h-100"},co={class:"row d-flex justify-content-center align-items-center h-100"},mo={class:"col-xl-10"},ho={class:"card rounded-3 text-black"},uo={class:"row g-0"},bo={class:"col-lg-6 d-flex align-items-center bg-primary"},po={class:"text-white px-3 py-4 p-md-5 mx-md-4"},_o={class:"d-flex justify-content-center mb-3"},fo={alt:"",width:"100",height:"100"},go=I('<h4 class="mb-4">Добро пожаловать в раздел создания бота!</h4><p class="small mb-2"> Здесь вы можете легко управлять своими Telegram-ботами: создавать новых, настраивать команды, анализировать статистику и многое другое. Войдите в систему, чтобы получить доступ ко всем возможностям платформы. Если у вас ещё нет аккаунта, зарегистрируйтесь — это займёт всего несколько минут. </p><p class="small mb-2 fw-bold"> Для начала рекомендуем ознакомится с обучением! </p><a href="https://telegra.ph/Sozdanie-telegram-bota-02-02" target="_blank" class="btn w-100 btn-outline-light text-center p-3 mb-2"><i class="fas fa-graduation-cap"></i> Обучение </a><p class="small mb-2"> Начните прямо сейчас и сделайте своих ботов ещё умнее и полезнее! 🚀 </p><a href="https://t.me/botfather" target="_blank" class="btn w-100 btn-outline-light text-center p-3 mb-2"><i class="fab fa-telegram"></i> Создать бота в Телеграм </a>',6),vo={class:"col-lg-6"},yo={class:"card-body p-md-5 mx-md-4"},ko=e("div",{class:"text-center"},[e("h1",{class:"text-primary"},"NextIT"),e("h4",{class:"mt-1 mb-2 pb-1"},"Современные решения для бизнеса")],-1),$o={key:0,class:"alert alert-warning"},Fo=e("p",{class:"mb-2"},[r("Перед добавлением токена выберите "),e("span",{class:"fw-bold text-primary"},"тип бота")],-1),wo={class:"row"},Co={class:"col-md-6 mb-2"},Bo=e("i",{class:"fas fa-robot mb-3",style:{"font-size":"20px"}},null,-1),Vo=e("h6",{style:{"font-size":"14px","text-align":"center"}},[r("Чистый бот"),e("br"),r("(без шаблона)")],-1),So=[Bo,Vo],jo={class:"col-md-6 mb-2"},Uo=["onClick"],To=["innerHTML"],Io={style:{"font-size":"14px","text-align":"center"}},Mo=e("p",{class:"mb-2"},[e("em",null,[e("small",null,"Для начала создания бота добавьте токен телеграм бота")])],-1),Oo={class:"form-floating mb-3"},Po=e("label",{class:"form-label",id:"bot-token"}," Токен бота ",-1),Lo=e("p",{class:"mb-2"},[e("em",null,[e("small",null,"Или выберите существующего бота для редактирования")])],-1),Ao={class:"row"},Eo={class:"col-md-8 order-2 mb-2 order-md-1 col-12"},qo={class:"row"},zo={class:"col-12"},Ro={class:"nav nav-tabs justify-content-center"},Wo={key:1,class:"nav-item"},Do=e("a",{class:"nav-link text-secondary",href:"javascript:void(0)"},[e("i",{class:"fa-solid fa-triangle-exclamation mr-1"}),r(" Обратная связь")],-1),No=[Do],Jo={class:"row py-3"},Ho={class:"col-md-12 col-12"},Ko={class:"input-group mb-3"},Go={class:"form-floating"},Zo=e("label",{class:"form-label",id:"bot-domain"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Доменное имя бота (загружается автоматически) ")],-1),Qo={class:"input-group-text"},Xo={key:0,style:{width:"40px"},class:"object-fit-cover",alt:""},Yo={key:1,style:{width:"40px"},class:"object-fit-cover",alt:""},xo={key:0,class:"col-md-12 col-12"},el={class:"form-check mb-3"},tl=["value"],sl=e("label",{class:"form-check-label",for:"bot-is-template"}," Сделать шаблоном ",-1),ol={key:1,class:"col-md-12 col-12"},ll={class:"form-floating mb-3"},al=e("label",{class:"form-label",id:"bot-template-description"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Название шаблона бота ")],-1),nl={class:"col-md-12 col-12"},il={class:"card"},dl={class:"card-body"},rl=e("h6",null,"Настройка параметров бота в BotFather",-1),cl={class:"form-floating mb-3"},ml={class:"form-label d-flex justify-content-between align-items-center",id:"bot-title"},hl={key:0},ul={key:0,class:"text-secondary"},bl=e("div",{class:"alert alert-info",role:"alert"}," Данное описание видно в момент, когда пользователь делится ссылкой на бота, а также при нажатии на иконку бота. ",-1),pl={class:"form-floating mb-3"},_l={class:"form-label",id:"bot-short-description"},fl={key:0,class:"text-secondary"},gl=e("div",{class:"alert alert-info",role:"alert"},[r(" Данное описание видно при первом запуске бота, оно должно содержать информацию о возможностях бота: "),e("ul",{class:"m-0 pl-2"},[e("li",null,"- система лояльности"),e("li",null,"- колесо фортуны"),e("li",null,"- интернет-магазин"),e("li",null,"- реферальная система")]),r(" и т.д. ")],-1),vl={class:"mb-3 form-floating"},yl={class:"form-label",id:"bot-long-description"},kl={key:0,class:"text-secondary"},$l={class:"row"},Fl={class:"col-6"},wl={class:"form-check"},Cl=e("label",{class:"form-check-label",for:"needMenuBtn"}," Нужна кнопка меню ",-1),Bl={key:0,class:"col-12"},Vl={class:"input-group mb-3"},Sl={class:"form-floating"},jl=e("label",{for:""},"Текст кнопки меню",-1),Ul={class:"form-floating"},Tl=e("label",{for:""},"URL-адрес перехода",-1),Il=e("i",{class:"fa-solid fa-link"},null,-1),Ml=[Il],Ol=e("h6",{class:"fw-bold mb-2"},"Пользовательские команды ",-1),Pl={key:0,class:"col-12"},Ll=e("div",{class:"alert alert-primary",role:"alert"},[e("strong",null,"Внимание!"),r(" Отображать пользователю команду "),e("strong",{class:"text-danger"},"/adminmenu"),r(" плохая идея. Команда доступна только администраторам системы, а обычный пользователь будет видеть ошибку. Это создаст негативное восприятие от работы сервиса. ")],-1),Al=[Ll],El={class:"col-12"},ql={class:"input-group mb-3"},zl={class:"form-floating"},Rl=["onUpdate:modelValue","aria-describedby"],Wl=e("label",{for:""},"Команда",-1),Dl={class:"form-floating"},Nl=["onUpdate:modelValue","aria-describedby"],Jl=e("label",{for:""},"Описание команды",-1),Hl=["onClick"],Kl=e("i",{class:"fa-regular fa-trash-can"},null,-1),Gl=[Kl],Zl={class:"row"},Ql={class:"col-6"},Xl=e("i",{class:"fa-regular fa-square-plus"},null,-1),Yl={class:"col-6 d-flex justify-content-end"},xl={class:"form-check"},ea=e("label",{class:"form-check-label",for:"showCode"}," Отобразить код ",-1),ta={class:"row"},sa={key:0,class:"col-12 mb-3"},oa=e("label",{class:"form-label",id:"bot-domain"},"JSON-код клавиатуры",-1),la={class:"row py-3"},aa={class:"col-md-4 col-12"},na={class:"form-floating mb-3"},ia=e("label",{class:"form-label",id:"bot-level-1"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Уровень 1 CashBack, % ")],-1),da={class:"col-md-4 col-12"},ra={class:"form-floating mb-3"},ca=e("label",{class:"form-label",id:"bot-level-2"},"Уровень 2 CashBack, %",-1),ma={class:"col-md-4 col-12"},ha={class:"form-floating mb-3"},ua=e("label",{class:"form-label",id:"bot-level-3"},"Уровень 3 CashBack, %",-1),ba={class:"mb-2"},pa={class:"form-check"},_a=e("label",{class:"form-check-label",for:"need-cashback-fired"}," Необходимо настроить период сгорания CashBack ",-1),fa={key:0,class:"col-md-12 col-12"},ga={class:"form-floating mb-3"},va=["value"],ya=e("label",{class:"form-label",id:"cashback-fired-period"},"Период сгорания CashBack",-1),ka={key:0,class:"mb-3"},$a=e("label",{class:"form-label",id:"cashback-fired-level"},"Уровень сгорания CashBack, %",-1),Fa={class:"col-md-12 col-12"},wa={class:"form-floating mb-3"},Ca=e("label",{class:"form-label",id:"cashback-max_cashback_use_percent"}," Автоматическое списание CashBack при покупке, % от цены товара",-1),Ba={class:"col-12 mb-2"},Va={class:"form-check"},Sa=e("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему ",-1),ja={key:1,class:"col-md-12 col-12"},Ua={class:"form-check mb-3 ml-3"},Ta=["value"],Ia=e("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),Ma={class:"input-group mb-3"},Oa={class:"form-floating"},Pa=e("label",{class:"form-label",id:"payment_provider_token"},"Токен платежной системы",-1),La=e("a",{class:"input-group-text",href:"https://t.me/botfather",target:"_blank"},"Подключить",-1),Aa={class:"col-12 mb-2"},Ea={class:"form-check"},qa=e("label",{class:"form-check-label",for:"need-shop"}," Необходимо интегрировать магазин в бота ",-1),za={key:2,class:"col-md-12 col-12"},Ra={class:"input-group mb-3"},Wa={class:"form-floating"},Da=e("label",{class:"form-label",id:"bot-vk_shop_link"},"Ссылка на группу ВК с товарами",-1),Na=e("a",{class:"input-group-text",href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),Ja={class:"mb-2"},Ha={class:"form-check"},Ka=e("label",{class:"form-check-label",for:"need-cashback-config"}," Необходимо настроить CashBack по категориям ",-1),Ga={key:3,class:"mb-2"},Za=e("h6",null,"Настройка категорий CashBack-а",-1),Qa=e("div",{class:"alert alert-light",role:"alert"}," Категории CashBack - это возможность разделить накопления и траты CashBack пользователями бота на указанные цели, например, кофейня может создать категории: на кофе, на десерты - и начислять баллы за купленный кофе отдельно от баллов за купленный десерт ",-1),Xa={class:"input-group mb-2 w-100"},Ya={class:"form-floating"},xa=["onUpdate:modelValue","aria-describedby"],en=e("label",{for:""},"Название категории",-1),tn=["onClick"],sn=e("i",{class:"fa-regular fa-trash-can"},null,-1),on=[sn],ln=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),an={class:"mb-2"},nn={class:"form-check"},dn=e("label",{class:"form-check-label",for:"need-cashback-rules"}," Необходимо настроить оповещения под CashBack ",-1),rn={key:4,class:"col-md-12 col-12 mb-2"},cn={class:"form-floating mb-2"},mn=e("option",{value:null},"Не выбрано",-1),hn=["value"],un=e("label",{class:"form-check-label",for:"warning-rules"},[e("i",{class:"fa-solid fa-triangle-exclamation text-danger"}),r(" Правила критических оповещений ")],-1),bn={class:"input-group mb-2"},pn={class:"input-group-text"},_n={class:"form-check"},fn=["onUpdate:modelValue","id"],gn=["for"],vn={key:0},yn={key:1},kn={class:"form-floating"},$n=["onUpdate:modelValue"],Fn={for:""},wn=["onClick"],Cn=e("i",{class:"fa-solid fa-trash-can"},null,-1),Bn=[Cn],Vn={class:"row py-3"},Sn=e("div",{class:"col-12"},[e("div",{class:"alert alert-light",role:"alert"},[e("strong",null,"Внимание!"),r(' Пропишите сообщение "Мой id" в группе и выполните указания бота ')])],-1),jn={class:"col-md-6 col-12"},Un={class:"form-floating mb-3"},Tn=e("label",{class:"form-label",id:"bot-order-channel"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Канал для заказов (id) ")],-1),In={class:"col-md-6 col-12"},Mn={class:"form-floating mb-3"},On=e("label",{class:"form-label",id:"bot-main-channel"},"Канал для постов (id,рекламный)",-1),Pn={key:0,class:"col-12 mb-2"},Ln={class:"form-check"},An=e("label",{class:"form-check-label",for:"need-topics-mailing"}," Необходимо добавить рассылку по топикам для канала заказов (он же системный канал) ",-1),En={key:1,class:"col-12 mb-2"},qn=e("div",{class:"alert alert-light"},[r(" Для автоматического создания топиков и заполнения информации по ним выполните следующие действий: "),e("ul",{class:"m-0 p-0"},[e("li",null,"1.Создайте группу"),e("li",null,"2.Добавьте в группу вашего бота"),e("li",null,"3.Выдайте все административные права боту"),e("li",null,[r("4.Переведите группу в режим работы с темами в настройках группы ("),e("strong",{class:"fw-bold text-primary"},'переключатель "Темы"'),r(") ")]),e("li",null,[r("5.Пропишите сообщение "),e("strong",{class:"fw-bold text-primary"},'"Мой id"'),r(" в группе и выполните указания бота ")])])],-1),zn={class:"row row-cols-3"},Rn={class:"col"},Wn={class:"form-floating mb-2"},Dn=["onUpdate:modelValue"],Nn={for:""},Jn=e("h6",{class:"mb-2 mt-3"},"Сообщения",-1),Hn={class:"mb-3 form-floating"},Kn={class:"form-label",id:"bot-maintenance-message"},Gn=e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Zn={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},Qn={class:"row py-3"},Xn=e("div",{class:"col-12"},[e("div",{class:"alert alert-primary",role:"alert"},' Внешний сервис находится в эксперементальном режиме. Он нужен для связывания команд (страниц) бота с программой Клиента (если есть такая необходимость). Если на странице бота выбрано "внешнее управление", то все запросы будут переадесрованы на указанную ниже ссылку. ')],-1),Yn={class:"col-md-12 col-12"},xn={class:"form-floating mb-3"},ei=e("label",{class:"form-label",id:"callback_link"},"Ссылка на внешний сервис обработки данных ",-1),ti={class:"col-md-4 order-1 mb-2 order-md-2 col-12"},si={class:"card mb-2 border-light"},oi={class:"card-body"},li={class:"form-floating mb-2"},ai=e("label",{class:"form-label",id:"bot-token"}," Токен бота ",-1),ni=["disabled"],ii={key:0},di={key:1},ri=e("i",{class:"fa-regular fa-floppy-disk"},null,-1),ci={key:0,class:"input-group mb-2"},mi={class:"form-floating"},hi=["disabled"],ui=["disabled","value"],bi=e("label",{for:"floatingSelect"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Выбор сервера размещения")],-1),pi=["disabled"],_i=e("i",{class:"fa-solid fa-right-left"},null,-1),fi=[_i],gi={class:"card border-light mb-2"},vi={class:"card-body"},yi={key:0},ki=["href"],$i=e("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1),Fi={key:1,type:"button","data-bs-toggle":"modal","data-bs-target":"#bot-balance-payment",class:"btn btn-primary p-3 w-100 mb-3"},wi=e("div",{class:"col-12"},[e("div",{class:"alert alert-primary",role:"alert"},[e("strong",null,"Внимание!"),r(" Внесите сумму, которую вам дал Клиент! Эта сумма будет балансом Клиента для работы бота! Укажите тариф бота - это сумма, которую система будет списывать с клиента каждый день пока баланс бота не будет равен 0. "),e("br"),e("strong",null,"Внимание!"),r(" Вы можете начислить какую-то небольшую сумму для того чтобы клиент протестировал работу бота. При достижении нулевого баланса клиент будет оповещен об этом и должен будет пополнить счёт бота! ")])],-1),Ci={class:"col-md-12 col-12"},Bi={class:"mb-3 form-floating"},Vi=e("label",{class:"form-label",id:"bot-balance"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Баланс бота, руб ")],-1),Si={class:"col-md-12 col-12"},ji={class:"mb-3 form-floating"},Ui=e("label",{class:"form-label",id:"bot-tax-per-day"},[e("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно"),r(" Списание за сутки, руб ")],-1),Ti={class:"card border-light"},Ii={class:"card-body"},Mi={class:"col-md-12 col-12"},Oi={class:"form-check mb-3"},Pi=["value"],Li=e("label",{class:"form-check-label",for:"bot-select-company"}," Выбрать клиента из списка ",-1),Ai={key:0,class:"font-bold"},Ei={key:0,class:"col-md-12 col-12"},qi={class:"w-100 p-2",style:{"overflow-y":"scroll","max-height":"300px"}},zi={class:"row"},Ri={class:"col-12"},Wi={class:"alert alert-danger alert-dismissible fade show",role:"alert"},Di=e("strong",null,"Внимание!",-1),Ni=["onClick"],Ji={class:"modal fade",id:"bot-balance-payment",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Hi={class:"modal-dialog"},Ki=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Пополнение баланса бота"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Gi={class:"modal-body"},Zi={class:"alert alert-light mb-2"},Qi={class:"mb-2"},Xi={class:"text-primary fw-bold"},Yi={class:"mb-2"},xi={class:"text-primary fw-bold"},ed={class:"mb-2"},td={class:"text-primary fw-bold"},sd=e("p",{class:"mb-2"},[e("strong",{class:"fw-bold"},"Важно!"),r(" Будьте внимательны при указании суммы пополнения, отменить данную операцию будет невозможно!")],-1),od={key:0,class:"d-flex flex-wrap mb-2"},ld={class:"form-floating mb-3"},ad=["max"],nd=e("label",{for:"bot-balance"},"Вносимая сумма, ₽",-1),id={class:"modal-footer"},dd=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть",-1),rd=["disabled"],cd={class:"modal fade",id:"select-script-for-menu",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},md={class:"modal-dialog modal-lg"},hd={class:"modal-content"},ud=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Выбор скрипта"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),bd={class:"modal-body"},pd=e("div",{class:"alert alert-light"}," Внимание! Необходимо выбрать тип скрипта в меню ",-1),_d={class:"row row-cols-3"},fd={class:"col mb-2"},gd=["onClick"],vd={class:"card-body text-center cursor-pointer text-primary fw-bold"},yd=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),kd={components:{Vue3JsonEditor:S},props:["bot"],data(){return{balanceForm:{amount:0},load_photo:!0,loadCommandEditor:!0,select_script_modal:null,select_script_step:0,script_types:[{title:"Магазин",uri:"/menu"},{title:"Отзывы",uri:"/feedback"},{title:"Колесо фортуны",uri:"/wheel"},{title:"Профиль",uri:"/profile"},{title:"Заказы",uri:"/orders"},{title:"Ввод промокода",uri:"/new-promo-code"},{title:"Контакты",uri:"/contacts"},{title:"Корзина",uri:"/cart"}],showCode:!1,tab:0,bot_types:[],spent_time_counter:0,can_create:!0,can_create_topics:!0,messages:[],servers:[],need_company_select:!1,selected_warning:null,page:null,step:0,templates:[],load:!1,loadPage:!1,needPageListUpdate:!1,need_threads:!1,need_company:!1,need_cashback_config:!1,need_cashback_rules:!1,need_cashback_fired:!1,need_payments:!1,need_shop:!1,command:null,company:null,warnings:[{title:"Сумма чека больше чем",key:"bill_sum_more_then"},{title:"Сумма начисления кэшбэка больше чем",key:"cashback_up_sum_more_then"},{title:"Сумма списания кэшбэка больше чем",key:"cashback_down_sum_more_then"}],cashback_fire_periods:[{title:"Не сгорает",value:0},{title:"7 дней",value:7},{title:"15 дней",value:15},{title:"30 дней",value:30},{title:"60 дней",value:60},{title:"60 дней",value:90},{title:"120 дней",value:120},{title:"180 дней",value:180},{title:"360 дней",value:360}],needMenuBtn:!1,botForm:{title:"Название бота",short_description:"Описание в шапке бота",long_description:"Описание при первом запуске бота",bot_type:0,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,company_id:null,creator_id:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,server:"main",main_channel:null,vk_shop_link:null,callback_link:null,balance:70,tax_per_day:10,welcome_message:"Приветствую!",image:null,cashback_fire_percent:0,cashback_fire_period:0,max_cashback_use_percent:0,description:"Это ваш бот! Вот такое вот описание у него.",info_link:null,social_links:[],maintenance_message:"Технические работы",payment_provider_token:null,level_1:10,level_2:0,level_3:0,commands:null,menu:{text:"Меню",url:null},selected_bot_template_id:null,pages:[],amo:null,warnings:[]}}},watch:{isValidTelegramToken:{handler(l){var t;(t=this.profile)!=null&&t.is_admin&&(this.servers||[]).length===0&&this.loadCurrentServers()},deep:!0},"botForm.bot_token":{handler(l){this.isValidTelegramToken&&this.getMe()},deep:!0},need_threads:function(l,t){let s=[{title:"Отзывы",key:"reviews",value:null},{title:"Начисление cashback",key:"cashback",value:null},{title:"Вопросы",key:"questions",value:null},{title:"Конкурсы",key:"actions",value:null},{title:"Заказы",key:"orders",value:null},{title:"Вывод средств",key:"ask-money",value:null},{title:"Доставка",key:"delivery",value:null},{title:"Ответы",key:"response",value:null},{title:"Обратная связь",key:"callback",value:null}];this.need_threads&&!this.botForm.message_threads&&(this.botForm.message_threads=s),this.need_threads&&this.botForm.message_threads&&s.forEach(i=>{this.botForm.message_threads.findIndex(o=>o.key===i.key)===-1&&this.botForm.message_threads.push(i)})},need_payments:function(l,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},computed:{...F(["getSlugs","getCurrentCompany"]),profile(){return window.profile},isValidTelegramToken(){return this.botForm.bot_token?/^[0-9]{8,10}:[a-zA-Z0-9_-]{35}$/.test(this.botForm.bot_token):!1},filteredWarnings(){return this.botForm.warnings.length===0?this.warnings:this.warnings.filter(l=>!(this.botForm.warnings.findIndex(t=>t.rule_key===l.key)>=0))}},mounted(){if(this.getActualBotTypes(),this.select_script_modal=new bootstrap.Modal("#select-script-for-menu",{}),localStorage.getItem("cashman_admin_bot_creator_counter")!=null){let l=localStorage.getItem("cashman_admin_bot_creator_counter");this.startTimer(l==="null"||l==null?0:l)}window.addEventListener("store_current_company-change-event",l=>{this.company=this.getCurrentCompany}),window.addEventListener("add-payment-system-event",l=>{this.tab=1,this.need_payments=!0,this.$nextTick(()=>{let t=document.querySelector("#payment_provider_token-input");t.classList="form-control border-danger",t.focus(),setTimeout(()=>{let s=document.querySelector("#payment_provider_token-input");s.classList="form-control"},5e3)})}),this.bot?this.$nextTick(()=>{this.botForm={id:this.bot.id||null,title:this.bot.title||"",short_description:this.bot.short_description||"",long_description:this.bot.long_description||"",is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,message_threads:this.bot.message_threads||null,cashback_config:this.bot.cashback_config||null,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,server:this.bot.server||"main",tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,callback_link:this.bot.callback_link||null,cashback_fire_percent:this.bot.cashback_fire_percent||0,cashback_fire_period:this.bot.cashback_fire_period||0,max_cashback_use_percent:this.bot.max_cashback_use_percent||0,image:this.bot.image||null,description:this.bot.description||null,creator_id:this.bot.creator_id||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1,level_2:this.bot.level_2,level_3:this.bot.level_3,company_id:this.bot.company_id,commands:this.bot.commands||null,warnings:this.bot.warnings||[],amo:this.bot.amo||null,menu:{text:"Меню",url:null}},Array.isArray(this.botForm.commands)||(this.botForm.commands=[]),this.botForm.menu=this.bot.menu||{text:"Меню",url:null},this.botForm.menu.url!==null&&(this.needMenuBtn=!0),this.botForm.commands==null&&this.autoAddCommands(),this.botForm.message_threads&&(this.need_threads=!0),this.botForm.payment_provider_token&&(this.need_payments=!0),(this.botForm.cashback_config||[]).length>0&&(this.need_cashback_config=!0),this.botForm.warnings.length>0&&(this.need_cashback_rules=!0),this.botForm.cashback_fire_period>0&&(this.need_cashback_fired=!0),this.bot.company&&(this.company=this.bot.company)}):this.botForm.commands==null&&this.autoAddCommands()},methods:{selectPaymentVariant(l){this.balanceForm.amount=Math.min(this.bot.tax_per_day*31*l,this.profile.manager.balance)},submitBotBalancePayment(){this.startTimer();let l=new FormData;Object.keys(this.balanceForm).forEach(t=>{const s=this.balanceForm[t]||"";typeof s=="object"?l.append(t,JSON.stringify(s)):l.append(t,s)}),l.append("bot_domain",this.bot.bot_domain),this.$store.dispatch("setBotBalance",{form:l}).then(t=>{this.balanceForm.amount=0,this.$notify({title:"Пополнение баланса",text:"Отлично! Баланс бота успешно пополнен",type:"success"}),window.location.reload()}).catch(()=>{this.$notify({title:"Пополнение баланса",text:"Ошибка пополнения баланса бота",type:"error"})})},getActualBotTypes(){this.$store.dispatch("getActualBotTypes").then(l=>{this.bot_types=l||[]})},openSelectScriptModal(){this.select_script_step=0,this.select_script_modal.show()},selectBot(l){this.$emit("callback")},autoAddCommands(){this.botForm.commands=[{command:"/start",description:"начни с этой команды"},{command:"/admins",description:"доступные администраторы в системе"},{command:"/help",description:"как использовать систему"},{command:"/about",description:"о CashMan"}]},startTimer(l){this.spent_time_counter=l!=null?Math.min(l,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.spent_time_counter=null),localStorage.setItem("cashman_admin_bot_creator_counter",this.spent_time_counter)},1e3)},alert(l,t=null){t!=null&&(this.tab=t),this.messages.push(l)},removeMessage(l){this.messages.splice(l,1)},getMe(){let l=this.botForm.bot_token||"";l.length<40||this.$store.dispatch("getMe",{bot_token:l}).then(t=>{let s=t.username||null,i=t.first_name||null;s&&(this.botForm.bot_domain=s),i&&(this.botForm.title=i),this.load_photo=!1,this.$nextTick(()=>{this.load_photo=!0})})},addTextTo(l={param:null,text:null}){this.botForm[l.param]=l.text},removeCommands(l){this.botForm.commands.splice(l,1),this.loadCommandEditor=!1,this.$nextTick(()=>{this.loadCommandEditor=!0})},addCommands(){this.botForm.commands||(this.botForm.commands=[]),this.botForm.commands.push({command:null,description:null}),this.loadCommandEditor=!1,this.$nextTick(()=>{this.loadCommandEditor=!0})},loadCurrentServers(){this.$store.dispatch("loadCurrentServers").then(l=>{this.servers=l})},addItem(l){this.botForm[l].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(l,t){this.botForm[l].splice(t,1)},updateWebHook(){this.$store.dispatch("updateBotWebhook",{dataObject:{bot_id:this.bot.id,bot_server:this.botForm.server||null}}).catch(l=>{this.alert(l.response.data.message)})},addBot(){this.startTimer();let l=new FormData;Object.keys(this.botForm).forEach(t=>{const s=this.botForm[t]||"";typeof s=="object"?l.append(t,JSON.stringify(s)):l.append(t,s)}),this.company&&l.append("company_id",this.company.id),this.$store.dispatch(this.bot==null?"createBot":"updateBot",{botForm:l}).then(t=>{let s=t.data;this.$emit("callback",s),this.$notify({title:"Конструктор ботов",text:this.bot==null?"Бот успешно создан!":"Бот успешно обновлен!",type:"success"}),this.$store.dispatch("updateBotWebhook",{dataObject:{bot_id:s.id}}).catch(i=>{this.alert(i.response.data.message)}),this.bot==null&&(this.botForm={title:"",server:"main",short_description:"",long_description:"",is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,main_channel:null,balance:null,tax_per_day:null,callback_link:null,cashback_fire_percent:0,cashback_fire_period:0,max_cashback_use_percent:0,image:null,description:null,info_link:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,warnings:[],selected_bot_template_id:null,pages:[]})}).catch(t=>{this.$notify({title:"Конструктор ботов",text:t.response.data.message,type:"error"})})},onJsonChange(l){this.botForm.commands=l},removeCashBackConfig(l){this.botForm.cashback_config.splice(l,1)},addCashBackConfig(){this.botForm.cashback_config=this.botForm.cashback_config==null?[]:this.botForm.cashback_config,this.botForm.cashback_config.push({title:null})},getWarning(l){let t=this.warnings.find(s=>s.key===l);return t||{title:"Не найдено"}},removeWarning(l){this.botForm.warnings.splice(l,1)},companyListCallback(l){this.load=!0,this.company=l,this.botForm.company_id=l.id,this.need_company_select=!1,this.$nextTick(()=>{this.load=!1})},selectVariant(l){this.select_script_step++,this.botForm.menu.text=l.title||"Меню",this.botForm.menu.url="https://your-cashman.com/bot-client/simple/"+this.bot.bot_domain+"?slug="+l.id+"#/s"},selectVariantStep2(l){this.botForm.menu.url+=l.uri,this.select_script_modal.hide(),this.select_script_step=0,this.$notify({title:"Конструктор ботов",text:"Скрипт успешно выбран",type:"success"})},addWarning(){const l=this.selected_warning;this.botForm.warnings.push({rule_key:l.key,rule_value:0,is_active:!0}),this.selected_warning=null}}},Sd=Object.assign(kd,{__name:"BotForm",setup(l){return(t,s)=>{var v;const i=V("lazy");return a(),n(p,null,[e("form",{class:"mb-5",ref:"botForm",onSubmit:s[62]||(s[62]=C((...o)=>t.addBot&&t.addBot(...o),["prevent"]))},[t.isValidTelegramToken?d("",!0):(a(),n("section",io,[e("div",ro,[e("div",co,[e("div",mo,[e("div",ho,[e("div",uo,[e("div",bo,[e("div",po,[e("div",_o,[c(e("img",fo,null,512),[[i,"../images/icon.png"]])]),go])]),e("div",vo,[e("div",yo,[ko,!t.isValidTelegramToken&&((v=t.botForm.bot_token)==null?void 0:v.length)>0?(a(),n("div",$o," Токен не действительный! ")):d("",!0),Fo,e("div",wo,[e("div",Co,[e("div",{onClick:s[0]||(s[0]=o=>t.botForm.bot_type=0),class:_([{"border-primary":t.botForm.bot_type===0},"card cursor-pointer"]),style:{height:"120px"}},[e("div",{class:_([{"text-primary":t.botForm.bot_type===0},"card-body d-flex flex-column justify-content-center align-items-center p-3"])},So,2)],2)]),(a(!0),n(p,null,f(t.bot_types,(o,u)=>(a(),n("div",jo,[e("div",{class:_(["card cursor-pointer",{"border-primary":t.botForm.bot_type===o.id}]),onClick:h=>t.botForm.bot_type=o.id,style:{height:"120px"}},[e("div",{class:_([{"text-primary":t.botForm.bot_type===o.id},"card-body d-flex flex-column justify-content-center align-items-center p-3"])},[o.icon?(a(),n("span",{key:0,innerHTML:o.icon},null,8,To)):d("",!0),e("h6",Io,m(o.title),1)],2)],10,Uo)]))),256))]),Mo,e("div",Oo,[c(e("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":s[1]||(s[1]=o=>t.botForm.bot_token=o),maxlength:"255",minlength:"40",onInvalid:s[2]||(s[2]=o=>t.alert("Вы не ввели токен бота!")),"aria-describedby":"bot-token",required:""},null,544),[[b,t.botForm.bot_token]]),Po]),Lo,t.load?d("",!0):(a(),y(no,{key:1,"custom-class":"btn btn-primary p-3 w-100 dropdown-toggle",onSelectBot:t.selectBot,bot:l.bot},null,8,["onSelectBot","bot"]))])])])])])])])])),t.isValidTelegramToken?(a(),n(p,{key:1},[e("div",Ao,[e("div",Eo,[e("div",qo,[e("div",zo,[e("ul",Ro,[e("li",{class:"nav-item",onClick:s[3]||(s[3]=o=>t.tab=0)},[e("a",{class:_(["nav-link",{active:t.tab===0}]),href:"javascript:void(0)"},"Базовые настройки",2)]),e("li",{class:"nav-item",onClick:s[4]||(s[4]=o=>t.tab=1)},[e("a",{class:_(["nav-link",{active:t.tab===1}]),href:"javascript:void(0)"},"Кэшбэк&Финансы",2)]),t.botForm.id!=null?(a(),n("li",{key:0,class:"nav-item",onClick:s[5]||(s[5]=o=>t.tab=2)},[e("a",{class:_(["nav-link",{active:t.tab===2}]),href:"javascript:void(0)"},"Обратная связь",2)])):d("",!0),t.botForm.id==null?(a(),n("li",Wo,No)):d("",!0)])])]),c(e("div",Jo,[e("div",Ho,[e("div",Ko,[e("div",Go,[c(e("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота",disabled:!0,name:"bot_domain",onInvalid:s[6]||(s[6]=o=>t.alert("Вы не ввели доменное имя бота!",0)),"onUpdate:modelValue":s[7]||(s[7]=o=>t.botForm.bot_domain=o),maxlength:"255","aria-describedby":"bot-domain",required:""},null,544),[[b,t.botForm.bot_domain]]),Zo]),e("span",Qo,[t.load_photo?c((a(),n("img",Xo,null,512)),[[i,"/images/companies/"+t.botForm.bot_domain+"/logo.jpg"]]):c((a(),n("img",Yo,null,512)),[[i,"/images/icon.png"]])])])]),t.profile.is_admin?(a(),n("div",xo,[e("div",el,[c(e("input",{class:"form-check-input",type:"checkbox",value:t.botForm.is_template||!1,"onUpdate:modelValue":s[8]||(s[8]=o=>t.botForm.is_template=o),id:"bot-is-template"},null,8,tl),[[g,t.botForm.is_template]]),sl])])):d("",!0),t.botForm.is_template?(a(),n("div",ol,[e("div",ll,[c(e("input",{type:"text",class:"form-control",placeholder:"Название \\ описание шаблона","aria-label":"Описание шаблона","onUpdate:modelValue":s[9]||(s[9]=o=>t.botForm.template_description=o),maxlength:"255",onInvalid:s[10]||(s[10]=o=>t.alert("Вы не ввели название шаблона!")),"aria-describedby":"bot-template-description",required:""},null,544),[[b,t.botForm.template_description]]),al])])):d("",!0),e("div",nl,[e("div",il,[e("div",dl,[rl,e("div",cl,[c(e("input",{type:"text",class:"form-control",placeholder:"Текст названия","aria-label":"Текст названия","onUpdate:modelValue":s[11]||(s[11]=o=>t.botForm.title=o),maxlength:"64","aria-describedby":"bot-title"},null,512),[[b,t.botForm.title]]),e("label",ml,[t.botForm.title?(a(),n("span",hl,[r(" Название бота "),t.botForm.title.length>0?(a(),n("small",ul,"Длина текста "+m(t.botForm.title.length)+"/64",1)):d("",!0)])):d("",!0)])]),bl,e("div",pl,[c(e("textarea",{class:"form-control",placeholder:"Описание в шапке бота","aria-label":"Описание в шапке бота","onUpdate:modelValue":s[12]||(s[12]=o=>t.botForm.short_description=o),maxlength:"105",style:{"min-height":"100px"},"aria-describedby":"bot-short-description"},`
                                        `,512),[[b,t.botForm.short_description]]),e("label",_l,[e("span",null,[r(" Описание в шапке бота "),t.botForm.short_description.length>0?(a(),n("small",fl,"Длина текста "+m(t.botForm.short_description.length)+"/105",1)):d("",!0)])])]),gl,e("div",vl,[c(e("textarea",{class:"form-control",placeholder:"Описание возможностей бота","aria-label":"Описание возможностей бота","onUpdate:modelValue":s[13]||(s[13]=o=>t.botForm.long_description=o),maxlength:"505",style:{"min-height":"200px"},"aria-describedby":"bot-long-description"},null,512),[[b,t.botForm.long_description]]),e("label",yl,[e("span",null,[r(" Описание возможностей бота "),t.botForm.long_description.length>0?(a(),n("small",kl,"Длина текста "+m(t.botForm.long_description.length)+"/505",1)):d("",!0)])])]),e("div",$l,[e("div",Fl,[e("div",wl,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=o=>t.needMenuBtn=o),id:"needMenuBtn"},null,512),[[g,t.needMenuBtn]]),Cl])]),t.needMenuBtn?(a(),n("div",Bl,[e("div",Vl,[e("div",Sl,[c(e("input",{type:"text",class:"form-control",placeholder:"Текст кнопки меню","aria-label":"Текст кнопки меню",maxlength:"255",onInvalid:s[15]||(s[15]=o=>t.alert("Текст кнопки меню!",0)),"onUpdate:modelValue":s[16]||(s[16]=o=>t.botForm.menu.text=o),required:""},null,544),[[b,t.botForm.menu.text]]),jl]),e("div",Ul,[c(e("input",{type:"url",class:"form-control",placeholder:"Адрес перехода URL","aria-label":"Адрес перехода URL",maxlength:"255",onInvalid:s[17]||(s[17]=o=>t.alert("Вы не ввели адрес меню!",0)),"onUpdate:modelValue":s[18]||(s[18]=o=>t.botForm.menu.url=o),required:""},null,544),[[b,t.botForm.menu.url]]),Tl]),e("button",{type:"button",onClick:s[19]||(s[19]=(...o)=>t.openSelectScriptModal&&t.openSelectScriptModal(...o)),class:"input-group-text px-2 text-primary",id:"basic-addon1"},Ml)])])):d("",!0)]),Ol,(a(!0),n(p,null,f(t.botForm.commands,(o,u)=>(a(),n("div",{class:"row",key:"commands-"+u},[t.botForm.commands[u].command==="/adminmenu"?(a(),n("div",Pl,Al)):d("",!0),e("div",El,[e("div",ql,[e("div",zl,[c(e("input",{type:"text",class:"form-control",placeholder:"Название команды","aria-label":"Название команды",maxlength:"255",onInvalid:s[20]||(s[20]=h=>t.alert("Вы не ввели название команды",0)),"onUpdate:modelValue":h=>t.botForm.commands[u].command=h,"aria-describedby":"bot-command-"+u,required:""},null,40,Rl),[[b,t.botForm.commands[u].command]]),Wl]),e("div",Dl,[c(e("input",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255",onInvalid:s[21]||(s[21]=h=>t.alert("Вы не ввели описание команды!",0)),"onUpdate:modelValue":h=>t.botForm.commands[u].description=h,"aria-describedby":"bot-command-description-"+u,required:""},null,40,Nl),[[b,t.botForm.commands[u].description]]),Jl]),e("button",{class:"input-group-text text-danger",onClick:h=>t.removeCommands(u)},Gl,8,Hl)])])]))),128)),e("div",Zl,[e("div",Ql,[e("button",{type:"button",onClick:s[22]||(s[22]=o=>t.addCommands()),class:"btn btn-link text-primary text-decoration-none p-0"},[Xl,r(" Добавить еще команду ")])]),e("div",Yl,[e("div",xl,[c(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[23]||(s[23]=o=>t.showCode=o),id:"showCode"},null,512),[[g,t.showCode]]),ea])])]),e("div",ta,[t.showCode?(a(),n("div",sa,[oa,t.loadCommandEditor?(a(),y(T(S),{key:0,mode:"code",modelValue:t.botForm.commands,"onUpdate:modelValue":s[24]||(s[24]=o=>t.botForm.commands=o),"show-btns":!1,expandedOnStart:!0,onJsonChange:t.onJsonChange},null,8,["modelValue","onJsonChange"])):d("",!0)])):d("",!0)])])])])],512),[[k,t.tab===0]]),c(e("div",la,[e("div",aa,[e("div",na,[c(e("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":s[25]||(s[25]=o=>t.botForm.level_1=o),min:"0",onInvalid:s[26]||(s[26]=o=>t.alert("Вы не ввели значение кэшбэка 1 уровня бота!",1)),"aria-describedby":"bot-level-1",required:""},null,544),[[b,t.botForm.level_1]]),ia])]),e("div",da,[e("div",ra,[c(e("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":s[27]||(s[27]=o=>t.botForm.level_2=o),min:"0","aria-describedby":"bot-level-2"},null,512),[[b,t.botForm.level_2]]),ca])]),e("div",ma,[e("div",ha,[c(e("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":s[28]||(s[28]=o=>t.botForm.level_3=o),min:"0","aria-describedby":"bot-level-3"},null,512),[[b,t.botForm.level_3]]),ua])]),e("div",ba,[e("div",pa,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[29]||(s[29]=o=>t.need_cashback_fired=o),type:"checkbox",id:"need-cashback-fired"},null,512),[[g,t.need_cashback_fired]]),_a])]),t.need_cashback_fired?(a(),n("div",fa,[e("div",ga,[c(e("select",{class:"form-control","onUpdate:modelValue":s[30]||(s[30]=o=>t.botForm.cashback_fire_period=o),id:"cashback-fired-period"},[(a(!0),n(p,null,f(t.cashback_fire_periods,o=>(a(),n("option",{value:o.value},m(o.title||"Не указано"),9,va))),256))],512),[[w,t.botForm.cashback_fire_period]]),ya]),t.botForm.cashback_fire_period>0?(a(),n("div",ka,[$a,c(e("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень сгорания CashBack","onUpdate:modelValue":s[31]||(s[31]=o=>t.botForm.cashback_fire_percent=o),min:"0",max:"100","aria-describedby":"cashback-fired-level"},null,512),[[b,t.botForm.cashback_fire_percent]])])):d("",!0)])):d("",!0),e("div",Fa,[e("div",wa,[c(e("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"процент для списания CashBack при покупке","onUpdate:modelValue":s[32]||(s[32]=o=>t.botForm.max_cashback_use_percent=o),min:"0",max:"100","aria-describedby":"cashback-max_cashback_use_percent"},null,512),[[b,t.botForm.max_cashback_use_percent]]),Ca])]),e("div",Ba,[e("div",Va,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[33]||(s[33]=o=>t.need_payments=o),type:"checkbox",id:"need-payments"},null,512),[[g,t.need_payments]]),Sa])]),t.need_payments?(a(),n("div",ja,[e("div",Ua,[c(e("input",{class:"form-check-input",type:"checkbox",value:t.botForm.auto_cashback_on_payments,"onUpdate:modelValue":s[34]||(s[34]=o=>t.botForm.auto_cashback_on_payments=o),id:"bot-auto-cashback-on-payments"},null,8,Ta),[[g,t.botForm.auto_cashback_on_payments]]),Ia]),e("div",Ma,[e("div",Oa,[c(e("input",{type:"text",class:"form-control",id:"payment_provider_token-input",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":s[35]||(s[35]=o=>t.botForm.payment_provider_token=o),"aria-describedby":"payment_provider_token"},null,512),[[b,t.botForm.payment_provider_token]]),Pa]),La])])):d("",!0),e("div",Aa,[e("div",Ea,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[36]||(s[36]=o=>t.need_shop=o),type:"checkbox",id:"need-shop"},null,512),[[g,t.need_shop]]),qa])]),t.need_shop?(a(),n("div",za,[e("div",Ra,[e("div",Wa,[c(e("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":s[37]||(s[37]=o=>t.botForm.vk_shop_link=o),"aria-describedby":"vk_shop_link"},null,512),[[b,t.botForm.vk_shop_link]]),Da]),Na])])):d("",!0),e("div",Ja,[e("div",Ha,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[38]||(s[38]=o=>t.need_cashback_config=o),type:"checkbox",id:"need-cashback-config"},null,512),[[g,t.need_cashback_config]]),Ka])]),t.need_cashback_config?(a(),n("div",Ga,[Za,Qa,(a(!0),n(p,null,f(t.botForm.cashback_config,(o,u)=>(a(),n("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+u},[e("div",Xa,[e("div",Ya,[c(e("input",{type:"text",class:"form-control",placeholder:"Название категории","aria-label":"Название категории",maxlength:"255",onInvalid:s[39]||(s[39]=h=>t.alert("Вы не ввели название категории!",1)),"onUpdate:modelValue":h=>t.botForm.cashback_config[u].title=h,"aria-describedby":"bot-cashback-config-"+u,required:""},null,40,xa),[[b,t.botForm.cashback_config[u].title]]),en]),e("button",{type:"button",onClick:h=>t.removeCashBackConfig(u),class:"input-group-text text-danger"},on,8,tn)])]))),128)),e("button",{type:"button",onClick:s[40]||(s[40]=o=>t.addCashBackConfig()),class:"btn mb-2 rounded-sm btn-outline-primary p-3 w-100"}," Добавить категорию "),ln])):d("",!0),e("div",an,[e("div",nn,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[41]||(s[41]=o=>t.need_cashback_rules=o),type:"checkbox",id:"need-cashback-rules"},null,512),[[g,t.need_cashback_rules]]),dn])]),t.need_cashback_rules?(a(),n("div",rn,[e("div",cn,[c(e("select",{class:"form-control","onUpdate:modelValue":s[42]||(s[42]=o=>t.selected_warning=o),onChange:s[43]||(s[43]=(...o)=>t.addWarning&&t.addWarning(...o)),id:"warning-rules"},[mn,(a(!0),n(p,null,f(t.filteredWarnings,o=>(a(),n("option",{value:o},m(o.title),9,hn))),256))],544),[[w,t.selected_warning]]),un]),(a(!0),n(p,null,f(t.botForm.warnings,(o,u)=>(a(),n("div",bn,[e("div",pn,[e("div",_n,[c(e("input",{class:"form-check-input","onUpdate:modelValue":h=>t.botForm.warnings[u].is_active=h,type:"checkbox",id:"warning-is-active-"+u},null,8,fn),[[g,t.botForm.warnings[u].is_active]]),e("label",{class:"form-check-label",style:{"font-size":"12px"},for:"warning-is-active-"+u},[t.botForm.warnings[u].is_active?(a(),n("span",vn,"Включено")):(a(),n("span",yn,"Выключено"))],8,gn)])]),e("div",kn,[c(e("input",{type:"number",class:"form-control",placeholder:"Значение","onUpdate:modelValue":h=>t.botForm.warnings[u].rule_value=h,min:"0","aria-describedby":"bot-level-3"},null,8,$n),[[b,t.botForm.warnings[u].rule_value]]),e("label",Fn,m(t.getWarning(o.rule_key).title||"Не найдено"),1)]),e("button",{onClick:h=>t.removeWarning(u),type:"button",class:"input-group-text text-danger"},Bn,8,wn)]))),256))])):d("",!0)],512),[[k,t.tab===1]]),c(e("div",Vn,[Sn,e("div",jn,[e("div",Un,[c(e("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала",disabled:"true","onUpdate:modelValue":s[44]||(s[44]=o=>t.botForm.order_channel=o),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[b,t.botForm.order_channel]]),Tn])]),e("div",In,[e("div",Mn,[c(e("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":s[45]||(s[45]=o=>t.botForm.main_channel=o),maxlength:"255",disabled:"true","aria-describedby":"bot-main-channel"},null,512),[[b,t.botForm.main_channel]]),On])]),t.botForm.order_channel?(a(),n("div",Pn,[e("div",Ln,[c(e("input",{class:"form-check-input","onUpdate:modelValue":s[46]||(s[46]=o=>t.need_threads=o),type:"checkbox",id:"need-topics-mailing"},null,512),[[g,t.need_threads]]),An])])):d("",!0),t.need_threads&&t.botForm.order_channel?(a(),n("div",En,[qn,e("div",zn,[(a(!0),n(p,null,f(t.botForm.message_threads,(o,u)=>(a(),n("div",Rn,[e("div",Wn,[c(e("input",{type:"number",class:"form-control",min:"0",max:"10000",placeholder:"Идентификатор топика","onUpdate:modelValue":h=>t.botForm.message_threads[u].value=h},null,8,Dn),[[b,t.botForm.message_threads[u].value]]),e("label",Nn,m(o.title)+" ("+m(o.key)+")",1)])]))),256))]),Jn,e("div",Hn,[c(e("textarea",{type:"text",class:"form-control",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":s[47]||(s[47]=o=>t.botForm.maintenance_message=o),maxlength:"255",style:{"min-height":"200px"},onInvalid:s[48]||(s[48]=o=>t.alert("Вы не ввели сообщение для технических работ бота!",3)),"aria-describedby":"bot-maintenance-message",required:""},null,544),[[b,t.botForm.maintenance_message]]),e("label",Kn,[Gn,r(" Сообщение для режима тех.работ "),t.botForm.maintenance_message?(a(),n("small",Zn," Длина текста "+m(t.botForm.maintenance_message.length),1)):d("",!0)])])])):d("",!0)],512),[[k,t.tab===2]]),c(e("div",Qn,[Xn,e("div",Yn,[e("div",xn,[c(e("input",{type:"url",class:"form-control",placeholder:"Ссылка на внешний сервис","aria-label":"ссылка на внешний сервис","onUpdate:modelValue":s[49]||(s[49]=o=>t.botForm.callback_link=o),"aria-describedby":"callback_link"},null,512),[[b,t.botForm.callback_link]]),ei])])],512),[[k,t.tab===4]])]),e("div",ti,[e("div",si,[e("div",oi,[e("div",li,[c(e("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":s[50]||(s[50]=o=>t.botForm.bot_token=o),maxlength:"255",minlength:"40",onInvalid:s[51]||(s[51]=o=>t.alert("Вы не ввели токен бота!")),"aria-describedby":"bot-token",required:""},null,544),[[b,t.botForm.bot_token]]),ai]),e("button",{type:"submit",id:"save-bot-btn",onClick:s[52]||(s[52]=o=>t.messages=[]),disabled:!t.botForm.bot_token||t.spent_time_counter>0,title:"Сохранение бота",class:"btn btn-primary min-menu-btn w-100"},[t.spent_time_counter>0?(a(),n(p,{key:0},[r(" Осталось подождать "+m(t.spent_time_counter)+" сек. ",1)],64)):(a(),n(p,{key:1},[l.bot?(a(),n("span",di,[ri,r(" Сохранить изменения")])):(a(),n("span",ii,"Добавить бота"))],64))],8,ni)])]),t.profile.is_admin?(a(),n("div",ci,[e("div",mi,[c(e("select",{class:"form-select",required:"",disabled:t.servers.length===0,"onUpdate:modelValue":s[53]||(s[53]=o=>t.botForm.server=o),id:"floatingSelect","aria-label":"Floating label select example"},[(a(!0),n(p,null,f(t.servers,o=>(a(),n("option",{disabled:o.disabled,value:o.key},m(o.title||"без названия")+" ("+m(o.current_count||0)+" из "+m(o.max_bot_limit||0)+") ",9,ui))),256))],8,hi),[[w,t.botForm.server]]),bi]),e("button",{onClick:s[54]||(s[54]=(...o)=>t.updateWebHook&&t.updateWebHook(...o)),disabled:l.bot==null,class:"input-group-text text-danger"},fi,8,pi)])):d("",!0),e("div",gi,[e("div",vi,[t.botForm.bot_domain?(a(),n("p",yi,"Проверить работу бота")):d("",!0),e("a",{class:"btn btn-success w-100 p-3 mb-3",href:"https://t.me/"+t.botForm.bot_domain,target:"_blank"},[$i,r(" "+m(t.botForm.bot_domain),1)],8,ki),t.profile.is_manager?(a(),n("button",Fi,"Пополнить баланс бота ")):d("",!0),t.profile.is_admin?(a(),n(p,{key:2},[wi,e("div",Ci,[e("div",Bi,[c(e("input",{type:"number",class:"form-control",placeholder:"Баланс","aria-label":"Баланс","onUpdate:modelValue":s[55]||(s[55]=o=>t.botForm.balance=o),min:"0",onInvalid:s[56]||(s[56]=o=>t.alert("Вы не ввели сумму баланса бота!",1)),"aria-describedby":"bot-balance",required:""},null,544),[[b,t.botForm.balance]]),Vi])]),e("div",Si,[e("div",ji,[c(e("input",{type:"number",class:"form-control",placeholder:"Списание","aria-label":"Списание","onUpdate:modelValue":s[57]||(s[57]=o=>t.botForm.tax_per_day=o),min:"0",onInvalid:s[58]||(s[58]=o=>t.alert("Вы не ввели сумму списания бота!",1)),"aria-describedby":"bot-tax-per-day",required:""},null,544),[[b,t.botForm.tax_per_day]]),Ui])])],64)):d("",!0)])]),e("div",Ti,[e("div",Ii,[e("div",Mi,[e("div",Oi,[c(e("input",{class:"form-check-input",type:"checkbox",value:t.need_company_select,"onUpdate:modelValue":s[59]||(s[59]=o=>t.need_company_select=o),id:"bot-select-company"},null,8,Pi),[[g,t.need_company_select]]),Li]),t.botForm.company_id==null?(a(),n("p",{key:0,class:"alert alert-danger",onClick:s[60]||(s[60]=o=>t.need_company_select=!0)},"Внимание! Вы не выбрали клиента!")):(a(),n("p",{key:1,class:"card alert alert-success cursor-pointer",onClick:s[61]||(s[61]=o=>t.need_company_select=!0)},[r(" Выбран клиент "),t.company?(a(),n("span",Ai,"#"+m(t.company.id)+" "+m(t.company.title),1)):d("",!0)]))]),t.need_company_select?(a(),n("div",Ei,[r("s "),e("div",qi,[t.load?d("",!0):(a(),y(M,{key:0,"is-simple":!0,selected:t.botForm.company_id,onCallback:t.companyListCallback},null,8,["selected","onCallback"]))])])):d("",!0)])])])]),e("div",zi,[e("div",Ri,[t.messages.length>0?(a(!0),n(p,{key:0},f(t.messages,(o,u)=>(a(),n("div",Wi,[Di,r(" "+m(o||"Ошибка")+" ",1),e("button",{type:"button",class:"btn-close",onClick:h=>t.removeMessage(u)},null,8,Ni)]))),256)):d("",!0)])])],64)):d("",!0)],32),e("div",Ji,[e("div",Hi,[e("form",{onSubmit:s[68]||(s[68]=C((...o)=>t.submitBotBalancePayment&&t.submitBotBalancePayment(...o),["prevent"])),class:"modal-content"},[Ki,e("div",Gi,[l.bot&&t.profile?(a(),n(p,{key:0},[e("div",Zi,[e("p",Qi,[r("Общий баланс: "),e("strong",Xi,m(t.profile.manager.balance||0)+" ₽",1)]),e("p",Yi,[r("Тариф в боте "),e("strong",xi,m(l.bot.tax_per_day)+" ₽\\день",1)]),e("p",ed,[r("Баланс в боте "),e("strong",td,m(l.bot.balance)+" ₽",1)]),sd]),t.profile.manager.balance>0?(a(),n("div",od,[e("button",{type:"button",onClick:s[63]||(s[63]=o=>t.selectPaymentVariant(1)),class:"btn btn-light text-primary"},"1 месяц "),e("button",{type:"button",onClick:s[64]||(s[64]=o=>t.selectPaymentVariant(3)),class:"btn btn-light text-primary"},"3 месяца "),e("button",{type:"button",onClick:s[65]||(s[65]=o=>t.selectPaymentVariant(6)),class:"btn btn-light text-primary"},"6 месяцев "),e("button",{type:"button",onClick:s[66]||(s[66]=o=>t.selectPaymentVariant(12)),class:"btn btn-light text-primary"},"1 год ")])):d("",!0),e("div",ld,[c(e("input",{type:"number",min:"1","onUpdate:modelValue":s[67]||(s[67]=o=>t.balanceForm.amount=o),max:t.profile.manager.balance||0,class:"form-control",id:"bot-balance",placeholder:"name@example.com"},null,8,ad),[[b,t.balanceForm.amount]]),nd])],64)):d("",!0)]),e("div",id,[dd,e("button",{type:"submit",disabled:t.spent_time_counter>0,class:"btn btn-primary"},[t.spent_time_counter>0?(a(),n(p,{key:0},[r(" Осталось подождать "+m(t.spent_time_counter)+" сек. ",1)],64)):(a(),n(p,{key:1},[r(" Пополнить баланс ")],64))],8,rd)])],32)])]),e("div",cd,[e("div",md,[e("div",hd,[ud,e("div",bd,[t.select_script_step===0?(a(),y(ee,{key:0,onSelect:s[69]||(s[69]=o=>t.selectVariant(o))})):d("",!0),t.select_script_step===1?(a(),n(p,{key:1},[pd,e("div",_d,[(a(!0),n(p,null,f(t.script_types,o=>(a(),n("div",fd,[e("div",{class:"card",onClick:u=>t.selectVariantStep2(o)},[e("div",vd,m(o.title),1)],8,gd)]))),256))])],64)):d("",!0)]),yd])])])],64)}}});export{Sd as _,Dt as a,no as b,ee as c};
