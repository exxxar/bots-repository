import{R as l}from"./ReturnToBot-463a5d25.js";import{g as h,o as e,j as i,l as t,K as o,n as a,L as c,k as r}from"./index.es-db843bab.js";import"./_plugin-vue_export-helper-c27b6911.js";const p={key:0},u={key:0,class:"card card-style"},b={class:"content mb-2"},k=t("h3",null,"Основная статистика",-1),w=t("p",null," Сводка всех показателей эффективности работы системы ",-1),y={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},m=t("thead",null,[t("tr",{class:"bg-gray1-dark"},[t("th",{scope:"col",class:"color-theme"},"Ключ"),t("th",{scope:"col",class:"color-theme"},"Значение")])],-1),f=t("th",{scope:"row"},"Всего пользователей в БД",-1),g={class:"font-weight-bold"},v=t("th",{scope:"row"},"Всего VIP",-1),S={class:"font-weight-bold"},B=t("th",{scope:"row"},"Администраторы в БД",-1),F={class:"font-weight-bold"},N=t("th",{scope:"row"},"Администраторы за работой",-1),V={class:"font-weight-bold"},U=t("th",{scope:"row"},"Пользователей за день",-1),$={class:"font-weight-bold"},j=t("th",{scope:"row"},"VIP за день",-1),C={class:"font-weight-bold"},I=t("th",{scope:"row"},"Выдано кэшбэка за день, руб",-1),L={class:"font-weight-bold"},P={key:0},R=t("th",{scope:"row"},"Списано кэшбэка за день, руб",-1),T={class:"font-weight-bold"},D={key:0},E=t("th",{scope:"row"},"Всего кэшбэка на счету у пользователей, руб",-1),G={class:"font-weight-bold"},K={key:0},O=t("th",{scope:"row"},"Всего кэшбэка начислено пользователям, руб",-1),q={class:"font-weight-bold"},z={key:0},A=t("th",{scope:"row"},"Всего кэшбэка списано у пользователей, руб",-1),H={class:"font-weight-bold"},J={key:0},M=t("th",{scope:"row"},"Всего за день начислено кэшбэка первого уровня, руб",-1),Q={class:"font-weight-bold"},W={key:0},X=t("th",{scope:"row"},"Всего за день начислено кэшбэка второго уровня, руб",-1),Y={class:"font-weight-bold"},Z={key:0},x=t("th",{scope:"row"},"Всего за день начислено кэшбэка третьего уровня, руб",-1),tt={class:"font-weight-bold"},st={key:0},ot={key:1,class:"text-danger"},et=t("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),it={key:1,class:"card card-style bg-red2-dark"},at=t("div",{class:"content"},[t("h4",{class:"color-white"},"Внимание!"),t("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),ct=[at],_t={data(){return{botUser:null,statistic:null,loading:!1}},computed:{...h(["getSelf"])},watch:{getSelf:function(){this.botUser=this.getSelf,this.prepareStatistic()}},mounted(){this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic())},methods:{prepareStatistic(){return this.$store.dispatch("statisticLoad").then(_=>{this.statistic=_.statistic})},downloadBotStatistic(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotStatistic").then(_=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})}}},ht=Object.assign(_t,{__name:"Statistic",setup(_){return(s,n)=>s.botUser?(e(),i("div",p,[s.botUser.is_admin?(e(),i("div",u,[t("div",b,[k,w,s.statistic?(e(),i("table",y,[m,t("tbody",null,[t("tr",null,[f,t("td",g,o(s.statistic.users_in_bd||0),1)]),t("tr",null,[v,t("td",S,o(s.statistic.vip_in_bd||0),1)]),t("tr",null,[B,t("td",F,o(s.statistic.admin_in_bd||0),1)]),t("tr",null,[N,t("td",V,o(s.statistic.work_admin_in_bd||0),1)]),t("tr",null,[U,t("td",$,o(s.statistic.users_in_bd_today||0),1)]),t("tr",null,[j,t("td",C,o(s.statistic.vip_in_bd_today||0),1)]),t("tr",null,[I,t("td",L,[a(o((s.statistic.cashback_day_up||0).toFixed(2))+" ",1),s.statistic.cashback_day_up_people_count?(e(),i("strong",P,"("+o(s.statistic.cashback_day_up_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[R,t("td",T,[a(o((s.statistic.cashback_day_down||0).toFixed(2))+" ",1),s.statistic.cashback_day_down_people_count?(e(),i("strong",D,"("+o(s.statistic.cashback_day_down_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[E,t("td",G,[a(o((s.statistic.summary_cashback||0).toFixed(2))+" ",1),s.statistic.summary_cashback_people_count?(e(),i("strong",K,"("+o(s.statistic.summary_cashback_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[O,t("td",q,[a(o((s.statistic.cashback_summary_up||0).toFixed(2))+" ",1),s.statistic.cashback_summary_up_people_count?(e(),i("strong",z,"("+o(s.statistic.cashback_summary_up_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[A,t("td",H,[a(o((s.statistic.cashback_summary_down||0).toFixed(2))+" ",1),s.statistic.cashback_summary_down_people_count?(e(),i("strong",J,"("+o(s.statistic.cashback_summary_down_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[M,t("td",Q,[a(o((s.statistic.cashback_day_up_level_1||0).toFixed(2))+" ",1),s.statistic.cashback_day_up_level_1_people_count?(e(),i("strong",W,"("+o(s.statistic.cashback_day_up_level_1_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[X,t("td",Y,[a(o((s.statistic.cashback_day_up_level_2||0).toFixed(2))+" ",1),s.statistic.cashback_day_up_level_2_people_count?(e(),i("strong",Z,"("+o(s.statistic.cashback_day_up_level_2_people_count)+" чел)",1)):c("",!0)])]),t("tr",null,[x,t("td",tt,[a(o((s.statistic.cashback_day_up_level_3||0).toFixed(2))+" ",1),s.statistic.cashback_day_up_level_3_people_count?(e(),i("strong",st,"("+o(s.statistic.cashback_day_up_level_3_people_count)+" чел)",1)):c("",!0)])])])])):(e(),i("p",ot,"Статистика еще не загружена")),t("a",{href:"javascript:void(0)",onClick:n[0]||(n[0]=(...d)=>s.downloadBotStatistic&&s.downloadBotStatistic(...d)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[et,a(" Скачать статистику ")]),r(l)])])):(e(),i("div",it,ct))])):c("",!0)}});export{ht as default};
