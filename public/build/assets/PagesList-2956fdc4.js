import{j as g,o as a,k as n,n as o,N as u,Y as h,F as d,K as p,p as _,L as r,M as l,H as b}from"./index.es-c4852431.js";import{P as m}from"./Pagination-b758f7ed.js";const P={class:"search-box bg-theme rounded-xs shadow-xs bottom-0 mb-2"},f=o("i",{class:"fa fa-search"},null,-1),k={key:0,class:"list-group w-100"},y={class:"list-group-item cursor-pointer page-menu-item btn btn-outline-info mb-3"},j={class:"d-flex justify-content-between align-items-center"},v=["onClick"],w={key:0},C={key:1},M=o("i",{class:"fa-solid fa-lock"},null,-1),$=[M],x=["onClick"],L=o("i",{class:"fa-solid fa-ellipsis"},null,-1),N=[L],B={key:2,class:"alert alert-warning",role:"alert"},O={props:["current","editor"],data(){return{bot:null,loading:!0,pages:[],search:null,pages_paginate_object:null,need_new_page:!1}},computed:{...g(["getPages","getPagesPaginateObject"])},mounted(){this.loadPages(),window.addEventListener("reload-page-list",e=>{this.loadPages()})},methods:{openPageMenuModal(e){this.$botPages.open(e)},selectPage(e){this.$emit("callback",e),this.$botNotification.notification("Страницы","Вы выбрали страницу из списка! Все остальные действия будут производится для этой страницы")},nextPages(e){this.loadPages(e)},loadPages(e=0){this.loading=!0,this.$store.dispatch("loadPages",{dataObject:{search:this.search},page:e}).then(t=>{this.loading=!1,this.pages=this.getPages,this.pages_paginate_object=this.getPagesPaginateObject}).catch(()=>{this.loading=!1})}}},F=Object.assign(O,{__name:"PagesList",setup(e){return(t,i)=>(a(),n(d,null,[o("div",P,[f,u(o("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>t.search=s),class:"border-0",placeholder:"Поиск страницы"},null,512),[[h,t.search]])]),o("button",{class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-3 w-100",onClick:i[1]||(i[1]=(...s)=>t.loadPages&&t.loadPages(...s)),type:"button",id:"button-addon2"},"Найти "),t.pages.length>0?(a(),n("ul",k,[(a(!0),n(d,null,p(t.pages,(s,V)=>(a(),n("li",y,[o("div",j,[o("strong",{onClick:c=>t.selectPage(s),class:"font-12"},[_("#"+r(s.id||"Не указано")+" ",1),s.slug?(a(),n("span",w,r(s.slug.command||"Не указано"),1)):l("",!0),e.current&&e.current===s.id?(a(),n("span",C,$)):l("",!0)],8,v),e.editor?(a(),n("button",{key:0,class:"btn",type:"button",onClick:c=>t.openPageMenuModal(s.id),"aria-expanded":"false"},N,8,x)):l("",!0)])]))),256))])):l("",!0),t.pages_paginate_object?(a(),b(m,{key:1,simple:!0,onPagination_page:t.nextPages,pagination:t.pages_paginate_object},null,8,["onPagination_page","pagination"])):(a(),n("div",B," Созданных страниц не найдено! "))],64))}});export{F as _};
