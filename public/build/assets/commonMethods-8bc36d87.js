import{bL as u}from"./index.es-c4852431.js";let n={spent_time_counter:0};function l(){const t=u(),e=t.getters.getSelf||0,r=t.getters.cartTotalPrice||0,c=window.currentBot,s=e.cashBack?e.cashBack.amount:0;let a=c.max_cashback_use_percent||0,o=r*(a/100);return Math.min(o,s)||0}function m(){const t=window.currentBot,e=t.settings;return window.isCorrectSchedule(t.company.schedule)&&(e==null?void 0:e.can_buy_after_closing)||!0}function p(){return parseInt(n.spent_time_counter||"0")}function h(){const t=parseInt(localStorage.getItem("cashman_self_product_delivery_counter")||"0");return t>0?(i(t),!0):!1}function i(t){n.spent_time_counter=parseInt(t)!=null?Math.min(parseInt(t),10):10;let e=setInterval(()=>{n.spent_time_counter>0?n.spent_time_counter--:(clearInterval(e),n.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",n.spent_time_counter),window.dispatchEvent(new CustomEvent("trigger-spent-timer",{detail:n.spent_time_counter}))},1e3)}export{l as a,m as b,h as c,p as g,i as s};
