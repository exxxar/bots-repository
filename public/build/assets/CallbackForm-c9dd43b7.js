import{o as a,k as n,n as t,M as i,a1 as m,N as c,Y as r,l as p,O as u}from"./index.es-c4852431.js";import{R as h}from"./ReturnToBot-97343ef5.js";const b={class:"card card-style"},f={class:"content mb-0"},k={key:0},y={key:1},_={key:2},g={key:3},F={class:"input-style input-style-2 has-icon"},v=t("i",{class:"input-icon fa fa-user"},null,-1),w={class:"input-style input-style-2 has-icon"},N=t("i",{class:"input-icon fa-solid fa-phone"},null,-1),V={class:"input-style input-style-2 has-icon"},C=t("span",{class:"input-style-1-active input-style-1-inactive"},"Ваше сообщение",-1),B=t("i",{class:"input-icon fa-solid fa-envelope-open-text"},null,-1),O=t("em",null,"(нужно)",-1),j=["disabled"],q={props:["type"],data(){return{sending:!1,callbackForm:{name:null,phone:null,message:null}}},computed:{self(){return window.self}},mounted(){this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null,this.type==="booking"&&(this.callbackForm.message="Добрый день! Я хочу забронировать столик! Перезвоните мне.")},methods:{submitCallback(){let l=new FormData;this.sending=!0,Object.keys(this.callbackForm).forEach(e=>{const s=this.callbackForm[e]||"";typeof s=="object"?l.append(e,JSON.stringify(s)):l.append(e,s)}),this.type&&l.append("type",this.type),this.$store.dispatch("callbackForm",{callbackForm:l}).then(e=>{this.callbackForm={message:null,name:null,phone:null},this.$botNotification.success("Обратная связь","Спасибо за сообщение"),this.sending=!1}).catch(e=>{this.sending=!1})}}},U=Object.assign(q,{__name:"CallbackForm",setup(l){return(e,s)=>{const d=u("mask");return a(),n("div",b,[t("div",f,[l.type?i("",!0):(a(),n("h3",k,"Обратная связь")),l.type==="booking"?(a(),n("h3",y,"Бронирование столика")):i("",!0),l.type?i("",!0):(a(),n("p",_," Вы можете оставить нам сообщение с пожеланиями по улучшению сервиса! ")),l.type==="booking"?(a(),n("p",g," Укажите в текстовом сообщение критерии бронирования столика, или же оставьте сообщение без изменений! ")):i("",!0),t("form",{onSubmit:s[3]||(s[3]=m((...o)=>e.submitCallback&&e.submitCallback(...o),["prevent"]))},[t("div",F,[v,c(t("input",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=o=>e.callbackForm.name=o),type:"text",placeholder:"Иванов Иван Иванович",required:""},null,512),[[r,e.callbackForm.name]])]),t("div",w,[N,c(t("input",{class:"form-control",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.callbackForm.phone=o),placeholder:"+7(000)000-00-00",required:""},null,512),[[d,"+7(###)###-##-##"],[r,e.callbackForm.phone]])]),t("div",V,[C,B,O,c(t("textarea",{class:"form-control",style:{height:"200px","line-height":"150%",padding:"35px"},"onUpdate:modelValue":s[2]||(s[2]=o=>e.callbackForm.message=o),type:"text",placeholder:"",required:""},null,512),[[r,e.callbackForm.message]])]),t("button",{type:"submit",disabled:e.sending,class:"btn btn-full btn-m shadow-l rounded-s text-uppercase font-900 bg-green1-dark my-2 w-100"}," Отправить сообщение ",8,j),p(h,{class:"my-2"})],32)])])}}});export{U as _};
