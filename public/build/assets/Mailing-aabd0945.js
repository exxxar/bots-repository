import{o as n,k as i,n as t,a0 as h,M as a,N as c,Y as u,p as d,L as m,a3 as g,F as f,K as y,H as p,a1 as v,O as F,j as k,l as b}from"./index.es-c4852431.js";import{K as w}from"./KeyboardConstructor-8a23a78e.js";import{_ as $}from"./KeyboardList-d27b148e.js";import{_ as C}from"./KeyboardConstructor-df98a2e0.js";import{_ as I}from"./BotMediaList-9b4db56f.js";import{P as S}from"./Pagination-02b5940a.js";import"./vue3-json-editor.esm.prod-a2876a2f.js";/* empty css                                                            */import"./_plugin-vue_export-helper-c27b6911.js";import"./v4-4a60fe23.js";import"./KeyboardCard-9a26d223.js";/* empty css                                                     *//* empty css                                                            */import"./Pagination-b758f7ed.js";/* empty css                                                   */const T=t("p",{class:"my-2"},"Выберите канал рассылки:",-1),O={class:"btn-group-vertical w-100 mb-2",role:"group","aria-label":"Vertical button group"},j={class:"form-floating mb-3"},B=t("label",{for:"floatingInput"},"id канала",-1),M={class:"form-floating mb-2"},V={for:"floatingTextarea"},Q={key:0,class:"small"},P={class:"form-check"},U=t("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),K={key:0,class:"mb-2"},L=t("h6",null,"Изображения на странице",-1),A={class:"d-flex justify-content-center flex-wrap"},E={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},N={class:"row"},q={key:0,class:"col-12 d-flex flex-wrap"},D={class:"mb-2 img-preview",style:{"margin-right":"10px"}},R={class:"remove"},z=["onClick"],J={class:"form-check"},H=t("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),G={key:1,class:"mb-2"},W={key:0},Y={key:1},X=t("button",{type:"submit",class:"btn btn-primary p-3 w-100"},[t("i",{class:"fa-regular fa-paper-plane mr-2"}),d(" Отправить в канал ")],-1),Z={data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{text:"",inline_keyboard:null,channel:null}}},computed:{currentBot(){return window.currentBot}},mounted(){window.addEventListener("select-telegram-channel-id",s=>{this.mailForm[s.detail.param]=s.detail.channel})},methods:{toggleMainChannel(){this.mailForm.channel=this.currentBot.main_channel},toggleOrderChannel(){this.mailForm.channel=this.currentBot.order_channel},addTextTo(s={param:null,text:null}){this.mailForm.channel=s.text},submitMail(){let s=new FormData;if(Object.keys(this.mailForm).forEach(e=>{const o=this.mailForm[e]||"";typeof o=="object"?s.append(e,JSON.stringify(o)):s.append(e,o)}),this.photos.length>0)for(let e=0;e<this.photos.length;e++)s.append("photos[]",this.photos[e]);this.$store.dispatch("sendToChannel",{mailForm:s}).then(e=>{this.load=!0,this.photos=[],this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={text:"",channel:null,inline_keyboard:null},this.$notify({title:"Отлично",text:"Сообщение успешно отправлено в канал!",type:"success"})}).catch(e=>{this.$notify({title:"Упс...",text:"Ошибка отправки сообщения в канал!",type:"error"})})},saveInlineKeyboard(s){this.mailForm.inline_keyboard=s},selectInlineKeyboard(s){this.mailForm.inline_keyboard=s,this.showInlineTemplateSelector=!1},getPhoto(s){return{imageUrl:URL.createObjectURL(s)}},removePhoto(s){this.photos.splice(s,1)},removeImage(s){this.mailForm.images.splice(s,1)},onChangePhotos(s){const e=s.target.files;for(let o=0;o<e.length;o++)this.photos.push(e[o])},requestChannelId(s){this.$botPages.telegramChannelHelper(s)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(e=>{e.ok&&(this.mailForm.channel=e.result.chat.id),e.ok&&this.$notify({title:"Отлично",text:"Канал успешно найден!",type:"success"}),e.ok||(this.$notify({title:"Ошибочка",text:"Неверно указанный канал!",type:"error"}),this.mailForm.channel=null)}).catch(()=>{}))}}},x=Object.assign(Z,{__name:"MailToChannel",setup(s){return(e,o)=>{const l=F("lazy");return e.currentBot?(n(),i("form",{key:0,onSubmit:o[9]||(o[9]=v((...r)=>e.submitMail&&e.submitMail(...r),["prevent"]))},[T,t("div",O,[e.currentBot.main_channel!=null?(n(),i("button",{key:0,type:"button",class:h(["btn p-3 mb-2",{"btn-primary":e.mailForm.channel===e.currentBot.main_channel,"btn-secondary":e.mailForm.channel!==e.currentBot.main_channel}]),onClick:o[0]||(o[0]=(...r)=>e.toggleMainChannel&&e.toggleMainChannel(...r))},"Главный канал ",2)):a("",!0),e.currentBot.order_channel!=null?(n(),i("button",{key:1,type:"button",class:h(["btn p-3",{"btn-primary":e.mailForm.channel===e.currentBot.order_channel,"btn-secondary":e.mailForm.channel!==e.currentBot.order_channel}]),onClick:o[1]||(o[1]=(...r)=>e.toggleOrderChannel&&e.toggleOrderChannel(...r))},"Канал заказов ",2)):a("",!0)]),t("div",j,[c(t("input",{maxlength:"255","onUpdate:modelValue":o[2]||(o[2]=r=>e.mailForm.channel=r),type:"search",class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[u,e.mailForm.channel]]),B]),t("div",M,[c(t("textarea",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=r=>e.mailForm.text=r),maxlength:"4096",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[u,e.mailForm.text]]),t("label",V,[d("Текстовое содержимое рассылки "),e.mailForm.text?(n(),i("span",Q,m(e.mailForm.text.length)+"/4096 ",1)):a("",!0)])]),t("div",P,[c(t("input",{class:"form-check-input","onUpdate:modelValue":o[4]||(o[4]=r=>e.need_page_images=r),type:"checkbox",id:"need-page-images"},null,512),[[g,e.need_page_images]]),U]),e.need_page_images?(n(),i("div",K,[L,t("div",A,[t("label",E,[d(" + "),t("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:o[5]||(o[5]=(...r)=>e.onChangePhotos&&e.onChangePhotos(...r)),style:{display:"none"}},null,32)]),t("div",N,[e.photos.length>0?(n(),i("div",q,[(n(!0),i(f,null,y(e.photos,(r,_)=>(n(),i("div",D,[c(t("img",null,null,512),[[l,e.getPhoto(r).imageUrl]]),t("div",R,[t("a",{onClick:wt=>e.removePhoto(_)},"Удалить",8,z)])]))),256))])):a("",!0)])])])):a("",!0),t("div",J,[c(t("input",{class:"form-check-input","onUpdate:modelValue":o[6]||(o[6]=r=>e.need_inline_menu=r),type:"checkbox",id:"need-inline-menu"},null,512),[[g,e.need_inline_menu]]),H]),e.need_inline_menu?(n(),i("div",G,[t("button",{class:h(["btn mb-2 w-100",{"btn-outline-primary":!e.showInlineTemplateSelector,"btn-primary":e.showInlineTemplateSelector}]),type:"button",onClick:o[7]||(o[7]=r=>e.showInlineTemplateSelector=!e.showInlineTemplateSelector)},[e.showInlineTemplateSelector?(n(),i("span",Y," Скрыть шаблоны меню")):(n(),i("span",W," Открыть шаблоны меню"))],2),e.showInlineTemplateSelector?(n(),p($,{key:0,class:"mb-2",type:"inline",onSelect:e.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(n(),p(w,{key:1,type:"inline",onSave:e.saveInlineKeyboard,modelValue:e.mailForm.inline_keyboard,"onUpdate:modelValue":o[8]||(o[8]=r=>e.mailForm.inline_keyboard=r)},null,8,["onSave","modelValue"]))])):a("",!0),X],32)):a("",!0)}}}),ee={class:"row py-2"},te={class:"col-12"},se={class:"input-group mb-2"},oe={class:"form-floating"},le=t("label",{for:"floatingInput"},"Поиск рассылки",-1),ne={class:"col-12"},ie={class:"w-100",style:{"overflow-x":"scroll"}},ae={key:0,class:"table w-100"},re=t("th",{scope:"col"},"Есть нижняя клавиатура",-1),de=t("th",{scope:"col"},"Есть клавиатура под текстом",-1),me=t("th",{scope:"col"},"Действие",-1),ce={scope:"row"},he=["onClick"],ue={style:{"min-width":"150px"}},pe={key:0,class:"mb-0"},ge={key:1},be={style:{"min-width":"150px"}},_e={key:0,class:"dropdown"},fe=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),ye={class:"dropdown-menu"},ve={key:0},ke=["onClick"],$e={key:0},Fe=t("div",{class:"alert alert-warning",role:"alert"},[t("strong",null,"Внимание!"),d(" Вы еще не добавили ни одной рассылки! ")],-1),we=[Fe],Ce={key:0,class:"col-12"},Ie={data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,queues:[],search:null,paginate_object:null}},computed:{...k(["getQueues","getQueuesPaginateObject"])},mounted(){this.loadQueues()},methods:{removeQueue(s){this.loading=!0,this.$store.dispatch("removeQueue",{queueId:s}).then(e=>{this.loading=!1,this.loadQueues(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},createQueue(){this.$emit("create")},nextQueues(s){this.loadQueues(s)},selectEvent(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadQueues(0)},loadQueues(s=0){this.loading=!0,this.$store.dispatch("loadQueues",{dataObject:{search:this.search,order:this.order,direction:this.direction},page:s,size:20}).then(e=>{this.loading=!1,this.queues=this.getQueues,this.paginate_object=this.getQueuesPaginateObject}).catch(()=>{this.loading=!1})}}},Se=Object.assign(Ie,{__name:"MailingTable",setup(s){return(e,o)=>(n(),i("div",ee,[t("div",te,[t("div",se,[t("div",oe,[c(t("input",{type:"search","onUpdate:modelValue":o[0]||(o[0]=l=>e.search=l),class:"form-control border-light",id:"floatingInput",placeholder:"Поиск рассылки"},null,512),[[u,e.search]]),le]),t("button",{class:"btn btn-outline-light",onClick:o[1]||(o[1]=l=>e.loadQueues(0)),type:"button",id:"queue-search-queue"},"Найти ")])]),t("div",ne,[t("div",ie,[e.queues.length>0?(n(),i("table",ae,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:o[2]||(o[2]=l=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",style:{"min-width":"200px"},class:"cursor-pointer",onClick:o[3]||(o[3]=l=>e.loadAndOrder("content"))},"Содержимое"),re,de,t("th",{scope:"col",class:"cursor-pointer",onClick:o[4]||(o[4]=l=>e.loadAndOrder("images"))},"Изображения к рассылке"),t("th",{scope:"col",style:{"min-width":"150px"},class:"cursor-pointer",onClick:o[5]||(o[5]=l=>e.loadAndOrder("sent_at"))},"Отправлено в"),t("th",{scope:"col",style:{"min-width":"150px"},class:"cursor-pointer",onClick:o[6]||(o[6]=l=>e.loadAndOrder("cron_time"))},"Дата отправки"),me])]),t("tbody",null,[(n(!0),i(f,null,y(e.queues,(l,r)=>(n(),i("tr",{class:h({"border-info":l.deleted_at==null,"border-danger":l.deleted_at!=null})},[t("th",ce,m(l.id),1),t("td",{style:{"min-width":"200px"},onClick:_=>e.selectEvent(l)},m(l.content||"Не указано"),9,he),t("td",null,m(l.reply_keyboard?"Есть":"Нет"),1),t("td",null,m(l.inline_keyboard?"Есть":"Нет"),1),t("td",null,m((l.images||[]).length),1),t("td",ue,[l.sent_at?(n(),i("p",pe,m(e.$filters.currentFull(l.sent_at)),1)):(n(),i("p",ge,"Не задано"))]),t("td",be,m(e.$filters.currentFull(l.cron_time)),1),t("td",null,[l.id?(n(),i("div",_e,[fe,t("ul",ye,[l.deleted_at==null?(n(),i("li",ve,[t("a",{class:"dropdown-item",onClick:_=>e.removeQueue(l.id),href:"javascript:void(0)"},"Удалить",8,ke)])):a("",!0)])])):a("",!0)])],2))),256))])])):a("",!0)]),e.queues.length===0?(n(),i("div",$e,we)):a("",!0)]),e.queues.length>0?(n(),i("div",Ce,[e.paginate_object?(n(),p(S,{key:0,onPagination_page:e.nextQueues,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):a("",!0)])):a("",!0)]))}}),Te={class:"form-floating mb-2"},Oe={for:"floatingTextarea"},je={key:0,class:"small"},Be={class:"form-check"},Me=t("label",{class:"form-check-label",for:"need-page-images"}," Изображения в рассылке (максимум 10) ",-1),Ve={key:0,class:"mb-2"},Qe=t("div",{class:"divider my-3"},"Изображения",-1),Pe={key:0,class:"mb-2"},Ue={class:"fw-bold text-primary"},Ke=t("span",{class:"fw-bold text-primary"},"10",-1),Le=t("button",{type:"button",class:"btn btn-outline-light text-primary w-100 p-3","data-bs-toggle":"modal","data-bs-target":"#select-images"},[t("i",{class:"fa-solid fa-image mr-2"}),d(" Выбрать изображение ")],-1),Ae={class:"modal fade",id:"select-images","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ee={class:"modal-dialog modal-fullscreen"},Ne={class:"modal-content"},qe={class:"modal-body"},De={class:"modal-footer"},Re={key:0},ze={key:1},Je={class:"form-check"},He=t("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),Ge={key:1,class:"mb-2"},We=t("div",{class:"divider my-3"},"Меню",-1),Ye=t("button",{class:"btn mb-2 w-100 p-3 btn-outline-light text-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#show-keyboard-template-list"}," Открыть шаблоны меню ",-1),Xe={class:"modal fade",id:"show-keyboard-template-list","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ze={class:"modal-dialog modal-fullscreen"},xe={class:"modal-content"},et={class:"modal-body"},tt=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-primary p-3 w-100",id:"show-keyboard-template-list-btn-close","data-bs-dismiss":"modal"},"Выбрать и закрыть ")],-1),st=t("div",{class:"alert alert-light mb-2"},[d(" Вы можете указать "),t("span",{class:"fw-bold text-primary"},"любое время"),d(" для рассылки! Наши рассылки запускаются "),t("span",{class:"fw-bold text-primary"},"каждые 2 часа"),d(" и будут выполнены, если указанное вами время уже наступило. ")],-1),ot={class:"form-floating mb-2"},lt=t("label",{for:"floatingInput"},"Планируемое время",-1),nt=t("button",{type:"submit",class:"btn btn-primary w-100 p-3"},[t("i",{class:"fa-regular fa-paper-plane mr-2"}),d(" Поставить в очередь ")],-1),it=t("div",{class:"divider my-3"},[t("i",{class:"fa-solid fa-hourglass-half text-primary mr-2"}),d(" Рассылки в очереди")],-1),at={key:2,class:"alert alert-light d-flex justify-content-center align-items-center flex-column py-3",role:"alert"},rt=t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Загружаем...")],-1),dt=t("p",{class:"mt-3 mb-0"},"Загружаем...",-1),mt=[rt,dt],ct={data(){return{load_form:!0,load:!0,showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{id:null,message:null,inline_keyboard:null,cron_time:null,images:[]}}},watch:{need_inline_menu:{handler:function(s){this.need_inline_menu},deep:!0},need_page_images:{handler:function(s){this.need_page_images||(this.mailForm.images=[])},deep:!0}},computed:{currentBot(){return window.currentBot}},methods:{clearImages(){this.mailForm.images=[],this.$notify({title:"Отлично!",text:"Изображения успешно очищены!",type:"success"})},selectMailing(s){s.inline_keyboard&&(this.need_inline_menu=!0),this.load_form=!1,this.$nextTick(()=>{this.mailForm.id=s.id||null,this.mailForm.cron_time=s.cron_time?this.$filters.local(s.cron_time):null,this.mailForm.images=s.images||[],this.mailForm.message=s.content||null,this.load_form=!0,this.mailForm.images.length>0&&(this.need_page_images=!0),s.inline_keyboard&&(this.mailForm.inline_keyboard={menu:JSON.parse(s.inline_keyboard)}),window.scroll(0,0)})},selectImages(s){(!this.mailForm.images||typeof this.mailForm.images=="string")&&(this.mailForm.images=[]);let e=this.mailForm.images.indexOf(s.file_id);e!==-1?this.mailForm.images.splice(e,1):this.mailForm.images.push(s.file_id)},addTextTo(s={param:null,text:null}){this.mailForm.channel=s.text},submitMail(){this.load=!1;let s=new FormData;Object.keys(this.mailForm).forEach(e=>{const o=this.mailForm[e]||"";typeof o=="object"?s.append(e,JSON.stringify(o)):s.append(e,o)}),this.bot&&s.append("bot_id",this.bot.id),this.$store.dispatch("storeQueue",{queueForm:s}).then(e=>{this.load=!0,this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={message:"",images:null,inline_keyboard:null},this.$notify({title:"Отлично!",text:"Сообщение успешно отправлено в очередь рассылки!",type:"success"})}).catch(e=>{this.$notify({title:"Упс...",text:"Ошибка отправки сообщения в очередь",type:"error"})})},saveInlineKeyboard(s){this.mailForm.inline_keyboard=s},selectInlineKeyboard(s){this.showInlineTemplateSelector=!0,this.$nextTick(()=>{this.mailForm.inline_keyboard=s,this.showInlineTemplateSelector=!1});let e=document.querySelector("#show-keyboard-template-list-btn-close");e&&e.click()},getPhoto(s){return{imageUrl:URL.createObjectURL(s)}},removePhoto(s){this.images.splice(s,1)},removeImage(s){this.mailForm.images.splice(s,1)},onChangePhotos(s){const e=s.target.files;for(let o=0;o<e.length;o++)this.images.push(e[o])}}},ht=Object.assign(ct,{__name:"MailToBot",setup(s){return(e,o)=>(n(),i(f,null,[e.currentBot&&e.load_form?(n(),i("form",{key:0,onSubmit:o[5]||(o[5]=v((...l)=>e.submitMail&&e.submitMail(...l),["prevent"])),class:"py-3"},[t("div",Te,[c(t("textarea",{class:"form-control","onUpdate:modelValue":o[0]||(o[0]=l=>e.mailForm.message=l),maxlength:"4096",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[u,e.mailForm.message]]),t("label",Oe,[d("Текстовое содержимое рассылки "),e.mailForm.message?(n(),i("span",je,m((e.mailForm.message||"").length)+"/4096 ",1)):a("",!0)])]),t("div",Be,[c(t("input",{class:"form-check-input","onUpdate:modelValue":o[1]||(o[1]=l=>e.need_page_images=l),type:"checkbox",id:"need-page-images"},null,512),[[g,e.need_page_images]]),Me]),e.need_page_images?(n(),i("div",Ve,[Qe,(e.mailForm.images||[]).length>0?(n(),i("p",Pe,[d("Выбрано "),t("span",Ue,m(e.mailForm.images.length),1),d(" из "),Ke,d(" изображений. Нажмите "),t("span",{class:"fw-bold text-danger text-decoration-underline cursor-pointer",onClick:o[2]||(o[2]=(...l)=>e.clearImages&&e.clearImages(...l))},"очистить"),d(" чтоб отменить выбор изображений.")])):a("",!0),Le,t("div",Ae,[t("div",Ee,[t("div",Ne,[t("div",qe,[b(I,{"need-photo":!0,selected:e.mailForm.images,onSelect:e.selectImages},null,8,["selected","onSelect"])]),t("div",De,[t("button",{type:"button",class:h([{"btn-secondary":(e.mailForm.images||[]).length===0,"btn-primary":(e.mailForm.images||[]).length>0},"btn w-100 p-3"]),"data-bs-dismiss":"modal"},[(e.mailForm.images||[]).length===0?(n(),i("span",Re,"Закрыть")):a("",!0),(e.mailForm.images||[]).length>0?(n(),i("span",ze,"Выбрать и закрыть")):a("",!0)],2)])])])])])):a("",!0),t("div",Je,[c(t("input",{class:"form-check-input","onUpdate:modelValue":o[3]||(o[3]=l=>e.need_inline_menu=l),type:"checkbox",id:"need-inline-menu"},null,512),[[g,e.need_inline_menu]]),He]),e.need_inline_menu?(n(),i("div",Ge,[We,Ye,t("div",Xe,[t("div",Ze,[t("div",xe,[t("div",et,[b($,{class:"mb-2",type:"inline",onSelect:e.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])]),tt])])]),e.showInlineTemplateSelector?a("",!0):(n(),p(C,{key:0,type:"inline",onSave:e.saveInlineKeyboard,"edited-keyboard":e.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):a("",!0),st,t("div",ot,[c(t("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=l=>e.mailForm.cron_time=l),required:"",id:"floatingInput",placeholder:"name@example.com"},null,512),[[u,e.mailForm.cron_time]]),lt]),nt],32)):a("",!0),it,e.load?(n(),p(Se,{key:1,onSelect:e.selectMailing},null,8,["onSelect"])):(n(),i("div",at,mt))],64))}}),ut={key:0,class:"container py-3"},pt={class:"row"},gt={class:"col-12"},bt={class:"nav nav-tabs justify-content-center catalog-tabs"},_t={class:"nav-item"},ft=t("i",{class:"fa-solid fa-robot mr-2"},null,-1),yt={class:"nav-item"},vt=t("i",{class:"fa-regular fa-message mr-2"},null,-1),kt={key:0,class:"col-12"},$t={key:1,class:"col-12"},Ft={data(){return{tab:0,loading:!1}},computed:{...k(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$router.back()})}},Et=Object.assign(Ft,{__name:"Mailing",setup(s){return(e,o)=>e.getSelf?(n(),i("div",ut,[t("div",pt,[t("div",gt,[t("ul",bt,[t("li",_t,[t("a",{class:h(["nav-link",{active:e.tab===0}]),onClick:o[0]||(o[0]=l=>e.tab=0),style:{"font-weight":"bold"},"aria-current":"page",href:"javascript:void(0)"},[ft,d("В бота")],2)]),t("li",yt,[t("a",{class:h(["nav-link",{active:e.tab===1}]),onClick:o[1]||(o[1]=l=>e.tab=1),style:{"font-weight":"bold"},href:"javascript:void(0)"},[vt,d("В канал")],2)])])]),e.tab===1?(n(),i("div",kt,[b(x)])):a("",!0),e.tab===0?(n(),i("div",$t,[b(ht)])):a("",!0)])])):a("",!0)}});export{Et as default};
