import{R as u}from"./ReturnToBot-97343ef5.js";import{o as n,k as o,n as e,L as d,M as i,F as l,K as _,l as h,a0 as p,a8 as m}from"./index.es-c4852431.js";import"./_plugin-vue_export-helper-c27b6911.js";const f={key:0,class:"card card-style"},k={class:"content"},y=e("h4",null,"Правила данной акции",-1),v={key:1,class:"card card-style"},C={class:"content"},b=e("h6",{class:"text-center"},"Ваша личная накопительная карта",-1),q=e("p",null,null,-1),F={class:"d-flex justify-content-around flex-wrap save-up"},g=["innerHTML"],w={key:1},B=e("i",{class:"fa-solid fa-question"},null,-1),D=[B],L={name:"App",data(){return{rules:null,action:null,icon:null,icon_color:null}},mounted(){this.prepareUserData()},methods:{requestClick(){this.$cashback.qr("002")},prepareUserData(){return this.$store.dispatch("bonusProductPrepare").then(s=>{this.action=s.action,this.rules=s.rules,this.icon=s.icon,this.icon_color=s.icon_color})},submit(){this.$store.dispatch("wheelOfFortuneWin",this.productForm).then(s=>{this.winForm={win:null,name:null,phone:null},this.$botNotification.success("Вы выиграли!","Наш менеджер свяжется с вами для дальнейших инструкций."),this.prepareUserData()}).catch(s=>{})}}},M=Object.assign(L,{setup(s){return(t,a)=>(n(),o(l,null,[t.rules?(n(),o("div",f,[e("div",k,[y,e("p",null,d(t.rules),1)])])):i("",!0),t.action?(n(),o("div",v,[e("div",C,[b,q,e("ul",F,[(n(!0),o(l,null,_(t.action.max_attempts||10,r=>(n(),o("li",{class:p({active:r<=t.action.current_attempts}),onClick:a[0]||(a[0]=(...c)=>t.requestClick&&t.requestClick(...c))},[r<=t.action.current_attempts?(n(),o("span",{key:0,innerHTML:t.icon,style:m({color:t.icon_color})},null,12,g)):(n(),o("span",w,D))],2))),256))]),h(u)])])):i("",!0)],64))}});export{M as default};
