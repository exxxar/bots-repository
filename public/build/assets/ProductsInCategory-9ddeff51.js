import{j as u,o as a,k as o,n as t,L as c,p as m,M as l,N as g,Y as f,F as n,K as y,H as d,l as _,s as p}from"./index.es-c4852431.js";import{_ as v}from"./ProductItemSimple-f7349c84.js";import{P as b}from"./Pagination-b758f7ed.js";import{_ as P}from"./CategoryList-d423b6ea.js";import{b as h}from"./custom-4bdc3e34.js";/* empty css                                                   */import"./_plugin-vue_export-helper-c27b6911.js";const w={key:0,class:"card card-style bg-25 mb-3",style:{height:"270px"}},k={class:"card-center"},x=t("p",{class:"text-center mb-2"},[t("i",{class:"fa-brands fa-shopify color-red2-dark fa-4x"})],-1),C={class:"color-white font-700 text-center mb-0"},$=t("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"Вы смотрите товары в данной категории",-1),j={class:"color-white text-center opacity-60 mt-n1 mb-3"},N=t("a",{href:"#/categories",class:"btn btn-m font-900 text-uppercase bg-highlight btn-center-xl"},"Все категории",-1),O=t("div",{class:"card-overlay bg-black opacity-80"},null,-1),V={key:1,class:"card card-style"},B={class:"content"},I=t("h3",null,"Наши товары",-1),L={class:"collapse",id:"collapse-8",style:{}},q={class:"input-style input-style-2 has-icon input-required"},S=p('<p class="mb-0 pb-1"> Цена: </p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">От, ₽</span><input class="form-control" type="email" placeholder="0 ₽"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">До, ₽</span><input class="form-control" type="email" placeholder="100 ₽"></div></div></div>',2),T=t("a",{"data-toggle":"collapse",href:"#collapse-8",class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3","aria-expanded":"true"},[t("i",{class:"fa-solid fa-filter mr-2"}),t("span",{class:"font-14"},"Фильтры товара")],-1),Y={key:2,class:"card bg-20 mt-4 content rounded-m shadowl"},D=p('<div class="card-body"><h4 class="color-white">Товар отсутствует</h4><p class="color-white"> На текущий момент товар на страницах сайта отсуствтует </p><div class="card card-style ml-0 mr-0 mb-3 bg-white"><div class="content"> You can add more content in here as well. This is used for example on the homepage in the Built for You section. </div></div></div><div class="card-overlay bg-gradient-green1 opacity-95 rounded-m shadow-l"></div><div class="card-overlay dark-mode-tint rounded-m shadow-l"></div>',3),F=[D],M=t("div",{class:"content mb-3"},[t("h5",{class:"float-left font-16 font-500"},"Категории товаров"),t("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/categories"},"Посмотреть все"),t("div",{class:"clearfix"})],-1),E={data(){return{search:null,category:null,products:[],paginate:null}},watch:{$route(s,e){this.loadCategory(),this.loadProducts()}},computed:{...u(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.search?this.products.filter(s=>s.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products}},mounted(){this.loadCategory(),this.loadProducts()},methods:{nextProducts(s){this.loadProducts(s)},loadCategory(){return this.$store.dispatch("loadCategory",{dataObject:{categoryId:this.$route.params.categoryId}}).then(s=>{this.category=s.data,h.handler()})},loadProducts(s=0){return this.$store.dispatch("loadProductsInCategory",{dataObject:{category_id:this.$route.params.categoryId,search:this.search},page:s}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,h.handler()})}}},R=Object.assign(E,{__name:"ProductsInCategory",setup(s){return(e,i)=>(a(),o(n,null,[e.category?(a(),o("div",w,[t("div",k,[x,t("h2",C,c(e.category.title||"Не указана"),1),$,t("p",j,[m("Товаров в категории "),t("strong",null,c(e.category.count||0),1)]),N]),O])):l("",!0),e.filteredProducts.length>0?(a(),o("div",V,[t("div",B,[I,t("div",L,[t("div",q,[t("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:i[0]||(i[0]=r=>e.loadProducts(0))}),g(t("input",{class:"form-control","onUpdate:modelValue":i[1]||(i[1]=r=>e.search=r),type:"name",placeholder:"Найди товар на странице"},null,512),[[f,e.search]])]),S]),T,(a(!0),o(n,null,y(e.filteredProducts,(r,G)=>(a(),d(v,{item:r},null,8,["item"]))),256)),e.paginate?(a(),d(b,{key:0,onPagination_page:e.nextProducts,simple:!0,pagination:e.paginate},null,8,["onPagination_page","pagination"])):l("",!0)])])):(a(),o("div",Y,F)),M,_(P)],64))}});export{R as default};
