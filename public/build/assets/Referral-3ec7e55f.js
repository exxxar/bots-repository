import{P as a}from"./PreloaderV1-8b039dbc.js";import{o as i,k as r,n as t,N as l,L as s,H as c,O as d}from"./index.es-c4852431.js";/* empty css                                                    */import"./_plugin-vue_export-helper-c27b6911.js";const p={key:0,class:"container py-3"},_={class:"d-flex justify-content-center align-items-center",style:{"min-height":"350px"}},h={key:0,style:{width:"200px",height:"200px","border-radius":"50%",overflow:"hidden"}},u={class:"w-100 object-fit-cover"},f={key:1,style:{width:"200px",height:"200px"}},m={class:"w-100 object-fit-cover"},y=t("h6",{class:"opacity-75 mb-3"},"Информация о профиле друга",-1),w={class:"list-group"},b={class:"list-group-item d-flex justify-content-between","aria-current":"true"},g=t("span",null,"Имя",-1),k={style:{"font-size":"12px"},class:"text-primary fw-bold"},x={class:"list-group-item d-flex justify-content-between","aria-current":"true"},j=t("span",null,"ID",-1),v={class:"text-primary fw-bold"},B={class:"list-group-item d-flex justify-content-between","aria-current":"true"},P=t("span",null,"Телефон",-1),D={class:"text-primary fw-bold cursor-pointer"},S={class:"list-group-item d-flex justify-content-between","aria-current":"true"},U=t("span",null,"Город",-1),$={class:"text-primary fw-bold"},z={class:"list-group-item d-flex justify-content-between","aria-current":"true"},N=t("span",null,"День рождения",-1),O={class:"text-primary fw-bold"},A={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},E=t("span",null,"Приглашено друзей",-1),L={class:"text-primary fw-bold"},R={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},T=t("span",null,"Количество заказов",-1),V={class:"text-primary fw-bold"},q={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},C=t("span",null,"Получено баллов",-1),H={class:"text-primary fw-bold"},I={data(){return{photos:null,profile:null,friend_id:null}},computed:{tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},mounted(){const o=new URLSearchParams(window.location.search);this.friend_id=JSON.parse(o.get("friend"))||null,this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(e=>e.click()),this.$router.back()}),this.$nextTick(()=>{this.friend_id&&this.loadUserPhotos()})},methods:{loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos",{bot_user_id:this.friend_id}).then(o=>{console.log(o),this.photos=o.photos.result.photos||null,this.profile=o.profile}).catch(()=>{this.$notify({title:"Ошибочка",text:"Пользователь не найден!",type:"error"})})}}},M=Object.assign(I,{__name:"Referral",setup(o){return(e,J)=>{const n=d("lazy");return e.profile?(i(),r("div",p,[t("div",_,[(e.photos||[]).length>0?(i(),r("div",h,[l(t("img",u,null,512),[[n,"/file-by-file-id-and-bot-domain/"+e.photos[0][0].file_id+"/"+e.currentBot.bot_domain]])])):(i(),r("div",f,[l(t("img",m,null,512),[[n,"/images/shop-v2/profile.png"]])]))]),y,t("ul",w,[t("li",b,[g,t("span",k,s(e.profile.fio_from_telegram||"не указано"),1)]),t("li",x,[j,t("span",v,s(e.profile.telegram_chat_id||"-"),1)]),t("li",B,[P,t("span",D,s(e.profile.phone||"номер не указан"),1)]),t("li",S,[U,t("span",$,s(e.profile.city||"не указан"),1)]),t("li",z,[N,t("span",O,s(e.profile.birthday||"-"),1)]),t("li",A,[E,t("span",L,s(e.profile.friends_count||0),1)]),t("li",R,[T,t("span",V,s(e.profile.order_count||0),1)]),t("li",q,[C,t("span",H,s(e.profile.cashBack.amount||0)+" ₽",1)])])])):(i(),c(a,{key:1}))}}});export{M as default};
