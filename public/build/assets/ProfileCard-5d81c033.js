import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{o as r,j as n,l as t,M as h,F as d,K as c,L as a,J as _,N as m}from"./index.es-db843bab.js";const y={props:["data"],data(){return{photos:null,profile:null,load_data:!0}},computed:{logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){this.loadUserPhotos()},methods:{goToFriends(){this.data.id===this.profile.id&&(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$router.push({name:"FriendsV2"}))},goToCashback(){this.data.id===this.profile.id&&(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$router.push({name:"CashBackV2"}))},goToOrders(){this.data.id===this.profile.id&&(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$router.push({name:"OrdersV2"}))},loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos",{bot_user_id:this.data.id}).then(s=>{this.photos=s.photos.result.photos||null,this.profile=s.profile})},sendMyNumber(){this.tg.requestContact(s=>{this.$notify({title:"Профиль",text:s?"Ваш контакт успешно отправлен!":"Вы отменили отправку контакта",type:s?"success":"error"}),this.$store.dispatch("loaddata").then(()=>{this.load_data=!1,this.$nextTick(()=>{this.load_data=!0})})})}}},b={class:"d-flex justify-content-center align-items-center",style:{"min-height":"350px"}},g={key:0,style:{width:"200px",height:"200px","border-radius":"50%",overflow:"hidden"}},x={class:"w-100 object-fit-cover"},k={key:1,style:{width:"200px",height:"200px"}},w={class:"w-100 object-fit-cover"},j=t("h6",{class:"opacity-75 mb-3 d-flex justify-content-between align-items-center"},"Информация о профиле",-1),B={class:"list-group"},C={class:"list-group-item d-flex justify-content-between","aria-current":"true"},v=t("span",null,"Имя",-1),T={style:{"font-size":"12px"},class:"text-primary fw-bold"},N={class:"list-group-item d-flex justify-content-between","aria-current":"true"},F=t("span",null,"ID",-1),M={class:"text-primary fw-bold"},P={key:0,class:"list-group-item d-flex justify-content-between","aria-current":"true"},V=t("span",null,"Телефон",-1),q={class:"list-group-item d-flex justify-content-between","aria-current":"true"},D=t("span",null,"Город",-1),E={class:"text-primary fw-bold"},O={class:"list-group-item d-flex justify-content-between","aria-current":"true"},S=t("span",null,"День рождения",-1),z={class:"text-primary fw-bold"},A=t("span",null,"Приглашено друзей",-1),U={class:"text-primary fw-bold"},L=t("span",null,"Количество заказов",-1),I={class:"text-primary fw-bold"},J=t("span",null,"Получено баллов",-1),K={class:"text-primary fw-bold"},G={key:0,class:"opacity-75 my-3"},H={key:1,class:"list-group"},Q={class:"list-group-item d-flex justify-content-between","aria-current":"true"},R={class:"text-primary fw-bold"};function W(s,l,p,X,e,i){const u=m("lazy");return r(),n(d,null,[t("div",b,[(e.photos||[]).length>0?(r(),n("div",g,[h(t("img",x,null,512),[[u,"/file-by-file-id-and-bot-domain/"+e.photos[0][0].file_id+"/"+i.currentBot.bot_domain]])])):(r(),n("div",k,[h(t("img",w,null,512),[[u,"/images/shop-v2/profile.png"]])]))]),j,e.profile?(r(),n(d,{key:0},[t("ul",B,[t("li",C,[v,t("span",T,c(e.profile.fio_from_telegram||"не указано"),1)]),t("li",N,[F,t("span",M,c(e.profile.telegram_chat_id||"-"),1)]),e.load_data?(r(),n("li",P,[V,t("span",{onClick:l[0]||(l[0]=(...o)=>i.sendMyNumber&&i.sendMyNumber(...o)),class:"text-primary fw-bold cursor-pointer"},c(e.profile.phone||"отправить мой номер"),1)])):a("",!0),t("li",q,[D,t("span",E,c(e.profile.city||"не указан"),1)]),t("li",O,[S,t("span",z,c(e.profile.birthday||"-"),1)]),t("li",{onClick:l[1]||(l[1]=(...o)=>i.goToFriends&&i.goToFriends(...o)),class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},[A,t("span",U,c(e.profile.friends_count||0),1)]),t("li",{class:"list-group-item d-flex justify-content-between cursor-pointer",onClick:l[2]||(l[2]=(...o)=>i.goToOrders&&i.goToOrders(...o)),"aria-current":"true"},[L,t("span",I,c(e.profile.order_count||0),1)]),t("li",{onClick:l[3]||(l[3]=(...o)=>i.goToCashback&&i.goToCashback(...o)),class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},[J,t("span",K,c(e.profile.cashBack.amount||0)+" ₽",1)])]),e.profile.cashBack?(r(),n(d,{key:0},[(e.profile.cashBack.subs||[]).length>0?(r(),n("h6",G,"Специальные начисления")):a("",!0),(e.profile.cashBack.subs||[]).length>0?(r(),n("ul",H,[(r(!0),n(d,null,_(e.profile.cashBack.subs,o=>(r(),n("li",Q,[t("span",null,c(o.title||"-"),1),t("span",R,c(o.amount||0)+" ₽",1)]))),256))])):a("",!0)],64)):a("",!0),p.data.id===e.profile.id&&e.profile.phone==null?(r(),n("button",{key:1,type:"button",class:"btn btn-info w-100 p-3 my-3",onClick:l[4]||(l[4]=(...o)=>i.sendMyNumber&&i.sendMyNumber(...o))},"Отправить мой номер ")):a("",!0)],64)):a("",!0)],64)}const $=f(y,[["render",W]]);export{$ as P};
