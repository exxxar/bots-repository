import{a as axios,s as shallowRef,u as unref,g as computed,j as reactive,n as nextTick,k as defineComponent,l as inject,f as h,p as provide,o as ref,w as watch,q as openBlock,t as createElementBlock,v as createBaseVNode,x as normalizeClass,y as toDisplayString,z as normalizeStyle,A as createCommentVNode,B as createVNode,F as Fragment,C as renderList,D as createTextVNode,G as mapGetters,H as withDirectives,J as vModelText,K as createBlock,L as resolveDirective,M as createStaticVNode,N as renderSlot,O as withCtx,P as withModifiers,Q as vModelRadio,R as resolveComponent,S as vShow,T as vModelCheckbox,U as pushScopeId,W as popScopeId,X as vModelDynamic,Y as commonjsGlobal,Z as vModelSelect,$ as onMounted,a0 as onUnmounted,a1 as mergeProps,a2 as getDefaultExportFromCjs,c as createStore,E as E$1,m as mitt,r as resolvePageComponent,b as createApp,h as hooks,V as VueTheMask,d as at,e as entry_esm,I,i as index$1,_ as __vitePreload}from"./index.es-87f808e1.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper-c27b6911.js";import"./BotMediaList-1361456d.js";import"./InlineInjectionsHelper.vue_vue_type_style_index_0_lang-84854da4.js";import{K as Ka$1}from"./main-d422527f.js";import{V as Vue3JsonEditor,T as TelegramChannelHelper}from"./TelegramChannelHelper-d590d406.js";import{v as v4}from"./v4-4a60fe23.js";import{C as Carousel,S as Slide,P as Pagination$1,N as Navigation}from"./carousel.es-681e03d4.js";import{P as Pagination$2}from"./Pagination-221154ef.js";import"./GlobalSlugList-6f3d8edc.js";import{i as index}from"./vue3-perfect-scrollbar-94da7cc3.js";import{u as util$1}from"./index-0b7b57a4.js";window.axios=axios;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";function touchX(o){return o.type.indexOf("mouse")!==-1?o.clientX:o.touches[0].clientX}function touchY(o){return o.type.indexOf("mouse")!==-1?o.clientY:o.touches[0].clientY}var isPassiveSupported=function(){var o=!1;try{var t=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,t)}catch{}return o}(),vueTouchEvents={install:function(o,t){var s=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100},t);function i(b){var v=this.$$touchObj,N=b.type.indexOf("touch")>=0,T=b.type.indexOf("mouse")>=0,M=this;N&&(v.lastTouchStartTime=b.timeStamp),!(T&&v.lastTouchStartTime&&b.timeStamp-v.lastTouchStartTime<350)&&(v.touchStarted||(m(this),v.touchStarted=!0,v.touchMoved=!1,v.swipeOutBounded=!1,v.startX=touchX(b),v.startY=touchY(b),v.currentX=0,v.currentY=0,v.touchStartTime=b.timeStamp,v.hasSwipe=c(this,"swipe")||c(this,"swipe.left")||c(this,"swipe.right")||c(this,"swipe.top")||c(this,"swipe.bottom"),c(this,"hold")&&(v.touchHoldTimer=setTimeout(function(){v.touchHoldTimer=null,_(b,M,"hold")},v.options.touchHoldTolerance)),_(b,this,"press")))}function a(b){var v=this.$$touchObj,N=touchX(b),T=touchY(b),M=v.currentX!=N||v.currentY!=T;if(v.currentX=N,v.currentY=T,v.touchMoved){if(v.hasSwipe&&!v.swipeOutBounded){var G=v.options.swipeTolerance;v.swipeOutBounded=Math.abs(v.startX-v.currentX)>G&&Math.abs(v.startY-v.currentY)>G}}else{var D=v.options.tapTolerance;v.touchMoved=Math.abs(v.startX-v.currentX)>D||Math.abs(v.startY-v.currentY)>D,v.touchMoved&&(f(v),_(b,this,"drag.once"))}if(c(this,"rollover")&&M){var le=b.timeStamp,ao=v.options.rollOverFrequency;(v.touchRollTime==null||le>v.touchRollTime+ao)&&(v.touchRollTime=le,_(b,this,"rollover"))}if(c(this,"drag")&&v.touchStarted&&v.touchMoved&&M){var le=b.timeStamp,ao=v.options.dragFrequency;(v.touchDragTime==null||le>v.touchDragTime+ao)&&(v.touchDragTime=le,_(b,this,"drag"))}}function n(){var b=this.$$touchObj;f(b),p(this),b.touchStarted=b.touchMoved=!1,b.startX=b.startY=0}function r(b){var v=this.$$touchObj,N=b.type.indexOf("touch")>=0,T=b.type.indexOf("mouse")>=0;N&&(v.lastTouchEndTime=b.timeStamp);var M=N&&!v.touchHoldTimer;if(f(v),v.touchStarted=!1,p(this),!(T&&v.lastTouchEndTime&&b.timeStamp-v.lastTouchEndTime<350))if(_(b,this,"release"),v.touchMoved){if(v.hasSwipe&&!v.swipeOutBounded){var D=v.options.swipeTolerance,G,le=Math.abs(v.startY-v.currentY),ao=Math.abs(v.startX-v.currentX);(le>D||ao>D)&&(le>ao?G=v.startY>v.currentY?"top":"bottom":G=v.startX>v.currentX?"left":"right",c(this,"swipe."+G)?_(b,this,"swipe."+G,G):_(b,this,"swipe",G))}}else if(c(this,"longtap")&&b.timeStamp-v.touchStartTime>v.options.longTapTimeInterval)b.cancelable&&b.preventDefault(),_(b,this,"longtap");else if(c(this,"hold")&&M){b.cancelable&&b.preventDefault();return}else _(b,this,"tap")}function l(){m(this)}function d(){p(this)}function c(b,v){var N=b.$$touchObj.callbacks[v];return N!=null&&N.length>0}function _(b,v,N,T){var M=v.$$touchObj,D=M.callbacks[N];if(D==null||D.length===0)return null;for(var G=0;G<D.length;G++){var le=D[G];le.modifiers.stop&&b.stopPropagation(),le.modifiers.prevent&&b.preventDefault(),!(le.modifiers.self&&b.target!==b.currentTarget)&&typeof le.value=="function"&&(T?le.value(T,b):le.value(b))}}function m(b){var v=b.$$touchObj.options.touchClass;v&&b.classList.add(v)}function p(b){var v=b.$$touchObj.options.touchClass;v&&b.classList.remove(v)}function f(b){b&&b.touchHoldTimer&&(clearTimeout(b.touchHoldTimer),b.touchHoldTimer=null)}function k(b,v){var N=b.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:s};return v&&(N.options=Object.assign({},N.options,v)),b.$$touchObj=N,b.$$touchObj}o.directive("touch",{beforeMount:function(b,v){var N=k(b),T=isPassiveSupported?{passive:!0}:!1,M=v.arg||"tap";switch(M){case"swipe":var D=v.modifiers;if(D.left||D.right||D.top||D.bottom){for(var G in v.modifiers)if(["left","right","top","bottom"].indexOf(G)>=0){var le="swipe."+G;N.callbacks[le]=N.callbacks[le]||[],N.callbacks[le].push(v)}}else N.callbacks.swipe=N.callbacks.swipe||[],N.callbacks.swipe.push(v);break;case"press":case"drag":v.modifiers.disablePassive&&(T=!1);default:N.callbacks[M]=N.callbacks[M]||[],N.callbacks[M].push(v)}N.hasBindTouchEvents||(b.addEventListener("touchstart",i,T),b.addEventListener("touchmove",a,T),b.addEventListener("touchcancel",n),b.addEventListener("touchend",r),N.options.disableClick||(b.addEventListener("mousedown",i),b.addEventListener("mousemove",a),b.addEventListener("mouseup",r),b.addEventListener("mouseenter",l),b.addEventListener("mouseleave",d)),N.hasBindTouchEvents=!0)},unmounted:function(b){f(b.$$touchObj),b.removeEventListener("touchstart",i),b.removeEventListener("touchmove",a),b.removeEventListener("touchcancel",n),b.removeEventListener("touchend",r),b.$$touchObj&&!b.$$touchObj.options.disableClick&&(b.removeEventListener("mousedown",i),b.removeEventListener("mousemove",a),b.removeEventListener("mouseup",r),b.removeEventListener("mouseenter",l),b.removeEventListener("mouseleave",d)),delete b.$$touchObj}}),o.directive("touch-class",{beforeMount:function(b,v){k(b,{touchClass:v.value})}}),o.directive("touch-options",{beforeMount:function(b,v){k(b,v.value)}})}};const BotNotification={notification(o,t,s="notification"){window.dispatchEvent(new CustomEvent(s,{detail:{title:o,text:t}}))},success(o,t){this.notification(o,t,"success")},warning(o,t){this.notification(o,t,"warning")}},BotPages={open(o){window.dispatchEvent(new CustomEvent("open-page-menu-modal",{detail:{id:o}}))},keyboard(o,t){window.dispatchEvent(new CustomEvent("open-keyboard-editor",{detail:{select:o,keyboard:t}}))},reloadPageList(){window.dispatchEvent(new CustomEvent("reload-page-list"))},map(){window.dispatchEvent(new CustomEvent("open-map-modal"))},mapCallback(o){window.dispatchEvent(new CustomEvent("select-map-coords",{detail:{param:o}}))},rules(){window.dispatchEvent(new CustomEvent("open-rules-modal"))},selectRule(o){window.dispatchEvent(new CustomEvent("select-rule-event",{detail:{rule:o}}))},telegramChannelHelper(o){window.dispatchEvent(new CustomEvent("open-tg-helper-modal",{detail:{param:o}}))},telegramChannelCallback(o,t){window.dispatchEvent(new CustomEvent("select-telegram-channel-id",{detail:{channel:t,param:o}}))},notes(o){window.dispatchEvent(new CustomEvent("open-notes-modal",{detail:{param:o}}))},selectNote(o,t){window.dispatchEvent(new CustomEvent("select-notes-event",{detail:{note:o,param:t}}))}},BotPreloader={toggle(){window.dispatchEvent(new CustomEvent("preloader-toggle"))},hide(){window.dispatchEvent(new CustomEvent("preloader-hide"))},show(){window.dispatchEvent(new CustomEvent("preloader-show"))}},Cart={add(o=null){window.dispatchEvent(new CustomEvent("add-to-cart",{detail:{product:o}}))}},CashBack={show(o=null){window.dispatchEvent(new CustomEvent("show-chashback-info",{detail:{item:o}}))},eventInfo(o=null){window.dispatchEvent(new CustomEvent("show-event-info",{detail:{item:o}}))},qr(o){window.dispatchEvent(new CustomEvent("show-qr-code",{detail:{code:o}}))}};/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=o=>hasSymbol?Symbol(o):"_vr_"+o,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser=typeof window<"u";function isESModule(o){return o.__esModule||hasSymbol&&o[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(o,t){const s={};for(const i in t){const a=t[i];s[i]=Array.isArray(a)?a.map(o):o(a)}return s}const noop=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=o=>o.replace(TRAILING_SLASH_RE,"");function parseURL(o,t,s="/"){let i,a={},n="",r="";const l=t.indexOf("?"),d=t.indexOf("#",l>-1?l:0);return l>-1&&(i=t.slice(0,l),n=t.slice(l+1,d>-1?d:t.length),a=o(n)),d>-1&&(i=i||t.slice(0,d),r=t.slice(d,t.length)),i=resolveRelativePath(i??t,s),{fullPath:i+(n&&"?")+n+r,path:i,query:a,hash:r}}function stringifyURL(o,t){const s=t.query?o(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function stripBase(o,t){return!t||!o.toLowerCase().startsWith(t.toLowerCase())?o:o.slice(t.length)||"/"}function isSameRouteLocation(o,t,s){const i=t.matched.length-1,a=s.matched.length-1;return i>-1&&i===a&&isSameRouteRecord(t.matched[i],s.matched[a])&&isSameRouteLocationParams(t.params,s.params)&&o(t.query)===o(s.query)&&t.hash===s.hash}function isSameRouteRecord(o,t){return(o.aliasOf||o)===(t.aliasOf||t)}function isSameRouteLocationParams(o,t){if(Object.keys(o).length!==Object.keys(t).length)return!1;for(const s in o)if(!isSameRouteLocationParamsValue(o[s],t[s]))return!1;return!0}function isSameRouteLocationParamsValue(o,t){return Array.isArray(o)?isEquivalentArray(o,t):Array.isArray(t)?isEquivalentArray(t,o):o===t}function isEquivalentArray(o,t){return Array.isArray(t)?o.length===t.length&&o.every((s,i)=>s===t[i]):o.length===1&&o[0]===t}function resolveRelativePath(o,t){if(o.startsWith("/"))return o;if(!o)return t;const s=t.split("/"),i=o.split("/");let a=s.length-1,n,r;for(n=0;n<i.length;n++)if(r=i[n],!(a===1||r==="."))if(r==="..")a--;else break;return s.slice(0,a).join("/")+"/"+i.slice(n-(n===i.length?1:0)).join("/")}var NavigationType;(function(o){o.pop="pop",o.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(o){o.back="back",o.forward="forward",o.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(o){if(!o)if(isBrowser){const t=document.querySelector("base");o=t&&t.getAttribute("href")||"/",o=o.replace(/^\w+:\/\/[^\/]+/,"")}else o="/";return o[0]!=="/"&&o[0]!=="#"&&(o="/"+o),removeTrailingSlash(o)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(o,t){return o.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(o,t){const s=document.documentElement.getBoundingClientRect(),i=o.getBoundingClientRect();return{behavior:t.behavior,left:i.left-s.left-(t.left||0),top:i.top-s.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(o){let t;if("el"in o){const s=o.el,i=typeof s=="string"&&s.startsWith("#"),a=typeof s=="string"?i?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!a)return;t=getElementPosition(a,o)}else t=o;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(o,t){return(history.state?history.state.position-t:-1)+o}const scrollPositions=new Map;function saveScrollPosition(o,t){scrollPositions.set(o,t)}function getSavedScrollPosition(o){const t=scrollPositions.get(o);return scrollPositions.delete(o),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(o,t){const{pathname:s,search:i,hash:a}=t,n=o.indexOf("#");if(n>-1){let l=a.includes(o.slice(n))?o.slice(n).length:1,d=a.slice(l);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(s,o)+i+a}function useHistoryListeners(o,t,s,i){let a=[],n=[],r=null;const l=({state:p})=>{const f=createCurrentLocation(o,location),k=s.value,b=t.value;let v=0;if(p){if(s.value=f,t.value=p,r&&r===k){r=null;return}v=b?p.position-b.position:0}else i(f);a.forEach(N=>{N(s.value,k,{delta:v,type:NavigationType.pop,direction:v?v>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){r=s.value}function c(p){a.push(p);const f=()=>{const k=a.indexOf(p);k>-1&&a.splice(k,1)};return n.push(f),f}function _(){const{history:p}=window;p.state&&p.replaceState(assign({},p.state,{scroll:computeScrollPosition()}),"")}function m(){for(const p of n)p();n=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",_),{pauseListeners:d,listen:c,destroy:m}}function buildState(o,t,s,i=!1,a=!1){return{back:o,current:t,forward:s,replaced:i,position:window.history.length,scroll:a?computeScrollPosition():null}}function useHistoryStateNavigation(o){const{history:t,location:s}=window,i={value:createCurrentLocation(o,s)},a={value:t.state};a.value||n(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(d,c,_){const m=o.indexOf("#"),p=m>-1?(s.host&&document.querySelector("base")?o:o.slice(m))+d:createBaseLocation()+o+d;try{t[_?"replaceState":"pushState"](c,"",p),a.value=c}catch(f){console.error(f),s[_?"replace":"assign"](p)}}function r(d,c){const _=assign({},t.state,buildState(a.value.back,d,a.value.forward,!0),c,{position:a.value.position});n(d,_,!0),i.value=d}function l(d,c){const _=assign({},a.value,t.state,{forward:d,scroll:computeScrollPosition()});n(_.current,_,!0);const m=assign({},buildState(i.value,d,null),{position:_.position+1},c);n(d,m,!1),i.value=d}return{location:i,state:a,push:l,replace:r}}function createWebHistory(o){o=normalizeBase(o);const t=useHistoryStateNavigation(o),s=useHistoryListeners(o,t.state,t.location,t.replace);function i(n,r=!0){r||s.pauseListeners(),history.go(n)}const a=assign({location:"",base:o,go:i,createHref:createHref.bind(null,o)},t,s);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function createWebHashHistory(o){return o=location.host?o||location.pathname+location.search:"",o.includes("#")||(o+="#"),createWebHistory(o)}function isRouteLocation(o){return typeof o=="string"||o&&typeof o=="object"}function isRouteName(o){return typeof o=="string"||typeof o=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(o){o[o.aborted=4]="aborted",o[o.cancelled=8]="cancelled",o[o.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(o,t){return assign(new Error,{type:o,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(o,t){return o instanceof Error&&NavigationFailureSymbol in o&&(t==null||!!(o.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(o,t){const s=assign({},BASE_PATH_PARSER_OPTIONS,t),i=[];let a=s.start?"^":"";const n=[];for(const c of o){const _=c.length?[]:[90];s.strict&&!c.length&&(a+="/");for(let m=0;m<c.length;m++){const p=c[m];let f=40+(s.sensitive?.25:0);if(p.type===0)m||(a+="/"),a+=p.value.replace(REGEX_CHARS_RE,"\\$&"),f+=40;else if(p.type===1){const{value:k,repeatable:b,optional:v,regexp:N}=p;n.push({name:k,repeatable:b,optional:v});const T=N||BASE_PARAM_PATTERN;if(T!==BASE_PARAM_PATTERN){f+=10;try{new RegExp(`(${T})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${k}" (${T}): `+D.message)}}let M=b?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;m||(M=v&&c.length<2?`(?:/${M})`:"/"+M),v&&(M+="?"),a+=M,f+=20,v&&(f+=-8),b&&(f+=-20),T===".*"&&(f+=-50)}_.push(f)}i.push(_)}if(s.strict&&s.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}s.strict||(a+="/?"),s.end?a+="$":s.strict&&(a+="(?:/|$)");const r=new RegExp(a,s.sensitive?"":"i");function l(c){const _=c.match(r),m={};if(!_)return null;for(let p=1;p<_.length;p++){const f=_[p]||"",k=n[p-1];m[k.name]=f&&k.repeatable?f.split("/"):f}return m}function d(c){let _="",m=!1;for(const p of o){(!m||!_.endsWith("/"))&&(_+="/"),m=!1;for(const f of p)if(f.type===0)_+=f.value;else if(f.type===1){const{value:k,repeatable:b,optional:v}=f,N=k in c?c[k]:"";if(Array.isArray(N)&&!b)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const T=Array.isArray(N)?N.join("/"):N;if(!T)if(v)p.length<2&&(_.endsWith("/")?_=_.slice(0,-1):m=!0);else throw new Error(`Missing required param "${k}"`);_+=T}}return _}return{re:r,score:i,keys:n,parse:l,stringify:d}}function compareScoreArray(o,t){let s=0;for(;s<o.length&&s<t.length;){const i=t[s]-o[s];if(i)return i;s++}return o.length<t.length?o.length===1&&o[0]===40+40?-1:1:o.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(o,t){let s=0;const i=o.score,a=t.score;for(;s<i.length&&s<a.length;){const n=compareScoreArray(i[s],a[s]);if(n)return n;s++}return a.length-i.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(o){if(!o)return[[]];if(o==="/")return[[ROOT_TOKEN]];if(!o.startsWith("/"))throw new Error(`Invalid path "${o}"`);function t(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=0,i=s;const a=[];let n;function r(){n&&a.push(n),n=[]}let l=0,d,c="",_="";function m(){c&&(s===0?n.push({type:0,value:c}):s===1||s===2||s===3?(n.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:c,regexp:_,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=d}for(;l<o.length;){if(d=o[l++],d==="\\"&&s!==2){i=s,s=4;continue}switch(s){case 0:d==="/"?(c&&m(),r()):d===":"?(m(),s=1):p();break;case 4:p(),s=i;break;case 1:d==="("?s=2:VALID_PARAM_RE.test(d)?p():(m(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&l--);break;case 2:d===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+d:s=3:_+=d;break;case 3:m(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&l--,_="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),m(),r(),a}function createRouteRecordMatcher(o,t,s){const i=tokensToParser(tokenizePath(o.path),s),a=assign(i,{record:o,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function createRouterMatcher(o,t){const s=[],i=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function a(_){return i.get(_)}function n(_,m,p){const f=!p,k=normalizeRouteRecord(_);k.aliasOf=p&&p.record;const b=mergeOptions(t,_),v=[k];if("alias"in _){const M=typeof _.alias=="string"?[_.alias]:_.alias;for(const D of M)v.push(assign({},k,{components:p?p.record.components:k.components,path:D,aliasOf:p?p.record:k}))}let N,T;for(const M of v){const{path:D}=M;if(m&&D[0]!=="/"){const G=m.record.path,le=G[G.length-1]==="/"?"":"/";M.path=m.record.path+(D&&le+D)}if(N=createRouteRecordMatcher(M,m,b),p?p.alias.push(N):(T=T||N,T!==N&&T.alias.push(N),f&&_.name&&!isAliasRecord(N)&&r(_.name)),"children"in k){const G=k.children;for(let le=0;le<G.length;le++)n(G[le],N,p&&p.children[le])}p=p||N,d(N)}return T?()=>{r(T)}:noop}function r(_){if(isRouteName(_)){const m=i.get(_);m&&(i.delete(_),s.splice(s.indexOf(m),1),m.children.forEach(r),m.alias.forEach(r))}else{const m=s.indexOf(_);m>-1&&(s.splice(m,1),_.record.name&&i.delete(_.record.name),_.children.forEach(r),_.alias.forEach(r))}}function l(){return s}function d(_){let m=0;for(;m<s.length&&comparePathParserScore(_,s[m])>=0&&(_.record.path!==s[m].record.path||!isRecordChildOf(_,s[m]));)m++;s.splice(m,0,_),_.record.name&&!isAliasRecord(_)&&i.set(_.record.name,_)}function c(_,m){let p,f={},k,b;if("name"in _&&_.name){if(p=i.get(_.name),!p)throw createRouterError(1,{location:_});b=p.record.name,f=assign(paramsFromLocation(m.params,p.keys.filter(T=>!T.optional).map(T=>T.name)),_.params),k=p.stringify(f)}else if("path"in _)k=_.path,p=s.find(T=>T.re.test(k)),p&&(f=p.parse(k),b=p.record.name);else{if(p=m.name?i.get(m.name):s.find(T=>T.re.test(m.path)),!p)throw createRouterError(1,{location:_,currentLocation:m});b=p.record.name,f=assign({},m.params,_.params),k=p.stringify(f)}const v=[];let N=p;for(;N;)v.unshift(N.record),N=N.parent;return{name:b,path:k,params:f,matched:v,meta:mergeMetaFields(v)}}return o.forEach(_=>n(_)),{addRoute:n,resolve:c,removeRoute:r,getRoutes:l,getRecordMatcher:a}}function paramsFromLocation(o,t){const s={};for(const i of t)i in o&&(s[i]=o[i]);return s}function normalizeRouteRecord(o){return{path:o.path,redirect:o.redirect,name:o.name,meta:o.meta||{},aliasOf:void 0,beforeEnter:o.beforeEnter,props:normalizeRecordProps(o),children:o.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in o?o.components||{}:{default:o.component}}}function normalizeRecordProps(o){const t={},s=o.props||!1;if("component"in o)t.default=s;else for(const i in o.components)t[i]=typeof s=="boolean"?s:s[i];return t}function isAliasRecord(o){for(;o;){if(o.record.aliasOf)return!0;o=o.parent}return!1}function mergeMetaFields(o){return o.reduce((t,s)=>assign(t,s.meta),{})}function mergeOptions(o,t){const s={};for(const i in o)s[i]=i in t?t[i]:o[i];return s}function isRecordChildOf(o,t){return t.children.some(s=>s===o||isRecordChildOf(o,s))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(o){return encodeURI(""+o).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(o){return commonEncode(o).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(o){return commonEncode(o).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(o){return encodeQueryValue(o).replace(EQUAL_RE,"%3D")}function encodePath(o){return commonEncode(o).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(o){return o==null?"":encodePath(o).replace(SLASH_RE,"%2F")}function decode(o){try{return decodeURIComponent(""+o)}catch{}return""+o}function parseQuery(o){const t={};if(o===""||o==="?")return t;const i=(o[0]==="?"?o.slice(1):o).split("&");for(let a=0;a<i.length;++a){const n=i[a].replace(PLUS_RE," "),r=n.indexOf("="),l=decode(r<0?n:n.slice(0,r)),d=r<0?null:decode(n.slice(r+1));if(l in t){let c=t[l];Array.isArray(c)||(c=t[l]=[c]),c.push(d)}else t[l]=d}return t}function stringifyQuery(o){let t="";for(let s in o){const i=o[s];if(s=encodeQueryKey(s),i==null){i!==void 0&&(t+=(t.length?"&":"")+s);continue}(Array.isArray(i)?i.map(n=>n&&encodeQueryValue(n)):[i&&encodeQueryValue(i)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+s,n!=null&&(t+="="+n))})}return t}function normalizeQuery(o){const t={};for(const s in o){const i=o[s];i!==void 0&&(t[s]=Array.isArray(i)?i.map(a=>a==null?null:""+a):i==null?i:""+i)}return t}function useCallbacks(){let o=[];function t(i){return o.push(i),()=>{const a=o.indexOf(i);a>-1&&o.splice(a,1)}}function s(){o=[]}return{add:t,list:()=>o,reset:s}}function guardToPromiseFn(o,t,s,i,a){const n=i&&(i.enterCallbacks[a]=i.enterCallbacks[a]||[]);return()=>new Promise((r,l)=>{const d=m=>{m===!1?l(createRouterError(4,{from:s,to:t})):m instanceof Error?l(m):isRouteLocation(m)?l(createRouterError(2,{from:t,to:m})):(n&&i.enterCallbacks[a]===n&&typeof m=="function"&&n.push(m),r())},c=o.call(i&&i.instances[a],t,s,d);let _=Promise.resolve(c);o.length<3&&(_=_.then(d)),_.catch(m=>l(m))})}function extractComponentsGuards(o,t,s,i){const a=[];for(const n of o)for(const r in n.components){let l=n.components[r];if(!(t!=="beforeRouteEnter"&&!n.instances[r]))if(isRouteComponent(l)){const c=(l.__vccOpts||l)[t];c&&a.push(guardToPromiseFn(c,s,i,n,r))}else{let d=l();a.push(()=>d.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${n.path}"`));const _=isESModule(c)?c.default:c;n.components[r]=_;const p=(_.__vccOpts||_)[t];return p&&guardToPromiseFn(p,s,i,n,r)()}))}}return a}function isRouteComponent(o){return typeof o=="object"||"displayName"in o||"props"in o||"__vccOpts"in o}function useLink(o){const t=inject(routerKey),s=inject(routeLocationKey),i=computed(()=>t.resolve(unref(o.to))),a=computed(()=>{const{matched:d}=i.value,{length:c}=d,_=d[c-1],m=s.matched;if(!_||!m.length)return-1;const p=m.findIndex(isSameRouteRecord.bind(null,_));if(p>-1)return p;const f=getOriginalPath(d[c-2]);return c>1&&getOriginalPath(_)===f&&m[m.length-1].path!==f?m.findIndex(isSameRouteRecord.bind(null,d[c-2])):p}),n=computed(()=>a.value>-1&&includesParams(s.params,i.value.params)),r=computed(()=>a.value>-1&&a.value===s.matched.length-1&&isSameRouteLocationParams(s.params,i.value.params));function l(d={}){return guardEvent(d)?t[unref(o.replace)?"replace":"push"](unref(o.to)).catch(noop):Promise.resolve()}return{route:i,href:computed(()=>i.value.href),isActive:n,isExactActive:r,navigate:l}}const RouterLinkImpl=defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(o,{slots:t}){const s=reactive(useLink(o)),{options:i}=inject(routerKey),a=computed(()=>({[getLinkClass(o.activeClass,i.linkActiveClass,"router-link-active")]:s.isActive,[getLinkClass(o.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const n=t.default&&t.default(s);return o.custom?n:h("a",{"aria-current":s.isExactActive?o.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:a.value},n)}}}),RouterLink=RouterLinkImpl;function guardEvent(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const t=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return o.preventDefault&&o.preventDefault(),!0}}function includesParams(o,t){for(const s in t){const i=t[s],a=o[s];if(typeof i=="string"){if(i!==a)return!1}else if(!Array.isArray(a)||a.length!==i.length||i.some((n,r)=>n!==a[r]))return!1}return!0}function getOriginalPath(o){return o?o.aliasOf?o.aliasOf.path:o.path:""}const getLinkClass=(o,t,s)=>o??t??s,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(o,{attrs:t,slots:s}){const i=inject(routerViewLocationKey),a=computed(()=>o.route||i.value),n=inject(viewDepthKey,0),r=computed(()=>a.value.matched[n]);provide(viewDepthKey,n+1),provide(matchedRouteKey,r),provide(routerViewLocationKey,a);const l=ref();return watch(()=>[l.value,r.value,o.name],([d,c,_],[m,p,f])=>{c&&(c.instances[_]=d,p&&p!==c&&d&&d===m&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),d&&c&&(!p||!isSameRouteRecord(c,p)||!m)&&(c.enterCallbacks[_]||[]).forEach(k=>k(d))},{flush:"post"}),()=>{const d=a.value,c=r.value,_=c&&c.components[o.name],m=o.name;if(!_)return normalizeSlot(s.default,{Component:_,route:d});const p=c.props[o.name],f=p?p===!0?d.params:typeof p=="function"?p(d):p:null,b=h(_,assign({},f,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[m]=null)},ref:l}));return normalizeSlot(s.default,{Component:b,route:d})||b}}});function normalizeSlot(o,t){if(!o)return null;const s=o(t);return s.length===1?s[0]:s}const RouterView=RouterViewImpl;function createRouter(o){const t=createRouterMatcher(o.routes,o),s=o.parseQuery||parseQuery,i=o.stringifyQuery||stringifyQuery,a=o.history,n=useCallbacks(),r=useCallbacks(),l=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let c=START_LOCATION_NORMALIZED;isBrowser&&o.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=applyToParams.bind(null,z=>""+z),m=applyToParams.bind(null,encodeParam),p=applyToParams.bind(null,decode);function f(z,Ht){let fe,eo;return isRouteName(z)?(fe=t.getRecordMatcher(z),eo=Ht):eo=z,t.addRoute(eo,fe)}function k(z){const Ht=t.getRecordMatcher(z);Ht&&t.removeRoute(Ht)}function b(){return t.getRoutes().map(z=>z.record)}function v(z){return!!t.getRecordMatcher(z)}function N(z,Ht){if(Ht=assign({},Ht||d.value),typeof z=="string"){const uo=parseURL(s,z,Ht.path),Bo=t.resolve({path:uo.path},Ht),Io=a.createHref(uo.fullPath);return assign(uo,Bo,{params:p(Bo.params),hash:decode(uo.hash),redirectedFrom:void 0,href:Io})}let fe;if("path"in z)fe=assign({},z,{path:parseURL(s,z.path,Ht.path).path});else{const uo=assign({},z.params);for(const Bo in uo)uo[Bo]==null&&delete uo[Bo];fe=assign({},z,{params:m(z.params)}),Ht.params=m(Ht.params)}const eo=t.resolve(fe,Ht),po=z.hash||"";eo.params=_(p(eo.params));const yo=stringifyURL(i,assign({},z,{hash:encodeHash(po),path:eo.path})),io=a.createHref(yo);return assign({fullPath:yo,hash:po,query:i===stringifyQuery?normalizeQuery(z.query):z.query||{}},eo,{redirectedFrom:void 0,href:io})}function T(z){return typeof z=="string"?parseURL(s,z,d.value.path):assign({},z)}function M(z,Ht){if(c!==z)return createRouterError(8,{from:Ht,to:z})}function D(z){return ao(z)}function G(z){return D(assign(T(z),{replace:!0}))}function le(z){const Ht=z.matched[z.matched.length-1];if(Ht&&Ht.redirect){const{redirect:fe}=Ht;let eo=typeof fe=="function"?fe(z):fe;return typeof eo=="string"&&(eo=eo.includes("?")||eo.includes("#")?eo=T(eo):{path:eo},eo.params={}),assign({query:z.query,hash:z.hash,params:z.params},eo)}}function ao(z,Ht){const fe=c=N(z),eo=d.value,po=z.state,yo=z.force,io=z.replace===!0,uo=le(fe);if(uo)return ao(assign(T(uo),{state:po,force:yo,replace:io}),Ht||fe);const Bo=fe;Bo.redirectedFrom=Ht;let Io;return!yo&&isSameRouteLocation(i,eo,fe)&&(Io=createRouterError(16,{to:Bo,from:eo}),Po(eo,eo,!0,!1)),(Io?Promise.resolve(Io):co(Bo,eo)).catch(Ao=>isNavigationFailure(Ao)?isNavigationFailure(Ao,2)?Ao:mo(Ao):vo(Ao,Bo,eo)).then(Ao=>{if(Ao){if(isNavigationFailure(Ao,2))return ao(assign(T(Ao.to),{state:po,force:yo,replace:io}),Ht||Bo)}else Ao=Bt(Bo,eo,!0,io,po);return ho(Bo,eo,Ao),Ao})}function lo(z,Ht){const fe=M(z,Ht);return fe?Promise.reject(fe):Promise.resolve()}function co(z,Ht){let fe;const[eo,po,yo]=extractChangingRecords(z,Ht);fe=extractComponentsGuards(eo.reverse(),"beforeRouteLeave",z,Ht);for(const uo of eo)uo.leaveGuards.forEach(Bo=>{fe.push(guardToPromiseFn(Bo,z,Ht))});const io=lo.bind(null,z,Ht);return fe.push(io),runGuardQueue(fe).then(()=>{fe=[];for(const uo of n.list())fe.push(guardToPromiseFn(uo,z,Ht));return fe.push(io),runGuardQueue(fe)}).then(()=>{fe=extractComponentsGuards(po,"beforeRouteUpdate",z,Ht);for(const uo of po)uo.updateGuards.forEach(Bo=>{fe.push(guardToPromiseFn(Bo,z,Ht))});return fe.push(io),runGuardQueue(fe)}).then(()=>{fe=[];for(const uo of z.matched)if(uo.beforeEnter&&!Ht.matched.includes(uo))if(Array.isArray(uo.beforeEnter))for(const Bo of uo.beforeEnter)fe.push(guardToPromiseFn(Bo,z,Ht));else fe.push(guardToPromiseFn(uo.beforeEnter,z,Ht));return fe.push(io),runGuardQueue(fe)}).then(()=>(z.matched.forEach(uo=>uo.enterCallbacks={}),fe=extractComponentsGuards(yo,"beforeRouteEnter",z,Ht),fe.push(io),runGuardQueue(fe))).then(()=>{fe=[];for(const uo of r.list())fe.push(guardToPromiseFn(uo,z,Ht));return fe.push(io),runGuardQueue(fe)}).catch(uo=>isNavigationFailure(uo,8)?uo:Promise.reject(uo))}function ho(z,Ht,fe){for(const eo of l.list())eo(z,Ht,fe)}function Bt(z,Ht,fe,eo,po){const yo=M(z,Ht);if(yo)return yo;const io=Ht===START_LOCATION_NORMALIZED,uo=isBrowser?history.state:{};fe&&(eo||io?a.replace(z.fullPath,assign({scroll:io&&uo&&uo.scroll},po)):a.push(z.fullPath,po)),d.value=z,Po(z,Ht,fe,io),mo()}let ce;function A(){ce=a.listen((z,Ht,fe)=>{const eo=N(z),po=le(eo);if(po){ao(assign(po,{replace:!0}),eo).catch(noop);return}c=eo;const yo=d.value;isBrowser&&saveScrollPosition(getScrollKey(yo.fullPath,fe.delta),computeScrollPosition()),co(eo,yo).catch(io=>isNavigationFailure(io,12)?io:isNavigationFailure(io,2)?(ao(io.to,eo).then(uo=>{isNavigationFailure(uo,20)&&!fe.delta&&fe.type===NavigationType.pop&&a.go(-1,!1)}).catch(noop),Promise.reject()):(fe.delta&&a.go(-fe.delta,!1),vo(io,eo,yo))).then(io=>{io=io||Bt(eo,yo,!1),io&&(fe.delta?a.go(-fe.delta,!1):fe.type===NavigationType.pop&&isNavigationFailure(io,20)&&a.go(-1,!1)),ho(eo,yo,io)}).catch(noop)})}let de=useCallbacks(),_o=useCallbacks(),bo;function vo(z,Ht,fe){mo(z);const eo=_o.list();return eo.length?eo.forEach(po=>po(z,Ht,fe)):console.error(z),Promise.reject(z)}function Vo(){return bo&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((z,Ht)=>{de.add([z,Ht])})}function mo(z){return bo||(bo=!z,A(),de.list().forEach(([Ht,fe])=>z?fe(z):Ht()),de.reset()),z}function Po(z,Ht,fe,eo){const{scrollBehavior:po}=o;if(!isBrowser||!po)return Promise.resolve();const yo=!fe&&getSavedScrollPosition(getScrollKey(z.fullPath,0))||(eo||!fe)&&history.state&&history.state.scroll||null;return nextTick().then(()=>po(z,Ht,yo)).then(io=>io&&scrollToPosition(io)).catch(io=>vo(io,z,Ht))}const wo=z=>a.go(z);let Do;const Mo=new Set;return{currentRoute:d,addRoute:f,removeRoute:k,hasRoute:v,getRoutes:b,resolve:N,options:o,push:D,replace:G,go:wo,back:()=>wo(-1),forward:()=>wo(1),beforeEach:n.add,beforeResolve:r.add,afterEach:l.add,onError:_o.add,isReady:Vo,install(z){const Ht=this;z.component("RouterLink",RouterLink),z.component("RouterView",RouterView),z.config.globalProperties.$router=Ht,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!Do&&d.value===START_LOCATION_NORMALIZED&&(Do=!0,D(a.location).catch(po=>{}));const fe={};for(const po in START_LOCATION_NORMALIZED)fe[po]=computed(()=>d.value[po]);z.provide(routerKey,Ht),z.provide(routeLocationKey,reactive(fe)),z.provide(routerViewLocationKey,d);const eo=z.unmount;Mo.add(z),z.unmount=function(){Mo.delete(z),Mo.size<1&&(c=START_LOCATION_NORMALIZED,ce&&ce(),d.value=START_LOCATION_NORMALIZED,Do=!1,bo=!1),eo()}}}}function runGuardQueue(o){return o.reduce((t,s)=>t.then(()=>s()),Promise.resolve())}function extractChangingRecords(o,t){const s=[],i=[],a=[],n=Math.max(t.matched.length,o.matched.length);for(let r=0;r<n;r++){const l=t.matched[r];l&&(o.matched.find(c=>isSameRouteRecord(c,l))?i.push(l):s.push(l));const d=o.matched[r];d&&(t.matched.find(c=>isSameRouteRecord(c,d))||a.push(d))}return[s,i,a]}const _sfc_main$3s={props:{rating:{type:Number,default:0}}},_hoisted_1$3l={class:"mb-0"};function _sfc_render$13(o,t,s,i,a,n){return openBlock(),createElementBlock("p",_hoisted_1$3l,[createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":s.rating>=1,"text-dark":s.rating<1}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":s.rating>=2,"text-dark":s.rating<2}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":s.rating>=3,"text-dark":s.rating<3}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":s.rating>=4,"text-dark":s.rating<4}])},null,2),createBaseVNode("i",{class:normalizeClass(["fa fa-star",{"text-primary":s.rating>=5,"text-dark":s.rating<5}])},null,2)])}const Rating=_export_sfc(_sfc_main$3s,[["render",_sfc_render$13]]),_hoisted_1$3k={class:"item bg-theme pb-3 rounded-m shadow-l"},_hoisted_2$3c={class:"card-bottom"},_hoisted_3$32={class:"color-white text-center pr-2 pb-2"},_hoisted_4$2T=createBaseVNode("div",{class:"card-overlay bg-gradient"},null,-1),_hoisted_5$2O={class:"d-flex px-3"},_hoisted_6$2L={class:"mb-n1"},_hoisted_7$2G={key:0,class:"opacity-60"},_hoisted_8$2x={key:1,class:"color-red1-dark mb-0 font-11"},_hoisted_9$2t=["disabled"],_hoisted_10$2j=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_11$2c=[_hoisted_10$2j],__default__$2j={props:["item"],data(){return{showCart:!1}},computed:{currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},goToProduct(){this.$router.push({name:"product",params:{productId:this.item.id}})}}},_sfc_main$3r=Object.assign(__default__$2j,{__name:"ProductItemMini",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$3k,[createBaseVNode("div",{"data-card-height":"200",class:"card mb-3",onClick:s[0]||(s[0]=(...i)=>t.goToProduct&&t.goToProduct(...i)),style:normalizeStyle([{height:"200px"},{"background-image":"url("+(o.item.images[0]||"")+")"}])},[createBaseVNode("div",_hoisted_2$3c,[createBaseVNode("h5",_hoisted_3$32,toDisplayString(o.item.title||"Без названия"),1)]),_hoisted_4$2T],4),createBaseVNode("div",_hoisted_5$2O,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_6$2L,toDisplayString(o.item.current_price||0)+"₽",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_7$2G,"было "+toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0),createVNode(Rating,{rating:o.item.rating},null,8,["rating"]),o.item.in_stop_list_at?(openBlock(),createElementBlock("p",_hoisted_8$2x,"Нет в наличии")):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:s[1]||(s[1]=(...i)=>t.addToCart&&t.addToCart(...i)),class:normalizeClass([{"bg-gray":o.item.in_stop_list_at!=null,"bg-highlight":o.item.in_stop_list_at==null},"btn btn-xs btn-center-xs rounded-s shadow-s text-uppercase font-900"]),disabled:o.item.in_stop_list_at!=null},_hoisted_11$2c,10,_hoisted_9$2t)])])]))}}),_sfc_main$3q={props:["item"],data(){return{showCart:!1}},computed:{currentPriceParts(){return{right:"00",left:this.item.current_price}},currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},goToProduct(){this.$router.push({name:"product",params:{productId:this.item.id}})}}},_hoisted_1$3j={class:"card-top mt-3 mr-3"},_hoisted_2$3b=createBaseVNode("i",{class:"fa fa-shopping-cart"},null,-1),_hoisted_3$31=[_hoisted_2$3b],_hoisted_4$2S=createBaseVNode("a",{href:"javascript:void(0)",class:"icon icon-s rounded-l shadow-xl bg-red2-dark color-white float-right ml-2 mr-2"},[createBaseVNode("i",{class:"fa fa-heart"})],-1),_hoisted_5$2N={class:"content mb-0"},_hoisted_6$2K={class:"d-flex"},_hoisted_7$2F={style:{"line-height":"130%"},class:"mb-n1 font-600 color-highlight d-flex flex-column"},_hoisted_8$2w={class:"font-700"},_hoisted_9$2s={class:"ml-auto"},_hoisted_10$2i={class:"font-300 opacity-30"},_hoisted_11$2b={key:0,class:"badge bg-highlight color-white px-3 py-1 mt-n1 text-uppercase d-block"},_hoisted_12$28=createBaseVNode("div",{class:"card-overlay bg-gradient-fade rounded-l"},null,-1),_hoisted_13$20=createBaseVNode("div",{class:"card-overlay"},null,-1);function _sfc_render$12(o,t,s,i,a,n){return openBlock(),createElementBlock("div",{class:"card rounded-l shadow-xl bg-18 mb-3 d-block",style:normalizeStyle([{"background-image":"url("+(s.item.images[0]||"")+")"},{height:"320px",margin:"20px"}]),"data-card-height":"320"},[createBaseVNode("div",_hoisted_1$3j,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=(...r)=>n.addToCart&&n.addToCart(...r)),style:{width:"50px",height:"50px"},class:"btn rounded-l shadow-xl bg-highlight color-white float-right"},_hoisted_3$31),_hoisted_4$2S]),createBaseVNode("div",{class:"card-bottom mb-3",onClick:t[1]||(t[1]=(...r)=>n.goToProduct&&n.goToProduct(...r))},[createBaseVNode("div",_hoisted_5$2N,[createBaseVNode("div",_hoisted_6$2K,[createBaseVNode("div",null,[createBaseVNode("p",_hoisted_7$2F,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.item.categories,r=>(openBlock(),createElementBlock("span",null,toDisplayString(r.title||"Без категории"),1))),256))]),createBaseVNode("h1",_hoisted_8$2w,toDisplayString(s.item.title||"Нет заголовка"),1)]),createBaseVNode("div",_hoisted_9$2s,[createBaseVNode("h1",null,[createTextVNode("₽"+toDisplayString(n.currentPriceParts.left),1),createBaseVNode("sup",_hoisted_10$2i,toDisplayString(n.currentPriceParts.right),1)]),n.oldPrice>0?(openBlock(),createElementBlock("span",_hoisted_11$2b,"Скидки")):createCommentVNode("",!0)])])])]),_hoisted_12$28,_hoisted_13$20],4)}const ProductItemLarge=_export_sfc(_sfc_main$3q,[["render",_sfc_render$12]]),baseJS={handler(){$(window).on("load",function(){$(".menu").css("display","block"),$("#preloader").addClass("preloader-hide")}),$(document).ready(function(){function o(){var t=[["none","","",""],["red1","#D8334A","#BF263C","#9d0f23"],["red2","#ED5565","#DA4453","#a71222"],["orange","#FC6E51","#E9573F","#ce3319"],["yellow1","#FFCE54","#F6BB42","#e6a00f"],["yellow2","#E8CE4D","#E0C341","#dbb50c"],["green1","#A0D468","#8CC152","#5ba30b"],["green2","#2ECC71","#2ABA66","#0da24b"],["mint","#48CFAD","#37BC9B","#0fa781"],["teal","#A0CECB","#7DB1B1","#158383"],["aqua","#4FC1E9","#3BAFDA","#0a8ab9"],["blue1","#4FC1E9","#3BAFDA","#0b769d"],["blue2","#5D9CEC","#4A89DC","#1a64c6"],["magenta1","#AC92EC","#967ADC","#704dc9"],["magenta2","#8067B7","#6A50A7","#4e3190"],["pink1","#EC87C0","#D770AD","#c73c8e"],["pink2","#fa6a8e","#fb3365","#d30e3f"],["brown1","#BAA286","#AA8E69","#896b43"],["brown2","#8E8271","#7B7163","#584934"],["gray1","#F5F7FA","#E6E9ED","#c2c5c9"],["gray2","#CCD1D9","#AAB2BD","#88919d"],["dark1","#656D78","#434A54","#242b34"],["dark2","#3C3B3D","#323133","#1c191f"]],s=[["facebook","#3b5998"],["linkedin","#0077B5"],["twitter","#4099ff"],["google","#d34836"],["whatsapp","#34AF23"],["pinterest","#C92228"],["sms","#27ae60"],["mail","#3498db"],["dribbble","#EA4C89"],["phone","#27ae60"],["skype","#12A5F4"],["instagram","#e1306c"]],i=$(".menu");$("body"),$(".nav-fixed");var a=$("#footer-bar");$(".close-menu");var n=$(".header");$("#page"),$(".page-content");var r=$(".header, .page-content, #footer-bar");"scrollRestoration"in history&&(history.scrollRestoration="manual"),$("a").on("click",function(){var V=$(this).attr("href");if(V==="#")return!1}),$.fn.showMenu=function(){$(this).addClass("menu-active"),$("#footer-bar").addClass("footer-menu-hidden"),setTimeout(function(){$(".menu-hider").addClass("menu-active")},250)},$.fn.hideMenu=function(){$(this).removeClass("menu-active"),$("#footer-bar").removeClass("footer-menu-hidden"),$(".menu-hider").removeClass("menu-active")};function l(){$(".menu-hider").length||$("#page").append('<div class="menu-hider"><div>');var V=$(".menu-hider"),Q=$("[data-menu]");i.each(function(){var he=$(this).data("menu-height"),zt=$(this).data("menu-width");$(this).data("menu-active"),$(this).hasClass("menu-box-right")&&$(this).css("width",zt),$(this).hasClass("menu-box-left")&&$(this).css("width",zt),$(this).hasClass("menu-box-bottom")&&$(this).css("height",he),$(this).hasClass("menu-box-top")&&$(this).css("height",he),$(this).hasClass("menu-box-modal")&&$(this).css({height:he,width:zt})}),Q.on("click",function(){i.removeClass("menu-active"),V.addClass("menu-active");var he=$(this).data("menu"),zt=$("#"+he),$o=$("#"+he).data("menu-effect"),ko=zt.data("menu-width"),fo=zt.data("menu-height");$("body").addClass("modal-open"),zt.hasClass("menu-header-clear")&&V.addClass("menu-active-clear");function Eo(){zt=zt.addClass("menu-active")}return zt.hasClass("menu-box-bottom")&&$("#footer-bar").addClass("footer-menu-hidden"),$o==="menu-parallax"&&(zt.hasClass("menu-box-bottom")&&r.css("transform","translateY("+fo/5*-1+"px)"),zt.hasClass("menu-box-top")&&r.css("transform","translateY("+fo/5+"px)"),zt.hasClass("menu-box-left")&&r.css("transform","translateX("+ko/5+"px)"),zt.hasClass("menu-box-right")&&r.css("transform","translateX("+ko/5*-1+"px)")),$o==="menu-push"&&(zt.hasClass("menu-box-bottom")&&r.css("transform","translateY("+fo*-1+"px)"),zt.hasClass("menu-box-top")&&r.css("transform","translateY("+fo+"px)"),zt.hasClass("menu-box-left")&&r.css("transform","translateX("+ko+"px)"),zt.hasClass("menu-box-right")&&r.css("transform","translateX("+ko*-1+"px)")),$o==="menu-push-full"&&(zt.hasClass("menu-box-left")&&r.css("transform","translateX(100%)"),zt.hasClass("menu-box-right")&&r.css("transform","translateX(-100%)")),Eo(),!1});var to=$("[data-auto-activate]");to.length&&(to.addClass("menu-active"),V.addClass("menu-active")),$("body").removeClass("modal-open"),$(".menu-hider, .close-menu, .menu-close").on("click",function(){return i.removeClass("menu-active"),V.removeClass("menu-active menu-active-clear"),r.css("transform","translate(0,0)"),V.css("transform","translate(0,0)"),$("#footer-bar").removeClass("footer-menu-hidden"),$("body").removeClass("modal-open"),!1}),setTimeout(function(){var he=$("#menu-main").data("menu-active");if($("#"+he).addClass("nav-item-active"),$("[data-submenu]").on("click",function(){$(this).toggleClass("nav-item-active"),$(this).find(".fa-chevron-right").toggleClass("rotate-90");var $o=$(this).data("submenu");return $("#"+$o).slideToggle(250),!1}),$("[data-submenu]").each(function(){var $o=$(this).data("submenu"),ko=$("#"+$o).children().length;$(this).find("strong").html(ko)}),$(".nav-item-active").data("submenu")){$(".nav-item-active").find(".fa-chevron-right").toggleClass("rotate-90");var zt=$(".nav-item-active").data("submenu");$("#"+zt).slideDown(250)}$(".nav-item-active").parent().hasClass("submenu")&&$(".nav-item-active").parent().slideDown(250)},250)}function d(V,Q,to){if(to){var he=new Date;he.setTime(he.getTime()+48*to*60*3600*1e3);var zt="; expires="+he.toGMTString()}else var zt="";document.cookie=V+"="+Q+zt+"; path=/"}function c(V){for(var Q=V+"=",to=document.cookie.split(";"),he=0;he<to.length;he++){for(var zt=to[he];zt.charAt(0)==" ";)zt=zt.substring(1,zt.length);if(zt.indexOf(Q)==0)return zt.substring(Q.length,zt.length)}return null}function _(V){d(V,"",-1)}function m(){$("body").find("#transitions-remove").remove()}function p(){$("body").append('<style id="transitions-remove">.btn, .header, #footer-bar, .menu-box, .menu-active, #page, .page-content{transition:all 0ms ease!important;}</style>'),setTimeout(function(){m()},10)}function f(){var V=$("[data-toggle-theme-switch], [data-toggle-theme], [data-toggle-theme-switch] input, [data-toggle-theme] input");$("[data-toggle-theme], [data-toggle-theme-switch]").off().on("click",function(){return p(),$("body").toggleClass("theme-light theme-dark"),setTimeout(function(){$("body").hasClass("detect-theme")&&$("body").removeClass("detect-theme"),$("body").hasClass("theme-light")&&(_("azures_dark_mode"),V.prop("checked",!1),d("azures_light_mode",!0,1)),$("body").hasClass("theme-dark")&&(_("azures_light_mode"),V.prop("checked",!0),d("azures_dark_mode",!0,1))},150),!1}),c("azures_dark_mode")&&(V.prop("checked",!0),$("body").removeClass("theme-light").addClass("theme-dark")),c("azures_light_mode")&&(V.prop("checked",!1),$("body").removeClass("theme-dark").addClass("theme-light"));function Q(){$("body").removeClass("theme-light").addClass("theme-dark"),$("#dark-mode-detected").removeClass("disabled"),_("azures_light_mode"),d("azures_dark_mode",!0,1)}function to(){$("body").removeClass("theme-dark").addClass("theme-light"),$("#dark-mode-detected").removeClass("disabled"),_("azures_dark_mode"),d("azures_light_mode",!0,1)}function he(){$("#manual-mode-detected").removeClass("disabled")}function zt(){const $o=window.matchMedia("(prefers-color-scheme: dark)").matches,ko=window.matchMedia("(prefers-color-scheme: light)").matches;window.matchMedia("(prefers-color-scheme: no-preference)").matches,window.matchMedia("(prefers-color-scheme: dark)").addListener(fo=>fo.matches&&Q()),window.matchMedia("(prefers-color-scheme: light)").addListener(fo=>fo.matches&&to()),window.matchMedia("(prefers-color-scheme: no-preference)").addListener(fo=>fo.matches&&he()),$o&&Q(),ko&&to()}$("body").hasClass("detect-theme")&&zt(),$(".detect-dark-mode").on("click",function(){return $("body").addClass("detect-theme"),zt(),!1}),$(".disable-auto-dark-mode").on("click",function(){return $("body").removeClass("detect-theme"),$(this).remove(),!1})}f(),$(".footer-bar-2, .footer-bar-4, .footer-bar-5").length&&($(".footer-bar-2 strong, .footer-bar-4 strong, .footer-bar-5 strong").length||$(".footer-bar-2 .active-nav, .footer-bar-4 .active-nav, .footer-bar-5 .active-nav").append("<strong></strong>"));var k=$(".back-button, [data-back-button]");k.on("click",function(){window.history.go(-1)});var b=$(".copyright-year, #copyright-year"),v=new Date,N=v.getFullYear();b.html(N);function T(){$(".back-to-top").off().on("click",function(V){return V.preventDefault(),$("html, body").animate({scrollTop:0},350),!1})}T();var M=$(".back-to-top, [data-back-to-top], .back-to-top-badge, .back-to-top-icon"),D=$(".back-to-top-badge, .back-to-top-icon");M.on("click",function(V){return V.preventDefault(),$("html, body, .page-content").animate({scrollTop:0},350),!1});function G(){D.addClass("back-to-top-visible")}function le(){D.removeClass("back-to-top-visible")}var ao=$(".scroll-ad");function lo(){ao.addClass("scroll-ad-visible")}function co(){ao.removeClass("scroll-ad-visible")}$(window).on("scroll",function(){var V=document.body.scrollHeight,Q=$(this).scrollTop()<=150,to=$(this).scrollTop()>=0;$(this).scrollTop()>=150;var he=$(this).scrollTop()>=V-($(window).height()+300);Q===!0?(le(),co(),$(".header-auto-show").removeClass("header-active")):to===!0&&(G(),lo(),$(".header-auto-show").addClass("header-active")),he==!0&&(le(),co())});var ho=$(".tab-controls");function Bt(){var V=$(".tab-controls a");ho.each(function(){var Q=$(this).parent().find(".tab-controls").data("tab-items");$(this).width();var to=$(this).find("a[data-tab-active]"),he=$("#"+to.data("tab")),zt=$(this).data("tab-active");$(this).find("a[data-tab]").css("width",100/Q+"%"),to.addClass(zt),to.addClass("color-white"),he.slideDown(0)}),V.on("click",function(){var Q=$(this).data("tab"),to=$("#"+Q),he=$(this).parent().parent().find(".tab-content"),he=$(this).parent().parent().parent().find(".tab-content");$(this).data("tab-order");var zt=$(this).parent().parent().find(".tab-controls").data("tab-active");$(this).parent().find(V).removeClass(zt).removeClass("color-white"),$(this).addClass(zt).addClass("color-white"),$(this).parent().find("a").removeClass("no-click"),$(this).addClass("no-click"),he.slideUp(250),to.slideDown(250)})}ho.length&&Bt(),$(".text-size-increase").click(function(){$(".text-size-changer *").css("font-size","+=1")}),$(".text-size-decrease").click(function(){$(".text-size-changer *").css("font-size","-=1")}),$(".text-size-default").click(function(){$(".text-size-changer *").css("font-size","")});function ce(){return $("[data-search]").on("keyup",function(){var V=$(this).val();V!=""?($(".search-header a").removeClass("disabled"),$(".search-trending").addClass("disabled"),$(".search-results").removeClass("disabled-search-list"),$("[data-filter-item]").addClass("disabled-search-item"),$('[data-filter-item][data-filter-name*="'+V.toLowerCase()+'"]').removeClass("disabled-search-item")):($(".search-header a").removeClass("disabled"),$(".search-trending").removeClass("disabled"),$(".search-results").addClass("disabled-search-list"),$("[data-filter-item]").removeClass("disabled-search-item"));var Q=$(".search-no-results"),to=$(".search-results").find(".search-result-list.disabled-search-item");to.length?Q.removeClass("disabled"):Q.addClass("disabled")}),!1}ce(),$(".search-trending a").on("click",function(){var V=jQuery.Event("keydown");V.which=32,$(".search-trending").addClass("disabled");var Q=$(this).find("span").text().toLowerCase();return $(".search-header a").removeClass("disabled"),$(".search-header input").val(Q),$(".search-results").removeClass("disabled-search-list"),$("[data-filter-item]").addClass("disabled-search-item"),$('[data-filter-item][data-filter-name*="'+Q.toLowerCase()+'"]').removeClass("disabled-search-item"),$(".menu-search-trending").addClass("disabled-search-item"),!1}),$(".search-header a").on("click",function(){return $(".search-trending").removeClass("disabled"),$(".menu-search-trending").removeClass("disabled-search-item"),$(".search-results").addClass("disabled-search-list"),$(".search-header input").val(""),$(this).addClass("disabled"),!1}),setTimeout(function(){$(".user-slider").owlCarousel({loop:!1,margin:20,nav:!1,lazyLoad:!0,items:1,autoplay:!1,dots:!1,autoplayTimeout:4e3}),$(".user-list-slider").owlCarousel({loop:!0,margin:20,nav:!1,stagePadding:30,lazyLoad:!0,items:4,autoplay:!1,dots:!1,autoplayTimeout:4e3}),$(".single-slider").owlCarousel({loop:!0,margin:20,nav:!1,lazyLoad:!0,items:1,autoplay:!0,autoplayTimeout:4e3}),$(".single-slider-boxed").owlCarousel({loop:!0,stagePadding:30,margin:20,nav:!1,lazyLoad:!0,items:1,autoplay:!0,autoplayTimeout:4e3}),$(".cover-slider").owlCarousel({loop:!0,margin:0,nav:!1,lazyLoad:!0,items:1,autoplay:!0,autoplayTimeout:6e3}),$(".double-slider").owlCarousel({loop:!0,margin:20,stagePadding:20,nav:!1,lazyLoad:!1,items:2,autoplay:!1,autoplayTimeout:4e3}),$(".task-slider").owlCarousel({loop:!0,margin:20,nav:!1,stagePadding:50,lazyLoad:!0,items:2,autoplay:!1,autoplayTimeout:4e3}),$(".next-slide, .next-slide-arrow, .next-slide-text, .cover-next").on("click",function(){$(this).parent().find(".owl-carousel").trigger("next.owl.carousel")}),$(".prev-slide, .prev-slide-arrow, .prev-slide-text, .cover-prev").on("click",function(){$(this).parent().find(".owl-carousel").trigger("prev.owl.carousel")}),$(".next-slide-user").on("click",function(){$(this).closest(".owl-carousel").trigger("next.owl.carousel")}),$(".prev-slide-user").on("click",function(){$(this).closest(".owl-carousel").trigger("prev.owl.carousel")})},1e3),setTimeout(function(){$(".owl-prev, .owl-next").addClass("bg-highlight")});var A={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return A.Android()||A.iOS()||A.Windows()}};A.any()||($("body").addClass("is-not-ios"),$(".show-ios, .show-android").addClass("disabled"),$(".show-no-device").removeClass("disabled")),A.Android()&&($("body").addClass("is-not-ios"),$("head").append('<meta name="theme-color" content="#FFFFFF"> />'),$(".show-android").removeClass("disabled"),$(".show-ios, .show-no-device, .simulate-android, .simulate-iphones").addClass("disabled")),A.iOS()&&($("body").addClass("is-ios"),$(".show-ios").removeClass("disabled"),$(".show-android, .show-no-device, .simulate-android, .simulate-iphones").addClass("disabled")),$("[data-toast]").on("click",function(){return $(".toast, .snackbar-toast, .notification").toast("hide"),$("#"+$(this).data("toast")).toast("show"),!1}),$("[data-dismiss]").on("click",function(){var V=$(this).data("dismiss");$("#"+V).toast("hide")}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$('[data-toggle="collapse"]').length&&$('[data-toggle="collapse"]').on("click",function(V){V.preventDefault()}),$(".ios-input, .android-input, .classic-input").on("click",function(){var V=$(this).attr("id"),Q=$("[data-switch="+V+"]");Q.length&&Q.stop().animate({height:"toggle"},250)}),$("[data-activate]").on("click",function(){var V=$(this).data("activate");$("#"+V).trigger("click")}),$("[data-trigger-switch]").on("click",function(){var V=$(this).data("trigger-switch");$("#"+V).prop("checked")?$("#"+V).prop("checked",!1):$("#"+V).prop("checked",!0)});var de=$(".business-hours");function _o(){if(de.length){var V=new Date(Date.now()),Q="day-"+new Date().toLocaleDateString("en",{weekday:"long"}).toLowerCase();V.getHours()+""+V.getMinutes();var to=$("."+Q),he=de.data("closed-message").toString(),zt=de.data("closed-message-under").toString(),$o=de.data("opened-message").toString(),ko=de.data("opened-message-under").toString();$("[data-monday]").data("open"),$("[data-monday]").data("close"),$(".business-hours").openingTimes({openingTimes:{Monday:["08:00","17:00"],Tuesday:["08:00","17:30"],Wednesday:["08:00","17:00"],Thursday:["08:00","17:00"],Friday:["09:00","18:55"],Saturday:["09:00","12:00"]},openClass:"bg-green1-dark is-business-opened",closedClass:"bg-red2-dark is-business-closed"}),de.hasClass("is-business-opened")?($(".show-business-opened").removeClass("disabled"),$(".show-business-closed").addClass("disabled"),de.find("h1").html($o),de.find("p").html(ko),de.find("#business-hours-mail").remove(),to.addClass("bg-green1-dark")):($(".show-business-opened").addClass("disabled"),$(".show-business-closed").removeClass("disabled"),de.find("h1").html(he),de.find("p").html(zt),de.find("#business-hours-call").remove(),to.addClass("bg-red2-dark")),to.find("p").addClass("color-white")}}de.length&&_o();function bo(){(function(V,Q,to){if(to in Q&&Q[to]){var he,zt=V.location,$o=/^(a|html)$/i;V.addEventListener("click",function(ko){for(he=ko.target;!$o.test(he.nodeName);)he=he.parentNode;"href"in he&&(he.href.indexOf("http")||~he.href.indexOf(zt.host))&&(ko.preventDefault(),zt.href=he.href)},!1),$(".add-to-home").addClass("disabled"),$("body").addClass("is-on-homescreen")}})(document,window.navigator,"standalone")}if(bo(),$(".simulate-android-badge").on("click",function(){$(".add-to-home").removeClass("add-to-home-ios").addClass("add-to-home-visible add-to-home-android")}),$(".simulate-iphone-badge").on("click",function(){$(".add-to-home").removeClass("add-to-home-android").addClass("add-to-home-visible add-to-home-ios")}),$(".add-to-home").on("click",function(){$(".add-to-home").removeClass("add-to-home-visible")}),$(".simulate-android-banner").on("click",function(){$("#menu-install-pwa-android, .menu-hider").addClass("menu-active")}),$(".simulate-ios-banner").on("click",function(){$("#menu-install-pwa-ios, .menu-hider").addClass("menu-active")}),$.card_extender=function(){if($(".is-on-homescreen").length){var V=screen.height;$(".page-content, #page").css("min-height",V)}if(!$(".is-on-homescreen").length){var V=window.innerHeight;$(".page-content, #page").css("min-height",V)}$("[data-card-height]").each(function(){var Q=$(this).data("card-height"),to=$(".header").height(),he=$("#footer-bar").height();$(this).css("height",Q),Q=="cover"&&(n.length&&a.length?($(this).css("height",V-to-he),$(".map-full, .map-full iframe").css("height",V-to-he+14)):($(this).css("height",V),$(".map-full, .map-full iframe").css("height",V))),Q=="cover-card"&&($(this).css("height",V-180),$(".map-full, .map-full iframe").css("height",V-180))})},$.card_extender(),$(window).resize(function(){$.card_extender()}),$(".show-map, .hide-map").on("click",function(){$(".map-full .caption").toggleClass("deactivate-map"),$(".map-but-1, .map-but-2").toggleClass("deactivate-map"),$(".map-full .hide-map").toggleClass("activate-map")}),$(".card-scale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-scale-image")}),$(".card-grayscale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-grayscale-image")}),$(".card-rotate").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-rotate-image")}),$(".card-blur").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("card-blur-image")}),$(".card-hide").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find(".card-center, .card-bottom, .card-top, .card-overlay").toggleClass("card-hide-image")}),$("#reading-progress-text").each(function(V){var Q=$(this).text().split(" ").length,to=Math.floor(Q/250),he=Q%60;$(".reading-progress-words").append(Q),$(".reading-progress-time").append(to+":"+he)}),$("[data-auto-show-ad]").length){var vo=$("[data-auto-show-ad]").data("auto-show-ad");setTimeout(function(){$("[data-auto-show-ad]").trigger("click")},vo*1e3)}$("[data-timed-ad]").on("click",function(){var V=$(this).data("timed-ad"),Q=$("#"+$(this).data("menu"));$(".menu-hider").addClass("no-click"),Q.find(".ad-time-close").addClass("no-click"),Q.find(".ad-time-close i").addClass("disabled"),Q.find(".ad-time-close span").removeClass("disabled");var to=setInterval(function(){if(V--,V<=0){$(".menu-hider").removeClass("no-click"),Q.find(".ad-time-close").removeClass("no-click"),Q.find(".ad-time-close i").removeClass("disabled"),Q.find(".ad-time-close span").addClass("disabled"),clearInterval(to);return}else Q.find(".ad-time-close span").html(V)},1e3)});function Vo(V){var Q,to,he,zt,$o;if(V=new Date(V),V=V.getTime(),isNaN(V))return;setInterval(ko,1);function ko(){var fo=new Date,fo=new Date(fo.getUTCFullYear(),fo.getUTCMonth(),fo.getUTCDate(),fo.getUTCHours(),fo.getUTCMinutes(),fo.getUTCSeconds()),Eo=parseInt((V-fo.getTime())/1e3);if(Eo>=0)Q=parseInt(Eo/31536e3),Eo=Eo%31536e3,to=parseInt(Eo/86400),Eo=Eo%86400,he=parseInt(Eo/3600),Eo=Eo%3600,zt=parseInt(Eo/60),Eo=Eo%60,$o=parseInt(Eo),$(".countdown").length&&($(".countdown #years")[0].innerHTML=parseInt(Q,10),$(".countdown #days")[0].innerHTML=parseInt(to,10),$(".countdown #hours")[0].innerHTML=("0"+he).slice(-2),$(".countdown #minutes")[0].innerHTML=("0"+zt).slice(-2),$(".countdown #seconds")[0].innerHTML=("0"+$o).slice(-2));else return}}Vo("01/19/2030 03:14:07 AM"),$(".accordion-btn").on("click",function(){$(this).addClass("no-click"),$(".accordion-icon").removeClass("rotate-180"),$(this).attr("aria-expanded")=="true"?$(this).parent().find(".accordion-icon").removeClass("rotate-180"):$(this).parent().find(".accordion-icon").addClass("rotate-180"),setTimeout(function(){$(".accordion-btn").removeClass("no-click")},250)}),$(".caption-scale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-scale-image")}),$(".caption-grayscale").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-grayscale-image")}),$(".caption-rotate").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-rotate-image")}),$(".caption-blur").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find("img").toggleClass("caption-blur-image")}),$(".caption-hide").unbind().bind("mouseenter mouseleave touchstart touchend",function(){$(this).find(".caption-center, .caption-bottom, .caption-top, .caption-overlay").toggleClass("caption-hide-image")});var mo=$(".upload-file");function Po(){function V(Q){if(Q.files&&Q.files[0]){var to=new FileReader;to.onload=function(he){$(".file-data img").attr("src",he.target.result),$(".file-data img").attr("class","img-fluid rounded-xs mt-4")},to.readAsDataURL(Q.files[0])}}$(".upload-file").change(function(Q){V(this),Q.target.files[0].name,$(".upload-file-data").removeClass("disabled"),$(".upload-file-name").html(Q.target.files[0].name),$(".upload-file-modified").html(Q.target.files[0].lastModifiedDate),$(".upload-file-size").html(Q.target.files[0].size/1e3+"kb"),$(".upload-file-type").html(Q.target.files[0].type)})}mo.length&&Po();var wo=$(".todo-list");function Do(){$(".todo-list a").each(function(){$(this).find(".todo-icon").hasClass("far fa-square")?$(this).removeClass("opacity-70"):$(this).addClass("opacity-70")}),$(".todo-list a").on("click",function(){$(this).find(".todo-icon").toggleClass("far fa-square fa fa-check-square color-green1-dark"),$(this).find(".todo-icon").hasClass("far fa-square")?$(this).removeClass("opacity-70"):$(this).addClass("opacity-70")})}wo.length&&Do();var Mo=$(".check-age");function So(){$(".check-age").on("click",function(){var V=$("#date-birth-day").val(),Q=$("#date-birth-month").val(),to=$("#date-birth-year").val(),he=18,zt=new Date;zt.setFullYear(to,Q-1,V);var $o=new Date,ko=new Date;return ko.setFullYear(zt.getFullYear()+he,Q-1,V),$o-ko>0?($("#menu-age").removeClass("menu-active"),$("#menu-age-okay").addClass("menu-active")):($("#menu-age").removeClass("menu-active"),$("#menu-age-fail").addClass("menu-active")),!0})}Mo.length&&So();var z=$(".get-location");function Ht(){"geolocation"in navigator?$(".location-support").html('Your browser and device <strong class="color-green2-dark">support</strong> Geolocation.'):$(".location-support").html('Your browser and device <strong class="color-red2-dark">support</strong> Geolocation.');function V(){const Q=document.querySelector(".location-coordinates");function to(zt){const $o=zt.coords.latitude,ko=zt.coords.longitude;Q.innerHTML="<strong>Longitude:</strong> "+ko+"<br><strong>Latitude:</strong> "+$o;var fo="http://maps.google.com/maps?q=",Eo=$o+",",ss=ko,Ns="&z=18&t=h&output=embed",Us="&z=18&t=h",Ls=fo+Eo+ss+Ns,Ps=fo+Eo+ss+Us;$(".location-map").after('<iframe class="location-map" src="'+Ls+'"></iframe> <div class="clearfix"></div>'),$(".location-map").parent().after(" <a href="+Ps+' class="btn btn-full btn-m bg-red2-dark rounded-xs text-uppercase font-900 mb-n1 mt-3">View on Google Maps</a>')}function he(){Q.textContent="Unable to retrieve your location"}navigator.geolocation?(Q.textContent="Locating",navigator.geolocation.getCurrentPosition(to,he)):Q.textContent="Geolocation is not supported by your browser"}$(".get-location").on("click",function(){$(this).addClass("disabled"),V()})}z.length&&Ht();var fe=/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,eo=/^((\+[1-9]{1,4}[ \-]*)|(\([0-9]{2,3}\)[ \-]*)|([0-9]{2,4})[ \-]*)*?[0-9]{3,4}?[ \-]*[0-9]{3,4}?$/,po=/[A-Za-z]{2}[A-Za-z]*[ ]?[A-Za-z]*/,yo=/[A-Za-z]{2}[A-Za-z]*[ ]?[A-Za-z]*/,io=/^(http|https)?:\/\/[a-zA-Z0-9-\.]+\.[a-z]{2,4}/,uo=/[A-Za-z]{2}[A-Za-z]*[ ]?[A-Za-z]*/,Bo="<i class='fa fa-check color-green1-dark'></i>",Io="<i class='fa fa-exclamation-triangle color-red2-light'></i>";$(".input-required input, .input-required select, .input-required textarea").on("focusin keyup",function(){var V=$(this).parent().find("span").text();$(this).val()!=V&&$(this).val()!=""&&$(this).parent().find("span").addClass("input-style-1-active").removeClass("input-style-1-inactive"),$(this).val()===""&&$(this).parent().find("span").removeClass("input-style-1-inactive input-style-1-active")}),$(".input-required input, .input-required select, .input-required textarea").on("focusout",function(){$(this).parent().find("span").text(),$(this).val()===""&&$(this).parent().find("span").removeClass("input-style-1-inactive input-style-1-active"),$(this).parent().find("span").addClass("input-style-1-inactive")}),$(".input-required select").on("focusout",function(){var V=$(this)[0].value;V==="default"&&($(this).parent().find("em").html(Io),$(this).parent().find("span").removeClass("input-style-1-inactive input-style-1-active")),V!="default"&&$(this).parent().find("em").html(Bo)}),$('.input-required input[type="email"]').on("focusout",function(){fe.test($(this).val())?$(this).parent().find("em").html(Bo):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Io)}),$('.input-required input[type="tel"]').on("focusout",function(){eo.test($(this).val())?$(this).parent().find("em").html(Bo):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Io)}),$('.input-required input[type="password"]').on("focusout",function(){yo.test($(this).val())?$(this).parent().find("em").html(Bo):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Io)}),$('.input-required input[type="url"]').on("focusout",function(){io.test($(this).val())?$(this).parent().find("em").html(Bo):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Io)}),$('.input-required input[type="name"]').on("focusout",function(){po.test($(this).val())?$(this).parent().find("em").html(Bo):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Io)}),$(".input-required textarea").on("focusout",function(){uo.test($(this).val())?$(this).parent().find("em").html(Bo):$(this).val()===""?$(this).parent().find("em").html("(required)"):$(this).parent().find("em").html(Io)}),Date.prototype.toDateInputValue=function(){var V=new Date(this);return V.setMinutes(this.getMinutes()-this.getTimezoneOffset()),V.toJSON().slice(0,10)},$('input[type="date"]').val(new Date().toDateInputValue()),Date.prototype.toDateInputValue=function(){var V=new Date(this);return V.setMinutes(this.getMinutes()-this.getTimezoneOffset()),V.toJSON().slice(0,10)},$('input[type="date"]').val(new Date().toDateInputValue());var Ao=$(".offline-message");Ao.length||($("body").append('<p class="offline-message bg-red2-dark color-white center-text uppercase ultrabold">No internet connection detected</p> '),$("body").append('<p class="online-message bg-green1-dark color-white center-text uppercase ultrabold">You are back online</p>'));function ns(){$(".offline-message").addClass("offline-message-active"),$(".online-message").removeClass("online-message-active"),setTimeout(function(){$(".offline-message").removeClass("offline-message-active")},2e3)}function cs(){$(".online-message").addClass("online-message-active"),$(".offline-message").removeClass("offline-message-active"),setTimeout(function(){$(".online-message").removeClass("online-message-active")},2e3)}$(".simulate-offline").on("click",function(){ns()}),$(".simulate-online").on("click",function(){cs()});function bs(V){cs()}function rs(V){ns()}window.addEventListener("online",bs),window.addEventListener("offline",rs);var $s=$(".generate-qr-result, .generate-qr-auto");function se(){var V=window.location.href,Q="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=";$(".generate-qr-auto").attr("src",Q+V),$(".generate-qr-button").on("click",function(){if(!$(this).parent().find(".fa").hasClass("fa-exclamation-triangle")){var to=$(".generate-qr-input").val();!to==""&&($(".generate-qr-result").empty(),setTimeout(function(){$(".generate-qr-result").append('<img class="mx-auto polaroid-effect shadow-l mt-4 delete-qr" width="200" src="'+Q+to+'" alt="img"><p class="font-11 text-center mb-0">'+to+"</p>")},30))}})}$s.length&&se();var ro=$("[data-vibrate]");function no(){$("[data-vibrate]").on("click",function(){var V=$(this).data("vibrate");window.navigator.vibrate(V)}),$(".start-vibrating").on("click",function(){var V=$(".vibrate-demo").val();window.navigator.vibrate(V)}),$(".stop-vibrating").on("click",function(){window.navigator.vibrate(0),$(".vibrate-demo").val("")})}ro.length&&no();function Co(){var V=window.location.href,Q=document.title;$(".shareToFacebook").prop("href","https://www.facebook.com/sharer/sharer.php?u="+V),$(".shareToLinkedIn").prop("href","https://www.linkedin.com/shareArticle?mini=true&url="+V+"&title="+Q+"&summary=&source="),$(".shareToTwitter").prop("href","https://twitter.com/home?status="+V),$(".shareToPinterest").prop("href","https://pinterest.com/pin/create/button/?url="+V),$(".shareToWhatsApp").prop("href","whatsapp://send?text="+V),$(".shareToMail").prop("href","mailto:?body="+V),$(".shareToCopyLink").on("click",function(to){$(this).parent().find("p").html("Скопировано"),$(this).removeClass("bg-blue2-dark").addClass("bg-green1-dark"),$(this).find("i").attr("class",""),$(this).find("i").attr("class","fa fa-check font-22"),setTimeout(function(){$(".shareToCopyLink").parent().find("p").html("Копировать"),$(".shareToCopyLink").removeClass("bg-green1-dark").addClass("bg-blue2-dark"),$(".shareToCopyLink").find("i").attr("class",""),$(".shareToCopyLink").find("i").attr("class","fa fa-link font-22")},1e3)})}Co();var xo=$(".preload-img");$(function(){xo.lazyload({threshold:500})}),$("[data-lightbox]").addClass("default-link"),lightbox.option({alwaysShowNavOnTouchDevices:!0,resizeDuration:200,wrapAround:!1}),$("#lightbox").hammer().on("swipe",function(V){V.gesture.direction===4?$("#lightbox a.lb-prev").trigger("click"):V.gesture.direction===2&&$("#lightbox a.lb-next").trigger("click")}),$(".gallery-filter").length>0&&($(".gallery-filter").filterizr(),$(".gallery-filter-active").addClass("color-highlight")),$(".gallery-filter-controls li").on("click",function(){$(".gallery-filter-controls li").removeClass("gallery-filter-active color-highlight"),$(this).addClass("gallery-filter-active color-highlight")});var Uo=$(".gallery-views"),Lo=$(".gallery-view-controls a"),Yo=$(".gallery-view-1-activate"),To=$(".gallery-view-2-activate"),Xo=$(".gallery-view-3-activate");Yo.on("click",function(){Lo.removeClass("color-highlight"),$(this).addClass("color-highlight"),Uo.removeClass().addClass("gallery-views gallery-view-1")}),To.on("click",function(){Lo.removeClass("color-highlight"),$(this).addClass("color-highlight"),Uo.removeClass().addClass("gallery-views gallery-view-2")}),Xo.on("click",function(){Lo.removeClass("color-highlight"),$(this).addClass("color-highlight"),Uo.removeClass().addClass("gallery-views gallery-view-3")});var Zo=$("[data-search]");function ts(){Zo.on("keyup",function(){var V=$(this).val();$(this).parent().parent().find("[data-filter-item]"),V!=""?($(".search-results").removeClass("disabled-search-list"),$("[data-filter-item]").addClass("disabled-search"),$('[data-filter-item][data-filter-name*="'+V.toLowerCase()+'"]').removeClass("disabled-search")):($(".search-results").addClass("disabled-search-list"),$("[data-filter-item]").removeClass("disabled-search"))})}Zo.length&&ts();var vs="false";if(jQuery(document).ready(function(V){function Q(he,zt){vs="true";var $o=V("#"+he).serialize();V.post(V("#"+he).attr("action"),$o,function(ko){V("#"+he).addClass("disabled"),$(".contact-form").addClass("disabled"),V(".formSuccessMessageWrap").fadeIn(500)})}function to(he,zt){V(".formValidationError").hide(),V(".fieldHasError").removeClass("fieldHasError"),V("#"+he+" .requiredField").each(function($o){if(V(this).val()==""||V(this).val()==V(this).attr("data-dummy"))return V(this).val(V(this).attr("data-dummy")),V(this).focus(),V(this).addClass("fieldHasError"),V("#"+V(this).attr("id")+"Error").fadeIn(300),!1;if(V(this).hasClass("requiredEmailField")){var ko=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,fo="#"+V(this).attr("id");if(!ko.test(V(fo).val()))return V(fo).focus(),V(fo).addClass("fieldHasError"),V(fo+"Error2").fadeIn(300),!1}vs=="false"&&$o==V("#"+he+" .requiredField").length-1&&Q(he)})}V(".formSuccessMessageWrap").hide(0),V(".formValidationError").fadeOut(0),V('input[type="text"], input[type="password"], textarea').focus(function(){V(this).val()==V(this).attr("data-dummy")&&V(this).val("")}),V("input, textarea").blur(function(){V(this).val()==""&&V(this).val(V(this).attr("data-dummy"))}),V(".contactSubmitButton").on("click",function(){return to(V(this).attr("data-formId")),!1})}),$(".chart").length>0){var hs=function(V,Q,to){var he=document.createElement("script");he.src=V,he.onload=Q,he.onreadystatechange=Q,to.appendChild(he)},ys=function(){var V=$("#wallet-chart"),Q=$("#pie-chart"),to=$("#doughnut-chart"),he=$("#polar-chart"),zt=$("#vertical-chart"),$o=$("#horizontal-chart"),ko=$("#line-chart");V.length&&new Chart(V,{type:"bar",data:{labels:["April","May","June","July"],datasets:[{label:"Income",backgroundColor:"#A0D468",data:[200,300,450,400]},{label:"Expenses",backgroundColor:"#ED5565",data:[190,250,350,300]},{label:"Savings",backgroundColor:"#5D9CEC",data:[250,150,400,250]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}}),Q.length&&new Chart(Q,{type:"pie",data:{labels:["Facebook","Twitter","WhatsApp"],datasets:[{backgroundColor:["#4A89DC","#4FC1E9","#A0D468"],borderColor:"rgba(255,255,255,0.5)",data:[7e3,3e3,2e3]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},tooltips:{enabled:!0},animation:{duration:1500}}}),to.length&&new Chart(to,{type:"doughnut",data:{labels:["Apple","Samsung","Google"],datasets:[{backgroundColor:["#CCD1D9","#5D9CEC","#FC6E51"],borderColor:"rgba(255,255,255,0.5)",data:[5500,4e3,3e3]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},tooltips:{enabled:!0},animation:{duration:1500},layout:{padding:{bottom:30}}}}),he.length&&new Chart(he,{type:"polarArea",data:{labels:["Windows","Mac","Linux"],datasets:[{backgroundColor:["#CCD1D9","#5D9CEC","#FC6E51"],borderColor:"rgba(255,255,255,0.5)",data:[7e3,1e4,5e3]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},tooltips:{enabled:!0},animation:{duration:1500},layout:{padding:{bottom:30}}}}),zt.length&&new Chart(zt,{type:"bar",data:{labels:["2010","2015","2020","2025"],datasets:[{label:"iOS",backgroundColor:"#A0D468",data:[900,1e3,1200,1400]},{label:"Android",backgroundColor:"#4A89DC",data:[890,950,1100,1300]}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}}),$o.length&&new Chart($o,{type:"horizontalBar",data:{labels:["2010","2013","2016","2020"],datasets:[{label:"Mobile",backgroundColor:"#BF263C",data:[330,400,580,590]},{label:"Responsive",backgroundColor:"#EC87C0",data:[390,450,550,570]}]},options:{legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}}),ko.length&&new Chart(ko,{type:"line",data:{labels:[2e3,2005,2010,2015,2010],datasets:[{data:[500,400,300,200,300],label:"Desktop Web",borderColor:"#D8334A"},{data:[0,100,300,400,500],label:"Mobile Web",borderColor:"#4A89DC"}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!0,position:"bottom",labels:{fontSize:13,padding:15,boxWidth:12}},title:{display:!1}}})};hs("/shop/scripts/charts.js",ys,document.body)}c("azure_accept_cookie")==null?$("#menu-cookie-accept").length&&setTimeout(function(){$("#menu-cookie-accept, .menu-hider").addClass("menu-active"),$(".accept-cookie-policy").on("click",function(){d("azure_accept_cookie",!0,1)})},1500):$("#menu-welcome-modal").length&&setTimeout(function(){$("#menu-welcome-modal, .menu-hider").addClass("menu-active")},1500);function zo(){$(document).ready(function(){$("#shape-cut-left").on("click",function(){$(".header-card").removeClass("shape-rounded shape-cut-right").addClass("shape-cut-left"),$(".footer-card").removeClass("shape-rounded shape-cut-right").addClass("shape-cut-left")}),$("#shape-cut-right").on("click",function(){$(".header-card").removeClass("shape-rounded shape-cut-left").addClass("shape-cut-right"),$(".footer-card").removeClass("shape-rounded shape-cut-left").addClass("shape-cut-right")}),$("#shape-rounded").on("click",function(){$(".header-card").removeClass("shape-cut-left shape-cut-right").addClass("shape-rounded"),$(".footer-card").removeClass("shape-cut-left shape-cut-right").addClass("shape-rounded")})})}function Qo(){feather.replace();var V=$(".feather");V.length&&V.each(function(){$(this).attr("stroke-width",$(this).data("feather-line")),$(this).attr("width",$(this).data("feather-size")),$(this).attr("height",$(this).data("feather-size")),$(this).css("width",$(this).data("feather-size")),$(this).css("height",$(this).data("feather-size"))})}Qo(),window.location.protocol==="file:"&&$("a").on("mouseover",function(){});var _s=$(".page-title-large, .page-title-small, .menu-header a");function ls(){var V=new Date().getHours(),Q,to=$(".greeting-text").data("username"),he="Доброе утро",zt="Добрый день",$o="Добрый вечер";V>=0&&V<12?Q=he:V>=12&&V<17?Q=zt:V>=17&&V<24&&(Q=$o),$(".greeting-text").html(Q+",<br>"+to)}_s.length&&ls();var os=$(".visit-detection");if(os.length){var Ro=new Date,Wo=Ro.getFullYear()+"/"+(Ro.getMonth()+1)+"/"+Ro.getDate(),es=Ro.getHours()+":"+Ro.getMinutes()+":"+Ro.getSeconds();if(!c("azure_accept_cookie"))$(".never-visited").show(),$(".before-visited").hide(),d("azure_accept_cookie","<br>Your last visit was "+Wo+" at "+es,1);else{var xs=c("azure_accept_cookie");$(".visit-before-time").html(xs),$(".never-visited").hide(),$(".before-visited").show(),d("azure_accept_cookie","<br>Your last visit was "+Wo+" at "+es,1)}}var ks=$(".generated-styles"),Bs=$(".generated-highlight");function qo(V){var Q;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(V))return Q=V.substring(1).split(""),Q.length==3&&(Q=[Q[0],Q[0],Q[1],Q[1],Q[2],Q[2]]),Q="0x"+Q.join(""),"rgba("+[Q>>16&255,Q>>8&255,Q&255].join(",")+",0.3)"}function Is(){var V=c("azures-color-scheme");if(V==null)var V=$("body").data("highlight");var Q=t.map(ss=>ss[0]);if(Q.indexOf(V)>-1){var to=Q.indexOf(V),he=t[to][2],zt=".color-highlight{color:"+he+"!important}",$o=".bg-highlight, .page-item.active a{background-color:"+he+"!important}",ko=".footer-bar-1 .active-nav *, .footer-bar-3 .active-nav i{color:"+he+"!important} .footer-bar-2 strong, .footer-bar-4 strong, .footer-bar-5 strong{background-color:"+he+"!important; color:#FFF;}",fo=".border-highlight{border-color:"+he+"!important}",Eo=".header-tab-active{border-color:"+he+"!important}";Bs.length||($("body").append('<style class="generated-highlight"></style>'),$("body").append('<style class="generated-background"></style>'),$(".generated-highlight").append(zt,$o,ko,fo,Eo))}}Is();function Vs(){$("[data-change-highlight]").on("click",function(V){var Q=$(this).data("change-highlight");$("body").attr("data-highlight",Q),$(".generated-highlight").remove(),d("azures-color-scheme",Q,1);var to=t.map(ss=>ss[0]);if(to.indexOf(Q)>-1){var he=to.indexOf(Q);if($(this).data("color-light")!==void 0)var zt=t[he][1];else var zt=t[he][2];var $o=".color-highlight{color:"+zt+"!important}",ko=".bg-highlight{background-color:"+zt+"!important}",fo=".footer-bar-1 .active-nav *, .footer-bar-3 .active-nav i{color:"+zt+"!important} .footer-bar-2 strong, .footer-bar-4 strong, .footer-bar-5 strong{background-color:"+zt+"!important; color:#FFF;}",Eo=".border-highlight{border-color:"+zt+"!important}";$("body").append('<style class="generated-highlight"></style>'),$(".generated-highlight").append($o,ko,fo,Eo)}return!1})}Vs(),ks.length||($("body").append('<style class="generated-styles"></style>'),$(".generated-styles").append("/*Generated using JS for lower CSS file Size, Easier Editing & Faster Loading*/"),t.forEach(function(V){$(".generated-styles").append('[data-feather-bg="'+V[0]+'-dark"]{ fill: '+V[2]+'!important;} [data-feather-bg="'+V[0]+'-light"]{ fill: '+V[1]+"!important;}")}),t.forEach(function(V){$(".generated-styles").append('[data-feather-bg="'+V[0]+'-fade-dark"]{ fill: '+qo(V[2])+'!important;} [data-feather-bg="'+V[0]+'-fade-light"]{ fill: '+qo(V[1])+"!important;}")}),t.forEach(function(V){$(".generated-styles").append('[data-feather-color="'+V[0]+'-dark"]{ stroke: '+V[2]+'!important;} [data-feather-color="'+V[0]+'-light"]{ stroke: '+V[1]+"!important;}")}),t.forEach(function(V){$(".generated-styles").append('[data-feather-color="'+V[0]+'-fade-dark"]{ stroke: '+qo(V[2])+'!important;} [data-feather-color="'+V[0]+'-fade-light"]{ stroke: '+qo(V[1])+"!important;}")}),t.forEach(function(V){$(".generated-styles").append(".bg-"+V[0]+"-light{ background-color: "+V[1]+"!important; color:#FFFFFF!important;} .bg-"+V[0]+"-light i, .bg-"+V[0]+"-dark i{color:#FFFFFF;} .bg-"+V[0]+"-dark{  background-color: "+V[2]+"!important; color:#FFFFFF!important;} .border-"+V[0]+"-light{ border-color:"+V[1]+"!important;} .border-"+V[0]+"-dark{  border-color:"+V[2]+"!important;} .color-"+V[0]+"-light{ color: "+V[1]+"!important;} .color-"+V[0]+"-dark{  color: "+V[2]+"!important;}")}),t.forEach(function(V){$(".generated-styles").append(".bg-fade-"+V[0]+"-light{ background-color: "+qo(V[1])+"!important; color:#FFFFFF;} .bg-fade-"+V[0]+"-light i, .bg-"+V[0]+"-dark i{color:#FFFFFF;} .bg-fade-"+V[0]+"-dark{  background-color: "+qo(V[2])+"!important; color:#FFFFFF;} .border-fade-"+V[0]+"-light{ border-color:"+qo(V[1])+"!important;} .border-fade-"+V[0]+"-dark{  border-color:"+qo(V[2])+"!important;} .color-fade-"+V[0]+"-light{ color: "+qo(V[1])+"!important;} .color-fade-"+V[0]+"-dark{  color: "+qo(V[2])+"!important;}")}),t.forEach(function(V){$(".generated-styles").append(".bg-gradient-"+V[0]+"{background-image: linear-gradient(to bottom, "+V[1]+" 0, "+V[2]+" 100%)}")}),s.forEach(function(V){$(".generated-styles").append(".bg-"+V[0]+"{background-color:"+V[1]+"!important; color:#FFFFFF;} .color-"+V[0]+"{color:"+V[1]+"!important;}")}),t.forEach(function(V){$(".generated-styles").append(".body-"+V[0]+"{background-image: linear-gradient(to bottom, "+V[1]+" 0, "+V[3]+" 100%)}")}));var Es=$("[data-menu-load]");Es.each(function(){var V=$(this).data("menu-load");$(this).load(V)}).promise().done(function(){setTimeout(function(){f(),l(),Co(),Vs(),Qo(),T(),zo()},500)})}setTimeout(o,0),$(function(){var t={prefetch:!0,prefetchOn:"mouseover",cacheLength:100,scroll:!0,blacklist:".default-link",forms:"contactForm",onStart:{duration:150,render:function(i){return i.addClass("is-exiting"),$(".menu, .menu-hider").removeClass("menu-active"),$("#preloader").removeClass("preloader-hide"),!1}},onReady:{duration:10,render:function(i,a){i.removeClass("is-exiting"),i.html(a),setTimeout(o,0),$("#preloader").removeClass("preloader-hide")}},onAfter:function(i,a){setTimeout(function(){$(".menu").css("display","block"),$("#preloader").addClass("preloader-hide")},150)}},s=$("#page").smoothState(t).data("smoothState");s&&s.clear()})})}},_sfc_main$3p={data(){return{search:null,products:null}},watch:{search:function(){}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"])},methods:{loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o,size:20}).then(()=>{this.products=this.getProducts,baseJS.handler()})}}},_hoisted_1$3i={class:"content mb-4"},_hoisted_2$3a={class:"search-box bg-theme rounded-m shadow-xl bottom-0"},_hoisted_3$30=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_4$2R={class:"search-results card card-style mx-0 mt-3 px-2"},_hoisted_5$2M={class:"list-group list-custom-large"},_hoisted_6$2J={href:"#","data-filter-item":"","data-filter-name":"all demo smartphone apple iphone"},_hoisted_7$2E=createBaseVNode("i",{class:"fab fa-apple color-gray2-dark"},null,-1),_hoisted_8$2v=createBaseVNode("strong",null,"Works on iOS 10 and Higher",-1),_hoisted_9$2r=createBaseVNode("i",{class:"fa fa-angle-right mr-2"},null,-1);function _sfc_render$11(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$3i,[createBaseVNode("div",_hoisted_2$3a,[_hoisted_3$30,withDirectives(createBaseVNode("input",{type:"text",class:"border-0","onUpdate:modelValue":t[0]||(t[0]=r=>a.search=r),placeholder:"Что вы хотели бы найти? (найдем всё)"},null,512),[[vModelText,a.search]])]),createBaseVNode("div",_hoisted_4$2R,[createBaseVNode("div",_hoisted_5$2M,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.products,r=>(openBlock(),createElementBlock("a",_hoisted_6$2J,[_hoisted_7$2E,createBaseVNode("span",null,toDisplayString(r.title||"Не указано"),1),_hoisted_8$2v,_hoisted_9$2r]))),256))])])])}const SearchBox=_export_sfc(_sfc_main$3p,[["render",_sfc_render$11]]),Pagination_vue_vue_type_style_index_0_lang="",_sfc_main$3o={props:["pagination"],data(){return{currentPage:1}},computed:{hasPagination(){return!(this.pagination===null||!this.pagination||this.pagination.meta.links[0].active===!1&&this.pagination.meta.links[this.pagination.meta.links.length-1].active===!1)},filteredLinks(){return this.pagination?(parseInt(this.pagination.meta.current_page),this.pagination.meta.links):[]}},methods:{first(){this.$emit("pagination_page",1)},last(){this.$emit("pagination_page",this.pagination.meta.last_page)},nextPage(){this.currentPage=this.pagination.meta.current_page+1,this.$emit("pagination_page",this.pagination.meta.current_page+1)},page(o){this.currentPage=o,window.scrollTo({top:10,behavior:"smooth"}),this.$emit("pagination_page",o)},prevPage(){this.currentPage!==1&&(this.currentPage=this.pagination.meta.current_page-1,this.$emit("pagination_page",this.pagination.meta.current_page-1))}}},_hoisted_1$3h={key:0,class:"mt-4"},_hoisted_2$39={class:"pagination pagination- justify-content-center mb-3"},_hoisted_3$2$={class:"page-item"},_hoisted_4$2Q=["disabled"],_hoisted_5$2L=createBaseVNode("i",{class:"fa-solid fa-angles-left"},null,-1),_hoisted_6$2I=[_hoisted_5$2L],_hoisted_7$2D={class:"page-item"},_hoisted_8$2u=["disabled"],_hoisted_9$2q=createBaseVNode("i",{class:"fa fa-angle-left"},null,-1),_hoisted_10$2h=[_hoisted_9$2q],_hoisted_11$2a={class:"page-item"},_hoisted_12$27=["disabled"],_hoisted_13$1$=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_14$1V=[_hoisted_13$1$],_hoisted_15$1R={class:"page-item"},_hoisted_16$1Q=["disabled"],_hoisted_17$1H=createBaseVNode("i",{class:"fa-solid fa-angles-right"},null,-1),_hoisted_18$1G=[_hoisted_17$1H],_hoisted_19$1C={key:1,class:"text-center mb-3"},_hoisted_20$1z={style:{"font-weight":"bold"}};function _sfc_render$10(o,t,s,i,a,n){return openBlock(),createElementBlock(Fragment,null,[s.pagination.links?(openBlock(),createElementBlock("nav",_hoisted_1$3h,[createBaseVNode("ul",_hoisted_2$39,[createBaseVNode("li",_hoisted_3$2$,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=(...r)=>n.first&&n.first(...r)),disabled:s.pagination.links.first==null||s.pagination.meta.current_page===1,class:normalizeClass([{"bg-gray2-dark":s.pagination.links.first===null||s.pagination.meta.current_page===1,"bg-black":s.pagination.links.first!=null},"page-link rounded-xs color-white shadow-xl border-0"]),tabindex:"-1","aria-disabled":"true"},_hoisted_6$2I,10,_hoisted_4$2Q)]),createBaseVNode("li",_hoisted_7$2D,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=(...r)=>n.prevPage&&n.prevPage(...r)),disabled:s.pagination.links.prev==null,class:normalizeClass([{"bg-gray2-dark":s.pagination.links.prev==null,"bg-black":s.pagination.links.prev!=null},"page-link rounded-xs color-white shadow-xl border-0"]),tabindex:"-1","aria-disabled":"true"},_hoisted_10$2h,10,_hoisted_8$2u)]),createBaseVNode("li",_hoisted_11$2a,[createBaseVNode("button",{onClick:t[2]||(t[2]=(...r)=>n.nextPage&&n.nextPage(...r)),disabled:s.pagination.links.next==null,class:normalizeClass([{"bg-gray2-dark":s.pagination.links.next==null,"bg-black":s.pagination.links.next!=null},"page-link rounded-xs color-white shadow-xl border-0"]),type:"button"},_hoisted_14$1V,10,_hoisted_12$27)]),createBaseVNode("li",_hoisted_15$1R,[createBaseVNode("button",{onClick:t[3]||(t[3]=(...r)=>n.last&&n.last(...r)),disabled:s.pagination.links.last==null||s.pagination.meta.current_page===s.pagination.meta.last_page,class:normalizeClass([{"bg-gray2-dark":s.pagination.links.last==null||s.pagination.meta.current_page===s.pagination.meta.last_page,"bg-black":s.pagination.links.last!=null},"page-link rounded-xs color-white shadow-xl border-0"]),type:"button"},_hoisted_18$1G,10,_hoisted_16$1Q)])])])):createCommentVNode("",!0),s.pagination.links?(openBlock(),createElementBlock("p",_hoisted_19$1C,[createBaseVNode("small",_hoisted_20$1z," Страница "+toDisplayString(s.pagination.meta.current_page)+" из "+toDisplayString(s.pagination.meta.last_page),1)])):createCommentVNode("",!0)],64)}const Pagination=_export_sfc(_sfc_main$3o,[["render",_sfc_render$10]]),CategoryList_vue_vue_type_style_index_0_lang$1="",_hoisted_1$3g={key:0},_hoisted_2$38=["onClick"],_hoisted_3$2_={class:"card-center"},_hoisted_4$2P={class:"pl-3"},_hoisted_5$2K={class:"pl-3 mt-n2 font-12 color-highlight mb-0"},_hoisted_6$2H={class:"font-weight-bold"},_hoisted_7$2C=createBaseVNode("div",{class:"card-center opacity-30"},[createBaseVNode("i",{class:"fa fa-arrow-right opacity-50 float-right color-theme pr-3"})],-1),__default__$2i={props:["size","selected"],data(){return{categories:null,categories_paginate_object:null}},computed:{...mapGetters(["getCategories","getCategoriesPaginateObject"])},mounted(){this.loadCategories()},methods:{nextCategories(o){this.loadCategories(o)},select(o){return this.$emit("select",o)},inCategory(o){return this.selected.findIndex(s=>s.id===o)>=0},loadCategories(o=0){return this.$store.dispatch("loadCategories",{page:o,size:this.size||5}).then(()=>{this.categories=this.getCategories,this.categories_paginate_object=this.getCategoriesPaginateObject})}}},_sfc_main$3n=Object.assign(__default__$2i,{__name:"CategoryList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.categories?(openBlock(),createElementBlock("div",_hoisted_1$3g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.categories,i=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:a=>t.select(i),style:{height:"80px"},class:normalizeClass([{"border-blue2-dark":t.inCategory(i.id)},"card card-style m-0 mb-2 bordered"])},[createBaseVNode("div",_hoisted_3$2_,[createBaseVNode("h5",_hoisted_4$2P,toDisplayString(i.title||"Не указано"),1),createBaseVNode("p",_hoisted_5$2K,[createBaseVNode("span",_hoisted_6$2H,toDisplayString(i.count||0),1),createTextVNode(" ед. товаров в категории")])]),_hoisted_7$2C],10,_hoisted_2$38))),256))])):createCommentVNode("",!0),t.categories_paginate_object?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextCategories,pagination:t.categories_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$3f=["data-src"],_hoisted_2$37={class:"card-bottom px-3"},_hoisted_3$2Z={class:"font-40 line-height-xl"},_hoisted_4$2O={class:"pb-0 mb-0 font-12"},_hoisted_5$2J=createBaseVNode("i",{class:"fa fa-map-marker mr-2"},null,-1),_hoisted_6$2G=createBaseVNode("a",{href:"#/contact-us",class:"btn btn-m btn-border w-100 btn-full rounded-s mb-3 border-highlight color-highlight text-uppercase font-900"},[createBaseVNode("i",{class:"fa-regular fa-envelope mr-2"}),createTextVNode(" Написать нам ")],-1),_hoisted_7$2B=createBaseVNode("div",{class:"card-overlay bg-gradient-fade"},null,-1),_hoisted_8$2t={class:"card card-style p-3"},_hoisted_9$2p=createBaseVNode("h5",null,"Галлерея продуктов",-1),_hoisted_10$2g={class:"row text-center row-cols-3 mb-n4"},_hoisted_11$29=["href","title"],_hoisted_12$26={class:"img-fluid rounded-xs preload-img",alt:"img"},_hoisted_13$1_={key:1,class:"single-slider owl-no-dots owl-carousel mt-n4 owl-loaded owl-drag"},_hoisted_14$1U=createBaseVNode("div",{class:"content mb-3"},[createBaseVNode("h5",{class:"float-left font-16 font-500"},"Случайные 20 товаров"),createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/products"},"Посмотреть все"),createBaseVNode("div",{class:"clearfix"})],-1),_hoisted_15$1Q={key:2,class:"double-slider owl-carousel owl-no-dots"},_hoisted_16$1P=createBaseVNode("div",{class:"divider divider-margins mt-4"},null,-1),_hoisted_17$1G={key:3,class:"content mb-3"},_hoisted_18$1F=createBaseVNode("h5",{class:"float-left font-16 font-500"},"Ранее просмотрено",-1),_hoisted_19$1B=createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#"},"Смотреть всё",-1),_hoisted_20$1y=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_21$1x=[_hoisted_18$1F,_hoisted_19$1B,_hoisted_20$1y],_hoisted_22$1v={key:4,class:"double-slider owl-carousel owl-no-dots"},_hoisted_23$1o=createStaticVNode('<div class="divider divider-margins mt-4"></div><div class="card mt-4 preload-img" data-src="/shop/images/pictures/20s.jpg"><div class="card-body"><h3 class="color-white font-600">Best Priced Pack</h3><p class="color-white opacity-80"> The best value pack you can purchase for your needs created especially to suit you. </p><div class="card rounded-m shadow-xl mb-0"><div class="content"><div class="d-flex pb-3"><div class="pr-3"><h5 class="font-14 font-600 opacity-80 pb-2">Appkit Mobile Website Template and PWA. </h5><h1 class="font-24 font-700">$21<sup class="font-15 opacity-50">.99</sup></h1></div><div class="ml-auto"><img src="/shop/images/pictures/2s.jpg" class="rounded-m shadow-xl" width="90"></div></div><div class="divider mb-4"></div><div class="d-flex pb-2"><div class="pr-3"><h5 class="font-14 font-600 opacity-80 pb-2">6 Months Hands on Support Included in Pack. </h5><h1 class="font-24 font-700 color-green1-dark">$0<sup class="font-15 opacity-50">.00</sup></h1></div><div class="ml-auto"><img src="/shop/images/pictures/3s.jpg" class="rounded-m shadow-xl" width="90"></div></div><div class="divider mb-4"></div><a href="#" class="btn btn-full btn-m bg-highlight font-700 text-uppercase rounded-m shadow-xl"> Add to Cart</a></div></div></div><div class="card-overlay bg-highlight opacity-95"></div><div class="card-overlay dark-mode-tint"></div></div><div class="divider divider-margins"></div><div class="content mb-3"><h5 class="float-left font-16 font-500">Категории товаров</h5><a class="float-right font-12 color-highlight mt-n1" href="#/categories">Посмотреть все</a><div class="clearfix"></div></div>',4),__default__$2h={data(){return{botUser:null,watches:null,products:null,paginate:null,randomProducts:null}},watch:{getSelf:function(){this.botUser=this.getSelf,baseJS.handler()},getWatches:function(){this.watches=this.getWatches.slice(0,10),baseJS.handler()},$route(o,t){this.loadRandomProducts(),this.watches=this.getWatches.slice(0,10)}},computed:{...mapGetters(["getProducts","getSelf","getWatches","getProductsPaginateObject"]),currentBot(){return window.currentBot},logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`}},mounted(){this.loadProducts(),this.loadRandomProducts(),this.watches=this.getWatches.slice(0,10)},methods:{nextProducts(o){this.loadProducts(o)},watchStore(){this.$store.watch(()=>this.$store.getters.getSelf,o=>{this.botUser=this.$store.getters.getSelf,baseJS.handler()})},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})},loadRandomProducts(){return this.$store.dispatch("loadRandomProducts").then(()=>{this.randomProducts=this.getProducts,baseJS.handler()})}}},_sfc_main$3m=Object.assign(__default__$2h,{__name:"Home",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.currentBot?(openBlock(),createElementBlock("div",{key:0,class:"card card-style preload-img","data-src":t.logo,style:{height:"500px"}},[createBaseVNode("div",_hoisted_2$37,[createBaseVNode("h1",_hoisted_3$2Z,toDisplayString(t.currentBot.company.title||"Без названия"),1),createBaseVNode("p",_hoisted_4$2O,[_hoisted_5$2J,createTextVNode(toDisplayString(t.currentBot.company.address||"Без адреса"),1)]),createBaseVNode("p",null,toDisplayString(t.currentBot.description||"Без описания"),1),_hoisted_6$2G]),_hoisted_7$2B],8,_hoisted_1$3f)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$2t,[_hoisted_9$2p,createBaseVNode("div",_hoisted_10$2g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.products,a=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link",href:"#/products/"+a.id,title:a.title},[withDirectives(createBaseVNode("img",_hoisted_12$26,null,512),[[i,a.images[0]]])],8,_hoisted_11$29))),256))]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)]),createVNode(SearchBox),t.randomProducts?(openBlock(),createElementBlock("div",_hoisted_13$1_,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.randomProducts,(a,n)=>(openBlock(),createBlock(ProductItemLarge,{item:a},null,8,["item"]))),256))])):createCommentVNode("",!0),_hoisted_14$1U,t.randomProducts?(openBlock(),createElementBlock("div",_hoisted_15$1Q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.randomProducts,(a,n)=>(openBlock(),createBlock(_sfc_main$3r,{item:a},null,8,["item"]))),256))])):createCommentVNode("",!0),_hoisted_16$1P,t.watches?(openBlock(),createElementBlock("div",_hoisted_17$1G,_hoisted_21$1x)):createCommentVNode("",!0),t.watches?(openBlock(),createElementBlock("div",_hoisted_22$1v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.watches,(a,n)=>(openBlock(),createBlock(_sfc_main$3r,{item:a},null,8,["item"]))),256))])):createCommentVNode("",!0),_hoisted_23$1o,createVNode(_sfc_main$3n)],64)}}}),Home=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3m},Symbol.toStringTag,{value:"Module"})),ProductItemSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$3e={key:0,class:"d-flex pb-2"},_hoisted_2$36={style:{"object-fit":"cover",height:"100%"},class:"rounded-m shadow-xl",width:"110"},_hoisted_3$2Y={class:"ml-auto w-100 pl-3"},_hoisted_4$2N={class:"font-14 font-600 opacity-80 pb-2"},_hoisted_5$2I=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_6$2F={class:"font-23 font-700 float-left pt-2"},_hoisted_7$2A=createBaseVNode("sup",{class:"font-15 opacity-50"},".00",-1),_hoisted_8$2s={class:"float-right"},_hoisted_9$2o=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_10$2f={key:0,class:"in-cart-count"},_hoisted_11$28={key:1,class:"d-flex rounded-m shadow-xs flex-column mb-3"},_hoisted_12$25={class:"mr-auto w-100"},_hoisted_13$1Z={style:{"object-fit":"cover"},class:"rounded-m w-100"},_hoisted_14$1T={class:"ml-auto w-100 px-3"},_hoisted_15$1P={class:"font-14 font-600 opacity-80 pb-2"},_hoisted_16$1O={key:1},_hoisted_17$1F={key:2},_hoisted_18$1E={class:"row text-center row-cols-3 mb-0"},_hoisted_19$1A=["href","title"],_hoisted_20$1x=["data-src"],_hoisted_21$1w=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_22$1u={class:"font-23 font-700 float-left pt-2"},_hoisted_23$1n=createBaseVNode("sup",{class:"font-15 opacity-50"},".00",-1),_hoisted_24$1k={class:"float-right"},_hoisted_25$1g=createBaseVNode("i",{class:"fa-solid fa-cart-plus"},null,-1),_hoisted_26$1a={key:0,class:"in-cart-count"},__default__$2g={props:["item","displayType"],data(){return{showCart:!1}},computed:{...mapGetters(["inCart"]),currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},goToProduct(){this.$router.push({name:"product",params:{productId:this.item.id}})}}},_sfc_main$3l=Object.assign(__default__$2g,{__name:"ProductItemSimple",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[o.displayType==0?(openBlock(),createElementBlock("div",_hoisted_1$3e,[createBaseVNode("div",{class:"mr-auto",onClick:s[0]||(s[0]=(...a)=>t.addToCart&&t.addToCart(...a)),style:{"max-height":"100px"}},[withDirectives(createBaseVNode("img",_hoisted_2$36,null,512),[[i,o.item.images[0]]])]),createBaseVNode("div",_hoisted_3$2Y,[createBaseVNode("h5",_hoisted_4$2N,toDisplayString(o.item.title||"не указано"),1),_hoisted_5$2I,createBaseVNode("h3",_hoisted_6$2F,[createTextVNode("₽"+toDisplayString(o.item.current_price||0),1),_hoisted_7$2A]),createBaseVNode("div",_hoisted_8$2s,[createBaseVNode("button",{onClick:s[1]||(s[1]=(...a)=>t.addToCart&&t.addToCart(...a)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark position-relative"},[_hoisted_9$2o,t.inCart(o.item.id)>0?(openBlock(),createElementBlock("span",_hoisted_10$2f,toDisplayString(t.inCart(o.item.id)),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0),o.displayType==1?(openBlock(),createElementBlock("div",_hoisted_11$28,[createBaseVNode("div",_hoisted_12$25,[withDirectives(createBaseVNode("img",_hoisted_13$1Z,null,512),[[i,o.item.images[0]]])]),createBaseVNode("div",_hoisted_14$1T,[createBaseVNode("h5",_hoisted_15$1P,toDisplayString(o.item.title||"не указано"),1),o.item.simplify?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:0,onClick:s[2]||(s[2]=a=>o.item.simplify=!0),href:"javascript:void(0)",class:"btn btn-m btn-full rounded-sm font-900 shadow-sm text-uppercase collapsed mb-2","aria-expanded":"false"}," Показать описание ")),o.item.simplify?(openBlock(),createElementBlock("p",_hoisted_16$1O,toDisplayString(o.item.description||"Нет описания"),1)):createCommentVNode("",!0),o.item.images.length>1&&o.item.simplify?(openBlock(),createElementBlock("div",_hoisted_17$1F,[createBaseVNode("div",_hoisted_18$1E,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.item.images,(a,n)=>(openBlock(),createElementBlock("a",{class:"col mb-2","data-lightbox":"gallery-1",href:a,title:o.item.title},[withDirectives(createBaseVNode("img",{"data-src":a,class:"preload-img img-fluid rounded-xs",alt:"img"},null,8,_hoisted_20$1x),[[i,a]])],8,_hoisted_19$1A))),256))])])):createCommentVNode("",!0),o.item.simplify?(openBlock(),createElementBlock("a",{key:3,onClick:s[3]||(s[3]=a=>o.item.simplify=!1),href:"javascript:void(0)",class:"btn btn-m btn-full rounded-sm font-900 shadow-sm text-uppercase collapsed mb-2","aria-expanded":"false"}," Скрыть описание ")):createCommentVNode("",!0),_hoisted_21$1w,createBaseVNode("h3",_hoisted_22$1u,[createTextVNode("₽"+toDisplayString(o.item.current_price||0),1),_hoisted_23$1n]),createBaseVNode("div",_hoisted_24$1k,[createBaseVNode("button",{onClick:s[4]||(s[4]=(...a)=>t.addToCart&&t.addToCart(...a)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark position-relative"},[_hoisted_25$1g,t.inCart(o.item.id)>0?(openBlock(),createElementBlock("span",_hoisted_26$1a,toDisplayString(t.inCart(o.item.id)),1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)],64)}}}),_hoisted_1$3d={key:0,class:"card card-style"},_hoisted_2$35={class:"content"},_hoisted_3$2X=createBaseVNode("h3",null,"Наши товары",-1),_hoisted_4$2M={key:0},_hoisted_5$2H={class:"input-style input-style-2 has-icon input-required"},_hoisted_6$2E=createStaticVNode('<p class="mb-0">Цена товара</p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><input class="form-control" type="email" placeholder="От, руб"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><input class="form-control" type="email" placeholder="До, руб"></div></div></div>',2),_hoisted_8$2r={key:0,class:"fa-solid fa-chevron-down mr-2"},_hoisted_9$2n={key:1,class:"fa-solid fa-filter mr-2"},_hoisted_10$2e=createBaseVNode("span",{class:"font-14"},"Фильтры товара",-1),_hoisted_11$27={key:1,class:"card bg-20 mt-4 content rounded-m shadowl"},_hoisted_12$24=createStaticVNode('<div class="card-body"><h4 class="color-white">Товар отсутствует</h4><p class="color-white"> На текущий момент товар на страницах сайта отсуствтует </p><div class="card card-style ml-0 mr-0 mb-3 bg-white"><div class="content"> You can add more content in here as well. This is used for example on the homepage in the Built for You section. </div></div></div><div class="card-overlay bg-gradient-green1 opacity-95 rounded-m shadow-l"></div><div class="card-overlay dark-mode-tint rounded-m shadow-l"></div>',3),_hoisted_15$1O=[_hoisted_12$24],_hoisted_16$1N=createBaseVNode("div",{class:"content mb-3"},[createBaseVNode("h5",{class:"float-left font-16 font-500"},"Категории товаров"),createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/categories"},"Посмотреть все"),createBaseVNode("div",{class:"clearfix"})],-1),__default__$2f={data(){return{isCollapsed:!0,search:null,products:[],paginate:null}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products}},mounted(){this.loadProducts()},methods:{nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,baseJS.handler()})}}},_sfc_main$3k=Object.assign(__default__$2f,{__name:"Products",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.filteredProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_1$3d,[createBaseVNode("div",_hoisted_2$35,[_hoisted_3$2X,t.isCollapsed?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$2M,[createBaseVNode("div",_hoisted_5$2H,[createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:s[0]||(s[0]=i=>t.loadProducts(0))}),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[1]||(s[1]=i=>t.search=i),type:"name",placeholder:"Найди товар на странице"},null,512),[[vModelText,t.search]])]),_hoisted_6$2E])),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=i=>t.isCollapsed=!t.isCollapsed),class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3"},[t.isCollapsed?(openBlock(),createElementBlock("i",_hoisted_8$2r)):(openBlock(),createElementBlock("i",_hoisted_9$2n)),_hoisted_10$2e]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(i,a)=>(openBlock(),createBlock(_sfc_main$3l,{item:i},null,8,["item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_11$27,_hoisted_15$1O)),_hoisted_16$1N,createVNode(_sfc_main$3n)],64))}}),Products=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3k},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3c={key:0,class:"card card-style bg-25 mb-3",style:{height:"270px"}},_hoisted_2$34={class:"card-center"},_hoisted_3$2W=createBaseVNode("p",{class:"text-center mb-2"},[createBaseVNode("i",{class:"fa-brands fa-shopify color-red2-dark fa-4x"})],-1),_hoisted_4$2L={class:"color-white font-700 text-center mb-0"},_hoisted_5$2G=createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"Вы смотрите товары в данной категории",-1),_hoisted_6$2D={class:"color-white text-center opacity-60 mt-n1 mb-3"},_hoisted_7$2z=createBaseVNode("a",{href:"#/categories",class:"btn btn-m font-900 text-uppercase bg-highlight btn-center-xl"},"Все категории",-1),_hoisted_8$2q=createBaseVNode("div",{class:"card-overlay bg-black opacity-80"},null,-1),_hoisted_9$2m={key:1,class:"card card-style"},_hoisted_10$2d={class:"content"},_hoisted_11$26=createBaseVNode("h3",null,"Наши товары",-1),_hoisted_12$23={class:"collapse",id:"collapse-8",style:{}},_hoisted_13$1Y={class:"input-style input-style-2 has-icon input-required"},_hoisted_14$1S=createStaticVNode('<p class="mb-0 pb-1"> Цена: </p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">От, ₽</span><input class="form-control" type="email" placeholder="0 ₽"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">До, ₽</span><input class="form-control" type="email" placeholder="100 ₽"></div></div></div>',2),_hoisted_16$1M=createBaseVNode("a",{"data-toggle":"collapse",href:"#collapse-8",class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3","aria-expanded":"true"},[createBaseVNode("i",{class:"fa-solid fa-filter mr-2"}),createBaseVNode("span",{class:"font-14"},"Фильтры товара")],-1),_hoisted_17$1E={key:2,class:"card bg-20 mt-4 content rounded-m shadowl"},_hoisted_18$1D=createStaticVNode('<div class="card-body"><h4 class="color-white">Товар отсутствует</h4><p class="color-white"> На текущий момент товар на страницах сайта отсуствтует </p><div class="card card-style ml-0 mr-0 mb-3 bg-white"><div class="content"> You can add more content in here as well. This is used for example on the homepage in the Built for You section. </div></div></div><div class="card-overlay bg-gradient-green1 opacity-95 rounded-m shadow-l"></div><div class="card-overlay dark-mode-tint rounded-m shadow-l"></div>',3),_hoisted_21$1v=[_hoisted_18$1D],_hoisted_22$1t=createBaseVNode("div",{class:"content mb-3"},[createBaseVNode("h5",{class:"float-left font-16 font-500"},"Категории товаров"),createBaseVNode("a",{class:"float-right font-12 color-highlight mt-n1",href:"#/categories"},"Посмотреть все"),createBaseVNode("div",{class:"clearfix"})],-1),__default__$2e={data(){return{search:null,category:null,products:[],paginate:null}},watch:{$route(o,t){this.loadCategory(),this.loadProducts()}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products}},mounted(){this.loadCategory(),this.loadProducts()},methods:{nextProducts(o){this.loadProducts(o)},loadCategory(){return this.$store.dispatch("loadCategory",{dataObject:{categoryId:this.$route.params.categoryId}}).then(o=>{this.category=o.data,baseJS.handler()})},loadProducts(o=0){return this.$store.dispatch("loadProductsInCategory",{dataObject:{category_id:this.$route.params.categoryId,search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,baseJS.handler()})}}},_sfc_main$3j=Object.assign(__default__$2e,{__name:"ProductsInCategory",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.category?(openBlock(),createElementBlock("div",_hoisted_1$3c,[createBaseVNode("div",_hoisted_2$34,[_hoisted_3$2W,createBaseVNode("h2",_hoisted_4$2L,toDisplayString(t.category.title||"Не указана"),1),_hoisted_5$2G,createBaseVNode("p",_hoisted_6$2D,[createTextVNode("Товаров в категории "),createBaseVNode("strong",null,toDisplayString(t.category.count||0),1)]),_hoisted_7$2z]),_hoisted_8$2q])):createCommentVNode("",!0),t.filteredProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_9$2m,[createBaseVNode("div",_hoisted_10$2d,[_hoisted_11$26,createBaseVNode("div",_hoisted_12$23,[createBaseVNode("div",_hoisted_13$1Y,[createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:s[0]||(s[0]=i=>t.loadProducts(0))}),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[1]||(s[1]=i=>t.search=i),type:"name",placeholder:"Найди товар на странице"},null,512),[[vModelText,t.search]])]),_hoisted_14$1S]),_hoisted_16$1M,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(i,a)=>(openBlock(),createBlock(_sfc_main$3l,{item:i},null,8,["item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextProducts,simple:!0,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_17$1E,_hoisted_21$1v)),_hoisted_22$1t,createVNode(_sfc_main$3n)],64))}}),ProductsInCategory=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3j},Symbol.toStringTag,{value:"Module"})),_hoisted_1$3b={key:0,class:"card card-style"},_hoisted_2$33={class:"card-top mt-3 mr-3"},_hoisted_3$2V={key:0,href:"#",style:{width:"50px",height:"50px"},class:"btn bg-highlight text-white order-highlight rounded-l shadow-xl d-flex justify-content-center align-items-center float-right mr-0"},_hoisted_4$2K=createBaseVNode("i",{class:"fa fa-heart"},null,-1),_hoisted_5$2F=[_hoisted_4$2K],_hoisted_6$2C={key:1,href:"#",style:{width:"50px",height:"50px"},class:"btn bg-red2-dark rounded-l d-flex justify-content-center align-items-center shadow-xl bg-red2-dark color-white float-right mr-0"},_hoisted_7$2y=createBaseVNode("i",{class:"fa fa-heart"},null,-1),_hoisted_8$2p=[_hoisted_7$2y],_hoisted_9$2l={class:"card-bottom pb-4 pl-3"},_hoisted_10$2c={class:"font-26",style:{"padding-right":"100px"}},_hoisted_11$25={class:"card-bottom pb-4 pr-3"},_hoisted_12$22={class:"font-30 text-right mb-3"},_hoisted_13$1X=createBaseVNode("sup",{class:"font-400 font-17 opacity-50"},".99",-1),_hoisted_14$1R={key:0,class:"badge bg-highlight color-white px-2 py-1 mt-n1 text-uppercase d-block float-right"},_hoisted_15$1N=createBaseVNode("div",{class:"card-overlay bg-gradient-fade rounded-0"},null,-1),_hoisted_16$1L={class:"content mt-n2"},_hoisted_17$1D={class:"row"},_hoisted_18$1C={class:"col-12"},_hoisted_19$1z={class:"d-flex"},_hoisted_20$1w={class:"pt-1"},_hoisted_21$1u=["data-activate"],_hoisted_22$1s={class:"ml-auto mr-1 pr-2"},_hoisted_23$1m={class:"custom-control classic-switch"},_hoisted_24$1j=["id"],_hoisted_25$1f=["for"],_hoisted_26$19=createBaseVNode("i",{class:"fa fa-plus font-11 color-green1-dark"},null,-1),_hoisted_27$17=["data-switch"],_hoisted_28$16={class:"mb-0 pb-0 pt-2"},_hoisted_29$12=createStaticVNode('<div class="col-12"><div><p class="font-10 mb-n2">Product Type</p><p class="font-12 color-theme font-700">Mobile PWA</p></div><div><p class="font-10 mb-n2">Code Platform</p><p class="font-12 color-theme font-700">Bootstrap 4.x</p></div><div><p class="font-10 mb-n2">Hybrid App</p><p class="font-12 color-theme font-700">PhoneGap &amp; Cordova</p></div><div><p class="font-10 mb-n2">Support</p><p class="font-12 color-theme font-700">Included</p></div></div>',1),_hoisted_30$11=createBaseVNode("div",{class:"divider mt-4 mb-2"},null,-1),_hoisted_31$10={class:"d-flex"},_hoisted_32$$=createBaseVNode("p",{class:"mb-n1 font-10"},"Рейтинг & Отзывы",-1),_hoisted_33$_={class:"float-left"},_hoisted_34$Z=createStaticVNode('<div class="ml-auto"><a class="icon icon-s mt-2 mr-2 rounded-m bg-red2-dark color-white" href="#"><i class="fa fa-bookmark"></i></a><a data-menu="menu-share" class="icon icon-s mt-2 rounded-m bg-highlight color-white" href="#"><i class="fa fa-share-alt"></i></a></div>',1),_hoisted_35$Z=createBaseVNode("div",{class:"divider mt-3"},null,-1),_hoisted_36$X={key:0,class:"row text-center mb-3"},_hoisted_37$V={class:"col-4 mb-n2"},_hoisted_38$Q=createBaseVNode("i",{class:"fa-solid fa-plus font-22"},null,-1),_hoisted_39$Q=[_hoisted_38$Q],_hoisted_40$N={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},_hoisted_41$N={class:"font-22"},_hoisted_42$N={class:"col-4 mb-n2"},_hoisted_43$N=createBaseVNode("i",{class:"fa-solid fa-minus font-22"},null,-1),_hoisted_44$M=[_hoisted_43$N],_hoisted_45$L={key:1,class:"row text-center mb-3"},_hoisted_46$L={class:"col-12 mb-n2"},_hoisted_47$J=createBaseVNode("i",{class:"fa-solid fa-cart-plus font-12"},null,-1),_hoisted_48$I=createStaticVNode('<div class="card card-style"><div class="content"><h4 class="font-600">Product Showcase</h4><p class="mb-3"> A classic image slider representing the beautiful power of our product. This image slider can be made either single or double to suit your needs. </p></div><div class="double-slider text-center owl-no-dots owl-carousel"><div class="card rounded-m shadow-l bg-10" data-card-height="220"></div><div class="card rounded-m shadow-l bg-11" data-card-height="220"></div><div class="card rounded-m shadow-l bg-12" data-card-height="220"></div><div class="card rounded-m shadow-l bg-13" data-card-height="220"></div><div class="card rounded-m shadow-l bg-14" data-card-height="220"></div></div></div><div class="card card-style"><div class="content"><h4 class="font-700">Specifications</h4><p> A classic list of specifications that are necessary for products that give minor and major listed details. </p><div class="row mb-0"><div class="col-4"><p class="font-600 mb-n1 color-highlight">PWA</p><p>Compatible</p></div><div class="col-4"><p class="font-600 mb-n1 color-highlight">Platform</p><p>Bootstrap 4.x</p></div><div class="col-4"><p class="font-600 mb-n1 color-highlight">Support</p><p>Included</p></div><div class="w-100 mb-3"></div><div class="col-6"><p class="font-600 mb-n1 color-highlight">Hybrid App</p><p>Cordova or PhoneGap.</p></div><div class="col-6"><p class="font-600 mb-n1 color-highlight">Updates?</p><p>Constant Releases.</p></div></div><div class="divider mt-4"></div><a href="#" class="btn btn-full bg-green1-dark btn-l rounded-sm text-uppercase font-800"><i class="fa fa-shopping-bag pr-3"></i>Purchase Now</a></div></div>',2),_hoisted_50$C={key:1,class:"card card-style"},_hoisted_51$C=createBaseVNode("div",{class:"content"},[createBaseVNode("h3",null,"Другие изображения товара"),createBaseVNode("p",null," A gallery showcasing our product in a better view for you to see. ")],-1),_hoisted_52$C={class:"content"},_hoisted_53$A={class:"row text-center row-cols-3 mb-0"},_hoisted_54$z=["href","title"],_hoisted_55$y=["data-src"],_hoisted_56$y=createStaticVNode('<div class="card card-style"><div class="content"><h3>Testimonials</h3><p> Sharing feedback from our customers is always makes us happy. </p></div><div class="divider divider-margins"></div><div class="content mt-0"><h1 class="mb-n2 font-15 font-700">John Doeson</h1><h1 class="float-right font-700 font-30 mt-n3">5.00</h1><p class="mb-2 font-10"><i class="fa fa-check-circle color-highlight scale-icon mr-2"></i>Verified Purchase </p><p> The best support I have ever had. They are on top of things and with very fast and accurate replies.. </p></div><div class="divider divider-margins"></div><div class="content mt-0"><h1 class="mb-n2 font-15 font-700">Louder Johanna</h1><h1 class="float-right font-700 font-30 mt-n3">4.00</h1><p class="mb-2 font-10"><i class="fa fa-check-circle color-highlight scale-icon mr-2"></i>Verified Purchase </p><p> I hope they will keep the support they deliver, because for me that&#39;s the most important part of buying. </p></div><div class="divider divider-margins"></div><div class="content mt-0"><h1 class="mb-n2 font-15 font-700">Louder Johanna</h1><h1 class="float-right font-700 font-30 mt-n3">4.50</h1><p class="mb-2 font-10"><i class="fa fa-check-circle color-highlight scale-icon mr-2"></i>Verified Purchase </p><p> I like the way it&#39;s setup, did had to do some research before I got to know how it works though. </p></div><div class="content mt-0"><div class="divider"></div><div class="row mb-0"><div class="col-6"><a href="#" class="btn btn-full bg-green1-dark btn-m rounded-sm text-uppercase font-800">Purchase Now</a></div><div class="col-6"><a href="#" class="btn btn-full bg-highlight btn-m rounded-sm text-uppercase font-800">Add to Cart</a></div></div></div></div><div class="card mt-4 preload-img" data-src="images/pictures/20s.jpg"><div class="card-body"><h2 class="color-white font-700 pt-3">Recommended</h2><p class="color-white opacity-70 mb-4"> We recommend some more awesome products for you! Swipe left or right to check them out. </p><div class="double-slider owl-carousel owl-no-dots"><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-14"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">Sticky <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-18"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">AppKit <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-14"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">Kolor <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-18"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">Ultra <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a><a href="#"><div data-card-height="250" class="card rounded-sm shadow-l bg-18"><div class="card-bottom"><h4 class="color-white font-20 line-height-l mb-3 ml-3">AMP <br> Mobile</h4></div><div class="card-overlay bg-black opacity-80"></div></div></a></div><a href="#" class="btn btn-full btn-m font-900 rounded-sm text-uppercase bg-white color-highlight">View All</a></div><div class="card-overlay bg-highlight opacity-95"></div><div class="card-overlay dark-mode-tint"></div></div>',2),__default__$2d={data(){return{product:null}},computed:{...mapGetters(["inCart","cartTotalCount"]),currentBot(){return window.currentBot},discount(){return Math.round(100-this.product.current_price/this.product.old_price*100)},currentPrice(){return this.product.current_price},checkInCart(){return this.inCart(this.product.id)}},mounted(){this.loadProduct()},methods:{incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Успешно добавлено в корзину!")},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Товар удален!")},loadProduct(){let o=this.$route.params.productId;this.$store.dispatch("loadProduct",{dataObject:{productId:o}}).then(t=>{this.product=t.data,this.$store.dispatch("addToWatch",this.product),baseJS.handler()})}}},_sfc_main$3i=Object.assign(__default__$2d,{__name:"Product",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.product?(openBlock(),createElementBlock("div",_hoisted_1$3b,[createBaseVNode("div",{class:"card",style:normalizeStyle([{"background-image":"url("+(t.product.images[0]||"")+")"},{height:"250px"}])},[createBaseVNode("div",_hoisted_2$33,[t.product.in_favorite?(openBlock(),createElementBlock("a",_hoisted_3$2V,_hoisted_5$2F)):(openBlock(),createElementBlock("a",_hoisted_6$2C,_hoisted_8$2p))]),createBaseVNode("div",_hoisted_9$2l,[createBaseVNode("h1",_hoisted_10$2c,toDisplayString(t.product.title||"Не указан"),1)]),createBaseVNode("div",_hoisted_11$25,[createBaseVNode("h1",_hoisted_12$22,[createTextVNode(toDisplayString(t.product.current_price||0),1),_hoisted_13$1X]),t.product.old_price>0?(openBlock(),createElementBlock("span",_hoisted_14$1R,toDisplayString(t.discount)+"% Скидка",1)):createCommentVNode("",!0)]),_hoisted_15$1N],4),createBaseVNode("div",_hoisted_16$1L,[createBaseVNode("div",_hoisted_17$1D,[createBaseVNode("div",_hoisted_18$1C,[createBaseVNode("div",_hoisted_19$1z,[createBaseVNode("div",_hoisted_20$1w,[createBaseVNode("h5",{"data-activate":"toggle-id-5-"+t.product.id,class:"font-500 font-13"},"Полное описание товара",8,_hoisted_21$1u)]),createBaseVNode("div",_hoisted_22$1s,[createBaseVNode("div",_hoisted_23$1m,[createBaseVNode("input",{type:"checkbox",class:"classic-input",id:"toggle-id-5-"+t.product.id},null,8,_hoisted_24$1j),createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-5-"+t.product.id},null,8,_hoisted_25$1f),_hoisted_26$19])])]),createBaseVNode("div",{"data-switch":"toggle-id-5-"+t.product.id,class:"switch-is-unchecked"},[createBaseVNode("p",_hoisted_28$16,toDisplayString(t.product.description||"Нет описания"),1)],8,_hoisted_27$17)]),_hoisted_29$12]),_hoisted_30$11,createBaseVNode("div",_hoisted_31$10,[createBaseVNode("div",null,[_hoisted_32$$,createBaseVNode("h6",_hoisted_33$_,toDisplayString(t.product.rating),1),createVNode(Rating,{rating:t.product.rating},null,8,["rating"])]),_hoisted_34$Z]),_hoisted_35$Z,t.checkInCart>0?(openBlock(),createElementBlock("div",_hoisted_36$X,[createBaseVNode("div",_hoisted_37$V,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=(...a)=>t.incProductCart&&t.incProductCart(...a)),class:"btn p-2 w-100 bg-highlight rounded-s shadow-l"},_hoisted_39$Q)]),createBaseVNode("div",_hoisted_40$N,[createBaseVNode("strong",_hoisted_41$N,toDisplayString(t.checkInCart),1)]),createBaseVNode("div",_hoisted_42$N,[createBaseVNode("button",{onClick:s[1]||(s[1]=(...a)=>t.decProductCart&&t.decProductCart(...a)),type:"button",class:"btn p-2 w-100 bg-red1-dark rounded-s shadow-l"},_hoisted_44$M)])])):(openBlock(),createElementBlock("div",_hoisted_45$L,[createBaseVNode("div",_hoisted_46$L,[createBaseVNode("button",{type:"button",onClick:s[2]||(s[2]=(...a)=>t.incProductCart&&t.incProductCart(...a)),class:"btn btn-full bg-highlight btn-l rounded-sm text-uppercase font-800 w-100 p-3"},[_hoisted_47$J,createTextVNode(" В корзину "),createBaseVNode("strong",null,toDisplayString(t.currentPrice)+"₽",1)])])]))])])):createCommentVNode("",!0),_hoisted_48$I,t.product?(openBlock(),createElementBlock("div",_hoisted_50$C,[_hoisted_51$C,createBaseVNode("div",_hoisted_52$C,[createBaseVNode("div",_hoisted_53$A,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.product.images,(a,n)=>(openBlock(),createElementBlock("a",{class:"col mb-2","data-lightbox":"gallery-1",href:a,title:t.product.title},[withDirectives(createBaseVNode("img",{"data-src":a,class:"preload-img img-fluid rounded-xs",alt:"img"},null,8,_hoisted_55$y),[[i,a]])],8,_hoisted_54$z))),256))])])])):createCommentVNode("",!0),_hoisted_56$y],64)}}}),Product$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3i},Symbol.toStringTag,{value:"Module"})),_sfc_main$3h={},_hoisted_1$3a={class:"card bg-20 mt-4 content rounded-m shadowl"},_hoisted_2$32={class:"card-body"},_hoisted_3$2U={class:"color-white"},_hoisted_4$2J={class:"color-white"},_hoisted_5$2E={class:"card card-style ml-0 mr-0 mb-3 bg-white"},_hoisted_6$2B={class:"content"},_hoisted_7$2x=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-85 rounded-m shadow-l"},null,-1),_hoisted_8$2o=createBaseVNode("div",{class:"card-overlay dark-mode-tint rounded-m shadow-l"},null,-1);function _sfc_render$$(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$3a,[createBaseVNode("div",_hoisted_2$32,[createBaseVNode("h4",_hoisted_3$2U,[renderSlot(o.$slots,"title")]),createBaseVNode("p",_hoisted_4$2J,[renderSlot(o.$slots,"head")]),createBaseVNode("div",_hoisted_5$2E,[createBaseVNode("div",_hoisted_6$2B,[renderSlot(o.$slots,"body")])])]),_hoisted_7$2x,_hoisted_8$2o])}const EmptyCard=_export_sfc(_sfc_main$3h,[["render",_sfc_render$$]]),_hoisted_1$39={key:0,class:"card card-style"},_hoisted_2$31={class:"content"},_hoisted_3$2T=createBaseVNode("h3",null,"Наши товары",-1),_hoisted_4$2I={class:"collapse",id:"collapse-8",style:{}},_hoisted_5$2D={class:"input-style input-style-2 has-icon input-required"},_hoisted_6$2A=createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass"},null,-1),_hoisted_7$2w=createStaticVNode('<p class="mb-0 pb-1"> Цена: </p><div class="row mb-0"><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">От, ₽</span><input class="form-control" type="email" placeholder="0 ₽"></div></div><div class="col-6"><div class="input-style input-style-2 input-required"><span class="color-highlight">До, ₽</span><input class="form-control" type="email" placeholder="100 ₽"></div></div></div>',2),_hoisted_9$2k=createBaseVNode("a",{"data-toggle":"collapse",href:"#collapse-8",class:"btn btn-m btn-full rounded-sm font-900 shadow-xl text-uppercase mb-3","aria-expanded":"true"},[createBaseVNode("i",{class:"fa-solid fa-filter mr-2"}),createBaseVNode("span",{class:"font-14"},"Фильтры избранного товара")],-1),__default__$2c={data(){return{search:null}},computed:{...mapGetters(["getSelf","getFavorites"]),currentBot(){return window.currentBot},self(){return this.getSelf}},mounted(){this.getFavorites.length>0&&this.loadActualPriceInFav()},methods:{loadActualPriceInFav(){this.$store.dispatch("loadActualPriceInFav")}}},_sfc_main$3g=Object.assign(__default__$2c,{__name:"Favorites",setup(o){return(t,s)=>t.getFavorites.length>0?(openBlock(),createElementBlock("div",_hoisted_1$39,[createBaseVNode("div",_hoisted_2$31,[_hoisted_3$2T,createBaseVNode("div",_hoisted_4$2I,[createBaseVNode("div",_hoisted_5$2D,[_hoisted_6$2A,withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),type:"name",placeholder:"Найди товар на странице"},null,512),[[vModelText,t.search]])]),_hoisted_7$2w]),_hoisted_9$2k,t.getFavorites.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.getFavorites,(i,a)=>(openBlock(),createBlock(_sfc_main$3l,{item:i},null,8,["item"]))),256)):createCommentVNode("",!0)])])):(openBlock(),createBlock(EmptyCard,{key:1},{title:withCtx(()=>[createTextVNode(" Товар отсутствует ")]),head:withCtx(()=>[createTextVNode(" На текущий момент товар на страницах сайта отсуствтует ")]),body:withCtx(()=>[createTextVNode(" Вы можете перейти в раздел товаров и попробовать добавить что-то в корзину или избранное ")]),_:1}))}}),Favorites=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3g},Symbol.toStringTag,{value:"Module"})),_hoisted_1$38={key:0,class:"card card-style"},_hoisted_2$30={class:"content"},_hoisted_3$2S=createBaseVNode("div",{class:"divider mt-3"},null,-1),_hoisted_4$2H=createBaseVNode("h4",null,"Итого",-1),_hoisted_5$2C=createBaseVNode("p",null," Ниже приведена итоговая цена заказа без учета стоимости доставки. Цена доставки расчитывается отдельно и зависит от расстояния. ",-1),_hoisted_6$2z={class:"row mb-0"},_hoisted_7$2v={key:0,class:"col-6 text-left"},_hoisted_8$2n={class:"font-600"},_hoisted_9$2j={class:"col-2 text-center"},_hoisted_10$2b={class:"font-600"},_hoisted_11$24={key:1,class:"col-4 text-right"},_hoisted_12$21={class:"font-600"},_hoisted_13$1W=createBaseVNode("sup",null,".00",-1),_hoisted_14$1Q=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_15$1M={class:"row mb-0"},_hoisted_16$1K=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, ед.")],-1),_hoisted_17$1C={class:"col-6 text-right"},_hoisted_18$1B=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, цена")],-1),_hoisted_19$1y={class:"col-6 text-right"},_hoisted_20$1v=createBaseVNode("sup",null,".00",-1),_hoisted_21$1t=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_22$1r=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_23$1l=createBaseVNode("span",{class:"color-white"},"Перейти к оформлению",-1),_hoisted_24$1i=[_hoisted_22$1r,_hoisted_23$1l],__default__$2b={computed:{...mapGetters(["cartProducts","cartTotalCount","cartTotalPrice"]),tg(){return window.Telegram.WebApp}},mounted(){this.cartProducts.length>0&&this.loadActualProducts()},methods:{loadActualProducts(){this.$store.dispatch("loadActualPriceInCart")},startCheckout(){console.log("startCheckout"),this.$store.dispatch("startCheckout"),this.tg.close()}}},_sfc_main$3f=Object.assign(__default__$2b,{__name:"Basket",setup(o){return(t,s)=>t.cartProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_1$38,[createBaseVNode("div",_hoisted_2$30,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(i,a)=>(openBlock(),createBlock(_sfc_main$3l,{item:i.product},null,8,["item"]))),256)),_hoisted_3$2S,_hoisted_4$2H,_hoisted_5$2C,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_6$2z,[i.product?(openBlock(),createElementBlock("div",_hoisted_7$2v,[createBaseVNode("h6",_hoisted_8$2n,toDisplayString(i.product.title||"Не указано"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$2j,[createBaseVNode("h6",_hoisted_10$2b,"x"+toDisplayString(i.quantity||1),1)]),i.product?(openBlock(),createElementBlock("div",_hoisted_11$24,[createBaseVNode("h6",_hoisted_12$21,[createTextVNode(toDisplayString(i.product.current_price)+" ",1),_hoisted_13$1W,createTextVNode("₽")])])):createCommentVNode("",!0)]))),256)),_hoisted_14$1Q,createBaseVNode("div",_hoisted_15$1M,[_hoisted_16$1K,createBaseVNode("div",_hoisted_17$1C,[createBaseVNode("h4",null,toDisplayString(t.cartTotalCount)+" шт.",1)]),_hoisted_18$1B,createBaseVNode("div",_hoisted_19$1y,[createBaseVNode("h4",null,[createTextVNode(toDisplayString(t.cartTotalPrice),1),_hoisted_20$1v,createTextVNode("₽")])])]),_hoisted_21$1t,createBaseVNode("button",{onClick:s[0]||(s[0]=(...i)=>t.startCheckout&&t.startCheckout(...i)),class:"btn btn-full btn-sm rounded-s bg-highlight font-800 text-uppercase w-100"},_hoisted_24$1i)])])):(openBlock(),createBlock(EmptyCard,{key:1},{title:withCtx(()=>[createTextVNode(" Товар отсутствует ")]),head:withCtx(()=>[createTextVNode(" На текущий момент товар на страницах сайта отсуствтует ")]),body:withCtx(()=>[createTextVNode(" Вы можете перейти в раздел товаров и попробовать добавить что-то в корзину или избранное ")]),_:1}))}}),Basket=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$3f},Symbol.toStringTag,{value:"Module"})),_sfc_main$3e={},_hoisted_1$37=createStaticVNode('<div class="card card-style"><div class="content"><h3>Order Summary</h3><p> Finished Shopping? Let&#39;s checkout! Remember, this is just a template! </p><div class="d-flex pb-2"><div class="mr-auto"><img src="images/pictures/2s.jpg" class="rounded-m shadow-xl" width="110"><a href="#" data-menu="cart-item-edit" class="color-white mt-n5 py-3 pl-2 d-block font-11"><i class="fa fa-pen pl-2 pr-2"></i> Edit Item</a></div><div class="ml-auto w-100 pl-3"><h5 class="font-14 font-600 opacity-80 pb-2">Your awesome product description long or short. </h5><div class="clearfix"></div><h1 class="font-23 font-700 float-left pt-2">$199<sup class="font-15 opacity-50">.99</sup></h1><div class="float-right"><div class="input-style input-style-1 mt-1"><span class="input-style-1-active">Qty</span><input type="number" min="1" max="999" class="border-0" placeholder="1"></div></div></div></div><div class="d-flex pb-2"><div class="mr-auto"><img src="images/pictures/20s.jpg" class="rounded-m shadow-xl" width="110"><a href="#" data-menu="cart-item-edit" class="color-white mt-n5 py-3 pl-2 d-block font-11"><i class="fa fa-pen pl-2 pr-2"></i> Edit Item</a></div><div class="ml-auto w-100 pl-3"><h5 class="font-14 font-600 opacity-80 pb-2">Designer Style Eyeglasses with UV protection. </h5><div class="clearfix"></div><h1 class="font-23 font-700 float-left pt-2">$1299<sup class="font-15 opacity-50">.99</sup></h1><div class="float-right"><div class="input-style input-style-1 mt-1"><span class="input-style-1-active">Qty</span><input type="number" min="1" max="999" class="border-0" placeholder="1"></div></div></div></div><div class="d-flex"><div class="mr-auto"><img src="images/pictures/6s.jpg" class="rounded-m shadow-xl" width="110"><a href="#" data-menu="cart-item-edit" class="color-white mt-n5 py-3 pl-2 d-block font-11"><i class="fa fa-pen pl-2 pr-2"></i> Edit Item</a></div><div class="ml-auto w-100 pl-3"><h5 class="font-14 font-600 opacity-80 pb-2">Retro Camera with 24 rolls of film included. </h5><div class="clearfix"></div><h1 class="font-23 font-700 float-left pt-2">$499<sup class="font-15 opacity-50">.99</sup></h1><div class="float-right"><div class="input-style input-style-1 mt-1"><span class="input-style-1-active">Qty</span><input type="number" min="1" max="999" class="border-0" placeholder="1"></div></div></div></div></div></div><div class="card card-style"><div class="content"><h3>Payment Method</h3><p> Please select your payment method. This page is a dummy template. </p><div class="input-style input-style-2 mb-3 input-required"><span class="input-style-1-active input-style-1-inactive">Payment Type</span><em><i class="fa fa-check color-green1-dark"></i></em><select class="form-control"><option value="1">Credit Card</option><option value="1">PayPal</option><option value="1">Payoneer</option><option value="1">Stripe</option></select></div></div></div><div class="card card-style"><div class="content"><h4>Payment Details</h4><p> Please select your payment method. This page is a dummy template. </p><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">Cardholder Name</span><em>(required)</em><input class="form-control" type="name" placeholder="Joe Purchases"></div><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">Card Number</span><em>(required)</em><input class="form-control" type="name" placeholder="1234 5678 9012 3456"></div><div class="row mb-0"><div class="col-7"><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">Valid Thru</span><em>(required)</em><input class="form-control" type="name" placeholder="12/05"></div></div><div class="col-5"><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">CVV</span><em>(required)</em><input class="form-control" type="name" placeholder="123"></div></div></div></div></div><div class="card card-style"><div class="content"><h3> Детали платежа </h3><p> Finished Shopping? Let&#39;s checkout! Remember, this is just a template! </p><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">First Name</span><em>(required)</em><input class="form-control" type="name" placeholder="John"></div><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">Last Name</span><em>(required)</em><input class="form-control" type="name" placeholder="Doe"></div><div class="input-style input-style-2 mb-3"><span class="color-highlight">Company Name</span><em>(optional)</em><input class="form-control" type="name" placeholder="Doe"></div><div class="input-style input-style-2 mb-3 input-required"><span>Country</span><em><i class="fa fa-angle-down"></i></em><select class="form-control"><option value="Afghanistan">Afghanistan</option><option value="Åland Islands">Åland Islands</option><option value="Albania">Albania</option><option value="Algeria">Algeria</option><option value="American Samoa">American Samoa</option><option value="Andorra">Andorra</option><option value="Angola">Angola</option><option value="Anguilla">Anguilla</option><option value="Antarctica">Antarctica</option><option value="Antigua and Barbuda">Antigua and Barbuda</option><option value="Argentina">Argentina</option><option value="Armenia">Armenia</option><option value="Aruba">Aruba</option><option value="Australia">Australia</option><option value="Austria">Austria</option><option value="Azerbaijan">Azerbaijan</option><option value="Bahamas">Bahamas</option><option value="Bahrain">Bahrain</option><option value="Bangladesh">Bangladesh</option><option value="Barbados">Barbados</option><option value="Belarus">Belarus</option><option value="Belgium">Belgium</option><option value="Belize">Belize</option><option value="Benin">Benin</option><option value="Bermuda">Bermuda</option><option value="Bhutan">Bhutan</option><option value="Bolivia">Bolivia</option><option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option><option value="Botswana">Botswana</option><option value="Bouvet Island">Bouvet Island</option><option value="Brazil">Brazil</option><option value="British Indian Ocean Territory">British Indian Ocean Territory</option><option value="Brunei Darussalam">Brunei Darussalam</option><option value="Bulgaria">Bulgaria</option><option value="Burkina Faso">Burkina Faso</option><option value="Burundi">Burundi</option><option value="Cambodia">Cambodia</option><option value="Cameroon">Cameroon</option><option value="Canada">Canada</option><option value="Cape Verde">Cape Verde</option><option value="Cayman Islands">Cayman Islands</option><option value="Central African Republic">Central African Republic</option><option value="Chad">Chad</option><option value="Chile">Chile</option><option value="China">China</option><option value="Christmas Island">Christmas Island</option><option value="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option><option value="Colombia">Colombia</option><option value="Comoros">Comoros</option><option value="Congo">Congo</option><option value="Congo, The Democratic Republic of The">Congo, The Democratic Republic of The</option><option value="Cook Islands">Cook Islands</option><option value="Costa Rica">Costa Rica</option><option value="Cote D&#39;ivoire">Cote D&#39;ivoire</option><option value="Croatia">Croatia</option><option value="Cuba">Cuba</option><option value="Cyprus">Cyprus</option><option value="Czech Republic">Czech Republic</option><option value="Denmark">Denmark</option><option value="Djibouti">Djibouti</option><option value="Dominica">Dominica</option><option value="Dominican Republic">Dominican Republic</option><option value="Ecuador">Ecuador</option><option value="Egypt">Egypt</option><option value="El Salvador">El Salvador</option><option value="Equatorial Guinea">Equatorial Guinea</option><option value="Eritrea">Eritrea</option><option value="Estonia">Estonia</option><option value="Ethiopia">Ethiopia</option><option value="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option><option value="Faroe Islands">Faroe Islands</option><option value="Fiji">Fiji</option><option value="Finland">Finland</option><option value="France">France</option><option value="French Guiana">French Guiana</option><option value="French Polynesia">French Polynesia</option><option value="French Southern Territories">French Southern Territories</option><option value="Gabon">Gabon</option><option value="Gambia">Gambia</option><option value="Georgia">Georgia</option><option value="Germany">Germany</option><option value="Ghana">Ghana</option><option value="Gibraltar">Gibraltar</option><option value="Greece">Greece</option><option value="Greenland">Greenland</option><option value="Grenada">Grenada</option><option value="Guadeloupe">Guadeloupe</option><option value="Guam">Guam</option><option value="Guatemala">Guatemala</option><option value="Guernsey">Guernsey</option><option value="Guinea">Guinea</option><option value="Guinea-bissau">Guinea-bissau</option><option value="Guyana">Guyana</option><option value="Haiti">Haiti</option><option value="Heard Island and Mcdonald Islands">Heard Island and Mcdonald Islands</option><option value="Holy See (Vatican City State)">Holy See (Vatican City State)</option><option value="Honduras">Honduras</option><option value="Hong Kong">Hong Kong</option><option value="Hungary">Hungary</option><option value="Iceland">Iceland</option><option value="India">India</option><option value="Indonesia">Indonesia</option><option value="Iran, Islamic Republic of">Iran, Islamic Republic of</option><option value="Iraq">Iraq</option><option value="Ireland">Ireland</option><option value="Isle of Man">Isle of Man</option><option value="Israel">Israel</option><option value="Italy">Italy</option><option value="Jamaica">Jamaica</option><option value="Japan">Japan</option><option value="Jersey">Jersey</option><option value="Jordan">Jordan</option><option value="Kazakhstan">Kazakhstan</option><option value="Kenya">Kenya</option><option value="Kiribati">Kiribati</option><option value="Korea, Democratic People&#39;s Republic of">Korea, Democratic People&#39;s Republic of</option><option value="Korea, Republic of">Korea, Republic of</option><option value="Kuwait">Kuwait</option><option value="Kyrgyzstan">Kyrgyzstan</option><option value="Lao People&#39;s Democratic Republic">Lao People&#39;s Democratic Republic</option><option value="Latvia">Latvia</option><option value="Lebanon">Lebanon</option><option value="Lesotho">Lesotho</option><option value="Liberia">Liberia</option><option value="Libyan Arab Jamahiriya">Libyan Arab Jamahiriya</option><option value="Liechtenstein">Liechtenstein</option><option value="Lithuania">Lithuania</option><option value="Luxembourg">Luxembourg</option><option value="Macao">Macao</option><option value="Macedonia, The Former Yugoslav Republic of">Macedonia, The Former Yugoslav Republic of</option><option value="Madagascar">Madagascar</option><option value="Malawi">Malawi</option><option value="Malaysia">Malaysia</option><option value="Maldives">Maldives</option><option value="Mali">Mali</option><option value="Malta">Malta</option><option value="Marshall Islands">Marshall Islands</option><option value="Martinique">Martinique</option><option value="Mauritania">Mauritania</option><option value="Mauritius">Mauritius</option><option value="Mayotte">Mayotte</option><option value="Mexico">Mexico</option><option value="Micronesia, Federated States of">Micronesia, Federated States of</option><option value="Moldova, Republic of">Moldova, Republic of</option><option value="Monaco">Monaco</option><option value="Mongolia">Mongolia</option><option value="Montenegro">Montenegro</option><option value="Montserrat">Montserrat</option><option value="Morocco">Morocco</option><option value="Mozambique">Mozambique</option><option value="Myanmar">Myanmar</option><option value="Namibia">Namibia</option><option value="Nauru">Nauru</option><option value="Nepal">Nepal</option><option value="Netherlands">Netherlands</option><option value="Netherlands Antilles">Netherlands Antilles</option><option value="New Caledonia">New Caledonia</option><option value="New Zealand">New Zealand</option><option value="Nicaragua">Nicaragua</option><option value="Niger">Niger</option><option value="Nigeria">Nigeria</option><option value="Niue">Niue</option><option value="Norfolk Island">Norfolk Island</option><option value="Northern Mariana Islands">Northern Mariana Islands</option><option value="Norway">Norway</option><option value="Oman">Oman</option><option value="Pakistan">Pakistan</option><option value="Palau">Palau</option><option value="Palestinian Territory, Occupied">Palestinian Territory, Occupied</option><option value="Panama">Panama</option><option value="Papua New Guinea">Papua New Guinea</option><option value="Paraguay">Paraguay</option><option value="Peru">Peru</option><option value="Philippines">Philippines</option><option value="Pitcairn">Pitcairn</option><option value="Poland">Poland</option><option value="Portugal">Portugal</option><option value="Puerto Rico">Puerto Rico</option><option value="Qatar">Qatar</option><option value="Reunion">Reunion</option><option value="Romania">Romania</option><option value="Russian Federation">Russian Federation</option><option value="Rwanda">Rwanda</option><option value="Saint Helena">Saint Helena</option><option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option><option value="Saint Lucia">Saint Lucia</option><option value="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option><option value="Saint Vincent and The Grenadines">Saint Vincent and The Grenadines</option><option value="Samoa">Samoa</option><option value="San Marino">San Marino</option><option value="Sao Tome and Principe">Sao Tome and Principe</option><option value="Saudi Arabia">Saudi Arabia</option><option value="Senegal">Senegal</option><option value="Serbia">Serbia</option><option value="Seychelles">Seychelles</option><option value="Sierra Leone">Sierra Leone</option><option value="Singapore">Singapore</option><option value="Slovakia">Slovakia</option><option value="Slovenia">Slovenia</option><option value="Solomon Islands">Solomon Islands</option><option value="Somalia">Somalia</option><option value="South Africa">South Africa</option><option value="South Georgia and The South Sandwich Islands">South Georgia and The South Sandwich Islands</option><option value="Spain">Spain</option><option value="Sri Lanka">Sri Lanka</option><option value="Sudan">Sudan</option><option value="Suriname">Suriname</option><option value="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option><option value="Swaziland">Swaziland</option><option value="Sweden">Sweden</option><option value="Switzerland">Switzerland</option><option value="Syrian Arab Republic">Syrian Arab Republic</option><option value="Taiwan, Province of China">Taiwan, Province of China</option><option value="Tajikistan">Tajikistan</option><option value="Tanzania, United Republic of">Tanzania, United Republic of</option><option value="Thailand">Thailand</option><option value="Timor-leste">Timor-leste</option><option value="Togo">Togo</option><option value="Tokelau">Tokelau</option><option value="Tonga">Tonga</option><option value="Trinidad and Tobago">Trinidad and Tobago</option><option value="Tunisia">Tunisia</option><option value="Turkey">Turkey</option><option value="Turkmenistan">Turkmenistan</option><option value="Turks and Caicos Islands">Turks and Caicos Islands</option><option value="Tuvalu">Tuvalu</option><option value="Uganda">Uganda</option><option value="Ukraine">Ukraine</option><option value="United Arab Emirates">United Arab Emirates</option><option value="United Kingdom">United Kingdom</option><option value="United States" selected="">United States</option><option value="United States Minor Outlying Islands">United States Minor Outlying Islands</option><option value="Uruguay">Uruguay</option><option value="Uzbekistan">Uzbekistan</option><option value="Vanuatu">Vanuatu</option><option value="Venezuela">Venezuela</option><option value="Viet Nam">Viet Nam</option><option value="Virgin Islands, British">Virgin Islands, British</option><option value="Virgin Islands, U.S.">Virgin Islands, U.S.</option><option value="Wallis and Futuna">Wallis and Futuna</option><option value="Western Sahara">Western Sahara</option><option value="Yemen">Yemen</option><option value="Zambia">Zambia</option><option value="Zimbabwe">Zimbabwe</option></select></div><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">Town/State</span><em>(optional)</em><input class="form-control" type="name" placeholder="New York"></div><div class="input-style input-style-2 input-required mb-3"><span class="color-highlight">Street Address</span><em>(optional)</em><input class="form-control" type="name" placeholder="Cookie Street 123"></div><div class="input-style input-style-2 input-required mb-0"><span class="color-highlight">Apartament, Suite, Unit</span><em>(optional)</em><input class="form-control" type="name" placeholder="Doe"></div></div></div><div class="card mt-4 preload-img" data-src="images/pictures/20s.jpg" style="background-image:url(&quot;images/pictures/20s.jpg&quot;);"><div class="card-body py-4"><h2 class="color-white text-center">Submit Order</h2><p class="color-white boxed-text-xl"> After tapping the purchase button we&#39;ll immediately start processing your order </p><div class="card card-style mx-0"><div class="content"><div class="row mb-0"><div class="col-6 text-left"><h6 class="font-600">Total</h6></div><div class="col-6 text-right"><h6 class="font-600">$1998<sup>.98</sup></h6></div><div class="col-6 text-left"><h6 class="font-600">Taxes</h6></div><div class="col-6 text-right"><h6 class="font-600">$136<sup>.98</sup></h6></div><div class="col-6 text-left"><h6 class="font-600">Shipping</h6></div><div class="col-6 text-right"><h6 class="font-600 color-green1-dark">$0<sup>.00</sup></h6></div><div class="col-12"><div class="divider mt-3"></div></div><div class="col-6 text-left"><h4>Grand Total</h4></div><div class="col-6 text-right"><h4>$2133<sup>.98</sup></h4></div></div><div class="divider mt-4"></div><a href="#" class="btn btn-full btn-m rounded-sm bg-highlight font-800 text-uppercase">Оплатить</a></div></div></div><div class="card-overlay bg-highlight opacity-95"></div><div class="card-overlay dark-mode-tint"></div></div>',5);function _sfc_render$_(o,t){return _hoisted_1$37}const CheckOut=_export_sfc(_sfc_main$3e,[["render",_sfc_render$_]]),CheckOut$1=Object.freeze(Object.defineProperty({__proto__:null,default:CheckOut},Symbol.toStringTag,{value:"Module"})),_sfc_main$3d={mounted(){}},_hoisted_1$36=createStaticVNode('<div class="card card-style"><div class="content"><div class="d-flex"><div><img src="images/avatars/5s.png" width="50" class="mr-3 bg-highlight rounded-xl"></div><div><h1 class="mb-0 pt-1">Enabled</h1><p class="color-highlight font-11 mt-n2 mb-3">The Best Mobile Author on Envato</p></div></div><p> We care about all our customers and we give 150% attention to detail for perfect quality. </p></div></div><div class="card card-style"><div class="content mb-0"><h3 class="font-600">Basic Info</h3><p> Basic details about you. Set them here. These can be connected to your database and shown on the user profile. </p><div class="input-style input-style-2 input-required mb-"><span class="color-highlight input-style-1-active">Name</span><em>(required)</em><input class="form-control" type="text" placeholder="John Doe"></div><div class="input-style input-style-2 input-required mb-4"><span class="color-highlight input-style-1-active">Email Address</span><em>(required)</em><input class="form-control" type="email" placeholder="name@domain.com"></div><div class="input-style input-style-2 input-required mb-4"><span class="color-highlight input-style-1-active">Phone Number</span><em>(required)</em><input class="form-control" type="number" placeholder="+1 234 567 8900"></div><div class="input-style input-style-2 input-required mb-4"><span class="color-highlight input-style-1-active">Location</span><em>(required)</em><input class="form-control" type="text" placeholder="Melbourne, Victoria"></div><div class="input-style input-style-2 input-required"><span class="color-highlight input-style-1-active">Password</span><em>(required)</em><input class="form-control" type="password" value="adgw45@$%@^@$%Fa"></div></div></div><div class="card card-style"><div class="content mb-2"><h3 class="font-600">Socials</h3><p> Basic details about you. Set them here. These can be connected to your database and shown on the user profile. </p><div class="list-group list-custom-small"><a href="#"><i class="fab font-14 fa-twitter color-twitter"></i><span>Twitter</span><i class="fa fa-arrow-right"></i></a><a href="#"><i class="fab font-14 fa-linkedin-in color-linkedin"></i><span>LinkedIn</span><i class="fa fa-arrow-right"></i></a><a href="#"><i class="fab font-14 fa-facebook-f color-facebook"></i><span>Facebook</span><i class="fa fa-arrow-right"></i></a><a href="#" class="border-0"><i class="fab font-14 fa-instagram color-instagram"></i><span>Instagram</span><i class="fa fa-arrow-right"></i></a></div></div></div><div class="card card-style"><div class="content mb-2"><h3 class="font-600">Account Settings</h3><p> Set your preferences here, these can be connected to a database and shown on the user profile. </p><div class="list-group list-custom-small"><a href="#" data-trigger-switch="switch-1"><span>Notifications</span><div class="custom-control scale-switch ios-switch"><input type="checkbox" class="ios-input" id="switch-1" checked=""><label class="custom-control-label" for="switch-1"></label></div><i class="fa fa-arrow-right"></i></a><a href="#" data-trigger-switch="switch-1a"><span>Newsletter</span><div class="custom-control scale-switch ios-switch"><input type="checkbox" class="ios-input" id="switch-1a" checked=""><label class="custom-control-label" for="switch-1"></label></div><i class="fa fa-arrow-right"></i></a><a href="#" data-trigger-switch="switch-1a" class="border-0"><span>Dark Mode</span><div class="custom-control scale-switch ios-switch"><input type="checkbox" class="ios-input" id="switch-1a"><label class="custom-control-label" for="switch-1"></label></div><i class="fa fa-arrow-right"></i></a></div></div></div><a href="#" class="btn btn-full btn-margins bg-highlight rounded-sm shadow-xl btn-m text-uppercase font-900">Save Information</a>',5);function _sfc_render$Z(o,t,s,i,a,n){return _hoisted_1$36}const Settings=_export_sfc(_sfc_main$3d,[["render",_sfc_render$Z]]),Settings$1=Object.freeze(Object.defineProperty({__proto__:null,default:Settings},Symbol.toStringTag,{value:"Module"})),_sfc_main$3c={computed:{tg(){return window.Telegram.WebApp}},methods:{close(){if(!this.tg){this.$botNotification.warning("Ошибочка","Вы находитесь не в боте!");return}this.tg.close()}}};function _sfc_render$Y(o,t,s,i,a,n){return openBlock(),createElementBlock("button",{onClick:t[0]||(t[0]=(...r)=>n.close&&n.close(...r)),type:"button",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light w-100"}," Вернуться в бота ")}const ReturnToBot=_export_sfc(_sfc_main$3c,[["render",_sfc_render$Y]]),_hoisted_1$35={class:"card card-style"},_hoisted_2$2$={class:"content mb-0"},_hoisted_3$2R={key:0},_hoisted_4$2G={key:1},_hoisted_5$2B={key:2},_hoisted_6$2y={key:3},_hoisted_7$2u={class:"input-style input-style-2 has-icon"},_hoisted_8$2m=createBaseVNode("i",{class:"input-icon fa fa-user"},null,-1),_hoisted_9$2i={class:"input-style input-style-2 has-icon"},_hoisted_10$2a=createBaseVNode("i",{class:"input-icon fa-solid fa-phone"},null,-1),_hoisted_11$23={class:"input-style input-style-2 has-icon"},_hoisted_12$20=createBaseVNode("span",{class:"input-style-1-active input-style-1-inactive"},"Ваше сообщение",-1),_hoisted_13$1V=createBaseVNode("i",{class:"input-icon fa-solid fa-envelope-open-text"},null,-1),_hoisted_14$1P=createBaseVNode("em",null,"(нужно)",-1),_hoisted_15$1L=["disabled"],__default__$2a={props:["type"],data(){return{sending:!1,callbackForm:{name:null,phone:null,message:null}}},computed:{self(){return window.self}},mounted(){this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null,this.type==="booking"&&(this.callbackForm.message="Добрый день! Я хочу забронировать столик! Перезвоните мне.")},methods:{submitCallback(){let o=new FormData;this.sending=!0,Object.keys(this.callbackForm).forEach(t=>{const s=this.callbackForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.type&&o.append("type",this.type),this.$store.dispatch("callbackForm",{callbackForm:o}).then(t=>{this.callbackForm={message:null,name:null,phone:null},this.$botNotification.success("Обратная связь","Спасибо за сообщение"),this.sending=!1}).catch(t=>{this.sending=!1})}}},_sfc_main$3b=Object.assign(__default__$2a,{__name:"CallbackForm",setup(o){return(t,s)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock("div",_hoisted_1$35,[createBaseVNode("div",_hoisted_2$2$,[o.type?createCommentVNode("",!0):(openBlock(),createElementBlock("h3",_hoisted_3$2R,"Обратная связь")),o.type==="booking"?(openBlock(),createElementBlock("h3",_hoisted_4$2G,"Бронирование столика")):createCommentVNode("",!0),o.type?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_5$2B," Вы можете оставить нам сообщение с пожеланиями по улучшению сервиса! ")),o.type==="booking"?(openBlock(),createElementBlock("p",_hoisted_6$2y," Укажите в текстовом сообщение критерии бронирования столика, или же оставьте сообщение без изменений! ")):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:s[3]||(s[3]=withModifiers((...a)=>t.submitCallback&&t.submitCallback(...a),["prevent"]))},[createBaseVNode("div",_hoisted_7$2u,[_hoisted_8$2m,withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=a=>t.callbackForm.name=a),type:"text",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,t.callbackForm.name]])]),createBaseVNode("div",_hoisted_9$2i,[_hoisted_10$2a,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>t.callbackForm.phone=a),placeholder:"+7(000)000-00-00",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.callbackForm.phone]])]),createBaseVNode("div",_hoisted_11$23,[_hoisted_12$20,_hoisted_13$1V,_hoisted_14$1P,withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%",padding:"35px"},"onUpdate:modelValue":s[2]||(s[2]=a=>t.callbackForm.message=a),type:"text",placeholder:"",required:""},null,512),[[vModelText,t.callbackForm.message]])]),createBaseVNode("button",{type:"submit",disabled:t.sending,class:"btn btn-full btn-m shadow-l rounded-s text-uppercase font-900 bg-green1-dark my-2 w-100"}," Отправить сообщение ",8,_hoisted_15$1L),createVNode(ReturnToBot,{class:"my-2"})],32)])])}}}),_sfc_main$3a={data(){return{sending:!1,form:{name:null,phone:null}}},computed:{self(){return window.self}},mounted(){baseJS.handler(),this.form.name=this.self.fio_from_telegram||this.self.name,this.form.phone=this.self.phone||null},methods:{submit(){this.$emit("callback",this.form)}}},_hoisted_1$34=["disabled"];function _sfc_render$X(o,t,s,i,a,n){return openBlock(),createElementBlock(Fragment,null,[renderSlot(o.$slots,"head"),createBaseVNode("form",{onSubmit:t[0]||(t[0]=withModifiers((...r)=>n.submit&&n.submit(...r),["prevent"]))},[createBaseVNode("button",{type:"submit",disabled:a.sending,class:"btn btn-full btn-m shadow-l rounded-s text-uppercase font-900 bg-green1-dark w-100"}," Начать ",8,_hoisted_1$34)],32)],64)}const PlayerForm=_export_sfc(_sfc_main$3a,[["render",_sfc_render$X]]),Schedule_vue_vue_type_style_index_0_lang="",_hoisted_1$33={class:"card card-style"},_hoisted_2$2_=createBaseVNode("div",{class:"card-top"},[createBaseVNode("a",{id:"business-hours-mail",href:"#goto",class:"float-right btn btn-xs rounded-xl text-uppercase font-900 mt-5 mr-3 bg-white color-black"},"Написать нам")],-1),_hoisted_3$2Q={key:0,class:"card-top mt-4 ml-3 pl-1"},_hoisted_4$2F=createBaseVNode("h1",{class:"color-white mt-1 font-20 font-700"},"Извините! мы закрыты!",-1),_hoisted_5$2A={class:"color-white opacity-90 mt-n2 mb-0"},_hoisted_6$2x={key:1,class:"card-top mt-4 ml-3 pl-1"},_hoisted_7$2t=createBaseVNode("h1",{class:"color-white mt-1 font-20 font-700"},"Мы открыты!",-1),_hoisted_8$2l={class:"color-white opacity-90 mt-n2 mb-0"},_hoisted_9$2h={class:"content"},_hoisted_10$29=createBaseVNode("div",{class:"working-hours"},[createBaseVNode("p",null,[createBaseVNode("strong",null,"День недели")]),createBaseVNode("p",null,[createBaseVNode("strong",null,"Начало работы")]),createBaseVNode("p",null,[createBaseVNode("strong",null,"Конец работы")])],-1),_hoisted_11$22={key:0},_hoisted_12$1$={key:1},_hoisted_13$1U={class:"ml-3 mr-3 alert alert-small rounded-s shadow-xl bg-green1-dark",role:"alert"},_hoisted_14$1O=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa fa-check"})],-1),_hoisted_15$1K=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"×",-1),_hoisted_16$1J={class:"ml-3 mr-3 alert alert-small rounded-s shadow-xl bg-red2-dark",role:"alert"},_hoisted_17$1B=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa fa-times-circle"})],-1),_hoisted_18$1A=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"×",-1),_hoisted_19$1x=createBaseVNode("div",{class:"divider divider-margins"},null,-1),__default__$29={name:"App",data(){return{current_day:1,schedule:null,is_work:!1,opened_comment:null,closed_comment:null}},mounted(){this.loadServiceData().then(()=>{})},methods:{loadServiceData(){return this.$store.dispatch("scheduleLoadData").then(o=>{this.schedule=o.schedule,this.current_day=o.current_day,this.is_work=o.is_work,this.opened_comment=o.opened_comment,this.closed_comment=o.closed_comment,console.log(this.schedule)})}}},_sfc_main$39=Object.assign(__default__$29,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$33,[createBaseVNode("div",{class:normalizeClass(["caption shadow-xl",{"bg-red2-dark is-business-closed":!t.is_work,"bg-green1-dark is-business-opened":t.is_work}]),style:{height:"120px"}},[_hoisted_2$2_,t.is_work?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$2Q,[_hoisted_4$2F,createBaseVNode("p",_hoisted_5$2A,toDisplayString(t.closed_comment||"не указано"),1)])),t.is_work?(openBlock(),createElementBlock("div",_hoisted_6$2x,[_hoisted_7$2t,createBaseVNode("p",_hoisted_8$2l,toDisplayString(t.opened_comment||"не указано"),1)])):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["caption-overlay show-business-opened bg-green1-dark",{disabled:!t.is_work}])},null,2),createBaseVNode("div",{class:normalizeClass(["caption-overlay show-business-closed bg-red2-dark",{disabled:t.is_work}])},null,2)],2),createBaseVNode("div",_hoisted_9$2h,[_hoisted_10$29,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.schedule,(i,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["working-hours",{"bg-green1-dark":t.current_day==a&&t.is_work,"bg-red2-dark":t.current_day==a&&!t.is_work}])},[i.closed?(openBlock(),createElementBlock("div",_hoisted_11$22,[createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==a}])},toDisplayString(i.day),3),createBaseVNode("p",{class:normalizeClass(["text-center opacity-00",{"text-white":t.current_day==a}])},"-",2),createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==a}])},"Не работает",2)])):(openBlock(),createElementBlock("div",_hoisted_12$1$,[createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==a}])},toDisplayString(i.day),3),createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==a}])},toDisplayString(i.start_at),3),createBaseVNode("p",{class:normalizeClass(["text-center",{"text-white":t.current_day==a}])},toDisplayString(i.end_at),3)]))],2))),256))])]),createBaseVNode("div",{class:normalizeClass(["show-business-opened mb-4",{disabled:!t.is_work}])},[createBaseVNode("div",_hoisted_13$1U,[_hoisted_14$1O,createBaseVNode("strong",null,toDisplayString(t.opened_comment||"Не указано"),1),_hoisted_15$1K])],2),createBaseVNode("div",{class:normalizeClass(["show-business-closed mb-4",{disabled:t.is_work}])},[createBaseVNode("div",_hoisted_16$1J,[_hoisted_17$1B,createBaseVNode("strong",null,toDisplayString(t.closed_comment||"Не указано"),1),_hoisted_18$1A])],2),_hoisted_19$1x,createVNode(_sfc_main$3b,{id:"goto",name:"goto"})],64))}}),Schedule=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$39},Symbol.toStringTag,{value:"Module"})),_sfc_main$38={props:["quiz","needReturn"],data(){return{types:["По порядку","Перемешать всё","Перемешать ответы","Перемешать вопросы"]}},mounted(){},computed:{isCompleted(){return!1}},methods:{returnBack(){this.$emit("return")},selectQuiz(o){this.$store.dispatch("startQuiz",{quiz_id:this.quiz.id}).then(t=>{}).catch(()=>{}),this.$emit("select",o)},openLinkModal(){let o=window.currentScript||null;this.$cashback.qr("005000000"+o)}}},_hoisted_1$32={class:"px-1"},_hoisted_2$2Z={key:0,class:"card w-100 shadow-xl rounded-sm"},_hoisted_3$2P={key:0,class:"card-img-top rounded-m p-2",alt:"..."},_hoisted_4$2E={class:"card-body"},_hoisted_5$2z={class:"card-title"},_hoisted_6$2w={class:"card-text"},_hoisted_7$2s={class:"list-group list-group-flush"},_hoisted_8$2k={key:0,class:"list-group-item text-center text-danger"},_hoisted_9$2g={class:"list-group-item"},_hoisted_10$28=createBaseVNode("i",{class:"fa-solid fa-shuffle"},null,-1),_hoisted_11$21={key:1,class:"list-group-item"},_hoisted_12$1_=createBaseVNode("i",{class:"fa-solid fa-stopwatch-20"},null,-1),_hoisted_13$1T={key:2,class:"list-group-item"},_hoisted_14$1N={key:3,class:"list-group-item"},_hoisted_15$1J={key:4,class:"list-group-item"},_hoisted_16$1I=createBaseVNode("i",{class:"fa-regular fa-circle-question"},null,-1),_hoisted_17$1A={key:5,class:"list-group-item"},_hoisted_18$1z=createBaseVNode("i",{class:"fa-solid fa-person-circle-question"},null,-1),_hoisted_19$1w={key:6,class:"list-group-item"},_hoisted_20$1u=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_21$1s={key:1,class:"card-body"},_hoisted_22$1q=["disabled"],_hoisted_23$1k={key:1,class:"alert alert-warning"},_hoisted_24$1h={key:2,class:"divider divider-small my-3 bg-highlight"},_hoisted_25$1e={key:2,class:"card-body"},_hoisted_26$18={class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},_hoisted_27$16={class:"card-center"},_hoisted_28$15={class:"color-white font-700 text-center mb-0"},_hoisted_29$11={class:"color-white text-center opacity-60 mt-n1 mb-0"},_hoisted_30$10={key:0,class:"color-white text-center opacity-60 mt-n1 mb-0"},_hoisted_31$$=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),_hoisted_32$_={key:0,class:"divider divider-small my-3 bg-highlight"};function _sfc_render$W(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$32,[s.quiz?(openBlock(),createElementBlock("div",_hoisted_2$2Z,[s.quiz.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_3$2P,null,512)),[[r,"/file-by-file-id/"+s.quiz.image]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$2E,[createBaseVNode("h5",_hoisted_5$2z,toDisplayString(s.quiz.title||"нет заголовка"),1),createBaseVNode("p",_hoisted_6$2w,toDisplayString(s.quiz.description||"нет заголовка"),1)]),createBaseVNode("ul",_hoisted_7$2s,[s.quiz.is_active?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_8$2k,"Квиз недоступен")),createBaseVNode("li",_hoisted_9$2g,[_hoisted_10$28,createTextVNode(" "+toDisplayString(a.types[s.quiz.display_type]),1)]),s.quiz.round_mode?(openBlock(),createElementBlock("li",_hoisted_11$21,[_hoisted_12$1_,createTextVNode(" на вопрос "+toDisplayString(s.quiz.time_limit)+" сек ",1)])):createCommentVNode("",!0),s.quiz.round_mode?(openBlock(),createElementBlock("li",_hoisted_13$1T,"Режим викторины (квиза) ")):createCommentVNode("",!0),s.quiz.polling_mode?(openBlock(),createElementBlock("li",_hoisted_14$1N,"Режим опроса ")):createCommentVNode("",!0),(s.quiz.questions||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_15$1J,[_hoisted_16$1I,createTextVNode(" Число вопросов "+toDisplayString((s.quiz.questions||[]).length),1)])):createCommentVNode("",!0),!s.quiz.polling_mode&&(s.quiz.commands||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_17$1A,[_hoisted_18$1z,createTextVNode(" Число команд "+toDisplayString((s.quiz.commands||[]).length),1)])):createCommentVNode("",!0),s.quiz.polling_mode?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_19$1w,[_hoisted_20$1u,createBaseVNode("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...l)=>n.openLinkModal&&n.openLinkModal(...l))},"Поделиться ссылкой")]))]),n.isCompleted?(openBlock(),createElementBlock("div",_hoisted_25$1e,[createBaseVNode("div",_hoisted_26$18,[createBaseVNode("div",_hoisted_27$16,[createBaseVNode("h3",_hoisted_28$15," Баллов "+toDisplayString(s.quiz.personal_info.result_points||0),1),createBaseVNode("p",_hoisted_29$11," Попытки "+toDisplayString(s.quiz.personal_info.current_attempts||0)+" / "+toDisplayString(s.quiz.personal_info.max_attempts||0),1),s.quiz.personal_info.completed_at!=null?(openBlock(),createElementBlock("p",_hoisted_30$10,toDisplayString(o.$filters.currentFull(s.quiz.personal_info.completed_at)),1)):createCommentVNode("",!0)]),_hoisted_31$$]),s.needReturn?(openBlock(),createElementBlock("div",_hoisted_32$_)):createCommentVNode("",!0),s.needReturn?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",onClick:t[3]||(t[3]=(...l)=>n.returnBack&&n.returnBack(...l)),class:"btn btn-m btn-full mb-3 rounded-l text-uppercase font-900 shadow-s bg-red1-dark"},"Вернуться назад")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_21$1s,[(s.quiz.questions||[]).length>0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:t[1]||(t[1]=l=>n.selectQuiz(s.quiz)),disabled:!s.quiz.is_active,class:"btn btn-m w-100 btn-full mb-3 rounded-xl text-uppercase font-900 shadow-s bg-blue1-dark"},"Начать ",8,_hoisted_22$1q)):(openBlock(),createElementBlock("div",_hoisted_23$1k,"Вы не можете сейчас начать квиз! В нём нет вопросов!")),s.needReturn?(openBlock(),createElementBlock("div",_hoisted_24$1h)):createCommentVNode("",!0),s.needReturn?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:t[2]||(t[2]=(...l)=>n.returnBack&&n.returnBack(...l)),class:"btn btn-m btn-full mb-3 rounded-l text-uppercase font-900 shadow-s bg-red1-dark"},"Вернуться назад")):createCommentVNode("",!0)]))])):createCommentVNode("",!0)])}const QuizItem=_export_sfc(_sfc_main$38,[["render",_sfc_render$W]]),_sfc_main$37={props:["quiz"],data(){return{types:["По порядку","Перемешать всё","Перемешать ответы","Перемешать вопросы"]}},computed:{isCompleted(){return!1}},methods:{selectQuiz(o){this.$store.dispatch("startQuiz",{quiz_id:this.quiz.id}).then(t=>{}).catch(()=>{}),this.$emit("select",o)},openLinkModal(o){this.$cashback.qr("007quiz"+o)}}},_hoisted_1$31={key:0,class:"card card-style bg-1",style:{height:"200px"}},_hoisted_2$2Y={class:"card-center"},_hoisted_3$2O={class:"color-white font-700 text-center mb-0"},_hoisted_4$2D={class:"color-white text-center opacity-60 mt-n1 mb-3"},_hoisted_5$2y=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1);function _sfc_render$V(o,t,s,i,a,n){return s.quiz?(openBlock(),createElementBlock("div",_hoisted_1$31,[createBaseVNode("div",_hoisted_2$2Y,[createBaseVNode("h2",_hoisted_3$2O,toDisplayString(s.quiz.title||"нет заголовка"),1),createBaseVNode("p",_hoisted_4$2D,toDisplayString(s.quiz.description||"нет заголовка"),1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-m rounded-l font-900 text-uppercase bg-highlight btn-center-xl",onClick:t[0]||(t[0]=r=>n.selectQuiz(s.quiz))},"Детальнее о квизе")]),_hoisted_5$2y])):createCommentVNode("",!0)}const QuizItemSimple=_export_sfc(_sfc_main$37,[["render",_sfc_render$V]]),_hoisted_1$30={class:"row mb-0"},_hoisted_2$2X=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"text-center"},"Квизы для вас")],-1),_hoisted_3$2N={key:0,class:"col-12 py-2"},_hoisted_4$2C={key:1,class:"col-12"},__default__$28={data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,quizzes:[],search:null,paginate_object:null}},computed:{...mapGetters(["getQuizzes","getQuizzesPaginateObject"])},mounted(){this.loadQuizzes()},methods:{openQuiz(o){this.$emit("open",o)},removeQuiz(o){this.loading=!0,this.$store.dispatch("removeQuiz",{quizId:o}).then(t=>{this.loading=!1,this.loadQuizzes(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},createQuiz(){this.$emit("create")},nextQuizzes(o){this.loadQuizzes(o)},selectEvent(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizzes(0)},loadQuizzes(o=0){this.loading=!0,this.$store.dispatch("loadQuizzes",{dataObject:{search:this.search,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.quizzes=this.getQuizzes,this.paginate_object=this.getQuizzesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$36=Object.assign(__default__$28,{__name:"QuizList",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$30,[_hoisted_2$2X,t.quizzes.length>0?(openBlock(),createElementBlock("div",_hoisted_3$2N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.quizzes,(i,a)=>(openBlock(),createBlock(QuizItemSimple,{onSelect:t.openQuiz,quiz:i},null,8,["onSelect","quiz"]))),256))])):createCommentVNode("",!0),t.quizzes.length>0?(openBlock(),createElementBlock("div",_hoisted_4$2C,[t.paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextQuizzes,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}}),BotMediaObject_vue_vue_type_style_index_0_lang="",_sfc_main$35={props:["type","content"],data(){return{url:null}},mounted(){this.url="https://media.your-cashman.com/"}},_hoisted_1$2$={class:"d-flex justify-content-center"},_hoisted_2$2W=["src"],_hoisted_3$2M=["src"],_hoisted_4$2B={key:2,class:"w-100",alt:""},_hoisted_5$2x={key:3,class:"w-100",alt:""},_hoisted_6$2v=["src"],_hoisted_7$2r=["src"];function _sfc_render$U(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$2$,[(s.type=="video"||s.type=="video_note")&&s.content.indexOf("http")==-1?(openBlock(),createElementBlock("video",{key:0,class:normalizeClass(["w-100",{"video-circle":s.type=="video_note"}]),controls:"",poster:"/images/load.gif"},[createBaseVNode("source",{src:a.url+s.content,type:"video/mp4"},null,8,_hoisted_2$2W)],2)):createCommentVNode("",!0),s.content.indexOf("http")!=-1?(openBlock(),createElementBlock("iframe",{key:1,class:"w-100",style:{"min-height":"300px"},src:s.content,frameborder:"0",allowfullscreen:""},`

        `,8,_hoisted_3$2M)):createCommentVNode("",!0),s.type=="photo"&&s.content.indexOf("http")==-1?withDirectives((openBlock(),createElementBlock("img",_hoisted_4$2B,null,512)),[[r,a.url+s.content]]):createCommentVNode("",!0),s.type=="photo"&&s.content.indexOf("http")!=-1?withDirectives((openBlock(),createElementBlock("img",_hoisted_5$2x,null,512)),[[r,s.content]]):createCommentVNode("",!0),s.type=="audio"&&s.content.indexOf("http")!=-1?(openBlock(),createElementBlock("audio",{key:4,controls:"",autoplay:"",src:s.content},null,8,_hoisted_6$2v)):createCommentVNode("",!0),s.type=="audio"&&s.content.indexOf("http")==-1?(openBlock(),createElementBlock("audio",{key:5,controls:"",autoplay:"",src:a.url+s.content},null,8,_hoisted_7$2r)):createCommentVNode("",!0)])}const BotMediaObject=_export_sfc(_sfc_main$35,[["render",_sfc_render$U]]),units=[{symbol:"D",value:24*60*60*1e3},{symbol:"H",value:60*60*1e3},{symbol:"m",value:60*1e3},{symbol:"s",value:1e3},{symbol:"S",value:100}];function replaceAll(o,t,s){const i="~"+t;return o.indexOf(i)>-1?o.split(i).map(a=>replaceAll(a,t,s)).join(i):o.replace(new RegExp(t,"g"),String(s))}function resolveCountdown(o,t="HH:mm:ss"){const s={};t.indexOf("~")>-1&&(t=t.replace(/~[DHmsS]/g,""));const i=units.filter(a=>t.indexOf(a.symbol)>-1);for(let a=0,n=i.length;a<n;a++){const{symbol:r,value:l}=i[a],d=n===1?Math.ceil(o/l):Math.floor(o/l);s[r]=d,s[r+r]=d<10?`0${d}`:d,o%=l}return s}function formatCountdown(o,t="HH:mm:ss"){const s=typeof o=="number"?resolveCountdown(o,t):o,i=Object.keys(s).sort((n,r)=>r.length-n.length);let a=t;return i.forEach(n=>{a=replaceAll(a,n,s[n])}),a.indexOf("~")>-1&&(a=a.replace(/~([DHmsS])/g,"$1")),a}var Countdown=defineComponent({name:"Countdown",emits:["change","finish"],props:{time:{type:Number,default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},setup(o,{emit:t}){const s=ref(o.time),i=ref(resolveCountdown(s.value,o.format)),a=ref(!1),n={restTime:o.time,now:0,timer:0},r=computed(()=>/s/i.test(o.format)?30:1e3),l=computed(()=>formatCountdown(i.value,o.format)),d=()=>{a.value||(n.now=Date.now(),n.restTime=s.value,window.clearInterval(n.timer),n.timer=window.setInterval(c,r.value),a.value=!0)},c=()=>{const{restTime:f,now:k}=n,b=Date.now()-k,v=f>b?f-b:0,N=resolveCountdown(v,o.format),T=formatCountdown(N,o.format);T!==l.value&&(t("change",{currentTime:v,resolved:N,formatted:T}),i.value=N),s.value=v,f<=b&&_()},_=()=>{m(),t("finish")},m=()=>{a.value=!1,window.clearInterval(n.timer)},p=()=>{s.value=n.restTime=o.time,i.value=resolveCountdown(o.time,o.format),m()};return o.autoStart&&d(),{currentTime:s,resolved:i,formatted:l,inCountdown:a,start:d,stop:_,reset:p}},render(){const{currentTime:o,resolved:t,formatted:s}=this;return h("div",null,this.$slots.default&&this.$slots.default({currentTime:o,resolved:t,formatted:s})||this.formatted)}});const QuizRoundQuestionList_vue_vue_type_style_index_0_lang="",_hoisted_1$2_={key:0,class:"card card-style"},_hoisted_2$2V=createBaseVNode("div",{class:"content d-flex justify-content-center align-items-center flex-wrap",style:{"min-height":"300px"}},[createBaseVNode("div",null,[createBaseVNode("p",{class:"text-center w-100 font-weight-bold"},"Мы загружаем квиз!"),createBaseVNode("div",{class:"loader"})])],-1),_hoisted_3$2L=[_hoisted_2$2V],_hoisted_4$2A={key:1,class:"card card-style"},_hoisted_5$2w={class:"content"},_hoisted_6$2u={key:0},_hoisted_7$2q={href:"javascript:void(0)",class:"chip chip-small bg-gray1-dark"},_hoisted_8$2j=createBaseVNode("i",{class:"fa fa-check bg-green1-dark"},null,-1),_hoisted_9$2f={class:"color-black font-400"},_hoisted_10$27={class:"mb-0"},_hoisted_11$20={key:1},_hoisted_12$1Z={key:0,class:"mb-0 font-weight-bold text-center"},_hoisted_13$1S={key:1},_hoisted_14$1M=["for"],_hoisted_15$1I=["onUpdate:modelValue","id","value"],_hoisted_16$1H=["onClick"],_hoisted_17$1z={key:2},_hoisted_18$1y=createBaseVNode("p",{class:"mb-0"},[createBaseVNode("small",null,"Открытый вопрос")],-1),_hoisted_19$1v={class:"form-field form-name"},_hoisted_20$1t={class:"contactNameField color-theme d-flex justify-content-between",for:"command-title"},_hoisted_21$1r=["onClick"],_hoisted_22$1p=["onUpdate:modelValue"],_hoisted_23$1j=["onClick"],_hoisted_24$1g=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_25$1d={key:2},_hoisted_26$17={class:"d-flex justify-content-center font-24"},_hoisted_27$15={class:"countdown-item"},_hoisted_28$14={class:"countdown-item"},_hoisted_29$10=createBaseVNode("small",{class:"text-center w-100 d-block"},"У вас осталось времени",-1),_hoisted_30$$=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_31$_=["onClick"],_hoisted_32$Z={key:1},_hoisted_33$Z=createBaseVNode("h6",{class:"text-center my-2"}," А вот и результат ",-1),_hoisted_34$Y={key:0},_hoisted_35$Y={key:1,class:"text-center my-3"},_hoisted_36$W=["innerHTML"],_hoisted_37$U={key:2,class:"card card-style"},_hoisted_38$P={class:"content"},_hoisted_39$P=createBaseVNode("p",null,"Поздравляю! Вы прошли данный квиз! Ваш результат:",-1),_hoisted_40$M={key:0,class:"list-group list-group-numbered"},_hoisted_41$M={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_42$M={class:"ms-2 me-auto"},_hoisted_43$M={class:"fw-bold"},_hoisted_44$L={class:"my-2"},_hoisted_45$K=["innerHTML"],_hoisted_46$K=["innerHTML"],__default__$27={props:["quiz"],components:{Countdown},data(){return{points:[],direction:"asc",order:"round",show:!0,step:0,is_finish:!1,is_group:!1,loading:!0,questions:[],answers:[],search:null,paginate_object:null,prepare:!1}},computed:{...mapGetters(["getQuizQuestions","getQuizQuestionsPaginateObject"]),successPercentCount(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{t.is_right&&o++}),o/this.points.length},summaryPoints(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{o+=t.points||0}),o}},mounted(){this.loadQuizQuestions()},methods:{isQuestionComplete(o){if(o>=this.answers.length||this.answers[o]===null)return!1;if(Array.isArray(this.answers)){let t=!1;return this.answers.forEach(s=>{s!=null&&(t=!0)}),t}return this.answers[o]!=null},completeAndExit(){this.$store.dispatch("completeQuiz",{quiz_id:this.quiz.id}).then(o=>{}).catch(()=>{}),this.$emit("complete")},finish(){this.step++,this.step>=this.questions.length&&(this.is_finish=!0)},next(){this.prepare=!1,this.step++},removeOpenAnswer(o,t){this.answers[o].splice(t,1)},addMoreOpenAnswer(o){this.answers[o].push(null)},checkAnswer(o,t){this.loading=!0,this.prepare=!0,this.$store.dispatch("checkQuizQuestionAnswer",{quiz_question_id:o,quiz_id:this.quiz.id,answers:JSON.stringify(this.answers[t])}).then(s=>{this.loading=!1,this.points.push(s)}).catch(()=>{this.loading=!1})},toggleAnswer(o,t){let s=this.answers[o].indexOf(t);s==-1?this.answers[o].push(t):this.answers[o].splice(s,1)},nextQuizQuestion(o){this.loadQuizQuestions(o)},selectQuizQuestion(o){this.$emit("select",o),this.$notify("Вопрос успешно выбран")},removeQuizQuestion(o){this.loading=!0,this.$store.dispatch("removeQuizQuestion",{quizQuestionId:o}).then(t=>{this.loading=!1,this.loadQuizQuestions(0),this.$notify("Вопрос успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Вопрос удаления сервиса")})},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizQuestions(0)},loadQuizQuestions(o=0){this.loading=!0,this.$store.dispatch("loadQuizQuestions",{dataObject:{quiz_id:this.quiz.id,search:this.search,order:this.order,direction:this.direction},page:o,size:-1}).then(t=>{this.loading=!1,this.questions=this.getQuizQuestions,this.answers=[],this.questions.forEach(s=>{let i=null;s.is_multiply?(i=[],s.answers.forEach(a=>{i.push(null)})):i=null,s.is_open&&(i=[null]),this.answers.push(i)}),this.paginate_object=this.getQuizQuestionsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$34=Object.assign(__default__$27,{__name:"QuizRoundQuestionList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.questions.length===0?(openBlock(),createElementBlock("div",_hoisted_1$2_,_hoisted_3$2L)):createCommentVNode("",!0),t.questions.length>0&&t.step<t.questions.length?(openBlock(),createElementBlock("div",_hoisted_4$2A,[createBaseVNode("div",_hoisted_5$2w,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.questions,(i,a)=>(openBlock(),createElementBlock("div",null,[!t.prepare&&t.step==a?(openBlock(),createElementBlock("div",_hoisted_6$2u,[createBaseVNode("a",_hoisted_7$2q,[_hoisted_8$2j,createBaseVNode("strong",_hoisted_9$2f,"Раунд "+toDisplayString(i.round||1),1)]),createBaseVNode("p",_hoisted_10$27,toDisplayString(i.text||"не указан"),1),i.media_content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:i.content_type,content:i.media_content},null,8,["type","content"])):createCommentVNode("",!0),i.answers?(openBlock(),createElementBlock("div",_hoisted_11$20,[i.is_multiply?(openBlock(),createElementBlock("p",_hoisted_12$1Z,"Вы можете выбрать несколько ответов")):createCommentVNode("",!0),i.is_open?(openBlock(),createElementBlock("div",_hoisted_17$1z,[_hoisted_18$1y,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.answers[a],(n,r)=>(openBlock(),createElementBlock("div",_hoisted_19$1v,[createBaseVNode("label",_hoisted_20$1t,[createTextVNode(" Ответ #"+toDisplayString(r+1)+" ",1),t.answers[a].length>1?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:l=>t.removeOpenAnswer(a,r)},"удалить",8,_hoisted_21$1r)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("input",{type:"text",name:"contactNameField",maxlength:"255","onUpdate:modelValue":l=>t.answers[a][r]=l,placeholder:"Например 'Новые люди'",class:"contactField round-small requiredField",id:"command-title",required:""},null,8,_hoisted_22$1p),[[vModelText,t.answers[a][r]]])]))),256)),createBaseVNode("a",{href:"javascript:void(0)",class:"text-center w-100 d-block",onClick:n=>t.addMoreOpenAnswer(a)},"Добавить еще ответ",8,_hoisted_23$1j)])):(openBlock(),createElementBlock("div",_hoisted_13$1S,[i.is_multiply?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.answers,(n,r)=>(openBlock(),createElementBlock("label",{class:normalizeClass([{"bg-green2-dark border-green2-dark color-white":t.answers.indexOf(n.id)!=-1},"btn btn-border btn-m btn-full rounded-l mb-1 text-uppercase font-900 border-green2-dark d-flex justify-content-center align-items-center"]),for:"question-"+a+"-answer-"+r},[createTextVNode(toDisplayString(n.text)+" ",1),withDirectives(createBaseVNode("input",{type:"radio",name:"quiz",class:"d-none","onUpdate:modelValue":l=>t.answers[a]=l,id:"question-"+a+"-answer-"+r,value:n.id},null,8,_hoisted_15$1I),[[vModelRadio,t.answers[a]]])],10,_hoisted_14$1M))),256)),i.is_multiply?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(i.answers,(n,r)=>(openBlock(),createElementBlock("button",{class:normalizeClass([{"bg-red1-dark color-white":t.answers[a].indexOf(n.id)!=-1},"btn btn-border btn-m btn-full mb-1 rounded-l text-uppercase font-900 border-red2-dark w-100 d-flex justify-content-center align-items-center"]),onClick:l=>t.toggleAnswer(a,n.id),type:"button"},toDisplayString(n.text),11,_hoisted_16$1H))),256)):createCommentVNode("",!0)]))])):createCommentVNode("",!0),_hoisted_24$1g,o.quiz.polling_mode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$1d,[createBaseVNode("div",_hoisted_26$17,[createVNode(unref(Countdown),{time:(o.quiz.time_limit||30)*1e3,onFinish:t.finish,format:"mm:ss"},{default:withCtx(({resolved:n})=>[createBaseVNode("span",_hoisted_27$15,toDisplayString(n.mm),1),createTextVNode(" : "),createBaseVNode("span",_hoisted_28$14,toDisplayString(n.ss),1)]),_:1},8,["time","onFinish"])]),_hoisted_29$10])),_hoisted_30$$,t.isQuestionComplete(a)?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:n=>t.checkAnswer(i.id,a),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-blue2-dark"}," Проверить ",8,_hoisted_31$_)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.prepare&&t.step==a?(openBlock(),createElementBlock("div",_hoisted_32$Z,[_hoisted_33$Z,t.points[a]?(openBlock(),createElementBlock("div",_hoisted_34$Y,[t.points[a].question.content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:t.points[a].question.type,content:t.points[a].question.content},null,8,["type","content"])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.points[a]||{}).question?(openBlock(),createElementBlock("p",_hoisted_35$Y,[createBaseVNode("strong",{innerHTML:t.points[a].question.message||"Отлично! Идем дальше"},null,8,_hoisted_36$W)])):createCommentVNode("",!0),t.step<t.questions.length-1?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",onClick:s[0]||(s[0]=(...n)=>t.next&&t.next(...n)),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-green2-dark"}," Следующий вопрос ")):(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:s[1]||(s[1]=(...n)=>t.finish&&t.finish(...n)),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-green2-dark"}," Перейти к баллам "))])):createCommentVNode("",!0)]))),256))])])):createCommentVNode("",!0),t.is_finish?(openBlock(),createElementBlock("div",_hoisted_37$U,[createBaseVNode("div",_hoisted_38$P,[_hoisted_39$P,t.points.length>0?(openBlock(),createElementBlock("ol",_hoisted_40$M,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.points,(i,a)=>(openBlock(),createElementBlock("li",_hoisted_41$M,[createBaseVNode("div",_hoisted_42$M,[createBaseVNode("div",_hoisted_43$M,toDisplayString(i.question.text||"Текст не указан"),1),createTextVNode(" "+toDisplayString(i.question.message||"-"),1)]),createBaseVNode("span",{class:normalizeClass(["badge rounded-pill text-white p-2",{"bg-success":i.is_right,"bg-danger":!i.is_right}])},toDisplayString(i.points||0)+" баллов",3)]))),256))])):createCommentVNode("",!0),createBaseVNode("h6",_hoisted_44$L,"Вы набрали "+toDisplayString(t.summaryPoints)+" баллов",1),t.successPercentCount>=o.quiz.success_percent?(openBlock(),createElementBlock("p",{key:1,innerHTML:o.quiz.success_message},null,8,_hoisted_45$K)):(openBlock(),createElementBlock("p",{key:2,innerHTML:o.quiz.failure_message},null,8,_hoisted_46$K)),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=(...i)=>t.completeAndExit&&t.completeAndExit(...i)),class:"btn btn-m btn-full mt-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"},"Завершить и выйти")])])):createCommentVNode("",!0)],64))}});({...mapGetters(["getQuizCommands","getQuizCommandsPaginateObject"])});const _hoisted_1$2Z={key:0,class:"card card-style"},_hoisted_2$2U={class:"content"},__default__$26={name:"App",data(){return{step:0,selectedQuiz:null}},computed:{},mounted(){},methods:{openQuiz(o){this.loadQuiz(o.id)},startQuiz(o){this.selectedQuiz=o,this.step=2},completeQuiz(){this.loadQuiz(selectedQuiz.id),this.step=0},loadQuiz(o){this.$store.dispatch("loadSingleQuiz",{quiz_id:o}).then(t=>{this.selectedQuiz=t.data,this.step=1}).catch(()=>{this.step=0})}}},_sfc_main$33=Object.assign(__default__$26,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$2Z,[createBaseVNode("div",_hoisted_2$2U,[createVNode(_sfc_main$36,{onOpen:t.openQuiz},null,8,["onOpen"])])])):createCommentVNode("",!0),t.selectedQuiz&&t.step===1?(openBlock(),createBlock(QuizItem,{key:1,"need-return":!0,class:"p-1",quiz:t.selectedQuiz,onReturn:s[0]||(s[0]=i=>t.step=0),onSelect:s[1]||(s[1]=i=>t.step++)},null,8,["quiz"])):createCommentVNode("",!0),t.selectedQuiz&&t.step===2?(openBlock(),createBlock(_sfc_main$34,{key:2,time:t.selectedQuiz.time_limit,onComplete:t.completeQuiz,"quiz-id":t.selectedQuiz.id},null,8,["time","onComplete","quiz-id"])):createCommentVNode("",!0)],64))}}),Quizzes=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$33},Symbol.toStringTag,{value:"Module"})),QuizFullQuestionList_vue_vue_type_style_index_0_lang="",_hoisted_1$2Y={key:0,class:"card card-style"},_hoisted_2$2T=createBaseVNode("div",{class:"content d-flex justify-content-center align-items-center flex-wrap",style:{"min-height":"300px"}},[createBaseVNode("div",null,[createBaseVNode("p",{class:"text-center w-100 font-weight-bold"},"Мы загружаем квиз!"),createBaseVNode("div",{class:"loader"})])],-1),_hoisted_3$2K=[_hoisted_2$2T],_hoisted_4$2z={key:1,class:"card card-style"},_hoisted_5$2v={class:"content"},_hoisted_6$2t={class:"mb-5"},_hoisted_7$2p={href:"javascript:void(0)",class:"chip chip-small bg-gray1-dark"},_hoisted_8$2i=createBaseVNode("i",{class:"fa fa-check bg-green1-dark"},null,-1),_hoisted_9$2e={class:"color-black font-400"},_hoisted_10$26={class:"mb-0"},_hoisted_11$1$={key:1},_hoisted_12$1Y={key:0,class:"mb-0 font-weight-bold text-center"},_hoisted_13$1R={key:1},_hoisted_14$1L=["for"],_hoisted_15$1H=["onUpdate:modelValue","id","value"],_hoisted_16$1G=["onClick"],_hoisted_17$1y={key:2},_hoisted_18$1x=createBaseVNode("p",{class:"mb-0"},[createBaseVNode("small",null,"Открытый вопрос")],-1),_hoisted_19$1u={class:"form-field form-name"},_hoisted_20$1s={class:"contactNameField color-theme d-flex justify-content-between",for:"command-title"},_hoisted_21$1q=["onClick"],_hoisted_22$1o=["onUpdate:modelValue"],_hoisted_23$1i=["onClick"],_hoisted_24$1f={key:2},_hoisted_25$1c=createBaseVNode("h6",{class:"text-center my-2"}," А вот и результат ",-1),_hoisted_26$16={key:0},_hoisted_27$14={key:1,class:"text-center my-3"},_hoisted_28$13=["innerHTML"],_hoisted_29$$={key:2,class:"card card-style"},_hoisted_30$_={class:"content"},_hoisted_31$Z=createBaseVNode("p",null,"Поздравляю! Вы прошли данный квиз! Ваш результат:",-1),_hoisted_32$Y={key:0,class:"list-group list-group-numbered"},_hoisted_33$Y={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_34$X={class:"ms-2 me-auto"},_hoisted_35$X={class:"fw-bold"},_hoisted_36$V={class:"my-2"},_hoisted_37$T=["innerHTML"],_hoisted_38$O=["innerHTML"],__default__$25={props:["quiz"],components:{Countdown},data(){return{points:[],direction:"asc",order:"round",show:!0,step:0,is_finish:!1,is_group:!1,loading:!0,questions:[],answers:[],search:null,paginate_object:null,prepare:!1}},computed:{...mapGetters(["getQuizQuestions","getQuizQuestionsPaginateObject"]),successPercentCount(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{t.is_right&&o++}),o/this.points.length},summaryPoints(){if(this.points.length===0)return 0;let o=0;return this.points.forEach(t=>{o+=t.points||0}),o}},mounted(){this.loadQuizQuestions()},methods:{completeAndExit(){this.$store.dispatch("completeQuiz",{quiz_id:this.quiz.id}).then(o=>{}).catch(()=>{}),this.$emit("complete")},finish(){this.is_finish=!0,this.$store.dispatch("checkAndCompleteFullQuiz",{quiz_id:this.quiz.id,answers:JSON.stringify(this.answers)}).then(o=>{this.points=o}).catch(o=>{})},removeOpenAnswer(o,t){this.answers[o].splice(t,1)},addMoreOpenAnswer(o){this.answers[o].push(null)},toggleAnswer(o,t){let s=this.answers[o].value.indexOf(t);s==-1?this.answers[o].value.push(t):this.answers[o].value.splice(s,1)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizQuestions(0)},loadQuizQuestions(o=0){this.loading=!0,this.$store.dispatch("loadQuizQuestions",{dataObject:{quiz_id:this.quiz.id,search:this.search,order:this.order,direction:this.direction},page:o,size:-1}).then(t=>{this.loading=!1,this.questions=this.getQuizQuestions,this.answers=[],this.questions.forEach(s=>{let i=null;s.is_multiply?i={id:s.id,value:[]}:i={id:s.id,value:null},s.is_open&&(i=[{id:s.id,value:null}]),this.answers.push(i)}),this.paginate_object=this.getQuizQuestionsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$32=Object.assign(__default__$25,{__name:"QuizFullQuestionList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.questions.length===0?(openBlock(),createElementBlock("div",_hoisted_1$2Y,_hoisted_3$2K)):createCommentVNode("",!0),t.questions.length>0&&t.step<t.questions.length?(openBlock(),createElementBlock("div",_hoisted_4$2z,[createBaseVNode("div",_hoisted_5$2v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.questions,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_6$2t,[createBaseVNode("a",_hoisted_7$2p,[_hoisted_8$2i,createBaseVNode("strong",_hoisted_9$2e,"Раунд "+toDisplayString(i.round||1),1)]),createBaseVNode("p",_hoisted_10$26,toDisplayString(i.text||"не указан"),1),i.media_content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:i.content_type,content:i.media_content},null,8,["type","content"])):createCommentVNode("",!0),i.answers?(openBlock(),createElementBlock("div",_hoisted_11$1$,[i.is_multiply?(openBlock(),createElementBlock("p",_hoisted_12$1Y,"Вы можете выбрать несколько ответов")):createCommentVNode("",!0),i.is_open?(openBlock(),createElementBlock("div",_hoisted_17$1y,[_hoisted_18$1x,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.answers[a],(n,r)=>(openBlock(),createElementBlock("div",_hoisted_19$1u,[createBaseVNode("label",_hoisted_20$1s,[createTextVNode(" Ответ #"+toDisplayString(r+1)+" ",1),t.answers[a].length>1?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:l=>t.removeOpenAnswer(a,r)},"удалить",8,_hoisted_21$1q)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("input",{type:"text",name:"contactNameField",maxlength:"255","onUpdate:modelValue":l=>t.answers[a][r]=l,placeholder:"Например 'Новые люди'",class:"contactField round-small requiredField",id:"command-title",required:""},null,8,_hoisted_22$1o),[[vModelText,t.answers[a][r]]])]))),256)),createBaseVNode("a",{href:"javascript:void(0)",class:"text-center w-100 d-block",onClick:n=>t.addMoreOpenAnswer(a)},"Добавить еще ответ",8,_hoisted_23$1i)])):(openBlock(),createElementBlock("div",_hoisted_13$1R,[i.is_multiply?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.answers,(n,r)=>(openBlock(),createElementBlock("label",{class:normalizeClass([{"bg-green2-dark border-green2-dark color-white":t.answers[a].value==n.id},"btn btn-border btn-m btn-full rounded-l mb-1 text-uppercase font-900 border-green2-dark d-flex justify-content-center align-items-center"]),for:"question-"+a+"-answer-"+r},[createTextVNode(toDisplayString(n.text)+" ",1),withDirectives(createBaseVNode("input",{type:"radio",name:"quiz",class:"d-none","onUpdate:modelValue":l=>t.answers[a].value=l,id:"question-"+a+"-answer-"+r,value:n.id},null,8,_hoisted_15$1H),[[vModelRadio,t.answers[a].value]])],10,_hoisted_14$1L))),256)),i.is_multiply?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(i.answers,(n,r)=>(openBlock(),createElementBlock("button",{class:normalizeClass([{"bg-red1-dark color-white":t.answers[a].value.indexOf(n.id)!=-1},"btn btn-border btn-m btn-full mb-1 rounded-l text-uppercase font-900 border-red2-dark w-100 d-flex justify-content-center align-items-center"]),onClick:l=>t.toggleAnswer(a,n.id),type:"button"},toDisplayString(n.text),11,_hoisted_16$1G))),256)):createCommentVNode("",!0)]))])):createCommentVNode("",!0),t.points[a]?(openBlock(),createElementBlock("div",_hoisted_24$1f,[_hoisted_25$1c,t.points[a]?(openBlock(),createElementBlock("div",_hoisted_26$16,[t.points[a].question.content?(openBlock(),createBlock(BotMediaObject,{key:0,class:"mb-2",type:t.points[a].question.type,content:t.points[a].question.content},null,8,["type","content"])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.points[a]||{}).question?(openBlock(),createElementBlock("p",_hoisted_27$14,[createBaseVNode("strong",{innerHTML:t.points[a].question.message||"Отлично! Идем дальше"},null,8,_hoisted_28$13)])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),t.is_finish?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:s[0]||(s[0]=(...i)=>t.finish&&t.finish(...i)),class:"btn btn-m btn-full mb-2 rounded-m text-uppercase font-900 shadow-s bg-green2-dark"}," Завершить опрос и посмотреть результат "))])])):createCommentVNode("",!0),t.is_finish?(openBlock(),createElementBlock("div",_hoisted_29$$,[createBaseVNode("div",_hoisted_30$_,[_hoisted_31$Z,t.points.length>0?(openBlock(),createElementBlock("ol",_hoisted_32$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.points,(i,a)=>(openBlock(),createElementBlock("li",_hoisted_33$Y,[createBaseVNode("div",_hoisted_34$X,[createBaseVNode("div",_hoisted_35$X,toDisplayString(i.question.text||"Текст не указан"),1),createTextVNode(" "+toDisplayString(i.question.message||"-"),1)]),createBaseVNode("span",{class:normalizeClass(["badge rounded-pill text-white p-2",{"bg-success":i.is_right,"bg-danger":!i.is_right}])},toDisplayString(i.points||0)+" баллов",3)]))),256))])):createCommentVNode("",!0),createBaseVNode("h6",_hoisted_36$V,"Вы набрали "+toDisplayString(t.summaryPoints)+" баллов",1),t.successPercentCount>=o.quiz.success_percent?(openBlock(),createElementBlock("p",{key:1,innerHTML:o.quiz.success_message},null,8,_hoisted_37$T)):(openBlock(),createElementBlock("p",{key:2,innerHTML:o.quiz.failure_message},null,8,_hoisted_38$O)),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=(...i)=>t.completeAndExit&&t.completeAndExit(...i)),class:"btn btn-m btn-full mt-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"},"Завершить и выйти")])])):createCommentVNode("",!0)],64))}}),_hoisted_1$2X={key:0},_hoisted_2$2S={key:1},__default__$24={name:"App",data(){return{step:0,loading:!1,quiz:null}},mounted(){this.loadQuiz()},methods:{completeQuiz(){this.loadQuiz(),this.step=0},loadQuiz(){this.loading=!0,this.$store.dispatch("loadSingleQuiz",{quiz_id:this.$route.params.quizId}).then(o=>{this.loading=!1,this.quiz=o.data}).catch(()=>{this.loading=!1})}}},_sfc_main$31=Object.assign(__default__$24,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.quiz&&t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$2X,[createVNode(QuizItem,{class:"p-1",quiz:t.quiz,onSelect:s[0]||(s[0]=i=>t.step++)},null,8,["quiz"])])):createCommentVNode("",!0),t.quiz&&t.step===1?(openBlock(),createElementBlock("div",_hoisted_2$2S,[t.quiz.round_mode?(openBlock(),createBlock(_sfc_main$34,{key:0,onComplete:t.completeQuiz,quiz:t.quiz},null,8,["onComplete","quiz"])):createCommentVNode("",!0),t.quiz.round_mode?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$32,{key:1,onComplete:t.completeQuiz,quiz:t.quiz},null,8,["onComplete","quiz"]))])):createCommentVNode("",!0)],64))}}),SingleQuiz=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$31},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2W={class:"card card-style"},_hoisted_2$2R={class:"content"},_hoisted_3$2J={class:"input-style input-style-2 input-required"},_hoisted_4$2y={class:"content"},_hoisted_5$2u={style:{"line-height":"100%"}},_hoisted_6$2s=createBaseVNode("strong",{class:"font-10"}," Тип сортировки:",-1),_hoisted_7$2o={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_8$2h={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_9$2d={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_10$25={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_11$1_={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_12$1X={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_13$1Q={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_14$1K={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_15$1G={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_16$1F={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_17$1x={"data-card-height":"140",class:"card card-style rounded-m shadow-xl bg-18",style:{height:"140px"}},_hoisted_18$1w={class:"card-top mt-4 ml-3"},_hoisted_19$1t={class:"color-white"},_hoisted_20$1r={class:"color-white mb-0 font-600 font-10"},_hoisted_21$1p={class:"color-white font-10 opacity-70 mt-2 mb-n1"},_hoisted_22$1n=createBaseVNode("i",{class:"fa-solid fa-money-bill-wave pr-1"},null,-1),_hoisted_23$1h={class:"color-white font-10 opacity-70"},_hoisted_24$1e=createBaseVNode("i",{class:"fa fa-map-marker-alt"},null,-1),_hoisted_25$1b={class:"card-center mr-3"},_hoisted_26$15=["onClick"],_hoisted_27$13=createBaseVNode("div",{class:"card-overlay bg-black opacity-80"},null,-1),_hoisted_28$12={key:1,class:"card card-style bg-red2-dark rounded-m shadow-xl"},_hoisted_29$_=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Список событий"),createBaseVNode("p",{class:"color-white"}," На текущий момент нет событий в вашем списке. Попробуйте изменить параметры поиска. ")],-1),_hoisted_30$Z=[_hoisted_29$_],__default__$23={data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,events:[],search:null,paginate_object:null}},computed:{...mapGetters(["getAppointmentEvents","getAppointmentEventsPaginateObject"])},mounted(){this.loadAppointmentEvents()},methods:{nextAppointmentEvents(o){this.loadAppointmentEvents(o)},selectEvent(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentEvents(0)},loadAppointmentEvents(o=0){this.loading=!0,this.$store.dispatch("loadAppointmentEvents",{dataObject:{search:this.search,is_group:this.is_group,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.events=this.getAppointmentEvents,this.paginate_object=this.getAppointmentEventsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$30=Object.assign(__default__$23,{__name:"AppointmentEventTable",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2W,[createBaseVNode("div",_hoisted_2$2R,[createBaseVNode("div",_hoisted_3$2J,[withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),type:"search",placeholder:"Поиск события"},null,512),[[vModelText,t.search]])]),createBaseVNode("button",{class:"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme w-100",onClick:s[1]||(s[1]=i=>t.loadAppointmentEvents(0)),type:"button",id:"appointment-search-event"},"Найти ")]),createBaseVNode("div",_hoisted_4$2y,[createBaseVNode("p",_hoisted_5$2u,[_hoisted_6$2s,createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[2]||(s[2]=i=>t.loadAndOrder("id")),href:"javascript:void(0)"},[createTextVNode("По порядку следования "),t.order==="id"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_7$2o)):createCommentVNode("",!0),t.order==="id"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_8$2h)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[3]||(s[3]=i=>t.loadAndOrder("title")),href:"javascript:void(0)"},[createTextVNode("По заголовку "),t.order==="title"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_9$2d)):createCommentVNode("",!0),t.order==="title"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_10$25)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[4]||(s[4]=i=>t.loadAndOrder("subtitle")),href:"javascript:void(0)"},[createTextVNode("По подзаголовку "),t.order==="subtitle"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_11$1_)):createCommentVNode("",!0),t.order==="subtitle"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_12$1X)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[5]||(s[5]=i=>t.loadAndOrder("description")),href:"javascript:void(0)"},[createTextVNode("По описанию "),t.order==="description"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_13$1Q)):createCommentVNode("",!0),t.order==="description"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_14$1K)):createCommentVNode("",!0),createTextVNode(", ")]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[6]||(s[6]=i=>t.loadAndOrder("updated_at")),href:"javascript:void(0)"},[createTextVNode("По дате добавления "),t.order==="updated_at"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_15$1G)):createCommentVNode("",!0),t.order==="updated_at"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_16$1F)):createCommentVNode("",!0)])])])]),t.events.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.events,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_17$1x,[createBaseVNode("div",_hoisted_18$1w,[createBaseVNode("h2",_hoisted_19$1t,toDisplayString(i.title||"Не указано"),1),createBaseVNode("h6",_hoisted_20$1r,toDisplayString(i.subtitle||"Не указано"),1),createBaseVNode("p",_hoisted_21$1p,[_hoisted_22$1n,createTextVNode(" от "+toDisplayString(i.min_price||0)+" ₽",1)]),createBaseVNode("p",_hoisted_23$1h,[_hoisted_24$1e,createTextVNode(" "+toDisplayString(i.address||"Адрес не указан"),1)])]),createBaseVNode("div",_hoisted_25$1b,[createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.selectEvent(i),class:"float-right bg-highlight btn btn-xs text-uppercase font-900 rounded-xl font-11"},"Записаться",8,_hoisted_26$15)]),_hoisted_27$13]))),256)):(openBlock(),createElementBlock("div",_hoisted_28$12,_hoisted_30$Z)),t.paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextAppointmentEvents,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$2V={class:"card card-style"},_hoisted_2$2Q={class:"content"},_hoisted_3$2I={class:"mb-3"},_hoisted_4$2x={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_5$2t=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_6$2r=createBaseVNode("div",null," ФИО человека, который посетит запись ",-1),_hoisted_7$2n=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_8$2g=createBaseVNode("div",null,"Нужно ",-1),_hoisted_9$2c={class:"mb-3"},_hoisted_10$24={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_11$1Z=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_12$1W=createBaseVNode("div",null," Номер телефона человека, который посетит запись ",-1),_hoisted_13$1P=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_14$1J=createBaseVNode("div",null,"Нужно ",-1),_hoisted_15$1F={class:"mb-3"},_hoisted_16$1E={class:"form-label mt-2",id:"bot-domain"},_hoisted_17$1w=createBaseVNode("p",{class:"mb-0 line-height-xs"}," Дополнительная информация о вас",-1),_hoisted_18$1v={class:"mb-0 line-height-xs"},_hoisted_19$1s={key:0,class:"text-gray-400",style:{"font-size":"10px"}},_hoisted_20$1q={type:"submit",class:"btn btn-m btn-full w-100 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark"},_hoisted_21$1o={key:0},_hoisted_22$1m={key:1},__default__$22={props:["eventId","appointment","selectedScheduleTime"],data(){return{step:0,load:!1,days:["понедельник","вторник","среду","четверг","пятницу","субботу","воскресенье"],appointmentForm:{id:null,appointment_event_id:null,appointment_schedule_id:null,status:0,name:null,phone:null,info:null}}},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.appointment&&this.$nextTick(()=>{this.appointmentForm={id:this.appointment.id||null,appointment_event_id:this.appointment.appointment_event_id||null,appointment_schedule_id:this.appointment.appointment_schedule_id||null,bot_user_id:this.appointment.bot_user_id||null,status:this.appointment.status||0,name:this.appointment.name||null,phone:this.appointment.phone||null,info:this.appointment.info||null}})},methods:{backToSelectSchedule(){this.$emit("back")},selectScheduleTime(o){if(o.appointment){this.$notify("Данное время уже занято!");return}this.selected_schedule_time=o,this.need_schedule_time=!1},selectBotUser(o){this.selected_bot_user=o,this.need_load_users=!1},clearAppointmentForm(){this.appointmentForm={id:null,appointment_event_id:null,appointment_schedule_id:null,status:0},this.selected_schedule_time=null,this.selected_bot_user=null},submitForm(){this.appointmentForm.appointment_schedule_id=this.selectedScheduleTime.id,this.appointmentForm.appointment_event_id=this.eventId;let o=new FormData;Object.keys(this.appointmentForm).forEach(t=>{const s=this.appointmentForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("storeAppointment",{dataObject:{appointmentForm:o}}).then(t=>{this.clearAppointmentForm(),this.$emit("callback"),this.$botNotification.success("Отлично!","Вы успешно записались!"),setTimeout(()=>{this.tg.close()},2e3)}).catch(t=>{this.$botNotification.warning("Упс..!","Кажется что-то пошло не так!")})}}},_sfc_main$2$=Object.assign(__default__$22,{__name:"AppointmentForm",setup(o){return(t,s)=>{const i=resolveComponent("Popper"),a=resolveDirective("mask");return openBlock(),createElementBlock("div",_hoisted_1$2V,[createBaseVNode("div",_hoisted_2$2Q,[createBaseVNode("button",{onClick:s[0]||(s[0]=(...n)=>t.backToSelectSchedule&&t.backToSelectSchedule(...n)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},"Назад "),createBaseVNode("form",{onSubmit:s[4]||(s[4]=withModifiers((...n)=>t.submitForm&&t.submitForm(...n),["prevent"]))},[createBaseVNode("div",_hoisted_3$2I,[createBaseVNode("label",_hoisted_4$2x,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_6$2r]),default:withCtx(()=>[_hoisted_5$2t]),_:1}),createTextVNode(" Ф.И.О. посетителя ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_8$2g]),default:withCtx(()=>[_hoisted_7$2n]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Иванов Иван Иванович","aria-label":"ФИО","onUpdate:modelValue":s[1]||(s[1]=n=>t.appointmentForm.name=n),maxlength:"255","aria-describedby":"appointment-name",required:""},null,512),[[vModelText,t.appointmentForm.name]])]),createBaseVNode("div",_hoisted_9$2c,[createBaseVNode("label",_hoisted_10$24,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_12$1W]),default:withCtx(()=>[_hoisted_11$1Z]),_:1}),createTextVNode(" Телефонный номер посетителя ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_14$1J]),default:withCtx(()=>[_hoisted_13$1P]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"+7(000)000-00-00","aria-label":"номер телефона","onUpdate:modelValue":s[2]||(s[2]=n=>t.appointmentForm.phone=n),maxlength:"255","aria-describedby":"appointment-phone",required:""},null,512),[[a,"+7(###)###-##-##"],[vModelText,t.appointmentForm.phone]])]),createBaseVNode("div",_hoisted_15$1F,[createBaseVNode("label",_hoisted_16$1E,[_hoisted_17$1w,createBaseVNode("p",_hoisted_18$1v,[t.appointmentForm.info?(openBlock(),createElementBlock("small",_hoisted_19$1s," Длина текста "+toDisplayString(t.appointmentForm.info.length)+" / 255",1)):createCommentVNode("",!0)])]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Информация от клиента","aria-label":"Информация от клиента",maxlength:"255","onUpdate:modelValue":s[3]||(s[3]=n=>t.appointmentForm.info=n),"aria-describedby":"appointment-info"},`
                    `,512),[[vModelText,t.appointmentForm.info]])]),createBaseVNode("button",_hoisted_20$1q,[t.appointmentForm.id==null?(openBlock(),createElementBlock("span",_hoisted_21$1o,"Записаться")):(openBlock(),createElementBlock("span",_hoisted_22$1m,"Обновить запись"))])],32)])])}}}),_hoisted_1$2U={class:"card card-style"},_hoisted_2$2P={class:"content"},_hoisted_3$2H={key:0,class:"font-700 font-12 text-center my-2"},_hoisted_4$2w={class:"color-red1-dark"},_hoisted_5$2s={key:1,class:"font-700 font-12 text-center my-2"},_hoisted_6$2q={style:{"line-height":"100%"}},_hoisted_7$2m=createBaseVNode("strong",{class:"font-10"}," Тип сортировки:",-1),_hoisted_8$2f={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_9$2b={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_10$23={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_11$1Y={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_12$1V={key:0,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_13$1O={key:1,class:"fa-solid fa-arrow-up-wide-short"},_hoisted_14$1I={class:"card card-style border"},_hoisted_15$1E={class:"content"},_hoisted_16$1D={class:"table text-center rounded-sm shadow-l",style:{overflow:"hidden"}},_hoisted_17$1v=createBaseVNode("th",{scope:"row"},"День",-1),_hoisted_18$1u=createBaseVNode("th",{scope:"row"},"Время",-1),_hoisted_19$1r=createBaseVNode("th",{scope:"row"},"Дата",-1),_hoisted_20$1p=["disabled","onClick"],_hoisted_21$1n={key:0},_hoisted_22$1l={key:1},_hoisted_23$1g={key:1,class:"card card-style bg-red2-dark rounded-m shadow-xl"},_hoisted_24$1d=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Расписание"),createBaseVNode("p",{class:"color-white"}," В данный временной период нет ни одного доступного времени для записи. Попробуйте выбрать другой временной период. Для выбора временного периода нажми на любой день интересующей вас недели. ")],-1),_hoisted_25$1a=[_hoisted_24$1d],__default__$21={props:["eventId"],components:{VueDatePicker:Ka$1},data(){return{date:null,loading:!0,schedule:[],order:null,direction:null,months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","октябрь","Ноябрь","Декабрь"],days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],paginate_object:null}},watch:{date:{handler:function(o){this.loadAppointmentSchedules()},deep:!0}},computed:{...mapGetters(["getAppointmentSchedules","getAppointmentSchedulesPaginateObject"])},mounted(){this.date=new Date,this.loadAppointmentSchedules()},methods:{selectTime(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentSchedules(0)},nextAppointmentSchedule(o){this.loadAppointmentSchedules(o)},loadAppointmentSchedules(o=0){this.loading=!0,this.$store.dispatch("loadAppointmentSchedules",{dataObject:{date:this.date||null,event_id:this.eventId,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.schedule=this.getAppointmentSchedules,this.paginate_object=this.getAppointmentSchedulesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2_=Object.assign(__default__$21,{__name:"AppointmentScheduleList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2U,[createBaseVNode("div",_hoisted_2$2P,[createVNode(unref(Ka$1),{inline:"","auto-apply":"",locale:"ru","enable-time-picker":!1,modelValue:t.date,"onUpdate:modelValue":s[0]||(s[0]=i=>t.date=i)},null,8,["modelValue"]),t.schedule.length>0?(openBlock(),createElementBlock("p",_hoisted_3$2H,[createTextVNode("Есть "),createBaseVNode("strong",_hoisted_4$2w,toDisplayString(t.schedule.length),1),createTextVNode(" ячейки для записи")])):(openBlock(),createElementBlock("p",_hoisted_5$2s,"Нет доступных ячеек для записи")),createBaseVNode("p",_hoisted_6$2q,[_hoisted_7$2m,createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[1]||(s[1]=i=>t.loadAndOrder("day")),href:"javascript:void(0)"},[createTextVNode("По дню недели "),t.order==="day"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_8$2f)):createCommentVNode("",!0),t.order==="day"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_9$2b)):createCommentVNode("",!0)]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[2]||(s[2]=i=>t.loadAndOrder("start_time")),href:"javascript:void(0)"},[createTextVNode("По времени начала "),t.order==="start_time"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_10$23)):createCommentVNode("",!0),t.order==="start_time"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_11$1Y)):createCommentVNode("",!0)]),createBaseVNode("a",{class:"mx-1 font-10 my-1",onClick:s[3]||(s[3]=i=>t.loadAndOrder("end_time")),href:"javascript:void(0)"},[createTextVNode("По времени окончания "),t.order==="end_time"&&t.direction==="asc"?(openBlock(),createElementBlock("i",_hoisted_12$1V)):createCommentVNode("",!0),t.order==="end_time"&&t.direction==="desc"?(openBlock(),createElementBlock("i",_hoisted_13$1O)):createCommentVNode("",!0)])])])]),t.schedule.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.schedule,i=>(openBlock(),createElementBlock("div",_hoisted_14$1I,[createBaseVNode("div",_hoisted_15$1E,[createBaseVNode("table",_hoisted_16$1D,[createBaseVNode("tbody",null,[createBaseVNode("tr",{class:normalizeClass([{"bg-gray2-dark":i.appointment!=null,"bg-highlight":i.appointment==null},"color-gray1-dark"])},[_hoisted_17$1v,createBaseVNode("td",null,toDisplayString(t.days[i.day-1]),1)],2),createBaseVNode("tr",{class:normalizeClass([{"bg-gray2-dark":i.appointment!=null,"bg-highlight":i.appointment==null},"color-gray1-dark"])},[_hoisted_18$1u,createBaseVNode("td",null,toDisplayString(i.start_time||"-")+" - "+toDisplayString(i.end_time||"-"),1)],2),createBaseVNode("tr",{class:normalizeClass([{"bg-gray2-dark":i.appointment!=null,"bg-highlight":i.appointment==null},"color-gray1-dark"])},[_hoisted_19$1r,createBaseVNode("td",null,toDisplayString(i.year||"-")+" "+toDisplayString(t.months[i.month||0])+" "+toDisplayString(i.day_number),1)],2)])]),createBaseVNode("button",{disabled:i.appointment!=null,onClick:a=>t.selectTime(i),class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light w-100"},[i.appointment!=null?(openBlock(),createElementBlock("span",_hoisted_21$1n," Данное время уже занято ")):(openBlock(),createElementBlock("span",_hoisted_22$1l," Выбрать время "))],8,_hoisted_20$1p)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_23$1g,_hoisted_25$1a)),t.paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextAppointmentSchedule,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$2T={class:"card card-style"},_hoisted_2$2O={class:"content"},_hoisted_3$2G={key:0,class:"card-img-top rounded-m p-2",alt:"..."},_hoisted_4$2v=createBaseVNode("div",{class:"divider mb-3 mt-1"},null,-1),_hoisted_5$2r={key:1,class:"p-3"},_hoisted_6$2p={class:"row text-center row-cols-3 mb-n4"},_hoisted_7$2l=["href"],_hoisted_8$2e={class:"img-fluid rounded-xs preload-img",alt:"img"},_hoisted_9$2a={key:2,class:"divider mb-3 mt-1"},_hoisted_10$22={class:"font-700 mb-2"},_hoisted_11$1X={class:"font-700 mb-2 font-12"},_hoisted_12$1U={class:"mt-n1 mb-3"},_hoisted_13$1N=createBaseVNode("span",{class:"d-block font-700 font-12"},"Описание услуги",-1),_hoisted_14$1H={class:"font-10 opacity-70 mb-2"},_hoisted_15$1D=createBaseVNode("i",{class:"fa fa-map-marker-alt"},null,-1),_hoisted_16$1C=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("span",{class:"d-block font-700 font-12"},"Сервисы")],-1),_hoisted_17$1u={key:3,class:"list-group"},_hoisted_18$1t={class:"border border-gray1-dark rounded-s shadow-xs p-3 d-flex align-items-center mb-2"},_hoisted_19$1q=["onClick"],_hoisted_20$1o={class:"ml-2 d-flex flex-column"},_hoisted_21$1m=["onClick"],_hoisted_22$1k=["onClick"],_hoisted_23$1f={key:0},_hoisted_24$1c={href:"#",class:"chip chip-small bg-dark2-dark"},_hoisted_25$19=createBaseVNode("i",{class:"fa-solid fa-layer-group bg-green1-dark"},null,-1),_hoisted_26$14={class:"color-white"},_hoisted_27$12={key:0,href:"#",class:"chip chip-small bg-gray2-dark"},_hoisted_28$11=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar bg-green1-dark"},null,-1),_hoisted_29$Z=createBaseVNode("span",{class:"color-white"},"Нужна предоплата",-1),_hoisted_30$Y=[_hoisted_28$11,_hoisted_29$Z],_hoisted_31$Y={class:"font-12"},_hoisted_32$X={key:0,class:"font-700"},_hoisted_33$X={key:1,class:"font-700"},_hoisted_34$W={key:1,class:"p-3"},_hoisted_35$W={class:"row text-center row-cols-3 mb-n4"},_hoisted_36$U=["href"],_hoisted_37$S={class:"img-fluid rounded-xs preload-img",alt:"img"},__default__$20={props:["event"],data(){return{selectedSchedule:null}},methods:{back(){this.$emit("back")},toggleService(o){this.event.services[o].show_full=!this.event.services[o].show_full},selectSchedule(o){this.selectedSchedule=o,this.$emit("next",o),this.$botNotification.success("Расписание","Отлично! Дата выбрана, остался последний шаг")}}},_sfc_main$2Z=Object.assign(__default__$20,{__name:"AppointmentDetails",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2T,[createBaseVNode("div",_hoisted_2$2O,[createBaseVNode("button",{onClick:s[0]||(s[0]=(...a)=>t.back&&t.back(...a)),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},"Назад "),o.event.images.length>0?withDirectives((openBlock(),createElementBlock("img",_hoisted_3$2G,null,512)),[[i,"/file-by-file-id/"+o.event.images[0]]]):createCommentVNode("",!0),_hoisted_4$2v,o.event.images.length>1?(openBlock(),createElementBlock("div",_hoisted_5$2r,[createBaseVNode("div",_hoisted_6$2p,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.event.images,a=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link","data-lightbox":"gallery-1",href:"/file-by-file-id/"+a},[withDirectives(createBaseVNode("img",_hoisted_8$2e,null,512),[[i,"/file-by-file-id/"+a]])],8,_hoisted_7$2l))),256))])])):createCommentVNode("",!0),o.event.images.length>1?(openBlock(),createElementBlock("div",_hoisted_9$2a)):createCommentVNode("",!0),createBaseVNode("h2",_hoisted_10$22,toDisplayString(o.event.title||"Не указано"),1),createBaseVNode("h6",_hoisted_11$1X,toDisplayString(o.event.subtitle||"Не указано"),1),createBaseVNode("p",_hoisted_12$1U,[_hoisted_13$1N,createBaseVNode("em",null,toDisplayString(o.event.description||"Не указано"),1)]),createBaseVNode("p",_hoisted_14$1H,[_hoisted_15$1D,createTextVNode(" "+toDisplayString(o.event.address||"Адрес не указан"),1)]),_hoisted_16$1C,o.event.services.length>0?(openBlock(),createElementBlock("div",_hoisted_17$1u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.event.services,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_18$1t,[createBaseVNode("i",{class:"fa-solid fa-clock-rotate-left font-20 color-blue2-dark",onClick:r=>t.toggleService(n)},null,8,_hoisted_19$1q),createBaseVNode("div",_hoisted_20$1o,[createBaseVNode("span",{class:"mb-0 line-height-xs font-700",onClick:r=>t.toggleService(n)},toDisplayString(a.title||"Не указано"),9,_hoisted_21$1m),createBaseVNode("em",{class:"mb-0 line-height-xs font-10",onClick:r=>t.toggleService(n)},toDisplayString(a.description||"Не указано "),9,_hoisted_22$1k),a.show_full?(openBlock(),createElementBlock("div",_hoisted_23$1f,[createBaseVNode("a",_hoisted_24$1c,[_hoisted_25$19,createBaseVNode("span",_hoisted_26$14,toDisplayString(a.category||"Не указано"),1)]),a.need_prepayment?(openBlock(),createElementBlock("a",_hoisted_27$12,_hoisted_30$Y)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_31$Y,[createTextVNode(" Цена услуги "),(a.discount_price||0)===0?(openBlock(),createElementBlock("span",_hoisted_32$X,toDisplayString(a.price)+" ₽",1)):(openBlock(),createElementBlock("span",_hoisted_33$X,toDisplayString(a.discount_price)+" ₽ ",1))]),a.images.length>0?(openBlock(),createElementBlock("div",_hoisted_34$W,[createBaseVNode("div",_hoisted_35$W,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.images,r=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link","data-lightbox":"gallery-1",href:"/file-by-file-id/"+r},[withDirectives(createBaseVNode("img",_hoisted_37$S,null,512),[[i,"/file-by-file-id/"+r]])],8,_hoisted_36$U))),256))])])):createCommentVNode("",!0)])):createCommentVNode("",!0)])]))),256))])):createCommentVNode("",!0)])]),o.event?(openBlock(),createBlock(_sfc_main$2_,{key:0,onSelect:t.selectSchedule,"event-id":o.event.id},null,8,["onSelect","event-id"])):createCommentVNode("",!0)],64)}}}),_hoisted_1$2S={key:0},_hoisted_2$2N={key:1},_hoisted_3$2F={key:2},_hoisted_4$2u={key:3},__default__$1$={name:"App",data(){return{step:1,loading:!1,selectedEvent:null,selectedSchedule:null}},mounted(){},methods:{nextToForm(o){this.selectedSchedule=o,this.step=3},backToSelectEvent(){this.step=1,this.selectedEvent=null},backToSelectSchedule(){this.selectedSchedule=null,this.step=2},selectEvent(o){this.selectedEvent=o,this.step=2}}},_sfc_main$2Y=Object.assign(__default__$1$,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$2S)):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_2$2N,[createVNode(_sfc_main$30,{onSelect:t.selectEvent},null,8,["onSelect"])])):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock("div",_hoisted_3$2F,[createVNode(_sfc_main$2Z,{onNext:t.nextToForm,onBack:t.backToSelectEvent,event:t.selectedEvent},null,8,["onNext","onBack","event"])])):createCommentVNode("",!0),t.step===3?(openBlock(),createElementBlock("div",_hoisted_4$2u,[createVNode(_sfc_main$2$,{onBack:t.backToSelectSchedule,"event-id":t.selectedEvent.id,"selected-schedule-time":t.selectedSchedule},null,8,["onBack","event-id","selected-schedule-time"])])):createCommentVNode("",!0)],64))}}),Appointments=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2Y},Symbol.toStringTag,{value:"Module"})),OneArmedBandit_vue_vue_type_style_index_0_scoped_9efbec41_lang="",_sfc_main$2X={data(){return{money_amount:1e3}},mounted(){class o{constructor(l){let d=l;this.getWalletValue=()=>d,this.checkCanPlay=c=>d>=c,this.changeWalletValue=(c,_="+")=>{if(typeof c=="number"&&!isNaN(c)){if(_==="+")return d+=c;if(_==="-")return d-=c;throw new Error("Nieprawidłowy operator działania.")}else throw console.log(typeof c),new Error("Nieprawidłowa liczba.")}}}class t{constructor(){this.options=["banana","plum","cherry"];let l=this.drawResult();this.getDrawResult=()=>l}drawResult(){let l=[];for(let d=0;d<this.options.length;d++){const c=Math.floor(Math.random()*this.options.length),_=this.options[c];l.push(_)}return l}}class s{static moneyWinInGame(l,d){return l?3*(Math.random()*(d-1)+1):0}static checkWinner(l){return l[0]===l[1]&&l[1]===l[2]||l[0]!==l[1]&&l[1]!==l[2]&&l[0]!==l[2]}}class i{constructor(){this.gameResults=[]}addGameToStatistics(l,d){let c={win:l,bid:d};this.gameResults.push(c)}showGameStatistics(){let l=this.gameResults.length,d=this.gameResults.filter(_=>_.win).length,c=this.gameResults.filter(_=>!_.win).length;return[l,d,c]}}class a{constructor(l=200){this.stats=new i,this.wallet=new o(l),document.getElementById("spin").addEventListener("click",this.startGame.bind(this)),this.inputBid=document.getElementById("bid"),this.walletSaldo=document.querySelector('[data-summary="user-cash"]'),this.lastGame=document.querySelector('[data-summary="last-game"]'),this.numberOfSpins=document.querySelector('[data-summary="spins"]'),this.numberOfWins=document.querySelector('[data-summary="wins"]'),this.numberOfLoses=document.querySelector('[data-summary="losses"]'),this.fruitsInMachine=[...document.querySelectorAll('[data-option="fruit"]')],this.render()}render(l=["url(../../images/bandit/dolar_start_sign.png)","url(../../images/bandit/dolar_start_sign.png)","url(../../images/bandit/dolar_start_sign.png)"],d=this.wallet.getWalletValue(),c=[0,0,0],_="",m="",p=0){m?(document.querySelector(".summary p:nth-child(2)").style.color="rgb(6, 214, 6)",document.querySelector(".summary p:nth-child(2)").style.textShadow="2px 5px 30px rgb(6, 214, 6);",_=`You win +${p*3}!`):!m&&m!==""&&(document.querySelector(".summary p:nth-child(2)").style.color="rgb(251, 17, 17)",document.querySelector(".summary p:nth-child(2)").style.textShadow="2px 5px 30px rgb(251, 17, 17);",_=`You lose -${p}`),this.walletSaldo.textContent=d,this.lastGame.textContent=_,this.numberOfSpins.textContent=c[0],this.numberOfWins.textContent=c[1],this.numberOfLoses.textContent=c[2],this.fruitsInMachine.forEach((f,k)=>f.style.backgroundImage=l[k])}startGame(){if(this.inputBid.value<1)return alert("Bid value cannot be lower than 1$.");const l=Math.floor(this.inputBid.value);if(!this.wallet.checkCanPlay(l))return alert("You don't have enough cash in wallet!");this.wallet.changeWalletValue(l,"-"),this.draw=new t;const d=n.draw.getDrawResult();d[0]==="plum"&&(this.render[0]=this.fruitsInMachine[0].style.backgroundImage="url(../../images/bandit/plum_transparent.png)"),d[1]==="plum"&&(this.render[1]=this.fruitsInMachine[1].style.backgroundImage="url(../../images/bandit/plum_transparent.png)"),d[2]==="plum"&&(this.render[2]=this.fruitsInMachine[2].style.backgroundImage="url(../../images/bandit/plum_transparent.png)"),d[0]==="banana"&&(this.render[0]=this.fruitsInMachine[0].style.backgroundImage="url(../../images/bandit/banana_transparent.png)"),d[1]==="banana"&&(this.render[1]=this.fruitsInMachine[1].style.backgroundImage="url(../../images/bandit/banana_transparent.png)"),d[2]==="banana"&&(this.render[2]=this.fruitsInMachine[2].style.backgroundImage="url(../../images/bandit/banana_transparent.png)"),d[0]==="cherry"&&(this.render[0]=this.fruitsInMachine[0].style.backgroundImage="url(../../images/bandit/cherries_transparent.png)"),d[1]==="cherry"&&(this.render[1]=this.fruitsInMachine[1].style.backgroundImage="url(../../images/bandit/cherries_transparent.png)"),d[2]==="cherry"&&(this.render[2]=this.fruitsInMachine[2].style.backgroundImage="url(../../images/bandit/cherries_transparent.png)");const c=s.checkWinner(d);console.log("result=>",c,d);const _=s.moneyWinInGame(c,l);_&&this.wallet.changeWalletValue(_,"+"),this.stats.addGameToStatistics(c,l),this.render([d],this.wallet.getWalletValue(),this.stats.showGameStatistics(),this.wonMoney,c,l)}}const n=new a(this.money_amount)}},_hoisted_1$2R={class:"one-armed-bandit"},_hoisted_2$2M=createStaticVNode('<h1 class="mb-5" data-v-9efbec41>Однорукий бандит</h1><section class="machine" data-v-9efbec41><div class="cover" data-v-9efbec41><div class="inside-cover" data-v-9efbec41><div class="screen-1" data-option="fruit" data-v-9efbec41></div><div class="screen-2" data-option="fruit" data-v-9efbec41></div><div class="screen-3" data-option="fruit" data-v-9efbec41></div></div></div></section><section class="panel" data-v-9efbec41><input type="number" placeholder="$$$" id="bid" data-v-9efbec41><button class="spin" id="spin" data-v-9efbec41>КРУТИТЬ</button></section><section class="summary py-3" data-v-9efbec41><h3 class="mb-3 text-white" data-v-9efbec41>Доступно CashBack: <span data-summary="user-cash" data-v-9efbec41>0</span> $</h3><p class="mb-0 text-white" data-v-9efbec41>Прошлый результат: <span data-summary="last-game" data-v-9efbec41></span> $</p><p class="mb-0 text-white" data-v-9efbec41>За сегодня попыток: <span data-summary="spins" data-v-9efbec41>0</span> раз</p><p class="mb-0 text-white" data-v-9efbec41>Победы: <span data-summary="wins" data-v-9efbec41>0</span></p><p class="mb-0 text-white" data-v-9efbec41>Проигрыши: <span data-summary="losses" data-v-9efbec41>0</span></p></section>',4),_hoisted_6$2o=[_hoisted_2$2M];function _sfc_render$T(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$2R,_hoisted_6$2o)}const OneArmedBandit=_export_sfc(_sfc_main$2X,[["render",_sfc_render$T],["__scopeId","data-v-9efbec41"]]),_hoisted_1$2Q=createBaseVNode("div",{class:"card card-style"},[createBaseVNode("div",{class:"content"},[createBaseVNode("p",{class:"mb-2 text-center font-18"},[createBaseVNode("strong",null,"Внимание!"),createTextVNode(" Правила игры: ")]),createBaseVNode("ul",{style:{padding:"0px 20px"}},[createBaseVNode("li",null,"цена ставки меняется в зависимости от популярности игры (чем популярнее тем выше)"),createBaseVNode("li",null,"ставка берется из вашего CashBack"),createBaseVNode("li",null,"за каждый выигрыш вы получаете игровые деньги, которые суммируются к вашему CashBack и используются для игровой ставки, но не начисляются вам как CashBack"),createBaseVNode("li",null,"каждый проигрыш списывает ваш реальный CashBack"),createBaseVNode("li",null,[createTextVNode("одна из игровых комбинация может принести вам супер-приз - "),createBaseVNode("strong",null,"Пицца 50 см")])])])],-1),_hoisted_2$2L={class:"card card-style"},_hoisted_3$2E={class:"content"},_sfc_main$2W={__name:"OneArmedBanditPage",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2Q,createBaseVNode("div",_hoisted_2$2L,[createBaseVNode("div",_hoisted_3$2E,[createVNode(OneArmedBandit)])])],64))}},OneArmedBanditPage=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2W},Symbol.toStringTag,{value:"Module"})),CategoryInlineList_vue_vue_type_style_index_0_lang="",_hoisted_1$2P={key:0,class:"d-flex flex-wrap"},_hoisted_2$2K=["onClick"],_hoisted_3$2D={class:"font-14"},__default__$1_={props:["size","selected","active"],data(){return{categories:null,categories_paginate_object:null}},computed:{...mapGetters(["getCategories","getCategoriesPaginateObject"])},mounted(){this.loadCategories()},methods:{nextCategories(o){this.loadCategories(o)},select(o){return this.$emit("select",o)},inCategory(o){return this.selected.findIndex(s=>s.id===o)>=0},loadCategories(o=0){return this.$store.dispatch("loadCategories",{page:o,size:this.size||5}).then(()=>{this.categories=this.getCategories,this.categories_paginate_object=this.getCategoriesPaginateObject})}}},_sfc_main$2V=Object.assign(__default__$1_,{__name:"CategoryInlineList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.categories?(openBlock(),createElementBlock("div",_hoisted_1$2P,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.categories,i=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:a=>t.select(i),class:normalizeClass([{"bg-green2-dark":t.inCategory(i.id),"bg-gray2-dark":o.active.indexOf(i.id)===-1&&!t.inCategory(i.id)},"m-0 mb-2 badge mr-2 bg-green2-dark rounded-l font-14 category-badge p-3"])},[createTextVNode(toDisplayString(i.title||"Не указано")+" ",1),createBaseVNode("span",_hoisted_3$2D,toDisplayString(i.count||0),1)],10,_hoisted_2$2K))),256))])):createCommentVNode("",!0),t.categories_paginate_object&&t.categories_paginate_object.meta.total>o.size?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextCategories,pagination:t.categories_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),SelfProductDelivery_vue_vue_type_style_index_0_lang="",_hoisted_1$2O={class:"d-flex flex-column"},_hoisted_2$2J={class:"card card-style"},_hoisted_3$2C={class:"content"},_hoisted_4$2t={class:"tab-controls mb-2 tabs-round tab-animated tabs-medium tabs-rounded d-flex justify-content-between"},_hoisted_5$2q={class:"row mb-0"},_hoisted_6$2n={class:"col-12"},_hoisted_7$2k={class:"mb-0 d-flex justify-content-between"},_hoisted_8$2d={key:0,class:"mb-2 text-center"},_hoisted_9$29={key:0},_hoisted_10$21={class:"d-flex justify-content-between"},_hoisted_11$1W={key:0,class:"fa-solid fa-magnifying-glass"},_hoisted_12$1T={key:1,class:"fa-solid fa-chevron-up"},_hoisted_13$1M={key:2,class:"font-14"},_hoisted_14$1G={key:3,class:"font-14"},_hoisted_15$1C={class:"d-flex"},_hoisted_16$1B=createBaseVNode("i",{class:"fa-solid fa-list"},null,-1),_hoisted_17$1t=[_hoisted_16$1B],_hoisted_18$1s=createBaseVNode("i",{class:"fa-regular fa-address-card"},null,-1),_hoisted_19$1p=[_hoisted_18$1s],_hoisted_20$1n={key:1},_hoisted_21$1l={class:"input-style input-style-2 has-icon input-required"},_hoisted_22$1j=createBaseVNode("p",{class:"mb-0"},"Цена товара",-1),_hoisted_23$1e={class:"row mb-0"},_hoisted_24$1b={class:"col-6"},_hoisted_25$18={class:"input-style input-style-2 input-required"},_hoisted_26$13={class:"col-6"},_hoisted_27$11={class:"input-style input-style-2 input-required"},_hoisted_28$10=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_29$Y=createBaseVNode("span",{class:"color-white"},"Найти товар",-1),_hoisted_30$X=[_hoisted_28$10,_hoisted_29$Y],_hoisted_31$X={key:2},_hoisted_32$W={key:3},_hoisted_33$W=createBaseVNode("p",null,"К сожалению, никаких товаров еще нет в магазине:(",-1),_hoisted_34$V=[_hoisted_33$W],_hoisted_35$V=createBaseVNode("h4",null,"Итого",-1),_hoisted_36$T=createBaseVNode("p",null," Ниже приведена итоговая цена заказа без учета стоимости доставки. Цена доставки рассчитывается отдельно и зависит от расстояния. ",-1),_hoisted_37$R=["onClick"],_hoisted_38$N={key:0,class:"col-6 text-left"},_hoisted_39$O={class:"font-600"},_hoisted_40$L={class:"col-2 d-flex justify-content-between align-items-center"},_hoisted_41$L=createBaseVNode("i",{class:"fa-regular fa-square-minus mr-2"},null,-1),_hoisted_42$L={class:"font-600 mb-0"},_hoisted_43$L=createBaseVNode("i",{class:"fa-regular fa-square-plus ml-2 color-green2-dark"},null,-1),_hoisted_44$K={key:1,class:"col-4 text-right"},_hoisted_45$J={class:"font-600"},_hoisted_46$J=createBaseVNode("sup",null,".00",-1),_hoisted_47$I=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_48$H={key:0,class:"row mb-0"},_hoisted_49$E=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, ед.")],-1),_hoisted_50$B={class:"col-6 text-right"},_hoisted_51$B=createBaseVNode("div",{class:"col-6 text-left"},[createBaseVNode("h4",null,"Суммарно, цена")],-1),_hoisted_52$B={class:"col-6 text-right"},_hoisted_53$z={key:0},_hoisted_54$y=createBaseVNode("sup",null,".00",-1),_hoisted_55$x={key:1},_hoisted_56$x=createBaseVNode("sup",null,".00",-1),_hoisted_57$x={key:0,class:"col-6 text-left"},_hoisted_58$w=createBaseVNode("h4",null," Использовать CashBack",-1),_hoisted_59$v=[_hoisted_58$w],_hoisted_60$s={key:1,class:"col-6 text-right"},_hoisted_61$r={key:0,class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_62$p={key:0,class:"custom-control-label",style:{"padding-left":"30px"},for:"toggle-use_cashback"},_hoisted_63$p={key:1,class:"custom-control-label",style:{"padding-left":"30px"},for:"toggle-use_cashback"},_hoisted_64$p=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_65$p=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_66$p={key:2,class:"col-6 text-left"},_hoisted_67$p=createBaseVNode("h4",null,"Доступно для списания",-1),_hoisted_68$o=[_hoisted_67$p],_hoisted_69$o={key:3,class:"col-6 text-right"},_hoisted_70$o=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),_hoisted_71$o=createBaseVNode("span",{class:"color-white"},"Очистить корзину",-1),_hoisted_72$m=[_hoisted_70$o,_hoisted_71$o],_hoisted_73$l=createBaseVNode("div",{class:"divider mt-4"},null,-1),_hoisted_74$l=createBaseVNode("h4",null,"Оформление заказа",-1),_hoisted_75$l={class:"input-style input-style-2 has-icon"},_hoisted_76$k=createBaseVNode("i",{class:"input-icon fa fa-user"},null,-1),_hoisted_77$k={class:"input-style input-style-2 has-icon"},_hoisted_78$i=createBaseVNode("i",{class:"input-icon fa-solid fa-phone"},null,-1),_hoisted_79$h=createBaseVNode("p",{class:"mb-0 text-left"},"Как хотите получить заказ?",-1),_hoisted_80$h={class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_81$h={key:0,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_82$h={key:1,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_83$f=createBaseVNode("i",{class:"fa-solid fa-person-walking-luggage font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_84$d=createBaseVNode("i",{class:"fa-solid fa-truck font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_85$d={key:1,class:"input-style input-style-2 has-icon"},_hoisted_86$d=createBaseVNode("i",{class:"input-icon fa-solid fa-city"},null,-1),_hoisted_87$c={key:2,class:"input-style input-style-2 has-icon"},_hoisted_88$c=createBaseVNode("i",{class:"input-icon fa-solid fa-road"},null,-1),_hoisted_89$c={key:3,class:"input-style input-style-2 has-icon"},_hoisted_90$c=createBaseVNode("i",{class:"input-icon fa-solid fa-house-user"},null,-1),_hoisted_91$c={key:4,class:"input-style input-style-2 has-icon"},_hoisted_92$b=createBaseVNode("i",{class:"input-icon fa-solid fa-door-open"},null,-1),_hoisted_93$b={key:5,class:"input-style input-style-2 has-icon"},_hoisted_94$b=createBaseVNode("i",{class:"input-icon fa-solid fa-house-flag"},null,-1),_hoisted_95$a={key:6,class:"input-style input-style-2 has-icon"},_hoisted_96$a=createBaseVNode("i",{class:"input-icon fa-solid fa-layer-group"},null,-1),_hoisted_97$a={key:7,class:"input-style input-style-2 has-icon"},_hoisted_98$a=createBaseVNode("span",{class:"input-style-1-active input-style-1-inactive"},"Информация для доставщика",-1),_hoisted_99$a=createBaseVNode("i",{class:"input-icon fa-solid fa-envelope-open-text"},null,-1),_hoisted_100$a=createBaseVNode("p",{class:"mb-0 text-left"},"К какому времени заказ должен быть готов?",-1),_hoisted_101$a={class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_102$a={key:0,class:"custom-control-label pl-5",for:"toggle-when-ready"},_hoisted_103$a={key:1,class:"custom-control-label pl-5",for:"toggle-when-ready"},_hoisted_104$a=createBaseVNode("i",{class:"fa-solid fa-clock font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_105$a=createBaseVNode("i",{class:"fa-solid fa-mug-hot font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_106$a={key:8,class:"input-style input-style-2 has-icon"},_hoisted_107$a=createBaseVNode("i",{class:"input-icon fa-regular fa-clock"},null,-1),_hoisted_108$a={key:9,class:"mb-0 text-left"},_hoisted_109$a={key:10,class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_110$a={key:0,class:"custom-control-label pl-5",for:"toggle-has-disability"},_hoisted_111$a={key:1,class:"custom-control-label pl-5",for:"toggle-has-disability"},_hoisted_112$a=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_113$a=createBaseVNode("i",{class:"fa-solid fa-hand-holding-heart font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_114$a={key:11,class:"list-group list-custom-small"},_hoisted_115$8={class:"border-0",href:"javascript:void(0)"},_hoisted_116$8=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-head-side-mask shadow-s bg-red1-dark"},null,-1),_hoisted_117$8=createBaseVNode("span",null,"Болею",-1),_hoisted_118$8={class:"custom-control scale-switch ios-switch"},_hoisted_119$8=createBaseVNode("label",{class:"custom-control-label",for:"switch-1"},null,-1),_hoisted_120$7=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_121$7={class:"border-0",href:"javascript:void(0)"},_hoisted_122$7=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-eye shadow-s bg-red1-dark"},null,-1),_hoisted_123$7=createBaseVNode("span",null,"Слабовидящий",-1),_hoisted_124$7={class:"custom-control scale-switch ios-switch"},_hoisted_125$7=createBaseVNode("label",{class:"custom-control-label",for:"switch-2"},null,-1),_hoisted_126$7=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_127$7={class:"border-0",href:"javascript:void(0)"},_hoisted_128$7=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-wheelchair shadow-s bg-red1-dark"},null,-1),_hoisted_129$7=createBaseVNode("span",null,"Ограничения мобильности",-1),_hoisted_130$7={class:"custom-control scale-switch ios-switch"},_hoisted_131$7=createBaseVNode("label",{class:"custom-control-label",for:"switch-3"},null,-1),_hoisted_132$6=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_133$5={class:"border-0",href:"javascript:void(0)"},_hoisted_134$5=createBaseVNode("i",{class:"fa-solid rounded-sm font-14 fa-ear-deaf shadow-s bg-red1-dark"},null,-1),_hoisted_135$5=createBaseVNode("span",null,"Плохо слышит \\ говорит",-1),_hoisted_136$5={class:"custom-control scale-switch ios-switch"},_hoisted_137$5=createBaseVNode("label",{class:"custom-control-label",for:"switch-4"},null,-1),_hoisted_138$5=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),_hoisted_139$5={key:12,class:"mb-0 text-left"},_hoisted_140$5={key:13,class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_141$5={key:0,class:"custom-control-label pl-5",for:"toggle-payment-cash"},_hoisted_142$5={key:1,class:"custom-control-label pl-5",for:"toggle-payment-cash"},_hoisted_143$5=createBaseVNode("i",{class:"fa-solid fa-money-bill-1-wave font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_144$5=createBaseVNode("i",{class:"fa-solid fa-credit-card font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_145$5={key:14},_hoisted_146$5=createBaseVNode("h6",null,"Мы можем подготовить для вас сдачу с:",-1),_hoisted_147$5={class:"row row-cols-2 mb-0"},_hoisted_148$5={class:"col"},_hoisted_149$5=["onClick"],_hoisted_150$5=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,"или введите другую сумму...")],-1),_hoisted_151$5={class:"input-style input-style-2 has-icon"},_hoisted_152$5=createBaseVNode("i",{class:"input-icon fa-solid fa-door-open"},null,-1),_hoisted_153$5=createBaseVNode("p",{class:"mb-0 text-left"},"Число персон",-1),_hoisted_154$5={class:"row text-center mr-2 ml-2 mb-3"},_hoisted_155$5={class:"col-4 mb-n2"},_hoisted_156$5=createBaseVNode("i",{class:"fa-solid fa-minus font-22"},null,-1),_hoisted_157$5=[_hoisted_156$5],_hoisted_158$5={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},_hoisted_159$5={class:"font-22"},_hoisted_160$5={class:"col-4 mb-n2"},_hoisted_161$5=createBaseVNode("i",{class:"fa-solid fa-plus font-22"},null,-1),_hoisted_162$5=[_hoisted_161$5],_hoisted_163$5=["innerHTML"],_hoisted_164$5={key:16},_hoisted_165$4=["disabled"],_hoisted_166$4={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_167$4={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_168$4={key:2,class:"color-white"},_hoisted_169$4={key:3,class:"color-white"},__default__$1Z={props:["type"],data(){return{tab:0,settings:{can_use_cash:!0,delivery_price_text:null,min_price:0,min_price_for_cashback:0,menu_list_type:0,need_category_by_page:!1},product_type_display:1,spent_time_counter:0,is_requested:!1,isCollapsed:!0,search:null,products:[],paginate:null,categories:[],sending:!1,min_price:null,max_price:null,moneyVariants:[500,1e3,2e3,5e3],deliveryForm:{name:null,phone:null,address:null,city:null,street:null,building:null,flat_number:null,entrance_number:null,floor_number:null,info:null,need_pickup:!1,has_disability:!1,use_cashback:!1,disabilities:[],money:null,cash:!0,persons:1,time:null,when_ready:!0}}},watch:{"deliveryForm.cash":{handler:function(o){this.deliveryForm.cash||(this.deliveryForm.money=null)},deep:!0}},computed:{...mapGetters(["getProducts","getProductsPaginateObject","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),getCurrentBot(){return window.currentBot},cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,s=this.getCurrentBot.max_cashback_use_percent||0,i=t*(s/100);return Math.min(i,o)},filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products},tg(){return window.Telegram.WebApp},activeCategories(){let o=[];return this.filteredProducts.forEach(t=>{o.push(t.categories.map(s=>s.id))}),[...new Set(o.map(t=>t[0])),...new Set(o.map(t=>t[1]))]}},mounted(){localStorage.getItem("cashman_self_product_delivery_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_self_product_delivery_counter"))),localStorage.getItem("cashman_self_product_type_display")!=null&&(this.product_type_display=parseInt(localStorage.getItem("cashman_self_product_type_display")||0)),this.deliveryForm.name=localStorage.getItem("cashman_self_product_delivery_form_name")!=null?localStorage.getItem("cashman_self_product_delivery_form_name"):null,this.deliveryForm.phone=localStorage.getItem("cashman_self_product_delivery_form_phone")!=null?localStorage.getItem("cashman_self_product_delivery_form_phone"):null,this.deliveryForm.address=localStorage.getItem("cashman_self_product_delivery_form_address")!=null?localStorage.getItem("cashman_self_product_delivery_form_address"):null,this.deliveryForm.city=localStorage.getItem("cashman_self_product_delivery_form_city")!=null?localStorage.getItem("cashman_self_product_delivery_form_city"):null,this.deliveryForm.street=localStorage.getItem("cashman_self_product_delivery_form_street")!=null?localStorage.getItem("cashman_self_product_delivery_form_street"):null,this.deliveryForm.building=localStorage.getItem("cashman_self_product_delivery_form_building")!=null?localStorage.getItem("cashman_self_product_delivery_form_building"):null,this.deliveryForm.flat_number=localStorage.getItem("cashman_self_product_delivery_form_flat_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_flat_number"):null,this.deliveryForm.entrance_number=localStorage.getItem("cashman_self_product_delivery_form_entrance_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_entrance_number"):null,this.deliveryForm.disabilities=localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")!=null?JSON.parse(localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")):[],this.deliveryForm.disabilities.length>0&&(this.deliveryForm.has_disability=!0),this.loadProducts(),this.loadShopModuleData(),this.cartProducts.length>0&&this.loadActualProducts(),window.addEventListener("scroll-to-basket",o=>{this.tab=2,document.querySelector("#basket").scrollIntoView({behavior:"smooth"})})},methods:{doSwipeLeft(){let o=this.cartProducts.length>0?2:1;this.tab===0?this.tab=o:this.tab--},doSwipeRight(){let o=this.cartProducts.length>0?2:1;this.tab===o?this.tab=0:this.tab++},decPersons(){this.deliveryForm.persons=this.deliveryForm.persons>1?this.deliveryForm.persons-1:this.deliveryForm.persons},incPersons(){this.deliveryForm.persons=this.deliveryForm.persons<100?this.deliveryForm.persons+1:this.deliveryForm.persons},selectProductTypeDisplay(o){this.product_type_display=o,localStorage.setItem("cashman_self_product_type_display",this.product_type_display)},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",this.spent_time_counter)},1e3)},clearCart(){this.tab=1,this.$store.dispatch("clearCart").then(()=>{this.$botNotification.success("Корзина","Корзина успешно очищена")})},resetCategories(){this.categories=[],this.loadProducts(0)},selectCategory(o){if(this.settings.need_category_by_page)this.categories=[o];else{let t=this.categories.findIndex(s=>s.id===o.id);t!==-1?this.categories.splice(t,1):this.categories.push(o)}this.settings.need_category_by_page&&(this.tab=1),this.loadProducts(0)},nextProducts(o){this.loadProducts(o)},loadShopModuleData(){return this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t],console.log("settings",this.settings[t],t)})})})},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search,categories:this.categories.length>0?this.categories.map(t=>t.id):null,min_price:this.min_price||null,max_price:this.max_price||null},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject,baseJS.handler()})},startCheckout(){if(this.is_requested){this.$botNotification.warning("Упс!",`Сделать повторный заказ можно через <strong>${this.spent_time_counter} сек.</strong>`);return}localStorage.setItem("cashman_self_product_delivery_form_name",this.deliveryForm.name||""),localStorage.setItem("cashman_self_product_delivery_form_phone",this.deliveryForm.phone||""),localStorage.setItem("cashman_self_product_delivery_form_address",this.deliveryForm.address||""),localStorage.setItem("cashman_self_product_delivery_form_city",this.deliveryForm.city||""),localStorage.setItem("cashman_self_product_delivery_form_street",this.deliveryForm.street||""),localStorage.setItem("cashman_self_product_delivery_form_building",this.deliveryForm.building||""),localStorage.setItem("cashman_self_product_delivery_form_flat_number",this.deliveryForm.flat_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_number",this.deliveryForm.entrance_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_disabilities",JSON.stringify(this.deliveryForm.disabilities||[]));let o=new FormData;this.sending=!0,Object.keys(this.deliveryForm).forEach(t=>{const s=this.deliveryForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.type&&o.append("type",this.type),this.$store.dispatch("startCheckout",{deliveryForm:o}).then(t=>{this.deliveryForm={message:null,name:null,phone:null},this.$botNotification.success("Доставка","Дальнейшая инструкция отправлена вам в бот!"),this.tab=1,this.$store.dispatch("clearCart"),this.tg.close(),this.sending=!1}).catch(t=>{this.sending=!1}),this.startTimer(),this.is_requested=!0},loadActualProducts(){this.$store.dispatch("loadActualPriceInCart")},removeCategory(o){this.categories.splice(o,1)},addToCart(o){this.$cart.add(o.product)}}},_sfc_main$2U=Object.assign(__default__$1Z,{__name:"SelfProductDelivery",setup(o){return(t,s)=>{const i=resolveDirective("mask"),a=resolveDirective("touch");return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$2O,[createBaseVNode("div",_hoisted_2$2J,[createBaseVNode("div",_hoisted_3$2C,[createBaseVNode("div",_hoisted_4$2t,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass(["w-100",{"bg-blue2-dark color-white no-click":t.tab===0}]),onClick:s[0]||(s[0]=n=>t.tab=0)},"Категории",2),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass(["w-100",{"bg-blue2-dark color-white no-click":t.tab===1}]),onClick:s[1]||(s[1]=n=>t.tab=1)},"Товары",2),t.cartProducts.length>0?(openBlock(),createElementBlock("a",{key:0,class:normalizeClass([{"bg-blue2-dark color-white no-click":t.tab===2},"w-100"]),onClick:s[2]||(s[2]=n=>t.tab=2),href:"javascript:void(0)"},"Корзина",2)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("div",_hoisted_5$2q,[createBaseVNode("div",_hoisted_6$2n,[createBaseVNode("p",_hoisted_7$2k,[createTextVNode("Категории товара "),t.categories.length>0?(openBlock(),createElementBlock("a",{key:0,onClick:s[3]||(s[3]=n=>t.resetCategories()),href:"javascript:void(0)"},"Сбросить")):createCommentVNode("",!0)]),t.paginate?(openBlock(),createElementBlock("p",_hoisted_8$2d,[createBaseVNode("small",null,"Всего товаров найдено ("+toDisplayString(t.paginate.meta.total)+")",1)])):createCommentVNode("",!0),createVNode(_sfc_main$2V,{"single-mode":!0,active:t.activeCategories,selected:t.categories,onSelect:t.selectCategory},null,8,["active","selected","onSelect"])])],512),[[vShow,t.tab===0]]),withDirectives(createBaseVNode("div",null,[t.paginate?(openBlock(),createElementBlock("div",_hoisted_9$29,[createBaseVNode("div",_hoisted_10$21,[createBaseVNode("a",{href:"javascript:void(0)",style:{"border-radius":"10px !important"},onClick:s[4]||(s[4]=n=>t.isCollapsed=!t.isCollapsed),class:"btn btn-border btn-m bg-red2-dark btn-full mb-3 text-uppercase font-900 color-blue2-dark mr-2"},[t.isCollapsed?(openBlock(),createElementBlock("i",_hoisted_11$1W)):(openBlock(),createElementBlock("i",_hoisted_12$1T)),t.isCollapsed?(openBlock(),createElementBlock("span",_hoisted_13$1M)):(openBlock(),createElementBlock("span",_hoisted_14$1G))]),createBaseVNode("div",_hoisted_15$1C,[createBaseVNode("a",{href:"javascript:void(0)",style:{"border-radius":"10px !important"},onClick:s[5]||(s[5]=n=>t.selectProductTypeDisplay(0)),class:normalizeClass([{"bg-blue2-dark":t.product_type_display==0},"btn btn-border btn-m btn-full mb-3 text-uppercase font-900 color-blue2-dark mr-2"])},_hoisted_17$1t,2),createBaseVNode("a",{href:"javascript:void(0)",style:{"border-radius":"10px !important"},onClick:s[6]||(s[6]=n=>t.selectProductTypeDisplay(1)),class:normalizeClass([{"bg-blue2-dark":t.product_type_display==1},"btn btn-border btn-m btn-full mb-3 text-uppercase font-900 color-blue2-dark"])},_hoisted_19$1p,2)])])])):createCommentVNode("",!0),t.isCollapsed?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_20$1n,[createBaseVNode("div",_hoisted_21$1l,[createBaseVNode("i",{class:"input-icon fa-solid fa-magnifying-glass",onClick:s[7]||(s[7]=n=>t.loadProducts(0))}),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[8]||(s[8]=n=>t.search=n),type:"search",placeholder:"Название товара"},null,512),[[vModelText,t.search]])]),_hoisted_22$1j,createBaseVNode("div",_hoisted_23$1e,[createBaseVNode("div",_hoisted_24$1b,[createBaseVNode("div",_hoisted_25$18,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[9]||(s[9]=n=>t.min_price=n),class:"form-control",type:"number",min:"0",placeholder:"От, руб"},null,512),[[vModelText,t.min_price]])])]),createBaseVNode("div",_hoisted_26$13,[createBaseVNode("div",_hoisted_27$11,[withDirectives(createBaseVNode("input",{class:"form-control",min:"0","onUpdate:modelValue":s[10]||(s[10]=n=>t.max_price=n),type:"number",placeholder:"До, руб"},null,512),[[vModelText,t.max_price]])])])]),createBaseVNode("button",{onClick:s[11]||(s[11]=n=>t.loadProducts(0)),class:"btn btn-full btn-sm rounded-s bg-highlight font-800 text-uppercase w-100 mb-2"},_hoisted_30$X)])),t.products.length>0?(openBlock(),createElementBlock("div",_hoisted_31$X,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(n,r)=>(openBlock(),createBlock(_sfc_main$3l,{"display-type":t.product_type_display,item:n},null,8,["display-type","item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_32$W,_hoisted_34$V))],512),[[vShow,t.tab===1]]),withDirectives(createBaseVNode("div",null,[t.cartProducts.length>0?(openBlock(),createElementBlock("form",{key:0,id:"basket",onSubmit:s[35]||(s[35]=withModifiers((...n)=>t.startCheckout&&t.startCheckout(...n),["prevent"]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(n,r)=>(openBlock(),createBlock(_sfc_main$3l,{item:n.product},null,8,["item"]))),256)),_hoisted_35$V,_hoisted_36$T,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(n,r)=>(openBlock(),createElementBlock("div",{class:"row mb-0",onClick:l=>t.addToCart(n)},[n.product?(openBlock(),createElementBlock("div",_hoisted_38$N,[createBaseVNode("h6",_hoisted_39$O,toDisplayString(n.product.title||"Не указано"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_40$L,[_hoisted_41$L,createBaseVNode("h6",_hoisted_42$L,"x"+toDisplayString(n.quantity||1),1),_hoisted_43$L]),n.product?(openBlock(),createElementBlock("div",_hoisted_44$K,[createBaseVNode("h6",_hoisted_45$J,[createTextVNode(toDisplayString(n.product.current_price||0)+" ",1),_hoisted_46$J,createTextVNode("₽")])])):createCommentVNode("",!0)],8,_hoisted_37$R))),256)),_hoisted_47$I,t.getSelf?(openBlock(),createElementBlock("div",_hoisted_48$H,[_hoisted_49$E,createBaseVNode("div",_hoisted_50$B,[createBaseVNode("h4",null,toDisplayString(t.cartTotalCount)+" шт.",1)]),_hoisted_51$B,createBaseVNode("div",_hoisted_52$B,[t.deliveryForm.use_cashback?createCommentVNode("",!0):(openBlock(),createElementBlock("h4",_hoisted_53$z,[createTextVNode(toDisplayString(t.cartTotalPrice),1),_hoisted_54$y,createTextVNode("₽")])),t.deliveryForm.use_cashback?(openBlock(),createElementBlock("h4",_hoisted_55$x,[createTextVNode(toDisplayString(t.cartTotalPrice-t.cashbackLimit),1),_hoisted_56$x,createTextVNode("₽ ")])):createCommentVNode("",!0)]),t.getSelf.cashBack&&t.settings.min_price_for_cashback<t.cartTotalPrice?(openBlock(),createElementBlock("div",_hoisted_57$x,_hoisted_59$v)):createCommentVNode("",!0),t.getSelf.cashBack&&t.settings.min_price_for_cashback<t.cartTotalPrice?(openBlock(),createElementBlock("div",_hoisted_60$s,[t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_61$r,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[12]||(s[12]=n=>t.deliveryForm.use_cashback=n),class:"ios-input",id:"toggle-use_cashback"},null,512),[[vModelCheckbox,t.deliveryForm.use_cashback]]),t.deliveryForm.use_cashback?(openBlock(),createElementBlock("label",_hoisted_62$p)):createCommentVNode("",!0),t.deliveryForm.use_cashback?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_63$p)),_hoisted_64$p,_hoisted_65$p]))])):createCommentVNode("",!0),t.deliveryForm.use_cashback?(openBlock(),createElementBlock("div",_hoisted_66$p,_hoisted_68$o)):createCommentVNode("",!0),t.deliveryForm.use_cashback?(openBlock(),createElementBlock("div",_hoisted_69$o,[createBaseVNode("h4",null,toDisplayString(t.cashbackLimit)+"₽",1)])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("button",{onClick:s[13]||(s[13]=(...n)=>t.clearCart&&t.clearCart(...n)),class:"btn btn-full btn-sm rounded-l bg-red1-dark font-800 text-uppercase w-100"},_hoisted_72$m),_hoisted_73$l,_hoisted_74$l,createBaseVNode("div",_hoisted_75$l,[_hoisted_76$k,withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":s[14]||(s[14]=n=>t.deliveryForm.name=n),type:"text",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,t.deliveryForm.name]])]),createBaseVNode("div",_hoisted_77$k,[_hoisted_78$i,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[15]||(s[15]=n=>t.deliveryForm.phone=n),placeholder:"+7(000)000-00-00",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.deliveryForm.phone]])]),_hoisted_79$h,createBaseVNode("div",_hoisted_80$h,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[16]||(s[16]=n=>t.deliveryForm.need_pickup=n),class:"ios-input",id:"toggle-need-pickup"},null,512),[[vModelCheckbox,t.deliveryForm.need_pickup]]),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_81$h,"Доставка")),t.deliveryForm.need_pickup?(openBlock(),createElementBlock("label",_hoisted_82$h,"Самовывоз")):createCommentVNode("",!0),_hoisted_83$f,_hoisted_84$d]),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_85$d,[_hoisted_86$d,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[17]||(s[17]=n=>t.deliveryForm.city=n),placeholder:"Ваш город",required:""},null,512),[[vModelText,t.deliveryForm.city]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_87$c,[_hoisted_88$c,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[18]||(s[18]=n=>t.deliveryForm.street=n),placeholder:"Улица",required:""},null,512),[[vModelText,t.deliveryForm.street]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_89$c,[_hoisted_90$c,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[19]||(s[19]=n=>t.deliveryForm.building=n),placeholder:"Номер дома",required:""},null,512),[[vModelText,t.deliveryForm.building]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_91$c,[_hoisted_92$b,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[20]||(s[20]=n=>t.deliveryForm.flat_number=n),placeholder:"Номер квартиры"},null,512),[[vModelText,t.deliveryForm.flat_number]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_93$b,[_hoisted_94$b,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[21]||(s[21]=n=>t.deliveryForm.entrance_number=n),placeholder:"Номер подъезда"},null,512),[[vModelText,t.deliveryForm.entrance_number]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_95$a,[_hoisted_96$a,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[22]||(s[22]=n=>t.deliveryForm.floor_number=n),placeholder:"Номер этажа"},null,512),[[vModelText,t.deliveryForm.floor_number]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_97$a,[_hoisted_98$a,_hoisted_99$a,withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%",padding:"35px"},"onUpdate:modelValue":s[23]||(s[23]=n=>t.deliveryForm.info=n),type:"text",placeholder:""},null,512),[[vModelText,t.deliveryForm.info]])])),_hoisted_100$a,createBaseVNode("div",_hoisted_101$a,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[24]||(s[24]=n=>t.deliveryForm.when_ready=n),class:"ios-input",id:"toggle-when-ready"},null,512),[[vModelCheckbox,t.deliveryForm.when_ready]]),t.deliveryForm.when_ready?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_102$a,"Ко времени")),t.deliveryForm.when_ready?(openBlock(),createElementBlock("label",_hoisted_103$a,"По готовности")):createCommentVNode("",!0),_hoisted_104$a,_hoisted_105$a]),t.deliveryForm.when_ready?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_106$a,[_hoisted_107$a,withDirectives(createBaseVNode("input",{class:"form-control",type:"datetime-local","onUpdate:modelValue":s[25]||(s[25]=n=>t.deliveryForm.time=n),placeholder:"Время доставки"},null,512),[[vModelText,t.deliveryForm.time]])])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_108$a,"Ограничения по здоровью")),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_109$a,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[26]||(s[26]=n=>t.deliveryForm.has_disability=n),class:"ios-input",id:"toggle-has-disability"},null,512),[[vModelCheckbox,t.deliveryForm.has_disability]]),t.deliveryForm.has_disability?(openBlock(),createElementBlock("label",_hoisted_110$a,"Есть")):createCommentVNode("",!0),t.deliveryForm.has_disability?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_111$a,"Нет")),_hoisted_112$a,_hoisted_113$a])),t.deliveryForm.has_disability?(openBlock(),createElementBlock("div",_hoisted_114$a,[createBaseVNode("a",_hoisted_115$8,[_hoisted_116$8,_hoisted_117$8,createBaseVNode("div",_hoisted_118$8,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"болею","onUpdate:modelValue":s[27]||(s[27]=n=>t.deliveryForm.disabilities=n),class:"ios-input",id:"switch-1"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_119$8]),_hoisted_120$7]),createBaseVNode("a",_hoisted_121$7,[_hoisted_122$7,_hoisted_123$7,createBaseVNode("div",_hoisted_124$7,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"слабовидящий","onUpdate:modelValue":s[28]||(s[28]=n=>t.deliveryForm.disabilities=n),class:"ios-input",id:"switch-2"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_125$7]),_hoisted_126$7]),createBaseVNode("a",_hoisted_127$7,[_hoisted_128$7,_hoisted_129$7,createBaseVNode("div",_hoisted_130$7,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"ограничения мобильности","onUpdate:modelValue":s[29]||(s[29]=n=>t.deliveryForm.disabilities=n),class:"ios-input",id:"switch-3"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_131$7]),_hoisted_132$6]),createBaseVNode("a",_hoisted_133$5,[_hoisted_134$5,_hoisted_135$5,createBaseVNode("div",_hoisted_136$5,[withDirectives(createBaseVNode("input",{type:"checkbox",value:"проблемы со слухом \\ голосом","onUpdate:modelValue":s[30]||(s[30]=n=>t.deliveryForm.disabilities=n),class:"ios-input",id:"switch-4"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]]),_hoisted_137$5]),_hoisted_138$5])])):createCommentVNode("",!0),t.settings.can_use_cash?(openBlock(),createElementBlock("p",_hoisted_139$5,"Способы оплаты")):createCommentVNode("",!0),t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_140$5,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[31]||(s[31]=n=>t.deliveryForm.cash=n),class:"ios-input",id:"toggle-payment-cash"},null,512),[[vModelCheckbox,t.deliveryForm.cash]]),t.deliveryForm.cash?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_141$5,"Переводом")),t.deliveryForm.cash?(openBlock(),createElementBlock("label",_hoisted_142$5,"Наличные")):createCommentVNode("",!0),_hoisted_143$5,_hoisted_144$5])):createCommentVNode("",!0),t.deliveryForm.cash&&t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_145$5,[_hoisted_146$5,createBaseVNode("div",_hoisted_147$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moneyVariants,n=>(openBlock(),createElementBlock("div",_hoisted_148$5,[createBaseVNode("button",{class:normalizeClass(["btn btn-outline-success w-100 mb-2 rounded-xl",{"btn-success text-white":t.deliveryForm.money===n}]),type:"button",onClick:r=>t.deliveryForm.money=n},toDisplayString(n)+"₽ ",11,_hoisted_149$5)]))),256))]),_hoisted_150$5,createBaseVNode("div",_hoisted_151$5,[_hoisted_152$5,withDirectives(createBaseVNode("input",{class:"form-control",type:"number",min:"0","onUpdate:modelValue":s[32]||(s[32]=n=>t.deliveryForm.money=n),placeholder:"С какой суммы нужна сдача"},null,512),[[vModelText,t.deliveryForm.money]])])])):createCommentVNode("",!0),_hoisted_153$5,createBaseVNode("div",_hoisted_154$5,[createBaseVNode("div",_hoisted_155$5,[createBaseVNode("button",{onClick:s[33]||(s[33]=(...n)=>t.decPersons&&t.decPersons(...n)),type:"button",class:"btn p-2 w-100 bg-green1-dark rounded-l m-0"},_hoisted_157$5)]),createBaseVNode("div",_hoisted_158$5,[createBaseVNode("strong",_hoisted_159$5,toDisplayString(t.deliveryForm.persons),1)]),createBaseVNode("div",_hoisted_160$5,[createBaseVNode("button",{type:"button",onClick:s[34]||(s[34]=(...n)=>t.incPersons&&t.incPersons(...n)),class:"btn p-2 w-100 bg-green2-dark rounded-l m-0"},_hoisted_162$5)])]),t.settings.delivery_price_text?(openBlock(),createElementBlock("p",{key:15,innerHTML:t.settings.delivery_price_text},null,8,_hoisted_163$5)):createCommentVNode("",!0),t.settings.min_price?(openBlock(),createElementBlock("p",_hoisted_164$5,"Минимальная цена заказа "+toDisplayString(t.settings.min_price||0)+" руб",1)):createCommentVNode("",!0),createBaseVNode("button",{type:"submit",disabled:t.spent_time_counter>0||(t.deliveryForm.use_cashback?t.settings.min_price>t.cartTotalPrice-t.cashbackLimit:t.settings.min_price>t.cartTotalPrice),class:"btn btn-full btn-sm rounded-l bg-highlight font-800 text-uppercase w-100 mb-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("i",_hoisted_166$4)):(openBlock(),createElementBlock("i",_hoisted_167$4)),t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_168$4,"Оформить")):(openBlock(),createElementBlock("span",_hoisted_169$4,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_165$4)],32)):createCommentVNode("",!0)],512),[[vShow,t.tab===2]])])])])),[[a,t.doSwipeLeft,"swipe",{left:!0}],[a,t.doSwipeRight,"swipe",{right:!0}]])}}}),__default__$1Y={},_sfc_main$2T=Object.assign(__default__$1Y,{__name:"Main",setup(o){return(t,s)=>(openBlock(),createBlock(_sfc_main$2U))}}),Main$2=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2T},Symbol.toStringTag,{value:"Module"})),PaymentSBP_vue_vue_type_style_index_0_lang="",_sfc_main$2S={name:"App",data(){return{search:null,providers:[]}},computed:{...mapGetters(["getProviders"]),filteredProviders(){return this.search?this.providers.filter(o=>o.bankName.indexOf(this.search)!==-1):this.providers}},mounted(){this.$store.dispatch("loadProviders").then(o=>{this.providers=this.getProviders})},methods:{}},_hoisted_1$2N={class:"slide-up-widget"},_hoisted_2$2I=createBaseVNode("div",{class:"slide-up-widget__header"},[createBaseVNode("img",{src:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="239" height="120" fill="none">%0A  <path%0A    d="M211.439 33.692V63.03h-10.476V42.45h-10.087v20.58H180.4V33.69h31.039z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M158.885 64.079c9.378 0 16.342-5.75 16.342-14.467 0-8.437-5.138-13.915-13.725-13.915-3.963 0-7.233 1.395-9.696 3.802.588-4.975 4.795-8.607 9.427-8.607 1.069 0 9.117-.017 9.117-.017l4.551-8.709s-10.104.23-14.801.23c-10.732.187-17.981 9.942-17.981 21.79 0 13.803 7.07 19.893 16.766 19.893zm.057-20.668c3.482 0 5.896 2.288 5.896 6.2 0 3.521-2.145 6.422-5.896 6.43-3.588 0-6.002-2.688-6.002-6.37 0-3.913 2.414-6.26 6.002-6.26z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M133.592 53.208s-2.474 1.426-6.169 1.696c-4.248.126-8.033-2.557-8.033-7.324 0-4.65 3.34-7.315 7.926-7.315 2.812 0 6.532 1.949 6.532 1.949s2.722-4.995 4.132-7.493c-2.582-1.957-6.021-3.03-10.021-3.03-10.095 0-17.914 6.582-17.914 15.83 0 9.366 7.349 15.795 17.914 15.601 2.953-.11 7.027-1.147 9.51-2.742l-3.877-7.172z"%0A    fill="%23000"%0A  />%0A  <path d="M0 26.12l14.532 25.975v15.844L.017 93.863 0 26.12z" fill="%235B57A2" />%0A  <path%0A    d="M55.797 42.643l13.617-8.346 27.868-.026-41.485 25.414V42.643z"%0A    fill="%23D90751"%0A  />%0A  <path%0A    d="M55.72 25.967l.077 34.39-14.566-8.95V0l14.49 25.967z"%0A    fill="%23FAB718"%0A  />%0A  <path%0A    d="M97.282 34.271l-27.869.026-13.693-8.33L41.231 0l56.05 34.271z"%0A    fill="%23ED6F26"%0A  />%0A  <path%0A    d="M55.797 94.007V77.322l-14.566-8.78.008 51.458 14.558-25.993z"%0A    fill="%2363B22F"%0A  />%0A  <path%0A    d="M69.38 85.737L14.531 52.095 0 26.12l97.223 59.583-27.844.034z"%0A    fill="%231487C9"%0A  />%0A  <path%0A    d="M41.24 120l14.556-25.993 13.583-8.27 27.843-.034L41.24 120z"%0A    fill="%23017F36"%0A  />%0A  <path%0A    d="M.017 93.863l41.333-25.32-13.896-8.526-12.922 7.922L.017 93.863z"%0A    fill="%23984995"%0A  />%0A  <path%0A    d="M119.393 82.775c-.32.408-.741.716-1.246.924a4.282 4.282 0 01-1.632.316 4.63 4.63 0 01-1.633-.274 3.623 3.623 0 01-1.262-.782 3.539 3.539 0 01-.824-1.224 4.173 4.173 0 01-.295-1.589c0-.54.093-1.04.286-1.514.185-.475.454-.882.791-1.224.337-.349.741-.615 1.195-.823.463-.2.968-.308 1.523-.308.598 0 1.153.075 1.658.224.505.15.934.4 1.287.75l-.614 1.04a2.886 2.886 0 00-1.027-.6 3.612 3.612 0 00-1.119-.174c-.336 0-.656.066-.967.191a2.591 2.591 0 00-.825.533 2.438 2.438 0 00-.564.832c-.143.324-.21.682-.21 1.081 0 .408.075.774.218 1.09.144.325.337.6.581.832.244.234.53.408.858.525.329.125.674.183 1.044.183.454 0 .867-.092 1.22-.267a3.05 3.05 0 00.926-.69l.631.948zM121.126 83.84v-7.405h1.33v5.517l4.325-5.517h1.33v7.406h-1.33v-5.517l-4.325 5.517h-1.33zM136.921 82.775a3.01 3.01 0 01-1.245.924 4.291 4.291 0 01-1.633.316 4.628 4.628 0 01-1.632-.274 3.627 3.627 0 01-1.263-.782 3.539 3.539 0 01-.824-1.224 4.173 4.173 0 01-.295-1.589c0-.54.093-1.04.286-1.514.186-.475.455-.882.791-1.224.337-.349.741-.615 1.195-.823a3.637 3.637 0 011.523-.308c.598 0 1.153.075 1.658.224.505.15.934.4 1.288.75l-.615 1.04a2.874 2.874 0 00-1.026-.6 3.616 3.616 0 00-1.119-.174 2.603 2.603 0 00-1.793.724 2.536 2.536 0 00-.564.832c-.143.324-.21.682-.21 1.081 0 .408.076.774.219 1.09.143.325.336.6.58.832.244.234.531.408.859.525.328.116.673.183 1.043.183.455 0 .859-.092 1.22-.267a3.05 3.05 0 00.926-.69l.631.948zM137.603 76.435h6.824v1.315h-2.743v6.09h-1.33v-6.09h-2.743v-1.315h-.008z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M150.638 83.766c.505-.158.934-.4 1.304-.732l-.404-1.032c-.244.217-.572.4-.967.55-.396.15-.842.224-1.33.224-.732 0-1.338-.191-1.818-.582-.479-.392-.74-.94-.799-1.64h5.756c.059-.258.084-.549.084-.89 0-.508-.093-.965-.278-1.381a3.277 3.277 0 00-.74-1.074 3.295 3.295 0 00-1.111-.69 3.692 3.692 0 00-1.355-.25c-.623 0-1.17.108-1.649.308a3.637 3.637 0 00-1.204.824 3.477 3.477 0 00-.748 1.223 4.272 4.272 0 00-.261 1.514c0 .583.101 1.115.286 1.59a3.5 3.5 0 00.808 1.223c.345.34.765.599 1.262.782a4.772 4.772 0 001.658.274 5.04 5.04 0 001.506-.24zm-3.366-5.7c.412-.374.959-.557 1.649-.557.648 0 1.17.175 1.549.525.379.349.58.832.614 1.447h-4.544a2.26 2.26 0 01.732-1.414z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M154.273 76.435h1.212l2.878 3.67 2.726-3.67h1.178v7.406h-1.329v-5.4l-2.592 3.436h-.051l-2.692-3.437v5.4h-1.33v-7.405z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M165.885 76.46a4.187 4.187 0 00-1.144.49l.353 1.05c.303-.15.606-.275.909-.383.303-.109.69-.159 1.153-.159.37 0 .665.059.892.175.227.108.395.275.513.475.118.2.194.449.236.74.042.291.059.607.059.949a2.28 2.28 0 00-.909-.375 5.229 5.229 0 00-.959-.1c-.396 0-.766.059-1.12.158-.353.1-.656.25-.9.45a2.14 2.14 0 00-.589.74 2.3 2.3 0 00-.219 1.007c0 .724.211 1.29.631 1.69.421.399.976.598 1.666.598.623 0 1.12-.108 1.498-.324.379-.217.682-.466.901-.749v.957h1.245v-4.543c0-.966-.21-1.714-.639-2.239-.421-.524-1.17-.79-2.23-.79-.472 0-.918.066-1.347.183zm2.223 6c-.303.216-.699.315-1.187.315-.429 0-.766-.108-1.001-.316-.236-.216-.354-.499-.354-.849 0-.207.042-.382.135-.54.093-.158.219-.283.362-.383a1.6 1.6 0 01.513-.225c.194-.05.387-.075.589-.075.657 0 1.22.158 1.683.491v.94a3.824 3.824 0 01-.74.641zM181.841 73.83c.269-.124.521-.332.757-.64l-.724-1.04c-.185.25-.395.424-.631.516a4.007 4.007 0 01-.774.216l-.252.045c-.219.038-.454.08-.707.122a5.224 5.224 0 00-1.178.366c-.598.258-1.077.607-1.439 1.048-.362.441-.648.94-.842 1.49a7.793 7.793 0 00-.395 1.722c-.068.6-.101 1.173-.101 1.722 0 .708.092 1.348.277 1.922.186.575.446 1.057.791 1.448.345.4.758.7 1.246.916.488.216 1.035.324 1.649.324.564 0 1.086-.108 1.557-.308a3.758 3.758 0 001.212-.823c.336-.342.606-.75.791-1.207.193-.458.286-.949.286-1.465 0-.557-.084-1.064-.244-1.514a3.271 3.271 0 00-.69-1.156 3.072 3.072 0 00-1.103-.75 3.827 3.827 0 00-1.447-.266c-.32 0-.631.042-.934.125a3.604 3.604 0 00-.842.358 3.2 3.2 0 00-.698.54c-.202.209-.37.442-.488.708h-.034c.026-.341.068-.69.143-1.048.076-.358.185-.7.329-1.024.143-.324.328-.616.555-.882a2.52 2.52 0 01.875-.624 4.646 4.646 0 011.153-.374l.264-.048c.263-.048.514-.094.754-.144.32-.066.614-.15.884-.274zm-4.679 7.115a4.146 4.146 0 01-.185-1.298 2.09 2.09 0 01.303-.707c.143-.225.328-.424.547-.6a2.773 2.773 0 011.733-.59c.783 0 1.372.241 1.784.716.413.482.615 1.081.615 1.805 0 .358-.068.683-.185.982a2.36 2.36 0 01-1.279 1.323c-.303.133-.632.2-1.002.2s-.707-.075-1.018-.225a2.34 2.34 0 01-.8-.624 3.129 3.129 0 01-.513-.982zM193.563 76.435h-1.33v7.406h1.33v-7.406zm-8.281 0h1.33v2.222h1.229c.58 0 1.051.075 1.43.216.379.142.682.333.909.566.227.233.387.508.48.815.092.308.143.624.143.957 0 .333-.051.65-.16.966-.101.316-.278.59-.514.84-.235.25-.555.45-.959.6-.404.149-.892.232-1.481.232h-2.415v-7.414h.008zm1.33 3.461v2.713h.968c.665 0 1.136-.116 1.405-.35.27-.233.404-.565.404-1.006 0-.45-.143-.79-.412-1.024-.278-.233-.741-.35-1.38-.35h-.985v.017z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M202.357 82.775c-.32.408-.741.716-1.246.924a4.286 4.286 0 01-1.632.316 4.63 4.63 0 01-1.633-.274 3.613 3.613 0 01-1.262-.782 3.555 3.555 0 01-.825-1.224 4.192 4.192 0 01-.294-1.589c0-.54.092-1.04.286-1.514.185-.475.454-.882.791-1.224.337-.349.74-.615 1.195-.823a3.634 3.634 0 011.523-.308c.597 0 1.153.075 1.658.224.505.15.934.4 1.287.75l-.614 1.04a2.886 2.886 0 00-1.027-.6 3.612 3.612 0 00-1.119-.174c-.336 0-.656.066-.968.191a2.587 2.587 0 00-.824.533 2.52 2.52 0 00-.564.832c-.143.324-.21.682-.21 1.081 0 .408.075.774.218 1.09.143.325.337.6.581.832.244.234.53.408.858.525.329.116.674.183 1.044.183.454 0 .858-.092 1.22-.267a3.05 3.05 0 00.926-.69l.631.948zM203.038 76.435h6.825v1.315h-2.744v6.09h-1.329v-6.09h-2.743v-1.315h-.009z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M212.64 76.436h-1.33v10.7h1.33V83.5c.269.175.589.3.959.383.37.083.757.124 1.153.124.589 0 1.119-.108 1.599-.307a3.825 3.825 0 001.228-.84c.345-.359.606-.775.791-1.266.185-.49.278-1.015.278-1.572 0-.55-.084-1.057-.244-1.515a3.524 3.524 0 00-.69-1.181 2.996 2.996 0 00-1.086-.774 3.49 3.49 0 00-1.439-.283c-.521 0-1.009.1-1.472.3-.463.2-.825.44-1.077.74v-.873zm.926 1.373c.379-.2.791-.3 1.237-.3.387 0 .732.058 1.044.183.303.125.555.3.766.533.21.233.37.5.471.815.109.316.16.658.16 1.032 0 .4-.068.757-.185 1.09a2.4 2.4 0 01-.514.849 2.36 2.36 0 01-.816.557 2.685 2.685 0 01-1.086.208c-.361 0-.698-.041-1.018-.124a3.328 3.328 0 01-.984-.45v-3.67c.235-.282.547-.523.925-.723zM228.847 76.435h-1.33v7.406h1.33v-7.406zm-8.289 0h1.33v2.222h1.228c.581 0 1.052.075 1.431.216.379.142.682.333.909.566.227.233.387.508.479.815.093.308.143.624.143.957 0 .333-.05.65-.159.966-.101.316-.278.59-.514.84-.235.25-.555.45-.959.6-.404.149-.892.232-1.481.232h-2.415v-7.414h.008zm1.339 3.461v2.713h.968c.664 0 1.136-.116 1.405-.35.269-.233.404-.565.404-1.006 0-.45-.143-.79-.412-1.024-.278-.233-.741-.35-1.38-.35h-.985v.017z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M235.226 80.005l2.844 3.836h-1.632l-2.197-2.996-2.23 2.996h-1.548l2.827-3.77-2.659-3.636h1.633l2.028 2.796 2.061-2.796h1.549l-2.676 3.57zM118.409 92.994h-4.081v6.174h-1.33v-7.405h6.74v7.405h-1.329v-6.174zM127.286 93.077h-2.625l-.085 1.248c-.092 1.057-.218 1.906-.395 2.554-.177.65-.396 1.149-.648 1.498-.252.35-.547.591-.884.708a3.06 3.06 0 01-1.085.183l-.101-1.282c.143.008.311-.025.496-.108.186-.083.371-.266.547-.54.177-.284.337-.683.48-1.199.143-.524.236-1.206.286-2.064l.135-2.305h5.209v7.406h-1.33v-6.1z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M132.201 91.78c-.43.116-.817.282-1.145.49l.354 1.049c.303-.15.606-.275.908-.383.303-.108.691-.158 1.153-.158.371 0 .665.058.892.174.228.109.396.275.514.475.117.2.193.45.235.74.042.292.059.608.059.949a2.277 2.277 0 00-.909-.374 5.22 5.22 0 00-.959-.1c-.395 0-.766.058-1.119.158-.354.1-.657.25-.901.45a2.14 2.14 0 00-.589.74 2.3 2.3 0 00-.218 1.007c0 .723.21 1.29.631 1.689.42.399.976.599 1.666.599.623 0 1.119-.108 1.498-.325.378-.216.681-.466.9-.749v.957h1.246v-4.543c0-.965-.211-1.714-.64-2.238-.421-.525-1.17-.79-2.23-.79a5.1 5.1 0 00-1.346.182zm2.23 5.998c-.302.217-.698.317-1.186.317-.438 0-.766-.108-1.001-.317-.236-.216-.354-.499-.354-.848 0-.208.042-.383.135-.541.092-.158.219-.283.362-.383.143-.1.319-.175.513-.225a2.33 2.33 0 01.589-.074c.656 0 1.22.158 1.683.49v.94a3.83 3.83 0 01-.741.641z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M137.72 91.763h6.825v1.314h-2.744v6.091h-1.329v-6.09h-2.743v-1.315h-.009z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M150.756 99.093c.505-.158.934-.4 1.304-.732l-.404-1.032c-.244.217-.572.4-.968.55-.395.15-.841.224-1.329.224-.732 0-1.338-.191-1.818-.582-.48-.391-.74-.94-.799-1.64h5.756c.058-.257.084-.549.084-.89 0-.507-.093-.965-.278-1.381a3.264 3.264 0 00-.741-1.073 3.28 3.28 0 00-1.11-.691 3.696 3.696 0 00-1.355-.25c-.623 0-1.17.108-1.649.308a3.618 3.618 0 00-1.204.824 3.494 3.494 0 00-.749 1.223 4.294 4.294 0 00-.261 1.514c0 .583.101 1.115.286 1.59.186.474.463.882.808 1.223.345.341.766.599 1.263.782a4.766 4.766 0 001.657.275c.497 0 1.002-.084 1.507-.242zm-3.374-5.708c.412-.374.959-.557 1.649-.557.657 0 1.17.183 1.549.524.378.35.58.832.614 1.448h-4.544a2.26 2.26 0 01.732-1.415zM153.23 91.763h1.683l2.566 3.57-2.743 3.835h-1.632l2.877-3.836-2.751-3.57zm4.577 0h1.33v7.405h-1.33v-7.405zm6.084 7.405l-2.928-3.836 2.735-3.57h-1.65l-2.583 3.57 2.777 3.836h1.649zM169.967 99.093c.505-.158.934-.4 1.304-.732l-.404-1.032c-.244.217-.572.4-.967.55-.396.15-.842.224-1.33.224-.732 0-1.338-.191-1.818-.582-.479-.391-.74-.94-.799-1.64h5.756c.059-.257.084-.549.084-.89 0-.507-.092-.965-.278-1.381a3.276 3.276 0 00-.74-1.073 3.284 3.284 0 00-1.111-.691 3.692 3.692 0 00-1.355-.25c-.622 0-1.169.108-1.649.308a3.624 3.624 0 00-1.203.824 3.465 3.465 0 00-.749 1.223 4.272 4.272 0 00-.261 1.514c0 .583.101 1.115.286 1.59.185.474.463.882.808 1.223.345.341.765.599 1.262.782a4.772 4.772 0 001.658.275 5.04 5.04 0 001.506-.242zm-3.374-5.708c.413-.374.96-.557 1.65-.557.648 0 1.169.183 1.548.524.379.35.581.832.614 1.448h-4.544a2.26 2.26 0 01.732-1.415zM177.188 89.275c-.783 0-1.212-.433-1.279-1.298h-1.254c0 .332.059.632.168.915.11.283.27.524.48.724.21.2.48.358.791.482.311.125.673.183 1.085.183.379 0 .716-.058 1.019-.183.303-.116.555-.282.774-.482.21-.2.379-.441.496-.724.118-.283.177-.583.177-.915H178.4c-.059.865-.472 1.298-1.212 1.298zm-3.594 2.487v7.406h1.33l4.325-5.517v5.517h1.33v-7.406h-1.33l-4.325 5.517v-5.517h-1.33z"%0A    fill="%23000"%0A  />%0A</svg>%0A',class:"slide-up-widget__header-image"}),createBaseVNode("div",{class:"slide-up-widget__header-text"},"Выберите банк для подтверждения оплаты")],-1),_hoisted_3$2B=["href"],_hoisted_4$2s=["src"],_hoisted_5$2p={class:"slide-up-widget__bank-title"};function _sfc_render$S(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$2N,[_hoisted_2$2I,withDirectives(createBaseVNode("input",{placeholder:"Введите название банка","onUpdate:modelValue":t[0]||(t[0]=r=>a.search=r),class:"slide-up-widget__input"},null,512),[[vModelText,a.search]]),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredProviders,r=>(openBlock(),createElementBlock("a",{class:"slide-up-widget__bank",href:"https://qr.nspk.ru/AS100001ORTF4GAF80KPJ53K186D9A3G?type=01&bank="+r.schema.substring(4)+"&crc=0C8A&sum=1000&cur=RUB"},[createBaseVNode("img",{class:"slide-up-widget__bank-logo",src:r.logoURL},null,8,_hoisted_4$2s),createBaseVNode("div",_hoisted_5$2p,toDisplayString(r.bankName),1)],8,_hoisted_3$2B))),256))])}const PaymentSBP=_export_sfc(_sfc_main$2S,[["render",_sfc_render$S]]),PaymentSBP$1=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentSBP},Symbol.toStringTag,{value:"Module"})),Promocode_vue_vue_type_style_index_0_lang="",_hoisted_1$2M={class:"card card-style"},_hoisted_2$2H={class:"content"},_hoisted_3$2A=createBaseVNode("p",{class:"text-center font-weight-bold mb-0"},"Приветствуем!",-1),_hoisted_4$2r=createBaseVNode("p",{class:"text-center font-italic"}," У вас есть промокод? Отлично! Активируйте его прямо сейчас и наслаждайтесь эксклюзивными преимуществами! ",-1),_hoisted_5$2o={class:"input-style input-style-2 has-icon"},_hoisted_6$2m=createBaseVNode("i",{class:"input-icon fa-solid fa-terminal"},null,-1),_hoisted_7$2j=["disabled"],_hoisted_8$2c={key:0,class:"color-white"},_hoisted_9$28={key:1,class:"color-white"},__default__$1X={name:"App",data(){return{spent_time_counter:0,is_requested:!1,promocodeForm:{code:null}}},mounted(){localStorage.getItem("cashman_promocode_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_promocode_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_promocode_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.$store.dispatch("activatePromocode",{promocodeForm:this.promocodeForm}).then(o=>{this.$notify({title:"Промокод",text:"Промокод успешно активирован!",type:"success"}),this.promocodeForm.code=null}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка активации промокода!",type:"error"})})}}},_sfc_main$2R=Object.assign(__default__$1X,{setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2M,[createBaseVNode("div",_hoisted_2$2H,[_hoisted_3$2A,_hoisted_4$2r,createBaseVNode("form",{onSubmit:s[1]||(s[1]=withModifiers((...i)=>t.submit&&t.submit(...i),["prevent"]))},[createBaseVNode("div",_hoisted_5$2o,[_hoisted_6$2m,withDirectives(createBaseVNode("input",{class:"form-control",type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.promocodeForm.code=i),placeholder:"Ваш промокод",required:""},null,512),[[vModelText,t.promocodeForm.code]])]),createBaseVNode("button",{type:"submit",disabled:t.spent_time_counter>0,class:"btn btn-full btn-sm rounded-l bg-highlight font-800 text-uppercase w-100 mb-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_8$2c,"Активировать промокод")):(openBlock(),createElementBlock("span",_hoisted_9$28,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_7$2j)],32)])]))}}),Promocode=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2R},Symbol.toStringTag,{value:"Module"})),FriendsGame_vue_vue_type_style_index_0_lang$1="",_hoisted_1$2L={class:"card card-style"},_hoisted_2$2G={class:"content d-flex justify-content-center flex-wrap"},_hoisted_3$2z={class:"img-avatar"},_hoisted_4$2q=["innerHTML"],_hoisted_5$2n={key:0,class:"content"},_hoisted_6$2l={class:"text-center mb-2"},_hoisted_7$2i={class:"text-center mb-2"},_hoisted_8$2b={class:"mb-2 text-primary-emphasis"},_hoisted_9$27={class:"progress w-100",style:{height:"40px","border-radius":"25px"},role:"progressbar","aria-label":"Basic example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},_hoisted_10$20=createBaseVNode("p",{class:"my-2"},"Когда полоска вашего прогресса достигнет 100% вы сможете получить свои бонусы!",-1),_hoisted_11$1V={class:"content"},_hoisted_12$1S={key:1},_hoisted_13$1L={key:2},_hoisted_14$1F=["disabled"],__default__$1W={name:"App",data(){return{action:null,settings:{image:null,rules:null},friendsForm:{friends_invite:0,current_friends:0,needed_friends:0,friends_on_start:0,start_at:null,complete_at:null}}},computed:{currentBot(){return window.currentBot},progress(){let o=this.friendsForm.needed_friends||0,t=this.friendsForm.current_friends||0,s=this.friendsForm.friends_on_start||0;return(t-s)/(o-s)*100}},mounted(){this.prepareUserData()},methods:{start(){this.$store.dispatch("friendsGameStart").then(o=>{this.prepareUserData(),this.$botNotification.success("Отлично!","Игра началась! Поехали приглашать друзей")}).catch(()=>{this.$botNotification.warning("Упс...!","Игра почему-то не началась...")})},complete(){this.$store.dispatch("friendsGameFinish").then(o=>{this.prepareUserData(),this.$botNotification.success("Отлично!","Спасибо за участие в задании, скоро вы получите свои бонусы!")}).catch(()=>{this.$botNotification.warning("Упс...!","Мы не можем закончить это задание...")})},lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("friendsGamePrepare").then(o=>{this.action=o.action,this.settings.rules=o.rules||null,this.settings.image=o.image||null,this.action.data&&(this.friendsForm.current_friends=this.action.data.current_friends||0,this.friendsForm.needed_friends=this.action.data.needed_friends||0,this.friendsForm.friends_invite=this.action.data.friends_invite||0,this.friendsForm.friends_on_start=this.action.data.friends_on_start||0,this.friendsForm.start_at=this.action.data.start_at||null,this.friendsForm.complete_at=this.action.data.complete_at||null)})}}},_sfc_main$2Q=Object.assign(__default__$1W,{setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$2L,[createBaseVNode("div",_hoisted_2$2G,[createBaseVNode("div",_hoisted_3$2z,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+t.currentBot.id+"/"+t.currentBot.image]])]),createBaseVNode("p",null,[createTextVNode(" Перед началом квеста нажмите кнопку «Начать». Затем перейдите в главное меню Бота и нажмите кнопку «Пригласить Друзей/Подруг». Там вы найдете свою реферальную ссылку, которую легко можно отправить тем, кого хотели бы пригласить в наш Бот. Для выполнения квеста нужно пригласить "),createBaseVNode("strong",null,toDisplayString((t.friendsForm.needed_friends||0)-(t.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей/подруг , которые активируют нашего бота по вашей реферальной ссылке. ")]),t.settings.rules?(openBlock(),createElementBlock("p",{key:0,innerHTML:t.settings.rules},null,8,_hoisted_4$2q)):createCommentVNode("",!0)]),t.friendsForm.start_at!=null?(openBlock(),createElementBlock("div",_hoisted_5$2n,[createBaseVNode("p",_hoisted_6$2l,[createTextVNode("У вас сейчас "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.friends_invite||0),1),createTextVNode(" / "),createBaseVNode("strong",null,toDisplayString((t.friendsForm.needed_friends||0)-(t.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_7$2i,[createTextVNode("По заданию приглашено "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.friends_invite||0),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_8$2b,[createTextVNode("Текущий прогресс "),createBaseVNode("strong",null,toDisplayString(t.progress)+"%",1)]),createBaseVNode("div",_hoisted_9$27,[createBaseVNode("div",{class:"progress-bar bg-success progress-bar-striped",style:normalizeStyle({width:t.progress+"%"})},toDisplayString(t.progress.toFixed(2))+"% ",5)]),_hoisted_10$20])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11$1V,[t.friendsForm.complete_at==null&&t.friendsForm.start_at==null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-m btn-full my-3 rounded-xl text-uppercase font-900 shadow-s bg-green2-dark w-100",onClick:s[0]||(s[0]=(...a)=>t.start&&t.start(...a))},"Приступить к заданию")):createCommentVNode("",!0),t.friendsForm.start_at!=null?(openBlock(),createElementBlock("p",_hoisted_12$1S,[createTextVNode("Задание начато "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.start_at),1)])):createCommentVNode("",!0),t.friendsForm.complete_at!=null?(openBlock(),createElementBlock("p",_hoisted_13$1L,[createTextVNode("Задание завершено "),createBaseVNode("strong",null,toDisplayString(t.friendsForm.complete_at),1)])):createCommentVNode("",!0),t.friendsForm.start_at!=null?(openBlock(),createElementBlock("button",{key:3,type:"button",onClick:s[1]||(s[1]=(...a)=>t.complete&&t.complete(...a)),disabled:t.progress<100||t.friendsForm.complete_at!=null||t.friendsForm.start_at==null,class:"btn btn-m btn-full my-3 rounded-xl text-uppercase font-900 shadow-s bg-green2-dark w-100"},"Получить награды",8,_hoisted_14$1F)):createCommentVNode("",!0),createVNode(ReturnToBot)])])}}}),FriendsGame$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2Q},Symbol.toStringTag,{value:"Module"})),SushiCalc_vue_vue_type_style_index_0_lang="",_sfc_main$2P={data(){return{timer:null,message:"",roll_coating:77,summary_count:0,summary_weight:0,summary_price:0,price:0,weight:0,fillings:[]}},watch:{roll_coating:function(o,t){t&&this.removeItem(t),o&&this.addItem(o)},summary_count:function(o){this.summary_price=this.price*this.summary_count,this.summary_weight=this.weight*this.summary_count},fillings:function(o){console.log(this.fillings.length)},products:function(o,t){return o}},computed:{...mapGetters(["getIngredientsFilling","getIngredientsCategory","getAllFillings"]),products(){return this.$store.getters.cartProducts}},mounted(){},methods:{addToCart(){},clearCalc(){},decrementSummary(){},incrementSummary(){},hasManyItems(o){return this.getAllFillings.filter(t=>t===o).length},removeItem(o){},addItem(o){},getCategory(o){return this.getIngredientsCategory(o)},getFilling(o){return this.getIngredientsFilling(o)},sendMessage(o){}}},_hoisted_1$2K={class:"card card-style"},_hoisted_2$2F={class:"content"},_hoisted_3$2y=createBaseVNode("h1",{class:"text-center mt-4 mb-4"},"Собираем вкусный ролл",-1),_hoisted_4$2p=createBaseVNode("h2",{class:"text-center"},[createBaseVNode("mark",null,"Выбираем покрытие ролла")],-1),_hoisted_5$2m={class:"my-4"},_hoisted_6$2k={class:"container-wrapper"},_hoisted_7$2h={class:"container"},_hoisted_8$2a={class:"badge badge-weight"},_hoisted_9$26={class:"badge"},_hoisted_10$1$=["disabled","value"],_hoisted_11$1U=["disabled","value"],_hoisted_12$1R=createBaseVNode("span",{class:"checkmark"},null,-1),_hoisted_13$1K={class:"my-4"},_hoisted_14$1E={class:"container-wrapper"},_hoisted_15$1B={class:"w-100 font-14"},_hoisted_16$1A={class:"badge badge-weight"},_hoisted_17$1s={class:"badge"},_hoisted_18$1r=["disabled","value"],_hoisted_19$1o=["disabled","value"],_hoisted_20$1m=createBaseVNode("span",{class:"checkmark"},null,-1),_hoisted_21$1k=createBaseVNode("h2",{class:"text-center"},[createBaseVNode("mark",null,"А теперь выбираем начинку ролла...")],-1),_hoisted_22$1i={class:"row mt-4"},_hoisted_23$1d={class:"col-12 col-sm-12 col-md-6"},_hoisted_24$1a={class:"container-wrapper"},_hoisted_25$17={class:"container"},_hoisted_26$12={class:"badge badge-weight"},_hoisted_27$10={class:"badge"},_hoisted_28$$=["disabled","value"],_hoisted_29$X=["value","disabled"],_hoisted_30$W=createBaseVNode("span",{class:"checkmark"},null,-1),_hoisted_31$W={key:0},_hoisted_32$V={key:0,class:"counter-wrapper"},_hoisted_33$V={class:"counter"},_hoisted_34$U=["onClick"],_hoisted_35$U=["onClick"],_hoisted_36$S=createBaseVNode("hr",null,null,-1),_hoisted_37$Q={class:"text-center mb-4"},_hoisted_38$M={class:"row d-flex justify-content-center result"},_hoisted_39$N={class:"col-12 col-sm-12 col-md-6 col-lg-4"},_hoisted_40$K=createBaseVNode("h3",{class:"text-center"},"Сколько таких роллов сделать?",-1),_hoisted_41$K={class:"summary"},_hoisted_42$K=createBaseVNode("i",{class:"fa-solid fa-minus font-16 p-3"},null,-1),_hoisted_43$K=[_hoisted_42$K],_hoisted_44$J=createBaseVNode("i",{class:"fa-solid fa-plus font-16 p-3"},null,-1),_hoisted_45$I=[_hoisted_44$J],_hoisted_46$I=createBaseVNode("hr",null,null,-1),_hoisted_47$H={class:"d-flex justify-content-center"},_hoisted_48$G={key:0,class:"text-center mt-4"},_hoisted_49$D={class:"text-white"},_hoisted_50$A={class:"d-flex justify-content-center flex-wrap mt-4"},_hoisted_51$A={class:"col-12 col-sm-6 col-md-6 d-flex justify-content-center"},_hoisted_52$A=["disabled"],_hoisted_53$y={class:"col-12 col-sm-6 col-md-6 d-flex justify-content-center"};function _sfc_render$R(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$2K,[createBaseVNode("div",_hoisted_2$2F,[_hoisted_3$2y,_hoisted_4$2p,createBaseVNode("div",_hoisted_5$2m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.getFilling(11),r=>(openBlock(),createElementBlock("div",_hoisted_6$2k,[createBaseVNode("label",_hoisted_7$2h,[createTextVNode(toDisplayString(r.title),1),createBaseVNode("span",_hoisted_8$2a,toDisplayString(r.weight)+" гр.",1),createBaseVNode("span",_hoisted_9$26,toDisplayString(r.price|o.currency),1),r.checked?withDirectives((openBlock(),createElementBlock("input",{key:0,checked:"checked",type:"checkbox",disabled:r.disabled||n.hasManyItems(r.id)>1,"onUpdate:modelValue":t[0]||(t[0]=l=>a.fillings=l),value:r.id},null,8,_hoisted_10$1$)),[[vModelCheckbox,a.fillings]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"checkbox",disabled:r.disabled||n.hasManyItems(r.id)>1,"onUpdate:modelValue":t[1]||(t[1]=l=>o.pizza_base=l),value:r.id},null,8,_hoisted_11$1U)),[[vModelCheckbox,o.pizza_base]]),_hoisted_12$1R])]))),256))]),createBaseVNode("div",_hoisted_13$1K,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.getFilling(9),r=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_14$1E,[createBaseVNode("label",_hoisted_15$1B,[createTextVNode(toDisplayString(r.title),1),createBaseVNode("span",_hoisted_16$1A,toDisplayString(r.weight)+" гр.",1),createBaseVNode("span",_hoisted_17$1s,toDisplayString(r.price|o.currency),1),r.checked?withDirectives((openBlock(),createElementBlock("input",{key:0,checked:"checked",type:"radio",name:"roll_coating",disabled:r.disabled||n.hasManyItems(r.id)>1,"onUpdate:modelValue":t[2]||(t[2]=l=>a.roll_coating=l),value:r.id},null,8,_hoisted_18$1r)),[[vModelRadio,a.roll_coating]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"radio",name:"roll_coating",disabled:r.disabled||n.hasManyItems(r.id)>1,"onUpdate:modelValue":t[3]||(t[3]=l=>a.roll_coating=l),value:r.id},null,8,_hoisted_19$1o)),[[vModelRadio,a.roll_coating]]),_hoisted_20$1m])])]))),256))]),_hoisted_21$1k,createBaseVNode("div",_hoisted_22$1i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.getFilling(10),r=>(openBlock(),createElementBlock("div",_hoisted_23$1d,[createBaseVNode("div",_hoisted_24$1a,[createBaseVNode("label",_hoisted_25$17,[createTextVNode(toDisplayString(r.title),1),createBaseVNode("span",_hoisted_26$12,toDisplayString(r.weight)+" гр.",1),createBaseVNode("span",_hoisted_27$10,toDisplayString(r.price|o.currency),1),r.checked?withDirectives((openBlock(),createElementBlock("input",{key:0,checked:"checked",type:"checkbox",name:"filling",disabled:r.disabled||n.hasManyItems(r.id)>1||a.fillings.length>=6&&a.fillings.indexOf(r.id)===-1,"onUpdate:modelValue":t[4]||(t[4]=l=>a.fillings=l),value:r.id},null,8,_hoisted_28$$)),[[vModelCheckbox,a.fillings]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"checkbox",name:"filling",value:r.id,disabled:r.disabled||n.hasManyItems(r.id)>1||a.fillings.length>=6&&a.fillings.indexOf(r.id)===-1,"onUpdate:modelValue":t[5]||(t[5]=l=>a.fillings=l)},null,8,_hoisted_29$X)),[[vModelCheckbox,a.fillings]]),_hoisted_30$W]),r.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_31$W,[n.hasManyItems(r.id)>0?(openBlock(),createElementBlock("div",_hoisted_32$V,[createBaseVNode("div",_hoisted_33$V,[createBaseVNode("button",{class:"btn btn-counter",onClick:l=>n.removeItem(r.id)},"-",8,_hoisted_34$U),createBaseVNode("p",null,toDisplayString(n.hasManyItems(r.id)),1),createBaseVNode("button",{class:"btn btn-counter",onClick:l=>n.addItem(r.id)},"+",8,_hoisted_35$U)])])):createCommentVNode("",!0)]))])]))),256))]),_hoisted_36$S,createBaseVNode("p",_hoisted_37$Q,[createBaseVNode("em",null,[createBaseVNode("strong",null,[createTextVNode("Цена указана за 1 порцию роллов (вы заказали "),createBaseVNode("mark",null,toDisplayString(a.summary_count),1),createTextVNode(" порций). Порция включает в себя 8 штук роллов общей массой "),createBaseVNode("mark",null,toDisplayString(a.weight),1),createTextVNode(" грамм.")])])]),createBaseVNode("div",_hoisted_38$M,[createBaseVNode("div",_hoisted_39$N,[_hoisted_40$K,createBaseVNode("div",_hoisted_41$K,[createBaseVNode("button",{class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark",onClick:t[6]||(t[6]=(...r)=>n.decrementSummary&&n.decrementSummary(...r))},_hoisted_43$K),createBaseVNode("p",null,toDisplayString(a.summary_count),1),createBaseVNode("button",{class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark",onClick:t[7]||(t[7]=(...r)=>n.incrementSummary&&n.incrementSummary(...r))},_hoisted_45$I)]),_hoisted_46$I,createBaseVNode("div",_hoisted_47$H,[createBaseVNode("ul",null,[createBaseVNode("li",null,[createTextVNode("Вес: "),createBaseVNode("strong",null,toDisplayString(a.summary_weight)+" грамм",1)]),createBaseVNode("li",null,[createTextVNode("Цена: "),createBaseVNode("strong",null,toDisplayString(a.summary_price)+" руб",1)])])]),a.message.length>0?(openBlock(),createElementBlock("p",_hoisted_48$G,[createBaseVNode("mark",_hoisted_49$D,toDisplayString(a.message),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_50$A,[createBaseVNode("div",_hoisted_51$A,[createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100",disabled:a.summary_count===0,onClick:t[8]||(t[8]=(...r)=>n.addToCart&&n.addToCart(...r))}," В корзину ",8,_hoisted_52$A)]),createBaseVNode("div",_hoisted_53$y,[createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100",onClick:t[9]||(t[9]=(...r)=>n.clearCalc&&n.clearCalc(...r))}," Очистить ")])])])])])])}const SushiCalc=_export_sfc(_sfc_main$2P,[["render",_sfc_render$R]]),_sfc_main$2O={__name:"FoodConstructors",setup(o){return(t,s)=>(openBlock(),createBlock(SushiCalc))}},FoodConstructors=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2O},Symbol.toStringTag,{value:"Module"})),_sfc_main$2N={},_hoisted_1$2J=createStaticVNode('<div class="card card-style"><div class="content"><h2 class="">1. Terms</h2><p> By accessing this web site, you are agreeing to be bound by these web site Terms and Conditions of Use, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site. The materials contained in this web site are protected by applicable copyright and trade mark law. </p><h4 class="">2. Use License</h4><ol type="a"><li> Permission is granted to temporarily download one copy of the materials (information or software) on Dummy Company&#39;s web site for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not: <ol type="i"><li>modify or copy the materials;</li><li>use the materials for any commercial purpose, or for any public display (commercial or non-commercial);</li><li>attempt to decompile or reverse engineer any software contained on Dummy Company&#39;s web site;</li><li>remove any copyright or other proprietary notations from the materials; or</li><li>transfer the materials to another person or &quot;mirror&quot; the materials on any other server.</li></ol></li><li> This license shall automatically terminate if you violate any of these restrictions and may be terminated by Dummy Company at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format. </li></ol><h4 class="">3. Disclaimer</h4><ol type="a"><li>The materials on Dummy Company&#39;s web site are provided &quot;as is&quot;. Dummy Company makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties, including without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, Dummy Company does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its Internet web site or otherwise relating to such materials or on any sites linked to this site.</li></ol><h4 class="">4. Limitations</h4><p>In no event shall Dummy Company or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption,) arising out of the use or inability to use the materials on Dummy Company&#39;s Internet site, even if Dummy Company or a Dummy Company authorized representative has been notified orally or in writing of the possibility of such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.</p><h4 class="">5. Revisions and Errata</h4><p>The materials appearing on Dummy Company&#39;s web site could include technical, typographical, or photographic errors. Dummy Company does not warrant that any of the materials on its web site are accurate, complete, or current. Dummy Company may make changes to the materials contained on its web site at any time without notice. Dummy Company does not, however, make any commitment to update the materials.</p><h4 class="">6. Links</h4><p>Dummy Company has not reviewed all of the sites linked to its Internet web site and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by Dummy Company of the site. Use of any such linked web site is at the user&#39;s own risk.</p><h4 class="">7. Site Terms of Use Modifications</h4><p>Dummy Company may revise these terms of use for its web site at any time without notice. By using this web site you are agreeing to be bound by the then current version of these Terms and Conditions of Use.</p><h4 class="">8. Governing Law</h4><p class="">Any claim relating to Dummy Company&#39;s web site shall be governed by the laws of the State of Mars, Solar System without regard to its conflict of law provisions.</p></div></div><div class="card card-style"><div class="content"><h2 class="bolder bottom-15">Privacy Policy</h2><p>Your privacy is very important to us. Accordingly, we have developed this Policy in order for you to understand how we collect, use, communicate and disclose and make use of personal information. The following outlines our privacy policy.</p><ul><li>Before or at the time of collecting personal information, we will identify the purposes for which information is being collected.</li><li>We will collect and use of personal information solely with the objective of fulfilling those purposes specified by us and for other compatible purposes, unless we obtain the consent of the individual concerned or as required by law. </li><li>We will only retain personal information as long as necessary for the fulfillment of those purposes. </li><li>We will collect personal information by lawful and fair means and, where appropriate, with the knowledge or consent of the individual concerned. </li><li>Personal data should be relevant to the purposes for which it is to be used, and, to the extent necessary for those purposes, should be accurate, complete, and up-to-date. </li><li>We will protect personal information by reasonable security safeguards against loss or theft, as well as unauthorized access, disclosure, copying, use or modification.</li><li>We will make readily available to customers information about our policies and practices relating to the management of personal information. </li></ul><p>We are committed to conducting our business in accordance with these principles in order to ensure that the confidentiality of personal information is protected and maintained. </p><p class="uppercase bg-red2-dark p-2 text-center color-white rounded-s text-uppercase font-900 shadow-xl pb-0 mb-0">Please note - This is dummy text</p></div></div>',2);function _sfc_render$Q(o,t){return _hoisted_1$2J}const Terms=_export_sfc(_sfc_main$2N,[["render",_sfc_render$Q]]),Terms$1=Object.freeze(Object.defineProperty({__proto__:null,default:Terms},Symbol.toStringTag,{value:"Module"})),_sfc_main$2M={},_hoisted_1$2I=createStaticVNode('<div class="card card-style"><div class="content"><div class="d-flex"><div><img src="images/avatars/2s.png" width="50" class="mr-3 bg-highlight rounded-xl"></div><div><h2 class="mb-0 pt-1">John Doe</h2><p class="color-highlight text-uppercase font-11 mt-n1 mb-3">Company Manager</p></div></div><p> We care about all our customers and we give 150% attention to detail for perfect quality. </p></div></div><div class="card card-style"><div class="content"><div class="user-slider owl-carousel owl-loaded owl-drag"><div class="owl-stage-outer"><div class="owl-stage" style="transform:translate3d(0px, 0px, 0px);transition:all 0s ease 0s;width:667px;"><div class="owl-item active" style="width:313.2px;margin-right:20px;"><div class="user-left"><div class="d-flex"><div><img src="images/avatars/1s.png" class="mr-3 rounded-circle shadow-l bg-red2-dark" width="50"></div><div><h5 class="mt-1 mb-0">Johnatan Doe</h5><p class="font-10 mt-n1 color-red2-dark">Executive Officer</p></div><div class="ml-auto"><span class="next-slide-user badge bg-red2-dark mt-2 p-2 font-8">TAP FOR MORE</span></div></div></div></div><div class="owl-item" style="width:313.2px;margin-right:20px;"><div class="user-right"><div class="d-flex"><div><h5 class="mt-1 mb-0">Johnatan Doe</h5><p class="font-10 mt-n1 color-red2-dark">Executive Officer</p></div><div class="ml-auto"><a href="#" class="icon icon-xs rounded-circle shadow-l bg-phone"><i class="fa fa-phone"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-facebook mr-2 ml-2"><i class="fab fa-facebook-f"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-twitter"><i class="fab fa-twitter"></i></a></div></div></div></div></div></div><div class="owl-nav disabled"><div class="owl-prev"><i class="fa fa-angle-left"></i></div><div class="owl-next"><i class="fa fa-angle-right"></i></div></div><div class="owl-dots disabled"></div></div><div class="divider mt-3"></div><div class="user-slider owl-carousel owl-loaded owl-drag"><div class="owl-stage-outer"><div class="owl-stage" style="transform:translate3d(0px, 0px, 0px);transition:all 0s ease 0s;width:667px;"><div class="owl-item active" style="width:313.2px;margin-right:20px;"><div class="user-left"><div class="d-flex"><div><img src="images/avatars/2s.png" class="bg-green1-dark mr-3 rounded-circle shadow-l" width="50"></div><div><h5 class="mt-1 mb-0">Alexander Mac</h5><p class="font-10 mt-n1 color-green1-dark">Support Team Manager</p></div><div class="ml-auto"><span class="next-slide-user badge bg-green1-dark mt-2 p-2 font-8">TAP FOR MORE</span></div></div></div></div><div class="owl-item" style="width:313.2px;margin-right:20px;"><div class="user-right"><div class="d-flex"><div><h5 class="mt-1 mb-0">Alexander Mac</h5><p class="font-10 mt-n1 color-green1-dark">Support Team Manager</p></div><div class="ml-auto"><a href="#" class="icon icon-xs rounded-circle shadow-l bg-phone"><i class="fa fa-phone"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-facebook mr-2 ml-2"><i class="fab fa-facebook-f"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-twitter"><i class="fab fa-twitter"></i></a></div></div></div></div></div></div><div class="owl-nav disabled"><div class="owl-prev"><i class="fa fa-angle-left"></i></div><div class="owl-next"><i class="fa fa-angle-right"></i></div></div><div class="owl-dots disabled"></div></div><div class="divider mt-3"></div><div class="user-slider owl-carousel owl-loaded owl-drag"><div class="owl-stage-outer"><div class="owl-stage" style="transform:translate3d(0px, 0px, 0px);transition:all 0s ease 0s;width:667px;"><div class="owl-item active" style="width:313.2px;margin-right:20px;"><div class="user-left"><div class="d-flex"><div><img src="images/avatars/5s.png" class="bg-yellow1-dark mr-3 rounded-circle shadow-l" width="50"></div><div><h5 class="mt-1 mb-0">Johnatan Unixer</h5><p class="font-10 mt-n1 color-blue2-dark">Executive Officer</p></div><div class="ml-auto"><span class="next-slide-user badge bg-blue2-dark mt-2 p-2 font-8">TAP FOR MORE</span></div></div></div></div><div class="owl-item" style="width:313.2px;margin-right:20px;"><div class="user-right"><div class="d-flex"><div><h5 class="mt-1 mb-0">Johnatan Doe</h5><p class="font-10 mt-n1 color-blue2-dark">Executive Officer</p></div><div class="ml-auto"><a href="#" class="icon icon-xs rounded-circle shadow-l bg-phone"><i class="fa fa-phone"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-facebook mr-2 ml-2"><i class="fab fa-facebook-f"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-twitter"><i class="fab fa-twitter"></i></a></div></div></div></div></div></div><div class="owl-nav disabled"><div class="owl-prev"><i class="fa fa-angle-left"></i></div><div class="owl-next"><i class="fa fa-angle-right"></i></div></div><div class="owl-dots disabled"></div></div><div class="divider mt-3"></div><div class="user-slider owl-carousel owl-loaded owl-drag"><div class="owl-stage-outer"><div class="owl-stage" style="transform:translate3d(0px, 0px, 0px);transition:all 0s ease 0s;width:667px;"><div class="owl-item active" style="width:313.2px;margin-right:20px;"><div class="user-left"><div class="d-flex"><div><img src="images/avatars/7s.png" class="bg-red2-dark mr-3 rounded-circle shadow-l" width="50"></div><div><h5 class="mt-1 mb-0">Vincent Mobi</h5><p class="font-10 mt-n1 color-gray2-dark">Back End Developer</p></div><div class="ml-auto"><span class="next-slide-user badge bg-blue2-dark mt-2 p-2 font-8">TAP FOR MORE</span></div></div></div></div><div class="owl-item" style="width:313.2px;margin-right:20px;"><div class="user-right"><div class="d-flex"><div><h5 class="mt-1 mb-0">Vincent Mobi</h5><p class="font-10 mt-n1 color-gray2-dark">Back End Developer</p></div><div class="ml-auto"><a href="#" class="icon icon-xs rounded-circle shadow-l bg-phone"><i class="fa fa-phone"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-facebook mr-2 ml-2"><i class="fab fa-facebook-f"></i></a><a href="#" class="icon icon-xs rounded-circle shadow-l bg-twitter"><i class="fab fa-twitter"></i></a></div></div></div></div></div></div><div class="owl-nav disabled"><div class="owl-prev"><i class="fa fa-angle-left"></i></div><div class="owl-next"><i class="fa fa-angle-right"></i></div></div><div class="owl-dots disabled"></div></div></div></div><div class="card card-style"><div class="content"><h3>User Groups</h3><p>You can also create user groups, which can be linked to the user list above. It&#39;s simple and very intuitive.</p><div class="d-flex"><div class="w-35 border-right pr-3 border-highlight"><img src="images/avatars/1s.png" data-src="images/avatars/1s.png" width="80" class="bg-highlight rounded-circle preload-img"><h6 class="font-14 font-600 mt-2 text-center">Johnatan D</h6><p class="color-blue2-dark mt-n3 font-9 font-400 text-center mb-0 pt-1">Group Manager</p></div><div class="w-65 pl-3 pt-2"><h5>Support Staff Team</h5><p class="color-highlight mt-n3 font-10 pt-1 mb-3">Monday to Friday - 09:00AM - 05:00 PM</p><a href="#"><img src="images/avatars/1s.png" data-src="images/avatars/1s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/2s.png" data-src="images/avatars/2s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/3s.png" data-src="images/avatars/3s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/4s.png" data-src="images/avatars/4s.png" width="40" class="rounded-circle preload-img"></a></div></div><div class="divider mt-4"></div><div class="d-flex"><div class="w-35 border-right pr-3 border-green1-dark"><img src="images/avatars/2s.png" data-src="images/avatars/2s.png" width="80" class="bg-green1-dark rounded-circle preload-img"><h6 class="font-14 font-600 mt-2 text-center">Johnatan D</h6><p class="color-green1-dark mt-n3 font-9 font-400 text-center mb-0 pt-1">Group Manager</p></div><div class="w-65 pl-3 pt-2"><h5>Design &amp; Development</h5><p class="color-green1-dark mt-n3 font-10 pt-1 mb-3">Monday to Friday - 09:00AM - 05:00 PM</p><a href="#"><img src="images/avatars/4s.png" data-src="images/avatars/4s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/5s.png" data-src="images/avatars/5s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/6s.png" data-src="images/avatars/6s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/7s.png" data-src="images/avatars/7s.png" width="40" class="rounded-circle preload-img"></a></div></div><div class="divider mt-4"></div><div class="d-flex"><div class="w-35 border-right pr-3 border-red2-dark"><img src="images/avatars/4s.png" data-src="images/avatars/4s.png" width="80" class="bg-yellow1-dark rounded-circle preload-img"><h6 class="font-14 font-600 mt-2 text-center">Johnatan D</h6><p class="color-red2-dark mt-n3 font-9 font-400 text-center mb-0 pt-1">Group Manager</p></div><div class="w-65 pl-3 pt-2"><h5>Account &amp; Billing</h5><p class="color-red2-dark mt-n3 font-10 pt-1 mb-3">Monday to Friday - 09:00AM - 05:00 PM</p><a href="#"><img src="images/avatars/8s.png" data-src="images/avatars/8s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/9s.png" data-src="images/avatars/9s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/10s.png" data-src="images/avatars/10s.png" width="40" class="rounded-circle preload-img"></a><a href="#"><img src="images/avatars/11s.png" data-src="images/avatars/11s.png" width="40" class="rounded-circle preload-img"></a></div></div></div></div>',3);function _sfc_render$P(o,t){return _hoisted_1$2I}const OurTeam=_export_sfc(_sfc_main$2M,[["render",_sfc_render$P]]),OurTeam$1=Object.freeze(Object.defineProperty({__proto__:null,default:OurTeam},Symbol.toStringTag,{value:"Module"})),_sfc_main$2L={},_hoisted_1$2H=createBaseVNode("div",{class:"card card-style"},[createBaseVNode("div",{class:"responsive-iframe"},[createBaseVNode("iframe",{src:"https://maps.google.com/?ie=UTF8&ll=47.595131,-122.330414&spn=0.006186,0.016512&t=h&z=17&output=embed",frameborder:"0",allowfullscreen:""})])],-1),_hoisted_2$2E=createStaticVNode('<div class="card card-style"><div data-card-height="120" data-closed-message="Sorry! We&#39;re closed!" data-closed-message-under="We&#39;ll be back very soon!" data-opened-message="Welcome! We&#39;re open!" data-opened-message-under="Call us Now! Let&#39;s have a chat!" class="business-hours caption shadow-xl"><div class="card-top"><a id="business-hours-call" href="tel:+1 234 567 890" class="float-right btn btn-xs rounded-xl text-uppercase font-900 mt-5 mr-3 bg-white color-black">Call Now</a><a id="business-hours-mail" href="page-contact.html" class="float-right btn btn-xs rounded-xl text-uppercase font-900 mt-5 mr-3 bg-white color-black">Email Us</a></div><div class="card-top mt-4 ml-3 pl-1"><h1 class="color-white mt-1 font-20 font-700"></h1><p class="color-white opacity-90 mt-n2 mb-0"></p></div><div class="caption-overlay show-business-opened bg-highlight"></div><div class="caption-overlay show-business-closed bg-red2-dark"></div></div><div class="content"><div class="working-hours day-monday"><p>Monday</p><p>09:00 AM</p><p>05:00 PM</p></div><div class="working-hours day-tuesday"><p>Tuesday</p><p>09:00 AM</p><p>05:00 PM</p></div><div class="working-hours day-wednesday"><p>Wednesday</p><p>09:00 AM</p><p>05:00 PM</p></div><div class="working-hours day-thursday"><p>Thursday</p><p>09:00 AM</p><p>05:00 PM</p></div><div class="working-hours day-friday"><p>Friday</p><p>09:00 AM</p><p>05:00 PM</p></div><div class="working-hours day-saturday"><p>Saturday</p><p>09:00 AM</p><p>01:00 PM</p></div><div class="working-hours day-sunday"><p>Sunday</p><p class="opacity-00">-</p><p>We&#39;re Closed</p></div></div></div><div class="formValidationError bg-red2-dark content rounded-sm shadow-xl" id="contactNameFieldError" style="display:none;"><p class="text-center text-uppercase p-2 color-white font-900">Name is required!</p></div><div class="formValidationError bg-red2-dark content rounded-sm shadow-xl" id="contactEmailFieldError" style="display:none;"><p class="text-center text-uppercase p-2 color-white font-900">Mail address required!</p></div><div class="formValidationError bg-red2-dark content rounded-sm shadow-xl" id="contactEmailFieldError2" style="display:none;"><p class="text-center text-uppercase p-2 color-white font-900">Mail address must be valid!</p></div><div class="formValidationError bg-red2-dark content rounded-sm shadow-xl" id="contactMessageTextareaError" style="display:none;"><p class="text-center text-uppercase p-2 color-white font-900">Message field is empty!</p></div><div class="formSuccessMessageWrap card card-style" style="display:none;"><div class="shadow-l rounded-m bg-gradient-green1 mr-n1 ml-n1 mb-n1"><h1 class="color-white text-center pt-4"><i class="fa fa-check-circle fa-3x shadow-s scale-box rounded-circle"></i></h1><h2 class="color-white bold text-center pt-3">Message Sent</h2><p class="color-white pb-4 text-center mt-n2 mb-0">We&#39;ll get back to you shortly.</p></div></div><div class="formSuccessMessageWrap card card-style" style="display:none;"><div class="content text-center"><h2>Meanwhile, let&#39;s get social!</h2><p class="boxed-text-xl"> Here are our social media platforms! Follow us for the latest updates or just say hello! </p><a href="#" class="icon icon-xl shadow-xl rounded-xl bg-facebook"><i class="fab fa-facebook-f"></i></a><a href="#" class="icon icon-xl shadow-xl rounded-xl bg-instagram ml-3 mr-3"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xl shadow-xl rounded-xl bg-twitter"><i class="fab fa-twitter"></i></a></div></div>',7),_hoisted_9$25=createBaseVNode("div",{class:"card card-style contact-form"},[createBaseVNode("div",{class:"content"},[createBaseVNode("form",{action:"php/contact.php",method:"post",class:"contactForm",id:"contactForm"},[createBaseVNode("fieldset",null,[createBaseVNode("div",{class:"form-field form-name"},[createBaseVNode("label",{class:"contactNameField color-theme",for:"contactNameField"},[createTextVNode("Name:"),createBaseVNode("span",null,"(required)")]),createBaseVNode("input",{type:"text",name:"contactNameField",value:"",class:"contactField round-small requiredField",id:"contactNameField"})]),createBaseVNode("div",{class:"form-field form-email"},[createBaseVNode("label",{class:"contactEmailField color-theme",for:"contactEmailField"},[createTextVNode("Email:"),createBaseVNode("span",null,"(required)")]),createBaseVNode("input",{type:"text",name:"contactEmailField",value:"",class:"contactField round-small requiredField requiredEmailField",id:"contactEmailField"})]),createBaseVNode("div",{class:"form-field form-text"},[createBaseVNode("label",{class:"contactMessageTextarea color-theme",for:"contactMessageTextarea"},[createTextVNode("Message:"),createBaseVNode("span",null,"(required)")]),createBaseVNode("textarea",{name:"contactMessageTextarea",class:"contactTextarea round-small requiredField",id:"contactMessageTextarea"})]),createBaseVNode("div",{class:"form-button"},[createBaseVNode("input",{type:"submit",class:"btn bg-highlight text-uppercase font-900 btn-m btn-full rounded-sm shadow-xl contactSubmitButton",value:"Send Message","data-formid":"contactForm"})])])])])],-1),_hoisted_10$1_=createStaticVNode('<div class="card card-style"><div class="content mb-0"><h3 class="font-700">Postal Information</h3><p class="pb-0 mb-0">PO Box 22161 Street Collins East</p><p class="pb-0 mb-0">PO Box 16122 Collins Street West</p><p class="pb-0">Victoria 8007 Australia</p><div class="divider"></div><h3 class="font-700">Envato Headquarters</h3><p class="pb-0 mb-0">121 King Street, Melbourne</p><p class="pb-0 mb-0">PO Box 16122 Collins Street West</p><p class="pb-0">Victoria 3000 Australia</p><div class="list-group list-custom-small"><a href="tel:+1 234 567 890"><i class="fa font-14 fa-phone color-phone"></i><span>+1 234 567 8900</span><span class="badge bg-highlight color-white">TAO TO CALL</span><i class="fa fa-angle-right"></i></a><a href="mailto:mail@domain.com"><i class="fa font-14 fa-envelope color-mail"></i><span>mail@domain.com</span><span class="badge bg-highlight color-white">TAO TO MAIL</span><i class="fa fa-angle-right"></i></a><a href="https://www.facebook.com/enabled.labs/"><i class="fab font-14 fa-facebook color-facebook"></i><span>enabled.labs</span><i class="fa fa-link"></i></a><a href="https://twitter.com/iEnabled"><i class="fab font-14 fa-twitter-square color-twitter"></i><span>@iEnabled</span><i class="fa fa-link"></i></a><a href="#" class="border-0"><i class="fab font-14 fa-linkedin color-linkedin"></i><span>@Enabled</span><i class="fa fa-link"></i></a></div></div></div>',1);function _sfc_render$O(o,t){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2H,_hoisted_2$2E,_hoisted_9$25,_hoisted_10$1_],64)}const ContactUs=_export_sfc(_sfc_main$2L,[["render",_sfc_render$O]]),ContactUs$1=Object.freeze(Object.defineProperty({__proto__:null,default:ContactUs},Symbol.toStringTag,{value:"Module"})),_sfc_main$2K={},_hoisted_1$2G={class:"card card-style"},_hoisted_2$2D=createStaticVNode('<div class="content mb-2"><h3>Frequent Questions</h3><p class="color-highlight font-12 mt-n2 mb-2">Really, we get asked this often.</p><p> We get asked these questions a lot, so we made this small section to help you out identifying what you need faster. </p><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-1" class="font-600">Is this a PWA?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-1"><label class="custom-control-label" for="question-1"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-1" class="switch-is-unchecked" style="display:none;"><p class="pb-3"> Yes. Our item is a PWA. We have a servier worker and a manifest.json file ready and prepared for you to use the item offline. </p></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-2" class="font-600">Is this a Cordova App?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-2"><label class="custom-control-label" for="question-2"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-2" class="switch-is-unchecked"><p class="pb-3"> No, but we have a ready built version in our portfolio and you can convert it to Cordova yourself. It&#39;s really simple. </p></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-3" class="font-600">Is this a Cordova App?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-3"><label class="custom-control-label" for="question-3"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-3" class="switch-is-unchecked"><p class="pb-3"> No, but we have a ready built version in our portfolio and you can convert it to Cordova yourself. It&#39;s really simple. </p></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-4" class="font-600">Is this a WordPres Theme?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-4"><label class="custom-control-label" for="question-4"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-4" class="switch-is-unchecked"><p> No. Our item is a HTML, CSS3 and JS Site Template. You can however convert it to a WordPress Theme. </p></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-5" class="font-600">Is this built with Boostrap?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-5"><label class="custom-control-label" for="question-5"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-5" class="switch-is-unchecked"><p class="pb-3"> Yes! We include 2 versions, one built with Boostrap, and a much more flexible and powerful custom AJAX version. </p></div></div>',1),_hoisted_3$2x=[_hoisted_2$2D];function _sfc_render$N(o,t){return openBlock(),createElementBlock("div",_hoisted_1$2G,_hoisted_3$2x)}const Help=_export_sfc(_sfc_main$2K,[["render",_sfc_render$N]]),Help$1=Object.freeze(Object.defineProperty({__proto__:null,default:Help},Symbol.toStringTag,{value:"Module"}));var script$e=defineComponent({name:"Roulette",emits:["wheelStart","wheelEnd"],props:{items:{type:Object,required:!0,validator:function(t){return t.length>=4}},firstItemIndex:{type:Object,required:!1,default:function(){return{value:0}}},wheelResultIndex:{type:Object,required:!1,default:function(){return{value:null}},validator:function(t){return typeof t.value=="number"}},centeredIndicator:{type:Boolean,required:!1,default:!1},indicatorPosition:{type:String,required:!1,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},size:{type:Number,required:!1,default:300},displayShadow:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:4},resultVariation:{type:Number,required:!1,default:0,validator:function(t){return t>=0&&t<=100}},easing:{type:String,required:!1,default:"ease",validator:function(t){return["ease","bounce"].includes(t)}},counterClockwise:{type:Boolean,required:!1,default:!1},horizontalContent:{type:Boolean,required:!1,default:!1},displayBorder:{type:Boolean,required:!1,default:!1},displayIndicator:{type:Boolean,required:!1,default:!0},baseDisplay:{type:Boolean,required:!1,default:!1},baseSize:{type:Number,required:!1,default:100},baseDisplayShadow:{type:Boolean,required:!1,default:!1},baseDisplayIndicator:{type:Boolean,required:!1,default:!1},baseBackground:{type:String,required:!1,default:""}},data:function(){return{randomIdRoulette:0,itemSelected:null,processingLock:!1}},computed:{itemAngle:function(){return 360/this.items.length},startingAngle:function(){return this.centeredIndicator?-1*this.firstItemIndex.value*this.itemAngle-this.itemAngle/2:-1*this.firstItemIndex.value*this.itemAngle},degreesVariation:function(){if(!this.resultVariation)return 0;var t=this.itemAngle/2*this.resultVariation/100*-1,s=this.itemAngle/2*this.resultVariation/100;return Number((Math.random()*(s-t)+t).toFixed(2))},counterClockWiseOperator:function(){return this.counterClockwise?-1:1}},mounted:function(){var t=this;this.randomIdRoulette=Number((Math.random()*(999999-1)+1).toFixed(0)),this.$nextTick(function(){t.reset(),document.querySelector("#wheel-container-".concat(t.randomIdRoulette," .wheel")).addEventListener("transitionend",function(){t.processingLock=!1,t.$emit("wheel-end",t.itemSelected)})})},methods:{reset:function(){this.itemSelected=null,document.querySelector("#wheel-container-".concat(this.randomIdRoulette," .wheel")).style.transform="rotate(".concat(this.startingAngle,"deg)")},launchWheel:function(){if(!(this.processingLock&&this.itemSelected!=null)){this.processingLock=!0;var t;this.wheelResultIndex.value!==null?t=this.wheelResultIndex.value%this.items.length:t=Math.floor(Math.random()*this.items.length+1)-1;var s=document.querySelector("#wheel-container-".concat(this.randomIdRoulette," .wheel"));this.itemSelected=this.items[t],s.style.transform="rotate(".concat(this.counterClockWiseOperator*(360*3)+-t*this.itemAngle-this.itemAngle/2+this.degreesVariation,"deg)"),this.$emit("wheel-start",this.itemSelected)}}}}),_hoisted_1$2F=["id"],_hoisted_2$2C={class:"wheel-base"},_hoisted_3$2w={key:0,class:"wheel-base-indicator"},_hoisted_4$2o=["innerHTML"];function render$e(o,t,s,i,a,n){return openBlock(),createElementBlock("div",{id:"wheel-container-".concat(o.randomIdRoulette),class:normalizeClass(["wheel-container",["indicator-".concat(o.indicatorPosition),{"wheel-container-indicator":o.displayIndicator},{"wheel-container-shadow":o.displayShadow},{"wheel-container-border":o.displayBorder}]])},[o.baseDisplay?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["wheel-base-container",[{"wheel-base-container-shadow":o.baseDisplayShadow}]]),style:normalizeStyle({width:"".concat(o.baseSize,"px"),height:"".concat(o.baseSize,"px"),background:"".concat(o.baseBackground)})},[createBaseVNode("div",_hoisted_2$2C,[renderSlot(o.$slots,"baseContent")]),o.baseDisplayIndicator?(openBlock(),createElementBlock("div",_hoisted_3$2w)):createCommentVNode("",!0)],6)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["wheel",["easing-".concat(o.easing),{"wheel-border":o.displayBorder}]]),style:normalizeStyle({width:"".concat(o.size,"px"),height:"".concat(o.size,"px"),transitionDuration:"".concat(o.duration,"s"),transform:"rotate(".concat(o.startingAngle,"deg)")})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,function(r,l){return openBlock(),createElementBlock("div",{key:r.id,class:"wheel-item",style:normalizeStyle({transform:"rotate(".concat(o.itemAngle*l,"deg) skewY(").concat(-(90-o.itemAngle),"deg)"),background:r.background})},[createBaseVNode("div",{class:normalizeClass(["content",{"horizontal-content":o.horizontalContent}]),style:normalizeStyle({transform:"skewY(".concat(90-o.itemAngle,"deg) rotate(").concat(o.itemAngle/2,"deg)")})},[createBaseVNode("span",{style:normalizeStyle({color:r.textColor}),innerHTML:r.htmlContent},null,12,_hoisted_4$2o)],6)],4)}),128))],6)],10,_hoisted_1$2F)}function styleInject$1(o,t){t===void 0&&(t={});var s=t.insertAt;if(!(!o||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=o:a.appendChild(document.createTextNode(o))}}var css_248z$2=`.wheel-container[data-v-2d0cf945],
.wheel-base[data-v-2d0cf945],
.wheel-base-container[data-v-2d0cf945],
.wheel-base-indicator[data-v-2d0cf945] {
  transition: transform 1s ease-in-out;
}
.wheel-container[data-v-2d0cf945] {
  position: relative;
  display: inline-block;
  overflow: hidden;
  border-radius: 50%;
  cursor: pointer;
}
.wheel-container-indicator[data-v-2d0cf945]:before {
  content: "";
  position: absolute;
  z-index: 4;
  width: 0;
  height: 0;
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-top: 20px solid black;
  transform: translateX(-50%);
}
.wheel-container.indicator-top[data-v-2d0cf945] {
  transform: rotate(0deg);
}
.wheel-container.indicator-right[data-v-2d0cf945] {
  transform: rotate(90deg);
}
.wheel-container.indicator-right .wheel-base[data-v-2d0cf945] {
  transform: rotate(-90deg);
}
.wheel-container.indicator-bottom[data-v-2d0cf945] {
  transform: rotate(180deg);
}
.wheel-container.indicator-bottom .wheel-base[data-v-2d0cf945] {
  transform: rotate(-180deg);
}
.wheel-container.indicator-left[data-v-2d0cf945] {
  transform: rotate(270deg);
}
.wheel-container.indicator-left .wheel-base[data-v-2d0cf945] {
  transform: rotate(-270deg);
}
.wheel-container-border[data-v-2d0cf945] {
  border: 8px solid black;
}
.wheel-container-shadow[data-v-2d0cf945] {
  box-shadow: 5px 5px 15px -5px #000000;
}
.wheel-base-container[data-v-2d0cf945] {
  position: absolute;
  z-index: 2;
  top: 50%;
  left: 50%;
  border-radius: 50%;
  border: 5px solid black;
  transform: translate(-50%, -50%);
}
.wheel-base-container-shadow[data-v-2d0cf945] {
  box-shadow: 5px 5px 15px -5px #000000;
}
.wheel-base-container .wheel-base[data-v-2d0cf945] {
  position: absolute;
  z-index: 2;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  width: 100%;
  height: 100%;
  border-radius: 50%;
}
.wheel-base-container .wheel-base-indicator[data-v-2d0cf945] {
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
}
.wheel-base-container .wheel-base-indicator[data-v-2d0cf945]:before {
  content: "";
  position: absolute;
  z-index: 1;
  top: -20px;
  width: 0;
  height: 0;
  border-left: 20px solid transparent;
  border-right: 20px solid transparent;
  border-bottom: 20px solid black;
  transform: translateX(-50%);
}
.wheel[data-v-2d0cf945] {
  background: white;
  border-radius: 50%;
  margin: auto;
  overflow: hidden;
}
.wheel.easing-ease[data-v-2d0cf945] {
  transition: transform cubic-bezier(0.65, 0, 0.35, 1);
}
.wheel.easing-bounce[data-v-2d0cf945] {
  transition: transform cubic-bezier(0.49, 0.02, 0.52, 1.12);
}
.wheel-border[data-v-2d0cf945]:after {
  content: "";
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  z-index: 3;
  border-radius: 50%;
  background-image: linear-gradient(to left, black 33%, rgba(255, 255, 255, 0) 0%);
  background-position: bottom;
  background-size: 3px 1px;
  /* background:linear-gradient(red,purple,orange); */
  -webkit-mask: radial-gradient(transparent 65%, #000 66%);
  mask: radial-gradient(transparent 65%, #000 66%);
}
.wheel-item[data-v-2d0cf945] {
  overflow: hidden;
  position: absolute;
  top: 0;
  right: 0;
  width: 50%;
  height: 50%;
  transform-origin: 0% 100%;
  border: 1px solid black;
}
.wheel-item[data-v-2d0cf945]:nth-child(odd) {
  background-color: skyblue;
}
.wheel-item[data-v-2d0cf945]:nth-child(even) {
  background-color: pink;
}
.wheel .content[data-v-2d0cf945] {
  position: absolute;
  left: -100%;
  width: 200%;
  height: 200%;
  text-align: center;
  transform: skewY(30deg) rotate(0deg);
  padding-top: 20px;
}
.wheel .content.horizontal-content[data-v-2d0cf945] {
  left: initial;
  right: 100%;
  width: 50%;
  height: 250%;
  text-align: right;
}
.wheel .content.horizontal-content span[data-v-2d0cf945] {
  display: block;
  transform: rotate(270deg);
}`;styleInject$1(css_248z$2);script$e.render=render$e;script$e.__scopeId="data-v-2d0cf945";const Wheel_vue_vue_type_style_index_0_lang="",_hoisted_1$2E={key:0,class:"card card-style"},_hoisted_2$2B={class:"content"},_hoisted_3$2v=createBaseVNode("h4",null,"Правила данной игры",-1),_hoisted_4$2n={key:0,class:"mb-2"},_hoisted_5$2l=createBaseVNode("p",{style:{"font-weight":"900",color:"red"},class:"mb-2"},"Вы израсходовали все ваши попытки",-1),_hoisted_6$2j=[_hoisted_5$2l],_hoisted_7$2g={key:2,class:"m-0 p-0"},_hoisted_8$29={class:"d-flex flex-column mb-2"},_hoisted_9$24={key:1,class:"card card-style"},_hoisted_10$1Z={class:"content d-flex justify-content-center flex-wrap"},_hoisted_11$1T=createBaseVNode("div",null,"Поехали",-1),_hoisted_12$1Q=createBaseVNode("h3",null,"Анкета участника акции",-1),_hoisted_13$1J=createBaseVNode("p",null," Для участия в конкурсе и дальнейшего получения приза необходимо заполнить данную анкету! Укажите своё имя и номер телефона чтоб менеджер мог выдать Вам приз по итогу. ",-1),__default__$1V={name:"App",components:{Roulette:script$e},data(){return{winResultMessage:"Наш менеджер свяжется с вами для дальнейших инструкций.",rules:null,rouletteKey:0,action:null,hasProfileData:!1,winForm:{win:null},items:[]}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("wheelOfFortunePrepare").then(o=>{this.action=o.action})},loadServiceData(){return this.$store.dispatch("wheelOfFortuneLoadData").then(o=>{let t=1;this.rules=o.rules,this.winResultMessage=o.callback_message;const s=o.wheels;this.items=[],s.forEach(i=>{this.items.push({id:t,name:i.value,htmlContent:i.value,textColor:"",background:""}),t++})})},submit(){let o=new FormData;Object.keys(this.winForm).forEach(s=>{const i=this.winForm[s]||"";typeof i=="object"?o.append(s,JSON.stringify(i)):o.append(s,i)});const t=this.winForm.win||"Что-то интересное...";this.$store.dispatch("wheelOfFortuneWin",{winForm:o}).then(s=>{this.winForm.win=null,this.winForm.name=null,this.winForm.phone=null,this.prepareUserData()}).catch(s=>{}),this.$botNotification.success("Вы выиграли!",t)},launchWheel(){this.rouletteKey+=1,setTimeout(()=>this.$refs.wheel.launchWheel(),0)},wheelStartedCallback(){},callbackPlayerForm(o){this.winForm={...this.winForm,...o},this.hasProfileData=!0},wheelEndedCallback(o){if(!o)return;const t=o.id;setTimeout(()=>{this.winForm.win=t,this.submit(),this.hasProfileData=!1},2e3),this.$botNotification.success("Победа!","Вы выиграли приз <strong>"+(this.winForm.win||"-")+"</strong>.")}}},_sfc_main$2J=Object.assign(__default__$1V,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$2E,[createBaseVNode("div",_hoisted_2$2B,[_hoisted_3$2v,createBaseVNode("p",null,toDisplayString(t.rules),1),t.canPlay?(openBlock(),createElementBlock("p",_hoisted_4$2n,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",null,toDisplayString(t.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",null,toDisplayString(t.action.max_attempts||1),1)])):(openBlock(),createElementBlock("div",{key:1,onClick:s[0]||(s[0]=(...i)=>t.lose&&t.lose(...i))},_hoisted_6$2j)),t.action.data?(openBlock(),createElementBlock("ul",_hoisted_7$2g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.data,i=>(openBlock(),createElementBlock("li",_hoisted_8$29,[createBaseVNode("span",null,[createTextVNode("Приз "),createBaseVNode("strong",null,"№"+toDisplayString(i.win||"Отсуствует"),1)]),createBaseVNode("span",null,[createTextVNode("Описание "),createBaseVNode("strong",null,toDisplayString(i.description||"Отсуствует"),1)]),createBaseVNode("span",null,[createTextVNode("Победитель "),createBaseVNode("strong",null,toDisplayString(i.name||"Не указано"),1)]),createBaseVNode("span",null,[createTextVNode("Телефон "),createBaseVNode("strong",null,toDisplayString(i.phone||"Не указано"),1)])]))),256))])):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.canPlay&&t.hasProfileData?(openBlock(),createElementBlock("div",_hoisted_9$24,[createBaseVNode("div",_hoisted_10$1Z,[(openBlock(),createBlock(unref(script$e),{ref:"wheel",size:"300",key:t.rouletteKey,items:t.items,"centered-indicator":"","indicator-position":"top","display-shadow":"","display-border":"","base-display":"","base-display-indicator":"","base-background":"orange","base-display-shadow":"",easing:"bounce",onWheelStart:t.wheelStartedCallback,onWheelEnd:t.wheelEndedCallback,onClick:t.launchWheel},{baseContent:withCtx(()=>[_hoisted_11$1T]),_:1},8,["items","onWheelStart","onWheelEnd","onClick"]))])])):createCommentVNode("",!0),t.canPlay&&!t.hasProfileData?(openBlock(),createBlock(PlayerForm,{key:2,onCallback:t.callbackPlayerForm},{head:withCtx(()=>[_hoisted_12$1Q,_hoisted_13$1J]),_:1},8,["onCallback"])):createCommentVNode("",!0)],64))}}),Wheel=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2J},Symbol.toStringTag,{value:"Module"})),WheelSecond_vue_vue_type_style_index_0_lang="",_sfc_main$2I={props:["items"],mounted(){const o=this.items,t=document.querySelector(".deal-wheel"),s=t.querySelector(".spinner"),i=t.querySelector(".btn-spin"),a=t.querySelector(".ticker"),n=360/o.length,r=Math.floor(180/o.length),l="is-spinning",d="selected",c=window.getComputedStyle(s);let _,m=0,p=0,f;const k=()=>{o.forEach(({text:D,color:G,reaction:le},ao)=>{const lo=n*ao*-1-r;s.insertAdjacentHTML("beforeend",`<li class="prize" data-reaction=${le} style="--rotate: ${lo}deg">
        <span class="text">${D}</span>
      </li>`)})},b=()=>{s.setAttribute("style",`background: conic-gradient(
      from -90deg,
      ${o.map(({color:D},G)=>`${D} 0 ${100/o.length*(o.length-G)-.25}%,black 0 ${100/o.length*(o.length-G)}%`).reverse()}
    );`)},v=()=>{b(),k(),f=t.querySelectorAll(".prize")},N=(D,G)=>(D=Math.ceil(D),G=Math.floor(G),Math.floor(Math.random()*(G-D+1))+D),T=()=>{const D=c.transform.split("(")[1].split(")")[0].split(","),G=D[0],le=D[1];let ao=Math.atan2(le,G);ao<0&&(ao+=2*Math.PI);const lo=Math.round(ao*(180/Math.PI)),co=Math.floor(lo/n);p!==co&&(a.style.animation="none",setTimeout(()=>a.style.animation=null,10),p=co),_=requestAnimationFrame(T)},M=()=>{const D=Math.floor(m/n);if(D<0||D>=f.length){T();return}f[D].classList.add(d),this.$emit("callback",D)};i.addEventListener("click",()=>{i.disabled=!0,m=Math.floor(Math.random()*360+N(2e3,5e3)),f.forEach(D=>D.classList.remove(d)),t.classList.add(l),s.style.setProperty("--rotate",m),a.style.animation="none",T()}),s.addEventListener("transitionend",()=>{cancelAnimationFrame(_),m%=360,M(),t.classList.remove(l),s.style.setProperty("--rotate",m),i.disabled=!1}),v()}},_hoisted_1$2D={class:"deal-container"},_hoisted_2$2A={class:"deal-wheel"},_hoisted_3$2u=createStaticVNode('<div class="outer-circle"></div><div class="deal-wheel-full"><div class="inner-circle"></div><div class="inner-circle-2"></div></div><ul class="spinner"></ul><div class="ticker"><div class="circle"></div><div class="arrow"></div></div>',4),_hoisted_7$2f={class:"btn-spin"};function _sfc_render$M(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$2D,[createBaseVNode("div",_hoisted_2$2A,[_hoisted_3$2u,createBaseVNode("button",_hoisted_7$2f,[renderSlot(o.$slots,"baseContent")])])])}const WheelSecond=_export_sfc(_sfc_main$2I,[["render",_sfc_render$M]]),WheelCustom_vue_vue_type_style_index_0_lang$1="",_hoisted_1$2C={key:0,class:"card card-style"},_hoisted_2$2z={class:"content"},_hoisted_3$2t=createBaseVNode("h4",null,"Правила данной игры",-1),_hoisted_4$2m=["innerHTML"],_hoisted_5$2k={key:0,class:"mb-2"},_hoisted_6$2i=createBaseVNode("p",{style:{"font-weight":"900",color:"red"},class:"mb-2"},"Вы израсходовали все ваши попытки",-1),_hoisted_7$2e=[_hoisted_6$2i],_hoisted_8$28={key:2,class:"m-0 p-0"},_hoisted_9$23={class:"d-flex flex-column mb-2"},_hoisted_10$1Y={key:1,class:"card card-style"},_hoisted_11$1S={class:"content d-flex justify-content-center flex-wrap"},__default__$1U={name:"App",data(){return{winResultMessage:"Наш менеджер свяжется с вами для дальнейших инструкций.",rules:null,rouletteKey:0,action:null,hasProfileData:!1,wheelDataLoaded:!1,winForm:{win:null},items:[]}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("wheelOfFortuneCustomPrepare").then(o=>{this.action=o.action})},loadServiceData(){return this.wheelDataLoaded=!1,this.$store.dispatch("wheelOfFortuneCustomLoadData").then(o=>{let t=0;const s=["#645b00","#9a4000","#831814","#831131","#83118d","#7529eb","#0e2e75","#115965","#0f6b2b","#476c17","#756d21","#854a1c"];this.rules=o.rules,this.winResultMessage=o.callback_message;const i=this.shuffle(o.wheels);this.items=[],i.forEach(a=>{this.items.push({text:a.value,color:s[t]}),t=t<s.length?t+1:0}),this.wheelDataLoaded=!0})},shuffle(o){let t=o.length,s;for(;t>0;)s=Math.floor(Math.random()*t),t--,[o[t],o[s]]=[o[s],o[t]];return o},submit(){let o=new FormData;Object.keys(this.winForm).forEach(s=>{const i=this.winForm[s]||"";typeof i=="object"?o.append(s,JSON.stringify(i)):o.append(s,i)});const t=this.winForm.win||null;o.append("description",this.items[t].text||"Без описания"),this.$store.dispatch("wheelOfFortuneCustomWin",{winForm:o}).then(s=>{this.winForm.win=null,this.winForm.name=null,this.winForm.phone=null,this.prepareUserData(),this.tg.close()}).catch(s=>{}),this.$botNotification.success("Вы выиграли!","Вы выиграли приз "+(t?this.items[t].text:"Что-то интересное..."))},callbackPlayerForm(o){this.winForm={...this.winForm,...o},this.hasProfileData=!0},wheelEndedCallback(o){this.wheelDataLoaded=!1,console.log("game event",o);const t=o;setTimeout(()=>{this.winForm.win=t,this.submit()},2e3)}}},_sfc_main$2H=Object.assign(__default__$1U,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$2C,[createBaseVNode("div",_hoisted_2$2z,[_hoisted_3$2t,createBaseVNode("p",{innerHTML:t.rules},null,8,_hoisted_4$2m),t.canPlay&&t.action?(openBlock(),createElementBlock("p",_hoisted_5$2k,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",null,toDisplayString(t.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",null,toDisplayString(t.action.max_attempts||1),1)])):(openBlock(),createElementBlock("div",{key:1,onClick:s[0]||(s[0]=(...i)=>t.lose&&t.lose(...i))},_hoisted_7$2e)),t.action?(openBlock(),createElementBlock("ul",_hoisted_8$28,[t.action.data?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.action.data,i=>(openBlock(),createElementBlock("li",_hoisted_9$23,[createBaseVNode("span",null,[createTextVNode("Название приза "),createBaseVNode("strong",null,toDisplayString(i.description||"Отсутствует"),1)]),createBaseVNode("span",null,[createTextVNode("Победитель "),createBaseVNode("strong",null,toDisplayString(i.name||"Не указано"),1)]),createBaseVNode("span",null,[createTextVNode("Телефон "),createBaseVNode("strong",null,toDisplayString(i.phone||"Не указано"),1)])]))),256)):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"my-2"})])])):createCommentVNode("",!0),t.canPlay&&t.wheelDataLoaded?(openBlock(),createElementBlock("div",_hoisted_10$1Y,[createBaseVNode("div",_hoisted_11$1S,[createVNode(WheelSecond,{items:t.items,onCallback:t.wheelEndedCallback},{baseContent:withCtx(()=>[createTextVNode(" Испытай удачу ")]),_:1},8,["items","onCallback"])])])):createCommentVNode("",!0)],64))}}),WheelCustom$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2H},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2B={class:"card card-style"},_hoisted_2$2y={class:"content mb-2"},_hoisted_3$2s=createStaticVNode('<h3>Часто задаваемые вопросы</h3><p class="color-highlight font-12 mt-n2 mb-2">Действительно важные вопросы</p><p> Нам часто задают эти вопросы, поэтому мы создали этот небольшой раздел, чтобы помочь вам понять как работает наша система. </p><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-1" class="font-600">Что такое система CashBack?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-1"><label class="custom-control-label" for="question-1"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-1" class="switch-is-unchecked"><p class="mb-1">CashBack - это система, которая позволяет пользователям зарабатывать бонусы при оплате покупок в различных заведениях. В данном случае, CashBack начисляет бонусы после каждой покупки еды и напитков в заведении.</p><p class="mb-1">Для участия в программе нужно иметь профиль в системе, где вы сможете отслеживать количество накопленных бонусов и получать информацию о специальных предложениях и акциях.</p><p class="mb-1">Чтобы начислить бонусы, необходимо отсканировать свой QR-код из своего профиля после каждой покупки в заведении. Количество начисляемых бонусов зависит от условий программы и может изменяться.</p><p class="mb-1">CashBack позволяет пользователям получать дополнительные выгоды и бонусы при стандартных покупках в различных заведениях. Кроме того, это помогает заведениям удерживать постоянных клиентов и мотивировать их к повторным визитам.</p><p class="mb-1"> Общие рекомендации использования системы CashBack:</p><ul><li>Создайте профиль в системе и связанный с ним QR-код заранее.</li><li>Проверяйте условия программы, чтобы понимать, какие покупки позволят вам заработать больше бонусов. </li><li>Следите за акциями и специальными предложениями, чтобы получить дополнительные бонусы. </li><li>Не забывайте отсканировать свой QR-код после каждой покупки, чтобы начислить бонусы. </li><li>Используйте накопленные бонусы для оплаты следующих покупок или обменяйте их на подарки и скидки. </li></ul></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-2" class="font-600"> О нашем продукте</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-2"><label class="custom-control-label" for="question-2"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div><div data-switch="question-2" class="switch-is-unchecked"><p class="mb-2">Для начала немного о нашем продукте: Кэш Бэк Бот - это телеграм бот с несколькими инновационными и очень важными функциями для любого бизнеса:</p><ol><li> Это 2х или 3х уровневая система лояльности на основе Кеш Бэка, которая встраивается в телеграмм предприятия, она дает и списывает Кеш бек с помощью нескольких простых действий. Так же она привлекает клиентов, возвращает их снова и снова, а еще она мотивирует их рекомендовать Ваш бизнес своим друзьям и знакомым с помощью множества удобных функционалов. </li><li> Это Ваша новая социальная сеть, где вы можете вести блог о вашем бизнесе, а так же делать рекламу и управлять клиентской базой. Очень важно, что на телеграмм не распространились санкции, поэтому привлекать новых клиентов легче, чем например через инстаграм. </li><li> Клиентская база, которая формируется автоматически по вашему запросу (пол, возраст, район проживания клиента и т.д), с номерами клиентов и гостей вашего бизнеса, которым можно делать рассылку с помощью бота (совершенно бесплатно) </li><li> Удобное меню и логистика по боту, с помощью кнопок в меню: прайс, фото, контактные данные, меню, акции, услуги и так далее, все что может помочь клиенту узнать о Вас все. </li></ol><p class="mb-2">Вообщем Кеш Бек Бот это супер технологичный, современный и удобный сервис, который включает самые лучшие рекламные и маркетинговые ресурсы для Вашего бизнеса. На данный момент сложно себе представить, ресурс который лучше справиться с функцией увеличения продаж и прибыли в Вашем бизнесе.</p></div><div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-3" class="font-600"> Как это работает?</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-3"><label class="custom-control-label" for="question-3"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div>',11),_hoisted_14$1D=createBaseVNode("div",{"data-switch":"question-3",class:"switch-is-unchecked"},[createBaseVNode("iframe",{style:{width:"100%"},src:"https://www.youtube.com/embed/pxuuL7I4OBQ",title:"Система Лояльности с помощью Телеграмм Бота",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1),_hoisted_15$1A=createStaticVNode('<div class="divider mt-2 mb-2"></div><div class="d-flex"><div class="pt-1"><h5 data-activate="question-4" class="font-600"> Примеры работы бота</h5></div><div class="ml-auto mr-1 pr-2"><div class="custom-control classic-switch"><input type="checkbox" class="classic-input" id="question-4"><label class="custom-control-label" for="question-4"></label><i class="fa fa-angle-down font-11 color-green1-dark"></i></div></div></div>',2),_hoisted_17$1r={"data-switch":"question-4",class:"switch-is-unchecked"},_hoisted_18$1q={class:"list-group list-custom-small"},_hoisted_19$1n=["onClick"],_hoisted_20$1l=createBaseVNode("i",{class:"fa-solid fa-robot font-14 color-brown1-dark"},null,-1),_hoisted_21$1j=createBaseVNode("i",{class:"fa fa-angle-right"},null,-1),__default__$1T={data(){return{examples:[{title:"ARCoffee - бот для кофейни",url:"https://t.me/arcoffee_dn_bot"},{title:"Д•Р•У•З•Ь•Я - бот для ресторана",url:"https://t.me/friends_coffee_bot"},{title:"Амати бот - Клуб красоты Амати",url:"https://t.me/amati_beauty_bot"}]}},computed:{tg(){return window.Telegram.WebApp}},mounted(){},methods:{open(o){this.tg.openLink(o)}}},_sfc_main$2G=Object.assign(__default__$1T,{__name:"ProjectInfoCard",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2B,[createBaseVNode("div",_hoisted_2$2y,[_hoisted_3$2s,_hoisted_14$1D,_hoisted_15$1A,createBaseVNode("div",_hoisted_17$1r,[createBaseVNode("div",_hoisted_18$1q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.examples,(i,a)=>(openBlock(),createElementBlock("a",{href:"#",onClick:n=>t.open(i.url)},[_hoisted_20$1l,createBaseVNode("span",null,toDisplayString(i.title||"Не указан заголовок"),1),_hoisted_21$1j],8,_hoisted_19$1n))),256))])]),createVNode(ReturnToBot,{class:"my-2"})])]))}}),CashOut_vue_vue_type_style_index_0_scoped_afc2d6b1_lang="",_withScopeId$9=o=>(pushScopeId("data-v-afc2d6b1"),o=o(),popScopeId(),o),_hoisted_1$2A={key:0},_hoisted_2$2x={class:"card card-style p-3"},_hoisted_3$2r={class:"col-12"},_hoisted_4$2l={class:"mb-3"},_hoisted_5$2j=_withScopeId$9(()=>createBaseVNode("h6",{class:"text-center"},"Какую сумму желаете вывести?",-1)),_hoisted_6$2h={class:"input-style input-style-2"},_hoisted_7$2d={class:"col-12"},_hoisted_8$27={class:"d-flex mb-2"},_hoisted_9$22={class:"pt-1"},_hoisted_10$1X={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_11$1R={key:0},_hoisted_12$1P={key:1},_hoisted_13$1I={class:"ml-auto mr-4 pr-2"},_hoisted_14$1C={class:"custom-control ios-switch"},_hoisted_15$1z=_withScopeId$9(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1)),_hoisted_16$1z={key:0,class:"col-12"},_hoisted_17$1q=_withScopeId$9(()=>createBaseVNode("h6",{class:"text-center"},"Введите номер телефона",-1)),_hoisted_18$1p={class:"input-style input-style-2"},_hoisted_19$1m={key:1,class:"col-12"},_hoisted_20$1k=_withScopeId$9(()=>createBaseVNode("h6",{class:"text-center"},"Введите номер карты",-1)),_hoisted_21$1i={class:"input-style input-style-2"},_hoisted_22$1h={class:"col-12"},_hoisted_23$1c=_withScopeId$9(()=>createBaseVNode("h6",{class:"text-center"},"Укажите инициалы получателя и название банка",-1)),_hoisted_24$19={class:"input-style input-style-2"},_hoisted_25$16={class:"col-12"},_hoisted_26$11=["disabled"],_hoisted_27$$=_withScopeId$9(()=>createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1)),_hoisted_28$_={class:"col-12"},__default__$1S={data(){return{load:!1,botUser:null,need_phone:!1,withDrawMoneyForm:{amount:null,card:null,info:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.withDrawMoneyForm.amount=this.botUser.cashBack.amount||0}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{submit(){this.load=!0,this.$store.dispatch("withDrawMoney",{withDrawMoneyForm:this.withDrawMoneyForm}).then(o=>{this.load=!1,this.$botNotification.success("Вывод средств","Данные успешно переданы на обработку!"),this.tg.close()}).catch(()=>{this.load=!1,this.$botNotification.warning("Вывод средств","Ошибка обработки данных!")})}}},_sfc_main$2F=Object.assign(__default__$1S,{__name:"CashOut",setup(o){return(t,s)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2A,[createBaseVNode("div",_hoisted_2$2x,[createBaseVNode("form",{onSubmit:s[5]||(s[5]=withModifiers((...a)=>t.submit&&t.submit(...a),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_3$2r,[createBaseVNode("p",_hoisted_4$2l,"На вашем счету накопилось "+toDisplayString(t.botUser.cashBack.amount||0)+" руб. ",1),_hoisted_5$2j,createBaseVNode("div",_hoisted_6$2h,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"1000 руб.","aria-label":"withDrawMoneyForm-amount","onUpdate:modelValue":s[0]||(s[0]=a=>t.withDrawMoneyForm.amount=a),"aria-describedby":"withDrawMoneyForm-amount",required:""},null,512),[[vModelText,t.withDrawMoneyForm.amount]])])]),createBaseVNode("div",_hoisted_7$2d,[createBaseVNode("div",_hoisted_8$27,[createBaseVNode("div",_hoisted_9$22,[createBaseVNode("h5",_hoisted_10$1X,[t.need_phone?(openBlock(),createElementBlock("span",_hoisted_11$1R,"На карту")):(openBlock(),createElementBlock("span",_hoisted_12$1P,"По номеру телефона"))])]),createBaseVNode("div",_hoisted_13$1I,[createBaseVNode("div",_hoisted_14$1C,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.need_phone=a),type:"checkbox",class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.need_phone]]),_hoisted_15$1z])])])]),t.need_phone?(openBlock(),createElementBlock("div",_hoisted_16$1z,[_hoisted_17$1q,createBaseVNode("div",_hoisted_18$1p,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[2]||(s[2]=a=>t.withDrawMoneyForm.card=a),placeholder:"+7(000)000-00-00","aria-label":"withDrawMoneyForm-card","aria-describedby":"withDrawMoneyForm-card",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.withDrawMoneyForm.card]])])])):createCommentVNode("",!0),t.need_phone?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_19$1m,[_hoisted_20$1k,createBaseVNode("div",_hoisted_21$1i,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[3]||(s[3]=a=>t.withDrawMoneyForm.card=a),placeholder:"0000 0000 0000 0000","aria-label":"withDrawMoneyForm-card","aria-describedby":"withDrawMoneyForm-card",required:""},null,512),[[i,"#### #### #### ####"],[vModelText,t.withDrawMoneyForm.card]])])])),createBaseVNode("div",_hoisted_22$1h,[_hoisted_23$1c,createBaseVNode("div",_hoisted_24$19,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Иванов И.И., сбер","aria-label":"withDrawMoneyForm-info","onUpdate:modelValue":s[4]||(s[4]=a=>t.withDrawMoneyForm.info=a),"aria-describedby":"withDrawMoneyForm-info",required:""},null,512),[[vModelText,t.withDrawMoneyForm.info]])])]),createBaseVNode("div",_hoisted_25$16,[createBaseVNode("button",{type:"submit",disabled:t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить заявку ",8,_hoisted_26$11)]),_hoisted_27$$,createBaseVNode("div",_hoisted_28$_,[createVNode(ReturnToBot,{class:"mb-2"})])],32)])])):createCommentVNode("",!0),createVNode(_sfc_main$2G)],64)}}}),CashOut=_export_sfc(_sfc_main$2F,[["__scopeId","data-v-afc2d6b1"]]),CashOut$1=Object.freeze(Object.defineProperty({__proto__:null,default:CashOut},Symbol.toStringTag,{value:"Module"})),SaveUp_vue_vue_type_style_index_0_lang="",_hoisted_1$2z={key:0,class:"card card-style"},_hoisted_2$2w={class:"content"},_hoisted_3$2q=createBaseVNode("h4",null,"Правила данной акции",-1),_hoisted_4$2k={key:1,class:"card card-style"},_hoisted_5$2i={class:"content"},_hoisted_6$2g=createBaseVNode("h6",{class:"text-center"},"Ваша личная накопительная карта",-1),_hoisted_7$2c=createBaseVNode("p",null,null,-1),_hoisted_8$26={class:"d-flex justify-content-around flex-wrap save-up"},_hoisted_9$21=["innerHTML"],_hoisted_10$1W={key:1},_hoisted_11$1Q=createBaseVNode("i",{class:"fa-solid fa-question"},null,-1),_hoisted_12$1O=[_hoisted_11$1Q],__default__$1R={name:"App",data(){return{rules:null,action:null,icon:null,icon_color:null}},mounted(){this.prepareUserData()},methods:{requestClick(){this.$cashback.qr("002")},prepareUserData(){return this.$store.dispatch("bonusProductPrepare").then(o=>{this.action=o.action,this.rules=o.rules,this.icon=o.icon,this.icon_color=o.icon_color})},submit(){this.$store.dispatch("wheelOfFortuneWin",this.productForm).then(o=>{this.winForm={win:null,name:null,phone:null},this.$botNotification.success("Вы выиграли!","Наш менеджер свяжется с вами для дальнейших инструкций."),this.prepareUserData()}).catch(o=>{})}}},_sfc_main$2E=Object.assign(__default__$1R,{setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$2z,[createBaseVNode("div",_hoisted_2$2w,[_hoisted_3$2q,createBaseVNode("p",null,toDisplayString(t.rules),1)])])):createCommentVNode("",!0),t.action?(openBlock(),createElementBlock("div",_hoisted_4$2k,[createBaseVNode("div",_hoisted_5$2i,[_hoisted_6$2g,_hoisted_7$2c,createBaseVNode("ul",_hoisted_8$26,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.max_attempts||10,i=>(openBlock(),createElementBlock("li",{class:normalizeClass({active:i<=t.action.current_attempts}),onClick:s[0]||(s[0]=(...a)=>t.requestClick&&t.requestClick(...a))},[i<=t.action.current_attempts?(openBlock(),createElementBlock("span",{key:0,innerHTML:t.icon,style:normalizeStyle({color:t.icon_color})},null,12,_hoisted_9$21)):(openBlock(),createElementBlock("span",_hoisted_10$1W,_hoisted_12$1O))],2))),256))]),createVNode(ReturnToBot)])])):createCommentVNode("",!0)],64))}}),SaveUp=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2E},Symbol.toStringTag,{value:"Module"})),Quest_vue_vue_type_style_index_0_lang="",_hoisted_1$2y={key:0,class:"card card-style"},_hoisted_2$2v={class:"content"},_hoisted_3$2p=createBaseVNode("h4",null,"Правила данного задания",-1),_hoisted_4$2j={key:0},_hoisted_5$2h={key:1,class:"card card-style"},_hoisted_6$2f={class:"content"},_hoisted_7$2b={class:"card mb-0"},_hoisted_8$25={class:"card-body"},_hoisted_9$20={for:"photos",class:"photo-loader mb-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},_hoisted_10$1V=createBaseVNode("i",{class:"fa-brands fa-instagram font-36"},null,-1),_hoisted_11$1P=createBaseVNode("p",{class:"mt-3 font-16"}," Нажмите для выбора фотографии",-1),_hoisted_12$1N={key:0,class:"img-preview w-100"},_hoisted_13$1H={class:"w-100 object-fit-cover"},_hoisted_14$1B={class:"remove"},_hoisted_15$1y=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_16$1y=createBaseVNode("div",{class:"card card-style my-3"},[createBaseVNode("div",{class:"content"},[createBaseVNode("h3",null,"Анкета участника акции"),createBaseVNode("p",null," Для участия в конкурсе и дальнейшего получения приза необходимо заполнить данную анкету! Укажите своё имя и номер телефона чтоб менеджер мог выдать Вам приз по итогу. ")])],-1),__default__$1Q={name:"App",data(){return{rules:null,sending:!1,action:null,photo:null,hasProfileData:!1,instaForm:{comment:null,name:null,phone:null}}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")},prepareUserData(){return this.$store.dispatch("instagramQuestPrepare").then(o=>{this.action=o.action,this.canPlay||this.$botNotification.warning("Упс!","Вы израсходовали все попытки!")})},loadServiceData(){return this.$store.dispatch("instagramQuestLoadData").then(o=>{this.rules=o.rules})},removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0]},callbackPlayerForm(o){this.instaForm={...this.instaForm,...o},this.hasProfileData=!0},submit(){let o=new FormData;Object.keys(this.instaForm).forEach(t=>{const s=this.instaForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),o.append("photo",this.photo),this.$store.dispatch("instagramQuestResult",{instaForm:o}).then(t=>{this.sending=!1,this.instaForm={comment:null,name:null,phone:null},this.photo=null,this.hasProfileData=!1,this.$botNotification.success("Вы выиграли!","Наш менеджер свяжется с вами для дальнейших инструкций."),setTimeout(()=>{this.prepareUserData()},5e3)}).catch(t=>{})}}},_sfc_main$2D=Object.assign(__default__$1Q,{setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.rules?(openBlock(),createElementBlock("div",_hoisted_1$2y,[createBaseVNode("div",_hoisted_2$2v,[_hoisted_3$2p,createBaseVNode("p",null,toDisplayString(t.rules),1),t.canPlay?(openBlock(),createElementBlock("p",_hoisted_4$2j,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",null,toDisplayString(t.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",null,toDisplayString(t.action.max_attempts||1),1)])):(openBlock(),createElementBlock("p",{key:1,onClick:s[0]||(s[0]=(...a)=>t.lose&&t.lose(...a)),style:{"font-weight":"900",color:"red"}},"Вы израсходовали все ваши попытки"))])])):createCommentVNode("",!0),t.canPlay&&t.hasProfileData?(openBlock(),createElementBlock("div",_hoisted_5$2h,[createBaseVNode("div",_hoisted_6$2f,[createBaseVNode("div",_hoisted_7$2b,[createBaseVNode("div",_hoisted_8$25,[createBaseVNode("label",_hoisted_9$20,[_hoisted_10$1V,createBaseVNode("input",{type:"file",id:"photos",accept:"image/*",onChange:s[1]||(s[1]=(...a)=>t.onChangePhotos&&t.onChangePhotos(...a)),style:{display:"none"}},null,32),_hoisted_11$1P]),t.photo?(openBlock(),createElementBlock("div",_hoisted_12$1N,[withDirectives(createBaseVNode("img",_hoisted_13$1H,null,512),[[i,t.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_14$1B,[createBaseVNode("a",{onClick:s[2]||(s[2]=(...a)=>t.removePhoto&&t.removePhoto(...a)),class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s border-danger text-danger"},[_hoisted_15$1y,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0)])]),t.photo?(openBlock(),createElementBlock("button",{key:0,onClick:s[3]||(s[3]=(...a)=>t.submit&&t.submit(...a)),type:"button",class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-green1-light w-100 mt-2 mb-2"}," Получить приз ")):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-0"})])])):createCommentVNode("",!0),t.canPlay&&!t.hasProfileData?(openBlock(),createBlock(PlayerForm,{key:2,onCallback:t.callbackPlayerForm},{head:withCtx(()=>[_hoisted_16$1y]),_:1},8,["onCallback"])):createCommentVNode("",!0)],64)}}}),Quest=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2D},Symbol.toStringTag,{value:"Module"})),_sfc_main$2C={__name:"Empty",setup(o){return(t,s)=>(openBlock(),createBlock(_sfc_main$3b))}},Empty=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2C},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2x={class:"card card-style"},_hoisted_2$2u={class:"content"},_hoisted_3$2o={class:"mb-0"},_hoisted_4$2i={key:0},_hoisted_5$2g=createBaseVNode("strong",null,"CashBack",-1),_hoisted_6$2e={key:1},_hoisted_7$2a=createBaseVNode("b",null,"номер телефона",-1),_hoisted_8$24={class:"row mb-0 px-3"},_hoisted_9$1$={class:"col-6 p-1"},_hoisted_10$1U={class:"col-6 p-1"},_hoisted_11$1O={key:1,class:"card card-style"},_hoisted_12$1M={class:"content mb-2"},_hoisted_13$1G=createBaseVNode("h3",null,"Список администраторов",-1),_hoisted_14$1A=createBaseVNode("p",null," Список всех администраторов системы с их статусами и последним временем онлайн ",-1),_hoisted_15$1x={class:"list-group list-boxes"},_hoisted_16$1x=["onClick"],_hoisted_17$1p=createBaseVNode("i",{class:"fa font-20 fa-mobile color-blue2-dark"},null,-1),_hoisted_18$1o={key:0,class:"color-green1-dark"},_hoisted_19$1l={key:1,class:"color-red2-light"},_hoisted_20$1j={key:2,class:"fa fa-check-circle color-green1-dark"},_hoisted_21$1h={key:3,class:"fa fa-times-circle color-red2-light"},_hoisted_22$1g={key:2,class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},_hoisted_23$1b=createBaseVNode("div",{class:"card-center"},[createBaseVNode("h3",{class:"color-white font-700 text-center mb-0"},"Список администраторов"),createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"К сожалению, администраторы не найдены:(")],-1),_hoisted_24$18=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),_hoisted_25$15=[_hoisted_23$1b,_hoisted_24$18],__default__$1P={data(){return{admins:[],admins_paginate_object:null,type:0}},computed:{...mapGetters(["getAdmins","getAdminsPaginateObject"]),self(){return window.self},currentBot(){return window.currentBot}},mounted(){this.loadAdmins()},methods:{nextAdminPage(o){this.loadAdmins(o)},sendRequest(o,t){if(!o.is_work){this.$botNotification.warning("Упс!","Администратор офлайн!");return}this.$store.dispatch("requestAdmin",{dataObject:{bot_id:this.currentBot.id,admin_telegram_chat_id:o.telegram_chat_id,user_telegram_chat_id:this.self.telegram_chat_id}}).then(s=>{this.$botNotification.success("Отлично!","Выбранный Администратор оповещен!")}).catch(()=>{})},loadAdmins(o=0){this.$store.dispatch("loadAdmins",{dataObject:{bot_domain:this.currentBot.bot_domain},page:o}).then(t=>{this.admins=this.getAdmins,this.admins_paginate_object=this.getAdminsPaginateObject}).catch(()=>{})}}},_sfc_main$2B=Object.assign(__default__$1P,{__name:"Booking",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2x,[createBaseVNode("div",_hoisted_2$2u,[createBaseVNode("p",_hoisted_3$2o,[createTextVNode(" Вы можете выбрать администратора из списка активных администраторов и прислать ему запрос "),t.type===0?(openBlock(),createElementBlock("span",_hoisted_4$2i,[createTextVNode("на начисление "),_hoisted_5$2g,createTextVNode(".")])):createCommentVNode("",!0),t.type===1?(openBlock(),createElementBlock("span",_hoisted_6$2e,[createTextVNode("на бронирование столика. Обязательно укажите свой "),_hoisted_7$2a,createTextVNode(" для обратной связи.")])):createCommentVNode("",!0),createTextVNode(" К запросу Вы можете прикрепить текстовое сообщение, которое также получит выбранный администратор. ")]),createBaseVNode("div",_hoisted_8$24,[createBaseVNode("div",_hoisted_9$1$,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=i=>t.type=0),class:normalizeClass(["btn btn-border btn-m btn-full rounded-sm text-uppercase font-900 w-100",{"bg-highlight":t.type===0,"border-highlight color-highlight bg-theme":t.type!==0}])}," Начислить CashBack ",2)]),createBaseVNode("div",_hoisted_10$1U,[createBaseVNode("button",{type:"button",onClick:s[1]||(s[1]=i=>t.type=1),class:normalizeClass(["btn btn-border btn-m btn-full rounded-sm text-uppercase font-900 w-100",{"bg-highlight":t.type===1,"border-highlight color-highlight bg-theme":t.type!==1}])}," Забронировать столик ",2)])])])]),t.type===1?(openBlock(),createBlock(_sfc_main$3b,{key:0,type:"booking"})):createCommentVNode("",!0),t.type===0&&t.admins.length>0?(openBlock(),createElementBlock("div",_hoisted_11$1O,[createBaseVNode("div",_hoisted_12$1M,[_hoisted_13$1G,_hoisted_14$1A,createBaseVNode("div",_hoisted_15$1x,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.admins,(i,a)=>(openBlock(),createElementBlock("a",{href:"#",onClick:withModifiers(n=>t.sendRequest(i,a),["prevent"]),class:normalizeClass([{"border-green1-dark":i.is_work,"border-red1-dark":!i.is_work},"border rounded-s shadow-xs"])},[_hoisted_17$1p,createBaseVNode("span",null,toDisplayString(i.user.fio_from_telegram||i.user.name||"Не указано")+" ("+toDisplayString(t.$filters.timeAgo(i.updated_at))+")",1),createBaseVNode("strong",null,toDisplayString(i.phone||"Номер телефона не указан"),1),i.is_work?(openBlock(),createElementBlock("u",_hoisted_18$1o,"В сети")):(openBlock(),createElementBlock("u",_hoisted_19$1l,"Не в сети")),i.is_work?(openBlock(),createElementBlock("i",_hoisted_20$1j)):(openBlock(),createElementBlock("i",_hoisted_21$1h))],10,_hoisted_16$1x))),256))]),t.admins_paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-2",onPagination_page:t.nextAdminPage,pagination:t.admins_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-2"})])])):createCommentVNode("",!0),t.type===0&&t.admins.length===0?(openBlock(),createElementBlock("div",_hoisted_22$1g,_hoisted_25$15)):createCommentVNode("",!0)],64))}}),Booking=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2B},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2w=createBaseVNode("div",{class:"card card-style"},[createBaseVNode("div",{class:"content"},[createBaseVNode("p",{class:"mb-0"},[createTextVNode(" Вы можете выбрать администратора из списка активных администраторов и прислать ему запрос на зачисление "),createBaseVNode("strong",null,"CashBack"),createTextVNode(". К запросу вы можете прикрепить текстовое сообщение, которое также получит выбранный администратор. ")])])],-1),_hoisted_2$2t={key:0,class:"card card-style"},_hoisted_3$2n={class:"content mb-2"},_hoisted_4$2h=createBaseVNode("h3",null,"Список администраторов",-1),_hoisted_5$2f=createBaseVNode("p",null," Список всех администраторов системы с их статусами и последним временем онлайн ",-1),_hoisted_6$2d={class:"list-group list-boxes"},_hoisted_7$29=["onClick"],_hoisted_8$23=createBaseVNode("i",{class:"fa font-20 fa-mobile color-blue2-dark"},null,-1),_hoisted_9$1_={key:0,class:"color-green1-dark"},_hoisted_10$1T={key:1,class:"color-red2-light"},_hoisted_11$1N={key:2,class:"fa fa-check-circle color-green1-dark"},_hoisted_12$1L={key:3,class:"fa fa-times-circle color-red2-light"},_hoisted_13$1F={key:1,class:"card card-style bg-28","data-card-height":"130",style:{height:"130px"}},_hoisted_14$1z=createBaseVNode("div",{class:"card-center"},[createBaseVNode("h3",{class:"color-white font-700 text-center mb-0"},"Список администраторов"),createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-0"},"К сожалению, администраторы не найдены:(")],-1),_hoisted_15$1w=createBaseVNode("div",{class:"card-overlay bg-highlight opacity-90"},null,-1),_hoisted_16$1w=[_hoisted_14$1z,_hoisted_15$1w],__default__$1O={data(){return{spent_time_counter:0,is_requested:!1,admins:[],admins_paginate_object:null,type:0}},computed:{...mapGetters(["getAdmins","getAdminsPaginateObject"]),self(){return window.self},currentBot(){return window.currentBot}},mounted(){this.loadAdmins(),localStorage.getItem("cashman_admin_request_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_admin_request_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,30):30;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_admin_request_counter",this.spent_time_counter)},1e3)},nextAdminPage(o){this.loadAdmins(o)},sendRequest(o,t){if(!o.is_work){this.$botNotification.warning("Упс!","Администратор офлайн!");return}if(this.is_requested){this.$botNotification.warning("Упс!",`Вызвать администратора можно через <strong>${this.spent_time_counter} сек.</strong>`);return}this.$store.dispatch("requestAdmin",{dataObject:{bot_id:this.currentBot.id,admin_telegram_chat_id:o.telegram_chat_id,user_telegram_chat_id:this.self.telegram_chat_id}}).then(s=>{this.$botNotification.success("Отлично!","Выбранный Администратор оповещен!"),this.startTimer(),this.is_requested=!0}).catch(()=>{})},loadAdmins(o=0){this.$store.dispatch("loadAdmins",{dataObject:{bot_domain:this.currentBot.bot_domain},page:o}).then(t=>{this.admins=this.getAdmins,this.admins_paginate_object=this.getAdminsPaginateObject}).catch(()=>{})}}},_sfc_main$2A=Object.assign(__default__$1O,{__name:"Admins",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2w,t.admins.length>0?(openBlock(),createElementBlock("div",_hoisted_2$2t,[createBaseVNode("div",_hoisted_3$2n,[_hoisted_4$2h,_hoisted_5$2f,createBaseVNode("div",_hoisted_6$2d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.admins,(i,a)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:withModifiers(n=>t.sendRequest(i,a),["prevent"]),class:normalizeClass([{"border-green1-dark":i.is_work,"border-red1-dark":!i.is_work},"border rounded-s shadow-xs"])},[_hoisted_8$23,createBaseVNode("span",null,toDisplayString(i.user.fio_from_telegram||i.user.name||"Не указано")+" ("+toDisplayString(t.$filters.timeAgo(i.updated_at))+")",1),createBaseVNode("strong",null,toDisplayString(i.phone||"Номер телефона не указан"),1),i.is_work?(openBlock(),createElementBlock("u",_hoisted_9$1_,"В сети")):(openBlock(),createElementBlock("u",_hoisted_10$1T,"Не в сети")),i.is_work?(openBlock(),createElementBlock("i",_hoisted_11$1N)):(openBlock(),createElementBlock("i",_hoisted_12$1L))],10,_hoisted_7$29))),256))]),t.admins_paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-2",onPagination_page:t.nextAdminPage,pagination:t.admins_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-2"})])])):createCommentVNode("",!0),t.type===0&&t.admins.length===0?(openBlock(),createElementBlock("div",_hoisted_13$1F,_hoisted_16$1w)):createCommentVNode("",!0)],64))}}),Admins=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2A},Symbol.toStringTag,{value:"Module"})),Vip_vue_vue_type_style_index_0_scoped_a1775696_lang="",_withScopeId$8=o=>(pushScopeId("data-v-a1775696"),o=o(),popScopeId(),o),_hoisted_1$2v={key:0},_hoisted_2$2s={key:0,class:"card card-style p-3"},_hoisted_3$2m={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_4$2g={class:"img-avatar"},_hoisted_5$2e={class:"img-avatar"},_hoisted_6$2c={class:"col-12"},_hoisted_7$28=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимущества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_8$22=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),_hoisted_9$1Z={class:"input-style input-style-2"},_hoisted_10$1S={class:"col-12"},_hoisted_11$1M={key:0,class:"mb-3"},_hoisted_12$1K=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой номер телефона",-1)),_hoisted_13$1E={class:"input-style input-style-2"},_hoisted_14$1y={key:0,class:"col-12"},_hoisted_15$1v=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_16$1v=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Вы мужчина или женщина?",-1)),_hoisted_17$1o={class:"row mb-0"},_hoisted_18$1n={class:"col-6 p-3"},_hoisted_19$1k=_withScopeId$8(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_20$1i=_withScopeId$8(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_21$1g=[_hoisted_19$1k,_hoisted_20$1i],_hoisted_22$1f={class:"col-6 p-3"},_hoisted_23$1a=_withScopeId$8(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_24$17=_withScopeId$8(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_25$14=[_hoisted_23$1a,_hoisted_24$17],_hoisted_26$10={key:1,class:"col-12"},_hoisted_27$_=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),_hoisted_28$Z=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой день рождения",-1)),_hoisted_29$W={class:"input-style input-style-2"},_hoisted_30$V={key:2,class:"col-12"},_hoisted_31$V=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_32$U=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1)),_hoisted_33$U={class:"input-style input-style-2"},_hoisted_34$T=createStaticVNode('<datalist id="datalistCityOptions" data-v-a1775696><option value="Краснодар" data-v-a1775696></option><option value="Ростов-на-Дону" data-v-a1775696></option><option value="Таганрог" data-v-a1775696></option><option value="Донецк" data-v-a1775696></option><option value="Москва" data-v-a1775696></option></datalist>',1),_hoisted_35$T={class:"col-12"},_hoisted_36$R={key:0},_hoisted_37$P={class:"text-center"},_hoisted_38$L={key:0,class:"input-style input-style-2"},_hoisted_39$M=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_40$J={key:1,class:"row mb-0"},_hoisted_41$J={class:"col-6 p-3"},_hoisted_42$J=["onClick"],_hoisted_43$J=_withScopeId$8(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_44$I=_withScopeId$8(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_45$H=[_hoisted_43$J,_hoisted_44$I],_hoisted_46$H={class:"col-6 p-3"},_hoisted_47$G=["onClick"],_hoisted_48$F=_withScopeId$8(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_49$C=_withScopeId$8(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_50$z=[_hoisted_48$F,_hoisted_49$C],_hoisted_51$z={class:"col-12"},_hoisted_52$z=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_53$x=_withScopeId$8(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_54$x={class:"d-flex mb-3"},_hoisted_55$w={class:"pt-1"},_hoisted_56$w={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_57$w={key:0},_hoisted_58$v={key:1},_hoisted_59$u={class:"ml-auto mr-4 pr-2"},_hoisted_60$r={class:"custom-control ios-switch"},_hoisted_61$q=_withScopeId$8(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_62$o=["disabled"],_hoisted_63$o={key:1,class:"card card-style p-3"},_hoisted_64$o={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_65$o={class:"img-avatar"},_hoisted_66$o={class:"img-avatar"},_hoisted_67$o={class:"col-12"},_hoisted_68$n=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_69$n=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),_hoisted_70$n={class:"input-style input-style-2"},_hoisted_71$n=_withScopeId$8(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_72$l={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_73$k={class:"img-avatar"},_hoisted_74$k={class:"img-avatar"},_hoisted_75$k={class:"col-12"},_hoisted_76$j={class:"mb-3"},_hoisted_77$j=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой номер телефона",-1)),_hoisted_78$h={class:"input-style input-style-2"},_hoisted_79$g=_withScopeId$8(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_80$g={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_81$g={class:"img-avatar"},_hoisted_82$g={class:"img-avatar"},_hoisted_83$e={class:"col-12"},_hoisted_84$c=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_85$c=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Ты мужчина или женщина?",-1)),_hoisted_86$c={class:"row mb-0"},_hoisted_87$b={class:"col-6 p-3"},_hoisted_88$b=_withScopeId$8(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_89$b=_withScopeId$8(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_90$b=[_hoisted_88$b,_hoisted_89$b],_hoisted_91$b={class:"col-6 p-3"},_hoisted_92$a=_withScopeId$8(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_93$a=_withScopeId$8(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_94$a=[_hoisted_92$a,_hoisted_93$a],_hoisted_95$9=_withScopeId$8(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_96$9={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_97$9={class:"img-avatar"},_hoisted_98$9={class:"img-avatar"},_hoisted_99$9={class:"col-12"},_hoisted_100$9=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_101$9=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1)),_hoisted_102$9={class:"input-style input-style-2"},_hoisted_103$9=createStaticVNode('<datalist id="datalistCityOptions" data-v-a1775696><option value="Краснодар" data-v-a1775696></option><option value="Ростов-на-Дону" data-v-a1775696></option><option value="Таганрог" data-v-a1775696></option><option value="Донецк" data-v-a1775696></option><option value="Москва" data-v-a1775696></option></datalist>',1),_hoisted_104$9=_withScopeId$8(()=>createBaseVNode("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),_hoisted_105$9={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_106$9={class:"img-avatar"},_hoisted_107$9={class:"img-avatar"},_hoisted_108$9={class:"col-12"},_hoisted_109$9=_withScopeId$8(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочитайте мои условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_110$9=_withScopeId$8(()=>createBaseVNode("h6",{class:"text-center"},"Последний шаг",-1)),_hoisted_111$9=_withScopeId$8(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_112$9={class:"d-flex mb-3"},_hoisted_113$9={class:"pt-1"},_hoisted_114$9={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_115$7={key:0},_hoisted_116$7={key:1},_hoisted_117$7={class:"ml-auto mr-4 pr-2"},_hoisted_118$7={class:"custom-control ios-switch"},_hoisted_119$7=_withScopeId$8(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_120$6=["disabled"],_hoisted_121$6={key:2,class:"card card-style p-3"},_hoisted_122$6=_withScopeId$8(()=>createBaseVNode("li",null,"Накопление CashBack за покупки",-1)),_hoisted_123$6=_withScopeId$8(()=>createBaseVNode("li",null,"Оплата товаров через CashBak",-1)),_hoisted_124$6=_withScopeId$8(()=>createBaseVNode("li",null,"Реферальная программа",-1)),_hoisted_125$6=_withScopeId$8(()=>createBaseVNode("h6",null,"Ваши данные:",-1)),_hoisted_126$6={class:"mb-0"},_hoisted_127$6={class:"mb-0"},_hoisted_128$6={class:"mb-0"},_hoisted_129$6={class:"mb-0"},_hoisted_130$6={class:"mb-0"},_hoisted_131$6={key:0},_hoisted_132$5={key:1},__default__$1N={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadCashBackModuleData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(s=>s.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(s=>{if(s.is_active){let i=this.getUserFieldValue(s.id),a=i.value,n=i.config;this.vipForm.fields.push({id:s.id,title:s.label,description:s.description,key:s.key,value:s.type===2?a==="1":a,type:s.type,pattern:s.pattern,required:s.required,config:n})}})})},nextStep(){this.step++},loadCashBackModuleData(){this.loading=!0,this.$store.dispatch("loadCashBackModuleData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveVip",{...this.vipForm}).then(o=>{this.loading=!1,this.tg.close()}).catch(()=>{this.loading=!1})}}},_sfc_main$2z=Object.assign(__default__$1N,{__name:"Vip",setup(o){return(t,s)=>{const i=resolveDirective("lazy"),a=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2v,[!t.botUser.is_vip&&t.settings.display_type==0?(openBlock(),createElementBlock("div",_hoisted_2$2s,[createBaseVNode("form",{onSubmit:s[7]||(s[7]=withModifiers((...n)=>t.submit&&t.submit(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_3$2m,[createBaseVNode("div",_hoisted_4$2g,[withDirectives(createBaseVNode("img",_hoisted_5$2e,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_6$2c,[_hoisted_7$28,_hoisted_8$22,createBaseVNode("div",_hoisted_9$1Z,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":s[0]||(s[0]=n=>t.vipForm.name=n),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,t.vipForm.name]])])]),createBaseVNode("div",_hoisted_10$1S,[t.vipForm.name?(openBlock(),createElementBlock("p",_hoisted_11$1M,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(t.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):createCommentVNode("",!0),_hoisted_12$1K,createBaseVNode("div",_hoisted_13$1E,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[1]||(s[1]=n=>t.vipForm.phone=n),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[a,"+7(###)###-##-##"],[vModelText,t.vipForm.phone]])])]),t.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_14$1y,[_hoisted_15$1v,_hoisted_16$1v,createBaseVNode("div",_hoisted_17$1o,[createBaseVNode("div",_hoisted_18$1n,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[2]||(s[2]=n=>t.vipForm.sex=!0)},_hoisted_21$1g,2)]),createBaseVNode("div",_hoisted_22$1f,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[3]||(s[3]=n=>t.vipForm.sex=!1)},_hoisted_25$14,2)])])])):createCommentVNode("",!0),t.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_26$10,[_hoisted_27$_,_hoisted_28$Z,createBaseVNode("div",_hoisted_29$W,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[4]||(s[4]=n=>t.vipForm.birthday=n),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,t.vipForm.birthday]])])])):createCommentVNode("",!0),t.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_30$V,[_hoisted_31$V,_hoisted_32$U,createBaseVNode("div",_hoisted_33$U,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=n=>t.vipForm.city=n),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,t.vipForm.city]]),_hoisted_34$T])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_35$T,[t.settings[n.key]?(openBlock(),createElementBlock("div",_hoisted_36$R,[createBaseVNode("h6",_hoisted_37$P,toDisplayString(n.description),1),n.type===0||n.type===1?(openBlock(),createElementBlock("div",_hoisted_38$L,[withDirectives(createBaseVNode("input",{type:n.type===1?"number":"text","onUpdate:modelValue":l=>t.vipForm.fields[r].value=l,class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:n.title,pattern:t.vipForm.fields[r].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:t.vipForm.fields[r].requried},null,8,_hoisted_39$M),[[vModelDynamic,t.vipForm.fields[r].value]])])):createCommentVNode("",!0),n.type===2?(openBlock(),createElementBlock("div",_hoisted_40$J,[createBaseVNode("div",_hoisted_41$J,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.fields[r].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[r].value=!0},_hoisted_45$H,10,_hoisted_42$J)]),createBaseVNode("div",_hoisted_46$H,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.fields[r].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[r].value=!1},_hoisted_50$z,10,_hoisted_47$G)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),createBaseVNode("div",_hoisted_51$z,[_hoisted_52$z,_hoisted_53$x,createBaseVNode("div",_hoisted_54$x,[createBaseVNode("div",_hoisted_55$w,[createBaseVNode("h5",_hoisted_56$w,[t.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_57$w,"С правилами ознакомилась")),t.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_58$v,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_59$u,[createBaseVNode("div",_hoisted_60$r,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[6]||(s[6]=n=>t.confirm=n),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_61$q])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_62$o)])],32)])):createCommentVNode("",!0),!t.botUser.is_vip&&t.settings.display_type==1?(openBlock(),createElementBlock("div",_hoisted_63$o,[t.step===0?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[9]||(s[9]=withModifiers((...n)=>t.nextStep&&t.nextStep(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_64$o,[createBaseVNode("div",_hoisted_65$o,[withDirectives(createBaseVNode("img",_hoisted_66$o,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_67$o,[_hoisted_68$n,_hoisted_69$n,createBaseVNode("div",_hoisted_70$n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":s[8]||(s[8]=n=>t.vipForm.name=n),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,t.vipForm.name]])]),_hoisted_71$n])],32)):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[11]||(s[11]=withModifiers((...n)=>t.nextStep&&t.nextStep(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_72$l,[createBaseVNode("div",_hoisted_73$k,[withDirectives(createBaseVNode("img",_hoisted_74$k,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_75$k,[createBaseVNode("p",_hoisted_76$j,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(t.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])]),_hoisted_77$j,createBaseVNode("div",_hoisted_78$h,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[10]||(s[10]=n=>t.vipForm.phone=n),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[a,"+7(###)###-##-##"],[vModelText,t.vipForm.phone]])]),_hoisted_79$g])],32)):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock("form",{key:2,onSubmit:s[14]||(s[14]=withModifiers((...n)=>t.nextStep&&t.nextStep(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_80$g,[createBaseVNode("div",_hoisted_81$g,[withDirectives(createBaseVNode("img",_hoisted_82$g,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_83$e,[_hoisted_84$c,_hoisted_85$c,createBaseVNode("div",_hoisted_86$c,[createBaseVNode("div",_hoisted_87$b,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[12]||(s[12]=n=>t.vipForm.sex=!0)},_hoisted_90$b,2)]),createBaseVNode("div",_hoisted_91$b,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[13]||(s[13]=n=>t.vipForm.sex=!1)},_hoisted_94$a,2)])]),_hoisted_95$9])],32)):createCommentVNode("",!0),t.step===3?(openBlock(),createElementBlock("form",{key:3,onSubmit:s[16]||(s[16]=withModifiers((...n)=>t.nextStep&&t.nextStep(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_96$9,[createBaseVNode("div",_hoisted_97$9,[withDirectives(createBaseVNode("img",_hoisted_98$9,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_99$9,[_hoisted_100$9,_hoisted_101$9,createBaseVNode("div",_hoisted_102$9,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[15]||(s[15]=n=>t.vipForm.city=n),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,t.vipForm.city]]),_hoisted_103$9]),_hoisted_104$9])],32)):createCommentVNode("",!0),t.step===4?(openBlock(),createElementBlock("form",{key:4,onSubmit:s[19]||(s[19]=withModifiers((...n)=>t.submit&&t.submit(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_105$9,[createBaseVNode("div",_hoisted_106$9,[withDirectives(createBaseVNode("img",_hoisted_107$9,null,512),[[i,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_108$9,[_hoisted_109$9,_hoisted_110$9,_hoisted_111$9,createBaseVNode("div",_hoisted_112$9,[createBaseVNode("div",_hoisted_113$9,[createBaseVNode("h5",_hoisted_114$9,[t.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_115$7,"С правилами озакномилась")),t.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_116$7,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_117$7,[createBaseVNode("div",_hoisted_118$7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[17]||(s[17]=n=>t.confirm=n),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_119$7])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_120$6),createBaseVNode("button",{type:"button",onClick:s[18]||(s[18]=n=>t.step=0),class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100 mb-2"}," Исправить ошибки ")])],32)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_121$6,[createTextVNode(" Поздравляем! Вы являетесь нашим VIP-пользователем! Вам доступны следующие возможности: "),createBaseVNode("ul",null,[_hoisted_122$6,_hoisted_123$6,_hoisted_124$6,createBaseVNode("li",null,[_hoisted_125$6,createBaseVNode("p",_hoisted_126$6,"Имя: "+toDisplayString(t.botUser.name||"Не указано"),1),createBaseVNode("p",_hoisted_127$6,"Телефон: "+toDisplayString(t.botUser.phone||"Не указано"),1),createBaseVNode("p",_hoisted_128$6,"Город: "+toDisplayString(t.botUser.city||"Не указано"),1),createBaseVNode("p",_hoisted_129$6,"Пол: "+toDisplayString(t.botUser.sex?"Мужской":"Женский"),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,n=>(openBlock(),createElementBlock("p",_hoisted_130$6,[createTextVNode(toDisplayString(n.title)+": ",1),n.config.type===2?(openBlock(),createElementBlock("span",_hoisted_131$6,toDisplayString(n.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),n.config.type===0||n.config.type===1?(openBlock(),createElementBlock("span",_hoisted_132$5,toDisplayString(n.value),1)):createCommentVNode("",!0)]))),256))])]),createVNode(ReturnToBot,{class:"mb-2"})])):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(_sfc_main$2G)],64)}}}),Vip=_export_sfc(_sfc_main$2z,[["__scopeId","data-v-a1775696"]]),Vip$1=Object.freeze(Object.defineProperty({__proto__:null,default:Vip},Symbol.toStringTag,{value:"Module"})),ProfileForm_vue_vue_type_style_index_0_scoped_ecffb0b9_lang="",_withScopeId$7=o=>(pushScopeId("data-v-ecffb0b9"),o=o(),popScopeId(),o),_hoisted_1$2u={key:0},_hoisted_2$2r={key:0,class:"card card-style p-3"},_hoisted_3$2l={key:0,class:"col-12 d-flex justify-content-center mb-3"},_hoisted_4$2f={class:"img-avatar"},_hoisted_5$2d={key:0,class:"img-avatar"},_hoisted_6$2b={key:1},_hoisted_7$27={class:"col-12"},_hoisted_8$21=["innerHTML"],_hoisted_9$1Y={class:"input-style input-style-2"},_hoisted_10$1R={key:1,class:"col-12"},_hoisted_11$1L=["innerHTML"],_hoisted_12$1J={class:"input-style input-style-2"},_hoisted_13$1D={key:2,class:"col-12"},_hoisted_14$1x=["innerHTML"],_hoisted_15$1u={class:"input-style input-style-2"},_hoisted_16$1u={key:3,class:"col-12"},_hoisted_17$1n=["innerHTML"],_hoisted_18$1m={class:"row mb-0"},_hoisted_19$1j={class:"col-6 p-3"},_hoisted_20$1h=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_21$1f=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_22$1e=[_hoisted_20$1h,_hoisted_21$1f],_hoisted_23$19={class:"col-6 p-3"},_hoisted_24$16=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_25$13=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_26$$=[_hoisted_24$16,_hoisted_25$13],_hoisted_27$Z={key:4,class:"col-12"},_hoisted_28$Y=["innerHTML"],_hoisted_29$V={class:"input-style input-style-2"},_hoisted_30$U={key:5,class:"col-12"},_hoisted_31$U=["innerHTML"],_hoisted_32$T={class:"input-style input-style-2"},_hoisted_33$T={class:"col-12"},_hoisted_34$S={key:0},_hoisted_35$S={class:"text-center"},_hoisted_36$Q={key:0,class:"input-style input-style-2"},_hoisted_37$O=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_38$K={key:1,class:"row mb-0"},_hoisted_39$L={class:"col-6 p-3"},_hoisted_40$I=["onClick"],_hoisted_41$I=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_42$I=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_43$I=[_hoisted_41$I,_hoisted_42$I],_hoisted_44$H={class:"col-6 p-3"},_hoisted_45$G=["onClick"],_hoisted_46$G=_withScopeId$7(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_47$F=_withScopeId$7(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_48$E=[_hoisted_46$G,_hoisted_47$F],_hoisted_49$B={class:"col-12"},_hoisted_50$y=_withScopeId$7(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_51$y=_withScopeId$7(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_52$y={class:"d-flex mb-3"},_hoisted_53$w={class:"pt-1"},_hoisted_54$w={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_55$v={key:0},_hoisted_56$v={key:1},_hoisted_57$v={class:"ml-auto mr-4 pr-2"},_hoisted_58$u={class:"custom-control ios-switch"},_hoisted_59$t=_withScopeId$7(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_60$q=["disabled"],_hoisted_61$p={key:1,class:"card card-style p-3"},_hoisted_62$n=["innerHTML"],_hoisted_63$n=_withScopeId$7(()=>createBaseVNode("h6",null,"Ваши данные:",-1)),_hoisted_64$n={class:"mb-0"},_hoisted_65$n={key:0,class:"mb-0"},_hoisted_66$n={key:1,class:"mb-0"},_hoisted_67$n={key:2,class:"mb-0"},_hoisted_68$m={key:3,class:"mb-0"},_hoisted_69$m={key:4,class:"mb-0"},_hoisted_70$m={class:"mb-0"},_hoisted_71$m={key:0},_hoisted_72$k={key:1},__default__$1M={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0,need_phone:!0,need_email:!0,need_profile_form_image:!0,form_image:null,pre_birthday_text:null,pre_email_text:null,pre_age_text:null,pre_city_text:null,pre_sex_text:null,pre_name_text:null,pre_phone_text:null,text_after_submit:null},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadProfileFormData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(s=>s.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(s=>{if(s.is_active){let i=this.getUserFieldValue(s.id),a=i.value,n=i.config;this.vipForm.fields.push({id:s.id,title:s.label,description:s.description,key:s.key,value:s.type===2?a==="1":a,type:s.type,pattern:s.pattern,required:s.required,config:n})}})})},loadProfileFormData(){this.loading=!0,this.$store.dispatch("loadProfileFormData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveProfileFormData",{dataObject:this.vipForm}).then(o=>{this.loading=!1,this.tg.close()}).catch(()=>{this.loading=!1})}}},_sfc_main$2y=Object.assign(__default__$1M,{__name:"ProfileForm",setup(o){return(t,s)=>{const i=resolveDirective("lazy"),a=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2u,[t.botUser.is_vip?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$2r,[createBaseVNode("form",{onSubmit:s[8]||(s[8]=withModifiers((...n)=>t.submit&&t.submit(...n),["prevent"])),class:"row mb-0"},[t.settings.need_profile_form_image?(openBlock(),createElementBlock("div",_hoisted_3$2l,[createBaseVNode("div",_hoisted_4$2f,[t.settings.form_image?withDirectives((openBlock(),createElementBlock("img",_hoisted_5$2d,null,512)),[[i,t.settings.form_image]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_6$2b,null,512)),[[i,"/images-by-bot-id/"+t.currentBot.id+"/"+t.currentBot.image]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$27,[t.settings.pre_name_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_name_text},null,8,_hoisted_8$21)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$1Y,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":s[0]||(s[0]=n=>t.vipForm.name=n),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,t.vipForm.name]])])]),t.settings.need_phone?(openBlock(),createElementBlock("div",_hoisted_10$1R,[t.settings.pre_phone_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_phone_text},null,8,_hoisted_11$1L)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$1J,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[1]||(s[1]=n=>t.vipForm.phone=n),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[a,["+7(###)###-##-##"]],[vModelText,t.vipForm.phone]])])])):createCommentVNode("",!0),t.settings.need_email?(openBlock(),createElementBlock("div",_hoisted_13$1D,[t.settings.pre_email_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_email_text},null,8,_hoisted_14$1x)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$1u,[withDirectives(createBaseVNode("input",{type:"email",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[2]||(s[2]=n=>t.vipForm.email=n),placeholder:"example@test.com","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[vModelText,t.vipForm.email]])])])):createCommentVNode("",!0),t.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_16$1u,[t.settings.pre_sex_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_sex_text},null,8,_hoisted_17$1n)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$1m,[createBaseVNode("div",_hoisted_19$1j,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[3]||(s[3]=n=>t.vipForm.sex=!0)},_hoisted_22$1e,2)]),createBaseVNode("div",_hoisted_23$19,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[4]||(s[4]=n=>t.vipForm.sex=!1)},_hoisted_26$$,2)])])])):createCommentVNode("",!0),t.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_27$Z,[t.settings.pre_birthday_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_birthday_text},null,8,_hoisted_28$Y)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_29$V,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[5]||(s[5]=n=>t.vipForm.birthday=n),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,t.vipForm.birthday]])])])):createCommentVNode("",!0),t.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_30$U,[t.settings.pre_city_text?(openBlock(),createElementBlock("h6",{key:0,class:"mb-3 text-center",innerHTML:t.settings.pre_city_text},null,8,_hoisted_31$U)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$T,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=n=>t.vipForm.city=n),class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Ваш город","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,t.vipForm.city]])])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_33$T,[t.settings[n.key]?(openBlock(),createElementBlock("div",_hoisted_34$S,[createBaseVNode("h6",_hoisted_35$S,toDisplayString(n.description),1),n.type===0||n.type===1?(openBlock(),createElementBlock("div",_hoisted_36$Q,[withDirectives(createBaseVNode("input",{type:n.type===1?"number":"text","onUpdate:modelValue":l=>t.vipForm.fields[r].value=l,class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:n.title,pattern:t.vipForm.fields[r].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:t.vipForm.fields[r].requried},null,8,_hoisted_37$O),[[vModelDynamic,t.vipForm.fields[r].value]])])):createCommentVNode("",!0),n.type===2?(openBlock(),createElementBlock("div",_hoisted_38$K,[createBaseVNode("div",_hoisted_39$L,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.vipForm.fields[r].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[r].value=!0},_hoisted_43$I,10,_hoisted_40$I)]),createBaseVNode("div",_hoisted_44$H,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.vipForm.fields[r].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:l=>t.vipForm.fields[r].value=!1},_hoisted_48$E,10,_hoisted_45$G)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),createBaseVNode("div",_hoisted_49$B,[_hoisted_50$y,_hoisted_51$y,createBaseVNode("div",_hoisted_52$y,[createBaseVNode("div",_hoisted_53$w,[createBaseVNode("h5",_hoisted_54$w,[t.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_55$v,"С правилами ознакомилась")),t.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_56$v,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_57$v,[createBaseVNode("div",_hoisted_58$u,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[7]||(s[7]=n=>t.confirm=n),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_59$t])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_60$q)])],32)])),t.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_61$p,[createBaseVNode("p",{innerHTML:t.settings.text_after_submit},null,8,_hoisted_62$n),_hoisted_63$n,createBaseVNode("p",_hoisted_64$n,"Имя: "+toDisplayString(t.botUser.name||"Не указано"),1),t.settings.need_phone?(openBlock(),createElementBlock("p",_hoisted_65$n,"Телефон: "+toDisplayString(t.botUser.phone||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_email?(openBlock(),createElementBlock("p",_hoisted_66$n,"Email: "+toDisplayString(t.botUser.email||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_city?(openBlock(),createElementBlock("p",_hoisted_67$n,"Город: "+toDisplayString(t.botUser.city||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_birthday?(openBlock(),createElementBlock("p",_hoisted_68$m,"Дата рождения: "+toDisplayString(t.botUser.birthday||"Не указано"),1)):createCommentVNode("",!0),t.settings.need_sex?(openBlock(),createElementBlock("p",_hoisted_69$m,"Пол: "+toDisplayString(t.botUser.sex?"Мужской":"Женский"),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vipForm.fields,n=>(openBlock(),createElementBlock("p",_hoisted_70$m,[createTextVNode(toDisplayString(n.title)+": ",1),n.config.type===2?(openBlock(),createElementBlock("span",_hoisted_71$m,toDisplayString(n.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),n.config.type===0||n.config.type===1?(openBlock(),createElementBlock("span",_hoisted_72$k,toDisplayString(n.value),1)):createCommentVNode("",!0)]))),256)),createVNode(ReturnToBot,{class:"mb-2"})])):createCommentVNode("",!0)])):createCommentVNode("",!0),createVNode(_sfc_main$2G)],64)}}}),ProfileForm=_export_sfc(_sfc_main$2y,[["__scopeId","data-v-ecffb0b9"]]),ProfileForm$1=Object.freeze(Object.defineProperty({__proto__:null,default:ProfileForm},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2t=createStaticVNode('<div class="card card-style bg-25 mb-3" data-card-height="200" style="height:200px;"><div class="card-center"><p class="text-center mb-2"><i class="fa-brands fa-shopify color-red2-dark fa-4x"></i></p><h2 class="color-white font-700 text-center mb-0">Категории товара</h2><p class="color-white text-center opacity-60 mt-n1 mb-3">Список доступных в магазине категорий</p></div><div class="card-overlay bg-black opacity-80"></div></div>',1),__default__$1L={},_sfc_main$2x=Object.assign(__default__$1L,{__name:"Categories",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2t,createVNode(_sfc_main$3n,{size:"10"})],64))}}),Categories=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2x},Symbol.toStringTag,{value:"Module"})),PagesList_vue_vue_type_style_index_0_lang="",_hoisted_1$2s={class:"search-box bg-theme rounded-xs shadow-xs bottom-0 mb-2"},_hoisted_2$2q=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_3$2k={key:0,class:"list-group w-100"},_hoisted_4$2e={class:"list-group-item cursor-pointer page-menu-item btn btn-outline-info mb-3"},_hoisted_5$2c={class:"d-flex justify-content-between align-items-center"},_hoisted_6$2a=["onClick"],_hoisted_7$26={key:0},_hoisted_8$20={key:1},_hoisted_9$1X=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_10$1Q=[_hoisted_9$1X],_hoisted_11$1K=["onClick"],_hoisted_12$1I=createBaseVNode("i",{class:"fa-solid fa-ellipsis"},null,-1),_hoisted_13$1C=[_hoisted_12$1I],_hoisted_14$1w={key:2,class:"alert alert-warning",role:"alert"},__default__$1K={props:["current","editor"],data(){return{bot:null,loading:!0,pages:[],search:null,pages_paginate_object:null,need_new_page:!1}},computed:{...mapGetters(["getPages","getPagesPaginateObject"])},mounted(){this.loadPages(),window.addEventListener("reload-page-list",o=>{console.log("Test reload-page-list"),this.loadPages()})},methods:{openPageMenuModal(o){this.$botPages.open(o)},selectPage(o){this.$emit("callback",o),this.$botNotification.notification("Страницы","Вы выбрали страницу из списка! Все остальные действия будут производится для этой страницы")},nextPages(o){this.loadPages(o)},loadPages(o=0){this.loading=!0,this.$store.dispatch("loadPages",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.pages=this.getPages,this.pages_paginate_object=this.getPagesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2w=Object.assign(__default__$1K,{__name:"PagesList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2s,[_hoisted_2$2q,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"border-0",placeholder:"Поиск страницы"},null,512),[[vModelText,t.search]])]),createBaseVNode("button",{class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-3 w-100",onClick:s[1]||(s[1]=(...i)=>t.loadPages&&t.loadPages(...i)),type:"button",id:"button-addon2"},"Найти "),t.pages.length>0?(openBlock(),createElementBlock("ul",_hoisted_3$2k,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pages,(i,a)=>(openBlock(),createElementBlock("li",_hoisted_4$2e,[createBaseVNode("div",_hoisted_5$2c,[createBaseVNode("strong",{onClick:n=>t.selectPage(i),class:"font-12"},[createTextVNode("#"+toDisplayString(i.id||"Не указано")+" ",1),i.slug?(openBlock(),createElementBlock("span",_hoisted_7$26,toDisplayString(i.slug.command||"Не указано"),1)):createCommentVNode("",!0),o.current&&o.current===i.id?(openBlock(),createElementBlock("span",_hoisted_8$20,_hoisted_10$1Q)):createCommentVNode("",!0)],8,_hoisted_6$2a),o.editor?(openBlock(),createElementBlock("button",{key:0,class:"btn",type:"button",onClick:n=>t.openPageMenuModal(i.id),"aria-expanded":"false"},_hoisted_13$1C,8,_hoisted_11$1K)):createCommentVNode("",!0)])]))),256))])):createCommentVNode("",!0),t.pages_paginate_object?(openBlock(),createBlock(Pagination,{key:1,simple:!0,onPagination_page:t.nextPages,pagination:t.pages_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_14$1w," Созданных страниц не найдено! "))],64))}}),_sfc_main$2v={props:["botUser"],data(){return{isEdit:!1,messages:[],botUserForm:{id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:null,blocked_message:null}}},watch:{isEdit:function(){this.botUserForm.id=this.botUser.id,this.botUserForm.is_vip=this.botUser.is_vip,this.botUserForm.is_admin=this.botUser.is_admin,this.botUserForm.is_work=this.botUser.is_work,this.botUserForm.is_manager=this.botUser.is_manager,this.botUserForm.is_deliveryman=this.botUser.is_deliveryman,this.botUserForm.user_in_location=this.botUser.user_in_location,this.botUserForm.name=this.botUser.name||this.botUser.username||this.botUser.id,this.botUserForm.phone=this.botUser.phone,this.botUserForm.email=this.botUser.email,this.botUserForm.birthday=this.botUser.birthday||null,this.botUserForm.city=this.botUser.city||null,this.botUserForm.country=this.botUser.country||null,this.botUserForm.address=this.botUser.address||null,this.botUserForm.sex=this.botUser.sex||!1,this.botUserForm.is_blocked=this.botUser.blocked_at!=null,this.botUserForm.blocked_message=this.botUser.blocked_message||null}},methods:{alert(o){this.messages.push(o)},removeMessage(o){this.messages.splice(o,1)},submit(){this.$store.dispatch("updateBotUser",{botUserForm:this.botUserForm}).then(()=>{this.isEdit=!1,this.messages=[],this.botUserForm={id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:!1},this.$emit("update"),this.$botNotification.notification("Редактирование данных","Данные успешно обновлены!")}).catch(()=>{this.$botNotification.warning("Редактирование данных","Ошибка обновления данных")})}}},_hoisted_1$2r={key:0},_hoisted_2$2p=createBaseVNode("i",{class:"fa-solid fa-user-pen mr-2"},null,-1),_hoisted_3$2j={key:1},_hoisted_4$2d=createBaseVNode("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),_hoisted_5$2b={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},_hoisted_6$29=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_7$25=createBaseVNode("th",{scope:"row"},"ID в системе",-1),_hoisted_8$1$={class:"font-weight-bold"},_hoisted_9$1W=createBaseVNode("th",{scope:"row"},"Дата регистрации",-1),_hoisted_10$1P={class:"font-weight-bold"},_hoisted_11$1J=createBaseVNode("th",{scope:"row"},"Телеграм ID",-1),_hoisted_12$1H={class:"font-weight-bold"},_hoisted_13$1B=createBaseVNode("th",{scope:"row"},"Имя",-1),_hoisted_14$1v={class:"font-weight-bold"},_hoisted_15$1t=createBaseVNode("th",{scope:"row"},"Имя из телеграмма",-1),_hoisted_16$1t={class:"font-weight-bold"},_hoisted_17$1m=createBaseVNode("th",{scope:"row"},"Домен пользователя",-1),_hoisted_18$1l={class:"font-weight-bold"},_hoisted_19$1i=createBaseVNode("th",{scope:"row"},"Номер телефона",-1),_hoisted_20$1g={class:"font-weight-bold"},_hoisted_21$1e=createBaseVNode("th",{scope:"row"},"Возраст",-1),_hoisted_22$1d={class:"font-weight-bold"},_hoisted_23$18=createBaseVNode("th",{scope:"row"},"Пол",-1),_hoisted_24$15={class:"font-weight-bold"},_hoisted_25$12=createBaseVNode("th",{scope:"row"},"Страна",-1),_hoisted_26$_={class:"font-weight-bold"},_hoisted_27$Y=createBaseVNode("th",{scope:"row"},"Город",-1),_hoisted_28$X={class:"font-weight-bold"},_hoisted_29$U=createBaseVNode("th",{scope:"row"},"Адрес",-1),_hoisted_30$T={class:"font-weight-bold"},_hoisted_31$T=createBaseVNode("th",{scope:"row"},"VIP",-1),_hoisted_32$S={class:"font-weight-bold"},_hoisted_33$S=createBaseVNode("th",{scope:"row"},"Администратор",-1),_hoisted_34$R={class:"font-weight-bold"},_hoisted_35$R=createBaseVNode("th",{scope:"row"},"Доставщик",-1),_hoisted_36$P={class:"font-weight-bold"},_hoisted_37$N=createBaseVNode("th",{scope:"row"},"На работе",-1),_hoisted_38$J={class:"font-weight-bold"},_hoisted_39$K=createBaseVNode("th",{scope:"row"},"В заведении",-1),_hoisted_40$H={class:"font-weight-bold"},_hoisted_41$H={key:0},_hoisted_42$H=createBaseVNode("th",{scope:"row"},"Пользователь заблокирован",-1),_hoisted_43$H={class:"font-weight-bold"},_hoisted_44$G={class:"mb-0"},_hoisted_45$F={class:"mb-0"},_hoisted_46$F={class:"form-group mb-2"},_hoisted_47$E=createBaseVNode("label",{for:""},"Ф.И.О пользователя",-1),_hoisted_48$D={class:"form-group mb-2"},_hoisted_49$A=createBaseVNode("label",{for:""},"Телефон",-1),_hoisted_50$x={class:"form-group mb-2"},_hoisted_51$x=createBaseVNode("label",{for:""},"Почта",-1),_hoisted_52$x={class:"form-group mb-2"},_hoisted_53$v=createBaseVNode("label",{for:""},"Адрес",-1),_hoisted_54$v={class:"form-group mb-2"},_hoisted_55$u=createBaseVNode("label",{for:""},"Дата рождения",-1),_hoisted_56$u={class:"form-group mb-2"},_hoisted_57$u=createBaseVNode("label",{for:""},"Страна",-1),_hoisted_58$t={class:"form-group mb-2"},_hoisted_59$s=createBaseVNode("label",{for:""},"Город",-1),_hoisted_60$p={class:"row mb-0"},_hoisted_61$o=createBaseVNode("p",{class:"col-12 mb-0"},"Администратор",-1),_hoisted_62$m={class:"col-6"},_hoisted_63$m=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_64$m={class:"col-6"},_hoisted_65$m=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_66$m={class:"row mb-0"},_hoisted_67$m=createBaseVNode("p",{class:"col-12 mb-0"},"VIP",-1),_hoisted_68$l={class:"col-6"},_hoisted_69$l=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_70$l={class:"col-6"},_hoisted_71$l=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_72$j={class:"row mb-0"},_hoisted_73$j=createBaseVNode("p",{class:"col-12 mb-0"},"Доставщик",-1),_hoisted_74$j={class:"col-6"},_hoisted_75$j=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_76$i={class:"col-6"},_hoisted_77$i=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_78$g={class:"row mb-0"},_hoisted_79$f=createBaseVNode("p",{class:"col-12 mb-0"},"Менеджер",-1),_hoisted_80$f={class:"col-6"},_hoisted_81$f=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_82$f={class:"col-6"},_hoisted_83$d=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_84$b={class:"row mb-0"},_hoisted_85$b=createBaseVNode("p",{class:"col-12 mb-0"},"Работает",-1),_hoisted_86$b={class:"col-6"},_hoisted_87$a=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_88$a={class:"col-6"},_hoisted_89$a=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_90$a={class:"row mb-0"},_hoisted_91$a=createBaseVNode("p",{class:"col-12 mb-0"},"В заведении",-1),_hoisted_92$9={class:"col-6"},_hoisted_93$9=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_94$9={class:"col-6"},_hoisted_95$8=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_96$8={class:"row mb-0"},_hoisted_97$8=createBaseVNode("p",{class:"col-12 mb-0"},"Заблокирован",-1),_hoisted_98$8={class:"col-6"},_hoisted_99$8=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_100$8={class:"col-6"},_hoisted_101$8=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_102$8={key:0,class:"col-12"},_hoisted_103$8=createBaseVNode("label",{for:""},"Сообщение блокировки",-1),_hoisted_104$8={class:"row mb-0"},_hoisted_105$8=createBaseVNode("p",{class:"col-12 mb-0"},"Пол",-1),_hoisted_106$8={class:"col-6"},_hoisted_107$8=createBaseVNode("i",{class:"fa-solid fa-mars mr-1"},null,-1),_hoisted_108$8={class:"col-6"},_hoisted_109$8=createBaseVNode("i",{class:"fa-solid fa-venus mr-1"},null,-1),_hoisted_110$8={class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_111$8={class:"custom-alert-text"},_hoisted_112$8=["onClick"],_hoisted_113$8=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mt-2 mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Сохранить ",-1),_hoisted_114$8=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1);function _sfc_render$L(o,t,s,i,a,n){const r=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=l=>a.isEdit=!a.isEdit),class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-brown2-dark"},[a.isEdit?(openBlock(),createElementBlock("span",_hoisted_3$2j,[_hoisted_4$2d,createTextVNode(" Завершить редактирование")])):(openBlock(),createElementBlock("span",_hoisted_1$2r,[_hoisted_2$2p,createTextVNode(" Редактировать пользователя")]))]),a.isEdit?createCommentVNode("",!0):(openBlock(),createElementBlock("table",_hoisted_5$2b,[_hoisted_6$29,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_7$25,createBaseVNode("td",_hoisted_8$1$,toDisplayString(s.botUser.id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_9$1W,createBaseVNode("td",_hoisted_10$1P,toDisplayString(o.$filters.current(s.botUser.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_11$1J,createBaseVNode("td",_hoisted_12$1H,toDisplayString(s.botUser.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.name==null})},[_hoisted_13$1B,createBaseVNode("td",_hoisted_14$1v,toDisplayString(s.botUser.name||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_15$1t,createBaseVNode("td",_hoisted_16$1t,toDisplayString(s.botUser.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_17$1m,createBaseVNode("td",_hoisted_18$1l,toDisplayString(s.botUser.username||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.phone==null})},[_hoisted_19$1i,createBaseVNode("td",_hoisted_20$1g,toDisplayString(s.botUser.phone||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.age==null})},[_hoisted_21$1e,createBaseVNode("td",_hoisted_22$1d,toDisplayString(s.botUser.age||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_23$18,createBaseVNode("td",_hoisted_24$15,toDisplayString(s.botUser.sex?"Мужчина":"Женщина"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.country==null})},[_hoisted_25$12,createBaseVNode("td",_hoisted_26$_,toDisplayString(s.botUser.country||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.city==null})},[_hoisted_27$Y,createBaseVNode("td",_hoisted_28$X,toDisplayString(s.botUser.city||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.address==null})},[_hoisted_29$U,createBaseVNode("td",_hoisted_30$T,toDisplayString(s.botUser.address||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_31$T,createBaseVNode("td",_hoisted_32$S,toDisplayString(s.botUser.is_vip?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_33$S,createBaseVNode("td",_hoisted_34$R,toDisplayString(s.botUser.is_admin?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_35$R,createBaseVNode("td",_hoisted_36$P,toDisplayString(s.botUser.is_deliveryman?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_37$N,createBaseVNode("td",_hoisted_38$J,toDisplayString(s.botUser.is_work?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_39$K,createBaseVNode("td",_hoisted_40$H,toDisplayString(s.botUser.user_in_location?"Да":"Нет"),1)]),s.botUser.blocked_at?(openBlock(),createElementBlock("tr",_hoisted_41$H,[_hoisted_42$H,createBaseVNode("td",_hoisted_43$H,[createBaseVNode("p",_hoisted_44$G,toDisplayString(o.$filters.current(s.botUser.blocked_at)),1),createBaseVNode("p",_hoisted_45$F,[createBaseVNode("em",null,toDisplayString(s.botUser.blocked_message??"Без сообщения"),1)])])])):createCommentVNode("",!0)])])),a.isEdit?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[27]||(t[27]=withModifiers((...l)=>n.submit&&n.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_46$F,[_hoisted_47$E,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>a.botUserForm.name=l),onInvalid:t[2]||(t[2]=l=>n.alert("Вы не указали имя!")),placeholder:"Иванов Иван Иванович",required:""},null,544),[[vModelText,a.botUserForm.name]])]),createBaseVNode("div",_hoisted_48$D,[_hoisted_49$A,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=l=>a.botUserForm.phone=l),onInvalid:t[4]||(t[4]=l=>n.alert("Вы не указали телефон!")),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,544),[[vModelText,a.botUserForm.phone],[r,"+7(###)###-##-##"]])]),createBaseVNode("div",_hoisted_50$x,[_hoisted_51$x,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=l=>a.botUserForm.email=l),placeholder:"example@gmail.com"},null,512),[[vModelText,a.botUserForm.email]])]),createBaseVNode("div",_hoisted_52$x,[_hoisted_53$v,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=l=>a.botUserForm.address=l),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[vModelText,a.botUserForm.address]])]),createBaseVNode("div",_hoisted_54$v,[_hoisted_55$u,withDirectives(createBaseVNode("input",{type:"date",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=l=>a.botUserForm.birthday=l),placeholder:"12/01/2023"},null,512),[[vModelText,a.botUserForm.birthday]])]),createBaseVNode("div",_hoisted_56$u,[_hoisted_57$u,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=l=>a.botUserForm.country=l),placeholder:"Россия"},null,512),[[vModelText,a.botUserForm.country]])]),createBaseVNode("div",_hoisted_58$t,[_hoisted_59$s,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=l=>a.botUserForm.city=l),placeholder:"Краснодар"},null,512),[[vModelText,a.botUserForm.city]])]),createBaseVNode("div",_hoisted_60$p,[_hoisted_61$o,createBaseVNode("div",_hoisted_62$m,[createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=l=>a.botUserForm.is_admin=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.is_admin,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.is_admin},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_63$m,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_64$m,[createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=l=>a.botUserForm.is_admin=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.is_admin,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.is_admin},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_65$m,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_66$m,[_hoisted_67$m,createBaseVNode("div",_hoisted_68$l,[createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=l=>a.botUserForm.is_vip=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.is_vip},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_69$l,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_70$l,[createBaseVNode("button",{type:"button",onClick:t[13]||(t[13]=l=>a.botUserForm.is_vip=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.is_vip},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_71$l,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_72$j,[_hoisted_73$j,createBaseVNode("div",_hoisted_74$j,[createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=l=>a.botUserForm.is_deliveryman=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.is_deliveryman},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_75$j,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_76$i,[createBaseVNode("button",{type:"button",onClick:t[15]||(t[15]=l=>a.botUserForm.is_deliveryman=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.is_deliveryman},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_77$i,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_78$g,[_hoisted_79$f,createBaseVNode("div",_hoisted_80$f,[createBaseVNode("button",{type:"button",onClick:t[16]||(t[16]=l=>a.botUserForm.is_manager=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.is_manager},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_81$f,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_82$f,[createBaseVNode("button",{type:"button",onClick:t[17]||(t[17]=l=>a.botUserForm.is_manager=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.is_manager},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_83$d,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_84$b,[_hoisted_85$b,createBaseVNode("div",_hoisted_86$b,[createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=l=>a.botUserForm.is_work=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.is_work},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_87$a,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_88$a,[createBaseVNode("button",{type:"button",onClick:t[19]||(t[19]=l=>a.botUserForm.is_work=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.is_work},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_89$a,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_90$a,[_hoisted_91$a,createBaseVNode("div",_hoisted_92$9,[createBaseVNode("button",{type:"button",onClick:t[20]||(t[20]=l=>a.botUserForm.user_in_location=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.user_in_location},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_93$9,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_94$9,[createBaseVNode("button",{type:"button",onClick:t[21]||(t[21]=l=>a.botUserForm.user_in_location=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.user_in_location},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_95$8,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_96$8,[_hoisted_97$8,createBaseVNode("div",_hoisted_98$8,[createBaseVNode("button",{type:"button",onClick:t[22]||(t[22]=l=>a.botUserForm.is_blocked=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.is_blocked,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.is_blocked},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_99$8,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_100$8,[createBaseVNode("button",{type:"button",onClick:t[23]||(t[23]=l=>a.botUserForm.is_blocked=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.is_blocked,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.is_blocked},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_101$8,createTextVNode(" Нет ")],2)]),a.botUserForm.is_blocked?(openBlock(),createElementBlock("div",_hoisted_102$8,[_hoisted_103$8,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[24]||(t[24]=l=>a.botUserForm.blocked_message=l),placeholder:"Увы и ах.. "},null,512),[[vModelText,a.botUserForm.blocked_message]])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_104$8,[_hoisted_105$8,createBaseVNode("div",_hoisted_106$8,[createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=l=>a.botUserForm.sex=!0),class:normalizeClass([{"bg-blue1-dark text-white":a.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":!a.botUserForm.sex},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_107$8,createTextVNode(" Муж ")],2)]),createBaseVNode("div",_hoisted_108$8,[createBaseVNode("button",{type:"button",onClick:t[26]||(t[26]=l=>a.botUserForm.sex=!1),class:normalizeClass([{"bg-blue1-dark text-white":!a.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":a.botUserForm.sex},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[_hoisted_109$8,createTextVNode(" Жен ")],2)])]),a.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.messages,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_110$8,[createBaseVNode("p",_hoisted_111$8,toDisplayString(l||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:c=>n.removeMessage(d),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_112$8)]))),256)):createCommentVNode("",!0),_hoisted_113$8,_hoisted_114$8],32)):createCommentVNode("",!0)],64)}const UserInfo$1=_export_sfc(_sfc_main$2v,[["render",_sfc_render$L]]);var FileSaver_minExports={},FileSaver_min={get exports(){return FileSaver_minExports},set exports(o){FileSaver_minExports=o}};(function(o,t){(function(s,i){i()})(commonjsGlobal,function(){function s(c,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,_,m){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){d(p.response,_,m)},p.onerror=function(){console.error("could not download file")},p.send()}function a(c){var _=new XMLHttpRequest;_.open("HEAD",c,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function n(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(_)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,l=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,_,m){var p=r.URL||r.webkitURL,f=document.createElement("a");_=_||c.name||"download",f.download=_,f.rel="noopener",typeof c=="string"?(f.href=c,f.origin===location.origin?n(f):a(f.href)?i(c,_,m):n(f,f.target="_blank")):(f.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(f.href)},4e4),setTimeout(function(){n(f)},0))}:"msSaveOrOpenBlob"in navigator?function(c,_,m){if(_=_||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(s(c,m),_);else if(a(c))i(c,_,m);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){n(p)})}}:function(c,_,m,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return i(c,_,m);var f=c.type==="application/octet-stream",k=/constructor/i.test(r.HTMLElement)||r.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||f&&k||l)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var M=v.result;M=b?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=M:location=M,p=null},v.readAsDataURL(c)}else{var N=r.URL||r.webkitURL,T=N.createObjectURL(c);p?p.location=T:location.href=T,p=null,setTimeout(function(){N.revokeObjectURL(T)},4e4)}});r.saveAs=d.saveAs=d,o.exports=d})})(FileSaver_min);const _hoisted_1$2q={class:"card card-style bg-theme pb-0"},_hoisted_2$2o={class:"content"},_hoisted_3$2i=createBaseVNode("p",{class:"mb-0"},"Введите номер телефона (или фрагмент) пользователя или его Ф.И.О.",-1),_hoisted_4$2c={class:"search-box bg-theme rounded-s shadow-xl bottom-0"},_hoisted_5$2a=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_6$28={class:"d-flex w-100",style:{height:"70px","overflow-x":"scroll","min-width":"100%"}},_hoisted_7$24={class:"scroll d-flex",style:{"min-width":"1000px"}},_hoisted_8$1_={class:"fac fac-checkbox py-2 my-2"},_hoisted_9$1V=createBaseVNode("span",null,null,-1),_hoisted_10$1O=createBaseVNode("label",{for:"need-admins-checkbox"},"Только администраторы",-1),_hoisted_11$1I={class:"fac fac-checkbox py-2 my-2"},_hoisted_12$1G=createBaseVNode("span",null,null,-1),_hoisted_13$1A=createBaseVNode("label",{for:"need-with-phone-checkbox"},"Только с телефоном",-1),_hoisted_14$1u={class:"fac fac-checkbox py-2 my-2"},_hoisted_15$1s=createBaseVNode("span",null,null,-1),_hoisted_16$1s=createBaseVNode("label",{for:"need-deliveryman"},"Только доставщики",-1),_hoisted_17$1l={class:"fac fac-checkbox py-2 my-2"},_hoisted_18$1k=createBaseVNode("span",null,null,-1),_hoisted_19$1h=createBaseVNode("label",{for:"need-without-phone-checkbox"},"Только без телефоном",-1),_hoisted_20$1f={class:"fac fac-checkbox py-2 my-2"},_hoisted_21$1d=createBaseVNode("span",null,null,-1),_hoisted_22$1c=createBaseVNode("label",{for:"need-vip-checkbox"},"Только вип",-1),_hoisted_23$17={class:"fac fac-checkbox py-2 my-2"},_hoisted_24$14=createBaseVNode("span",null,null,-1),_hoisted_25$11=createBaseVNode("label",{for:"need-not-vip-checkbox"},"Только не вип",-1),_hoisted_26$Z=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full my-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-1"}),createTextVNode("Искать ")],-1),_hoisted_27$X={key:0,class:"card card-style mx-0 mt-3 pt-2 pb-0 mb-2"},_hoisted_28$W={class:"w-100 text-center p-2 mb-0"},_hoisted_29$T={class:"list-group list-custom-large"},_hoisted_30$S=["onClick"],_hoisted_31$S={key:0,class:"fa-solid fa-a color-red2-dark"},_hoisted_32$R={key:1,class:"fa-solid fa-u color-green2-dark"},_hoisted_33$R=createBaseVNode("i",{class:"fa fa-angle-right mr-2"},null,-1),_hoisted_34$Q=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_35$Q=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),__default__$1J={data(){return{loading:!0,users:null,search:null,need_admins:!1,need_vip:!1,need_not_vip:!1,need_with_phone:!1,need_without_phone:!1,need_deliveryman:!1,users_paginate_object:null}},computed:{...mapGetters(["getUsers","getUsersPaginateObject"])},mounted(){this.loadUsers(0)},methods:{downloadBotUsers(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotUsers").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})},downloadCashBackHistory(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadCashBackHistory").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})},nextUsers(o){this.loadUsers(o)},selectUser(o){this.$emit("select",o)},loadUsers(o=0){this.loading=!0,this.$store.dispatch("loadUsers",{dataObject:{search:this.search,need_admins:this.need_admins,need_vip:this.need_vip,need_not_vip:this.need_not_vip,need_deliveryman:this.need_deliveryman,need_with_phone:this.need_with_phone,need_without_phone:this.need_without_phone},page:o}).then(t=>{this.loading=!1,this.users=this.getUsers,this.users_paginate_object=this.getUsersPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2u=Object.assign(__default__$1J,{__name:"UserSearchForm",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2q,[createBaseVNode("div",_hoisted_2$2o,[_hoisted_3$2i,createBaseVNode("form",{onSubmit:s[7]||(s[7]=withModifiers(i=>t.loadUsers(0),["prevent"]))},[createBaseVNode("div",_hoisted_4$2c,[_hoisted_5$2a,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"border-0",placeholder:"Кого ищем?"},null,512),[[vModelText,t.search]])]),createBaseVNode("div",_hoisted_6$28,[createBaseVNode("div",_hoisted_7$24,[createBaseVNode("div",_hoisted_8$1_,[_hoisted_9$1V,withDirectives(createBaseVNode("input",{id:"need-admins-checkbox","onUpdate:modelValue":s[1]||(s[1]=i=>t.need_admins=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_admins]]),_hoisted_10$1O]),createBaseVNode("div",_hoisted_11$1I,[_hoisted_12$1G,withDirectives(createBaseVNode("input",{id:"need-with-phone-checkbox","onUpdate:modelValue":s[2]||(s[2]=i=>t.need_with_phone=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_with_phone]]),_hoisted_13$1A]),createBaseVNode("div",_hoisted_14$1u,[_hoisted_15$1s,withDirectives(createBaseVNode("input",{id:"need-deliveryman","onUpdate:modelValue":s[3]||(s[3]=i=>t.need_deliveryman=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_deliveryman]]),_hoisted_16$1s]),createBaseVNode("div",_hoisted_17$1l,[_hoisted_18$1k,withDirectives(createBaseVNode("input",{id:"need-without-phone-checkbox","onUpdate:modelValue":s[4]||(s[4]=i=>t.need_without_phone=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_without_phone]]),_hoisted_19$1h]),createBaseVNode("div",_hoisted_20$1f,[_hoisted_21$1d,withDirectives(createBaseVNode("input",{id:"need-vip-checkbox","onUpdate:modelValue":s[5]||(s[5]=i=>t.need_vip=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_vip]]),_hoisted_22$1c]),createBaseVNode("div",_hoisted_23$17,[_hoisted_24$14,withDirectives(createBaseVNode("input",{id:"need-not-vip-checkbox","onUpdate:modelValue":s[6]||(s[6]=i=>t.need_not_vip=i),value:"false",type:"checkbox"},null,512),[[vModelCheckbox,t.need_not_vip]]),_hoisted_25$11])])]),_hoisted_26$Z],32),t.users?(openBlock(),createElementBlock("div",_hoisted_27$X,[createBaseVNode("small",_hoisted_28$W,"Найдено "+toDisplayString(t.users_paginate_object.meta.total),1),createBaseVNode("div",_hoisted_29$T,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.users,(i,a)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:n=>t.selectUser(i)},[i.is_admin?(openBlock(),createElementBlock("i",_hoisted_31$S)):(openBlock(),createElementBlock("i",_hoisted_32$R)),createBaseVNode("span",null,toDisplayString(i.name||i.fio_from_telegram||"Не указано"),1),createBaseVNode("strong",null,toDisplayString(i.phone||"Телефон не указан"),1),_hoisted_33$R],8,_hoisted_30$S))),256))]),t.users_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,class:"mt-4",onPagination_page:t.nextUsers,pagination:t.users_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[8]||(s[8]=(...i)=>t.downloadBotUsers&&t.downloadBotUsers(...i)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[_hoisted_34$Q,createTextVNode(" Скачать список пользователей ")]),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[9]||(s[9]=(...i)=>t.downloadCashBackHistory&&t.downloadCashBackHistory(...i)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[_hoisted_35$Q,createTextVNode(" Скачать историю CashBack ")]),createVNode(ReturnToBot,{class:"mt-3"})])]))}}),_hoisted_1$2p={class:"mb-2"},_hoisted_2$2n={class:"form-floating"},_hoisted_3$2h=createBaseVNode("label",{for:"floatingInput"},"Поиск файла",-1),_hoisted_4$2b={key:0,class:"mb-2"},_hoisted_5$29=["onClick"],_hoisted_6$27={class:"card-body p-2"},_hoisted_7$23={class:"d-flex"},_hoisted_8$1Z={key:0,class:"fa-solid p-2 fa-video"},_hoisted_9$1U={key:1,class:"fa-solid p-2 fa-camera r"},_hoisted_10$1N={key:2,class:"fa-solid p-2 fa-circle-play"},_hoisted_11$1H={key:3,class:"fa-solid p-2 fa-microphone-lines"},_hoisted_12$1F={key:4,class:"fa-solid p-2 fa-file-word"},_hoisted_13$1z={key:5,class:"fa-solid p-2 fa-note-sticky"},_hoisted_14$1t={class:"d-flex justify-content-between p-1 w-100 mb-0"},_hoisted_15$1r={class:"mb-1"},_hoisted_16$1r={class:"d-flex justify-content-between"},_hoisted_17$1k=["onClick"],_hoisted_18$1j=createBaseVNode("i",{class:"fa-solid fa-eye"},null,-1),_hoisted_19$1g=["onClick"],_hoisted_20$1e=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_21$1c=[_hoisted_20$1e],_hoisted_22$1b={key:1,class:"mb-2"},_hoisted_23$16=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет медиа-файлов ",-1),_hoisted_24$13=[_hoisted_23$16],__default__$1I={props:["selected","needVideo","needVideoNote","needPhoto","needDocument","needAudio","needSticker"],data(){return{bot:null,loading:!0,media:[],search:null,media_paginate_object:null}},computed:{...mapGetters(["getMedia","getMediaPaginateObject"])},mounted(){this.loadMedia()},methods:{selectMedia(o){this.$emit("select",o)},nextMedia(o){this.loadMedia(o)},remove(o){this.$store.dispatch("removeMedia",{dataObject:{mediaId:o}}).then(t=>{this.loadMedia(),this.$botNotification.notification("Удаление медиа-контента","Медиа контент удален")}).catch(()=>{})},showPreview(o){this.$store.dispatch("showMediaPreview",{dataObject:{mediaId:o}}).then(t=>{this.$botNotification.notification("Превью медиа-контента","Отправлено в бота")}).catch(()=>{})},loadMedia(o=0){this.loading=!0,this.$store.dispatch("loadMedia",{dataObject:{search:this.search,needVideo:this.needVideo||!1,needVideoNote:this.needVideoNote||!1,needPhoto:this.needPhoto||!1,needAudio:this.needAudio||!1,needDocument:this.needDocument||!1,needSticker:this.needSticker||!1},page:o}).then(t=>{this.loading=!1,this.media=this.getMedia,this.media_paginate_object=this.getMediaPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2t=Object.assign(__default__$1I,{__name:"BotMediaList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2p,[createBaseVNode("div",_hoisted_2$2n,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"Поиск файла"},null,512),[[vModelText,t.search]]),_hoisted_3$2h]),t.search?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-outline-secondary w-100",onClick:s[1]||(s[1]=i=>t.loadMedia(0)),type:"button",id:"button-addon2"},"Найти ")):createCommentVNode("",!0)]),t.media.length>0?(openBlock(),createElementBlock("div",_hoisted_4$2b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.media,(i,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["card border rounded-2 p-0 mb-2",{"border-success":(o.selected||[]).indexOf(i.file_id)!=-1,"border-light":(o.selected||[]).indexOf(i.file_id)==-1}]),onClick:n=>t.selectMedia(i)},[createBaseVNode("div",_hoisted_6$27,[createBaseVNode("div",_hoisted_7$23,[i.type==="video"||i.type==="video_note"?(openBlock(),createElementBlock("i",_hoisted_8$1Z)):createCommentVNode("",!0),i.type==="photo"?(openBlock(),createElementBlock("i",_hoisted_9$1U)):createCommentVNode("",!0),i.type==="audio"?(openBlock(),createElementBlock("i",_hoisted_10$1N)):createCommentVNode("",!0),i.type==="voice"?(openBlock(),createElementBlock("i",_hoisted_11$1H)):createCommentVNode("",!0),i.type==="document"?(openBlock(),createElementBlock("i",_hoisted_12$1F)):createCommentVNode("",!0),i.type==="sticker"?(openBlock(),createElementBlock("i",_hoisted_13$1z)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_14$1t,[createBaseVNode("strong",null,"#"+toDisplayString(i.id),1),createTextVNode(),createBaseVNode("small",null,"тип: "+toDisplayString(i.type??"Без подписи"),1)])]),createBaseVNode("p",_hoisted_15$1r,toDisplayString(i.caption??"Без подписи"),1),createBaseVNode("div",_hoisted_16$1r,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-outline-primary px-2",style:{"min-width":"40px"},onClick:n=>t.showPreview(i.id)},[_hoisted_18$1j,createTextVNode(" посмотреть")],8,_hoisted_17$1k),createBaseVNode("a",{href:"javascript:void(0)",style:{"min-width":"40px"},class:"btn btn-outline-danger px-2 text-danger",onClick:n=>t.remove(i.id)},_hoisted_21$1c,8,_hoisted_19$1g)])])],10,_hoisted_5$29))),256)),t.media_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextMedia,pagination:t.media_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_22$1b,_hoisted_24$13))],64))}}),_hoisted_1$2o={key:1,id:"user-profile-info"},_hoisted_2$2m={class:"card card-style bg-theme pb-0"},_hoisted_3$2g={class:"content mb-0"},_hoisted_4$2a={class:"tab-controls mb-5 tabs-round tab-animated tabs-medium tabs-rounded shadow-xl"},_hoisted_5$28=createBaseVNode("i",{class:"fa fa-heart"},null,-1),_hoisted_6$26=createBaseVNode("i",{class:"fa fa-star"},null,-1),_hoisted_7$22={key:0},_hoisted_8$1Y=createBaseVNode("h3",null,"Информация о пользователе",-1),_hoisted_9$1T=createBaseVNode("p",{class:"mb-2"}," Ваша персональная информация ",-1),_hoisted_10$1M={key:1},_hoisted_11$1G={key:0,class:"list-group list-boxes w-100"},_hoisted_12$1E=["onClick"],_hoisted_13$1y={key:0,class:"color-green2-dark"},_hoisted_14$1s={key:1,class:"color-red1-dark"},_hoisted_15$1q={key:2,class:"fa fa-circle-up color-green2-dark"},_hoisted_16$1q={key:3,class:"fa-regular fa-circle-down color-red1-dark"},_hoisted_17$1j={key:1},_hoisted_18$1i=createBaseVNode("div",{class:"divider-icon divider-margins bg-blue2-dark my-4"},[createBaseVNode("i",{class:"fa font-17 color-blue2-dark fa-cog bg-white"})],-1),_hoisted_19$1f={key:0,class:"content mt-0"},_hoisted_20$1d={class:"mb-3"},_hoisted_21$1b={class:"mb-3"},_hoisted_22$1a=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Написать сообщение",-1),_hoisted_23$15={class:"custom-control ios-switch ios-switch-icon my-3"},_hoisted_24$12={key:0,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_25$10={key:1,class:"custom-control-label pl-5",for:"toggle-need-pickup"},_hoisted_26$Y=createBaseVNode("i",{class:"fa-solid fa-font font-11 color-white",style:{left:"8px"}},null,-1),_hoisted_27$W=createBaseVNode("i",{class:"fa-solid fa-photo-film font-11 color-white",style:{"margin-left":"24px"}},null,-1),_hoisted_28$V={key:0,class:"mb-3"},_hoisted_29$S={class:"mb-3"},_hoisted_30$R=["disabled"],_hoisted_31$R={class:"mb-3"},_hoisted_32$Q=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_33$Q={class:"mb-3"},_hoisted_34$P=["disabled"],_hoisted_35$P={class:"mb-3"},_hoisted_36$O=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_37$M={class:"mb-3"},_hoisted_38$I=["disabled"],_hoisted_39$J={class:"mb-3"},_hoisted_40$G=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Значение на оплату, руб",-1),_hoisted_41$G={class:"mb-3"},_hoisted_42$G=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Введите сообщение для пользователя",-1),_hoisted_43$G={class:"mb-3"},_hoisted_44$F=["disabled"],_hoisted_45$E={class:"mb-2"},_hoisted_46$E={key:1},_hoisted_47$D=createBaseVNode("h6",null,"В боте поддерживается списание CashBack по категориям",-1),_hoisted_48$C=createBaseVNode("option",{selected:""},"Общий CashBack",-1),_hoisted_49$z=["value"],_hoisted_50$w={class:"mb-3"},_hoisted_51$w=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма списания CashBack, руб",-1),_hoisted_52$w={class:"mb-3"},_hoisted_53$u=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина списания",-1),_hoisted_54$u={class:"mb-3"},_hoisted_55$t=["disabled"],_hoisted_56$t={class:"mb-2"},_hoisted_57$t={class:"mb-2"},_hoisted_58$s={key:1},_hoisted_59$r=createBaseVNode("h6",null,"В боте поддерживается начисление CashBack по категориям",-1),_hoisted_60$o=createBaseVNode("option",{selected:""},"Общий CashBack",-1),_hoisted_61$n=["value"],_hoisted_62$l=createBaseVNode("em",null,"Начисления по реферальной системе происходя только для общего CashBack-а. CashBack-по категориям не суммируется с общим и отображается пользователю отдельно.",-1),_hoisted_63$l={class:"form-check mb-3"},_hoisted_64$l=createBaseVNode("label",{class:"form-check-label",for:"need_custom_cashback_amount"}," Нужен нестандартный % CashBack ",-1),_hoisted_65$l={key:2,class:"mb-3"},_hoisted_66$l=createBaseVNode("label",{for:"bill-percent",class:"form-label"},"% CashBack-а",-1),_hoisted_67$l={class:"mb-3"},_hoisted_68$k=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма в чеке, руб",-1),_hoisted_69$k={class:"mb-3"},_hoisted_70$k=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Информация о чеке, номер",-1),_hoisted_71$k={class:"mb-3"},_hoisted_72$i=["disabled"],_hoisted_73$i={class:"mb-3"},_hoisted_74$i=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина добавления администратора",-1),_hoisted_75$i={class:"mb-3"},_hoisted_76$h=["disabled"],_hoisted_77$h={class:"mb-3"},_hoisted_78$f=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина разжалования администратора",-1),_hoisted_79$e={class:"mb-3"},_hoisted_80$e=["disabled"],_hoisted_81$e={class:"mb-3"},_hoisted_82$e=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_83$c=createBaseVNode("h6",null,"Список доступных страниц:",-1),_hoisted_84$a={key:0,class:"mb-2"},_hoisted_85$a={class:"mb-3"},_hoisted_86$a=["disabled"],__default__$1H={data(){return{botUser:null,statistic:null,loading:!1,reloadUsers:!1,tab:0,section:0,cashback:[],referrals:[],request_telegram_chat_id:null,cashback_paginate_object:null,referrals_paginate_object:null,invoiceForm:{amount:100,info:null},userDataForm:{info:null},locationForm:{info:null,content:null,content_type:null,need_media_content:!1},adminForm:{info:null},pageForm:{page_id:null,info:null},cashbackForm:{percent:null,need_custom_percents:!1,category:null,amount:null,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf,this.loadCashBack()},tab:function(){this.tab===1&&this.loadCashBack()},section:function(){this.invoiceForm={amount:100,info:null},this.userDataForm={info:null},this.locationForm={info:null,need_media_content:!1},this.adminForm={info:null},this.cashbackForm={percent:null,need_custom_percents:!1,amount:null,info:null}}},mounted(){this.getSelf&&(this.botUser=this.getSelf);const o=new URLSearchParams(window.location.search);let t=JSON.parse(o.get("user"));t&&(this.request_telegram_chat_id=t,this.loadReceiverUserData(),this.loadCashBack())},methods:{pageListCallback(o){this.pageForm.page_id=o.id},updateUserInfo(){this.reloadUsers=!0,this.botUser=null,this.request_telegram_chat_id=null,this.$nextTick(()=>{this.reloadUsers=!1})},selectUser(o){this.request_telegram_chat_id=o.telegram_chat_id,this.loadReceiverUserData(),this.loadCashBack()},showInfo(o){this.$cashback.show(o)},nextCashBackPage(o){this.loadCashBack(o)},loadReceiverUserData(){this.loading=!0,this.reloadUsers=!0,this.$store.dispatch("loadReceiverUserData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.botUser=o.data,this.loading=!1,this.reloadUsers=!1,this.$nextTick(()=>{let t=document.getElementById("user-profile-info");window.scrollTo(t.offsetLeft,t.offsetTop-70)})}).catch(()=>{this.botUser=null,this.loading=!1,this.reloadUsers=!1})},loadCashBack(o=0){this.request_telegram_chat_id&&this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id},page:o}).then(t=>{this.loading=!1,this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})},loadUsers(o=0){this.$store.dispatch("loadSearchUsers",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id},page:o}).then(t=>{this.loading=!1,this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})},requestUserMenu(){this.loading=!0,this.$store.dispatch("requestRefreshMenu",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$botNotification.success("Отлично!","Вы отправили запрос на обновление меню у попльзователя")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},goToUserChatHistory(){this.$router.push({name:"AdminChatLog",params:{botUserId:this.botUser.id}})},requestUserData(){this.loading=!0,this.$store.dispatch("requestUserData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$botNotification.success("Отлично!","Вы отправили запрос на заполнение пользовательских данных")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},acceptUserInLocation(){this.loading=!0,this.$store.dispatch("userMessage",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.locationForm}}).then(o=>{this.loading=!1,this.locationForm.info=null,this.locationForm.content=null,this.locationForm.content_type=null,this.locationForm.need_media_content=!1,this.$botNotification.success("Отлично!","Вы отметили пользователя в заведении и отправили ему сообщение")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},removeCashBack(){if(!this.request_telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("removeCashBack",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.loadReceiverUserData(),this.loadCashBack(),this.$botNotification.success("Отлично!","Вы успешно списали кэшбэк")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},sendPageToUser(){if(!this.request_telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("sendPageToUser",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.pageForm}}).then(o=>{this.loading=!1,this.pageForm.page_id=null,this.pageForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно отправили пользователю страницу")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},addCashBack(){if(!this.request_telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("addCashBack",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.loadReceiverUserData(),this.loadCashBack(),this.$botNotification.success("Отлично!","Вы успешно зачислили кэшбэк")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},sendInvoice(){this.loading=!0,this.$store.dispatch("sendInvoice",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.invoiceForm}}).then(o=>{this.loading=!1,this.invoiceForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно отправили пользователю запрос на оплату")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},selectMediaForMessage(o){this.locationForm.content=o.file_id||null,this.locationForm.content_type=o.type||null},addAdmin(){this.loading=!0,this.$store.dispatch("addAdmin",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.adminForm}}).then(o=>{this.loading=!1,this.adminForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно назначили пользователя администратором")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},removeAdmin(){this.loading=!0,this.$store.dispatch("removeAdmin",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.adminForm}}).then(o=>{this.loading=!1,this.adminForm.info=null,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно убрали пользователя из администраторов")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},scanQR(){this.tg.showScanQrPopup({text:"test"},o=>(document.write("<br>"+o),this.tg.closeScanQrPopup(),!0))},openSection(o){this.section=o}}},_sfc_main$2s=Object.assign(__default__$1H,{__name:"Main",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.reloadUsers?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$2u,{key:0,onSelect:t.selectUser},null,8,["onSelect"])),t.request_telegram_chat_id?(openBlock(),createElementBlock("div",_hoisted_1$2o,[createBaseVNode("div",_hoisted_2$2m,[createBaseVNode("div",_hoisted_3$2g,[createBaseVNode("div",_hoisted_4$2a,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass({"bg-blue2-dark color-white":t.tab===0}),onClick:s[0]||(s[0]=withModifiers(i=>t.tab=0,["prevent"])),style:{width:"50%"}},[_hoisted_5$28,createTextVNode(" Инфо ")],2),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass({"bg-blue2-dark color-white":t.tab===1}),onClick:s[1]||(s[1]=withModifiers(i=>t.tab=1,["prevent"])),style:{width:"50%"}},[_hoisted_6$26,createTextVNode(" CashBack ")],2)]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_7$22,[_hoisted_8$1Y,_hoisted_9$1T,t.botUser&&!t.reloadUsers?(openBlock(),createBlock(UserInfo$1,{key:0,onUpdate:t.updateUserInfo,"bot-user":t.botUser},null,8,["onUpdate","bot-user"])):createCommentVNode("",!0),createVNode(ReturnToBot)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_10$1M,[t.cashback.length>0?(openBlock(),createElementBlock("div",_hoisted_11$1G,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cashback,(i,a)=>(openBlock(),createElementBlock("a",{onClick:withModifiers(n=>t.showInfo(i),["prevent"]),class:normalizeClass([{"border-green2-dark":i.operation_type,"border-red1-dark":!i.operation_type},"border rounded-s shadow-xs"]),href:"javascript:void(0)"},[createBaseVNode("i",{class:normalizeClass(["fa font-20 fa-mobile",{"color-green2-dark":i.operation_type,"color-red1-dark":!i.operation_type}])},null,2),createBaseVNode("span",null,toDisplayString(i.amount||0)+" руб. (чек "+toDisplayString(i.money_in_check||0)+" руб.)",1),createBaseVNode("strong",null,toDisplayString(i.employee.fio_from_telegram||"Не указано"),1),i.operation_type?(openBlock(),createElementBlock("u",_hoisted_13$1y,"Начисление")):(openBlock(),createElementBlock("u",_hoisted_14$1s,"Списание")),i.operation_type?(openBlock(),createElementBlock("i",_hoisted_15$1q)):(openBlock(),createElementBlock("i",_hoisted_16$1q))],10,_hoisted_12$1E))),256))])):(openBlock(),createElementBlock("p",_hoisted_17$1j,"У пользователя еще нет операций с CashBack-ом")),t.cashback_paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextCashBackPage,pagination:t.cashback_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_hoisted_18$1i,t.botUser?(openBlock(),createElementBlock("div",_hoisted_19$1f,[createBaseVNode("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=withModifiers(i=>t.openSection(5),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===5,"color-blue2-dark":t.section!==5},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Написать пользователю сообщение",2),t.section===5?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[6]||(s[6]=withModifiers((...i)=>t.acceptUserInLocation&&t.acceptUserInLocation(...i),["prevent"]))},[createBaseVNode("div",_hoisted_20$1d,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-link",onClick:s[3]||(s[3]=(...i)=>t.goToUserChatHistory&&t.goToUserChatHistory(...i))},"Глянуть историю переписки с пользователем")]),createBaseVNode("div",_hoisted_21$1b,[_hoisted_22$1a,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":s[4]||(s[4]=i=>t.locationForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.locationForm.info]])]),createBaseVNode("div",_hoisted_23$15,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=i=>t.locationForm.need_media_content=i),class:"ios-input",id:"toggle-need-pickup"},null,512),[[vModelCheckbox,t.locationForm.need_media_content]]),t.locationForm.need_media_content?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_24$12,"Нужен медиа контент")),t.locationForm.need_media_content?(openBlock(),createElementBlock("label",_hoisted_25$10,"Не нужен")):createCommentVNode("",!0),_hoisted_26$Y,_hoisted_27$W]),t.locationForm.need_media_content?(openBlock(),createElementBlock("div",_hoisted_28$V,[createVNode(_sfc_main$2t,{"need-audio":!0,"need-video-note":!0,"need-video":!0,"need-photo":!0,onSelect:t.selectMediaForMessage,selected:[t.locationForm.content]},null,8,["onSelect","selected"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_29$S,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_30$R)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[7]||(s[7]=withModifiers(i=>t.openSection(8),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===8,"color-blue2-dark":t.section!==8},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Обновить меню пользователю ",2),t.section===8?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[9]||(s[9]=withModifiers((...i)=>t.requestUserMenu&&t.requestUserMenu(...i),["prevent"]))},[createBaseVNode("div",_hoisted_31$R,[_hoisted_32$Q,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":s[8]||(s[8]=i=>t.userDataForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.userDataForm.info]])]),createBaseVNode("div",_hoisted_33$Q,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Запросить ",8,_hoisted_34$P)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[10]||(s[10]=withModifiers(i=>t.openSection(7),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===7,"color-blue2-dark":t.section!==7},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Запросить заполнение анкеты ",2),t.section===7?(openBlock(),createElementBlock("form",{key:2,onSubmit:s[12]||(s[12]=withModifiers((...i)=>t.requestUserData&&t.requestUserData(...i),["prevent"]))},[createBaseVNode("div",_hoisted_35$P,[_hoisted_36$O,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":s[11]||(s[11]=i=>t.userDataForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.userDataForm.info]])]),createBaseVNode("div",_hoisted_37$M,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Запросить ",8,_hoisted_38$I)])],32)):createCommentVNode("",!0),t.currentBot.payment_provider_token?(openBlock(),createElementBlock("a",{key:3,href:"javascript:void(0)",onClick:s[13]||(s[13]=withModifiers(i=>t.openSection(6),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===6,"color-blue2-dark":t.section!==6},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Запрос на оплату",2)):createCommentVNode("",!0),t.section===6?(openBlock(),createElementBlock("form",{key:4,onSubmit:s[16]||(s[16]=withModifiers((...i)=>t.sendInvoice&&t.sendInvoice(...i),["prevent"]))},[createBaseVNode("div",_hoisted_39$J,[_hoisted_40$G,withDirectives(createBaseVNode("input",{class:"form-control",type:"number",min:"100",step:"50",placeholder:"100","onUpdate:modelValue":s[14]||(s[14]=i=>t.invoiceForm.amount=i),id:"bill-amount",required:""},null,512),[[vModelText,t.invoiceForm.amount]])]),createBaseVNode("div",_hoisted_41$G,[_hoisted_42$G,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст запроса","onUpdate:modelValue":s[15]||(s[15]=i=>t.invoiceForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.invoiceForm.info]])]),createBaseVNode("div",_hoisted_43$G,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить запрос ",8,_hoisted_44$F)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[17]||(s[17]=withModifiers(i=>t.openSection(1),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===1,"color-blue2-dark":t.section!==1},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Списать CashBack",2),t.section===1?(openBlock(),createElementBlock("form",{key:5,onSubmit:s[21]||(s[21]=withModifiers((...i)=>t.removeCashBack&&t.removeCashBack(...i),["prevent"]))},[createBaseVNode("p",null,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(t.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),t.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.botUser.cashBack.subs,i=>(openBlock(),createElementBlock("p",_hoisted_45$E,toDisplayString(i.title||"Без названия")+" - "+toDisplayString(i.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),t.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_46$E,[_hoisted_47$D,withDirectives(createBaseVNode("select",{class:"form-control mb-2","onUpdate:modelValue":s[18]||(s[18]=i=>t.cashbackForm.category=i),required:""},[_hoisted_48$C,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.currentBot.cashback_config,i=>(openBlock(),createElementBlock("option",{value:i.title},toDisplayString(i.title||"Без названия"),9,_hoisted_49$z))),256))],512),[[vModelSelect,t.cashbackForm.category]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_50$w,[_hoisted_51$w,withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":s[19]||(s[19]=i=>t.cashbackForm.amount=i),placeholder:"Сумма",required:""},null,512),[[vModelText,t.cashbackForm.amount]])]),createBaseVNode("div",_hoisted_52$w,[_hoisted_53$u,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[20]||(s[20]=i=>t.cashbackForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.cashbackForm.info]])]),createBaseVNode("div",_hoisted_54$u,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_55$t)])],32)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[22]||(s[22]=withModifiers(i=>t.openSection(2),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===2,"color-blue2-dark":t.section!==2},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])},"Начислить CashBack",2),t.section===2?(openBlock(),createElementBlock("form",{key:6,onSubmit:s[28]||(s[28]=withModifiers((...i)=>t.addCashBack&&t.addCashBack(...i),["prevent"]))},[createBaseVNode("p",_hoisted_56$t,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(t.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),t.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.botUser.cashBack.subs,i=>(openBlock(),createElementBlock("p",_hoisted_57$t,toDisplayString(i.title||"Без названия")+" - "+toDisplayString(i.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),t.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_58$s,[_hoisted_59$r,withDirectives(createBaseVNode("select",{class:"form-control mb-2","onUpdate:modelValue":s[23]||(s[23]=i=>t.cashbackForm.category=i),required:""},[_hoisted_60$o,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.currentBot.cashback_config,i=>(openBlock(),createElementBlock("option",{value:i.title},toDisplayString(i.title||"Без названия"),9,_hoisted_61$n))),256))],512),[[vModelSelect,t.cashbackForm.category]]),_hoisted_62$l])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_63$l,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[24]||(s[24]=i=>t.cashbackForm.need_custom_percents=i),type:"checkbox",value:"",id:"need_custom_cashback_amount"},null,512),[[vModelCheckbox,t.cashbackForm.need_custom_percents]]),_hoisted_64$l]),t.cashbackForm.need_custom_percents?(openBlock(),createElementBlock("div",_hoisted_65$l,[_hoisted_66$l,withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-percent","onUpdate:modelValue":s[25]||(s[25]=i=>t.cashbackForm.percent=i),placeholder:"Значите %",required:""},null,512),[[vModelText,t.cashbackForm.percent]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_67$l,[_hoisted_68$k,withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":s[26]||(s[26]=i=>t.cashbackForm.amount=i),placeholder:"Сумма",required:""},null,512),[[vModelText,t.cashbackForm.amount]])]),createBaseVNode("div",_hoisted_69$k,[_hoisted_70$k,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[27]||(s[27]=i=>t.cashbackForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.cashbackForm.info]])]),createBaseVNode("div",_hoisted_71$k,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_72$i)])],32)):createCommentVNode("",!0),t.botUser.is_admin?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:7,href:"javascript:void(0)",onClick:s[29]||(s[29]=withModifiers(i=>t.openSection(3),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===3,"color-blue2-dark":t.section!==3},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Назначить администратором ",2)),t.section===3?(openBlock(),createElementBlock("form",{key:8,onSubmit:s[31]||(s[31]=withModifiers((...i)=>t.addAdmin&&t.addAdmin(...i),["prevent"]))},[createBaseVNode("div",_hoisted_73$i,[_hoisted_74$i,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[30]||(s[30]=i=>t.adminForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.adminForm.info]])]),createBaseVNode("div",_hoisted_75$i,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Подтвердить ",8,_hoisted_76$h)])],32)):createCommentVNode("",!0),t.botUser.is_admin?(openBlock(),createElementBlock("a",{key:9,href:"javascript:void(0)",onClick:s[32]||(s[32]=withModifiers(i=>t.openSection(4),["prevent"])),class:normalizeClass([{"bg-blue2-dark text-white":t.section===4,"color-blue2-dark":t.section!==4},"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark"])}," Убрать администратора ",2)):createCommentVNode("",!0),t.section===4?(openBlock(),createElementBlock("form",{key:10,onSubmit:s[34]||(s[34]=withModifiers((...i)=>t.removeAdmin&&t.removeAdmin(...i),["prevent"]))},[createBaseVNode("div",_hoisted_77$h,[_hoisted_78$f,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[33]||(s[33]=i=>t.adminForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.adminForm.info]])]),createBaseVNode("div",_hoisted_79$e,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Подтвердить ",8,_hoisted_80$e)])],32)):createCommentVNode("",!0),t.section===9?(openBlock(),createElementBlock("form",{key:11,onSubmit:s[37]||(s[37]=withModifiers((...i)=>t.sendPageToUser&&t.sendPageToUser(...i),["prevent"]))},[createBaseVNode("div",_hoisted_81$e,[_hoisted_82$e,withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":s[35]||(s[35]=i=>t.pageForm.info=i),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,t.pageForm.info]])]),_hoisted_83$c,t.pageForm.page_id?(openBlock(),createElementBlock("p",_hoisted_84$a,[createTextVNode("Вы выбрали #"+toDisplayString(t.pageForm.page_id)+" ",1),createBaseVNode("span",{class:"ml-2 text-danger custom-radio",onClick:s[36]||(s[36]=i=>t.pageForm.page_id=null)},"убрать")])):createCommentVNode("",!0),createVNode(_sfc_main$2w,{editor:!1,onCallback:t.pageListCallback},null,8,["onCallback"]),createBaseVNode("div",_hoisted_85$a,[createBaseVNode("button",{disabled:t.loading&&!t.pageForm.page_id,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,_hoisted_86$a)])],32)):createCommentVNode("",!0)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64))}}),Main$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2s},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2n={class:"card card-style"},_hoisted_2$2l={key:0,class:"content d-flex flex-wrap"},_hoisted_3$2f={class:"mt-2 pt-2 w-100"},_hoisted_4$29={key:0,class:"speech-bubble color-black"},_hoisted_5$27={key:1,class:"speech-bubble color-white bg-highlight"},_hoisted_6$25={key:2,class:"speech-left"},_hoisted_7$21={key:1,class:"content"},_hoisted_8$1X={key:2,class:"content"},_hoisted_9$1S=createBaseVNode("p",null,"Переписка с данным пользователем еще не сохранена",-1),_hoisted_10$1L=[_hoisted_9$1S],__default__$1G={data(){return{botUserId:null,loading:!1,history:[],paginate_object:null}},computed:{...mapGetters(["getChatHistory","getChatHistoryPaginateObject"])},mounted(){this.botUserId=this.$route.params.botUserId,this.loadChatHistory()},methods:{nextChatHistory(o){this.loadChatHistory(o)},loadChatHistory(o=0){this.loading=!0,this.$store.dispatch("loadChatHistory",{dataObject:{bot_user_id:this.botUserId||null},page:o}).then(t=>{this.history=this.getChatHistory||[],this.paginate_object=this.getChatHistoryPaginateObject||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},_sfc_main$2r=Object.assign(__default__$1G,{__name:"ChatHistory",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2n,[t.history.length>0?(openBlock(),createElementBlock("div",_hoisted_2$2l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.history,i=>(openBlock(),createElementBlock("div",_hoisted_3$2f,[i.from_bot_user_id==t.botUserId?(openBlock(),createElementBlock("div",_hoisted_4$29,toDisplayString(i.text||"Текст сообщения"),1)):createCommentVNode("",!0),i.from_bot_user_id!=t.botUserId?(openBlock(),createElementBlock("div",_hoisted_5$27,toDisplayString(i.text||"Текст сообщения"),1)):createCommentVNode("",!0),i.media_content?(openBlock(),createElementBlock("div",_hoisted_6$25,[createVNode(BotMediaObject,{content:i.media_content,type:i.content_type},null,8,["content","type"])])):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0),t.history.length>0?(openBlock(),createElementBlock("div",_hoisted_7$21,[t.paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-4",simple:!0,onPagination_page:t.nextChatHistory,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot)])):(openBlock(),createElementBlock("div",_hoisted_8$1X,_hoisted_10$1L))]))}}),ChatHistory=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2r},Symbol.toStringTag,{value:"Module"})),KeyboardConstructor_vue_vue_type_style_index_0_lang$1="",_sfc_main$2q={props:["editedKeyboard","type"],components:{Vue3JsonEditor},computed:{uuid(){return v4()}},watch:{keyboard:{handler:function(o){this.save()},deep:!0}},data(){return{showCode:!1,showAssign:!1,selectedRow:null,load:!1,rowCount:1,keyboard:[],select:{row:0,col:0,type:this.type||"reply"}}},mounted(){this.editedKeyboard&&this.$nextTick(()=>{this.keyboard=this.editedKeyboard.menu})},methods:{moveCol(o,t=0){o!==this.select.row&&(this.select.row=o,this.select.col=0,this.select.text=this.keyboard[this.select.row][this.select.col].text);let s=this.select.row,i=this.select.col,a=this.keyboard[s].length,n=t===0?i-1>=0?i-1:a-1:i<a-1?i+1:0,r=this.keyboard[s][i];this.keyboard[s][i]=this.keyboard[s][n],this.keyboard[s][n]=r,this.select.row=s,this.select.col=n,this.select.text=this.keyboard[s][n].text},moveRow(o=0){if(this.selectedRow==null)return;let t=this.keyboard.length,s=o===0?this.selectedRow-1>=0?this.selectedRow-1:t-1:this.selectedRow<t-1?this.selectedRow+1:0,i=this.keyboard[this.selectedRow];this.keyboard[this.selectedRow]=this.keyboard[s],this.keyboard[s]=i,this.selectedRow=s},openKeyboardEditorMenu(o,t){this.$botPages.keyboard({row:o,col:t,type:this.type},this.keyboard)},save(){this.$emit("save",this.keyboard)},onJsonChange(o){this.keyboard=o,this.save()},removeColFromRow(o){this.keyboard[o].length>1?this.keyboard[o].splice(this.keyboard[o].length-1,1):this.keyboard.splice(o,1),this.keyboard.length===0&&(this.selectedRow=null),this.save()},addRowAbove(){this.addRow(!0)},addRowBelow(){this.addRow(!1)},addRow(o=!1){if(this.selectedRow==null)this.keyboard?this.keyboard.push([{text:"No Text"}]):this.keyboard=[[{text:"No Text"}]],this.selectedRow=null;else{let t=o?this.selectedRow:this.selectedRow+1;this.keyboard.splice(t,0,[{text:"No Text"}])}this.save()},addColToRow(o){this.keyboard[o].push({text:"No Text"}),this.save()},selectIndex(o,t){this.selectedRow=o,this.select.row=o,this.select.col=t,this.select.text=this.keyboard[o][t].text,this.load=!0,this.$nextTick(()=>{this.load=!1})},removeCol(o,t){this.keyboard[o].length>1?this.keyboard[o].splice(t,1):this.keyboard.splice(1,1),this.save()}}},_hoisted_1$2m=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"}),createTextVNode("Инструкция")],-1),_hoisted_2$2k=createBaseVNode("div",{class:"text-left w-100"},[createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-down"}),createTextVNode(" - добавление в нижнюю часть новой строки (кнопки)")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"}),createTextVNode(" - добавление строки над выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"}),createTextVNode(" - добавление строки под выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-plus"}),createTextVNode(" - добавление кнопки на строку")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-minus"}),createTextVNode(" - удаление крайней левой кнопки из строки либо самой строки")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-xmark"}),createTextVNode(" - отмена выделения")])],-1),_hoisted_3$2e={class:"mb-2 d-flex justify-content-between align-items-center"},_hoisted_4$28=createBaseVNode("i",{class:"fa-solid fa-arrow-down"},null,-1),_hoisted_5$26=[_hoisted_4$28],_hoisted_6$24=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"},null,-1),_hoisted_7$20=[_hoisted_6$24],_hoisted_8$1W=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"},null,-1),_hoisted_9$1R=[_hoisted_8$1W],_hoisted_10$1K=createBaseVNode("i",{class:"fa-solid fa-arrows-up-to-line"},null,-1),_hoisted_11$1F=[_hoisted_10$1K],_hoisted_12$1D=createBaseVNode("i",{class:"fa-solid fa-arrows-down-to-line"},null,-1),_hoisted_13$1x=[_hoisted_12$1D],_hoisted_14$1r=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_15$1p=[_hoisted_14$1r],_hoisted_16$1p={class:"form-check"},_hoisted_17$1i=["id"],_hoisted_18$1h=["for"],_hoisted_19$1e={key:0,class:"text-danger font-weight-bold p-0 m-0"},_hoisted_20$1c={key:1,style:{"overflow-x":"scroll",padding:"5px 20px"},class:"mb-3"},_hoisted_21$1a={style:{"min-width":"1000px",width:"100%"}},_hoisted_22$19={class:"row mb-0"},_hoisted_23$14={class:"col-2 d-flex justify-content-around p-2"},_hoisted_24$11=["onClick"],_hoisted_25$$=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_26$X=[_hoisted_25$$],_hoisted_27$V=["onClick"],_hoisted_28$U=createBaseVNode("i",{class:"fa-solid fa-minus"},null,-1),_hoisted_29$R=[_hoisted_28$U],_hoisted_30$Q=["onClick"],_hoisted_31$Q=createBaseVNode("i",{class:"fa-solid fa-caret-left"},null,-1),_hoisted_32$P=[_hoisted_31$Q],_hoisted_33$P=["onClick"],_hoisted_34$O=createBaseVNode("i",{class:"fa-solid fa-caret-right"},null,-1),_hoisted_35$O=[_hoisted_34$O],_hoisted_36$N={class:"col-10 d-flex justify-content-center p-1"},_hoisted_37$L={class:"btn-group dropdown-center w-100 m-1"},_hoisted_38$H=["onClick","onUpdate:modelValue"],_hoisted_39$I=["onClick"],_hoisted_40$F=createBaseVNode("i",{class:"fa-solid fa-bars"},null,-1),_hoisted_41$F=[_hoisted_40$F],_hoisted_42$F={key:0,class:"mb-0"},_hoisted_43$F=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код клавиатуры",-1);function _sfc_render$K(o,t,s,i,a,n){const r=resolveComponent("Popper"),l=resolveComponent("Vue3JsonEditor");return openBlock(),createElementBlock(Fragment,null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_2$2k]),default:withCtx(()=>[_hoisted_1$2m]),_:1}),createBaseVNode("div",_hoisted_3$2e,[createBaseVNode("div",null,[a.selectedRow==null?(openBlock(),createElementBlock("button",{key:0,title:"добавление в нижнюю часть новой строки (кнопки)",type:"button",class:"btn btn-primary mb-2",onClick:t[0]||(t[0]=(...d)=>n.addRow&&n.addRow(...d))},_hoisted_5$26)):createCommentVNode("",!0),a.selectedRow!=null?(openBlock(),createElementBlock("button",{key:1,type:"button",title:"добавление строки над выбранной строкой",class:"btn btn-primary mb-2",onClick:t[1]||(t[1]=(...d)=>n.addRowAbove&&n.addRowAbove(...d))},_hoisted_7$20)):createCommentVNode("",!0),a.selectedRow!=null?(openBlock(),createElementBlock("button",{key:2,type:"button",title:"добавление строки под выбранной строкой",class:"btn btn-primary mb-2 ml-2",onClick:t[2]||(t[2]=(...d)=>n.addRowBelow&&n.addRowBelow(...d))},_hoisted_9$1R)):createCommentVNode("",!0),a.selectedRow!=null?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-primary mb-2 ml-2",onClick:t[3]||(t[3]=d=>n.moveRow(0))},_hoisted_11$1F)):createCommentVNode("",!0),a.selectedRow!=null?(openBlock(),createElementBlock("button",{key:4,type:"button",class:"btn btn-primary mb-2 ml-2",onClick:t[4]||(t[4]=d=>n.moveRow(1))},_hoisted_13$1x)):createCommentVNode("",!0),a.selectedRow!=null?(openBlock(),createElementBlock("button",{key:5,type:"button",class:"btn btn-outline-danger mb-2 ml-2",onClick:t[5]||(t[5]=d=>a.selectedRow=null)},_hoisted_15$1p)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$1p,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=d=>a.showCode=d),id:"showCode"+n.uuid},null,8,_hoisted_17$1i),[[vModelCheckbox,a.showCode]]),createBaseVNode("label",{class:"form-check-label",for:"showCode"+n.uuid}," Отобразить код ",8,_hoisted_18$1h)])]),a.keyboard.length===0?(openBlock(),createElementBlock("p",_hoisted_19$1e,"Элементы клавиатуры еще не добавлены")):createCommentVNode("",!0),a.keyboard.length>0?(openBlock(),createElementBlock("div",_hoisted_20$1c,[createBaseVNode("div",_hoisted_21$1a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.keyboard,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_22$19,[createBaseVNode("div",_hoisted_23$14,[createBaseVNode("button",{type:"button",title:"добавление кнопки на строку",class:"btn btn-link w-100",onClick:_=>n.addColToRow(c)},_hoisted_26$X,8,_hoisted_24$11),createBaseVNode("button",{type:"button",title:"удаление крайней левой кнопки из строки либо самой строки",class:"btn btn-link w-100",onClick:_=>n.removeColFromRow(c)},_hoisted_29$R,8,_hoisted_27$V),createBaseVNode("button",{type:"button",class:"btn btn-link w-100",onClick:_=>n.moveCol(c,0)},_hoisted_32$P,8,_hoisted_30$Q),createBaseVNode("button",{type:"button",class:"btn btn-link w-100",onClick:_=>n.moveCol(c,1)},_hoisted_35$O,8,_hoisted_33$P)]),createBaseVNode("div",_hoisted_36$N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(d,(_,m)=>(openBlock(),createElementBlock("div",_hoisted_37$L,[withDirectives(createBaseVNode("input",{type:"text",onClick:p=>n.selectIndex(c,m),class:"btn btn-outline-primary w-100","onUpdate:modelValue":p=>a.keyboard[c][m].text=p},null,8,_hoisted_38$H),[[vModelText,a.keyboard[c][m].text]]),createBaseVNode("button",{type:"button",onClick:p=>n.openKeyboardEditorMenu(c,m),class:"btn btn-outline-primary","aria-expanded":"false","data-bs-reference":"parent"},_hoisted_41$F,8,_hoisted_39$I)]))),256))])]))),256)),a.showCode?(openBlock(),createElementBlock("div",_hoisted_42$F,[_hoisted_43$F,a.load?createCommentVNode("",!0):(openBlock(),createBlock(l,{key:0,mode:"code",modelValue:a.keyboard,"onUpdate:modelValue":t[7]||(t[7]=d=>a.keyboard=d),"show-btns":!1,expandedOnStart:!0,onJsonChange:n.onJsonChange},null,8,["modelValue","onJsonChange"]))])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)}const KeyboardConstructor=_export_sfc(_sfc_main$2q,[["render",_sfc_render$K]]),KeyboardCard_vue_vue_type_style_index_0_lang="",_hoisted_1$2l={key:0,class:"mb-2 px-1"},_hoisted_2$2j=["disabled"],_hoisted_3$2d=createBaseVNode("i",{class:"fa-solid fa-arrow-left"},null,-1),_hoisted_4$27=[_hoisted_3$2d],_hoisted_5$25=["data-bs-target","disabled"],_hoisted_6$23=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_7$1$=[_hoisted_6$23],_hoisted_8$1V=["disabled"],_hoisted_9$1Q=createBaseVNode("i",{class:"fa-regular fa-floppy-disk"},null,-1),_hoisted_10$1J=[_hoisted_9$1Q],_hoisted_11$1E={key:1,class:"d-flex justify-content-between"},_hoisted_12$1C={class:"mr-2"},_hoisted_13$1w=["disabled"],_hoisted_14$1q={key:0,class:"fa-solid fa-check"},_hoisted_15$1o={key:1,class:"fa-regular fa-pen-to-square"},_hoisted_16$1o=["disabled"],_hoisted_17$1h=createBaseVNode("i",{class:"fa-regular fa-clone"},null,-1),_hoisted_18$1g=[_hoisted_17$1h],_hoisted_19$1d=["disabled"],_hoisted_20$1b=createBaseVNode("i",{class:"fa-regular fa-floppy-disk"},null,-1),_hoisted_21$19=[_hoisted_20$1b],_hoisted_22$18=["disabled"],_hoisted_23$13=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_24$10=[_hoisted_23$13],_hoisted_25$_={key:2},_hoisted_26$W={class:"mb-0"},_hoisted_27$U={key:0},_hoisted_28$T={key:1},_hoisted_29$Q={class:"mb-0"},_hoisted_30$P={class:"mb-1 d-flex justify-content-between"},_hoisted_31$P={class:"mb-1 px-1 w-100"},_hoisted_32$O={type:"button",class:"btn btn-outline-primary w-100 font-10 p-2"},_hoisted_33$O=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),__default__$1F={props:["keyboard","selectMode"],data:()=>({is_edited:!1,editMode:!1,load:!1,keyboardForm:null}),computed:{uuid(){return v4()}},watch:{keyboardForm:{handler(o){this.is_edited=!0},deep:!0}},mounted(){const o=this.keyboard;this.keyboardForm=o,this.$nextTick(()=>{this.is_edited=!1})},methods:{removeKeyboard(){this.$store.dispatch("removeKeyboardTemplate",{templateId:this.keyboardForm.id}).then(o=>{this.load=!0,this.$nextTick(()=>{this.load=!1}),this.$botNotification.success("Конструктор клавитатуры","Клавиатура успешно удалена!"),this.$emit("callback",this.keyboardForm.id)}).catch(()=>{this.$emit("callback",this.keyboardForm.id),this.$botNotification.warning("Конструктор клавитатуры","Ошибка удаления клавиатуры")})},saveKeyboard(o){this.keyboardForm.menu=o,this.$botNotification.notification("Конструктор клавитатуры","Клавиатура успешно выбрана!")},selectCard(){this.$emit("select",this.keyboardForm)},duplicateKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const s=this.keyboardForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("createKeyboardTemplate",{keyboardForm:o}).then(t=>{this.$botNotification.success("Конструктор ботов","Меню успешно продублировано!"),this.load=!0,this.$nextTick(()=>{this.load=!1}),this.$emit("reload")})},updateKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const s=this.keyboardForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("editKeyboardTemplate",{keyboardForm:o}).then(t=>{this.load=!0,this.$nextTick(()=>{this.load=!1,this.is_edited=!1}),this.$botNotification.success("Конструктор клавитатуры","Клавиатура успешно сохранена!"),this.$emit("callback")}).catch(()=>{this.is_edited=!0})}}},_sfc_main$2p=Object.assign(__default__$1F,{__name:"KeyboardCard",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[o.selectMode?(openBlock(),createElementBlock("div",_hoisted_1$2l,[createBaseVNode("button",{onClick:s[0]||(s[0]=(...i)=>t.selectCard&&t.selectCard(...i)),disabled:t.load,type:"button",class:"btn btn-outline-success mr-2"},_hoisted_4$27,8,_hoisted_2$2j),createBaseVNode("button",{"data-bs-toggle":"modal","data-bs-target":"#open-construct-"+t.uuid,disabled:t.load,type:"button",title:"Редактировать клавиатуру",class:"btn btn-outline-success mr-2"},_hoisted_7$1$,8,_hoisted_5$25),createBaseVNode("button",{onClick:s[1]||(s[1]=(...i)=>t.updateKeyboard&&t.updateKeyboard(...i)),type:"button",title:"Обновить клавиатуру",disabled:t.load||!t.is_edited,class:normalizeClass(["btn mr-2",{"btn-outline-primary have-change":t.is_edited,"btn-outline-secondary":!t.is_edited}])},_hoisted_10$1J,10,_hoisted_8$1V)])):createCommentVNode("",!0),o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_11$1E,[createBaseVNode("div",null,[createBaseVNode("strong",_hoisted_12$1C,"#"+toDisplayString(o.keyboard.id),1),createBaseVNode("button",{"data-bs-toggle":"modal",onClick:s[2]||(s[2]=i=>t.editMode=!t.editMode),disabled:t.load,type:"button",title:"Редактировать клавиатуру",class:"btn btn-outline-success mr-2"},[t.editMode?(openBlock(),createElementBlock("i",_hoisted_14$1q)):(openBlock(),createElementBlock("i",_hoisted_15$1o))],8,_hoisted_13$1w),createBaseVNode("button",{onClick:s[3]||(s[3]=(...i)=>t.duplicateKeyboard&&t.duplicateKeyboard(...i)),type:"button",title:"Дублировать клавиатуру",disabled:t.load,class:"btn btn-outline-primary mr-2"},_hoisted_18$1g,8,_hoisted_16$1o),createBaseVNode("button",{onClick:s[4]||(s[4]=(...i)=>t.updateKeyboard&&t.updateKeyboard(...i)),type:"button",title:"Обновить клавиатуру",disabled:t.load||!t.is_edited,class:normalizeClass(["btn mr-2",{"btn-outline-primary have-change":t.is_edited,"btn-outline-secondary":!t.is_edited}])},_hoisted_21$19,10,_hoisted_19$1d)]),createBaseVNode("button",{onClick:s[5]||(s[5]=(...i)=>t.removeKeyboard&&t.removeKeyboard(...i)),type:"button",disabled:t.load,title:"Удалить клавиатуру",class:"btn btn-outline-danger mr-2"},_hoisted_24$10,8,_hoisted_22$18)])),o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$_,[createBaseVNode("p",_hoisted_26$W,[createTextVNode("Тип клавиатуры: "),o.keyboard.type==="reply"?(openBlock(),createElementBlock("strong",_hoisted_27$U,"Нижняя клавиатура")):createCommentVNode("",!0),o.keyboard.type==="inline"?(openBlock(),createElementBlock("strong",_hoisted_28$T,"Встроенная клавиатура")):createCommentVNode("",!0)]),createBaseVNode("p",_hoisted_29$Q,[createTextVNode("Мнемоническое имя: "),createBaseVNode("strong",null,toDisplayString(o.keyboard.slug),1)])])),t.editMode?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:3},renderList(o.keyboard.menu,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_30$P,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_31$P,[createBaseVNode("button",_hoisted_32$O,toDisplayString(n.text),1)]))),256))]))),256)),t.keyboardForm&&t.editMode?(openBlock(),createBlock(KeyboardConstructor,{key:4,onSave:t.saveKeyboard,"edited-keyboard":t.keyboardForm},null,8,["onSave","edited-keyboard"])):createCommentVNode("",!0),_hoisted_33$O],64))}}),_hoisted_1$2k={key:0},_hoisted_2$2i=createBaseVNode("h6",null,"Форма создания шаблона клавиатуры",-1),_hoisted_3$2c={class:"mb-3"},_hoisted_4$26=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"Тип",-1),_hoisted_5$24=createBaseVNode("option",{value:"reply"},"Нижняя клавиатура",-1),_hoisted_6$22=createBaseVNode("option",{value:"inline"},"Встроенная клавиатура",-1),_hoisted_7$1_=[_hoisted_5$24,_hoisted_6$22],_hoisted_8$1U={class:"mb-3"},_hoisted_9$1P={class:"form-label d-flex justify-content-between",id:"bot-domain"},_hoisted_10$1I=createBaseVNode("span",null,"Мнемоническое имя",-1),_hoisted_11$1D=createBaseVNode("i",{class:"fa-solid fa-arrows-rotate"},null,-1),_hoisted_12$1B=[_hoisted_11$1D],_hoisted_13$1v={class:"col-12"},_hoisted_14$1p=createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green1-dark w-100"}," Добавить новый шаблон клавиатуры ",-1),_hoisted_15$1n=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$1n={key:1,class:"mb-1"},_hoisted_17$1g={class:"badge bg-warning"},_hoisted_18$1f={class:"mb-3"},_hoisted_19$1c={key:1,class:"card"},_hoisted_20$1a={class:"card-body"},_hoisted_21$18={key:3,class:"mb-3"},_hoisted_22$17=createBaseVNode("div",{class:"alert alert-warning",role:"alert"},[createBaseVNode("p",null,"Список шаблонов клавиатур пуст!")],-1),_hoisted_23$12=[_hoisted_22$17],__default__$1E={props:["selectMode","type"],data(){return{keyboards:[],load:!1,editedKeyboard:null,selectMenuIndex:null,keyboardForm:{type:"reply",slug:null,menu:[]}}},computed:{filteredKeyboard(){return this.type?this.keyboards.filter(o=>o.type==this.type):this.keyboards}},mounted(){this.loadMenusByBotTemplate(),this.generateSlug()},methods:{selectCard(o){this.$emit("select",o)},keyboardCallbackAction(o){let t=this.keyboards.find(s=>s.id===o);t.deleted_at=new Date,this.loadMenusByBotTemplate()},loadMenusByBotTemplate(){this.$store.dispatch("loadBotKeyboards").then(o=>{this.$nextTick(()=>{this.keyboards=o.data})})},submitKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const s=this.keyboardForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("createKeyboardTemplate",{keyboardForm:o}).then(t=>{this.keyboardForm={type:"reply",slug:null,menu:[]},this.load=!0,this.$nextTick(()=>{this.load=!1}),this.loadMenusByBotTemplate()})},generateSlug(){this.keyboardForm.slug=v4()},changeKeyboardFormMenu(o){this.keyboardForm.menu=o}}},_sfc_main$2o=Object.assign(__default__$1E,{__name:"KeyboardList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$2k,[_hoisted_2$2i,createBaseVNode("form",{onSubmit:s[3]||(s[3]=withModifiers((...i)=>t.submitKeyboard&&t.submitKeyboard(...i),["prevent"]))},[createBaseVNode("div",_hoisted_3$2c,[_hoisted_4$26,withDirectives(createBaseVNode("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.keyboardForm.type=i),class:"form-control"},_hoisted_7$1_,512),[[vModelSelect,t.keyboardForm.type]])]),createBaseVNode("div",_hoisted_8$1U,[createBaseVNode("label",_hoisted_9$1P,[_hoisted_10$1I,createBaseVNode("a",{onClick:s[1]||(s[1]=(...i)=>t.generateSlug&&t.generateSlug(...i)),href:"javascript:void(0)"},_hoisted_12$1B)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Мнемоническое имя","aria-label":"Мнемоническое имя","onUpdate:modelValue":s[2]||(s[2]=i=>t.keyboardForm.slug=i),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.keyboardForm.slug]])]),createBaseVNode("div",_hoisted_13$1v,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(KeyboardConstructor,{key:0,onSave:t.changeKeyboardFormMenu,"edited-keyboard":t.keyboardForm},null,8,["onSave","edited-keyboard"]))]),_hoisted_14$1p],32),_hoisted_15$1n])),t.keyboards?(openBlock(),createElementBlock("p",_hoisted_16$1n,[createTextVNode("В списке клавиатур "),createBaseVNode("span",_hoisted_17$1g,toDisplayString(t.filteredKeyboard.length)+" ед.",1)])):createCommentVNode("",!0),t.keyboards?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.filteredKeyboard,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_18$1f,[i.deleted_at?(openBlock(),createElementBlock("div",_hoisted_19$1c,[createBaseVNode("div",_hoisted_20$1a,[createBaseVNode("p",null,"Удаленная клавиатура #"+toDisplayString(i.id),1)])])):(openBlock(),createBlock(_sfc_main$2p,{key:0,"select-mode":o.selectMode,onSelect:t.selectCard,onReload:t.loadMenusByBotTemplate,onCallback:t.keyboardCallbackAction,keyboard:i},null,8,["select-mode","onSelect","onReload","onCallback","keyboard"]))]))),256)):createCommentVNode("",!0),t.filteredKeyboard.length===0?(openBlock(),createElementBlock("div",_hoisted_21$18,_hoisted_23$12)):createCommentVNode("",!0)],64))}}),_hoisted_1$2j={class:"mb-3"},_hoisted_2$2h=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_3$2b=[_hoisted_2$2h],_hoisted_4$25={class:"mb-3"},_hoisted_5$23={class:"d-flex justify-content-between flex-wrap align-items-center mb-2"},_hoisted_6$21=createBaseVNode("label",{class:"form-label",id:"bot-main-channel"},"Канал для постов",-1),_hoisted_7$1Z=createBaseVNode("i",{class:"fa-brands fa-telegram mr-2 color-blue2-dark"},null,-1),_hoisted_8$1T=[_hoisted_7$1Z],_hoisted_9$1O=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_10$1H=createBaseVNode("div",null,"Нужно ",-1),_hoisted_11$1C={class:"mb-2"},_hoisted_12$1A={class:"form-label d-flex justify-content-between align-items-center mb-2",id:"bot-domain"},_hoisted_13$1u=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_14$1o=createBaseVNode("div",null,"Нужно ",-1),_hoisted_15$1m={class:"form-floating"},_hoisted_16$1m={for:"floatingTextarea2"},_hoisted_17$1f={key:0},_hoisted_18$1e={class:"mb-2"},_hoisted_19$1b={class:"form-check"},_hoisted_20$19=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_21$17={key:0,class:"mb-2"},_hoisted_22$16=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_23$11={class:"d-flex justify-content-center flex-wrap"},_hoisted_24$$={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_25$Z={class:"row"},_hoisted_26$V={key:0,class:"col-12 d-flex flex-wrap"},_hoisted_27$T={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_28$S={class:"remove"},_hoisted_29$P=["onClick"],_hoisted_30$O={class:"mb-2"},_hoisted_31$O={class:"form-check"},_hoisted_32$N=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_33$N={key:1,class:"mb-2"},_hoisted_34$N={key:0},_hoisted_35$N={key:1},_hoisted_36$M=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Отправить сообщение в канал ",-1),__default__$1D={data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{text:"",inline_keyboard:null,channel:null}}},computed:{currentBot(){return window.currentBot}},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.mailForm[o.detail.param]=o.detail.channel})},methods:{addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){let o=new FormData;if(Object.keys(this.mailForm).forEach(t=>{const s=this.mailForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch("sendToChannel",{mailForm:o}).then(t=>{this.load=!0,this.photos=[],this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={text:"",channel:null,inline_keyboard:null},this.$botNotification.success("Отлично!","Сообщение успешно отправлено в канал!")}).catch(t=>{this.$botNotification.warning("Упс...","Ошибка отправки сообщения в канал")})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(t=>{t.ok&&(this.mailForm.channel=t.result.chat.id),t.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),t.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.mailForm.channel=null)}).catch(()=>{}))}}},_sfc_main$2n=Object.assign(__default__$1D,{__name:"MailToChannel",setup(o){return(t,s)=>{const i=resolveComponent("Popper"),a=resolveDirective("lazy");return t.currentBot?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[11]||(s[11]=withModifiers((...n)=>t.submitMail&&t.submitMail(...n),["prevent"]))},[createBaseVNode("div",_hoisted_1$2j,[t.mailForm.channel!=null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-outline-info",onClick:s[0]||(s[0]=n=>t.mailForm.channel=null)},_hoisted_3$2b)):createCommentVNode("",!0),createTextVNode(" , "),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{"btn-info":t.mailForm.channel===t.currentBot.main_channel,"btn-outline-info":t.mailForm.channel!==t.currentBot.main_channel}]),onClick:s[1]||(s[1]=n=>t.mailForm.channel=t.currentBot.main_channel)},"Главный канал ",2),createTextVNode(" , "),createBaseVNode("button",{type:"button",class:normalizeClass(["btn",{"btn-info":t.mailForm.channel===t.currentBot.order_channel,"btn-outline-info":t.mailForm.channel!==t.currentBot.order_channel}]),onClick:s[2]||(s[2]=n=>t.mailForm.channel=t.currentBot.order_channel)},"Канал заказов ",2)]),createBaseVNode("div",_hoisted_4$25,[createBaseVNode("div",_hoisted_5$23,[_hoisted_6$21,createBaseVNode("span",{onClick:s[3]||(s[3]=n=>t.requestChannelId("channel"))},_hoisted_8$1T),createVNode(i,null,{content:withCtx(()=>[_hoisted_10$1H]),default:withCtx(()=>[_hoisted_9$1O]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":s[4]||(s[4]=n=>t.mailForm.channel=n),maxlength:"255",onBlur:s[5]||(s[5]=(...n)=>t.requestTelegramChannelId&&t.requestTelegramChannelId(...n)),"aria-describedby":"bot-main-channel",required:""},null,544),[[vModelText,t.mailForm.channel]])]),createBaseVNode("div",_hoisted_11$1C,[createBaseVNode("label",_hoisted_12$1A,[createTextVNode(" Текстовое содержимое страницы "),createVNode(i,null,{content:withCtx(()=>[_hoisted_14$1o]),default:withCtx(()=>[_hoisted_13$1u]),_:1})]),createBaseVNode("div",_hoisted_15$1m,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[6]||(s[6]=n=>t.mailForm.text=n),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"},required:""},null,512),[[vModelText,t.mailForm.text]]),createBaseVNode("label",_hoisted_16$1m,[createTextVNode("Содержимое страницы "),t.mailForm.text?(openBlock(),createElementBlock("span",_hoisted_17$1f,toDisplayString(t.mailForm.text.length)+"/4096 ",1)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_18$1e,[createBaseVNode("div",_hoisted_19$1b,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[7]||(s[7]=n=>t.need_page_images=n),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_20$19])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_21$17,[_hoisted_22$16,createBaseVNode("div",_hoisted_23$11,[createBaseVNode("label",_hoisted_24$$,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:s[8]||(s[8]=(...n)=>t.onChangePhotos&&t.onChangePhotos(...n)),style:{display:"none"}},null,32)]),createBaseVNode("div",_hoisted_25$Z,[t.photos.length>0?(openBlock(),createElementBlock("div",_hoisted_26$V,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.photos,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_27$T,[withDirectives(createBaseVNode("img",null,null,512),[[a,t.getPhoto(n).imageUrl]]),createBaseVNode("div",_hoisted_28$S,[createBaseVNode("a",{onClick:l=>t.removePhoto(r)},"Удалить",8,_hoisted_29$P)])]))),256))])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_30$O,[createBaseVNode("div",_hoisted_31$O,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[9]||(s[9]=n=>t.need_inline_menu=n),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_32$N])]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_33$N,[createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:s[10]||(s[10]=n=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_35$N," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_34$N," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$2o,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_36$M],32)):createCommentVNode("",!0)}}}),_hoisted_1$2i={class:"mb-2"},_hoisted_2$2g={class:"form-label d-flex justify-content-between align-items-center mb-1"},_hoisted_3$2a=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_4$24=createBaseVNode("div",null,"Нужно ",-1),_hoisted_5$22={class:"mb-1 text-center"},_hoisted_6$20={key:0},_hoisted_7$1Y={class:"form-floating"},_hoisted_8$1S={class:"mb-2"},_hoisted_9$1N={class:"mb-2"},_hoisted_10$1G={class:"form-check"},_hoisted_11$1B=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения в рассылке (максимум 10) ",-1),_hoisted_12$1z={key:0,class:"mb-2"},_hoisted_13$1t={class:"mb-2"},_hoisted_14$1n={class:"form-check"},_hoisted_15$1l=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_16$1l={key:1,class:"mb-2"},_hoisted_17$1e={key:0},_hoisted_18$1d={key:1},_hoisted_19$1a=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full my-3 rounded-xl text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Поставить сообщение в очередь ",-1),__default__$1C={components:{VueDatePicker:Ka$1},data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{message:"",inline_keyboard:null,cron_time:null,images:[]}}},computed:{currentBot(){return window.currentBot}},mounted(){},methods:{selectImages(o){this.mailForm.images||(this.mailForm.images=[]);let t=this.mailForm.images.indexOf(o.file_id);t!==-1?this.mailForm.images.splice(t,1):this.mailForm.images.push(o.file_id)},addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){let o=new FormData;Object.keys(this.mailForm).forEach(t=>{const s=this.mailForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("sendToQueue",{mailForm:o}).then(t=>{this.load=!0,this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={message:"",images:null,inline_keyboard:null},this.$botNotification.success("Отлично!","Сообщение успешно отправлено в очередь рассылки!"),this.$emit("callback")}).catch(t=>{this.$botNotification.warning("Упс...","Ошибка отправки сообщения в очередь")})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(t=>{t.ok&&(this.mailForm.channel=t.result.chat.id),t.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),t.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.mailForm.channel=null)}).catch(()=>{}))}}},_sfc_main$2m=Object.assign(__default__$1C,{__name:"MailToBot",setup(o){return(t,s)=>{const i=resolveComponent("Popper");return t.currentBot?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[5]||(s[5]=withModifiers((...a)=>t.submitMail&&t.submitMail(...a),["prevent"]))},[createBaseVNode("div",_hoisted_1$2i,[createBaseVNode("label",_hoisted_2$2g,[createTextVNode(" Текстовое содержимое рассылки "),createVNode(i,null,{content:withCtx(()=>[_hoisted_4$24]),default:withCtx(()=>[_hoisted_3$2a]),_:1})]),createBaseVNode("p",_hoisted_5$22,[t.mailForm.message?(openBlock(),createElementBlock("span",_hoisted_6$20,toDisplayString(t.mailForm.message.length)+"/4096 ",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$1Y,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=a=>t.mailForm.message=a),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"},required:""},null,512),[[vModelText,t.mailForm.message]])])]),createBaseVNode("div",_hoisted_8$1S,[withDirectives(createBaseVNode("input",{type:"datetime-local",class:"form-control w-100","onUpdate:modelValue":s[1]||(s[1]=a=>t.mailForm.cron_time=a),required:""},null,512),[[vModelText,t.mailForm.cron_time]])]),createBaseVNode("div",_hoisted_9$1N,[createBaseVNode("div",_hoisted_10$1G,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=a=>t.need_page_images=a),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_11$1B])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_12$1z,[createVNode(_sfc_main$2t,{"need-photo":!0,selected:t.mailForm.images,onSelect:t.selectImages},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$1t,[createBaseVNode("div",_hoisted_14$1n,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[3]||(s[3]=a=>t.need_inline_menu=a),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_15$1l])]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_16$1l,[createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:s[4]||(s[4]=a=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_18$1d," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_17$1e," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$2o,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_19$1a],32)):createCommentVNode("",!0)}}}),_hoisted_1$2h={key:0},_hoisted_2$2f={key:0,class:"card card-style"},_hoisted_3$29={class:"content mb-2"},_hoisted_4$23=createBaseVNode("p",{class:"mb-2"},"Выберите куда вы хотите отправить сообщение",-1),_hoisted_5$21=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_6$1$={key:1,class:"card card-style bg-red2-dark"},_hoisted_7$1X=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Внимание!"),createBaseVNode("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),_hoisted_8$1R=[_hoisted_7$1X],__default__$1B={data(){return{tab:0,botUser:null,statistic:null,loading:!1}},computed:{...mapGetters(["getSelf"])},watch:{getSelf:function(){this.botUser=this.getSelf,this.prepareStatistic()}},mounted(){this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic())},methods:{prepareStatistic(){return this.$store.dispatch("statisticLoad").then(o=>{this.statistic=o.statistic})}}},_sfc_main$2l=Object.assign(__default__$1B,{__name:"Promotion",setup(o){return(t,s)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2h,[t.botUser.is_admin?(openBlock(),createElementBlock("div",_hoisted_2$2f,[createBaseVNode("div",_hoisted_3$29,[_hoisted_4$23,createBaseVNode("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=i=>t.tab=1),class:normalizeClass([{"border-green2-dark color-green2-dark":t.tab===1,"border-teal-dark color-gray2-dark":t.tab!==1},"btn btn-border btn-m btn-full mb-2 rounded-0 text-uppercase font-900 bg-theme"])}," Рассылка в канал ",2),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=i=>t.tab=0),class:normalizeClass([{"border-green2-dark color-green2-dark":t.tab===0,"border-teal-dark color-gray2-dark":t.tab!==0},"btn btn-border btn-m btn-full mb-2 rounded-0 text-uppercase font-900 bg-theme"])}," Рассылка в бота ",2),t.tab===1?(openBlock(),createBlock(_sfc_main$2n,{key:0})):createCommentVNode("",!0),t.tab===0?(openBlock(),createBlock(_sfc_main$2m,{key:1})):createCommentVNode("",!0),_hoisted_5$21,createVNode(ReturnToBot,{class:"mb-2"})])])):(openBlock(),createElementBlock("div",_hoisted_6$1$,_hoisted_8$1R))])):createCommentVNode("",!0)}}),Promotion=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2l},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2g={key:0},_hoisted_2$2e={key:0,class:"card card-style"},_hoisted_3$28={class:"content mb-2"},_hoisted_4$22=createBaseVNode("h3",null,"Основная статистика",-1),_hoisted_5$20=createBaseVNode("p",null," Сводка всех показателей эффективности работы системы ",-1),_hoisted_6$1_={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},_hoisted_7$1W=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_8$1Q=createBaseVNode("th",{scope:"row"},"Всего пользователей в БД",-1),_hoisted_9$1M={class:"font-weight-bold"},_hoisted_10$1F=createBaseVNode("th",{scope:"row"},"Всего VIP",-1),_hoisted_11$1A={class:"font-weight-bold"},_hoisted_12$1y=createBaseVNode("th",{scope:"row"},"Администраторы в БД",-1),_hoisted_13$1s={class:"font-weight-bold"},_hoisted_14$1m=createBaseVNode("th",{scope:"row"},"Администраторы за работой",-1),_hoisted_15$1k={class:"font-weight-bold"},_hoisted_16$1k=createBaseVNode("th",{scope:"row"},"Пользователей за день",-1),_hoisted_17$1d={class:"font-weight-bold"},_hoisted_18$1c=createBaseVNode("th",{scope:"row"},"VIP за день",-1),_hoisted_19$19={class:"font-weight-bold"},_hoisted_20$18=createBaseVNode("th",{scope:"row"},"Выдано кэшбэка за день, руб",-1),_hoisted_21$16={class:"font-weight-bold"},_hoisted_22$15={key:0},_hoisted_23$10=createBaseVNode("th",{scope:"row"},"Списано кэшбэка за день, руб",-1),_hoisted_24$_={class:"font-weight-bold"},_hoisted_25$Y={key:0},_hoisted_26$U=createBaseVNode("th",{scope:"row"},"Всего кэшбэка на счету у пользователей, руб",-1),_hoisted_27$S={class:"font-weight-bold"},_hoisted_28$R={key:0},_hoisted_29$O=createBaseVNode("th",{scope:"row"},"Всего кэшбэка начислено пользователям, руб",-1),_hoisted_30$N={class:"font-weight-bold"},_hoisted_31$N={key:0},_hoisted_32$M=createBaseVNode("th",{scope:"row"},"Всего кэшбэка списано у пользователей, руб",-1),_hoisted_33$M={class:"font-weight-bold"},_hoisted_34$M={key:0},_hoisted_35$M=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка первого уровня, руб",-1),_hoisted_36$L={class:"font-weight-bold"},_hoisted_37$K={key:0},_hoisted_38$G=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка второго уровня, руб",-1),_hoisted_39$H={class:"font-weight-bold"},_hoisted_40$E={key:0},_hoisted_41$E=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка третьего уровня, руб",-1),_hoisted_42$E={class:"font-weight-bold"},_hoisted_43$E={key:0},_hoisted_44$E={key:1,class:"text-danger"},_hoisted_45$D=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_46$D={key:1,class:"card card-style bg-red2-dark"},_hoisted_47$C=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Внимание!"),createBaseVNode("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),_hoisted_48$B=[_hoisted_47$C],__default__$1A={data(){return{botUser:null,statistic:null,loading:!1}},computed:{...mapGetters(["getSelf"])},watch:{getSelf:function(){this.botUser=this.getSelf,this.prepareStatistic()}},mounted(){this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic())},methods:{prepareStatistic(){return this.$store.dispatch("statisticLoad").then(o=>{this.statistic=o.statistic})},downloadBotStatistic(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotStatistic").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})}}},_sfc_main$2k=Object.assign(__default__$1A,{__name:"Statistic",setup(o){return(t,s)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2g,[t.botUser.is_admin?(openBlock(),createElementBlock("div",_hoisted_2$2e,[createBaseVNode("div",_hoisted_3$28,[_hoisted_4$22,_hoisted_5$20,t.statistic?(openBlock(),createElementBlock("table",_hoisted_6$1_,[_hoisted_7$1W,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_8$1Q,createBaseVNode("td",_hoisted_9$1M,toDisplayString(t.statistic.users_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_10$1F,createBaseVNode("td",_hoisted_11$1A,toDisplayString(t.statistic.vip_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_12$1y,createBaseVNode("td",_hoisted_13$1s,toDisplayString(t.statistic.admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_14$1m,createBaseVNode("td",_hoisted_15$1k,toDisplayString(t.statistic.work_admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_16$1k,createBaseVNode("td",_hoisted_17$1d,toDisplayString(t.statistic.users_in_bd_today||0),1)]),createBaseVNode("tr",null,[_hoisted_18$1c,createBaseVNode("td",_hoisted_19$19,toDisplayString(t.statistic.vip_in_bd_today||0),1)]),createBaseVNode("tr",null,[_hoisted_20$18,createBaseVNode("td",_hoisted_21$16,[createTextVNode(toDisplayString((t.statistic.cashback_day_up||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_22$15,"("+toDisplayString(t.statistic.cashback_day_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_23$10,createBaseVNode("td",_hoisted_24$_,[createTextVNode(toDisplayString((t.statistic.cashback_day_down||0).toFixed(2))+" ",1),t.statistic.cashback_day_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_25$Y,"("+toDisplayString(t.statistic.cashback_day_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_26$U,createBaseVNode("td",_hoisted_27$S,[createTextVNode(toDisplayString((t.statistic.summary_cashback||0).toFixed(2))+" ",1),t.statistic.summary_cashback_people_count?(openBlock(),createElementBlock("strong",_hoisted_28$R,"("+toDisplayString(t.statistic.summary_cashback_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_29$O,createBaseVNode("td",_hoisted_30$N,[createTextVNode(toDisplayString((t.statistic.cashback_summary_up||0).toFixed(2))+" ",1),t.statistic.cashback_summary_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_31$N,"("+toDisplayString(t.statistic.cashback_summary_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_32$M,createBaseVNode("td",_hoisted_33$M,[createTextVNode(toDisplayString((t.statistic.cashback_summary_down||0).toFixed(2))+" ",1),t.statistic.cashback_summary_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_34$M,"("+toDisplayString(t.statistic.cashback_summary_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_35$M,createBaseVNode("td",_hoisted_36$L,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_1||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_1_people_count?(openBlock(),createElementBlock("strong",_hoisted_37$K,"("+toDisplayString(t.statistic.cashback_day_up_level_1_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_38$G,createBaseVNode("td",_hoisted_39$H,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_2||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_2_people_count?(openBlock(),createElementBlock("strong",_hoisted_40$E,"("+toDisplayString(t.statistic.cashback_day_up_level_2_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_41$E,createBaseVNode("td",_hoisted_42$E,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_3||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_3_people_count?(openBlock(),createElementBlock("strong",_hoisted_43$E,"("+toDisplayString(t.statistic.cashback_day_up_level_3_people_count)+" чел)",1)):createCommentVNode("",!0)])])])])):(openBlock(),createElementBlock("p",_hoisted_44$E,"Статистика еще не загружена")),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=(...i)=>t.downloadBotStatistic&&t.downloadBotStatistic(...i)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme"},[_hoisted_45$D,createTextVNode(" Скачать статистику ")]),createVNode(ReturnToBot)])])):(openBlock(),createElementBlock("div",_hoisted_46$D,_hoisted_48$B))])):createCommentVNode("",!0)}}),Statistic$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2k},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2f={key:0},_hoisted_2$2d={key:0,class:"card card-style"},_hoisted_3$27={class:"content mb-2"},_hoisted_4$21=createBaseVNode("h3",null,"Информация о пользователе",-1),_hoisted_5$1$=createBaseVNode("p",null," Ваша персональная информация ",-1),_hoisted_6$1Z=createBaseVNode("div",{class:"divider-icon divider-margins bg-blue2-dark my-4"},[createBaseVNode("i",{class:"fa font-17 color-blue2-dark fa-cog bg-white"})],-1),_hoisted_7$1V=["disabled"],_hoisted_8$1P={key:0},_hoisted_9$1L={key:1},_hoisted_10$1E=["disabled"],_hoisted_11$1z={key:1,class:"card card-style bg-red2-dark"},_hoisted_12$1x=createBaseVNode("div",{class:"content"},[createBaseVNode("h4",{class:"color-white"},"Внимание!"),createBaseVNode("p",{class:"color-white"}," Данная страница доступа только администраторам заведения! ")],-1),_hoisted_13$1r=[_hoisted_12$1x],__default__$1z={data(){return{botUser:null,loading:!1}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{loadSelf(){this.$store.dispatch("loadSelf")},loadReceiverUserData(){this.loading=!0,this.$store.dispatch("loadReceiverUserData",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id}}).then(o=>{this.botUser=o.data,this.loading=!1}).catch(()=>{this.loading=!1})},selfRemove(){this.loading=!0,this.$store.dispatch("selfRemove").then(o=>{this.loading=!1,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы больше не являетесь администратором"),setTimeout(()=>{this.tg.close()},1e3)}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})},workStateChange(){this.loading=!0,this.$store.dispatch("workStateChange").then(o=>{this.loading=!1,this.loadReceiverUserData(),this.$botNotification.success("Отлично!","Вы успешно изменили свой рабочий статус")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так")})}}},_sfc_main$2j=Object.assign(__default__$1z,{__name:"WorkStatus",setup(o){return(t,s)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$2f,[t.botUser.is_admin?(openBlock(),createElementBlock("div",_hoisted_2$2d,[createBaseVNode("div",_hoisted_3$27,[_hoisted_4$21,_hoisted_5$1$,createVNode(UserInfo$1,{onUpdate:t.loadSelf,"bot-user":t.botUser},null,8,["onUpdate","bot-user"]),createVNode(ReturnToBot),_hoisted_6$1Z,createBaseVNode("button",{type:"button",disabled:t.loading,onClick:s[0]||(s[0]=(...i)=>t.workStateChange&&t.workStateChange(...i)),class:"btn btn-m btn-full mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-light w-100"},[t.botUser.is_work?(openBlock(),createElementBlock("span",_hoisted_8$1P,"Завершить рабочую смену")):createCommentVNode("",!0),t.botUser.is_work?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_9$1L,"Начать рабочую смены"))],8,_hoisted_7$1V),createBaseVNode("button",{type:"button",disabled:t.loading||!t.botUser.is_admin,onClick:s[1]||(s[1]=(...i)=>t.selfRemove&&t.selfRemove(...i)),class:"btn btn-m btn-full mb-1 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Разжаловать себя из администраторов ",8,_hoisted_10$1E)])])):(openBlock(),createElementBlock("div",_hoisted_11$1z,_hoisted_13$1r))])):createCommentVNode("",!0)}}),WorkStatus=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2j},Symbol.toStringTag,{value:"Module"})),_sfc_main$2i={data(){return{}},computed:{...mapGetters(["getCashBack","getCashBackPaginateObject"]),tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{}};function _sfc_render$J(o,t,s,i,a,n){return null}const AdminOrders=_export_sfc(_sfc_main$2i,[["render",_sfc_render$J]]),Orders$1=Object.freeze(Object.defineProperty({__proto__:null,default:AdminOrders},Symbol.toStringTag,{value:"Module"})),_sfc_main$2h={data(){return{}},computed:{...mapGetters(["getCashBack","getCashBackPaginateObject"]),tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{}};function _sfc_render$I(o,t,s,i,a,n){return null}const AdminUsers=_export_sfc(_sfc_main$2h,[["render",_sfc_render$I]]),Users=Object.freeze(Object.defineProperty({__proto__:null,default:AdminUsers},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2e={class:"card card-style bg-theme pb-0"},_hoisted_2$2c={class:"content"},_hoisted_3$26=createBaseVNode("p",{class:"mb-0"},"Введите информацию о событии или о пользователе",-1),_hoisted_4$20={class:"search-box bg-theme rounded-s shadow-xl bottom-0"},_hoisted_5$1_=createBaseVNode("i",{class:"fa fa-search"},null,-1),_hoisted_6$1Y=["placeholder"],_hoisted_7$1U={class:"mt-2 mb-0"},_hoisted_8$1O={key:0,style:{color:"red"}},_hoisted_9$1K={class:"row mt-2 mb-2"},_hoisted_10$1D={class:"col-4"},_hoisted_11$1y=createBaseVNode("i",{class:"fa-solid fa-users"},null,-1),_hoisted_12$1w=[_hoisted_11$1y],_hoisted_13$1q={class:"col-4"},_hoisted_14$1l=createBaseVNode("i",{class:"fa-solid fa-bolt"},null,-1),_hoisted_15$1j=[_hoisted_14$1l],_hoisted_16$1j={class:"col-4"},_hoisted_17$1c=createBaseVNode("i",{class:"fa-solid fa-phone"},null,-1),_hoisted_18$1b=[_hoisted_17$1c],_hoisted_19$18=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full my-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-1"}),createTextVNode("Искать ")],-1),_hoisted_20$17={key:0,class:"mx-0 mt-3 px-2"},_hoisted_21$15={class:"w-100 text-center p-2 mb-0"},_hoisted_22$14={class:"w-100",style:{"overflow-y":"scroll"}},_hoisted_23$$={class:"table text-center rounded-sm"},_hoisted_24$Z=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Ф.И.О."),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Телефон"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Название события"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"№ попытки"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Номер приза"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Подверждено"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Дата розыгрыша"),createBaseVNode("th",{scope:"col",class:"bg-highlight border-dark1-dark color-white"},"Действие")])],-1),_hoisted_25$X=["onClick"],_hoisted_26$T={style:{"min-width":"200px"},class:"border-dark1-dark text-left"},_hoisted_27$R={style:{"min-width":"200px"},class:"border-dark1-dark"},_hoisted_28$Q={style:{"min-width":"200px"},class:"border-dark1-dark"},_hoisted_29$N={class:"border-dark1-dark"},_hoisted_30$M={class:"border-dark1-dark"},_hoisted_31$M={style:{"min-width":"200px"},class:"border-dark1-dark"},_hoisted_32$L={key:0,class:"fa-regular fa-circle-check color-green2-light"},_hoisted_33$L={key:1,class:"fa-regular fa-circle-xmark color-red2-light"},_hoisted_34$L={class:"border-dark1-dark"},_hoisted_35$L={class:"border-dark1-dark"},_hoisted_36$K={key:1},__default__$1y={data(){return{loading:!0,actions:[],search:null,filter:null,paginate_object:null}},computed:{...mapGetters(["getActions","getActionsPaginateObject"]),preparedFilterName(){return this.filter?[{slug:"users",text:"Ф.И.О. пользователя"},{slug:"event",text:"по типу события"},{slug:"phone",text:"по номеру телефона"}].find(t=>t.slug===this.filter).text:null}},mounted(){this.loadActions(0)},methods:{nextActions(o){this.loadActions(o)},openActionDetails(o){this.$cashback.eventInfo(o)},loadActions(o=0){this.loading=!0,this.$store.dispatch("loadActions",{dataObject:{search:this.search,filter:this.filter},page:o}).then(t=>{this.loading=!1,this.actions=this.getActions,this.paginate_object=this.getActionsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$2g=Object.assign(__default__$1y,{__name:"Actions",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2e,[createBaseVNode("div",_hoisted_2$2c,[_hoisted_3$26,createBaseVNode("form",{onSubmit:s[5]||(s[5]=withModifiers(i=>t.loadActions(0),["prevent"]))},[createBaseVNode("div",_hoisted_4$20,[_hoisted_5$1_,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"border-0",placeholder:t.preparedFilterName||"Поиск по событию"},null,8,_hoisted_6$1Y),[[vModelText,t.search]])]),createBaseVNode("p",_hoisted_7$1U,[createTextVNode("Фильтры: "),t.filter?(openBlock(),createElementBlock("span",_hoisted_8$1O,[createTextVNode(toDisplayString(t.preparedFilterName)+" ",1),createBaseVNode("i",{onClick:s[1]||(s[1]=i=>t.filter=null),class:"ml-2 fa-solid fa-xmark"})])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$1K,[createBaseVNode("div",_hoisted_10$1D,[createBaseVNode("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=i=>t.filter="users"),class:normalizeClass([{"border-red2-dark color-red2-dark":t.filter==="users","border-gray2-dark color-gray2-dark":t.filter!=="users"},"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 bg-theme"])},_hoisted_12$1w,2)]),createBaseVNode("div",_hoisted_13$1q,[createBaseVNode("a",{href:"javascript:void(0)",onClick:s[3]||(s[3]=i=>t.filter="event"),class:normalizeClass([{"border-red2-dark color-red2-dark":t.filter==="event","border-gray2-dark color-gray2-dark":t.filter!=="event"},"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme"])},_hoisted_15$1j,2)]),createBaseVNode("div",_hoisted_16$1j,[createBaseVNode("a",{href:"javascript:void(0)",onClick:s[4]||(s[4]=i=>t.filter="phone"),class:normalizeClass([{"border-red2-dark color-red2-dark":t.filter==="phone","border-gray2-dark color-gray2-dark":t.filter!=="phone"},"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme"])},_hoisted_18$1b,2)])]),_hoisted_19$18],32),t.actions.length>0?(openBlock(),createElementBlock("div",_hoisted_20$17,[createBaseVNode("small",_hoisted_21$15,"Найдено "+toDisplayString(t.paginate_object.meta.total)+" записей",1),createBaseVNode("div",_hoisted_22$14,[createBaseVNode("table",_hoisted_23$$,[_hoisted_24$Z,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.actions,(i,a)=>(openBlock(),createElementBlock("tr",{class:"bg-theme",onClick:n=>t.openActionDetails(i)},[createBaseVNode("td",_hoisted_26$T,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(n,r)=>(openBlock(),createElementBlock("span",null,toDisplayString(n.name),1))),256))]),createBaseVNode("td",_hoisted_27$R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(n,r)=>(openBlock(),createElementBlock("span",null,toDisplayString(n.phone),1))),256))]),createBaseVNode("td",_hoisted_28$Q,toDisplayString(i.slug.command)+" (#"+toDisplayString(i.slug.id)+") ",1),createBaseVNode("td",_hoisted_29$N,toDisplayString(i.current_attempts),1),createBaseVNode("td",_hoisted_30$M,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(n,r)=>(openBlock(),createElementBlock("span",null,toDisplayString(n.win),1))),256))]),createBaseVNode("td",_hoisted_31$M,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.data,(n,r)=>(openBlock(),createElementBlock("span",null,[n.answered_at?(openBlock(),createElementBlock("i",_hoisted_32$L)):(openBlock(),createElementBlock("i",_hoisted_33$L))]))),256))]),createBaseVNode("td",_hoisted_34$L,toDisplayString(t.$filters.current(i.completed_at)),1),createBaseVNode("td",_hoisted_35$L,toDisplayString(t.$filters.current(i.completed_at)),1)],8,_hoisted_25$X))),256))])])]),t.paginate_object?(openBlock(),createBlock(Pagination,{key:0,class:"mt-4",simple:!0,onPagination_page:t.nextActions,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createVNode(ReturnToBot)])):(openBlock(),createElementBlock("p",_hoisted_36$K,"К сожалению никаких подходящих событий не найдено"))])]))}}),Actions=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2g},Symbol.toStringTag,{value:"Module"})),_sfc_main$2f={props:["bot","item"],data(){return{sectionForm:{section:null},categoryForm:{label:null},tab:0,types:[{title:"Готовый продукт",value:1},{title:"Товар на вес",value:2},{title:"Конструктор товара",value:3}],productCategories:[],sections:["Общие характеристики","Дополнительная информация"],photos:[],categories:[],removed_options:[],productForm:{article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]}}},computed:{...mapGetters(["getCategories"])},mounted(){this.loadProductCategories(),this.item&&this.$nextTick(()=>{this.productForm={id:this.item.id||null,article:this.item.article||null,vk_product_id:this.item.vk_product_id||null,title:this.item.title||null,description:this.item.description||null,images:this.item.images||null,type:this.item.type||1,old_price:this.item.old_price||null,current_price:this.item.current_price||null,variants:this.item.variants||null,in_stop_list_at:this.item.in_stop_list_at||null,bot_id:this.item.bot_id||null,options:this.item.options||null,reviews:this.item.reviews||null},this.options=[],this.item.categories.forEach(o=>{this.productCategories.push(o.id)})})},methods:{prepareCategoryName(o){let t=this.categories.find(s=>s.value===o);return t?t.label:o},removeProduct(){this.$store.dispatch("removeProductCategory",{category_id:id}).then(()=>{this.loadProductCategories(),this.$botNotification.notification("Конструктор ботов","Продукт успешно удален!")})},removeCategory(o){let t=this.categories.findIndex(s=>s.id===o)||null;t&&this.categories.splice(t,1),this.$store.dispatch("removeProductCategory",{category_id:o}).then(()=>{this.loadProductCategories(),this.$botNotification.notification("Конструктор ботов","Категория успешно удалена!")})},addCategory(){const o=this.categoryForm.label;this.categoryForm.label=null,this.$store.dispatch("addProductCategory",{category:o}).then(()=>{this.loadProductCategories()})},selectCategory(o){this.productCategories||(this.productCategories=[]);let t=this.productCategories.indexOf(o.id);t!==-1?this.productCategories.splice(t,1):this.productCategories.push(o.id)},submit(){let o=new FormData;if(Object.keys(this.productForm).forEach(t=>{const s=this.productForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.bot&&o.append("bot_id",this.bot.id),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.removed_options.length>0&&o.append("removed_options",JSON.stringify(this.removed_options)),this.productCategories.length>0&&o.append("categories",JSON.stringify(this.productCategories)),this.$store.dispatch("saveProduct",{productForm:o}).then(t=>{this.load=!0,this.$botNotification.notification("Конструктор ботов","Продукт успешно сохранен!"),this.clearForm(),this.$emit("refresh")}).catch(t=>{})},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},loadProductCategories(){this.$store.dispatch("loadCategories").then(()=>{this.categories=this.getCategories})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removeSection(o){this.sections.splice(o,1)},addSection(){this.sections.push(this.sectionForm.section),this.sectionForm.section=null},addOption(){this.productForm.options||(this.productForm.options=[]),this.productForm.options.push({id:null,key:null,value:null,title:null,section:null})},addVariant(){this.productForm.variants||(this.productForm.variants=[]),this.productForm.variants.push({key:null,value:null})},removeProductCategory(o){},removeVariant(o){this.productForm.variants.splice(o,1)},removeOption(o){this.productForm.options[o].id&&this.removed_options.push(this.productForm.options[o].id),this.productForm.options.splice(o,1)},removeImage(o){this.productForm.images.splice(o,1)},removePhoto(o){this.photos.splice(o,1)},clearForm(){const o={article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]};this.photos=[],this.removed_options=[],this.productCategories=[],this.productForm=o}}},_hoisted_1$2d={class:"card card-style"},_hoisted_2$2b={class:"content"},_hoisted_3$25=createBaseVNode("h6",null,"Управление категориями",-1),_hoisted_4$1$={key:0,class:"d-flex flex-wrap"},_hoisted_5$1Z={class:"px-3 font-10 rounded mr-1 mb-1 cursor-pointer"},_hoisted_6$1X=["onClick"],_hoisted_7$1T={class:"mb-2"},_hoisted_8$1N=createBaseVNode("label",{for:"exampleDropdownFormEmail1",class:"form-label"},"Новая категория",-1),_hoisted_9$1J={class:"card card-style bg-theme pb-0"},_hoisted_10$1C={class:"content"},_hoisted_11$1x={class:"d-flex justify-content-between flex-wrap"},_hoisted_12$1v=createBaseVNode("i",{class:"fa-solid fa-plus mr-1"},null,-1),_hoisted_13$1p={class:"form-check"},_hoisted_14$1k=createBaseVNode("label",{class:"form-check-label",for:"in-stop-list"}," Товар находится в стоп-листе ",-1),_hoisted_15$1i=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$1i=createBaseVNode("h6",null,"Выбор категории",-1),_hoisted_17$1b={key:0,class:"d-flex flex-wrap"},_hoisted_18$1a=["onClick"],_hoisted_19$17=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_20$16={class:"mb-2"},_hoisted_21$14=createBaseVNode("label",{for:"vk-product-id"},"Идентификатор товара VK",-1),_hoisted_22$13={class:"mb-2"},_hoisted_23$_=createBaseVNode("label",{for:"article"},"Артикул товара",-1),_hoisted_24$Y={class:"mb-2"},_hoisted_25$W=createBaseVNode("label",{for:"title"},"Название товара",-1),_hoisted_26$S={class:"mb-2"},_hoisted_27$Q=createBaseVNode("label",{for:"type"},"Тип товара",-1),_hoisted_28$P=["value"],_hoisted_29$M={class:"mb-2"},_hoisted_30$L=createBaseVNode("label",{for:"description"},"Описание товара",-1),_hoisted_31$L={class:"mb-2"},_hoisted_32$K=createBaseVNode("label",{for:"current-price"},"Актуальная цена, руб",-1),_hoisted_33$K={class:"mb-2"},_hoisted_34$K=createBaseVNode("label",{for:"old-price"},"Старая цена, руб",-1),_hoisted_35$K=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_36$J={key:0},_hoisted_37$J={class:"mb-2"},_hoisted_38$F={class:"mb-2"},_hoisted_39$G=["for"],_hoisted_40$D=["onUpdate:modelValue","id"],_hoisted_41$D={class:"mb-2"},_hoisted_42$D=["for"],_hoisted_43$D=["onUpdate:modelValue","id"],_hoisted_44$D=["onClick"],_hoisted_45$C=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_46$C=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_47$B=createBaseVNode("h6",null,"Характеристики товара",-1),_hoisted_48$A={class:"mb-2"},_hoisted_49$y=createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",type:"submit",id:"button-addon2"},"Добавить секцию ",-1),_hoisted_50$v={key:0,class:"d-flex flex-wrap"},_hoisted_51$v={class:"px-3 text-white rounded bg-info mr-1 mb-1 cursor-pointer font-12"},_hoisted_52$v=["onClick"],_hoisted_53$t=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_54$t={class:"mb-2"},_hoisted_55$s={class:"form-floating mb-2"},_hoisted_56$s=["for"],_hoisted_57$s=["onClick"],_hoisted_58$r=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),_hoisted_59$q=[_hoisted_58$r],_hoisted_60$n=["onUpdate:modelValue","id"],_hoisted_61$m={class:"form-floating mb-2"},_hoisted_62$k=["for"],_hoisted_63$k=["onUpdate:modelValue","id"],_hoisted_64$k={class:"form-floating mb-2"},_hoisted_65$k=["for"],_hoisted_66$k=["onUpdate:modelValue","id"],_hoisted_67$k=createBaseVNode("option",{value:null},"Без секции",-1),_hoisted_68$j=["value"],_hoisted_69$j=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_70$j={class:"mb-2"},_hoisted_71$j=createBaseVNode("h6",null,"Фотографии товара",-1),_hoisted_72$h={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_73$h={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_74$h=createBaseVNode("span",null,"+",-1),_hoisted_75$h={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_76$g={class:"remove"},_hoisted_77$g=["onClick"],_hoisted_78$e={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_79$d={class:"remove"},_hoisted_80$d=["onClick"],_hoisted_81$d=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Сохранить ",-1),_hoisted_82$d={key:0,class:"divider divider-small my-3 bg-highlight"};function _sfc_render$H(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2d,[createBaseVNode("div",_hoisted_2$2b,[_hoisted_3$25,a.categories.length>0?(openBlock(),createElementBlock("div",_hoisted_4$1$,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.categories,(l,d)=>(openBlock(),createElementBlock("p",_hoisted_5$1Z,[createBaseVNode("span",null,toDisplayString(l.title),1),createBaseVNode("i",{onClick:c=>n.removeCategory(l.id),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,_hoisted_6$1X)]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$1T,[_hoisted_8$1N,withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=l=>a.categoryForm.label=l),id:"exampleDropdownFormEmail1",placeholder:"Название категории"},null,512),[[vModelText,a.categoryForm.label]])]),createBaseVNode("button",{class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",type:"button",onClick:t[1]||(t[1]=(...l)=>n.addCategory&&n.addCategory(...l))},"Добавить категорию ")])]),createBaseVNode("div",_hoisted_9$1J,[createBaseVNode("div",_hoisted_10$1C,[createBaseVNode("form",{onSubmit:t[16]||(t[16]=withModifiers((...l)=>n.submit&&n.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_11$1x,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-green2-light w-100",onClick:t[2]||(t[2]=(...l)=>n.clearForm&&n.clearForm(...l))},[_hoisted_12$1v,createTextVNode(" Новый товар ")]),createBaseVNode("div",_hoisted_13$1p,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=l=>a.productForm.in_stop_list_at=l),type:"checkbox",value:"false",id:"in-stop-list"},null,512),[[vModelCheckbox,a.productForm.in_stop_list_at]]),_hoisted_14$1k])]),_hoisted_15$1i,_hoisted_16$1i,a.categories.length>0?(openBlock(),createElementBlock("div",_hoisted_17$1b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.categories,(l,d)=>(openBlock(),createElementBlock("p",{class:normalizeClass(["px-3 font-10 rounded mr-1 mb-1 cursor-pointer",{"bg-info text-white":a.productCategories.indexOf(l.id)!=-1}])},[createBaseVNode("span",{onClick:c=>n.selectCategory(l)},toDisplayString(l.title),9,_hoisted_18$1a)],2))),256))])):createCommentVNode("",!0),_hoisted_19$17,createBaseVNode("div",_hoisted_20$16,[_hoisted_21$14,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>a.productForm.vk_product_id=l),disabled:!0,class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,a.productForm.vk_product_id]])]),createBaseVNode("div",_hoisted_22$13,[_hoisted_23$_,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>a.productForm.article=l),class:"form-control",id:"article",placeholder:"Название артикула"},null,512),[[vModelText,a.productForm.article]])]),createBaseVNode("div",_hoisted_24$Y,[_hoisted_25$W,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>a.productForm.title=l),class:"form-control",id:"title",placeholder:"Название"},null,512),[[vModelText,a.productForm.title]])]),createBaseVNode("div",_hoisted_26$S,[_hoisted_27$Q,withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":t[7]||(t[7]=l=>a.productForm.type=l),id:"type","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.types,(l,d)=>(openBlock(),createElementBlock("option",{value:l.value},toDisplayString(l.title),9,_hoisted_28$P))),256))],512),[[vModelSelect,a.productForm.type]])]),createBaseVNode("div",_hoisted_29$M,[_hoisted_30$L,withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":t[8]||(t[8]=l=>a.productForm.description=l),placeholder:"Напишие полное описание товара",id:"description"},null,512),[[vModelText,a.productForm.description]])]),createBaseVNode("div",_hoisted_31$L,[_hoisted_32$K,withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=l=>a.productForm.current_price=l),class:"form-control",id:"current-price",placeholder:"0 руб.",required:""},null,512),[[vModelText,a.productForm.current_price]])]),createBaseVNode("div",_hoisted_33$K,[_hoisted_34$K,withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=l=>a.productForm.old_price=l),class:"form-control",id:"old-price",placeholder:"0 руб"},null,512),[[vModelText,a.productForm.old_price]])]),_hoisted_35$K,createBaseVNode("h6",null,[createTextVNode("Варианты товара "),a.productForm.variants?(openBlock(),createElementBlock("span",_hoisted_36$J,"("+toDisplayString(a.productForm.variants.length)+")",1)):createCommentVNode("",!0)]),createBaseVNode("button",{type:"button",class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",onClick:t[11]||(t[11]=(...l)=>n.addVariant&&n.addVariant(...l))},"Добавить вариант "),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.productForm.variants,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_37$J,[createBaseVNode("div",_hoisted_38$F,[createBaseVNode("label",{for:"variant-key-"+d},"Ключ",8,_hoisted_39$G),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c=>a.productForm.variants[d].key=c,class:"form-control",id:"variant-key-"+d,placeholder:"Название варианта",required:""},null,8,_hoisted_40$D),[[vModelText,a.productForm.variants[d].key]])]),createBaseVNode("div",_hoisted_41$D,[createBaseVNode("label",{for:"variant-value-"+d},"Значение",8,_hoisted_42$D),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c=>a.productForm.variants[d].value=c,class:"form-control",id:"variant-value-"+d,placeholder:"Величина\\значение варианта",required:""},null,8,_hoisted_43$D),[[vModelText,a.productForm.variants[d].value]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:c=>n.removeVariant(d)},[_hoisted_45$C,createTextVNode(" Удалить вариант ")],8,_hoisted_44$D)]))),256)),_hoisted_46$C,_hoisted_47$B,createBaseVNode("div",_hoisted_48$A,[createBaseVNode("form",{onSubmit:t[13]||(t[13]=withModifiers((...l)=>n.addSection&&n.addSection(...l),["prevent"])),class:"mb-2"},[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=l=>a.sectionForm.section=l),class:"form-control mb-2",placeholder:"Название секции","aria-label":"Recipient's username","aria-describedby":"button-addon2",required:""},null,512),[[vModelText,a.sectionForm.section]]),_hoisted_49$y],32),a.sections.length>0?(openBlock(),createElementBlock("div",_hoisted_50$v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.sections,(l,d)=>(openBlock(),createElementBlock("span",_hoisted_51$v,[createTextVNode(toDisplayString(l)+" ",1),createBaseVNode("i",{onClick:c=>n.removeSection(d),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,_hoisted_52$v)]))),256))])):createCommentVNode("",!0),_hoisted_53$t]),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.productForm.options,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_54$t,[createBaseVNode("div",_hoisted_55$s,[createBaseVNode("label",{for:"option-title-"+d,class:"font-12 my-0 w-100 d-flex justify-content-between"},[createTextVNode(" Название характеристики "),createBaseVNode("button",{type:"button",class:"btn btn-link color-red2-light font-12 p-0",onClick:c=>n.removeOption(d)},_hoisted_59$q,8,_hoisted_57$s)],8,_hoisted_56$s),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c=>a.productForm.options[d].title=c,class:"form-control",id:"option-title-"+d,placeholder:"Характеристика"},null,8,_hoisted_60$n),[[vModelText,a.productForm.options[d].title]])]),createBaseVNode("div",_hoisted_61$m,[createBaseVNode("label",{for:"option-value-"+d,class:"font-12 my-0"},"Значение характеристики",8,_hoisted_62$k),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c=>a.productForm.options[d].value=c,class:"form-control",id:"option-value-"+d,placeholder:"Значение"},null,8,_hoisted_63$k),[[vModelText,a.productForm.options[d].value]])]),createBaseVNode("div",_hoisted_64$k,[createBaseVNode("label",{for:"option-section-"+d,class:"font-12 my-0"},"Секция товара",8,_hoisted_65$k),withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":c=>a.productForm.options[d].section=c,id:"option-section-"+d,"aria-label":"Floating label select example"},[_hoisted_67$k,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.sections,c=>(openBlock(),createElementBlock("option",{value:c},toDisplayString(c),9,_hoisted_68$j))),256))],8,_hoisted_66$k),[[vModelSelect,a.productForm.options[d].section]])])]))),256)),createBaseVNode("button",{type:"button",class:"btn btn-border btn-m btn-full mb-0 rounded-sm text-uppercase font-900 border-green2-dark color-green2-dark bg-theme w-100",onClick:t[14]||(t[14]=(...l)=>n.addOption&&n.addOption(...l))},"Добавить характеристику "),_hoisted_69$j,createBaseVNode("div",_hoisted_70$j,[_hoisted_71$j,createBaseVNode("div",_hoisted_72$h,[createBaseVNode("label",_hoisted_73$h,[_hoisted_74$h,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:t[15]||(t[15]=(...l)=>n.onChangePhotos&&n.onChangePhotos(...l)),style:{display:"none"}},null,32)]),a.productForm.images?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.productForm.images,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_75$h,[withDirectives(createBaseVNode("img",null,null,512),[[r,l]]),createBaseVNode("div",_hoisted_76$g,[createBaseVNode("a",{href:"javascript:void(0)",onClick:c=>n.removeImage(d)},"Удалить",8,_hoisted_77$g)])]))),256)):createCommentVNode("",!0),a.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(a.photos,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_78$e,[withDirectives(createBaseVNode("img",null,null,512),[[r,n.getPhoto(l).imageUrl]]),createBaseVNode("div",_hoisted_79$d,[createBaseVNode("a",{href:"javascript:void(0)",onClick:c=>n.removePhoto(d)},"Удалить",8,_hoisted_80$d)])]))),256)):createCommentVNode("",!0)])]),_hoisted_81$d],32),a.productForm.id?(openBlock(),createElementBlock("div",_hoisted_82$d)):createCommentVNode("",!0),a.productForm.id?(openBlock(),createElementBlock("button",{key:1,onClick:t[17]||(t[17]=(...l)=>n.removeProduct&&n.removeProduct(...l)),type:"button",class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark w-100"},"Удалить товар ")):createCommentVNode("",!0)])])],64)}const ProductForm$1=_export_sfc(_sfc_main$2f,[["render",_sfc_render$H]]),_sfc_main$2e={props:["item"],data(){return{}},methods:{selectProduct(){this.$emit("select",this.item),window.scrollTo(50,400)},preparedImgUrl(o){if(o.toLocaleLowerCase().startsWith("https://")||o.toLocaleLowerCase().startsWith("http://"))return o},removeProduct(){this.$store.dispatch("removeProduct",this.item.id).then(o=>{this.$botNotification.success("Продукты","Продукт успешно удален!")}).catch(o=>{})},duplicateProduct(){this.$store.dispatch("duplicateProduct",this.item.id).then(o=>{this.$botNotification.success("Продукты","Продукт успешно продублирован!")}).catch(o=>{})}},mounted(){},computed:{}},_hoisted_1$2c={class:"d-flex pb-2"},_hoisted_2$2a={class:"mr-auto"},_hoisted_3$24={class:"rounded-m shadow-xl",width:"110"},_hoisted_4$1_={class:"ml-auto w-100 pl-3"},_hoisted_5$1Y={class:"font-14 font-600 opacity-80 pb-2"},_hoisted_6$1W=createBaseVNode("div",{class:"clearfix"},null,-1),_hoisted_7$1S={class:"font-23 font-700 float-left pt-2"},_hoisted_8$1M={key:0,style:{"text-decoration":"line-through"},class:"font-15 opacity-50"},_hoisted_9$1I={class:"float-right"},_hoisted_10$1B={class:"input-style input-style-1 mt-1"},_hoisted_11$1w=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_12$1u=[_hoisted_11$1w];function _sfc_render$G(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$2c,[createBaseVNode("div",_hoisted_2$2a,[withDirectives(createBaseVNode("img",_hoisted_3$24,null,512),[[r,n.preparedImgUrl(s.item.images[0])]])]),createBaseVNode("div",_hoisted_4$1_,[createBaseVNode("h5",_hoisted_5$1Y,"#"+toDisplayString(s.item.id)+" "+toDisplayString(s.item.title),1),_hoisted_6$1W,createBaseVNode("h1",_hoisted_7$1S,[createTextVNode(toDisplayString(s.item.current_price)+"₽",1),s.item.old_price?(openBlock(),createElementBlock("sup",_hoisted_8$1M,toDisplayString(s.item.old_price)+"₽",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$1I,[createBaseVNode("div",_hoisted_10$1B,[createBaseVNode("button",{onClick:t[0]||(t[0]=(...l)=>n.selectProduct&&n.selectProduct(...l)),class:"btn btn-full btn-sm rounded-sm bg-highlight font-800 text-uppercase"},_hoisted_12$1u)])])])])}const ProductCard=_export_sfc(_sfc_main$2e,[["render",_sfc_render$G]]),_hoisted_1$2b={class:"card card-style"},_hoisted_2$29={class:"content"},_hoisted_3$23=createBaseVNode("button",{class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark w-100 mb-0",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_4$1Z={key:0},__default__$1x={data(){return{search:null,products:[],paginate:null}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.products}},mounted(){this.loadProducts()},methods:{selectProduct(o){console.log("product",o),this.$emit("select",o)},nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})}}},_sfc_main$2d=Object.assign(__default__$1x,{__name:"ProductList",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2b,[createBaseVNode("div",_hoisted_2$29,[createBaseVNode("form",{onSubmit:s[1]||(s[1]=withModifiers(i=>t.loadProducts(0),["prevent"]))},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Поиск товара","aria-label":"Поиск товара","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),_hoisted_3$23],32),createBaseVNode("p",null,[createTextVNode("Всего товаров: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_4$1Z,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(i,a)=>(openBlock(),createBlock(ProductCard,{onSelect:n=>t.selectProduct(i),item:i},null,8,["onSelect","item"]))),256)),t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])]))}}),_hoisted_1$2a={class:"card card-style"},_hoisted_2$28={class:"content mb-0"},_hoisted_3$22=createBaseVNode("h3",{class:"font-700"},"Управление магазином",-1),_hoisted_4$1Y={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_5$1X=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_6$1V=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_7$1R=createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),_hoisted_8$1L=["disabled"],_hoisted_9$1H=createBaseVNode("i",{class:"fa-regular fa-floppy-disk mr-2"},null,-1),_hoisted_10$1A=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_11$1v={key:0,class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme w-100"},_hoisted_12$1t=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_13$1o=createBaseVNode("span",{class:"spinner-border color-blue2-dark font-12 ml-2",style:{"border-width":"2px",width:"1rem",height:"1rem"},role:"status"},null,-1),_hoisted_14$1j=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_15$1h=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_16$1h=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_17$1a=createBaseVNode("i",{class:"fa-solid fa-lock mr-2"},null,-1),_hoisted_18$19=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_19$16=["disabled"],_hoisted_20$15=createBaseVNode("i",{class:"fa-solid fa-trash mr-2"},null,-1),_hoisted_21$13=createBaseVNode("h6",null,null,-1),__default__$1w={data(){return{load:!1,url:null,link:null,bot:null,selectedProduct:null,botForm:{vk_shop_link:null}}},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.updateProducts(),this.botForm.vk_shop_link=window.currentBot.vk_shop_link||null},methods:{updateShopLink(){this.load=!0,this.$store.dispatch("updateShopLink",{botForm:this.botForm}).then(o=>{this.load=!1,this.updateProducts(),this.$botNotification.notification("Менеджер магазина","Ссылка на источник в ВК обновлена")}).catch(()=>{this.load=!1})},exportOrders(){this.$botNotification.notification("Менеджер магазина","Функция недоступна")},exportProducts(){this.$botNotification.notification("Менеджер магазина","Функция недоступна")},importProducts(){this.$botNotification.notification("Менеджер магазина","Функция недоступна")},refresh(){this.load=!0,this.selectedProduct=null,this.$nextTick(()=>{this.load=!1})},removeAllProducts(){this.load=!0,this.$store.dispatch("removeAllProducts").then(o=>{this.load=!1,this.$botNotification.notification("Менеджер магазина","Все продукты удалены")}).catch(()=>{this.load=!1})},selectProduct(o){this.load=!0,this.$nextTick(()=>{this.selectedProduct=o,this.load=!1})},updateProducts(){this.load=!0,this.$store.dispatch("updateProductsFromVk").then(o=>{this.link=o.data.url||null,this.load=!1,this.url=null}).catch(()=>{this.load=!1})},open(o){this.tg.openLink(o)}}},_sfc_main$2c=Object.assign(__default__$1w,{__name:"ShopManager",setup(o){return(t,s)=>{const i=resolveComponent("Popper");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2a,[createBaseVNode("div",_hoisted_2$28,[_hoisted_3$22,createBaseVNode("form",{onSubmit:s[1]||(s[1]=withModifiers((...a)=>t.updateShopLink&&t.updateShopLink(...a),["prevent"])),class:"mb-2"},[createBaseVNode("label",_hoisted_4$1Y,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_6$1V]),default:withCtx(()=>[_hoisted_5$1X]),_:1}),createTextVNode(" ВК-группа ")]),_hoisted_7$1R]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":s[0]||(s[0]=a=>t.botForm.vk_shop_link=a),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,t.botForm.vk_shop_link]]),createBaseVNode("button",{disabled:t.load,class:"btn btn-m btn-full mb-3 mt-2 rounded-sm text-uppercase font-900 shadow-s bg-red2-dark w-100"},[_hoisted_9$1H,createTextVNode(" Сохранить ")],8,_hoisted_8$1L)],32),_hoisted_10$1A,t.link?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_11$1v,[_hoisted_12$1t,createTextVNode(" Подготовка ссылки "),_hoisted_13$1o])),t.link?(openBlock(),createElementBlock("a",{key:1,onClick:s[2]||(s[2]=a=>t.open(t.link)),href:"javascript:void(0)",type:"button",class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme w-100"},[_hoisted_14$1j,createTextVNode(" Обновить товар из ВК ")])):createCommentVNode("",!0),createBaseVNode("button",{onClick:s[3]||(s[3]=(...a)=>t.exportOrders&&t.exportOrders(...a)),class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"},[_hoisted_15$1h,createTextVNode(" Экспортировать заказы ")]),createBaseVNode("button",{onClick:s[4]||(s[4]=(...a)=>t.importProducts&&t.importProducts(...a)),class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"},[_hoisted_16$1h,createTextVNode(" Импорт из XLS ")]),createBaseVNode("button",{onClick:s[5]||(s[5]=(...a)=>t.exportProducts&&t.exportProducts(...a)),class:"btn btn-border btn-m btn-full mb-1 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"},[_hoisted_17$1a,createTextVNode(" Экспорт в XLS ")]),_hoisted_18$19,createBaseVNode("button",{onClick:s[6]||(s[6]=(...a)=>t.removeAllProducts&&t.removeAllProducts(...a)),disabled:t.load,class:"btn btn-m btn-full mb-3 rounded-sm text-uppercase font-900 shadow-s bg-red2-dark w-100"},[_hoisted_20$15,createTextVNode(" Удалить товары ")],8,_hoisted_19$16)])]),_hoisted_21$13,t.load?createCommentVNode("",!0):(openBlock(),createBlock(ProductForm$1,{key:0,item:t.selectedProduct,onRefresh:t.refresh},null,8,["item","onRefresh"])),t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$2d,{key:1,onSelect:t.selectProduct},null,8,["onSelect"]))],64)}}}),ShopManager=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2c},Symbol.toStringTag,{value:"Module"})),_sfc_main$2b={props:["company"],data(){return{locations:[],deletedLocations:[],locationForm:{id:null,lat:null,lon:null,address:null,description:null,location_channel:null,can_booking:!1,photos:[],company_id:null}}},computed:{...mapGetters(["getSelf","getCompany","getLocations"])},mounted(){this.loadLocationsByCompany(),window.addEventListener("select-map-coords",o=>{this.locationForm.lat=o.detail.param.lat,this.locationForm.lon=o.detail.param.lon})},methods:{openMapModal(){this.$botPages.map()},loadLocationsByCompany(){this.$store.dispatch("loadLocationsByCompany").then(o=>{this.locations=this.getLocations}).catch(()=>{})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.locationForm.photos.splice(o,1)},removeItem(o){this.locations[o].id!=null&&this.deletedLocations.push(this.locations[o].id),this.locations.splice(o,1)},submitLocations(){this.locations.forEach(o=>{let t=new FormData;if(Object.keys(o).forEach(s=>{const i=o[s]||"";typeof i=="object"?t.append(s,JSON.stringify(i)):t.append(s,i)}),o.photos){for(let s=0;s<o.photos.length;s++)t.append("files[]",o.photos[s]);t.delete("photos")}this.deletedLocations.length>0&&t.append("deleted_locations",JSON.stringify(this.deletedLocations)),this.$store.dispatch("createLocation",{locationForm:t}).then(s=>{this.$emit("callback"),this.$botNotification.success("Локация","Локация успешно созадана и сохранена")}).catch(s=>{})})},selectLocation(o){this.locationForm=o},submitLocation(){this.locationForm.company_id=this.company.id,this.locations.push(this.locationForm),this.$botNotification.success("Локация","Локация успешно добавлена в список. Не забудьте сохранить"),this.locationForm={id:null,lat:null,lon:null,address:null,description:null,location_channel:null,can_booking:!1,photos:[]}},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.locationForm.photos.push(t[s])}}},_hoisted_1$29={class:"card card-style"},_hoisted_2$27={class:"content"},_hoisted_3$21={class:"fac fac-checkbox fac-red"},_hoisted_4$1X=createBaseVNode("span",null,null,-1),_hoisted_5$1W=createBaseVNode("label",{for:"box1-fac-checkbox"}," Можно бронировать столик",-1),_hoisted_6$1U=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"location-address"},[createTextVNode(" Адрес заведения "),createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно")],-1),_hoisted_7$1Q=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_8$1K=createBaseVNode("h6",null,"Геопозиция",-1),_hoisted_9$1G=createBaseVNode("i",{class:"fa-solid fa-location-dot mr-2"},null,-1),_hoisted_10$1z=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"location-lat"},[createTextVNode(" Широта "),createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно")],-1),_hoisted_11$1u=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"location-lon"},[createTextVNode(" Долгота "),createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно")],-1),_hoisted_12$1s={class:"form-label d-flex justify-content-between mt-2",id:"location-description"},_hoisted_13$1n={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},_hoisted_14$1i=createBaseVNode("span",{class:"badge rounded-pill bg-danger px-3 py-2 text-white m-0"},"Нужно",-1),_hoisted_15$1g=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$1g=createBaseVNode("h6",null,"Фотографии локаций",-1),_hoisted_17$19={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_18$18={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_19$15=createBaseVNode("span",null,"+",-1),_hoisted_20$14={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_21$12={class:"remove"},_hoisted_22$12=["onClick"],_hoisted_23$Z={class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100",type:"submit"},_hoisted_24$X={key:0},_hoisted_25$V={key:1},_hoisted_26$R={key:0,class:"mt-3"},_hoisted_27$P={class:"card card-style bg-25","data-card-height":"200",style:{height:"250px"}},_hoisted_28$O={class:"card-center"},_hoisted_29$L=createBaseVNode("p",{class:"text-center mb-2"},[createBaseVNode("i",{class:"fa-solid fa-location-dot color-red2-dark fa-4x"})],-1),_hoisted_30$K={class:"color-white font-700 text-center mb-0"},_hoisted_31$K=createBaseVNode("p",{class:"color-white text-center opacity-60 mt-n1 mb-3"},"Локации компании ",-1),_hoisted_32$J={class:"p-3"},_hoisted_33$J=["disabled"],_hoisted_34$J=createBaseVNode("div",{class:"card-overlay bg-black opacity-80"},null,-1),_hoisted_35$J=["onClick"],_hoisted_36$I={class:"content"},_hoisted_37$I={key:0,href:"javascript:void(0)",class:"chip chip-small bg-dark2-dark w-100 my-3"},_hoisted_38$E=createBaseVNode("i",{class:"fa fa-check bg-green1-dark"},null,-1),_hoisted_39$F=createBaseVNode("span",{class:"color-white"},"Можно забронировать столик",-1),_hoisted_40$C=[_hoisted_38$E,_hoisted_39$F],_hoisted_41$C={key:0},_hoisted_42$C={key:1},_hoisted_43$C={key:2,class:"w-100 d-flex"},_hoisted_44$C={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_45$B={key:3,class:"w-100 d-flex"},_hoisted_46$B={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_47$A=["onClick"],_hoisted_48$z=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1);function _sfc_render$F(o,t,s,i,a,n){const r=resolveDirective("mask"),l=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$29,[createBaseVNode("div",_hoisted_2$27,[createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...d)=>n.submitLocation&&n.submitLocation(...d),["prevent"]))},[createBaseVNode("div",_hoisted_3$21,[_hoisted_4$1X,withDirectives(createBaseVNode("input",{id:"box1-fac-checkbox","onUpdate:modelValue":t[0]||(t[0]=d=>a.locationForm.can_booking=d),type:"checkbox",value:"0"},null,512),[[vModelCheckbox,a.locationForm.can_booking]]),_hoisted_5$1W]),_hoisted_6$1U,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Адрес","aria-label":"Адрес",maxlength:"255","onUpdate:modelValue":t[1]||(t[1]=d=>a.locationForm.address=d),"aria-describedby":"location-address",required:""},null,512),[[vModelText,a.locationForm.address]]),_hoisted_7$1Q,_hoisted_8$1K,createBaseVNode("p",{class:"mb-2",onClick:t[2]||(t[2]=(...d)=>n.openMapModal&&n.openMapModal(...d))},[_hoisted_9$1G,createTextVNode(" Открыть карту")]),_hoisted_10$1z,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"##.######","aria-label":"Широта",maxlength:"255","onUpdate:modelValue":t[3]||(t[3]=d=>a.locationForm.lat=d),"aria-describedby":"location-lat",required:""},null,512),[[r,"##.######"],[vModelText,a.locationForm.lat]]),_hoisted_11$1u,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"##.######","aria-label":"Долгота",maxlength:"255","onUpdate:modelValue":t[4]||(t[4]=d=>a.locationForm.lon=d),"aria-describedby":"location-lon",required:""},null,512),[[r,"##.######"],[vModelText,a.locationForm.lon]]),createBaseVNode("label",_hoisted_12$1s,[createTextVNode(" Описание локации "),a.locationForm.description?(openBlock(),createElementBlock("small",_hoisted_13$1n," Длина текста "+toDisplayString(a.locationForm.description.length),1)):createCommentVNode("",!0),_hoisted_14$1i]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Описание локации","aria-label":"Описание локации",maxlength:"255","onUpdate:modelValue":t[5]||(t[5]=d=>a.locationForm.description=d),"aria-describedby":"location-description",required:""},`
                    `,512),[[vModelText,a.locationForm.description]]),_hoisted_15$1g,_hoisted_16$1g,createBaseVNode("div",_hoisted_17$19,[createBaseVNode("label",_hoisted_18$18,[_hoisted_19$15,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:t[6]||(t[6]=(...d)=>n.onChangePhotos&&n.onChangePhotos(...d)),style:{display:"none"}},null,32)]),a.locationForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.locationForm.photos,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_20$14,[withDirectives(createBaseVNode("img",null,null,512),[[l,n.getPhoto(d).imageUrl]]),createBaseVNode("div",_hoisted_21$12,[createBaseVNode("a",{onClick:_=>n.removePhoto(c)},"Удалить",8,_hoisted_22$12)])]))),256)):createCommentVNode("",!0)]),createBaseVNode("button",_hoisted_23$Z,[a.locationForm.id?(openBlock(),createElementBlock("span",_hoisted_24$X,"Обновить расположение")):(openBlock(),createElementBlock("span",_hoisted_25$V,"Добавить расположение"))])],32)])]),a.locations?(openBlock(),createElementBlock("div",_hoisted_26$R,[createBaseVNode("div",_hoisted_27$P,[createBaseVNode("div",_hoisted_28$O,[_hoisted_29$L,createBaseVNode("h2",_hoisted_30$K,toDisplayString(s.company.title||"Не установлен"),1),_hoisted_31$K,createBaseVNode("div",_hoisted_32$J,[createBaseVNode("button",{onClick:t[8]||(t[8]=(...d)=>n.submitLocations&&n.submitLocations(...d)),disabled:a.locations.length===0&&a.deletedLocations.length===0,class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить локации заведений ",8,_hoisted_33$J)])]),_hoisted_34$J]),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.locations,(d,c)=>(openBlock(),createElementBlock("div",{class:"card card-style",onClick:_=>n.selectLocation(d)},[createBaseVNode("div",_hoisted_36$I,[createBaseVNode("h4",null,toDisplayString(d.address||"Не указано"),1),d.can_booking?(openBlock(),createElementBlock("a",_hoisted_37$I,_hoisted_40$C)):createCommentVNode("",!0),createBaseVNode("ul",null,[d.location_channel?(openBlock(),createElementBlock("li",_hoisted_41$C,[createTextVNode("Канал заведения "),createBaseVNode("strong",null,toDisplayString(d.location_channel),1)])):createCommentVNode("",!0),createBaseVNode("li",null,toDisplayString(d.description||"Не указано"),1),createBaseVNode("li",null,"Широта: "+toDisplayString(d.lat),1),createBaseVNode("li",null,"Долгота: "+toDisplayString(d.lon),1)]),d.photos?(openBlock(),createElementBlock("h6",_hoisted_42$C,"Фотографии локаций")):createCommentVNode("",!0),d.photos?(openBlock(),createElementBlock("div",_hoisted_43$C,[d.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(d.photos,(_,m)=>(openBlock(),createElementBlock("div",_hoisted_44$C,[withDirectives(createBaseVNode("img",null,null,512),[[l,n.getPhoto(_).imageUrl]])]))),256)):createCommentVNode("",!0)])):createCommentVNode("",!0),d.images?(openBlock(),createElementBlock("div",_hoisted_45$B,[d.images.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(d.images,(_,m)=>(openBlock(),createElementBlock("div",_hoisted_46$B,[withDirectives(createBaseVNode("img",null,null,512),[[l,"/images-by-company-id/"+s.company.id+"/"+_]])]))),256)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:_=>n.removeItem(c),class:"btn btn-outline-danger py-1 px-3 text-center w-100"},[_hoisted_48$z,createTextVNode(" Удалить ")],8,_hoisted_47$A)])],8,_hoisted_35$J))),256))])):createCommentVNode("",!0)],64)}const Location=_export_sfc(_sfc_main$2b,[["render",_sfc_render$F]]),CompanyManager_vue_vue_type_style_index_0_lang="",_hoisted_1$28={class:"card card-style bg-1",style:{height:"350px"}},_hoisted_2$26={key:0,class:"card-center"},_hoisted_3$20={class:"w-100 d-flex justify-content-center p-3"},_hoisted_4$1W={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_5$1V={class:"color-white font-700 text-center mb-0"},_hoisted_6$1T={class:"color-white text-center opacity-60 mt-n1 mb-3"},_hoisted_7$1P={key:1,class:"card-center"},_hoisted_8$1J=createBaseVNode("p",null,"Загружаем данные компании",-1),_hoisted_9$1F=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_10$1y=[_hoisted_8$1J,_hoisted_9$1F],_hoisted_11$1t=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_12$1r={key:0,class:"card card-style"},_hoisted_13$1m={key:0,class:"content"},_hoisted_14$1h={class:"form-label d-flex justify-content-between align-items-center",id:"company-title"},_hoisted_15$1f=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_16$1f=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_17$18=createBaseVNode("div",null,"Нужно ",-1),_hoisted_18$17={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"company-title"},_hoisted_19$14=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_20$13=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_21$11=createBaseVNode("div",null,"Нужно ",-1),_hoisted_22$11=["value"],_hoisted_23$Y={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"company-slug"},_hoisted_24$W=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_25$U=createBaseVNode("div",null,[createTextVNode("Название компании на АНГЛИЙСКОМ"),createBaseVNode("br"),createTextVNode(" без пробелов! можно использовать _"),createBaseVNode("br"),createTextVNode(" Должно быть уникальным! Не отображается пользователю. ")],-1),_hoisted_26$Q=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_27$O=createBaseVNode("div",null,"Нужно ",-1),_hoisted_28$N={class:"form-label d-flex justify-content-between align-items-center flex-wrap mt-2",id:"company-description"},_hoisted_29$K=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_30$J=createBaseVNode("div",null,'Добавится в раздел "О Нас"',-1),_hoisted_31$J=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_32$I=createBaseVNode("div",null,"Нужно ",-1),_hoisted_33$I={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_34$I={class:"form-label",id:"company-address"},_hoisted_35$I=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_36$H=createBaseVNode("div",null,[createTextVNode("Где находится главное заведение компании!"),createBaseVNode("br"),createTextVNode('Можно не указывать, т.к. есть еще "Локации" ')],-1),_hoisted_37$H=createBaseVNode("label",{class:"form-label",id:"company-email"},"Основная почта компании",-1),_hoisted_38$D=createBaseVNode("label",{class:"form-label",id:"company-manager"},"Менеджер компании",-1),_hoisted_39$E=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_40$B=createBaseVNode("h6",{class:"d-flex justify-content-between align-items-center"},[createTextVNode("Логотип компании "),createBaseVNode("i",{class:"fa-solid fa-star color-red2-dark"})],-1),_hoisted_41$B={class:"d-flex justify-content-center"},_hoisted_42$B={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_43$B={key:0,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_44$B={class:"remove"},_hoisted_45$A=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_46$A=[_hoisted_45$A],_hoisted_47$z={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_48$y={class:"remove"},_hoisted_49$x=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_50$u=[_hoisted_49$x],_hoisted_51$u=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_52$u=createBaseVNode("h6",null,"Телефонные номера",-1),_hoisted_53$s=createBaseVNode("div",{class:"d-flex justify-content-between"},[createBaseVNode("small",null,"Номер")],-1),_hoisted_54$s=["onUpdate:modelValue","aria-describedby"],_hoisted_55$r=["onClick"],_hoisted_56$r=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_57$r=[_hoisted_56$r],_hoisted_58$q=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_59$p=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_60$m=createBaseVNode("div",{class:"d-flex justify-content-between"},[createBaseVNode("small",null,"Ссылка")],-1),_hoisted_61$l=["onUpdate:modelValue","aria-describedby"],_hoisted_62$j=["onClick"],_hoisted_63$j=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_64$j=[_hoisted_63$j],_hoisted_65$j=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_66$j=createBaseVNode("h6",null,"График работы",-1),_hoisted_67$j={class:"d-flex justify-content-between align-items-center"},_hoisted_68$i=createBaseVNode("small",null,"День недели ",-1),_hoisted_69$i=createBaseVNode("small",null,"Заполнить\\очистить",-1),_hoisted_70$i=[_hoisted_69$i],_hoisted_71$i=["onUpdate:modelValue","aria-describedby"],_hoisted_72$g=["onClick"],_hoisted_73$g=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_74$g=[_hoisted_73$g],_hoisted_75$g=["disabled"],_hoisted_76$f=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_77$f=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить данные компании ",-1),_hoisted_78$d={key:1,class:"content"},_hoisted_79$c=createBaseVNode("p",null,"Загружаем данные компании",-1),_hoisted_80$c=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_81$c=[_hoisted_79$c,_hoisted_80$c],_hoisted_82$c={key:1},__default__$1v={data(){return{step:0,load:!1,photo:null,removedImage:null,need_reset:!1,vat_codes:[{id:1,title:"Общая система налогообложения"},{id:2,title:"Упрощенная (УСН, доходы)"},{id:3,title:"Упрощенная (УСН, доходы минус расходы)"},{id:4,title:"Единый налог на вмененный доход (ЕНВД)"},{id:5,title:"Единый сельскохозяйственный налог (ЕСН)"},{id:6,title:"Патентная система налогообложения"}],company:null,companyForm:{id:null,title:null,slug:null,description:null,address:null,phones:[""],links:[""],email:null,vat_code:1,schedule:[],manager:null}}},computed:{...mapGetters(["getSelf","getCompany"])},watch:{companyForm:{handler(o){this.need_reset=!0},deep:!0}},mounted(){this.loadCompany()},methods:{resetForm(){this.photo=null,this.removedImage=null,this.companyForm={id:null,title:null,slug:null,description:null,address:null,phones:[""],links:[""],email:null,schedule:[],manager:null,vat_code:1},this.$nextTick(()=>{this.need_reset=!1})},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0],this.companyForm.image=null},schedulePlaceholder(){this.companyForm.schedule.length>0?this.companyForm.schedule=[]:this.companyForm.schedule=["Понедельник - с 8:00 до 20:00","Вторник - с 8:00 до 20:00","Среда - с 8:00 до 20:00","Четверг - с 8:00 до 20:00","Пятница - с 8:00 до 20:00","Суббота - с 8:00 до 20:00","Воскресенье - выходной"]},removeCompanyImage(){this.removedImage=this.companyForm.image,this.companyForm.image=null},addItem(o){this.companyForm[o].push("")},removeItem(o,t){this.companyForm[o].splice(t,1)},submitForm(){let o=new FormData;Object.keys(this.companyForm).forEach(t=>{const s=this.companyForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),o.append("company_logo",this.photo),this.removedImage!=null&&o.append("removed_image",this.removedImage),this.$store.dispatch(this.companyForm.id===null?"createCompany":"updateCompany",{companyForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.notification("Компания","Компания успешно создана")}).catch(t=>{})},loadCompany(){this.$store.dispatch("loadCompany").then(()=>{this.$nextTick(()=>{const o=this.getCompany;this.company=o,this.companyForm={id:o.id||null,title:o.title||null,slug:o.slug||null,image:o.image||null,description:o.description||null,address:o.address||null,phones:o.phones||[""],links:o.links||[""],email:o.email||null,vat_code:o.vat_code||1,schedule:o.schedule||[],manager:o.manager||null}})})}}},_sfc_main$2a=Object.assign(__default__$1v,{__name:"CompanyManager",setup(o){return(t,s)=>{const i=resolveComponent("Popper"),a=resolveDirective("lazy"),n=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$28,[t.company?(openBlock(),createElementBlock("div",_hoisted_2$26,[createBaseVNode("div",_hoisted_3$20,[withDirectives(createBaseVNode("img",_hoisted_4$1W,null,512),[[a,"/images-by-company-id/"+t.company.id+"/"+t.company.image]])]),createBaseVNode("h2",_hoisted_5$1V,toDisplayString(t.company.title||"Нет названия"),1),createBaseVNode("p",_hoisted_6$1T,toDisplayString(t.company.address||"Нет адреса"),1),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=r=>t.step=0),class:normalizeClass([{"bg-highlight":t.step===0,"bg-gray2-light":t.step!==0},"btn btn-m font-900 text-uppercase btn-center-xl mb-2"])}," Информация о компании ",2),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=r=>t.step=1),class:normalizeClass([{"bg-highlight":t.step===1,"bg-gray2-light":t.step!==1},"btn btn-m font-900 text-uppercase btn-center-xl"])}," Информация о расположении ",2)])):(openBlock(),createElementBlock("div",_hoisted_7$1P,_hoisted_10$1y)),_hoisted_11$1t]),t.step===0?(openBlock(),createElementBlock("div",_hoisted_12$1r,[t.company?(openBlock(),createElementBlock("div",_hoisted_13$1m,[createBaseVNode("form",{onSubmit:s[16]||(s[16]=withModifiers((...r)=>t.submitForm&&t.submitForm(...r),["prevent"]))},[createBaseVNode("label",_hoisted_14$1h,[createBaseVNode("span",null,[createVNode(i,{content:"Название вашей компании"},{default:withCtx(()=>[_hoisted_15$1f]),_:1}),createTextVNode(" Название компании ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_17$18]),default:withCtx(()=>[_hoisted_16$1f]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Название","aria-label":"Название","onUpdate:modelValue":s[2]||(s[2]=r=>t.companyForm.title=r),maxlength:"255","aria-describedby":"company-title",required:""},null,512),[[vModelText,t.companyForm.title]]),createBaseVNode("label",_hoisted_18$17,[createBaseVNode("span",null,[createVNode(i,{content:"Тип налогооблажения вашей компании"},{default:withCtx(()=>[_hoisted_19$14]),_:1}),createTextVNode(" Тип налогооблажения ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_21$11]),default:withCtx(()=>[_hoisted_20$13]),_:1})]),withDirectives(createBaseVNode("select",{type:"text",class:"form-control","aria-label":"Выберите налогооблажение","onUpdate:modelValue":s[3]||(s[3]=r=>t.companyForm.vat_code=r),"aria-describedby":"company-vat-code",required:""},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.vat_codes,(r,l)=>(openBlock(),createElementBlock("option",{value:r.id},toDisplayString(r.title||"Не указано"),9,_hoisted_22$11))),256))],512),[[vModelSelect,t.companyForm.vat_code]]),createBaseVNode("label",_hoisted_23$Y,[createBaseVNode("span",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_25$U]),default:withCtx(()=>[_hoisted_24$W]),_:1}),createTextVNode(" Домен компании ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_27$O]),default:withCtx(()=>[_hoisted_26$Q]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Мнемоническое имя","aria-label":"Мнемоническое имя","onUpdate:modelValue":s[4]||(s[4]=r=>t.companyForm.slug=r),pattern:"^[a-zA-Z][a-zA-Z0-9-_]{1,40}$",maxlength:"255","aria-describedby":"company-slug",required:""},null,512),[[vModelText,t.companyForm.slug]]),createBaseVNode("label",_hoisted_28$N,[createBaseVNode("span",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_30$J]),default:withCtx(()=>[_hoisted_29$K]),_:1}),createTextVNode(" Описание компании ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_32$I]),default:withCtx(()=>[_hoisted_31$J]),_:1}),t.companyForm.description?(openBlock(),createElementBlock("small",_hoisted_33$I," Длина текста "+toDisplayString(t.companyForm.description.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",style:{"min-height":"250px"},placeholder:"Описание компании","aria-label":"Описание компании","onUpdate:modelValue":s[5]||(s[5]=r=>t.companyForm.description=r),"aria-describedby":"company-description",required:""},null,512),[[vModelText,t.companyForm.description]]),createBaseVNode("label",_hoisted_34$I,[createVNode(i,null,{content:withCtx(()=>[_hoisted_36$H]),default:withCtx(()=>[_hoisted_35$I]),_:1}),createTextVNode(" Основной адрес компании")]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Адрес","aria-label":"Адрес",maxlength:"255","onUpdate:modelValue":s[6]||(s[6]=r=>t.companyForm.address=r),"aria-describedby":"company-address"},null,512),[[vModelText,t.companyForm.address]]),_hoisted_37$H,withDirectives(createBaseVNode("input",{type:"email",class:"form-control",placeholder:"Почтовый адрес","aria-label":"Почтовый адрес",maxlength:"255","onUpdate:modelValue":s[7]||(s[7]=r=>t.companyForm.email=r),"aria-describedby":"company-email"},null,512),[[vModelText,t.companyForm.email]]),_hoisted_38$D,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя менеджера","aria-label":"Имя менеджера","onUpdate:modelValue":s[8]||(s[8]=r=>t.companyForm.manager=r),maxlength:"255","aria-describedby":"company-manager"},null,512),[[vModelText,t.companyForm.manager]]),_hoisted_39$E,_hoisted_40$B,createBaseVNode("div",_hoisted_41$B,[createBaseVNode("label",_hoisted_42$B,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",accept:"image/*",onChange:s[9]||(s[9]=(...r)=>t.onChangePhotos&&t.onChangePhotos(...r)),style:{display:"none"}},null,32)]),t.photo?(openBlock(),createElementBlock("div",_hoisted_43$B,[withDirectives(createBaseVNode("img",null,null,512),[[a,t.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_44$B,[createBaseVNode("a",{onClick:s[10]||(s[10]=r=>t.photo=null)},_hoisted_46$A)])])):createCommentVNode("",!0),t.companyForm.image?(openBlock(),createElementBlock("div",_hoisted_47$z,[withDirectives(createBaseVNode("img",null,null,512),[[a,"/images/"+t.companyForm.slug+"/"+t.companyForm.image]]),createBaseVNode("div",_hoisted_48$y,[createBaseVNode("a",{onClick:s[11]||(s[11]=(...r)=>t.removeCompanyImage&&t.removeCompanyImage(...r))},_hoisted_50$u)])])):createCommentVNode("",!0)]),_hoisted_51$u,_hoisted_52$u,_hoisted_53$s,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companyForm.phones,(r,l)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2",key:"phone"+l},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control w-100 mr-2",placeholder:"+7(000)000-00-00","aria-label":"Номер телефона",maxlength:"255","onUpdate:modelValue":d=>t.companyForm.phones[l]=d,"aria-describedby":"company-phone-"+l},null,8,_hoisted_54$s),[[n,"+7(###)###-##-##"],[vModelText,t.companyForm.phones[l]]]),createBaseVNode("button",{type:"button",onClick:d=>t.removeItem("phones",l),class:"btn btn-outline-danger py-1 px-3"},_hoisted_57$r,8,_hoisted_55$r)]))),128)),createBaseVNode("button",{type:"button",onClick:s[12]||(s[12]=r=>t.addItem("phones")),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще номер "),_hoisted_58$q,_hoisted_59$p,_hoisted_60$m,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companyForm.links,(r,l)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2",key:"link"+l},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mr-2 w-100",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":d=>t.companyForm.links[l]=d,"aria-describedby":"company-link-"+l},null,8,_hoisted_61$l),[[vModelText,t.companyForm.links[l]]]),createBaseVNode("button",{type:"button",onClick:d=>t.removeItem("links",l),class:"btn btn-outline-danger py-1 px-3"},_hoisted_64$j,8,_hoisted_62$j)]))),128)),createBaseVNode("button",{type:"button",onClick:s[13]||(s[13]=r=>t.addItem("links")),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_65$j,_hoisted_66$j,createBaseVNode("div",_hoisted_67$j,[_hoisted_68$i,createBaseVNode("a",{href:"javascript:void(0)",onClick:s[14]||(s[14]=(...r)=>t.schedulePlaceholder&&t.schedulePlaceholder(...r))},_hoisted_70$i)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companyForm.schedule,(r,l)=>(openBlock(),createElementBlock("div",{key:"link"+l,class:"d-flex justify-content-between mb-2"},[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mr-2 w-100",placeholder:"День недели и время работы","aria-label":"День недели и время работы",maxlength:"255","onUpdate:modelValue":d=>t.companyForm.schedule[l]=d,"aria-describedby":"company-schedule-"+l},null,8,_hoisted_71$i),[[vModelText,t.companyForm.schedule[l]]]),createBaseVNode("button",{type:"button",onClick:d=>t.removeItem("schedule",l),class:"btn btn-outline-danger py-1 px-3"},_hoisted_74$g,8,_hoisted_72$g)]))),128)),createBaseVNode("button",{type:"button",disabled:t.companyForm.schedule.length===7,onClick:s[15]||(s[15]=r=>t.addItem("schedule")),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще время работы ",8,_hoisted_75$g),_hoisted_76$f,_hoisted_77$f],32)])):(openBlock(),createElementBlock("div",_hoisted_78$d,_hoisted_81$c))])):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_82$c,[t.company&&!t.load?(openBlock(),createBlock(Location,{key:0,company:t.company},null,8,["company"])):createCommentVNode("",!0)])):createCommentVNode("",!0)],64)}}}),CompanyManager=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2a},Symbol.toStringTag,{value:"Module"})),BotManager_vue_vue_type_style_index_0_lang$1="",_sfc_main$29={data(){return{selected_warning:null,load:!1,need_payments:!1,need_shop:!1,bot:null,need_threads:!1,need_cashback_config:!1,cashback_fire_periods:[{title:"Не сгорает",value:0},{title:"7 дней",value:7},{title:"15 дней",value:15},{title:"30 дней",value:30},{title:"60 дней",value:60},{title:"60 дней",value:90},{title:"120 дней",value:120},{title:"180 дней",value:180},{title:"360 дней",value:360}],warnings:[{title:"Сумма чека больше чем",key:"bill_sum_more_then"},{title:"Сумма начисления кэшбэка больше чем",key:"cashback_up_sum_more_then"},{title:"Сумма списания кэшбэка больше чем",key:"cashback_down_sum_more_then"}],botForm:{title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,vk_shop_link:null,callback_link:null,balance:null,tax_per_day:null,welcome_message:null,image:null,description:null,info_link:null,commands:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,cashback_fire_percent:0,cashback_fire_period:0,photos:[],selected_bot_template_id:null,pages:[],warnings:[],amo:null,is_active:!1}}},computed:{filteredWarnings(){return this.botForm.warnings.length===0?this.warnings:this.warnings.filter(o=>!(this.botForm.warnings.findIndex(t=>t.rule_key===o.key)>=0))}},watch:{need_threads:function(o,t){let s=[{title:"Отзывы",key:"reviews",value:null},{title:"Операции с cashback",key:"cashback",value:null},{title:"Вопросы",key:"questions",value:null},{title:"Конкурсы",key:"actions",value:null},{title:"Заказы",key:"orders",value:null},{title:"Вывод средств",key:"ask-money",value:null}];this.need_threads&&!this.botForm.message_threads&&(this.botForm.message_threads=s),this.need_threads&&this.botForm.message_threads&&s.forEach(i=>{this.botForm.message_threads.findIndex(n=>n.key===i.key)===-1&&this.botForm.message_threads.push(i)})},need_payments:function(o,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},mounted(){this.loadBotAdminConfig(),window.addEventListener("select-telegram-channel-id",o=>{this.botForm[o.detail.param]=o.detail.channel})},methods:{removeCommands(o){this.botForm.commands.splice(o,1)},addCommands(){this.botForm.commands==null&&(this.botForm.commands=[]),this.botForm.commands.push({command:null,description:null})},loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.botForm={id:this.bot.id||null,title:this.bot.title||null,short_description:this.bot.short_description||null,long_description:this.bot.long_description||null,is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,message_threads:this.bot.message_threads||null,cashback_config:this.bot.cashback_config||null,commands:this.bot.commands||null,cashback_fire_percent:this.bot.cashback_fire_percent||0,cashback_fire_period:this.bot.cashback_fire_period||0,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,callback_link:this.bot.callback_link||null,image:this.bot.image||null,description:this.bot.description||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1||10,level_2:this.bot.level_2||0,level_3:this.bot.level_3||0,warnings:this.bot.warnings||[],photos:this.bot.photos||[],amo:this.bot.amo||null,is_active:this.bot.is_active||!1},this.botForm.commands==null&&(this.botForm.commands=[{command:"/start",description:"начни с этой команды"},{command:"/admins",description:"доступные администраторы в системе"},{command:"/help",description:"как использовать систему"},{command:"/about",description:"о CashMan"}]),this.botForm.payment_provider_token&&(this.need_payments=!0),this.botForm.vk_shop_link&&(this.need_shop=!0),this.botForm.cashback_config&&(this.need_cashback_config=!0)})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o){const t=o.target.files;this.botForm.image=null;for(let s=0;s<t.length;s++)this.botForm.photos.push(t[s])},addItem(o){this.botForm[o].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(o,t){this.botForm[o].splice(t,1)},removePhoto(o){o?this.botForm.photos.splice(o,1):this.botForm.image=null},switchStatus(){this.$store.dispatch("switchBotStatus").then(()=>{this.$botNotification.success("Конструктор ботов","Статус бота успешно изменен!")})},addBot(){let o=new FormData;Object.keys(this.botForm).forEach(t=>{const s=this.botForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.company&&o.append("company_id",this.company.id);for(let t=0;t<this.botForm.photos.length;t++)o.append("images[]",this.botForm.photos[t]);o.delete("photos"),this.$store.dispatch(this.bot==null?"createBot":"updateBot",{botForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.success("Конструктор ботов",this.bot==null?"Бот успешно создан!":"Бот успешно обновлен!"),this.bot==null&&(this.botForm={title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,balance:null,tax_per_day:null,cashback_fire_percent:0,cashback_fire_period:0,image:null,description:null,info_link:null,social_links:[],warnings:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,photos:[],selected_bot_template_id:null,pages:[],is_active:!1})}).catch(t=>{})},getWarning(o){let t=this.warnings.find(s=>s.key===o);return t||{title:"Не найдено"}},removeWarning(o){this.botForm.warnings.splice(o,1)},removeCashBackConfig(o){this.botForm.cashback_config.splice(o,1)},addCashBackConfig(){this.botForm.cashback_config=this.botForm.cashback_config==null?[]:this.botForm.cashback_config,this.botForm.cashback_config.push({title:null})},addWarning(){const o=this.selected_warning;this.botForm.warnings.push({rule_key:o.key,rule_value:0,is_active:!0}),this.selected_warning=null},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},openUrl(o){this.tg.openLink(o)}}},_hoisted_1$27={class:"card card-style bg-1",style:{height:"330px"}},_hoisted_2$25={key:0,class:"card-center"},_hoisted_3$1$={class:"w-100 d-flex justify-content-center p-3"},_hoisted_4$1V={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_5$1U={class:"color-white font-700 text-center mb-2"},_hoisted_6$1S={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_7$1O={href:"#",class:"color-white"},_hoisted_8$1I=createBaseVNode("i",{class:"fa-solid fa-sack-dollar"},null,-1),_hoisted_9$1E={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_10$1x=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar"},null,-1),_hoisted_11$1s={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_12$1q=createBaseVNode("i",{class:"fa-regular fa-calendar-days"},null,-1),_hoisted_13$1l={class:"w-100 d-flex justify-content-center py-4"},_hoisted_14$1g={class:"custom-control ios-switch"},_hoisted_15$1e=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1),_hoisted_16$1e={key:0,class:"ml-5 text-white"},_hoisted_17$17={key:1,class:"ml-5 text-white"},_hoisted_18$16={key:1,class:"card-center"},_hoisted_19$13=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_20$12=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_21$10=[_hoisted_19$13,_hoisted_20$12],_hoisted_22$10=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_23$X={key:0,class:"content"},_hoisted_24$V={class:"mb-0"},_hoisted_25$T={class:"mb-2"},_hoisted_26$P={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-domain"},_hoisted_27$N=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_28$M=createBaseVNode("div",null,'Строго взять из BotFather! ТО что при создании с окончанием на "bot"',-1),_hoisted_29$J=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_30$I=createBaseVNode("div",null,"Нужно ",-1),_hoisted_31$I={key:0},_hoisted_32$H={class:"mb-2"},_hoisted_33$H={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center flex-wrap",id:"bot-token"},_hoisted_34$H=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_35$H=createBaseVNode("div",null,"Взять из BotFater при создании бота! Длинная нечитаемая подсвеченная строка! ",-1),_hoisted_36$G=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_37$G=createBaseVNode("div",null,"Нужно ",-1),_hoisted_38$C={class:"mb-2"},_hoisted_39$D=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-token-dev"},"Токен бота (для тестирования)",-1),_hoisted_40$A={class:"mb-2"},_hoisted_41$A={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-title"},_hoisted_42$A=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_43$A=createBaseVNode("div",null,"Имя бота, которая отображается у всех пользователей в боте",-1),_hoisted_44$A={class:"mb-2"},_hoisted_45$z={class:"d-flex justify-content-between flex-wrap"},_hoisted_46$z={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-short-description"},_hoisted_47$y=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_48$x=createBaseVNode("div",null,"Описание бота, которое отобразится при переходе в бота по ссылке",-1),_hoisted_49$w={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_50$t={class:"mb-2"},_hoisted_51$t={class:"d-flex justify-content-between flex-wrap"},_hoisted_52$t={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-short-description"},_hoisted_53$r=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_54$r=createBaseVNode("div",null,"Данное описание отобразится при первом переходе в бота или после очистки бота пользователем ",-1),_hoisted_55$q={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_56$q=createBaseVNode("div",{class:"divider divider-large my-4"},null,-1),_hoisted_57$q=createBaseVNode("h6",null,"Команды в боте",-1),_hoisted_58$p={key:0},_hoisted_59$o=createBaseVNode("em",null,"К сожалению, вы еще не добавили ни 1й команды в меню бота",-1),_hoisted_60$l=[_hoisted_59$o],_hoisted_61$k=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Например, команда "),createBaseVNode("b",null,"/start"),createTextVNode(", а описание к ней: "),createBaseVNode("b",null,"начало работы с системой")])],-1),_hoisted_62$i={class:"mb-2"},_hoisted_63$i=["onUpdate:modelValue","aria-describedby"],_hoisted_64$i={class:"mb-2"},_hoisted_65$i=["onUpdate:modelValue","aria-describedby"],_hoisted_66$i=["onClick"],_hoisted_67$i=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_68$h=createBaseVNode("div",{class:"divider divider-small my-4 bg-highlight"},null,-1),_hoisted_69$h={class:"mb-2"},_hoisted_70$h=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Данные команды отображаются в кнопке "),createBaseVNode("b",null,"Меню"),createTextVNode(" слева от поля ввода в боте")])],-1),_hoisted_71$h=createBaseVNode("div",{class:"divider divider-large my-4"},null,-1),_hoisted_72$f={class:"mb-2"},_hoisted_73$f={class:"d-flex justify-content-between align-items-center flex-wrap"},_hoisted_74$f={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center w-100",id:"bot-order-channel"},_hoisted_75$f=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_76$e=createBaseVNode("div",null,"Ввести адрес ссылки на канал в форму после добавления тоукена ",-1),_hoisted_77$e=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_78$c=[_hoisted_77$e],_hoisted_79$b=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_80$b=createBaseVNode("div",null,"Нужно ",-1),_hoisted_81$b={class:"mb-2"},_hoisted_82$b={class:"d-flex justify-content-between"},_hoisted_83$b={class:"form-label d-flex justify-content-between mt-2",id:"bot-main-channel"},_hoisted_84$9=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_85$9=[_hoisted_84$9],_hoisted_86$9={class:"mb-2"},_hoisted_87$9={class:"form-check"},_hoisted_88$9=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо добавить рассылку по топикам для канала заказов (он же системный канал) ",-1),_hoisted_89$9={key:1,class:"mb-2"},_hoisted_90$9=createBaseVNode("p",{class:"mb-2 font-italic"},[createTextVNode("Для того, чтоб узнать идентификатор топика в группе впишите в чат "),createBaseVNode("strong",null,'"Мой id"')],-1),_hoisted_91$9={class:"list-group"},_hoisted_92$8={class:"list-group-item"},_hoisted_93$8={class:"mb-0"},_hoisted_94$8=["onUpdate:modelValue"],_hoisted_95$7={key:0,class:"mb-0"},_hoisted_96$7={class:"mb-2"},_hoisted_97$7={class:"d-flex justify-content-between flex-wrap"},_hoisted_98$7={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-description"},_hoisted_99$7=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_100$7=createBaseVNode("div",null,"Отобразится пользователю при первом запуске",-1),_hoisted_101$7=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_102$7=createBaseVNode("div",null,"Нужно ",-1),_hoisted_103$7={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_104$7={class:"mb-2"},_hoisted_105$7={class:"d-flex justify-content-between flex-wrap"},_hoisted_106$7={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-description"},_hoisted_107$7=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_108$7=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_109$7=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_110$7=createBaseVNode("div",null,"Нужно ",-1),_hoisted_111$7={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_112$7={class:"mb-2"},_hoisted_113$7={class:"d-flex justify-content-between flex-wrap"},_hoisted_114$7={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-maintenance-message"},_hoisted_115$6=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_116$6=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_117$6=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_118$6=createBaseVNode("div",null,"Нужно ",-1),_hoisted_119$6={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_120$5={class:"mb-2"},_hoisted_121$5={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-level-1"},_hoisted_122$5=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_123$5=createBaseVNode("div",null,"Нужно ",-1),_hoisted_124$5={class:"mb-2"},_hoisted_125$5=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-2"},"Уровень 2 CashBack, %",-1),_hoisted_126$5={class:"mb-2"},_hoisted_127$5=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},"Уровень 3 CashBack, %",-1),_hoisted_128$5={class:"mb-2"},_hoisted_129$5=createBaseVNode("label",{class:"form-label",id:"cashback-fired-period"},"Период сгорания CashBack",-1),_hoisted_130$5=["value"],_hoisted_131$5={key:0,class:"mb-3"},_hoisted_132$4=createBaseVNode("label",{class:"form-label",id:"cashback-fired-level"},"Уровень сгорания CashBack, %",-1),_hoisted_133$4={class:"mb-2"},_hoisted_134$4={class:"form-check"},_hoisted_135$4=createBaseVNode("label",{class:"form-check-label",for:"need-cashback-config"}," Необходимо настроить CashBack по категориям ",-1),_hoisted_136$4={key:1,class:"mb-2"},_hoisted_137$4=createBaseVNode("h6",null,"Настройка категорий CashBack-а",-1),_hoisted_138$4={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_139$4=createBaseVNode("small",null,"Название категории",-1),_hoisted_140$4=["onClick"],_hoisted_141$4=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_142$4=[_hoisted_141$4],_hoisted_143$4=["onUpdate:modelValue","aria-describedby"],_hoisted_144$4=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_145$4={class:"mb-2"},_hoisted_146$4={class:"form-group"},_hoisted_147$4=createBaseVNode("label",{class:"form-check-label",for:"warning-rules"},[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation text-danger"}),createTextVNode(" Правила критических оповещений ")],-1),_hoisted_148$4=createBaseVNode("option",{value:null},"Не выбрано",-1),_hoisted_149$4=["value"],_hoisted_150$4={class:"card"},_hoisted_151$4={class:"m-0"},_hoisted_152$4={class:"form-check"},_hoisted_153$4=["onUpdate:modelValue","id"],_hoisted_154$4=["for"],_hoisted_155$4={key:0},_hoisted_156$4={key:1},_hoisted_157$4=["onUpdate:modelValue"],_hoisted_158$4=["onClick"],_hoisted_159$4=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_160$4=[_hoisted_159$4],_hoisted_161$4=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_162$4={class:"mb-2"},_hoisted_163$4={class:"form-check"},_hoisted_164$4=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему ",-1),_hoisted_165$3={key:2,class:"mb-2"},_hoisted_166$3={class:"form-check"},_hoisted_167$3=["value"],_hoisted_168$3=createBaseVNode("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),_hoisted_169$3={class:"mb-2"},_hoisted_170$2={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_171$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_172$2=createBaseVNode("div",null,"Если в боте планируется оплата, то необходимо через BotFather привязать нужную платежную систему и указать в данном поле полученный токен ",-1),_hoisted_173$2=createBaseVNode("a",{href:"https://t.me/botfather",target:"_blank"},"Подключить",-1),_hoisted_174$2={class:"mb-2"},_hoisted_175$2={class:"form-check"},_hoisted_176$2=createBaseVNode("label",{class:"form-check-label",for:"need-shop"}," Необходимо интегрировать магазин в бота ",-1),_hoisted_177$2={key:3,class:"mb-2"},_hoisted_178$2={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_179$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_180$2=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_181$2=createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),_hoisted_182$2={class:"mb-2"},_hoisted_183$2={class:"form-label d-flex justify-content-between mt-2",id:"bot-callback-url"},_hoisted_184$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_185$2=createBaseVNode("div",null,"Ссылка на внешний сервис для обратной связи ",-1),_hoisted_186$2=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_187$2={class:"mb-2"},_hoisted_188$2={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_189$1=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_190$1=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_191$1=createBaseVNode("a",{target:"_blank",href:"https://telegra.ph"},"Создать",-1),_hoisted_192$1=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_193$1=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_194$1={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_195$1=createBaseVNode("small",null,"Ссылка",-1),_hoisted_196$1=["onClick"],_hoisted_197$1=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_198$1=[_hoisted_197$1],_hoisted_199$1=["onUpdate:modelValue","aria-describedby"],_hoisted_200$1=["onUpdate:modelValue"],_hoisted_201=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_202={class:"d-flex justify-content-between align-items-center"},_hoisted_203=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_204=createBaseVNode("div",null,"Нужно ",-1),_hoisted_205={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_206={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_207=createBaseVNode("span",null,"+",-1),_hoisted_208={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_209={class:"remove"},_hoisted_210=["onClick"],_hoisted_211=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_212=[_hoisted_211],_hoisted_213={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_214={class:"remove"},_hoisted_215=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_216=[_hoisted_215],_hoisted_217=["disabled"],_hoisted_218={key:1,class:"content"},_hoisted_219=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_220=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_221=[_hoisted_219,_hoisted_220];function _sfc_render$E(o,t,s,i,a,n){const r=resolveComponent("Popper"),l=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$27,[a.bot?(openBlock(),createElementBlock("div",_hoisted_2$25,[createBaseVNode("div",_hoisted_3$1$,[withDirectives(createBaseVNode("img",_hoisted_4$1V,null,512),[[l,"/images-by-company-id/"+a.bot.company_id+"/"+a.bot.image]])]),createBaseVNode("h2",_hoisted_5$1U,toDisplayString(a.bot.bot_domain||"Нет домена"),1),createBaseVNode("p",_hoisted_6$1S,[createBaseVNode("a",_hoisted_7$1O,[_hoisted_8$1I,createTextVNode(" Баланс "+toDisplayString(a.bot.balance||"0")+" ₽",1)])]),createBaseVNode("p",_hoisted_9$1E,[_hoisted_10$1x,createTextVNode(" Тариф "+toDisplayString(a.bot.tax_per_day||"0")+" ₽/день ",1)]),createBaseVNode("p",_hoisted_11$1s,[_hoisted_12$1q,createTextVNode(" Дней "+toDisplayString(a.bot.balance/a.bot.tax_per_day)+" осталось ",1)]),createBaseVNode("div",_hoisted_13$1l,[createBaseVNode("div",_hoisted_14$1g,[withDirectives(createBaseVNode("input",{type:"checkbox",onChange:t[0]||(t[0]=(...d)=>n.switchStatus&&n.switchStatus(...d)),"onUpdate:modelValue":t[1]||(t[1]=d=>a.botForm.is_active=d),class:"ios-input",id:"toggle-id-1"},null,544),[[vModelCheckbox,a.botForm.is_active]]),_hoisted_15$1e]),a.botForm.is_active?(openBlock(),createElementBlock("span",_hoisted_16$1e,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_17$17,"Выкл"))])])):(openBlock(),createElementBlock("div",_hoisted_18$16,_hoisted_21$10)),_hoisted_22$10]),createBaseVNode("form",{onSubmit:t[38]||(t[38]=withModifiers((...d)=>n.addBot&&n.addBot(...d),["prevent"])),class:"card card-style"},[a.bot?(openBlock(),createElementBlock("div",_hoisted_23$X,[createBaseVNode("div",_hoisted_24$V,[createBaseVNode("div",_hoisted_25$T,[createBaseVNode("label",_hoisted_26$P,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_28$M]),default:withCtx(()=>[_hoisted_27$N]),_:1}),createTextVNode(" Доменное имя бота из BotFather ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_30$I]),default:withCtx(()=>[_hoisted_29$J]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота","onUpdate:modelValue":t[2]||(t[2]=d=>a.botForm.bot_domain=d),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,a.botForm.bot_domain]]),a.botForm.bot_domain?(openBlock(),createElementBlock("p",_hoisted_31$I,[createTextVNode("Проверить работу бота "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[3]||(t[3]=d=>n.openUrl("https://t.me/"+a.botForm.bot_domain))},"@"+toDisplayString(a.botForm.bot_domain),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_32$H,[createBaseVNode("label",_hoisted_33$H,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_35$H]),default:withCtx(()=>[_hoisted_34$H]),_:1}),createTextVNode(" Токен бота ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_37$G]),default:withCtx(()=>[_hoisted_36$G]),_:1}),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[4]||(t[4]=d=>n.openUrl("https://t.me/botfather")),class:"w-100",target:"_blank"},"Создать нового бота в ТГ")]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[5]||(t[5]=d=>a.botForm.bot_token=d),maxlength:"255","aria-describedby":"bot-token",required:""},null,512),[[vModelText,a.botForm.bot_token]])]),createBaseVNode("div",_hoisted_38$C,[_hoisted_39$D,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[6]||(t[6]=d=>a.botForm.bot_token_dev=d),maxlength:"255","aria-describedby":"bot-token-dev"},null,512),[[vModelText,a.botForm.bot_token_dev]])]),createBaseVNode("div",_hoisted_40$A,[createBaseVNode("label",_hoisted_41$A,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_43$A]),default:withCtx(()=>[_hoisted_42$A]),_:1}),createTextVNode(" Отображаемое имя бота ")])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Отображаемое имя бота","aria-label":"Отображаемое имя бота","onUpdate:modelValue":t[7]||(t[7]=d=>a.botForm.title=d),maxlength:"64","aria-describedby":"bot-title"},null,512),[[vModelText,a.botForm.title]])]),createBaseVNode("div",_hoisted_44$A,[createBaseVNode("div",_hoisted_45$z,[createBaseVNode("label",_hoisted_46$z,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_48$x]),default:withCtx(()=>[_hoisted_47$y]),_:1}),createTextVNode(" Короткое описание бота ")])]),a.botForm.short_description?(openBlock(),createElementBlock("small",_hoisted_49$w," Длина текста "+toDisplayString(a.botForm.short_description.length)+" / 120",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Короткое описание бота","aria-label":"Короткое описание бота","onUpdate:modelValue":t[8]||(t[8]=d=>a.botForm.short_description=d),maxlength:"120",style:{"min-height":"200px"},"aria-describedby":"short-description"},`
                    `,512),[[vModelText,a.botForm.short_description]])]),createBaseVNode("div",_hoisted_50$t,[createBaseVNode("div",_hoisted_51$t,[createBaseVNode("label",_hoisted_52$t,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_54$r]),default:withCtx(()=>[_hoisted_53$r]),_:1}),createTextVNode(" Длинное описание бота ")])]),a.botForm.long_description?(openBlock(),createElementBlock("small",_hoisted_55$q," Длина текста "+toDisplayString(a.botForm.long_description.length)+" / 512",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Длинное описание бота","aria-label":"Длинное описание бота","onUpdate:modelValue":t[9]||(t[9]=d=>a.botForm.long_description=d),maxlength:"512",style:{"min-height":"200px"},"aria-describedby":"short-description"},`
                    `,512),[[vModelText,a.botForm.long_description]])]),_hoisted_56$q,_hoisted_57$q,a.botForm.commands?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_58$p,_hoisted_60$l)),_hoisted_61$k,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.commands,(d,c)=>(openBlock(),createElementBlock("div",{class:"mb-2",key:"commands-"+c},[createBaseVNode("div",_hoisted_62$i,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Название команды","aria-label":"Название команды",maxlength:"255","onUpdate:modelValue":_=>a.botForm.commands[c].command=_,"aria-describedby":"bot-command-"+c,required:""},null,8,_hoisted_63$i),[[vModelText,a.botForm.commands[c].command]])]),createBaseVNode("div",_hoisted_64$i,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255","onUpdate:modelValue":_=>a.botForm.commands[c].description=_,"aria-describedby":"bot-command-description-"+c,required:""},null,8,_hoisted_65$i),[[vModelText,a.botForm.commands[c].description]])]),createBaseVNode("button",{type:"button",onClick:_=>n.removeCommands(c),class:"btn btn-outline-danger w-100"},[_hoisted_67$i,createTextVNode(" Удалить команду ")],8,_hoisted_66$i),_hoisted_68$h]))),128)),createBaseVNode("div",_hoisted_69$h,[_hoisted_70$h,createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=d=>n.addCommands()),class:"btn btn-success w-100"},"Добавить еще команду ")]),_hoisted_71$h,createBaseVNode("div",_hoisted_72$f,[createBaseVNode("div",_hoisted_73$f,[createBaseVNode("label",_hoisted_74$f,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_76$e]),default:withCtx(()=>[_hoisted_75$f]),_:1}),createTextVNode(" Канал для заказов (id) "),createBaseVNode("span",{onClick:t[11]||(t[11]=d=>n.requestChannelId("order_channel"))},_hoisted_78$c)]),createVNode(r,null,{content:withCtx(()=>[_hoisted_80$b]),default:withCtx(()=>[_hoisted_79$b]),_:1})])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[12]||(t[12]=d=>a.botForm.order_channel=d),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[vModelText,a.botForm.order_channel]])]),createBaseVNode("div",_hoisted_81$b,[createBaseVNode("div",_hoisted_82$b,[createBaseVNode("label",_hoisted_83$b,[createTextVNode("Канал для постов (id,рекламный) "),createBaseVNode("span",{onClick:t[13]||(t[13]=d=>n.requestChannelId("main_channel"))},_hoisted_85$9)])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[14]||(t[14]=d=>a.botForm.main_channel=d),maxlength:"255","aria-describedby":"bot-main-channel"},null,512),[[vModelText,a.botForm.main_channel]])]),createBaseVNode("div",_hoisted_86$9,[createBaseVNode("div",_hoisted_87$9,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[15]||(t[15]=d=>a.need_threads=d),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,a.need_threads]]),_hoisted_88$9])]),a.need_threads?(openBlock(),createElementBlock("div",_hoisted_89$9,[_hoisted_90$9,createBaseVNode("ul",_hoisted_91$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.message_threads,(d,c)=>(openBlock(),createElementBlock("li",_hoisted_92$8,[createBaseVNode("p",_hoisted_93$8,toDisplayString(d.title)+" ("+toDisplayString(d.key)+")",1),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Идентификатор топика","onUpdate:modelValue":_=>a.botForm.message_threads[c].value=_},null,8,_hoisted_94$8),[[vModelText,a.botForm.message_threads[c].value]])]))),256))])])):createCommentVNode("",!0)]),a.botForm.bot_token?(openBlock(),createElementBlock("div",_hoisted_95$7,[createBaseVNode("div",_hoisted_96$7,[createBaseVNode("div",_hoisted_97$7,[createBaseVNode("label",_hoisted_98$7,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_100$7]),default:withCtx(()=>[_hoisted_99$7]),_:1}),createTextVNode(" Приветственное сообщение ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_102$7]),default:withCtx(()=>[_hoisted_101$7]),_:1})]),a.botForm.welcome_message?(openBlock(),createElementBlock("small",_hoisted_103$7," Длина текста "+toDisplayString(a.botForm.welcome_message.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое приветствие при запуске бота","aria-label":"Текстовое приветствие при запуске бота","onUpdate:modelValue":t[16]||(t[16]=d=>a.botForm.welcome_message=d),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,a.botForm.welcome_message]])]),createBaseVNode("div",_hoisted_104$7,[createBaseVNode("div",_hoisted_105$7,[createBaseVNode("label",_hoisted_106$7,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_108$7]),default:withCtx(()=>[_hoisted_107$7]),_:1}),createTextVNode(" Описание бота ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_110$7]),default:withCtx(()=>[_hoisted_109$7]),_:1})]),a.botForm.description?(openBlock(),createElementBlock("small",_hoisted_111$7," Длина текста "+toDisplayString(a.botForm.description.length)+" / 255",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое описание бота","aria-label":"Текстовое описание бота","onUpdate:modelValue":t[17]||(t[17]=d=>a.botForm.description=d),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,a.botForm.description]])]),createBaseVNode("div",_hoisted_112$7,[createBaseVNode("div",_hoisted_113$7,[createBaseVNode("label",_hoisted_114$7,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_116$6]),default:withCtx(()=>[_hoisted_115$6]),_:1}),createTextVNode(" Режим тех. работ ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_118$6]),default:withCtx(()=>[_hoisted_117$6]),_:1})]),a.botForm.maintenance_message?(openBlock(),createElementBlock("small",_hoisted_119$6," Длина текста "+toDisplayString(a.botForm.maintenance_message.length)+" / 255 ",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":t[18]||(t[18]=d=>a.botForm.maintenance_message=d),maxlength:"255",style:{"min-height":"200px"},"aria-describedby":"bot-maintenance-message",required:""},`
                    `,512),[[vModelText,a.botForm.maintenance_message]])]),createBaseVNode("div",_hoisted_120$5,[createBaseVNode("label",_hoisted_121$5,[createTextVNode(" Уровень 1 CashBack, % "),createVNode(r,null,{content:withCtx(()=>[_hoisted_123$5]),default:withCtx(()=>[_hoisted_122$5]),_:1})]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[19]||(t[19]=d=>a.botForm.level_1=d),min:"0","aria-describedby":"bot-level-1",required:""},null,512),[[vModelText,a.botForm.level_1]])]),createBaseVNode("div",_hoisted_124$5,[_hoisted_125$5,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[20]||(t[20]=d=>a.botForm.level_2=d),min:"0","aria-describedby":"bot-level-2"},null,512),[[vModelText,a.botForm.level_2]])]),createBaseVNode("div",_hoisted_126$5,[_hoisted_127$5,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[21]||(t[21]=d=>a.botForm.level_3=d),min:"0","aria-describedby":"bot-level-3"},null,512),[[vModelText,a.botForm.level_3]])]),createBaseVNode("div",_hoisted_128$5,[_hoisted_129$5,withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[22]||(t[22]=d=>a.botForm.cashback_fire_period=d),id:"cashback-fired-period"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.cashback_fire_periods,d=>(openBlock(),createElementBlock("option",{value:d.value},toDisplayString(d.title||"Не указано"),9,_hoisted_130$5))),256))],512),[[vModelSelect,a.botForm.cashback_fire_period]])]),a.botForm.cashback_fire_period>0?(openBlock(),createElementBlock("div",_hoisted_131$5,[_hoisted_132$4,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень сгорания CashBack","onUpdate:modelValue":t[23]||(t[23]=d=>a.botForm.cashback_fire_percent=d),min:"0",max:"100","aria-describedby":"cashback-fired-level"},null,512),[[vModelText,a.botForm.cashback_fire_percent]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_133$4,[createBaseVNode("div",_hoisted_134$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[24]||(t[24]=d=>a.need_cashback_config=d),type:"checkbox",id:"need-cashback-config"},null,512),[[vModelCheckbox,a.need_cashback_config]]),_hoisted_135$4])]),a.need_cashback_config?(openBlock(),createElementBlock("div",_hoisted_136$4,[_hoisted_137$4,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.cashback_config,(d,c)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+c},[createBaseVNode("div",_hoisted_138$4,[_hoisted_139$4,createBaseVNode("button",{type:"button",onClick:_=>n.removeCashBackConfig(c),class:"btn btn-link text-danger"},_hoisted_142$4,8,_hoisted_140$4)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название категории","aria-label":"Название категории",maxlength:"255","onUpdate:modelValue":_=>a.botForm.cashback_config[c].title=_,"aria-describedby":"bot-cashback-config-"+c,required:""},null,8,_hoisted_143$4),[[vModelText,a.botForm.cashback_config[c].title]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=d=>n.addCashBackConfig()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще категорию "),_hoisted_144$4])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_145$4,[createBaseVNode("div",_hoisted_146$4,[_hoisted_147$4,withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[26]||(t[26]=d=>a.selected_warning=d),onChange:t[27]||(t[27]=(...d)=>n.addWarning&&n.addWarning(...d)),id:"warning-rules"},[_hoisted_148$4,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredWarnings,d=>(openBlock(),createElementBlock("option",{value:d},toDisplayString(d.title),9,_hoisted_149$4))),256))],544),[[vModelSelect,a.selected_warning]])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.warnings,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_150$4,[createBaseVNode("p",_hoisted_151$4,toDisplayString(n.getWarning(d.rule_key).title||"Не найдено"),1),createBaseVNode("div",_hoisted_152$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":_=>a.botForm.warnings[c].is_active=_,type:"checkbox",id:"warning-is-active-"+c},null,8,_hoisted_153$4),[[vModelCheckbox,a.botForm.warnings[c].is_active]]),createBaseVNode("label",{class:"form-check-label",for:"warning-is-active-"+c},[a.botForm.warnings[c].is_active?(openBlock(),createElementBlock("span",_hoisted_155$4,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_156$4,"Выкл"))],8,_hoisted_154$4)]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control mb-2",placeholder:"Значение","onUpdate:modelValue":_=>a.botForm.warnings[c].rule_value=_,min:"0","aria-describedby":"bot-level-3"},null,8,_hoisted_157$4),[[vModelText,a.botForm.warnings[c].rule_value]]),createBaseVNode("button",{onClick:_=>n.removeWarning(c),type:"button",class:"btn btn-outline-danger"},_hoisted_160$4,8,_hoisted_158$4),_hoisted_161$4]))),256))]),createBaseVNode("div",_hoisted_162$4,[createBaseVNode("div",_hoisted_163$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[28]||(t[28]=d=>a.need_payments=d),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,a.need_payments]]),_hoisted_164$4])]),a.need_payments?(openBlock(),createElementBlock("div",_hoisted_165$3,[createBaseVNode("div",_hoisted_166$3,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",value:a.botForm.auto_cashback_on_payments,"onUpdate:modelValue":t[29]||(t[29]=d=>a.botForm.auto_cashback_on_payments=d),id:"bot-auto-cashback-on-payments"},null,8,_hoisted_167$3),[[vModelCheckbox,a.botForm.auto_cashback_on_payments]]),_hoisted_168$3]),createBaseVNode("div",_hoisted_169$3,[createBaseVNode("label",_hoisted_170$2,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_172$2]),default:withCtx(()=>[_hoisted_171$2]),_:1}),createTextVNode(" Токен платежной системы ")]),_hoisted_173$2]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"уровень CashBack","onUpdate:modelValue":t[30]||(t[30]=d=>a.botForm.payment_provider_token=d),"aria-describedby":"bot-level-3"},null,512),[[vModelText,a.botForm.payment_provider_token]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_174$2,[createBaseVNode("div",_hoisted_175$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[31]||(t[31]=d=>a.need_shop=d),type:"checkbox",id:"need-shop"},null,512),[[vModelCheckbox,a.need_shop]]),_hoisted_176$2])]),a.need_shop?(openBlock(),createElementBlock("div",_hoisted_177$2,[createBaseVNode("label",_hoisted_178$2,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_180$2]),default:withCtx(()=>[_hoisted_179$2]),_:1}),createTextVNode(" ВК-группа ")]),_hoisted_181$2]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":t[32]||(t[32]=d=>a.botForm.vk_shop_link=d),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,a.botForm.vk_shop_link]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_182$2,[createBaseVNode("label",_hoisted_183$2,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_185$2]),default:withCtx(()=>[_hoisted_184$2]),_:1}),createTextVNode(" ВК-группа ")])]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на внешний сервис","aria-label":"Ссылка на внешний сервис","onUpdate:modelValue":t[33]||(t[33]=d=>a.botForm.callback_link=d),"aria-describedby":"callback_link"},null,512),[[vModelText,a.botForm.callback_link]])]),_hoisted_186$2,createBaseVNode("div",_hoisted_187$2,[createBaseVNode("label",_hoisted_188$2,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_190$1]),default:withCtx(()=>[_hoisted_189$1]),_:1}),createTextVNode(" Информационная ссылка ")]),_hoisted_191$1]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Ссылка ресурс telegraph","aria-label":"Ссылка ресурс telegraph",maxlength:"255","onUpdate:modelValue":t[34]||(t[34]=d=>a.botForm.info_link=d),"aria-describedby":"bot-info-link"},null,512),[[vModelText,a.botForm.info_link]])]),_hoisted_192$1,_hoisted_193$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.social_links,(d,c)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+c},[createBaseVNode("div",_hoisted_194$1,[_hoisted_195$1,createBaseVNode("button",{type:"button",onClick:_=>n.removeItem("social_links",c),class:"btn btn-link text-danger"},_hoisted_198$1,8,_hoisted_196$1)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название ссылки","aria-label":"Название ссылки",maxlength:"255","onUpdate:modelValue":_=>a.botForm.social_links[c].title=_,"aria-describedby":"bot-social-link-"+c,required:""},null,8,_hoisted_199$1),[[vModelText,a.botForm.social_links[c].title]]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":_=>a.botForm.social_links[c].url=_},null,8,_hoisted_200$1),[[vModelText,a.botForm.social_links[c].url]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[35]||(t[35]=d=>n.addSocialLinks()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_201,createBaseVNode("h6",_hoisted_202,[createTextVNode("Аватар для бота "),createVNode(r,null,{content:withCtx(()=>[_hoisted_204]),default:withCtx(()=>[_hoisted_203]),_:1})]),createBaseVNode("div",_hoisted_205,[createBaseVNode("label",_hoisted_206,[_hoisted_207,createBaseVNode("input",{type:"file",id:"bot-photos",multiple:"",accept:"image/*",onChange:t[36]||(t[36]=(...d)=>n.onChangePhotos&&n.onChangePhotos(...d)),style:{display:"none"}},null,32)]),a.botForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.botForm.photos,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_208,[withDirectives(createBaseVNode("img",null,null,512),[[l,n.getPhoto(d).imageUrl]]),createBaseVNode("div",_hoisted_209,[createBaseVNode("a",{onClick:_=>n.removePhoto(c)},_hoisted_212,8,_hoisted_210)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_213,[withDirectives(createBaseVNode("img",null,null,512),[[l,"/images-by-bot-id/"+a.bot.id+"/"+a.botForm.image]]),createBaseVNode("div",_hoisted_214,[createBaseVNode("a",{onClick:t[37]||(t[37]=d=>n.removePhoto())},_hoisted_216)])]))]),createBaseVNode("button",{disabled:!a.botForm.bot_token,type:"submit",class:"btn btn-m btn-full mb-0 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить настройки ",8,_hoisted_217)])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_218,_hoisted_221))],32)],64)}const AdminBotManager=_export_sfc(_sfc_main$29,[["render",_sfc_render$E]]),BotManager$1=Object.freeze(Object.defineProperty({__proto__:null,default:AdminBotManager},Symbol.toStringTag,{value:"Module"})),BotSlugListSimple_vue_vue_type_style_index_0_lang$1="",_hoisted_1$26=createBaseVNode("h6",null,"Добавление нового скрипта в бота",-1),_hoisted_2$24={key:0,class:"list-group list-boxes"},_hoisted_3$1_=["onClick"],_hoisted_4$1U={class:"font-12 slug-span"},_hoisted_5$1T={class:"slug-strong"},_hoisted_6$1R={key:0,class:"color-green1-dark"},_hoisted_7$1N={key:1,class:"fa-solid fa-globe color-green1-dark"},_hoisted_8$1H={key:2,class:"color-blue2-dark"},_hoisted_9$1D={key:3,class:"fa-solid fa-thumbtack color-blue2-dark"},_hoisted_10$1w={key:1,class:"alert alert-danger",role:"alert"},_hoisted_11$1r={class:"mb-3"},__default__$1u={props:["global"],data(){return{load:!1,paginate:null,search:null,slugs:[]}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs?this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",s=o.command||"",i=o.comment||"";return s.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1}):[]}},mounted(){this.loadSlugs()},methods:{nextSlugs(o){this.loadSlugs(o)},selectSlug(o){this.$emit("callback",{id:o.id||null,slug:o.slug,comment:o.comment,command:o.command}),this.$botNotification.notification("Скрипты","Вы выбрали скрипт из списка!")},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.global||!1},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})}}},_sfc_main$28=Object.assign(__default__$1u,{__name:"BotSlugListSimple",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$26,createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mt-1 mb-1","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),placeholder:"Поиск нужного скрипта по описанию"},null,512),[[vModelText,t.search]])]),t.filteredSlugs.length>0?(openBlock(),createElementBlock("div",_hoisted_2$24,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredSlugs,(i,a)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:n=>t.selectSlug(i),class:normalizeClass([{"border-green1-dark":i.is_global,"border-blue2-dark":!i.is_global},"border rounded-s shadow-xs"])},[createBaseVNode("span",_hoisted_4$1U," #"+toDisplayString(i.id)+" "+toDisplayString(i.command||"Нет команды"),1),createBaseVNode("strong",_hoisted_5$1T,toDisplayString(i.comment||"Нет описания"),1),i.is_global?(openBlock(),createElementBlock("u",_hoisted_6$1R,"Глобальный")):createCommentVNode("",!0),i.is_global?(openBlock(),createElementBlock("i",_hoisted_7$1N)):createCommentVNode("",!0),i.is_global?createCommentVNode("",!0):(openBlock(),createElementBlock("u",_hoisted_8$1H,"Локальный")),i.is_global?createCommentVNode("",!0):(openBlock(),createElementBlock("i",_hoisted_9$1D))],10,_hoisted_3$1_))),256))])):(openBlock(),createElementBlock("div",_hoisted_10$1w,' У Вас еще нет добавленных скриптов! Воспользуйтесь разделом "Скрипты" для добавления. ')),createBaseVNode("div",_hoisted_11$1r,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])],64))}}),_hoisted_1$25={key:0},_hoisted_2$23={class:"mb-2"},_hoisted_3$1Z={key:0,class:"list-group list-boxes"},_hoisted_4$1T=["onClick"],_hoisted_5$1S={key:1,class:"alert alert-warning",role:"alert"},__default__$1t={data(){return{loading:!0,dialogs:[],search:null,dialogs_paginate_object:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"])},mounted(){this.loadDialogs()},methods:{selectDialog(o){this.$emit("select-dialog",o),this.$botNotification.notification("Диалоги","Вы выбрали диалог из списка!")},nextDialogs(o){this.loadDialogs(o)},loadDialogs(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialogs=this.getDialogs,this.dialogs_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$27=Object.assign(__default__$1t,{__name:"BotDialogGroupListSimple",setup(o){return(t,s)=>t.dialogs.length>0?(openBlock(),createElementBlock("div",_hoisted_1$25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.dialogs,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_2$23,[createBaseVNode("h6",null," #"+toDisplayString(i.id)+" - "+toDisplayString(i.title||"Не указано ")+" ("+toDisplayString(i.slug||"Не указано")+")",1),i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("div",_hoisted_3$1Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(n,r)=>(openBlock(),createElementBlock("div",{onClick:l=>t.selectDialog(n),class:"border border-green1-dark rounded-s shadow-xs p-3 mb-2"}," #"+toDisplayString(n.id)+" "+toDisplayString(n.pre_text||"-"),9,_hoisted_4$1T))),256))])):createCommentVNode("",!0)]))),256)),t.dialogs_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextDialogs,pagination:t.dialogs_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_5$1S," У выбранного бота нет созданных диалоговых групп "))}}),_hoisted_1$24=createBaseVNode("div",{class:"alert alert-success",role:"alert"},' Проверка правил идет по методу "И" - все правила должны выполняться для перехода на данную страницу, иначе будет вызвана страница из блока "иначе". Действия для "иначе" добавлять не обязательно. ',-1),_hoisted_2$22=createBaseVNode("h6",null,"Блок условий",-1),_hoisted_3$1Y={key:0,class:"py-2"},_hoisted_4$1S={class:"form-label",id:"bot-domain"},_hoisted_5$1R=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_6$1Q=createBaseVNode("div",null,"Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие будет выполнено ",-1),_hoisted_7$1M={class:"list-group list-custom-small list-icon-0 bg-green1-dark pl-3 pr-4"},_hoisted_8$1G=createBaseVNode("i",{class:"fa-solid font-14 fa-scale-balanced"},null,-1),_hoisted_9$1C=createBaseVNode("span",{class:"font-14 color-white"},"Доступные для выбора условия",-1),_hoisted_10$1v=createBaseVNode("i",{class:"fa fa-angle-down"},null,-1),_hoisted_11$1q=[_hoisted_8$1G,_hoisted_9$1C,_hoisted_10$1v],_hoisted_12$1p={key:1},_hoisted_13$1k={key:2,class:"list-group"},_hoisted_14$1f={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_15$1d={class:"form-check"},_hoisted_16$1d={class:"form-check-label",for:"bot-user-is-vip"},_hoisted_17$16={key:0},_hoisted_18$15={key:1},_hoisted_19$12=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_20$11=[_hoisted_19$12],_hoisted_21$$={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_22$$={class:"form-check"},_hoisted_23$W={class:"form-check-label",for:"bot-user-is-admin"},_hoisted_24$U={key:0},_hoisted_25$S={key:1},_hoisted_26$O=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_27$M=[_hoisted_26$O],_hoisted_28$L={key:2,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_29$I={class:"form-check"},_hoisted_30$H={class:"form-check-label",for:"bot-user-is-deliveryman"},_hoisted_31$H={key:0},_hoisted_32$G={key:1},_hoisted_33$G=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_34$G=[_hoisted_33$G],_hoisted_35$G={key:3,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_36$F={class:"form-check"},_hoisted_37$F={class:"form-check-label",for:"bot-user-is-work"},_hoisted_38$B={key:0},_hoisted_39$C={key:1},_hoisted_40$z=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_41$z=[_hoisted_40$z],_hoisted_42$z={key:4,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_43$z={class:"form-check"},_hoisted_44$z={class:"form-check-label",for:"bot-user-in-location"},_hoisted_45$y={key:0},_hoisted_46$y={key:1},_hoisted_47$x=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_48$w=[_hoisted_47$x],_hoisted_49$v={key:5,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_50$s=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Возраст от ",-1),_hoisted_51$s=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_52$s=[_hoisted_51$s],_hoisted_53$q={key:6,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_54$q=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Только для города ",-1),_hoisted_55$p=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_56$p=[_hoisted_55$p],_hoisted_57$p={key:7,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_58$o={class:"form-check"},_hoisted_59$n={class:"form-check-label",for:"bot-user-sex"},_hoisted_60$k={key:0},_hoisted_61$j={key:1},_hoisted_62$h=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_63$h=[_hoisted_62$h],_hoisted_64$h={key:8,class:"list-group-item"},_hoisted_65$h={class:"mb-3"},_hoisted_66$h={class:"d-flex justify-content-between align-items-center"},_hoisted_67$h={class:"form-label d-flex w-100 align-items-center",id:"bot-order-channel"},_hoisted_68$g=["onClick"],_hoisted_69$g=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_70$g=[_hoisted_69$g],_hoisted_71$g=["onUpdate:modelValue"],_hoisted_72$e={key:3,class:"mt-5"},_hoisted_73$e={key:4,class:"d-flex justify-content-between"},_hoisted_74$e={key:6,class:"py-2"},_hoisted_75$e={class:"form-label",id:"bot-domain"},_hoisted_76$d=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_77$d=createBaseVNode("div",null,'Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие не будет выполнено и будет вызван блок "иначе" ',-1),__default__$1s={props:["bot","rulesForm"],mounted(){window.addEventListener("select-rule-event",o=>{this.addRulesFromEvent(o.detail.rule)})},methods:{hasRuleKey(o){return this.rulesForm.rules_if==null?!1:Object.keys(this.rulesForm.rules_if.bot_user).find(t=>t===o)!=null},modifyChannel(o){this.rulesForm.rules_if.channels[o.param]=o.text},removeChannelFromRule(o){this.rulesForm.rules_if.channels.splice(o,1),this.checkRules()},checkRules(){const o=Object.getOwnPropertyNames(this.rulesForm.rules_if.bot_user),t=this.rulesForm.rules_if.channels;o.length===0&&t.length===0&&(this.rulesForm.rules_if=null)},removeRule(o){delete this.rulesForm.rules_if.bot_user[o],this.checkRules()},addRulesFromEvent(o){this.rulesForm.rules_if||(this.rulesForm.rules_if={bot_user:{},channels:[]}),o.rules_block==="bot_user"&&(this.rulesForm.rules_if.bot_user={...this.rulesForm.rules_if.bot_user,...o.rule}),o.rules_block==="channels"&&this.rulesForm.rules_if.channels.push(o.rule.channel)},attachPageToRule(o){o.id!=this.rulesForm.id?this.rulesForm.rules_else_page_id=o.id:this.$botNotification.warning("Правила страниц","Вы не можете связать данную страницу с собой")},openRulesModal(){this.$botPages.rules()}}},_sfc_main$26=Object.assign(__default__$1s,{__name:"PageRules",setup(o){return(t,s)=>{const i=resolveComponent("Popper");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$24,_hoisted_2$22,o.rulesForm.rules_if?(openBlock(),createElementBlock("div",_hoisted_3$1Y,[createBaseVNode("label",_hoisted_4$1S,[createVNode(i,null,{content:withCtx(()=>[_hoisted_6$1Q]),default:withCtx(()=>[_hoisted_5$1R]),_:1}),createTextVNode(" Сообщение при успешном прохождении условий (не обязательно) ")]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":s[0]||(s[0]=a=>o.rulesForm.rules_if_message=a),maxlength:"255","aria-describedby":"rules-else-message"},`
            `,512),[[vModelText,o.rulesForm.rules_if_message]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$1M,[createBaseVNode("a",{onClick:s[1]||(s[1]=(...a)=>t.openRulesModal&&t.openRulesModal(...a)),href:"javascript:void(0)"},_hoisted_11$1q)]),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_12$1p,"Выбранные условия")):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("ul",_hoisted_13$1k,[t.hasRuleKey("is_vip")?(openBlock(),createElementBlock("li",_hoisted_14$1f,[createBaseVNode("div",_hoisted_15$1d,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=a=>o.rulesForm.rules_if.bot_user.is_vip=a),type:"checkbox",id:"bot-user-is-vip"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_vip]]),createBaseVNode("label",_hoisted_16$1d,[o.rulesForm.rules_if.bot_user.is_vip?(openBlock(),createElementBlock("span",_hoisted_17$16,"Является VIP-пользователем")):(openBlock(),createElementBlock("span",_hoisted_18$15,"Не является VIP-пользователем"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[3]||(s[3]=a=>t.removeRule("is_vip"))},_hoisted_20$11)])):createCommentVNode("",!0),t.hasRuleKey("is_admin")?(openBlock(),createElementBlock("li",_hoisted_21$$,[createBaseVNode("div",_hoisted_22$$,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=a=>o.rulesForm.rules_if.bot_user.is_admin=a),type:"checkbox",id:"bot-user-is-admin"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_admin]]),createBaseVNode("label",_hoisted_23$W,[o.rulesForm.rules_if.bot_user.is_admin?(openBlock(),createElementBlock("span",_hoisted_24$U,"Является администратором")):(openBlock(),createElementBlock("span",_hoisted_25$S,"Не является администратором"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[5]||(s[5]=a=>t.removeRule("is_admin"))},_hoisted_27$M)])):createCommentVNode("",!0),t.hasRuleKey("is_deliveryman")?(openBlock(),createElementBlock("li",_hoisted_28$L,[createBaseVNode("div",_hoisted_29$I,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[6]||(s[6]=a=>o.rulesForm.rules_if.bot_user.is_deliveryman=a),type:"checkbox",id:"bot-user-is-deliveryman"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_deliveryman]]),createBaseVNode("label",_hoisted_30$H,[o.rulesForm.rules_if.bot_user.is_deliveryman?(openBlock(),createElementBlock("span",_hoisted_31$H,"Является доставщиком")):(openBlock(),createElementBlock("span",_hoisted_32$G,"Не является доставщиком"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[7]||(s[7]=a=>t.removeRule("is_deliveryman"))},_hoisted_34$G)])):createCommentVNode("",!0),t.hasRuleKey("is_work")?(openBlock(),createElementBlock("li",_hoisted_35$G,[createBaseVNode("div",_hoisted_36$F,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[8]||(s[8]=a=>o.rulesForm.rules_if.bot_user.is_work=a),type:"checkbox",id:"bot-user-is-work"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_work]]),createBaseVNode("label",_hoisted_37$F,[o.rulesForm.rules_if.bot_user.is_work?(openBlock(),createElementBlock("span",_hoisted_38$B,"За работой")):(openBlock(),createElementBlock("span",_hoisted_39$C,"Не работает"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[9]||(s[9]=a=>t.removeRule("is_work"))},_hoisted_41$z)])):createCommentVNode("",!0),t.hasRuleKey("user_in_location")?(openBlock(),createElementBlock("li",_hoisted_42$z,[createBaseVNode("div",_hoisted_43$z,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[10]||(s[10]=a=>o.rulesForm.rules_if.bot_user.user_in_location=a),type:"checkbox",id:"bot-user-in-location"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.user_in_location]]),createBaseVNode("label",_hoisted_44$z,[o.rulesForm.rules_if.bot_user.user_in_location?(openBlock(),createElementBlock("span",_hoisted_45$y,"Находится в заведении")):(openBlock(),createElementBlock("span",_hoisted_46$y,"Не находится в заведении"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[11]||(s[11]=a=>t.removeRule("user_in_location"))},_hoisted_48$w)])):createCommentVNode("",!0),t.hasRuleKey("age")?(openBlock(),createElementBlock("li",_hoisted_49$v,[createBaseVNode("div",null,[_hoisted_50$s,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Возраст от","aria-label":"Возраст от","onUpdate:modelValue":s[12]||(s[12]=a=>o.rulesForm.rules_if.bot_user.age=a),maxlength:"255","aria-describedby":"bot-user-age"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.age]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[13]||(s[13]=a=>t.removeRule("age"))},_hoisted_52$s)])):createCommentVNode("",!0),t.hasRuleKey("city")?(openBlock(),createElementBlock("li",_hoisted_53$q,[createBaseVNode("div",null,[_hoisted_54$q,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Город","aria-label":"Город","onUpdate:modelValue":s[14]||(s[14]=a=>o.rulesForm.rules_if.bot_user.city=a),maxlength:"255","aria-describedby":"bot-user-city"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.city]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[15]||(s[15]=a=>t.removeRule("city"))},_hoisted_56$p)])):createCommentVNode("",!0),t.hasRuleKey("sex")?(openBlock(),createElementBlock("li",_hoisted_57$p,[createBaseVNode("div",_hoisted_58$o,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[16]||(s[16]=a=>o.rulesForm.rules_if.bot_user.sex=a),type:"checkbox",id:"bot-user-sex"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.sex]]),createBaseVNode("label",_hoisted_59$n,[o.rulesForm.rules_if.bot_user.sex?(openBlock(),createElementBlock("span",_hoisted_60$k,"Только для мужчин")):(openBlock(),createElementBlock("span",_hoisted_61$j,"Только для женщин"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[17]||(s[17]=a=>t.removeRule("sex"))},_hoisted_63$h)])):createCommentVNode("",!0),o.rulesForm.rules_if.channels.length>0?(openBlock(),createElementBlock("li",_hoisted_64$h,[createTextVNode("Проверка нахождения в канале \\ группе: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.rulesForm.rules_if.channels,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_65$h,[createBaseVNode("div",_hoisted_66$h,[createBaseVNode("label",_hoisted_67$h,[createVNode(TelegramChannelHelper,{token:o.bot.bot_token,param:`${n}`,onCallback:t.modifyChannel},null,8,["token","param","onCallback"]),createTextVNode(" Канал для проверки ")]),createBaseVNode("button",{type:"button",class:"btn btn-link text-danger",onClick:r=>t.removeChannelFromRule(n)},_hoisted_70$g,8,_hoisted_68$g)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":r=>o.rulesForm.rules_if.channels[n]=r,maxlength:"255","aria-describedby":"bot-order-channel"},null,8,_hoisted_71$g),[[vModelText,o.rulesForm.rules_if.channels[n]]])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_72$e,"Иначе")):createCommentVNode("",!0),o.rulesForm.rules_else_page_id?(openBlock(),createElementBlock("p",_hoisted_73$e,[createTextVNode("Вы выбрали страницу #"+toDisplayString(o.rulesForm.rules_else_page_id)+' в качестве условия "иначе" ',1),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[18]||(s[18]=a=>o.rulesForm.rules_else_page_id=null)},"Очистить")])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createBlock(_sfc_main$2w,{key:5,current:o.rulesForm.id,onCallback:t.attachPageToRule,editor:!1},null,8,["current","onCallback"])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("div",_hoisted_74$e,[createBaseVNode("label",_hoisted_75$e,[createVNode(i,null,{content:withCtx(()=>[_hoisted_77$d]),default:withCtx(()=>[_hoisted_76$d]),_:1}),createTextVNode(" Сообщение в случае невыполнения условий (не обязательно) ")]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":s[19]||(s[19]=a=>o.rulesForm.rules_else_message=a),maxlength:"255","aria-describedby":"rules-else-message"},`
            `,512),[[vModelText,o.rulesForm.rules_else_message]])])):createCommentVNode("",!0)],64)}}}),_hoisted_1$23={class:"card card-style"},_hoisted_2$21={class:"content mb-0"},_hoisted_3$1X=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_4$1R={key:1,class:"w-100 d-flex justify-content-between py-4"},_hoisted_5$1Q={key:0,class:"ml-1"},_hoisted_6$1P={key:1,class:"ml-1"},_hoisted_7$1L={class:"custom-control ios-switch mr-5"},_hoisted_8$1F=createBaseVNode("label",{class:"custom-control-label",for:"need_show_qr_and_link"},null,-1),_hoisted_9$1B={key:2,class:"mb-2"},_hoisted_10$1u={class:"d-flex justify-content-center"},_hoisted_11$1p={style:{width:"300px",height:"300px"}},_hoisted_12$1o={class:"mb-2"},_hoisted_13$1j={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_14$1e=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_15$1c=createBaseVNode("div",null,[createTextVNode(" Команда должна начинаться с символва . и *"),createBaseVNode("br"),createTextVNode(" Например: .*Меню"),createBaseVNode("br")],-1),_hoisted_16$1c=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_17$15=createBaseVNode("div",null,"Нужно ",-1),_hoisted_18$14={class:"mb-2"},_hoisted_19$11={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_20$10=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_21$_=createBaseVNode("div",null,"Напишите для себя пояснение для чего нужна данная страница. Это поможет другим менеджерам лучше понять Вас. ",-1),_hoisted_22$_=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_23$V=createBaseVNode("div",null,"Нужно ",-1),_hoisted_24$T={class:"mb-2"},_hoisted_25$R={class:"form-check"},_hoisted_26$N=createBaseVNode("label",{class:"form-check-label",for:"is_external"}," Внешнее управление страницей ",-1),_hoisted_27$L={key:3},_hoisted_28$K={class:"mb-2"},_hoisted_29$H={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_30$G=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_31$G=createBaseVNode("div",null,[createTextVNode(" Текстовый редактор. Данный текст будет в таком"),createBaseVNode("br"),createTextVNode(" же виде отображен в посте в телеграм. ")],-1),_hoisted_32$F=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_33$F=createBaseVNode("div",null,"Нужно ",-1),_hoisted_34$F={class:"form-floating"},_hoisted_35$F={for:"floatingTextarea2"},_hoisted_36$E={key:0},_hoisted_37$E={class:"mb-2"},_hoisted_38$A={class:"form-check"},_hoisted_39$B=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_40$y={key:0,class:"mb-2"},_hoisted_41$y=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_42$y={class:"d-flex flex-wrap justify-content-center"},_hoisted_43$y={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_44$y={class:"mb-2 mr-2 img-preview"},_hoisted_45$x={class:"remove"},_hoisted_46$x=["onClick"],_hoisted_47$w={key:0},_hoisted_48$v={key:1,class:"d-flex flex-wrap justify-content-center"},_hoisted_49$u={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_50$r={class:"remove"},_hoisted_51$r=["onClick"],_hoisted_52$r={class:"mb-2"},_hoisted_53$p={class:"form-check"},_hoisted_54$p=createBaseVNode("label",{class:"form-check-label",for:"need-page-video"}," Видео к странице ",-1),_hoisted_55$o={key:1,class:"mb-2"},_hoisted_56$o=createBaseVNode("p",{class:"alert alert-danger mb-2 rounded-s"}," Внимание! не больше 10 видео на 1й странице! ",-1),_hoisted_57$o={class:"mb-2"},_hoisted_58$n={class:"form-check"},_hoisted_59$m=createBaseVNode("label",{class:"form-check-label",for:"need-page-sticker"}," Стикер к странице ",-1),_hoisted_60$j={key:2,class:"mb-2"},_hoisted_61$i={class:"mb-2"},_hoisted_62$g={class:"form-check"},_hoisted_63$g=createBaseVNode("label",{class:"form-check-label",for:"need-reply-menu"}," Нижнее меню страницы ",-1),_hoisted_64$g={class:"mb-2"},_hoisted_65$g={class:"form-check"},_hoisted_66$g=createBaseVNode("label",{class:"form-check-label",for:"need-page-audio"}," Звук к странице ",-1),_hoisted_67$g={key:3,class:"mb-2"},_hoisted_68$f=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 аудио (audio) на 1й странице! Или 1 голосовое (voice) ",-1),_hoisted_69$f={class:"mb-2"},_hoisted_70$f={class:"form-check"},_hoisted_71$f=createBaseVNode("label",{class:"form-check-label",for:"need-page-document"}," Документ \\ презентацию к странице \\ картинку в оригинале ",-1),_hoisted_72$d={key:4,class:"mb-2"},_hoisted_73$d=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 документов на 1й странице! ",-1),_hoisted_74$d={key:5,class:"mb-2"},_hoisted_75$d=createBaseVNode("h6",null,"Конструктор нижнего меню",-1),_hoisted_76$c={class:"mb-2"},_hoisted_77$c={class:"form-label d-flex justify-content-between mt-2",id:"bot-domain"},_hoisted_78$b=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_79$a=createBaseVNode("div",null," Заголовок для отображения в нижнем меню ",-1),_hoisted_80$a={key:0},_hoisted_81$a={key:1},_hoisted_82$a={class:"mb-2"},_hoisted_83$a={class:"form-check"},_hoisted_84$8=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_85$8={key:6,class:"mb-2"},_hoisted_86$8=createBaseVNode("h6",null,"Конструктор меню в сообщении",-1),_hoisted_87$8={key:0},_hoisted_88$8={key:1},_hoisted_89$8={class:"mb-2"},_hoisted_90$8={class:"form-check"},_hoisted_91$8=createBaseVNode("label",{class:"form-check-label",for:"need-page-attach"}," Связать с другой страницей ",-1),_hoisted_92$7={key:7,class:"mb-2"},_hoisted_93$7={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_94$7=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_95$6=[_hoisted_94$7],_hoisted_96$6={class:"mb-2"},_hoisted_97$6={class:"form-check"},_hoisted_98$6=createBaseVNode("label",{class:"form-check-label",for:"need-slug-attach"}," Привязать скрипт ",-1),_hoisted_99$6={key:8,class:"mb-2"},_hoisted_100$6={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_101$6=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_102$6=[_hoisted_101$6],_hoisted_103$6={class:"mb-2"},_hoisted_104$6={class:"form-check"},_hoisted_105$6=createBaseVNode("label",{class:"form-check-label",for:"need-dialog-attach"}," Привязать начало диалога ",-1),_hoisted_106$6={key:9,class:"mb-2"},_hoisted_107$6={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_108$6=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_109$6=[_hoisted_108$6],_hoisted_110$6={class:"mb-2"},_hoisted_111$6={class:"form-check"},_hoisted_112$6=createBaseVNode("label",{class:"form-check-label",for:"need-rules"}," Нужны правила загрузки страницы ",-1),_hoisted_113$6={key:4,class:"mb-2"},_hoisted_114$6=createBaseVNode("button",{class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-3 w-100"},"Сохранить страницу ",-1),__default__$1r={props:["page"],data(){return{need_show_qr_and_link:!1,need_clean:!1,load:!1,photos:[],showReplyTemplateSelector:!1,showInlineTemplateSelector:!1,need_page_sticker:!1,need_page_audios:!1,need_page_documents:!1,need_page_video:!1,need_page_images:!1,need_rules:!1,need_inline_menu:!1,need_reply_menu:!1,need_attach_page:!1,need_attach_dialog:!1,need_attach_slug:!1,bot:null,pageForm:{id:null,content:"",command:null,slug:null,comment:null,sticker:null,images:[],videos:[],audios:[],documents:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,next_page_id:null,next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if:null,rules_else_page_id:null,rules_if_message:null,rules_else_message:null}}},watch:{need_rules:function(o,t){this.need_rules||(this.pageForm.rules_if=null,this.pageForm.rules_else_page_id=null,this.pageForm.rules_if_message=null,this.pageForm.rules_else_message=null)},need_page_audios:function(o,t){this.need_page_audios||(this.pageForm.audios=[])},need_page_documents:function(o,t){this.need_page_documents||(this.pageForm.documents=[])},need_page_sticker:function(o,t){this.need_page_sticker||(this.pageForm.sticker=null)},need_page_images:function(o,t){this.need_page_images||(this.photos=[],this.pageForm.images=[])},need_page_video:function(o,t){this.need_page_video||(this.pageForm.videos=[])},need_inline_menu:function(o,t){this.need_inline_menu||(this.pageForm.inline_keyboard=null,this.pageForm.inline_keyboard_id=null)},need_reply_menu:function(o,t){this.need_reply_menu||(this.pageForm.reply_keyboard=null,this.pageForm.reply_keyboard_id=null)},need_attach_page:function(o,t){this.need_attach_page||(this.pageForm.next_page_id=null)},need_attach_dialog:function(o,t){this.need_attach_dialog||(this.pageForm.next_bot_dialog_command_id=null)},need_attach_slug:function(o,t){this.need_attach_slug||(this.pageForm.next_bot_menu_slug_id=null)},pageForm:{handler:function(o){this.pageForm.reply_keyboard!=null&&(this.need_reply_menu=!0),this.pageForm.inline_keyboard!=null&&(this.need_inline_menu=!0),this.pageForm.images.length>0&&(this.need_page_images=!0),this.pageForm.next_bot_dialog_command_id!=null&&(this.need_attach_dialog=!0),this.pageForm.next_bot_menu_slug_id!=null&&(this.need_attach_slug=!0),this.pageForm.next_page_id!=null&&(this.need_attach_page=!0),this.pageForm.rules_if!=null&&(this.need_rules=!0),this.pageForm.videos.length>0&&(this.need_page_video=!0),this.pageForm.audios.length>0&&(this.need_page_audios=!0),this.pageForm.documents.length>0&&(this.need_page_documents=!0),this.pageForm.sticker&&(this.need_page_sticker=!0),this.need_clean=!0},deep:!0}},computed:{currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},pageLink(){if(!this.pageForm.id)return"Ссылка недоступна";let o="";for(let t=0;t<10-(""+this.pageForm.id).length;t++)o+="0";return o+=this.pageForm.id,"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("004"+o)}},mounted(){if(this.loadBot(),this.page){let o=this.page;this.photos=[],this.pageForm={id:o.id,slug_id:o.slug?o.slug.id:null,content:o.content,command:o.slug?o.slug.command:null,slug:o.slug?o.slug.slug:null,comment:o.slug?o.slug.comment:null,images:o.images||[],reply_keyboard_title:o.reply_keyboard_title||null,reply_keyboard_id:o.reply_keyboard_id||null,inline_keyboard_id:o.inline_keyboard_id||null,reply_keyboard:o.replyKeyboard||null,inline_keyboard:o.inlineKeyboard||null,next_page_id:o.next_page_id||null,next_bot_dialog_command_id:o.next_bot_dialog_command_id||null,next_bot_menu_slug_id:o.next_bot_menu_slug_id||null,is_external:o.is_external||!1,videos:o.videos||[],audios:o.audios||[],sticker:o.sticker||null,documents:o.documents||[],rules_if:o.rules_if||null,rules_else_page_id:o.rules_else_page_id||null,rules_if_message:o.rules_if_message||null,rules_else_message:o.rules_else_message||null}}else this.clearForm()},methods:{copyToClipBoard(o){navigator.clipboard.writeText(o).then(()=>{console.log("copy",o),this.$botNotification.notification("Конструктор страниц","Ссылка скопирована в буфер")}).catch(t=>{this.$botNotification.warning("Копирование","Ошибка копирования")})},loadBot(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},associateDialog(o){this.pageForm.next_bot_dialog_command_id=o.id},associateSlug(o){this.pageForm.next_bot_menu_slug_id=o.id},attachPage(o){o.id!=this.pageForm.id?this.pageForm.next_page_id=o.id:this.$botNotification.warning("Конструктор страниц","Вы не можете связать данную страницу с собой")},injectContent(o){this.pageForm.content?this.pageForm.content+=o.text:this.pageForm.content=o.text},clearForm(){this.photos=[],this.pageForm={id:null,content:null,command:null,slug:null,comment:null,sticker:null,images:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,reply_keyboard_id:null,inline_keyboard_id:null,next_page_id:null,videos:[],audios:[],documents:[],next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if_message:null,rules_else_message:null},this.photos=[],this.showReplyTemplateSelector=!1,this.showInlineTemplateSelector=!1,this.need_page_sticker=!1,this.need_page_video=!1,this.need_page_images=!1,this.need_inline_menu=!1,this.need_reply_menu=!1,this.need_attach_page=!1,this.need_attach_dialog=!1,this.need_attach_slug=!1,this.need_rules=!1,this.need_page_audios=!1,this.need_page_documents=!1,this.$nextTick(()=>{this.need_clean=!1})},submitPage(){let o=new FormData;if(Object.keys(this.pageForm).forEach(t=>{const s=this.pageForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch(this.pageForm.id==null?"createPage":"updatePage",{pageForm:o}).then(t=>{this.load=!0,this.$nextTick(()=>{this.load=!1,this.clearForm()}),this.$emit("callback",t.data),this.$botNotification.success("Конструктор страниц",this.pageForm.id==null?"Страница успешно создана!":"Страница успешно обновлена!")}).catch(t=>{})},saveInlineKeyboard(o){this.pageForm.inline_keyboard=o},selectReplyKeyboard(o){this.pageForm.reply_keyboard=o,this.showReplyTemplateSelector=!1},selectInlineKeyboard(o){this.pageForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},saveReplyKeyboard(o){this.pageForm.reply_keyboard=o},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.pageForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},onChange(o){this.pageForm.content=o},selectVideo(o){this.pageForm.videos||(this.pageForm.videos=[]);let t=this.pageForm.videos.indexOf(o.file_id);t!==-1?this.pageForm.videos.splice(t,1):this.pageForm.videos.push(o.file_id)},selectAudio(o){this.pageForm.audios||(this.pageForm.audios=[]);let t=this.pageForm.audios.indexOf(o.file_id);if(o.type==="voice"){if(t!==-1){this.pageForm.audios.splice(t,1);return}this.pageForm.audios=[o.file_id];return}t!==-1?this.pageForm.audios.splice(t,1):this.pageForm.audios.push(o.file_id)},selectSticker(o){this.pageForm.sticker=o.file_id},selectDocument(o){this.pageForm.documents||(this.pageForm.documents=[]);let t=this.pageForm.documents.indexOf(o.file_id);t!==-1?this.pageForm.documents.splice(t,1):this.pageForm.documents.push(o.file_id)}}},_sfc_main$25=Object.assign(__default__$1r,{__name:"Page",setup(o){return(t,s)=>{const i=resolveComponent("Popper"),a=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$23,[createBaseVNode("div",_hoisted_2$21,[t.bot?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[25]||(s[25]=withModifiers((...n)=>t.submitPage&&t.submitPage(...n),["prevent"]))},[t.pageForm.id||t.need_clean?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"w-100 text-center d-block",onClick:s[0]||(s[0]=(...n)=>t.clearForm&&t.clearForm(...n))},[_hoisted_3$1X,createTextVNode(" Очистить форму")])):createCommentVNode("",!0),t.pageForm.id?(openBlock(),createElementBlock("div",_hoisted_4$1R,[t.need_show_qr_and_link?(openBlock(),createElementBlock("span",_hoisted_5$1Q,"Отобразить QR-код и ссылку на страницу")):(openBlock(),createElementBlock("span",_hoisted_6$1P,"Не отображать QR-код и ссылку на страницу")),createBaseVNode("div",_hoisted_7$1L,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=n=>t.need_show_qr_and_link=n),class:"ios-input",id:"need_show_qr_and_link"},null,512),[[vModelCheckbox,t.need_show_qr_and_link]]),_hoisted_8$1F])])):createCommentVNode("",!0),t.pageForm.id&&t.need_show_qr_and_link?(openBlock(),createElementBlock("div",_hoisted_9$1B,[createBaseVNode("p",null,[createTextVNode("Ссылка на текущую страницу: "),createBaseVNode("span",{class:"font-weight-bold",onClick:s[2]||(s[2]=n=>t.copyToClipBoard(t.pageLink))},toDisplayString(t.pageLink),1)]),createBaseVNode("div",_hoisted_10$1u,[withDirectives(createBaseVNode("img",_hoisted_11$1p,null,512),[[a,t.qr]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$1o,[createBaseVNode("label",_hoisted_13$1j,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_15$1c]),default:withCtx(()=>[_hoisted_14$1e]),_:1}),createTextVNode(" Команда ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_17$15]),default:withCtx(()=>[_hoisted_16$1c]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":s[3]||(s[3]=n=>t.pageForm.command=n),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.pageForm.command]])]),createBaseVNode("div",_hoisted_18$14,[createBaseVNode("label",_hoisted_19$11,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_21$_]),default:withCtx(()=>[_hoisted_20$10]),_:1}),createTextVNode(" Описание страницы ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_23$V]),default:withCtx(()=>[_hoisted_22$_]),_:1})]),withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Описание страницы","aria-label":"Описание страницы","onUpdate:modelValue":s[4]||(s[4]=n=>t.pageForm.comment=n),maxlength:"255","aria-describedby":"bot-domain",required:""},`
            `,512),[[vModelText,t.pageForm.comment]])]),createBaseVNode("div",_hoisted_24$T,[createBaseVNode("div",_hoisted_25$R,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[5]||(s[5]=n=>t.pageForm.is_external=n),type:"checkbox",id:"is_external"},null,512),[[vModelCheckbox,t.pageForm.is_external]]),_hoisted_26$N])]),t.pageForm.is_external?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_27$L,[createBaseVNode("div",_hoisted_28$K,[createBaseVNode("label",_hoisted_29$H,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_31$G]),default:withCtx(()=>[_hoisted_30$G]),_:1}),createTextVNode(" Контент ")]),createVNode(i,null,{content:withCtx(()=>[_hoisted_33$F]),default:withCtx(()=>[_hoisted_32$F]),_:1})]),createBaseVNode("div",_hoisted_34$F,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[6]||(s[6]=n=>t.pageForm.content=n),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"}},null,512),[[vModelText,t.pageForm.content]]),createBaseVNode("label",_hoisted_35$F,[createTextVNode("Содержимое страницы "),t.pageForm.content?(openBlock(),createElementBlock("span",_hoisted_36$E,toDisplayString(t.pageForm.content.length)+"/4096 ",1)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_37$E,[createBaseVNode("div",_hoisted_38$A,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[7]||(s[7]=n=>t.need_page_images=n),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_39$B])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_40$y,[_hoisted_41$y,createBaseVNode("div",_hoisted_42$y,[createBaseVNode("label",_hoisted_43$y,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:s[8]||(s[8]=(...n)=>t.onChangePhotos&&t.onChangePhotos(...n)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_44$y,[withDirectives(createBaseVNode("img",null,null,512),[[a,t.getPhoto(n).imageUrl]]),createBaseVNode("div",_hoisted_45$x,[createBaseVNode("a",{href:"javascript:void(0)",onClick:l=>t.removePhoto(r)},"Удалить",8,_hoisted_46$x)])]))),256)):createCommentVNode("",!0)]),t.pageForm.images.length>0?(openBlock(),createElementBlock("h6",_hoisted_47$w,"Ранее загруженные фотографии")):createCommentVNode("",!0),t.pageForm.images.length>0?(openBlock(),createElementBlock("div",_hoisted_48$v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pageForm.images,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_49$u,[withDirectives(createBaseVNode("img",null,null,512),[[a,"/images-by-bot-id/"+t.bot.id+"/"+n]]),createBaseVNode("div",_hoisted_50$r,[createBaseVNode("a",{href:"javascript:void(0)",onClick:l=>t.removeImage(r)},"Удалить",8,_hoisted_51$r)])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_52$r,[createBaseVNode("div",_hoisted_53$p,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[9]||(s[9]=n=>t.need_page_video=n),type:"checkbox",id:"need-page-video"},null,512),[[vModelCheckbox,t.need_page_video]]),_hoisted_54$p])]),t.need_page_video?(openBlock(),createElementBlock("div",_hoisted_55$o,[_hoisted_56$o,createVNode(_sfc_main$2t,{"need-video":!0,"need-video-note":!0,selected:t.pageForm.videos,onSelect:t.selectVideo},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_57$o,[createBaseVNode("div",_hoisted_58$n,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[10]||(s[10]=n=>t.need_page_sticker=n),type:"checkbox",id:"need-page-sticker"},null,512),[[vModelCheckbox,t.need_page_sticker]]),_hoisted_59$m])]),t.need_page_sticker?(openBlock(),createElementBlock("div",_hoisted_60$j,[createVNode(_sfc_main$2t,{"need-sticker":!0,selected:[t.pageForm.sticker],onSelect:t.selectSticker},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_61$i,[createBaseVNode("div",_hoisted_62$g,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[11]||(s[11]=n=>t.need_reply_menu=n),type:"checkbox",id:"need-reply-menu"},null,512),[[vModelCheckbox,t.need_reply_menu]]),_hoisted_63$g])]),createBaseVNode("div",_hoisted_64$g,[createBaseVNode("div",_hoisted_65$g,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[12]||(s[12]=n=>t.need_page_audios=n),type:"checkbox",id:"need-page-audio"},null,512),[[vModelCheckbox,t.need_page_audios]]),_hoisted_66$g])]),t.need_page_audios?(openBlock(),createElementBlock("div",_hoisted_67$g,[_hoisted_68$f,createVNode(_sfc_main$2t,{"need-audio":!0,selected:t.pageForm.audios,onSelect:t.selectAudio},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_69$f,[createBaseVNode("div",_hoisted_70$f,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[13]||(s[13]=n=>t.need_page_documents=n),type:"checkbox",id:"need-page-document"},null,512),[[vModelCheckbox,t.need_page_documents]]),_hoisted_71$f])]),t.need_page_documents?(openBlock(),createElementBlock("div",_hoisted_72$d,[_hoisted_73$d,createVNode(_sfc_main$2t,{"need-document":!0,selected:t.pageForm.documents,onSelect:t.selectDocument},null,8,["selected","onSelect"])])):createCommentVNode("",!0),t.need_reply_menu?(openBlock(),createElementBlock("div",_hoisted_74$d,[_hoisted_75$d,createBaseVNode("div",_hoisted_76$c,[createBaseVNode("label",_hoisted_77$c,[createBaseVNode("div",null,[createVNode(i,null,{content:withCtx(()=>[_hoisted_79$a]),default:withCtx(()=>[_hoisted_78$b]),_:1}),createTextVNode(" Команда ")])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Заголовок нижнего меню","aria-label":"Заголовок нижнего меню","onUpdate:modelValue":s[14]||(s[14]=n=>t.pageForm.reply_keyboard_title=n),maxlength:"255","aria-describedby":"bot-domain"},null,512),[[vModelText,t.pageForm.reply_keyboard_title]])]),createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showReplyTemplateSelector,"btn-primary":t.showReplyTemplateSelector}]),type:"button",onClick:s[15]||(s[15]=n=>t.showReplyTemplateSelector=!t.showReplyTemplateSelector)},[t.showReplyTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_81$a," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_80$a," Открыть шаблоны меню"))],2),t.showReplyTemplateSelector?(openBlock(),createBlock(_sfc_main$2o,{key:0,class:"mb-2",type:"reply",onSelect:t.selectReplyKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"reply",onSave:t.saveReplyKeyboard,"edited-keyboard":t.pageForm.reply_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_82$a,[createBaseVNode("div",_hoisted_83$a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[16]||(s[16]=n=>t.need_inline_menu=n),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_84$8])]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_85$8,[_hoisted_86$8,createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:s[17]||(s[17]=n=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_88$8," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_87$8," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$2o,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.pageForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_89$8,[createBaseVNode("div",_hoisted_90$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=n=>t.need_attach_page=n),type:"checkbox",id:"need-page-attach"},null,512),[[vModelCheckbox,t.need_attach_page]]),_hoisted_91$8])]),t.need_attach_page?(openBlock(),createElementBlock("div",_hoisted_92$7,[t.pageForm.next_page_id?(openBlock(),createElementBlock("p",_hoisted_93$7,[createTextVNode("Связано со страницей #"+toDisplayString(t.pageForm.next_page_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:s[19]||(s[19]=n=>t.pageForm.next_page_id=null)},_hoisted_95$6)])):createCommentVNode("",!0),createVNode(_sfc_main$2w,{current:t.pageForm.id,onCallback:t.attachPage,editor:!1},null,8,["current","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_96$6,[createBaseVNode("div",_hoisted_97$6,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[20]||(s[20]=n=>t.need_attach_slug=n),type:"checkbox",id:"need-slug-attach"},null,512),[[vModelCheckbox,t.need_attach_slug]]),_hoisted_98$6])]),t.need_attach_slug?(openBlock(),createElementBlock("div",_hoisted_99$6,[t.pageForm.next_bot_menu_slug_id?(openBlock(),createElementBlock("p",_hoisted_100$6,[createTextVNode("Связано со скриптом #"+toDisplayString(t.pageForm.next_bot_menu_slug_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:s[21]||(s[21]=n=>t.pageForm.next_bot_menu_slug_id=null)},_hoisted_102$6)])):createCommentVNode("",!0),createVNode(_sfc_main$28,{global:!0,onCallback:t.associateSlug},null,8,["onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_103$6,[createBaseVNode("div",_hoisted_104$6,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[22]||(s[22]=n=>t.need_attach_dialog=n),type:"checkbox",id:"need-dialog-attach"},null,512),[[vModelCheckbox,t.need_attach_dialog]]),_hoisted_105$6])]),t.need_attach_dialog?(openBlock(),createElementBlock("div",_hoisted_106$6,[t.pageForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("p",_hoisted_107$6,[createTextVNode(" Связано с диалогом #"+toDisplayString(t.pageForm.next_bot_dialog_command_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:s[23]||(s[23]=n=>t.pageForm.next_bot_dialog_command_id=null)},_hoisted_109$6)])):createCommentVNode("",!0),createVNode(_sfc_main$27,{onSelectDialog:t.associateDialog},null,8,["onSelectDialog"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_110$6,[createBaseVNode("div",_hoisted_111$6,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[24]||(s[24]=n=>t.need_rules=n),type:"checkbox",id:"need-rules"},null,512),[[vModelCheckbox,t.need_rules]]),_hoisted_112$6])])])),t.need_rules?(openBlock(),createElementBlock("div",_hoisted_113$6,[createVNode(_sfc_main$26,{bot:t.bot,"rules-form":t.pageForm},null,8,["bot","rules-form"])])):createCommentVNode("",!0),_hoisted_114$6],32)):createCommentVNode("",!0)])])}}}),_hoisted_1$22={class:"card card-style"},_hoisted_2$20={class:"content mb-0"},__default__$1q={data(){return{page:null,loadPage:!1,loadPageList:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},pageListCallback(o){this.loadPage=!0,this.page=o,this.$nextTick(()=>{this.loadPage=!1})},pageCallback(o){this.loadPageList=!0,this.$nextTick(()=>{this.loadPageList=!1})}}},_sfc_main$24=Object.assign(__default__$1q,{__name:"Pages",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$22,[createBaseVNode("div",_hoisted_2$20,[t.loadPageList?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$2w,{key:0,editor:!0,onCallback:t.pageListCallback},null,8,["onCallback"]))])]),t.loadPage?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$25,{key:0,page:t.page,onCallback:t.pageCallback},null,8,["page","onCallback"]))],64))}}),Pages$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$24},Symbol.toStringTag,{value:"Module"})),_hoisted_1$21={key:0,class:"list-group list-custom-large d-flex flex-wrap"},_hoisted_2$1$={class:"w-100"},_hoisted_3$1W=["onClick"],_hoisted_4$1Q=createBaseVNode("i",{class:"font-14 fa-solid fa-scroll rounded-xl shadow-xl bg-blue2-dark"},null,-1),_hoisted_5$1P={style:{"line-height":"100%","padding-top":"10px","padding-right":"51px"}},_hoisted_6$1O={class:"badge bg-red2-dark font-8"},_hoisted_7$1K=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_8$1E={class:"mb-3"},_hoisted_9$1A=createBaseVNode("div",{class:"border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 my-3"},[createBaseVNode("p",null," Вы можете добавить данный скрипт изменив сразу название команды на нужное непосредственно ВАМ! Меняется только название. ")],-1),_hoisted_10$1t=["disabled"],_hoisted_11$1o={key:2,class:"mb-2"},_hoisted_12$1n=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," К сожалению еще нет глобальных скриптов ",-1),_hoisted_13$1i=[_hoisted_12$1n],__default__$1p={props:["canAdd","bot"],data(){return{search:null,slugs:[],slugs_paginate_object:null,slugForm:{command:null,comment:null,slug:null,config:[],is_global:!0,bot_id:null}}},computed:{...mapGetters(["getGlobalSlugs","getGlobalSlugsPaginateObject"]),filteredAllSlugs(){return this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",s=o.command||"",i=o.comment||"";return s.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1})}},mounted(){this.loadAllSlugs()},methods:{loadAllSlugs(o=0){this.$store.dispatch("loadGlobalSlugs",{dataObject:{search:this.search||null,needGlobal:!0},page:o}).then(t=>{this.slugs=this.getGlobalSlugs,this.slugs_paginate_object=this.getGlobalSlugsPaginateObject})},removeSlug(o){this.$store.dispatch("removeSlug",{dataObject:{slugId:o.id}}).then(t=>{this.$botNotification.notification("Команды","Команда успешно удалена"),this.loadAllSlugs()}).catch(t=>{this.loadAllSlugs()})},nextSlugs(o){this.loadAllSlugs(o)},selectSlug(o){this.slugForm.id=o.id||null,this.slugForm.slug=o.slug,this.slugForm.comment=o.comment,this.slugForm.command=this.command||o.command,this.slugForm.config=o.config||[],this.slugForm.is_global=o.is_global||!1,this.$emit("select",o)},addSlug(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const s=this.slugForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("createSlug",{slugForm:o}).then(t=>{this.$botNotification.notification("Конструктор команд","Команда успешно обновлена"),this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0,this.$emit("callback")}).catch(t=>{})}}},_sfc_main$23=Object.assign(__default__$1p,{__name:"GlobalSlugList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("div",_hoisted_1$21,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredAllSlugs,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_2$1$,[i?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:n=>t.selectSlug(i),class:"d-block w-100",style:{"min-height":"70px"}},[_hoisted_4$1Q,createBaseVNode("span",_hoisted_5$1P,toDisplayString(i.command||"Не указана"),1),createBaseVNode("strong",null,toDisplayString(i.slug),1),createBaseVNode("span",_hoisted_6$1O,"#"+toDisplayString(i.id),1),_hoisted_7$1K],8,_hoisted_3$1W)):createCommentVNode("",!0),t.slugForm.id==i.id&&t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[1]||(s[1]=withModifiers((...n)=>t.addSlug&&t.addSlug(...n),["prevent"])),class:"mb-0 d-flex flex-wrap"},[createBaseVNode("div",_hoisted_8$1E,[_hoisted_9$1A,withDirectives(createBaseVNode("input",{type:"text",class:"form-control w-100",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":s[0]||(s[0]=n=>t.slugForm.command=n),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.slugForm.command]])]),createBaseVNode("button",{disabled:t.slugForm.slug==null,class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green1-dark w-100 p-3"},"Добавить скрипт в бота ",8,_hoisted_10$1t)],32)):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0),t.slugs_paginate_object?(openBlock(),createBlock(Pagination,{key:1,onPagination_page:t.nextSlugs,pagination:t.slugs_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_11$1o,_hoisted_13$1i))],64))}}),_hoisted_1$20={class:"form-floating mb-2"},_hoisted_2$1_=createBaseVNode("label",{for:"floatingInput"},"Команда",-1),_hoisted_3$1V={class:"form-floating mb-2"},_hoisted_4$1P=createBaseVNode("label",{for:"floatingInput"},"Описание скрипта",-1),_hoisted_5$1O=createBaseVNode("h6",null," Параметры скрипта ",-1),_hoisted_6$1N={class:"mb-2"},_hoisted_7$1J=["onClick"],_hoisted_8$1D=createBaseVNode("hr",null,null,-1),_hoisted_9$1z={key:0},_hoisted_10$1s={class:"mb-1"},_hoisted_11$1n=["onClick"],_hoisted_12$1m=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_13$1h=[_hoisted_12$1m],_hoisted_14$1d=["onClick"],_hoisted_15$1b=createBaseVNode("i",{class:"fa-solid fa-caret-left"},null,-1),_hoisted_16$1b=[_hoisted_15$1b],_hoisted_17$14=["onClick"],_hoisted_18$13=createBaseVNode("i",{class:"fa-solid fa-caret-right"},null,-1),_hoisted_19$10=[_hoisted_18$13],_hoisted_20$$={key:0,class:"form-floating mb-1"},_hoisted_21$Z=["for"],_hoisted_22$Z=["id","onUpdate:modelValue"],_hoisted_23$U={key:1,class:"form-check mb-1 mt-2"},_hoisted_24$S=["onUpdate:modelValue","id"],_hoisted_25$Q=["for"],_hoisted_26$M={key:2,class:"form-floating mb-1 mt-2"},_hoisted_27$K=["for"],_hoisted_28$J=["onUpdate:modelValue","id"],_hoisted_29$G={key:3,class:"form-floating mb-1 mt-2"},_hoisted_30$F=["for"],_hoisted_31$F=["onUpdate:modelValue","id"],_hoisted_32$E={key:4,class:"form-floating mb-1 mt-2"},_hoisted_33$E=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код",-1),_hoisted_34$E={key:5,class:"form-check mb-1 mt-2"},_hoisted_35$E=["for"],_hoisted_36$D=["onUpdate:modelValue","id"],_hoisted_37$D={key:6,class:"form-floating mb-3"},_hoisted_38$z=["for"],_hoisted_39$A=["id","onUpdate:modelValue"],_hoisted_40$x={key:7,class:"form-floating mb-3"},_hoisted_41$x=["for"],_hoisted_42$x=["id","onUpdate:modelValue"],_hoisted_43$x=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_44$x={key:1,class:"mb-2"},_hoisted_45$w=createBaseVNode("p",{class:"mb-0"},"Параметры скрипта еще не добавлены",-1),_hoisted_46$w=[_hoisted_45$w],_hoisted_47$v={class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-mint-dark w-100"},_hoisted_48$u={key:0},_hoisted_49$t={key:1},__default__$1o={components:{Vue3JsonEditor},props:["item"],data(){return{filters:[],simple:!0,configTypes:[{title:"Текстовый или числовой параметр",type:"text"},{title:"Большое текстовое поле",type:"large-text"},{title:"Канал обратной связи",type:"channel"},{title:"Логический оператор",type:"boolean"},{title:"Ссылка на изображение",type:"image"},{title:"Цвет",type:"color"},{title:"Geo",type:"geo"},{title:"Номер телефона",type:"phone"},{title:"JSON",type:"json"}],bot:null,photos:[],slugForm:{bot_id:null,id:null,command:null,comment:null,slug:null,config:[],is_global:!0}}},computed:{...mapGetters(["getCurrentBot"]),filteredConfigs(){return this.filters.length==0?this.slugForm.config:this.slugForm.config.filter(o=>this.filters.indexOf(o.type)>=0)}},mounted(){this.item&&(this.slugForm.id=this.item.id||null,this.slugForm.command=this.item.command,this.slugForm.comment=this.item.comment,this.slugForm.bot_id=this.item.bot_id,this.slugForm.slug=this.item.slug,this.slugForm.config=this.item.config||[],this.slugForm.is_global=this.item.is_global||!1)},methods:{move(o,t=0){let s=this.slugForm.config[o],i=this.slugForm.config.length||0,a=t===0?o-1>=0?o-1:i-1:o<i-1?o+1:0;this.slugForm.config[o]=this.slugForm.config[a],this.slugForm.config[a]=s},toggleFilter(o){let t=this.filters.indexOf(o);t>=0?this.filters.splice(t,1):this.filters.push(o)},addTextTo(o,t={text:null}){this.slugForm.config[o].value=t.text},submit(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const s=this.slugForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch(this.slugForm.id===null?"createSlug":"updateSlug",{slugForm:o}).then(t=>{this.$botNotification.notification("Команды","Команда успешно обновлена"),this.slugForm.id===null&&(this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0),this.$emit("callback")}).catch(t=>{})},addConfig(o){this.slugForm.config.splice(0,0,{key:null,value:null,type:o||"text"})},removeConfigItem(o){try{this.slugForm.config.splice(o,1)}catch{this.slugForm.config=[]}},selectPhoto(o,t){this.filteredConfigs[t].value=o.file_id}}},_sfc_main$22=Object.assign(__default__$1o,{__name:"SlugForm",setup(o){return(t,s)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock("form",{id:"slugForm",onSubmit:s[2]||(s[2]=withModifiers((...a)=>t.submit&&t.submit(...a),["prevent"]))},[createBaseVNode("div",_hoisted_1$20,[_hoisted_2$1_,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>t.slugForm.command=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.slugForm.command]])]),createBaseVNode("div",_hoisted_3$1V,[_hoisted_4$1P,withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.slugForm.comment=a),style:{"min-height":"200px"},class:"form-control font-12",id:"floatingInput",placeholder:"name@example.com",required:""},`
            `,512),[[vModelText,t.slugForm.comment]])]),_hoisted_5$1O,createBaseVNode("p",_hoisted_6$1N,[createTextVNode("Фильтры: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.configTypes,(a,n)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mb-1 bg-gray-100 cursor-pointer mr-1",{"bg-info text-white":t.filters.indexOf(a.type)>=0}]),onClick:r=>t.toggleFilter(a.type)},toDisplayString(a.type),11,_hoisted_7$1J))),256))]),_hoisted_8$1D,t.filteredConfigs.length>0?(openBlock(),createElementBlock("div",_hoisted_9$1z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredConfigs,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_10$1s,[createBaseVNode("button",{onClick:r=>t.removeConfigItem(n),class:"btn btn-outline-info",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_13$1h,8,_hoisted_11$1n),createBaseVNode("button",{onClick:r=>t.move(n,0),style:{"margin-left":"5px"},class:"btn btn-outline-info",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_16$1b,8,_hoisted_14$1d),createBaseVNode("button",{onClick:r=>t.move(n,1),style:{"margin-left":"5px"},class:"btn btn-outline-info",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},_hoisted_19$10,8,_hoisted_17$14),t.filteredConfigs[n].type==="text"||t.filteredConfigs[n].type==="channel"?(openBlock(),createElementBlock("div",_hoisted_20$$,[createBaseVNode("label",{for:"field-input-"+n},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_21$Z),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"field-input-"+n,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,placeholder:"name@example.com"},null,8,_hoisted_22$Z),[[vModelText,t.filteredConfigs[n].value]])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="boolean"?(openBlock(),createElementBlock("div",_hoisted_23$U,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"checkbox",value:"false",id:"filtered-config-"+n+"-checkbox"},null,8,_hoisted_24$S),[[vModelCheckbox,t.filteredConfigs[n].value]]),createBaseVNode("label",{class:"form-check-label",for:"filtered-config-"+n+"-checkbox"},[createTextVNode(toDisplayString(t.filteredConfigs[n].value?"Истина":"Ложь")+" для ",1),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_25$Q)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="geo"?(openBlock(),createElementBlock("div",_hoisted_26$M,[createBaseVNode("label",{for:"filtered-config-"+n+"-geo"},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_27$K),withDirectives(createBaseVNode("input",{class:"form-control",placeholder:"##.######,##.######","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"text",id:"filtered-config-"+n+"-geo"},null,8,_hoisted_28$J),[[i,"##.######,##.######"],[vModelText,t.filteredConfigs[n].value]])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="phone"?(openBlock(),createElementBlock("div",_hoisted_29$G,[createBaseVNode("label",{for:"filtered-config-"+n+"-phone"},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_30$F),withDirectives(createBaseVNode("input",{class:"form-control",placeholder:"+7(###)###-##-##","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"text",id:"filtered-config-"+n+"-phone"},null,8,_hoisted_31$F),[[i,"+7(###)###-##-##"],[vModelText,t.filteredConfigs[n].value]])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="json"?(openBlock(),createElementBlock("div",_hoisted_32$E,[_hoisted_33$E,createVNode(unref(Vue3JsonEditor),{mode:"code",modelValue:t.filteredConfigs[n].value,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,"show-btns":!1,expandedOnStart:!0},null,8,["modelValue","onUpdate:modelValue"])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="color"?(openBlock(),createElementBlock("div",_hoisted_34$E,[createBaseVNode("label",{for:"filtered-config-"+n+"-color"},[createBaseVNode("p",{style:normalizeStyle({color:t.filteredConfigs[n].value})},[createTextVNode("Цвет: "+toDisplayString(t.filteredConfigs[n].value)+" для ",1),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],4)],8,_hoisted_35$E),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"color",id:"filtered-config-"+n+"-color"},null,8,_hoisted_36$D),[[vModelText,t.filteredConfigs[n].value]])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="large-text"?(openBlock(),createElementBlock("div",_hoisted_37$D,[createBaseVNode("label",{for:"field-input-"+n},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_38$z),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",id:"field-input-"+n,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,style:{"min-height":"200px"},placeholder:"name@example.com"},`
                            `,8,_hoisted_39$A),[[vModelText,t.filteredConfigs[n].value]])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="image"?(openBlock(),createElementBlock("div",_hoisted_40$x,[createBaseVNode("label",{for:"field-input-"+n},"FileId ссылка на изображение",8,_hoisted_41$x),withDirectives(createBaseVNode("input",{class:"form-control mb-2",id:"field-input-"+n,type:"text",disabled:"true","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,placeholder:"name@example.com"},null,8,_hoisted_42$x),[[vModelText,t.filteredConfigs[n].value]]),createVNode(_sfc_main$2t,{"need-video":!1,"need-photo":!0,selected:[t.filteredConfigs[n].value],onSelect:r=>t.selectPhoto(r,n)},null,8,["selected","onSelect"])])):createCommentVNode("",!0),_hoisted_43$x]))),256))])):(openBlock(),createElementBlock("div",_hoisted_44$x,_hoisted_46$w)),createBaseVNode("button",_hoisted_47$v,[t.slugForm.id==null?(openBlock(),createElementBlock("span",_hoisted_48$u," Сохранить команду ")):(openBlock(),createElementBlock("span",_hoisted_49$t," Обновить команду "))])],32)}}}),Slug_vue_vue_type_style_index_0_lang$1="",_hoisted_1$1$={class:"btn w-100 text-left border-blue2-light p-2",type:"button"},_hoisted_2$1Z={key:0,class:"fa-solid fa-chevron-up"},_hoisted_3$1U={key:1,class:"fa-solid fa-chevron-down"},_hoisted_4$1O={key:0,class:"py-2"},_hoisted_5$1N={class:"d-flex justify-content-between align-items-center"},_hoisted_6$1M={key:0,class:"fa-regular fa-pen-to-square"},_hoisted_7$1I={key:1,class:"fa-solid fa-xmark"},_hoisted_8$1C={key:0,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_9$1y={key:1,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_10$1r=createBaseVNode("i",{class:"fa-solid fa-clone"},null,-1),_hoisted_11$1m=[_hoisted_10$1r],_hoisted_12$1l=createBaseVNode("i",{class:"fa-regular fa-trash-can color-white"},null,-1),_hoisted_13$1g=[_hoisted_12$1l],_hoisted_14$1c={key:1,class:"list-group list-group-numbered mt-2"},_hoisted_15$1a={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_16$1a={class:"ms-2 me-auto"},_hoisted_17$13=createBaseVNode("div",{class:"fw-bold"},"Идентификатор",-1),_hoisted_18$12={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_19$$={class:"ms-2 me-auto"},_hoisted_20$_=createBaseVNode("div",{class:"fw-bold"},"Команда",-1),_hoisted_21$Y={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_22$Y={class:"ms-2 me-auto"},_hoisted_23$T=createBaseVNode("div",{class:"fw-bold"},"Мнемоническое имя",-1),_hoisted_24$R={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_25$P={class:"ms-2 me-auto"},_hoisted_26$L=createBaseVNode("div",{class:"fw-bold"},"Пояснение",-1),_hoisted_27$J={key:0,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_28$I={class:"ms-2 me-auto"},_hoisted_29$F=createBaseVNode("div",{class:"fw-bold"},"Набор параметров скрипта",-1),_hoisted_30$E={key:1,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_31$E=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Привязана страница")],-1),_hoisted_32$D=[_hoisted_31$E],_hoisted_33$D={key:2,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_34$D=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Глобальный скрипт")],-1),_hoisted_35$D=[_hoisted_34$D],__default__$1n={props:["item","bot","selectMode"],data(){return{showMenu:!1,edit:!1,load:!1,simple:!0}},mounted(){},methods:{toggleMenu(){this.showMenu=!this.showMenu,this.simple=!0,this.edit=!1},switchEditor(){this.simple=!0,this.edit=!this.edit},switchSimple(){this.simple=!this.simple,this.edit=!1},selectCard(){this.$emit("select",this.item)},slugFormCallback(){this.load=!0,this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},editSlug(){this.load=!0,this.$nextTick(()=>{this.load=!1})},selectSlug(){this.load=!0,this.$emit("select",this.item),this.$nextTick(()=>{this.load=!1})},duplicateSlug(){this.load=!0,this.$store.dispatch("duplicateSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$botNotification.success("Конструктор команд","Команда успешно продублирована"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},removeSlug(){this.load=!0,this.$store.dispatch("removeSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$botNotification.success("Конструктор команд","Команда успешно удалена"),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})}}},_sfc_main$21=Object.assign(__default__$1n,{__name:"Slug",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1$,[createBaseVNode("p",{onClick:s[0]||(s[0]=(...i)=>t.toggleMenu&&t.toggleMenu(...i)),class:"w-100 mb-0"},[t.showMenu?(openBlock(),createElementBlock("i",_hoisted_2$1Z)):(openBlock(),createElementBlock("i",_hoisted_3$1U)),createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)]),t.showMenu?(openBlock(),createElementBlock("div",_hoisted_4$1O,[createBaseVNode("div",_hoisted_5$1N,[createBaseVNode("a",{onClick:s[1]||(s[1]=(...i)=>t.switchEditor&&t.switchEditor(...i)),href:"javascript:void(0)",title:"Редактировать команду",style:{width:"auto"},class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-mint-dark"},[t.edit?(openBlock(),createElementBlock("i",_hoisted_7$1I)):(openBlock(),createElementBlock("i",_hoisted_6$1M))]),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[2]||(s[2]=(...i)=>t.switchSimple&&t.switchSimple(...i)),class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-mint-dark"},[t.simple?(openBlock(),createElementBlock("i",_hoisted_8$1C)):(openBlock(),createElementBlock("i",_hoisted_9$1y))]),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-mint-dark",onClick:s[3]||(s[3]=(...i)=>t.duplicateSlug&&t.duplicateSlug(...i))},_hoisted_11$1m),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-red1-dark",onClick:s[4]||(s[4]=(...i)=>t.removeSlug&&t.removeSlug(...i))},_hoisted_13$1g)])])):createCommentVNode("",!0),!t.simple&&!t.edit?(openBlock(),createElementBlock("ol",_hoisted_14$1c,[createBaseVNode("li",_hoisted_15$1a,[createBaseVNode("div",_hoisted_16$1a,[_hoisted_17$13,createTextVNode(" №"+toDisplayString(o.item.id||"Нет идентификатора"),1)])]),createBaseVNode("li",_hoisted_18$12,[createBaseVNode("div",_hoisted_19$$,[_hoisted_20$_,createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)])]),createBaseVNode("li",_hoisted_21$Y,[createBaseVNode("div",_hoisted_22$Y,[_hoisted_23$T,createTextVNode(" "+toDisplayString(o.item.slug||"Slug"),1)])]),createBaseVNode("li",_hoisted_24$R,[createBaseVNode("div",_hoisted_25$P,[_hoisted_26$L,createTextVNode(" "+toDisplayString(o.item.comment||"Пояснение не указано"),1)])]),o.item.config?(openBlock(),createElementBlock("li",_hoisted_27$J,[createBaseVNode("div",_hoisted_28$I,[_hoisted_29$F,o.item.config?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(o.item.config,i=>(openBlock(),createElementBlock("p",null,[createBaseVNode("strong",null,toDisplayString(i.key||"Ключ не найден")+":",1),createTextVNode(toDisplayString(i.value||"Не указано"),1)]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),o.item.page?(openBlock(),createElementBlock("li",_hoisted_30$E,_hoisted_32$D)):createCommentVNode("",!0),o.item.is_global?(openBlock(),createElementBlock("li",_hoisted_33$D,_hoisted_35$D)):createCommentVNode("",!0)])):createCommentVNode("",!0),!t.load&&t.edit?(openBlock(),createBlock(_sfc_main$22,{key:2,item:o.item,onCallback:t.slugFormCallback},null,8,["item","onCallback"])):createCommentVNode("",!0)]))}}),_hoisted_1$1_={key:0},_hoisted_2$1Y=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_3$1T={key:1},_hoisted_4$1N=createBaseVNode("i",{class:"fa-regular fa-square-minus"},null,-1),_hoisted_5$1M={key:0,class:"mb-2"},_hoisted_6$1L={class:"form-floating mb-3"},_hoisted_7$1H=createBaseVNode("label",{for:"floatingInput"},"Быстрый поиск команды",-1),_hoisted_8$1B={class:"form-check"},_hoisted_9$1x={class:"form-check-label",for:"need_global"},_hoisted_10$1q={key:0},_hoisted_11$1l={key:1},_hoisted_12$1k={class:"mb-1"},_hoisted_13$1f={class:"mb-3"},_hoisted_14$1b={key:2,class:"mb-3"},_hoisted_15$19=createBaseVNode("div",{class:"alert alert-danger",role:"alert"}," У Вас еще нет добавленных скриптов! ",-1),_hoisted_16$19=[_hoisted_15$19],__default__$1m={props:["command","bot"],data(){return{need_global:!0,show:!1,slugs:[],paginate:null,ownSearch:null,slugForm:{command:null,comment:null,slug:null}}},watch:{need_global:function(o,t){this.loadSlugs()}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs.length===0?[]:this.ownSearch==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",s=o.command||"",i=o.comment||"";return s.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||i.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||t.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1})}},mounted(){this.loadSlugs(),this.command&&this.$nextTick(()=>{this.slugForm.command=this.command})},methods:{nextSlugs(o){this.loadSlugs(o)},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.need_global},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},callbackSlugs(){this.loadSlugs()},selectSlug(o){this.$emit("select",o)},loadAllSlugs(){this.$store.dispatch("loadAllSlugs").then(o=>{this.allSlugs=o.data})},addSlug(o){}}},_sfc_main$20=Object.assign(__default__$1m,{__name:"BotSlugList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=i=>t.show=!t.show),class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"},[t.show?(openBlock(),createElementBlock("span",_hoisted_3$1T,[_hoisted_4$1N,createTextVNode(" Свернуть форму добавления")])):(openBlock(),createElementBlock("span",_hoisted_1$1_,[_hoisted_2$1Y,createTextVNode(" Добавить глобальный скрипт")]))]),t.show?(openBlock(),createElementBlock("div",_hoisted_5$1M,[o.bot?(openBlock(),createBlock(_sfc_main$23,{key:0,"can-add":!0,bot:o.bot,onCallback:t.loadSlugs},null,8,["bot","onCallback"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$1L,[_hoisted_7$1H,withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[1]||(s[1]=i=>t.ownSearch=i),class:"form-control",id:"floatingInput",placeholder:"Название команды"},null,512),[[vModelText,t.ownSearch]])]),createBaseVNode("div",_hoisted_8$1B,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=i=>t.need_global=i),type:"checkbox",id:"need_global"},null,512),[[vModelCheckbox,t.need_global]]),createBaseVNode("label",_hoisted_9$1x,[t.need_global?(openBlock(),createElementBlock("span",_hoisted_10$1q,"Глобальные")):(openBlock(),createElementBlock("span",_hoisted_11$1l,"Локальные"))])]),t.slugs&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.filteredSlugs,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_12$1k,[createVNode(_sfc_main$21,{item:i,bot:o.bot,onCallback:t.callbackSlugs,onSelect:t.selectSlug},null,8,["item","bot","onCallback","onSelect"])]))),256)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$1f,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)]),t.filteredSlugs.length===0?(openBlock(),createElementBlock("div",_hoisted_14$1b,_hoisted_16$19)):createCommentVNode("",!0)],64))}}),_hoisted_1$1Z={class:"card card-style"},_hoisted_2$1X={class:"card-body"},__default__$1l={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$1$=Object.assign(__default__$1l,{__name:"Slugs",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1Z,[createBaseVNode("div",_hoisted_2$1X,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$20,{key:0,bot:t.bot},null,8,["bot"]))])]))}}),Slugs$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1$},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1Y={key:0,class:"mb-2"},_hoisted_2$1W={class:"badge bg-success text-white"},_hoisted_3$1S=createBaseVNode("span",{class:"ml-1 mr-1"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_4$1M={key:0,class:"badge bg-primary text-white"},_hoisted_5$1L={key:1},_hoisted_6$1K={class:"form-floating mb-2"},_hoisted_7$1G=["for"],_hoisted_8$1A=["id"],_hoisted_9$1w={class:"mb-2"},_hoisted_10$1p={class:"form-check"},_hoisted_11$1k=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Диалог без ожидания ответа ",-1),_hoisted_12$1j={key:1,class:"form-floating mb-2"},_hoisted_13$1e=["for"],_hoisted_14$1a=["id"],_hoisted_15$18={key:2,class:"form-floating mb-2"},_hoisted_16$18=["for"],_hoisted_17$12=["id"],_hoisted_18$11={key:3,class:"mb-2"},_hoisted_19$_={class:"mb-2"},_hoisted_20$Z=["for"],_hoisted_21$X=["value"],_hoisted_22$X=["for"],_hoisted_23$S=["id"],_hoisted_24$Q={key:4,class:"mb-2"},_hoisted_25$O=["for"],_hoisted_26$K=["id"],_hoisted_27$I=createBaseVNode("option",{value:null,selected:""},"Не указан",-1),_hoisted_28$H=["value"],_hoisted_29$E={class:"mb-2"},_hoisted_30$D={class:"d-flex justify-content-between"},_hoisted_31$D=["for"],_hoisted_32$C=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_33$C=[_hoisted_32$C],_hoisted_34$C=["id"],_hoisted_35$C={class:"mb-2"},_hoisted_36$C={class:"form-check"},_hoisted_37$C=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-image"}," В диалоге нужно изображение ",-1),_hoisted_38$y={class:"form-check"},_hoisted_39$z=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-inline"}," В диалоге нужно меню к тексту ",-1),_hoisted_40$w={class:"form-check"},_hoisted_41$w=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-reply"}," В диалоге нужно нижнее меню ",-1),_hoisted_42$w={key:5,class:"mb-2"},_hoisted_43$w=createBaseVNode("h6",null,"Фотографии к диалогу",-1),_hoisted_44$w={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_45$v={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_46$v=createBaseVNode("span",null,"+",-1),_hoisted_47$u={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_48$t={class:"remove"},_hoisted_49$s=["onClick"],_hoisted_50$q={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_51$q={class:"remove"},_hoisted_52$q=["onClick"],_hoisted_53$o={key:6,class:"mb-2"},_hoisted_54$o=createBaseVNode("h6",null,"Кнопки к вопросу",-1),_hoisted_55$n={key:7,class:"mb-2"},_hoisted_56$n=createBaseVNode("h6",null,"Кнопки нижнего меню к вопросу",-1),_hoisted_57$n={class:"mb-2"},_hoisted_58$m=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Сохранить в переменную ",-1),_hoisted_59$l=createBaseVNode("option",{selected:""},"Не выбрано",-1),_hoisted_60$i=["value"],_hoisted_61$h={class:"form-check mb-2"},_hoisted_62$f=createBaseVNode("label",{class:"form-check-label font-12",for:"need-set-flags"}," Установить флаги в соответствующее значение ",-1),_hoisted_63$f={key:8,class:"mb-2"},_hoisted_64$f=createBaseVNode("h6",{class:"my-3"},"Выберите необходимые флаги",-1),_hoisted_65$f=["onClick"],_hoisted_66$f={class:"mb-2"},_hoisted_67$f={type:"submit",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark w-100"},_hoisted_68$e={key:0},_hoisted_69$e={key:1},_hoisted_70$e={key:9,class:"divider divider-small my-3 bg-highlight"},_hoisted_71$e=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),__default__$1k={props:["item","bot"],data(){return{need_images:!1,need_inline_keyboard:!1,need_reply_keyboard:!1,need_set_flags:!1,commands:[],flags_variants:[{title:"Является VIP",key:"is_vip",value:null},{title:"Является Админом",key:"is_admin",value:null},{title:"За работой",key:"is_work",value:null},{title:"Является менеджером",key:"is_manager",value:null}],store_variants:[{title:"Имя",key:"name"},{title:"Почта",key:"email"},{title:"Возраст",key:"age"},{title:"Город",key:"city"},{title:"Страна",key:"country"},{title:"Адрес",key:"address"},{title:"Телефон",key:"phone"},{title:"День рождение",key:"birthday"}],expressions:[{expression:null,description:"Нет проверки"},{expression:"/([a-z0-9]+)/i",description:"Проверка набора из латинских букв и цифр"},{expression:"/([а-яё0-9]+)/iu",description:"Проверка на кириллицу и цифры"},{expression:"/(?P<digit>\\d+)/",description:"Проверка на число"},{expression:"/^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$/",description:"Проверка Email"},{expression:"/^((8|+7)[- ]?)?((?d{3})?[- ]?)?[d- ]{7,10}$/",description:"Проверка номера телефона"},{expression:"/^(0[1-9]|[12][0-9]|3[01])[.](0[1-9]|1[012])[.](19|20)dd$/",description:"Проверка даты по формату"},{expression:"/^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])$/",description:"Проверка даты по формату YYYY-MM-DD"},{expression:"/^(https?://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$/",description:"Проверка доменного имени"}],commandForm:{id:null,slug:null,pre_text:null,post_text:null,error_text:null,bot_id:null,input_pattern:null,inline_keyboard_id:null,reply_keyboard_id:null,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,reply_keyboard:null,is_empty:!1,result_flags:[],store_to:null},photos:[]}},computed:{...mapGetters(["getDialogs"])},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.commandForm[o.detail.param]=o.detail.channel}),this.item&&this.$nextTick(()=>{this.commandForm={id:this.item.id||null,slug:this.item.slug||null,pre_text:this.item.pre_text||null,post_text:this.item.post_text||null,error_text:this.item.error_text||null,is_empty:this.item.is_empty||!1,input_pattern:this.item.input_pattern||null,inline_keyboard_id:this.item.inline_keyboard_id||null,reply_keyboard_id:this.item.reply_keyboard_id||null,images:this.item.images||[],next_bot_dialog_command_id:this.item.next_bot_dialog_command_id||null,bot_dialog_group_id:this.item.bot_dialog_group_id||null,result_channel:this.item.result_channel||null,inline_keyboard:this.item.inline_keyboard||null,reply_keyboard:this.item.reply_keyboard||null,result_flags:this.item.result_flags||[],store_to:this.item.store_to||null},this.bot&&(this.commandForm.bot_id=this.bot.id||null),this.commandForm.inline_keyboard_id!=null&&(this.need_inline_keyboard=!0),this.commandForm.reply_keyboard_id!=null&&(this.need_reply_keyboard=!0),this.commandForm.images.length>0&&(this.need_images=!0),this.commandForm.result_flags.length>0&&(this.need_set_flags=!0)}),this.bot&&this.$nextTick(()=>{this.commandForm.bot_id=this.bot.id}),this.loadGroups()},methods:{unlinkCommand(){this.loading=!0,this.$store.dispatch("unlinkDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$botNotification.success("Команды","Диалоговая команда успешно продублирована!"),this.$emit("callback")}).catch(o=>{this.loading=!1})},removeCommand(){this.loading=!0,this.$store.dispatch("removeDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$botNotification.success("Команды","Диалоговая команда успешно удалена!"),this.$emit("callback")}).catch(o=>{this.loading=!1})},loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{simple:!0},page:o,size:100}).then(t=>{this.loading=!1,this.commands=this.getDialogs}).catch(()=>{this.loading=!1})},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},submit(){this.loading=!0;let o=new FormData;if(Object.keys(this.commandForm).forEach(t=>{const s=this.commandForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photos){for(let t=0;t<this.photos.length;t++)o.append("files[]",this.photos[t]);o.delete("photos")}this.$store.dispatch(this.commandForm.id?"updateDialogCommand":"createDialogCommand",{dialogCommandForm:o}).then(t=>{this.loading=!1,this.$botNotification.success("Команды","Успешная обработка диалоговой команды!"),this.commandForm.id==null&&(this.commandForm={id:null,slug:null,pre_text:null,post_text:null,error_text:null,input_pattern:null,inline_keyboard_id:null,is_empty:!1,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,result_flags:[],store_to:null},this.photos=[]),this.$emit("callback")}).catch(t=>{this.loading=!1})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o,t){this[o].splice(t,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},saveInlineKeyboard(o){this.commandForm.inline_keyboard=o},saveReplyKeyboard(o){this.commandForm.reply_keyboard=o},addTextTo(o={param:null,text:null}){this.commandForm[o.param]=o.text},selectFlag(o){this.commandForm.result_flags||(this.commandForm.result_flags=[]);let t=this.commandForm.result_flags.indexOf(o.key);t===-1?this.commandForm.result_flags.push(o.key):this.commandForm.result_flags.splice(t,1)}}},_sfc_main$1_=Object.assign(__default__$1k,{__name:"BotDialogCommandForm",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:s[16]||(s[16]=withModifiers((...a)=>t.submit&&t.submit(...a),["prevent"]))},[t.commandForm.id?(openBlock(),createElementBlock("p",_hoisted_1$1Y,[createBaseVNode("span",_hoisted_2$1W,"#"+toDisplayString(t.commandForm.id),1),_hoisted_3$1S,t.commandForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("span",_hoisted_4$1M,[createTextVNode("#"+toDisplayString(t.commandForm.next_bot_dialog_command_id||"-")+" ",1),createBaseVNode("i",{class:"ml-2 fa-solid fa-link-slash",onClick:s[0]||(s[0]=(...a)=>t.unlinkCommand&&t.unlinkCommand(...a))})])):(openBlock(),createElementBlock("span",_hoisted_5$1L,"не связан"))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$1K,[createBaseVNode("label",{for:"commandForm-pre-text-"+t.commandForm.id,class:"font-12"},"Текст диалога",8,_hoisted_7$1G),withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-pre-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":s[1]||(s[1]=a=>t.commandForm.pre_text=a),required:""},`

            `,8,_hoisted_8$1A),[[vModelText,t.commandForm.pre_text]])]),createBaseVNode("div",_hoisted_9$1w,[createBaseVNode("div",_hoisted_10$1p,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=a=>t.commandForm.is_empty=a),id:"need-empty-dialog",checked:""},null,512),[[vModelCheckbox,t.commandForm.is_empty]]),_hoisted_11$1k])]),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$1j,[createBaseVNode("label",{for:"commandForm-post-text-"+t.commandForm.id,class:"font-12"},"Текст после успешного завершения диалога",8,_hoisted_13$1e),withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-post-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":s[3]||(s[3]=a=>t.commandForm.post_text=a),required:""},`
            `,8,_hoisted_14$1a),[[vModelText,t.commandForm.post_text]])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15$18,[createBaseVNode("label",{for:"commandForm-error-text-"+t.commandForm.id,class:"font-12"},"Текст на случай ошибки корректности данных",8,_hoisted_16$18),withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-error-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":s[4]||(s[4]=a=>t.commandForm.error_text=a),required:""},`
            `,8,_hoisted_17$12),[[vModelText,t.commandForm.error_text]])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_18$11,[createBaseVNode("div",_hoisted_19$_,[createBaseVNode("label",{class:"form-label font-12",for:"commandForm-result-channel-"+t.commandForm.id},"Регулярное выражение для автоматической проверки данных ",8,_hoisted_20$Z),withDirectives(createBaseVNode("select",{id:"next-dialog-select",class:"form-select form-control font-12","onUpdate:modelValue":s[5]||(s[5]=a=>t.commandForm.input_pattern=a)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.expressions,a=>(openBlock(),createElementBlock("option",{value:a.expression},toDisplayString(a.description||"-"),9,_hoisted_21$X))),256))],512),[[vModelSelect,t.commandForm.input_pattern]])]),createBaseVNode("label",{for:"custom-regular-expression"+t.commandForm.id,class:"font-12"},"или впишите своё",8,_hoisted_22$X),withDirectives(createBaseVNode("input",{id:"custom-regular-expression"+t.commandForm.id,type:"text",class:"form-control",placeholder:"Регулярное выражение","aria-label":"Регулярное выражение","onUpdate:modelValue":s[6]||(s[6]=a=>t.commandForm.input_pattern=a),maxlength:"255","aria-describedby":"commandForm-input-pattern"},null,8,_hoisted_23$S),[[vModelText,t.commandForm.input_pattern]])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_24$Q,[createBaseVNode("label",{for:"next-dialog-select"+t.commandForm.id,class:"font-12"},"Следующий диалог",8,_hoisted_25$O),createBaseVNode("select",{id:"next-dialog-select"+t.commandForm.id,class:"form-select form-control font-12","aria-label":"Default select example"},[_hoisted_27$I,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.commands,(a,n)=>(openBlock(),createElementBlock("option",{value:a.id},"#"+toDisplayString(a.id)+" "+toDisplayString(a.pre_text||"Без текста"),9,_hoisted_28$H))),256))],8,_hoisted_26$K)])),createBaseVNode("div",_hoisted_29$E,[createBaseVNode("div",_hoisted_30$D,[createBaseVNode("label",{class:"form-label",for:"commandForm-result-channel-"+t.commandForm.id},"Канал для отправки данных ",8,_hoisted_31$D),createBaseVNode("span",{onClick:s[7]||(s[7]=a=>t.requestChannelId("result_channel"))},_hoisted_33$C)]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":s[8]||(s[8]=a=>t.commandForm.result_channel=a),id:"commandForm-result-channel-"+t.commandForm.id,"aria-describedby":"bot-order-channel"},null,8,_hoisted_34$C),[[vModelText,t.commandForm.result_channel]])]),createBaseVNode("div",_hoisted_35$C,[createBaseVNode("div",_hoisted_36$C,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=a=>t.need_images=a),id:"need-dialog-image",checked:""},null,512),[[vModelCheckbox,t.need_images]]),_hoisted_37$C]),createBaseVNode("div",_hoisted_38$y,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=a=>t.need_inline_keyboard=a),id:"need-dialog-menu-inline",checked:""},null,512),[[vModelCheckbox,t.need_inline_keyboard]]),_hoisted_39$z]),createBaseVNode("div",_hoisted_40$w,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[11]||(s[11]=a=>t.need_reply_keyboard=a),id:"need-dialog-menu-reply",checked:""},null,512),[[vModelCheckbox,t.need_reply_keyboard]]),_hoisted_41$w])]),t.need_images?(openBlock(),createElementBlock("div",_hoisted_42$w,[_hoisted_43$w,createBaseVNode("div",_hoisted_44$w,[createBaseVNode("label",_hoisted_45$v,[_hoisted_46$v,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:s[12]||(s[12]=(...a)=>t.onChangePhotos&&t.onChangePhotos(...a)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_47$u,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(a).imageUrl]]),createBaseVNode("div",_hoisted_48$t,[createBaseVNode("a",{onClick:r=>t.removePhoto("photos",n)},"Удалить",8,_hoisted_49$s)])]))),256)):createCommentVNode("",!0),t.commandForm.images&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.commandForm.images,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_50$q,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+o.bot.id+"/"+a]]),createBaseVNode("div",_hoisted_51$q,[createBaseVNode("a",{onClick:r=>t.removePhoto("images",n)},"Удалить",8,_hoisted_52$q)])]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.need_inline_keyboard?(openBlock(),createElementBlock("div",_hoisted_53$o,[_hoisted_54$o,createVNode(KeyboardConstructor,{onSave:t.saveInlineKeyboard,"edited-keyboard":t.commandForm.inline_keyboard},null,8,["onSave","edited-keyboard"])])):createCommentVNode("",!0),t.need_reply_keyboard?(openBlock(),createElementBlock("div",_hoisted_55$n,[_hoisted_56$n,createVNode(KeyboardConstructor,{onSave:t.saveReplyKeyboard,"edited-keyboard":t.commandForm.reply_keyboard},null,8,["onSave","edited-keyboard"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_57$n,[_hoisted_58$m,withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":s[13]||(s[13]=a=>t.commandForm.store_to=a)},[_hoisted_59$l,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.store_variants,a=>(openBlock(),createElementBlock("option",{value:a.key},toDisplayString(a.title||"Не указано"),9,_hoisted_60$i))),256))],512),[[vModelSelect,t.commandForm.store_to]])]),createBaseVNode("div",_hoisted_61$h,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=a=>t.need_set_flags=a),id:"need-set-flags",checked:""},null,512),[[vModelCheckbox,t.need_set_flags]]),_hoisted_62$f]),t.need_set_flags?(openBlock(),createElementBlock("div",_hoisted_63$f,[_hoisted_64$f,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.flags_variants,a=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mr-2",{"bg-info text-white":t.commandForm.result_flags.indexOf(a.key)!=-1}]),onClick:n=>t.selectFlag(a)},toDisplayString(a.title),11,_hoisted_65$f))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_66$f,[createBaseVNode("button",_hoisted_67$f,[t.commandForm.id?(openBlock(),createElementBlock("span",_hoisted_68$e,"Обновить диалог")):(openBlock(),createElementBlock("span",_hoisted_69$e,"Добавить диалог"))])]),t.commandForm.id?(openBlock(),createElementBlock("div",_hoisted_70$e)):createCommentVNode("",!0),t.commandForm.id?(openBlock(),createElementBlock("a",{key:10,onClick:s[15]||(s[15]=(...a)=>t.removeCommand&&t.removeCommand(...a)),title:"Удаление команды",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},[_hoisted_71$e,createTextVNode(" Удалить диалог ")])):createCommentVNode("",!0)],32)}}}),DialogCommandCard_vue_vue_type_style_index_0_lang$1="",_hoisted_1$1X={class:"btn w-100 text-left border-blue2-light",type:"button"},_hoisted_2$1V={key:0,class:"fa-solid fa-chevron-up"},_hoisted_3$1R={key:1,class:"fa-solid fa-chevron-down"},__default__$1j={props:["item","bot"],data(){return{showMenu:!1}},methods:{selectDialog(){this.$emit("select",this.item)}}},_sfc_main$1Z=Object.assign(__default__$1j,{__name:"DialogCommandCard",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1X,[createBaseVNode("p",{onClick:s[0]||(s[0]=i=>t.showMenu=!t.showMenu),class:"w-100 mb-0"},[t.showMenu?(openBlock(),createElementBlock("i",_hoisted_2$1V)):(openBlock(),createElementBlock("i",_hoisted_3$1R)),createTextVNode(" "+toDisplayString(o.item.pre_text||"Нет команды"),1)]),t.showMenu?(openBlock(),createBlock(_sfc_main$1_,{key:0,bot:o.bot,item:o.item},null,8,["bot","item"])):createCommentVNode("",!0)]))}}),_hoisted_1$1W={key:0},_hoisted_2$1U=createBaseVNode("i",{class:"fa-regular fa-comment-dots mr-2"},null,-1),_hoisted_3$1Q={key:1},_hoisted_4$1L=createBaseVNode("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),_hoisted_5$1K=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_6$1J={key:1},_hoisted_7$1F={class:"mb-2"},_hoisted_8$1z={key:0},_hoisted_9$1v={class:"mb-2"},_hoisted_10$1o={key:1},_hoisted_11$1j={key:2,class:"row"},_hoisted_12$1i=createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет созданных диалоговых групп ")],-1),_hoisted_13$1d=[_hoisted_12$1i],__default__$1i={props:["bot"],data(){return{needCreate:!1,loading:!0,dialog_groups:[],search:null,link:null,group:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"]),filteredCommands(){return this.link?this.dialog_groups.find(t=>t.id===this.link.group_id).bot_dialog_commands.filter(t=>t.id!=this.link.id):[]}},mounted(){this.loadGroups()},methods:{loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialog_groups=this.getDialogs,this.dialog_groups_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1Y=Object.assign(__default__$1i,{__name:"BotDialogGroupList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=i=>t.needCreate=!t.needCreate),class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-green2-dark w-100"},[t.needCreate?(openBlock(),createElementBlock("span",_hoisted_3$1Q,[_hoisted_4$1L,createTextVNode("Скрыть создание диалога ")])):(openBlock(),createElementBlock("span",_hoisted_1$1W,[_hoisted_2$1U,createTextVNode("Создать новый диалог ")]))]),o.bot&&t.needCreate?(openBlock(),createBlock(_sfc_main$1_,{key:0,onCallback:t.loadGroups,bot:o.bot},null,8,["onCallback","bot"])):createCommentVNode("",!0),_hoisted_5$1K,t.dialog_groups.length>0?(openBlock(),createElementBlock("div",_hoisted_6$1J,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.dialog_groups,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_7$1F,[i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("div",_hoisted_8$1z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_9$1v,[o.bot?(openBlock(),createBlock(_sfc_main$1Z,{key:0,bot:o.bot,onCallback:t.loadGroups,item:n},null,8,["bot","onCallback","item"])):createCommentVNode("",!0)]))),256))])):(openBlock(),createElementBlock("p",_hoisted_10$1o,"Диалоговых скриптов не найдено"))]))),256))])):(openBlock(),createElementBlock("div",_hoisted_11$1j,_hoisted_13$1d))],64))}}),_hoisted_1$1V={class:"card card-style"},_hoisted_2$1T={class:"card-body"},__default__$1h={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$1X=Object.assign(__default__$1h,{__name:"Dialogs",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1V,[createBaseVNode("div",_hoisted_2$1T,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$1Y,{key:0,bot:t.bot},null,8,["bot"]))])]))}}),Dialogs$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1X},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1U={class:"card card-style"},_hoisted_2$1S={class:"card-body"},__default__$1g={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$1W=Object.assign(__default__$1g,{__name:"Keyboards",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1U,[createBaseVNode("div",_hoisted_2$1S,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$2o,{key:0,bot:t.bot,"select-mode":!1},null,8,["bot"]))])]))}}),Keyboards=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1W},Symbol.toStringTag,{value:"Module"})),_sfc_main$1V={props:["data","bot"],components:{Vue3JsonEditor},data(){return{load:!1,custom_fields:null,fields:[{title:"Телефонный номер",field:"phone"},{title:"Ф.И.О.",field:"fio_from_telegram"},{title:"Почта",field:"email"},{title:"Дата рождения",field:"birthday"},{title:"Возраст",field:"age"},{title:"Страна",field:"country"},{title:"Адрес",field:"address"},{title:"Пол",field:"sex"},{title:"Идентификатор чата",field:"fio_from_telegram"}],hasConnect:!1,amoForm:{client_id:null,client_secret:null,auth_code:null,redirect_uri:null,subdomain:null,bot_id:null,fields:null}}},mounted(){this.data&&this.$nextTick(()=>{this.amoForm.client_id=this.data.client_id||null,this.amoForm.client_secret=this.data.client_secret||null,this.amoForm.auth_code=this.data.auth_code||null,this.amoForm.redirect_uri=this.data.redirect_uri||null,this.amoForm.subdomain=this.data.subdomain||null,this.amoForm.bot_id=this.data.bot_id||this.bot.id||null,this.amoForm.fields=this.data.fields||null})},methods:{loadAmoFields(){this.load=!0,this.custom_fields=null,this.$store.dispatch("loadAmoFields").then(o=>{this.custom_fields=o._embedded.custom_fields.contacts||null,this.$nextTick(()=>{this.load=!1}),this.$botNotification.success("Работа с AMO","Справочная информация успешно загружена")}).catch(o=>{this.$botNotification.warning("Работа с AMO","Ошибка работы со справочной информацией")})},removeField(o){this.amoForm.fields&&this.amoForm.fields.splice(o,1)},addField(){this.amoForm.fields||(this.amoForm.fields=[]),this.amoForm.fields.push({key:null,field:null,enum:null})},syncAmo(){this.$store.dispatch("syncAmo").then(o=>{this.$botNotification.success("Работа с AMO","Данные CRM успешно сохранены")}).catch(o=>{this.$botNotification.warning("Работа с AMO","Ошибка работы")})},submitAmo(){let o=new FormData;Object.keys(this.amoForm).forEach(t=>{const s=this.amoForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("saveAmoCRM",{amoForm:o}).then(t=>{this.$botNotification.success("Работа с AMO","Данные CRM успешно сохранены")}).catch(t=>{})}}},_hoisted_1$1T={class:"card card-style"},_hoisted_2$1R={class:"content mb-0"},_hoisted_3$1P=createBaseVNode("h3",null,"Настройка AMO",-1),_hoisted_4$1K=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("a",{target:"_blank",href:"https://www.amocrm.ru/developers/content/oauth/step-by-step"},"Документация для разработчика "),createTextVNode(" по шагам")],-1),_hoisted_5$1J={class:"mb-2"},_hoisted_6$1I={class:"form-label d-flex justify-content-between mt-2",id:"client_id"},_hoisted_7$1E=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_8$1y=createBaseVNode("div",null,"ID интеграции",-1),_hoisted_9$1u=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_10$1n=createBaseVNode("div",null,"Нужно ",-1),_hoisted_11$1i={class:"mb-2"},_hoisted_12$1h={class:"form-label d-flex justify-content-between mt-2",id:"client_secret"},_hoisted_13$1c=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_14$19=createBaseVNode("div",null,"Секрет интеграции",-1),_hoisted_15$17=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_16$17=createBaseVNode("div",null,"Нужно ",-1),_hoisted_17$11={class:"mb-2"},_hoisted_18$10={class:"form-label d-flex justify-content-between mt-2",id:"auth_code"},_hoisted_19$Z=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_20$Y=createBaseVNode("div",null,"Полученный код авторизации",-1),_hoisted_21$W=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_22$W=createBaseVNode("div",null,"Нужно ",-1),_hoisted_23$R={class:"mb-2"},_hoisted_24$P={class:"form-label d-flex justify-content-between mt-2",id:"subdomain2"},_hoisted_25$N=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_26$J=createBaseVNode("div",null,"Ваш поддомен в системе AMO CRM",-1),_hoisted_27$H=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_28$G=createBaseVNode("div",null,"Нужно ",-1),_hoisted_29$D=["disabled"],_hoisted_30$C={class:"mb-2"},_hoisted_31$C=["id"],_hoisted_32$B=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_33$B=createBaseVNode("div",null,"Ключевое значение из справочника",-1),_hoisted_34$B=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_35$B=createBaseVNode("div",null,"Нужно ",-1),_hoisted_36$B=["onUpdate:modelValue"],_hoisted_37$B={class:"mb-2"},_hoisted_38$x=["id"],_hoisted_39$y=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_40$v=createBaseVNode("div",null,"Поле из списка для связи",-1),_hoisted_41$v=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_42$v=createBaseVNode("div",null,"Нужно ",-1),_hoisted_43$v=["onUpdate:modelValue"],_hoisted_44$v=["value"],_hoisted_45$u={class:"mb-2"},_hoisted_46$u=["id"],_hoisted_47$t=["onUpdate:modelValue"],_hoisted_48$s=["onClick"],_hoisted_49$r=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_50$p=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mt-3 mb-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-1"}),createTextVNode(" Сохранить настройку AMO ")],-1),_hoisted_51$p=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1);function _sfc_render$D(o,t,s,i,a,n){const r=resolveComponent("Popper"),l=resolveComponent("Vue3JsonEditor");return openBlock(),createElementBlock("div",_hoisted_1$1T,[createBaseVNode("div",_hoisted_2$1R,[_hoisted_3$1P,createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...d)=>n.submitAmo&&n.submitAmo(...d),["prevent"]))},[_hoisted_4$1K,createBaseVNode("div",_hoisted_5$1J,[createBaseVNode("label",_hoisted_6$1I,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_8$1y]),default:withCtx(()=>[_hoisted_7$1E]),_:1}),createTextVNode(" client_id ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_10$1n]),default:withCtx(()=>[_hoisted_9$1u]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_id","aria-label":"client_id","onUpdate:modelValue":t[0]||(t[0]=d=>a.amoForm.client_id=d),"aria-describedby":"client_id",required:""},null,512),[[vModelText,a.amoForm.client_id]])]),createBaseVNode("div",_hoisted_11$1i,[createBaseVNode("label",_hoisted_12$1h,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_14$19]),default:withCtx(()=>[_hoisted_13$1c]),_:1}),createTextVNode(" client_secret ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_16$17]),default:withCtx(()=>[_hoisted_15$17]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_secret","aria-label":"client_secret","onUpdate:modelValue":t[1]||(t[1]=d=>a.amoForm.client_secret=d),"aria-describedby":"client_secret",required:""},null,512),[[vModelText,a.amoForm.client_secret]])]),createBaseVNode("div",_hoisted_17$11,[createBaseVNode("label",_hoisted_18$10,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_20$Y]),default:withCtx(()=>[_hoisted_19$Z]),_:1}),createTextVNode(" auth_code ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_22$W]),default:withCtx(()=>[_hoisted_21$W]),_:1})]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",style:{"min-height":"250px"},placeholder:"auth_code","aria-label":"auth_code","onUpdate:modelValue":t[2]||(t[2]=d=>a.amoForm.auth_code=d),"aria-describedby":"auth_code",required:""},`
                                    `,512),[[vModelText,a.amoForm.auth_code]])]),createBaseVNode("div",_hoisted_23$R,[createBaseVNode("label",_hoisted_24$P,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_26$J]),default:withCtx(()=>[_hoisted_25$N]),_:1}),createTextVNode(" subdomain ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_28$G]),default:withCtx(()=>[_hoisted_27$H]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"subdomain","aria-label":"subdomain","onUpdate:modelValue":t[3]||(t[3]=d=>a.amoForm.subdomain=d),"aria-describedby":"subdomain",required:""},null,512),[[vModelText,a.amoForm.subdomain]])]),createBaseVNode("button",{type:"button",disabled:!a.amoForm.client_id||!a.amoForm.auth_code||!a.amoForm.client_secret||!a.amoForm.subdomain,onClick:t[4]||(t[4]=(...d)=>n.loadAmoFields&&n.loadAmoFields(...d)),class:"btn w-100 btn-m btn-full rounded-s mb-1 rounded-0 text-uppercase font-900 shadow-s bg-green2-dark"}," Загрузить справочную информацию ",8,_hoisted_29$D),!a.load&&a.custom_fields?(openBlock(),createBlock(l,{key:0,mode:"tree",modelValue:a.custom_fields,"onUpdate:modelValue":t[5]||(t[5]=d=>a.custom_fields=d),"show-btns":!1,expandedOnStart:!1},null,8,["modelValue"])):createCommentVNode("",!0),a.amoForm.fields?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(a.amoForm.fields,(d,c)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_30$C,[createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-key-"+c},[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_33$B]),default:withCtx(()=>[_hoisted_32$B]),_:1}),createTextVNode(" Ключевое значение из справочника ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_35$B]),default:withCtx(()=>[_hoisted_34$B]),_:1})],8,_hoisted_31$C),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"Ключ","aria-label":"Ключ","onUpdate:modelValue":_=>a.amoForm.fields[c].key=_,"aria-describedby":"Ключ",required:""},null,8,_hoisted_36$B),[[vModelText,a.amoForm.fields[c].key]])]),createBaseVNode("div",_hoisted_37$B,[createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-field-"+c},[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_40$v]),default:withCtx(()=>[_hoisted_39$y]),_:1}),createTextVNode(" Поле из списка для связи ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_42$v]),default:withCtx(()=>[_hoisted_41$v]),_:1})],8,_hoisted_38$x),withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":_=>a.amoForm.fields[c].field=_},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.fields,_=>(openBlock(),createElementBlock("option",{value:_.field},toDisplayString(_.title||"Ошибка"),9,_hoisted_44$v))),256))],8,_hoisted_43$v),[[vModelSelect,a.amoForm.fields[c].field]])]),createBaseVNode("div",_hoisted_45$u,[createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-enum-"+c}," Перечисление (enum) из справочника ",8,_hoisted_46$u),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Перечисление","aria-label":"Перечисление","onUpdate:modelValue":_=>a.amoForm.fields[c].enum=_,"aria-describedby":"Перечисление"},null,8,_hoisted_47$t),[[vModelText,a.amoForm.fields[c].enum]])]),createBaseVNode("button",{type:"button",onClick:_=>n.removeField(c),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-red1-dark color-red1-dark bg-theme w-100"}," Удалитьс связь полей ",8,_hoisted_48$s),_hoisted_49$r]))),256)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=(...d)=>n.addField&&n.addField(...d)),class:"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить связь полей "),_hoisted_50$p],32),_hoisted_51$p,createBaseVNode("a",{href:"javascript:void(0)",onClick:t[8]||(t[8]=(...d)=>n.syncAmo&&n.syncAmo(...d)),class:"btn btn-m btn-full rounded-s mb-3 rounded-0 text-uppercase font-900 shadow-s bg-green2-dark"}," Синохрозировать ")])])}const AmoForm$1=_export_sfc(_sfc_main$1V,[["render",_sfc_render$D]]),__default__$1f={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.amo=this.bot.amo})}}},_sfc_main$1U=Object.assign(__default__$1f,{__name:"Amo",setup(o){return(t,s)=>!t.load&&t.bot?(openBlock(),createBlock(AmoForm$1,{key:0,bot:t.bot,data:t.bot.amo},null,8,["bot","data"])):createCommentVNode("",!0)}}),Amo$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1U},Symbol.toStringTag,{value:"Module"})),_sfc_main$1T={props:["data","bot"],data(){return{load:!1,yClientsForm:{login:null,password:null,partner_token:null,company:null}}},mounted(){this.data&&this.$nextTick(()=>{this.yClientsForm.login=this.data.login||null,this.yClientsForm.password=this.data.password||null,this.yClientsForm.partner_token=this.data.partner_token||null,this.yClientsForm.company=this.data.company||null})},methods:{submitYClients(){let o=new FormData;Object.keys(this.yClientsForm).forEach(t=>{const s=this.yClientsForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("saveYClients",{yClientsForm:o}).then(t=>{this.$botNotification.success("Работа с YClients","Данные успешно сохранены")}).catch(t=>{this.$botNotification.warning("Работа с YClients","Ошибочка")})}}},_hoisted_1$1S=createBaseVNode("h3",null,"Настройка YClients",-1),_hoisted_2$1Q={class:"form-floating mb-2"},_hoisted_3$1O=createBaseVNode("label",{for:"login"}," Логин ",-1),_hoisted_4$1J={class:"form-floating mb-2"},_hoisted_5$1I=createBaseVNode("label",{for:"password"}," Пароль ",-1),_hoisted_6$1H={class:"form-floating mb-2"},_hoisted_7$1D=createBaseVNode("label",{for:"partner_token"}," Партнерский тоукен ",-1),_hoisted_8$1x={class:"form-floating mb-2"},_hoisted_9$1t=createBaseVNode("label",{for:"partner_token"}," ID компании, в которую записывать клиентов ",-1),_hoisted_10$1m=createBaseVNode("button",{class:"btn btn-primary w-100 p-3"}," Сохранить ",-1);function _sfc_render$C(o,t,s,i,a,n){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1S,createBaseVNode("form",{onSubmit:t[4]||(t[4]=withModifiers((...r)=>n.submitYClients&&n.submitYClients(...r),["prevent"]))},[createBaseVNode("div",_hoisted_2$1Q,[withDirectives(createBaseVNode("input",{type:"text",id:"login",class:"form-control",placeholder:"Ваш логин","aria-label":"Ваш логин","onUpdate:modelValue":t[0]||(t[0]=r=>a.yClientsForm.login=r),"aria-describedby":"Ваш логин",required:""},null,512),[[vModelText,a.yClientsForm.login]]),_hoisted_3$1O]),createBaseVNode("div",_hoisted_4$1J,[withDirectives(createBaseVNode("input",{type:"text",id:"password",class:"form-control",placeholder:"Ваш пароль","aria-label":"Ваш пароль","onUpdate:modelValue":t[1]||(t[1]=r=>a.yClientsForm.password=r),"aria-describedby":"Ваш пароль",required:""},null,512),[[vModelText,a.yClientsForm.password]]),_hoisted_5$1I]),createBaseVNode("div",_hoisted_6$1H,[withDirectives(createBaseVNode("input",{type:"text",id:"partner_token",class:"form-control",placeholder:"Ваш партнерский тоукен","aria-label":"Ваш партнерский тоукен","onUpdate:modelValue":t[2]||(t[2]=r=>a.yClientsForm.partner_token=r),"aria-describedby":"Ваш партнерский тоукен",required:""},null,512),[[vModelText,a.yClientsForm.partner_token]]),_hoisted_7$1D]),createBaseVNode("div",_hoisted_8$1x,[withDirectives(createBaseVNode("input",{type:"number",id:"throttle",class:"form-control",placeholder:"ID компании","aria-label":"ID компании","onUpdate:modelValue":t[3]||(t[3]=r=>a.yClientsForm.company=r),"aria-describedby":"ID компании",required:""},null,512),[[vModelText,a.yClientsForm.company]]),_hoisted_9$1t]),_hoisted_10$1m],32)],64)}const YClientsForm=_export_sfc(_sfc_main$1T,[["render",_sfc_render$C]]),__default__$1e={data(){return{load:!1,bot:null,y_clients:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.y_clients=this.bot.y_clients})}}},_sfc_main$1S=Object.assign(__default__$1e,{__name:"YClients",setup(o){return(t,s)=>!t.load&&t.bot?(openBlock(),createBlock(YClientsForm,{key:0,bot:t.bot,data:t.bot.y_clients},null,8,["bot","data"])):createCommentVNode("",!0)}}),YClients$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1S},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1R={key:0,id:"user-profile-info"},_hoisted_2$1P={class:"card card-style bg-theme pb-0"},_hoisted_3$1N={class:"content mb-0"},_hoisted_4$1I={key:0,class:"card card-style"},_hoisted_5$1H={class:"content"},_hoisted_6$1G={class:"text-center"},_hoisted_7$1C={class:"mb-0 text-center font-weight-bold"},_hoisted_8$1w={class:"mb-0 text-center font-weight-bold"},_hoisted_9$1s={key:0},_hoisted_10$1l=createBaseVNode("i",{class:"fa-solid fa-rotate mr-1 color-green2-light"},null,-1),_hoisted_11$1h={key:1},_hoisted_12$1g=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-1 color-red1-light"},null,-1),_hoisted_13$1b={class:"mb-0"},_hoisted_14$18={class:"d-flex justify-content-around flex-wrap save-up"},_hoisted_15$16=["onClick"],_hoisted_16$16=["innerHTML"],_hoisted_17$10={key:1},_hoisted_18$$=createBaseVNode("i",{class:"fa-solid fa-question"},null,-1),_hoisted_19$Y=[_hoisted_18$$],_hoisted_20$X=["disabled"],_hoisted_21$V={class:"mb-3"},_hoisted_22$V=createBaseVNode("label",{for:"user-name",class:"form-label"},"Запросите имя пользователя",-1),_hoisted_23$Q={class:"mb-3"},_hoisted_24$O=createBaseVNode("label",{for:"user-phone",class:"form-label"},"Запросите телефон пользователя",-1),_hoisted_25$M=createBaseVNode("div",{class:"mb-1"},[createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Обменять бонусы ")],-1),__default__$1d={data(){return{action:null,botUser:null,loading:!1,icon:null,icon_color:null,reloadable:!1,request_telegram_chat_id:null,need_show_form:!1,userForm:{name:null,phone:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf);const o=new URLSearchParams(window.location.search),t=JSON.parse(o.get("user"));t&&(this.request_telegram_chat_id=t,this.loadActionData())},methods:{requestClick(){if(this.loading){this.$botNotification.warning("Упс!","Вы уже выполняете это действие");return}this.loading=!0,this.$store.dispatch("bonusProductCheck",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.loading=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно отметили бонус пользователю")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},exchange(){this.loading=!0,this.$store.dispatch("bonusProductExchange",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userForm}}).then(o=>{this.loading=!1,this.need_show_form=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно обменяли бонусы пользователя на приз!")}).catch(()=>{this.loading=!1,this.need_show_form=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},completeClick(){this.$botNotification.success("Отлично!","В этой ячейке уже есть отметка о бонусе:)")},loadActionData(){this.loading=!0,this.$store.dispatch("loadActionData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.action=o.action,this.icon=o.icon,this.icon_color=o.icon_color,this.reloadable=o.reloadable,this.botUser=o.action.bot_user,this.userForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.userForm.phone=this.botUser.phone||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},_sfc_main$1R=Object.assign(__default__$1d,{__name:"BonusProduct",setup(o){return(t,s)=>{const i=resolveDirective("mask");return t.request_telegram_chat_id?(openBlock(),createElementBlock("div",_hoisted_1$1R,[createBaseVNode("div",_hoisted_2$1P,[createBaseVNode("div",_hoisted_3$1N,[t.botUser?(openBlock(),createBlock(UserInfo$1,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-3"})])]),t.action?(openBlock(),createElementBlock("div",_hoisted_4$1I,[createBaseVNode("div",_hoisted_5$1H,[createBaseVNode("h6",_hoisted_6$1G,"Личная накопительная карта пользвателя #"+toDisplayString(t.action.slug_id),1),createBaseVNode("p",_hoisted_7$1C,toDisplayString(t.action.slug.command||"Не указана"),1),createBaseVNode("p",_hoisted_8$1w,[t.reloadable?(openBlock(),createElementBlock("span",_hoisted_9$1s,[_hoisted_10$1l,createTextVNode("После обмена перезагружается по новой")])):(openBlock(),createElementBlock("span",_hoisted_11$1h,[_hoisted_12$1g,createTextVNode("Единоразовая акция")]))]),createBaseVNode("p",_hoisted_13$1b,toDisplayString(t.action.slug.comment||"Не указан"),1),createBaseVNode("ul",_hoisted_14$18,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.max_attempts||10,a=>(openBlock(),createElementBlock("li",{class:normalizeClass({active:a<=t.action.current_attempts}),onClick:n=>a<=t.action.current_attempts?t.completeClick():t.requestClick()},[a<=t.action.current_attempts?(openBlock(),createElementBlock("span",{key:0,innerHTML:t.icon,style:normalizeStyle({color:t.icon_color})},null,12,_hoisted_16$16)):(openBlock(),createElementBlock("span",_hoisted_17$10,_hoisted_19$Y))],10,_hoisted_15$16))),256))]),t.need_show_form?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[0]||(s[0]=withModifiers(a=>t.need_show_form=!0,["prevent"])),disabled:t.action.current_attempts!==t.action.max_attempts,class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-green2-light w-100 mb-1"}," Обменять бонусы ",8,_hoisted_20$X)),t.need_show_form?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[3]||(s[3]=withModifiers((...a)=>t.exchange&&t.exchange(...a),["prevent"]))},[createBaseVNode("div",_hoisted_21$V,[_hoisted_22$V,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-name","onUpdate:modelValue":s[1]||(s[1]=a=>t.userForm.name=a),placeholder:"Имя пользователя",required:""},null,512),[[vModelText,t.userForm.name]])]),createBaseVNode("div",_hoisted_23$Q,[_hoisted_24$O,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-phone","onUpdate:modelValue":s[2]||(s[2]=a=>t.userForm.phone=a),placeholder:"Номер телефона пользователя",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.userForm.phone]])]),_hoisted_25$M],32)):createCommentVNode("",!0),createVNode(ReturnToBot)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),BonusProduct=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1R},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1Q={key:0,id:"user-profile-info"},_hoisted_2$1O={class:"card card-style bg-theme pb-0"},_hoisted_3$1M={class:"content mb-0"},_hoisted_4$1H={key:0,class:"card card-style"},_hoisted_5$1G={class:"content"},_hoisted_6$1F={class:"text-center"},_hoisted_7$1B={class:"mb-0 text-center font-weight-bold"},_hoisted_8$1v={class:"mb-0 text-center font-weight-bold"},_hoisted_9$1r={key:0},_hoisted_10$1k=createBaseVNode("i",{class:"fa-solid fa-rotate mr-1 color-green2-light"},null,-1),_hoisted_11$1g={key:1},_hoisted_12$1f=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-1 color-red1-light"},null,-1),_hoisted_13$1a={class:"mb-0"},_hoisted_14$17={class:"d-flex justify-content-around flex-wrap save-up"},_hoisted_15$15=["onClick"],_hoisted_16$15=["innerHTML"],_hoisted_17$$={key:1},_hoisted_18$_=createBaseVNode("i",{class:"fa-solid fa-question"},null,-1),_hoisted_19$X=[_hoisted_18$_],_hoisted_20$W=["disabled"],_hoisted_21$U={class:"mb-3"},_hoisted_22$U=createBaseVNode("label",{for:"user-name",class:"form-label"},"Запросите имя пользователя",-1),_hoisted_23$P={class:"mb-3"},_hoisted_24$N=createBaseVNode("label",{for:"user-phone",class:"form-label"},"Запросите телефон пользователя",-1),_hoisted_25$L=createBaseVNode("div",{class:"mb-1"},[createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Обменять бонусы ")],-1),__default__$1c={data(){return{action:null,botUser:null,loading:!1,icon:null,icon_color:null,reloadable:!1,request_telegram_chat_id:null,need_show_form:!1,userForm:{name:null,phone:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf);const o=new URLSearchParams(window.location.search),t=JSON.parse(o.get("user"));t&&(this.request_telegram_chat_id=t,this.loadActionData())},methods:{requestClick(){if(this.loading){this.$botNotification.warning("Упс!","Вы уже выполняете это действие");return}this.loading=!0,this.$store.dispatch("bonusProductCheck",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.loading=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно отметили бонус пользователю")}).catch(()=>{this.loading=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},exchange(){this.loading=!0,this.$store.dispatch("bonusProductExchange",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id,...this.userForm}}).then(o=>{this.loading=!1,this.need_show_form=!1,this.loadActionData(),this.$botNotification.success("Отлично!","Вы успешно обменяли бонусы пользователя на приз!")}).catch(()=>{this.loading=!1,this.need_show_form=!1,this.$botNotification.warning("Упс!","Что-то пошло не так!")})},completeClick(){this.$botNotification.success("Отлично!","В этой ячейке уже есть отметка о бонусе:)")},loadActionData(){this.loading=!0,this.$store.dispatch("loadActionData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.action=o.action,this.icon=o.icon,this.icon_color=o.icon_color,this.reloadable=o.reloadable,this.botUser=o.action.bot_user,this.userForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.userForm.phone=this.botUser.phone||null,this.loading=!1}).catch(()=>{this.loading=!1})}}},_sfc_main$1Q=Object.assign(__default__$1c,{__name:"MessageToUser",setup(o){return(t,s)=>{const i=resolveDirective("mask");return t.request_telegram_chat_id?(openBlock(),createElementBlock("div",_hoisted_1$1Q,[createBaseVNode("div",_hoisted_2$1O,[createBaseVNode("div",_hoisted_3$1M,[t.botUser?(openBlock(),createBlock(UserInfo$1,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0),createVNode(ReturnToBot,{class:"mb-3"})])]),t.action?(openBlock(),createElementBlock("div",_hoisted_4$1H,[createBaseVNode("div",_hoisted_5$1G,[createBaseVNode("h6",_hoisted_6$1F,"Личная накопительная карта пользвателя #"+toDisplayString(t.action.slug_id),1),createBaseVNode("p",_hoisted_7$1B,toDisplayString(t.action.slug.command||"Не указана"),1),createBaseVNode("p",_hoisted_8$1v,[t.reloadable?(openBlock(),createElementBlock("span",_hoisted_9$1r,[_hoisted_10$1k,createTextVNode("После обмена перезагружается по новой")])):(openBlock(),createElementBlock("span",_hoisted_11$1g,[_hoisted_12$1f,createTextVNode("Единоразовая акция")]))]),createBaseVNode("p",_hoisted_13$1a,toDisplayString(t.action.slug.comment||"Не указан"),1),createBaseVNode("ul",_hoisted_14$17,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.action.max_attempts||10,a=>(openBlock(),createElementBlock("li",{class:normalizeClass({active:a<=t.action.current_attempts}),onClick:n=>a<=t.action.current_attempts?t.completeClick():t.requestClick()},[a<=t.action.current_attempts?(openBlock(),createElementBlock("span",{key:0,innerHTML:t.icon,style:normalizeStyle({color:t.icon_color})},null,12,_hoisted_16$15)):(openBlock(),createElementBlock("span",_hoisted_17$$,_hoisted_19$X))],10,_hoisted_15$15))),256))]),t.need_show_form?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[0]||(s[0]=withModifiers(a=>t.need_show_form=!0,["prevent"])),disabled:t.action.current_attempts!==t.action.max_attempts,class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-green2-light w-100 mb-1"}," Обменять бонусы ",8,_hoisted_20$W)),t.need_show_form?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[3]||(s[3]=withModifiers((...a)=>t.exchange&&t.exchange(...a),["prevent"]))},[createBaseVNode("div",_hoisted_21$U,[_hoisted_22$U,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-name","onUpdate:modelValue":s[1]||(s[1]=a=>t.userForm.name=a),placeholder:"Имя пользователя",required:""},null,512),[[vModelText,t.userForm.name]])]),createBaseVNode("div",_hoisted_23$P,[_hoisted_24$N,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"user-phone","onUpdate:modelValue":s[2]||(s[2]=a=>t.userForm.phone=a),placeholder:"Номер телефона пользователя",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.userForm.phone]])]),_hoisted_25$L],32)):createCommentVNode("",!0),createVNode(ReturnToBot)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),MessageToUser=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1Q},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1P={key:0},_hoisted_2$1N={class:"d-flex flex-column mt-2"},_hoisted_3$1L={class:"d-flex my-3 w-100"},_hoisted_4$1G={class:"pt-1"},_hoisted_5$1F={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_6$1E={key:0},_hoisted_7$1A={key:1},_hoisted_8$1u={class:"ml-auto mr-4 pr-2"},_hoisted_9$1q={class:"custom-control ios-switch ios-switch-icon"},_hoisted_10$1j=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),_hoisted_11$1f=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_12$1e=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_13$19={key:0},_hoisted_14$16=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_15$14=["onClick"],_hoisted_16$14=createBaseVNode("a",{href:"#",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_17$_={key:1},_hoisted_18$Z=createBaseVNode("div",{class:"alert alert-warning mt-2",role:"alert"}," К сожалению мы не нашли нужных ботов... ",-1),_hoisted_19$W=[_hoisted_18$Z],__default__$1b={props:{companyId:null,selectedBotId:null},data(){return{need_self_bots:!1,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],search:null,bots_paginate_object:null}},watch:{need_self_bots:function(){this.loadBots()}},computed:{...mapGetters(["getBots","getBotsPaginateObject","getCurrentCompany"]),filteredBots(){return this.bots?this.bots.filter(o=>o.deleted_at==null):[]}},mounted(){this.loadBots()},methods:{duplicate(o){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:o,company_id:this.getCurrentCompany.id}}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.loadBots(s),this.$notify("Указанный бот успешно продублирован")})},selectBot(o){this.$emit("callback",o),this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(o){this.loadBots(o)},loadBots(o=0){this.loading=!0,this.$store.dispatch("loadSimpleBots",{dataObject:{companyId:this.companyId||null,needSelfBots:this.need_self_bots,search:this.search},page:o}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1P=Object.assign(__default__$1b,{__name:"BotList",setup(o){return(t,s)=>t.show?(openBlock(),createElementBlock("div",_hoisted_1$1P,[createBaseVNode("div",_hoisted_2$1N,[withDirectives(createBaseVNode("input",{type:"search",class:"form-control mb-2",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:s[1]||(s[1]=(...i)=>t.loadBots&&t.loadBots(...i)),type:"button",id:"button-addon2"},"Найти ")]),createBaseVNode("div",_hoisted_3$1L,[createBaseVNode("div",_hoisted_4$1G,[createBaseVNode("h5",_hoisted_5$1F,[t.need_self_bots?(openBlock(),createElementBlock("strong",_hoisted_6$1E,"Все боты в системе")):createCommentVNode("",!0),t.need_self_bots?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_7$1A,"Только мои боты"))])]),createBaseVNode("div",_hoisted_8$1u,[createBaseVNode("div",_hoisted_9$1q,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=i=>t.need_self_bots=i),class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.need_self_bots]]),_hoisted_10$1j,_hoisted_11$1f,_hoisted_12$1e])])]),t.bots.length>0?(openBlock(),createElementBlock("div",_hoisted_13$19,[_hoisted_14$16,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredBots,(i,a)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",class:normalizeClass(["d-flex justify-content-between align-items-center btn btn-border px-2 py-1 btn-full mb-2 rounded-xl text-uppercase font-900 bg-theme",{" border-blue2-dark color-blue2-dark":o.selectedBotId!=i.id," border-green2-dark color-green2-dark":o.selectedBotId===i.id}])},[createBaseVNode("strong",{onClick:n=>t.selectBot(i),class:"font-12 w-100 text-center",style:{"word-wrap":"break-word"}},[createBaseVNode("i",{class:normalizeClass([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),createTextVNode(toDisplayString(i.bot_domain||"Не указано"),1)],8,_hoisted_15$14),_hoisted_16$14],2))),256)),t.bots_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_17$_,_hoisted_19$W))])):createCommentVNode("",!0)}}),CompanyList_vue_vue_type_style_index_0_lang="",_hoisted_1$1O={key:0},_hoisted_2$1M=createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-1"},null,-1),_hoisted_3$1K={key:0},_hoisted_4$1F=["onClick"],_hoisted_5$1E=["onClick"],_hoisted_6$1D=createBaseVNode("i",{class:"fa-solid fa-boxes-packing"},null,-1),_hoisted_7$1z=[_hoisted_6$1D],_hoisted_8$1t=["onClick"],_hoisted_9$1p=createBaseVNode("i",{class:"fa-solid fa-box-open"},null,-1),_hoisted_10$1i=[_hoisted_9$1p],_hoisted_11$1e={key:1,class:"row text-center row-cols-3 mb-n4"},_hoisted_12$1d=["onClick","title"],_hoisted_13$18=["alt"],_hoisted_14$15={key:0,class:"company-bot-count-badge rounded-circle bg-highlight text-white"},_hoisted_15$13={key:0,class:"col-12 mb-2"},_hoisted_16$13={class:"col-12 mb-3"},_hoisted_17$Z={key:2,class:"alert alert-warning",role:"alert"},__default__$1a={props:["visualMode"],data(){return{selectedCompanyId:null,show:!0,loading:!0,companies:[],search:null,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],companies_paginate_object:null}},computed:{...mapGetters(["getCompanies","getCompaniesPaginateObject"]),filteredCompanies(){if(!this.companies)return[];if(this.selectedFilters.length===0&&this.search==null)return this.companies;if(this.selectedFilters.length===0&&this.search!=null)return this.companies.filter(t=>(t.title||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1);let o=[];return this.selectedFilters.forEach(t=>{switch(t.slug){case"active":this.companies.filter(s=>s.deleted_at==null).forEach(s=>{o.push(s)});break;case"archive":this.companies.filter(s=>s.deleted_at!=null).forEach(s=>{o.push(s)});break}}),this.search==null?o:o.filter(t=>(t.title||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1)}},mounted(){this.loadCompanies(),this.selectFilter("active")},methods:{addToArchive(o){this.$store.dispatch("removeManagerCompany",{companyId:o}).then(t=>{let s=this.companies_paginate_object.meta.current_page||0;this.loadCompanies(s),this.$notify("Указанный клиент успешно перемещен в архив")})},extractFromArchive(o){this.$store.dispatch("restoreCompany",{companyId:o}).then(t=>{let s=this.companies_paginate_object.meta.current_page||0;this.loadCompanies(s),this.$notify("Указанный клиент успешно перемещен из архива")})},selectFilter(o){let t=this.filters.find(i=>i.slug===o),s=this.selectedFilters.findIndex(i=>i.slug===o);t&&s===-1?this.selectedFilters.push(t):this.selectedFilters.splice(s,1)},removeSelectedFilter(o){let t=this.selectedFilters.findIndex(s=>s.slug===o);this.selectedFilters.splice(t,1)},selectCompany(o){this.selectedCompanyId=o?o.id:null,this.$emit("callback",o)},nextCompanies(o){this.loadCompanies(o)},loadCompanies(o=0){this.loading=!0,this.$store.dispatch("loadManagersCompanies",{dataObject:{search:this.search},page:o,size:12}).then(t=>{this.loading=!1,this.companies=this.getCompanies,this.companies_paginate_object=this.getCompaniesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1O=Object.assign(__default__$1a,{__name:"CompanyList",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return t.show?(openBlock(),createElementBlock("div",_hoisted_1$1O,[withDirectives(createBaseVNode("input",{type:"search",class:"form-control w-100 mb-2",placeholder:"Поиск компании","aria-label":"Поиск компании","onUpdate:modelValue":s[0]||(s[0]=a=>t.search=a),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),createBaseVNode("button",{class:"w-100 btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:s[1]||(s[1]=a=>t.loadCompanies(0)),type:"button",id:"button-addon2"},[_hoisted_2$1M,createTextVNode(" Найти ")]),t.companies.length>0&&!o.visualMode?(openBlock(),createElementBlock("div",_hoisted_3$1K,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredCompanies,(a,n)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",class:normalizeClass(["btn btn-border btn-xs btn-full mb-2 rounded-sm text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme mb-1 d-flex justify-content-between align-items-center",{"btn-outline-info":a.deleted_at==null,"btn-outline-danger border-danger":a.deleted_at!=null}])},[createBaseVNode("span",{class:normalizeClass(["mb-0",{"text-danger":a.deleted_at!=null}]),onClick:r=>t.selectCompany(a)},toDisplayString(a.title||"Не указано"),11,_hoisted_4$1F),a.deleted_at==null?(openBlock(),createElementBlock("button",{key:0,class:"btn btn-border btn-xs btn-full rounded-xl text-uppercase font-900 border-red2-dark color-red2-dark bg-theme",type:"button",onClick:r=>t.addToArchive(a.id),title:"В архив"},_hoisted_7$1z,8,_hoisted_5$1E)):createCommentVNode("",!0),a.deleted_at!=null?(openBlock(),createElementBlock("button",{key:1,class:"btn btn-border btn-xs btn-full rounded-xl text-uppercase font-900 border-green2-dark color-green2-dark bg-theme",type:"button",onClick:r=>t.extractFromArchive(a.id),title:"Из архива"},_hoisted_10$1i,8,_hoisted_8$1t)):createCommentVNode("",!0)],2))),256)),t.companies_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextCompanies,pagination:t.companies_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.companies.length>0&&o.visualMode?(openBlock(),createElementBlock("div",_hoisted_11$1e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.companies,a=>(openBlock(),createElementBlock("a",{class:"col mb-4 default-link",href:"javascript:void(0)",onClick:n=>t.selectCompany(a),title:a.title||"Без названия"},[withDirectives(createBaseVNode("img",{class:"img-fluid rounded-xs preload-img",alt:a.title||"Не указано"},null,8,_hoisted_13$18),[[i,"/images-by-company-id/"+a.id+"/"+a.image]]),createBaseVNode("span",{class:normalizeClass([{"company-border-select":t.selectedCompanyId==a.id},"company-image-badge"])},toDisplayString(a.title||"Без названия"),3),a.bot_count>0?(openBlock(),createElementBlock("span",_hoisted_14$15,toDisplayString(a.bot_count||0),1)):createCommentVNode("",!0)],8,_hoisted_12$1d))),256)),t.selectedCompanyId?(openBlock(),createElementBlock("div",_hoisted_15$13,[createBaseVNode("a",{class:"col mb-4 default-link",href:"javascript:void(0)",onClick:s[2]||(s[2]=a=>t.selectCompany(null))}," Сброс ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$13,[t.companies_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextCompanies,pagination:t.companies_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_17$Z," Вы еще не завели ни одного клиента! "))])):createCommentVNode("",!0)}}}),BaseBotConstructor_vue_vue_type_style_index_0_lang="",_hoisted_1$1N={key:0,class:"card card-style"},_hoisted_2$1L={class:"content mb-0"},_hoisted_3$1J=createBaseVNode("h2",null,"Создание клиента",-1),_hoisted_4$1E=createBaseVNode("h6",null,"Так-с, создаем нового клиента или используем уже созданного клиента?",-1),_hoisted_5$1D=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_6$1C=createBaseVNode("h6",null,"Выбрать клиента из списка",-1),_hoisted_7$1y={key:1,class:"card card-style"},_hoisted_8$1s={class:"content mb-0"},_hoisted_9$1o=createBaseVNode("h2",{class:"my-5"},"Персональная информация",-1),_hoisted_10$1h=createBaseVNode("p",{class:"mt-2 mb-2"},[createBaseVNode("span",{class:"badge bg-light text-primary p-2 mr-2"},[createBaseVNode("i",{class:"fa-regular fa-bell"})]),createTextVNode(" Напишите подробную информацию о клиенте и его фото")],-1),_hoisted_11$1d={class:"form-floating mb-2 w-100"},_hoisted_12$1c=createBaseVNode("label",{for:"form-selfInfo-name",class:"text-primary"},"Ф.И.О. клиента",-1),_hoisted_13$17={class:"form-floating mb-2 w-100"},_hoisted_14$14=createBaseVNode("label",{for:"form-selfInfo-phone",class:"text-primary"},"Личный номер телефона клиента для связи менеджера",-1),_hoisted_15$12={class:"form-floating mb-2 w-100"},_hoisted_16$12=createBaseVNode("label",{for:"form-selfInfo-text",class:"text-primary"},"Информация о клиенте:",-1),_hoisted_17$Y=createBaseVNode("h2",{class:"my-5"},"Информация о бизнесе",-1),_hoisted_18$Y=createBaseVNode("p",{class:"mt-2 mb-2"},[createBaseVNode("span",{class:"badge bg-light text-primary p-2 mr-2"},[createBaseVNode("i",{class:"fa-regular fa-bell"})]),createTextVNode(" Напишите подробную информацию о бизнесе клиента и добавьте логотип компании. Он будет использоваться для общедоступной информации о клиенте.")],-1),_hoisted_19$V={class:"form-floating mb-2 w-100"},_hoisted_20$V=createBaseVNode("label",{for:"form-business-info-name",class:"text-primary"},"Название организации клиента (имя компании)",-1),_hoisted_21$T={class:"form-floating mb-2 w-100"},_hoisted_22$T=createBaseVNode("label",{for:"form-business-info-text",class:"text-primary"},"Информация о бизнесе:",-1),_hoisted_23$O=createBaseVNode("h2",{class:"my-5"},"Контактная информация",-1),_hoisted_24$M={class:"card bg-20 m-0 content rounded-m shadow mb-2 w-100"},_hoisted_25$K={class:"card-body"},_hoisted_26$I=createBaseVNode("h6",{class:"color-white"},[createTextVNode("А также добавьте контактную информацию, нажав на "),createBaseVNode("i",{class:"fa-solid fa-square-plus"})],-1),_hoisted_27$G={class:"card card-style ml-0 mr-0 mb-3 bg-white"},_hoisted_28$F={class:"content"},_hoisted_29$C=["onUpdate:modelValue"],_hoisted_30$B=["value"],_hoisted_31$B={class:"form-floating w-100"},_hoisted_32$A=["for"],_hoisted_33$A=["pattern","id","onUpdate:modelValue"],_hoisted_34$A=["pattern","id","onUpdate:modelValue"],_hoisted_35$A={class:"form-floating mt-1"},_hoisted_36$A=["for"],_hoisted_37$A=["onUpdate:modelValue","id"],_hoisted_38$w={class:"d-flex justify-content-center mt-3"},_hoisted_39$x=["onClick"],_hoisted_40$u=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_41$u=[_hoisted_40$u],_hoisted_42$u=["onClick"],_hoisted_43$u=createBaseVNode("i",{class:"fa-solid fa-clone"},null,-1),_hoisted_44$u=[_hoisted_43$u],_hoisted_45$t=createBaseVNode("i",{class:"fa-solid fa-square-plus mr-1"},null,-1),_hoisted_46$t={key:0,class:"divider divider-small my-3 bg-white"},_hoisted_47$s=createBaseVNode("i",{class:"fa-solid fa-trash mr-1"},null,-1),_hoisted_48$r=createBaseVNode("div",{class:"card-overlay bg-blue2-dark opacity-95 rounded-m shadow-l"},null,-1),_hoisted_49$q=createBaseVNode("div",{class:"card-overlay dark-mode-tint rounded-m shadow-l"},null,-1),_hoisted_50$o={class:"mt-3 w-100"},_hoisted_51$o={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_52$p={class:"custom-alert-text"},_hoisted_53$n=["onClick"],_hoisted_54$n=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_55$m=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),_hoisted_56$m={key:2,class:"card card-style"},_hoisted_57$m={class:"content mb-0"},_hoisted_58$l=createBaseVNode("h2",null,"Создадим непосредственно бота",-1),_hoisted_59$k=createBaseVNode("h6",null,[createBaseVNode("span",{class:"badge bg-light text-primary p-2 mr-2"},[createBaseVNode("i",{class:"fa-regular fa-bell"})]),createTextVNode("Первым делом необходимо имя бота (на русском - для пользователей, на английском - как ссылка на вашего бота)")],-1),_hoisted_60$h={class:"form-floating mb-2 w-100"},_hoisted_61$g=createBaseVNode("label",{for:"floatingTextarea",class:"text-primary"},"Название бота (на русском)",-1),_hoisted_62$e=createStaticVNode('<div class="border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 mb-2"><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i> Ссылка должна быть длинной (от 7 символов) и, по возможности, уникальной. </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>Ссылка должна заканчиваться словом &quot;bot&quot; </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>Ссылка должна состоть только из английских символов и символов нижнего подчеркивания </p><p class="mb-1"><i class="fa-solid fa-hand-point-right mr-2 text-primary"></i>В ссылке нельзя ставить пробелы </p><strong>Рекомендации для коллег</strong></div>',1),_hoisted_63$e={class:"d-flex w-100"},_hoisted_64$e={class:"pt-1"},_hoisted_65$e={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_66$e={key:0},_hoisted_67$e={key:1},_hoisted_68$d={class:"ml-auto mr-4 pr-2"},_hoisted_69$d={class:"custom-control ios-switch ios-switch-icon"},_hoisted_70$d=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),_hoisted_71$d=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_72$c=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_73$c={key:0,class:"form-floating mb-2 w-100"},_hoisted_74$c=createBaseVNode("label",{for:"form-bot-domain",class:"text-primary"},"Доменное имя бота на английском",-1),_hoisted_75$c={class:"border-green1-dark pl-3 border-left border-top-0 border-bottom-0 border-right-0 mb-2"},_hoisted_76$b=createBaseVNode("p",{class:"mb-1"},[createTextVNode("Если у Вас есть "),createBaseVNode("a",{href:"https://t.me/botFather",class:"text-primary"},"Token"),createTextVNode(", то Вы сразу же сможете протестировать своего бота на практике. Если же Token-а нет, то вам помогут его создать наши менеджеры.")],-1),_hoisted_77$b={class:"d-flex"},_hoisted_78$a={class:"pt-1"},_hoisted_79$9={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_80$9={key:0},_hoisted_81$9={key:1},_hoisted_82$9={class:"ml-auto mr-4 pr-2"},_hoisted_83$9={class:"custom-control ios-switch ios-switch-icon"},_hoisted_84$7=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-2"},null,-1),_hoisted_85$7=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_86$7=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_87$7={key:1,class:"form-floating mb-2 w-100"},_hoisted_88$7=createBaseVNode("label",{for:"floatingTextarea",class:"text-primary"},"Телеграм token бота",-1),_hoisted_89$7={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_90$7={class:"custom-alert-text"},_hoisted_91$7=["onClick"],_hoisted_92$6=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_93$6=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),_hoisted_94$6={key:3,class:"card card-style"},_hoisted_95$5={class:"content mb-0"},_hoisted_96$5={class:"d-flex w-100"},_hoisted_97$5={class:"pt-1"},_hoisted_98$5={"data-activate":"toggle-need-create-bot",class:"font-500 font-13"},_hoisted_99$5={key:0},_hoisted_100$5={key:1},_hoisted_101$5={class:"ml-auto mr-4 pr-2"},_hoisted_102$5={class:"custom-control ios-switch ios-switch-icon"},_hoisted_103$5=createBaseVNode("label",{class:"custom-control-label",for:"toggle-need-create-bot"},null,-1),_hoisted_104$5=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_105$5=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_106$5={key:0},_hoisted_107$5={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_108$5={class:"custom-alert-text"},_hoisted_109$5=["onClick"],_hoisted_110$5=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_111$5=createBaseVNode("h2",null,"Хочу себе в бота ",-1),_hoisted_112$5={key:0},_hoisted_113$5=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1 text-danger"},null,-1),_hoisted_114$5=[_hoisted_113$5],_hoisted_115$5={class:"row mb-2"},_hoisted_116$5={class:"col-6 col-md-4 col-lg-3 mb-2 position-relative"},_hoisted_117$5={class:"relative"},_hoisted_118$5=["disabled","value","id"],_hoisted_119$5=["for"],_hoisted_120$4={class:"small"},_hoisted_121$4=["onClick"],_hoisted_122$4=createBaseVNode("i",{class:"fa-regular fa-lightbulb"},null,-1),_hoisted_123$4=[_hoisted_122$4],_hoisted_124$4={key:0},_hoisted_125$4={class:"badge bg-light text-primary mr-2"},_hoisted_126$4={key:1},_hoisted_127$4=createBaseVNode("p",{class:"alert border-success m-0 my-2"},"Опишите ваши индивидуальные потребности и наши разработчики неприменно реализуют данную фичу для Вас!",-1),_hoisted_128$4={class:"form-floating mt-1"},_hoisted_129$4=createBaseVNode("label",{class:"text-primary",for:"individual-description-textarea"},"Описание фичи",-1),_hoisted_130$4={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_131$4={class:"custom-alert-text"},_hoisted_132$3=["onClick"],_hoisted_133$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_134$3=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Следующий шаг ",-1),_hoisted_135$3={key:4,class:"card card-style"},_hoisted_136$3={class:"content mb-0"},_hoisted_137$3=createBaseVNode("h6",null,"Добавьте нужные страницы в бота:",-1),_hoisted_138$3={class:"form-floating mb-2 w-100"},_hoisted_139$3=createBaseVNode("label",{for:"pageForm-title",class:"text-primary"},"Название страницы",-1),_hoisted_140$3=createBaseVNode("button",{type:"submit",class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-blue2-dark w-100"}," Добавить страницу ",-1),_hoisted_141$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_142$3={key:0},_hoisted_143$3={class:"d-flex align-items-center btn w-100 btn-border mb-2 rounded-sm text-left font-900 border-blue1-dark color-blue1-dark bg-theme"},_hoisted_144$3={key:0,class:"w-100 p-2 font-12"},_hoisted_145$3=["onUpdate:modelValue"],_hoisted_146$3=["onClick"],_hoisted_147$3=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_148$3=[_hoisted_147$3],_hoisted_149$3={class:"mb-2 alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_150$3={class:"custom-alert-text"},_hoisted_151$3=["onClick"],_hoisted_152$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_153$3=createBaseVNode("p",{class:"mb-2"},"Так-с, финальный этап! Сейчас мы создадим демо и сможем перейти к завершению создания бота!",-1),_hoisted_154$3={key:5,class:"card card-style"},_hoisted_155$3={class:"content mb-0"},_hoisted_156$3={class:"w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_157$3=createBaseVNode("h2",null,"Демонстрация работы бота",-1),_hoisted_158$3={href:"#"},_hoisted_159$3={class:"mb-0"},_hoisted_160$3={class:"mobile mb-2 p-0"},_hoisted_161$3=["src"],_hoisted_162$3={key:0,class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_163$3=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation"})],-1),_hoisted_164$3=createBaseVNode("strong",null,"Тоукен не указан!",-1),_hoisted_165$2=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"× ",-1),_hoisted_166$2=[_hoisted_163$3,_hoisted_164$3,_hoisted_165$2],_hoisted_167$2={key:6,class:"card card-style"},_hoisted_168$2={class:"content mb-0"},_hoisted_169$2=createStaticVNode('<h2 class="text-center mt-3 mb-0">Оформление заказа</h2><h6 class="text-center mb-3">Выберите тариф для подключения</h6><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-green2-dark text-uppercase">Пробный</h1><h3 class="pricing-value text-center bg-green1-light color-white font-40">3999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-green1-light font-16">Разовый на 1 месяц</h2><ul class="pricing-list text-center"><li>1 бот</li><li>до 20 страниц</li><li>до 10 любых модулей</li><li>1 месяц тех. поддержки</li></ul><a href="#" class="btn btn-s bg-green2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.01% персональной скидки менеджера</p></div><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-blue2-dark text-uppercase">Базовый</h1><h3 class="pricing-value text-center bg-blue2-light color-white font-40">6999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-blue2-light font-16">+2500руб\\месяц</h2><ul class="pricing-list text-center"><li>до 3х ботов</li><li>до 20 страниц в боте</li><li>жо 20 модулей в боте</li><li>неограниченно тех.поддержка</li><li>интеграция с CRM</li><li>до 2х пользовательских модулей индивидуальной разработки</li></ul><a href="#" class="btn btn-s bg-blue2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.05% персональной скидки менеджера</p></div><div class="pricing-4 rounded-m shadow-m bg-theme"><h1 class="pricing-title text-center bg-red2-dark text-uppercase">V.I.P.</h1><h3 class="pricing-value text-center bg-red2-light color-white font-40">26999<sup>руб</sup></h3><h2 class="pricing-subtitle text-center bg-red2-light font-16">+6 500руб\\месяц</h2><ul class="pricing-list text-center"><li>неограниченное число ботов</li><li>неограниченно страниц</li><li>неограниченно модулей</li><li>неограниченно тех.поддержка</li><li>интеграция с CRM</li><li>пользовательская индивидуальная разработка</li></ul><a href="#" class="btn btn-s bg-red2-dark btn-center-l text-uppercase rounded-s font-900">Выбрать</a><p class="text-center color-gray-dark small-text font-10 uppercase mt-2 mb-0 pb-0">+0.5% персональной скидки менеджера</p></div>',5),__default__$19={props:["start"],data(){return{messages:[],load:!1,step:0,pageForm:{title:null},form:{name:null,botDomain:null,has_token:!1,has_name:!1,need_all_photo:!0,token:null,need_create_bot:!0,selected_bot_id:null,selected_company_id:null,cashback:{level_1:7,level_2:3,level_3:1},greeting:{text:null,avatar:null,profile:null,need_photo:!0},contacts:{need_photo:!0,image:null,links:[]},selfInfo:{name:null,phone:null,text:null,image:null,need_photo:!0},businessInfo:{name:null,text:null,image:null,need_photo:!0},functions:["cashback","friends-system","ask-a-question","location","wheel-of-fortune"],pages:[{title:"/start",comment:"Начни с этого момента",isStatic:!0},{title:"/help",comment:"Страница помощи",isStatic:!0},{title:"/about",comment:"Страница описания бота",isStatic:!0}],individual:null},contactTypes:[{title:"Номер телефона",mask:"+7(###)###-##-##",pattern:null,slug:"phone-number",icon:"fa-solid fa-mobile-screen"},{title:"Эл.почта",pattern:null,mask:null,slug:"email",icon:"fa-solid fa-at"},{title:"Адресс",pattern:null,mask:null,slug:"address",icon:"fa-solid fa-location-dot"},{title:"Соц.сети",pattern:null,mask:null,slug:"social-link",icon:"fa-solid fa-square-share-nodes"},{title:"Сайт",pattern:null,mask:null,slug:"web-site-link",icon:"fa-solid fa-laptop"},{title:"Месенджер",pattern:null,mask:null,slug:"messenger-link",icon:"fa-regular fa-envelope"}],moreFunctions:[{title:"КэшБек",description:"Например три уровня  7% , 3% и 1% + фото.",slug:"cashback",icon:"fa-solid fa-sack-dollar",is_active:!0},{title:"Бонус за рекомендации",description:"Приграси 5 друзе и получи подарок",slug:"referral-bonus",icon:"fa-solid fa-money-bill-trend-up",is_active:!0},{title:"AMO CRM",description:"Интеграция с AMO CRM",slug:"amo-crm",icon:"fa-solid fa-money-bill-trend-up",is_active:!0},{title:"Система друзей",description:"Реферальная система друзей",slug:"friends-system",icon:"fa-solid fa-people-pulling",is_active:!0},{title:"Регистрация на мероприятия",slug:"event-form",description:"Вы можете регистрировать людей на мероприятия через нашего чат бата или же сообщать о своих ближайших мероприятиях",icon:"fa-solid fa-calendar-check",is_active:!0},{title:"Интеграция с каналами Telegram",description:"Мы может интегрировать ваш канал в наш бот",slug:"telegram-channel-integration",icon:"fa-brands fa-telegram",is_active:!0},{title:"Лид магнит",slug:"lead-magnet",icon:"fa-solid fa-magnet",description:"Лид магнит продумывается индивидуально",is_active:!0},{title:"Воронка продаж",slug:"sales-funnel",description:"Воронка продаж продумывается индивидуально",icon:"fa-solid fa-filter-circle-dollar",is_active:!0},{title:"Отзывы",slug:"reviews",description:"Можете добавить отзывы в бот чтобы людям не приходилось искать отзовы на других площадках ",icon:"fa-solid fa-magnifying-glass-dollar",is_active:!0},{title:"Задать вопрос",slug:"ask-a-question",description:"Люди смогут задавать вопрос прямо в бот, а Вы отвечать им уже лично",icon:"fa-solid fa-clipboard-question",is_active:!0},{title:"Получить онлайн консультацию",slug:"online-consultation",description:"Запись на консультацию",icon:"fa-solid fa-circle-info",is_active:!0},{title:"Локация",slug:"location",description:"Ваш адрес, если необходим вашему бизнесу ",icon:"fa-solid fa-map-location-dot",is_active:!0},{title:"Акции",slug:"promotions",description:"Вы сможете выкладывать акции и распродажи",icon:"fa-solid fa-percent",is_active:!0},{title:"Наши клиенты",slug:"our-clients",description:"Сюда Вы сможете выложить фото ваших гостей ",icon:"fa-solid fa-carrot",is_active:!0},{title:"Инвесторам",slug:"investors",description:"Предложения для инвестрора",icon:"fa-solid fa-comment-dollar",is_active:!0},{title:"Стоимость услуг",slug:"cost-of-services",description:"Ваш прайс или меню",icon:"fa-solid fa-money-check-dollar",is_active:!0},{title:"Ваш магазин",slug:"custom-shop",description:"Ваш индивидуальный магазин внутри бота с возможностью оплаты онлайн",icon:"fa-brands fa-shopify",is_active:!0},{title:"Забронировать номер/столик",slug:"booking",description:"Человет сможет заброниравать в боте или же выйти на менеджера",icon:"fa-solid fa-utensils",is_active:!0},{title:"Атмосфера",slug:"atmosphere",description:"Фото Вашей атмосферы",icon:"fa-solid fa-trophy",is_active:!0},{title:"Курсы",slug:"courses",description:"Информация о курсах",icon:"fa-solid fa-graduation-cap",is_active:!0},{title:"Оплата в боте",slug:"payments",description:"Создавайте запросы на оплату непосредственно в боте",icon:"fa-regular fa-credit-card",is_active:!0},{title:"Колесо фортуны",slug:"wheel-of-fortune",description:"Розыгрыши призов в боте",icon:"fa-solid fa-dharmachakra",is_active:!0},{title:"Квест в Instagram",slug:"insta-quest",description:"Розыгрыши призов в боте c отсылкой на инстаграм",icon:"fa-brands fa-instagram",is_active:!0},{title:"Карточка накоплений",slug:"coffee-card",description:"Система накопления бонусов, например чашек кофе",icon:"fa-solid fa-mug-hot",is_active:!0},{title:"Индивидуальная кнопка",slug:"individual-button",description:"Можете предложить свою кнопку",icon:"fa-solid fa-person-chalkboard",is_active:!0}]}},computed:{},watch:{"form.need_create_bot":{handler:function(o){this.form.selected_bot_id=null,this.form.functions=[]},deep:!0}},mounted(){window.addEventListener("select-notes-event",e=>{let param=e.detail.param,note=e.detail.note;eval(`${this}.${param}=${note}`)}),this.start&&(this.step=this.start)},methods:{start(){this.step=0,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},prevStep(){this.step--,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},nextStep(){this.step++,this.messages=[],window.scrollTo({top:50,behavior:"smooth"})},alert(o){this.messages.push(o)},removeMessage(o){this.messages.splice(o,1)},selectCompany(o){this.form.selected_company_id=o.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного клиента!"),this.step=2},selectBot(o){this.form.selected_bot_id=o.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного бота!")},removePage(o){this.form.pages.splice(o,1)},addPage(){const o=this.pageForm;this.form.pages.push({title:o.title,isStatic:!1}),this.pageForm.title=null},displayDescription(o){this.$botNotification.notification("Информация",o)},getContactsType(o){return this.contactTypes.find(t=>t.slug===o)||null},submitStep5(){this.form.functions.forEach(o=>{let t=this.moreFunctions.find(i=>i.slug===o);this.form.pages.find(i=>i.title===t.title)||null||this.form.pages.push({title:t.title,isStatic:!1})}),this.step++},submitBot(){let o=new FormData;Object.keys(this.form).forEach(t=>{const s=this.form[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.form.greeting.need_photo&&(o.append("greeting_image_avatar",this.form.greeting.avatar),o.append("greeting_image_profile",this.form.greeting.profile)),this.form.contacts.need_photo&&o.append("contacts_image",this.form.contacts.image),this.form.selfInfo.need_photo&&o.append("self_info_image",this.form.selfInfo.image),this.form.businessInfo.need_photo&&o.append("business_info_image",this.form.businessInfo.image),this.$store.dispatch("createBotLazy",{botForm:o}).then(t=>{console.log("response",t),this.form.botDomain=t.botDomain,this.load=!0,console.log("this.form.botDomain",this.form.botDomain),console.log("response.data.botDomain",t.botDomain),this.$nextTick(()=>{this.load=!1}),this.$botNotification.notification("Конструктор ботов","Бот успешно создан!"),this.step++}).catch(t=>{this.step++})},remove(o){this.form.contacts.links.splice(o,1)},duplicate(o){const t={...o};this.form.contacts.links.push(t)},addContact(){const o={slug:"phone-number",value:null,description:null};this.form.contacts.links.push(o)},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o,t,s){const i=o.target.files;this.form[t][s]=i[0]}}},_sfc_main$1N=Object.assign(__default__$19,{__name:"BaseBotConstructor",setup(o){return(t,s)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createElementBlock("div",_hoisted_1$1N,[createBaseVNode("div",_hoisted_2$1L,[_hoisted_3$1J,_hoisted_4$1E,createBaseVNode("button",{onClick:s[0]||(s[0]=a=>t.step=1),class:"w-100 btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme"}," Создать нового клиента "),_hoisted_5$1D,_hoisted_6$1C,createVNode(_sfc_main$1O,{onCallback:t.selectCompany},null,8,["onCallback"])])])):createCommentVNode("",!0),t.step===1?(openBlock(),createElementBlock("div",_hoisted_7$1y,[createBaseVNode("div",_hoisted_8$1s,[createBaseVNode("form",{onSubmit:s[17]||(s[17]=withModifiers((...a)=>t.nextStep&&t.nextStep(...a),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[_hoisted_9$1o,_hoisted_10$1h,createBaseVNode("div",_hoisted_11$1d,[_hoisted_12$1c,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Иванов И.И.","onUpdate:modelValue":s[1]||(s[1]=a=>t.form.selfInfo.name=a),onInvalid:s[2]||(s[2]=a=>t.alert("Вы не добавили Ф.И.О.")),id:"form-selfInfo-name",required:""},null,544),[[vModelText,t.form.selfInfo.name]])]),createBaseVNode("div",_hoisted_13$17,[_hoisted_14$14,withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=a=>t.form.selfInfo.phone=a),placeholder:"+7(000)000-00-00",class:"form-control",onInvalid:s[4]||(s[4]=a=>t.alert("Вы не добавили номер телефона")),id:"form-selfInfo-phone",required:""},null,544),[[vModelText,t.form.selfInfo.phone],[i,"+7(###)###-##-##"]])]),createBaseVNode("div",_hoisted_15$12,[_hoisted_16$12,withDirectives(createBaseVNode("textarea",{style:{"min-height":"150px"},"onUpdate:modelValue":s[5]||(s[5]=a=>t.form.selfInfo.text=a),class:"form-control font-12",onInvalid:s[6]||(s[6]=a=>t.alert("Вы не добавили информацию о клиенте")),placeholder:"Немного деталей о Вас",id:"form-selfInfo-text",required:""},null,544),[[vModelText,t.form.selfInfo.text]])]),_hoisted_17$Y,_hoisted_18$Y,createBaseVNode("div",_hoisted_19$V,[_hoisted_20$V,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"ООО 'Рога и Копыта'","onUpdate:modelValue":s[7]||(s[7]=a=>t.form.businessInfo.name=a),onInvalid:s[8]||(s[8]=a=>t.alert("Вы не добавили название компании!")),id:"form-business-info-name",required:""},null,544),[[vModelText,t.form.businessInfo.name]])]),createBaseVNode("div",_hoisted_21$T,[_hoisted_22$T,withDirectives(createBaseVNode("textarea",{style:{"min-height":"150px"},class:"form-control font-12","onUpdate:modelValue":s[9]||(s[9]=a=>t.form.businessInfo.text=a),placeholder:"Главное начать...",onInvalid:s[10]||(s[10]=a=>t.alert("Вы не добавили описание компании")),id:"form-business-info-text",required:""},null,544),[[vModelText,t.form.businessInfo.text]])]),_hoisted_23$O,createBaseVNode("div",_hoisted_24$M,[createBaseVNode("div",_hoisted_25$K,[_hoisted_26$I,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.contacts.links,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_27$G,[createBaseVNode("div",_hoisted_28$F,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":r=>t.form.contacts.links[n].slug=r,class:"form-control w-100 mb-2"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.contactTypes,r=>(openBlock(),createElementBlock("option",{value:r.slug},toDisplayString(r.title||"Не указан"),9,_hoisted_30$B))),256))],8,_hoisted_29$C),[[vModelSelect,t.form.contacts.links[n].slug]]),createBaseVNode("div",_hoisted_31$B,[createBaseVNode("label",{class:"text-primary",for:"contact-input-"+n},toDisplayString(t.getContactsType(t.form.contacts.links[n].slug).title||"Не указано"),9,_hoisted_32$A),t.getContactsType(t.form.contacts.links[n].slug).mask?withDirectives((openBlock(),createElementBlock("input",{key:0,type:"text",pattern:t.getContactsType(t.form.contacts.links[n].slug).pattern,class:"form-control",placeholder:"Введите данные",onInvalid:s[11]||(s[11]=r=>t.alert("Вы не ввели данные")),id:"contact-input-"+n,"onUpdate:modelValue":r=>t.form.contacts.links[n].value=r,required:""},null,40,_hoisted_33$A)),[[i,t.getContactsType(t.form.contacts.links[n].slug).mask],[vModelText,t.form.contacts.links[n].value]]):withDirectives((openBlock(),createElementBlock("input",{key:1,type:"text",pattern:t.getContactsType(a.slug).pattern,class:"form-control w-100",id:"contact-input-"+n,onInvalid:s[12]||(s[12]=r=>t.alert("Вы не ввели данные")),"onUpdate:modelValue":r=>t.form.contacts.links[n].value=r,required:""},null,40,_hoisted_34$A)),[[vModelText,t.form.contacts.links[n].value]])]),createBaseVNode("div",_hoisted_35$A,[createBaseVNode("label",{class:"text-primary",for:"contact-description-textarea-"+n},"Описание",8,_hoisted_36$A),withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":r=>t.form.contacts.links[n].description=r,onInvalid:s[13]||(s[13]=r=>t.alert("Вы не ввели описание контакта")),placeholder:"Поясните пользователям к чему относится данный контакт",id:"contact-description-textarea-"+n,required:""},`

                                        `,40,_hoisted_37$A),[[vModelText,t.form.contacts.links[n].description]])]),createBaseVNode("div",_hoisted_38$w,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn mr-2 btn-border btn-m btn-full rounded-s text-uppercase font-900 border-red2-dark color-red2-dark bg-theme",onClick:r=>t.remove(n)},_hoisted_41$u,8,_hoisted_39$x),createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-border btn-m btn-full rounded-s text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:r=>t.duplicate(a)},_hoisted_44$u,8,_hoisted_42$u)])])]))),256)),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full my-2 rounded-sm text-uppercase font-900 border-blue1-dark color-blue1-dark bg-theme",onClick:s[14]||(s[14]=(...a)=>t.addContact&&t.addContact(...a))},[_hoisted_45$t,createTextVNode(" Добавить ")]),t.form.contacts.links.length>0?(openBlock(),createElementBlock("div",_hoisted_46$t)):createCommentVNode("",!0),t.form.contacts.links.length>0?(openBlock(),createElementBlock("button",{key:1,type:"button",class:"w-100 btn btn-m btn-full my-2 rounded-sm text-uppercase font-900 border-gray1-dark color-gray1-dark",onClick:s[15]||(s[15]=a=>t.form.contacts.links.length=[])},[_hoisted_47$s,createTextVNode(" Очистить контакты ")])):createCommentVNode("",!0)]),_hoisted_48$r,_hoisted_49$q]),createBaseVNode("div",_hoisted_50$o,[t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.messages,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_51$o,[createBaseVNode("p",_hoisted_52$p,toDisplayString(a||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:r=>t.removeMessage(n),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_53$n)]))),256)):createCommentVNode("",!0)]),_hoisted_54$n,_hoisted_55$m,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[16]||(s[16]=(...a)=>t.prevStep&&t.prevStep(...a))}," Назад ")],32)])])):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock("div",_hoisted_56$m,[createBaseVNode("div",_hoisted_57$m,[createBaseVNode("form",{onSubmit:s[27]||(s[27]=withModifiers((...a)=>t.nextStep&&t.nextStep(...a),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[_hoisted_58$l,_hoisted_59$k,createBaseVNode("div",_hoisted_60$h,[_hoisted_61$g,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50","onUpdate:modelValue":s[18]||(s[18]=a=>t.form.name=a),placeholder:"Например, Шаурма-Бот",onInvalid:s[19]||(s[19]=a=>t.alert("Неверное название бота!")),id:"floatingTextarea",required:""},null,544),[[vModelText,t.form.name]])]),_hoisted_62$e,createBaseVNode("div",_hoisted_63$e,[createBaseVNode("div",_hoisted_64$e,[createBaseVNode("h5",_hoisted_65$e,[t.form.has_name?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_66$e,"Сгенерировать временное имя")),t.form.has_name?(openBlock(),createElementBlock("strong",_hoisted_67$e,"У меня есть имя")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_68$d,[createBaseVNode("div",_hoisted_69$d,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[20]||(s[20]=a=>t.form.has_name=a),class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.form.has_name]]),_hoisted_70$d,_hoisted_71$d,_hoisted_72$c])])]),t.form.has_name?(openBlock(),createElementBlock("div",_hoisted_73$c,[_hoisted_74$c,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50",placeholder:"test_ivan_bot","onUpdate:modelValue":s[21]||(s[21]=a=>t.form.botDomain=a),onInvalid:s[22]||(s[22]=a=>t.alert("Неверное значение имени бота!")),pattern:"[_A-Za-z0-9]{5,50}(bot)",id:"form-bot-domain",required:""},null,544),[[vModelText,t.form.botDomain]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_75$c,[_hoisted_76$b,createBaseVNode("div",_hoisted_77$b,[createBaseVNode("div",_hoisted_78$a,[createBaseVNode("h5",_hoisted_79$9,[t.form.have_token?(openBlock(),createElementBlock("strong",_hoisted_80$9,"У меня есть Token бота")):createCommentVNode("",!0),t.form.have_token?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_81$9,"У меня нет Token бота"))])]),createBaseVNode("div",_hoisted_82$9,[createBaseVNode("div",_hoisted_83$9,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[23]||(s[23]=a=>t.form.have_token=a),class:"ios-input",id:"toggle-id-2"},null,512),[[vModelCheckbox,t.form.have_token]]),_hoisted_84$7,_hoisted_85$7,_hoisted_86$7])])])]),t.form.has_token?(openBlock(),createElementBlock("div",_hoisted_87$7,[_hoisted_88$7,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"100",placeholder:"Значение тоукена",onInvalid:s[24]||(s[24]=a=>t.alert("Неверное значение тоукена")),"onUpdate:modelValue":s[25]||(s[25]=a=>t.form.token=a),id:"floatingTextarea",required:""},null,544),[[vModelText,t.form.token]])])):createCommentVNode("",!0),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.messages,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_89$7,[createBaseVNode("p",_hoisted_90$7,toDisplayString(a||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:r=>t.removeMessage(n),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_91$7)]))),256)):createCommentVNode("",!0),_hoisted_92$6,_hoisted_93$6,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[26]||(s[26]=(...a)=>t.prevStep&&t.prevStep(...a))}," Назад ")],32)])])):createCommentVNode("",!0),t.step===3?(openBlock(),createElementBlock("div",_hoisted_94$6,[createBaseVNode("div",_hoisted_95$5,[createBaseVNode("div",_hoisted_96$5,[createBaseVNode("div",_hoisted_97$5,[createBaseVNode("h5",_hoisted_98$5,[t.form.need_create_bot?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_99$5,"Выбрать из готовых ботов")),t.form.need_create_bot?(openBlock(),createElementBlock("strong",_hoisted_100$5,"Создать самостоятельно")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_101$5,[createBaseVNode("div",_hoisted_102$5,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":s[28]||(s[28]=a=>t.form.need_create_bot=a),class:"ios-input",id:"toggle-need-create-bot"},null,512),[[vModelCheckbox,t.form.need_create_bot]]),_hoisted_103$5,_hoisted_104$5,_hoisted_105$5])])]),t.form.need_create_bot?createCommentVNode("",!0):(openBlock(),createElementBlock("form",_hoisted_106$5,[createVNode(_sfc_main$1P,{"selected-bot-id":t.form.selected_bot_id,onCallback:t.selectBot},null,8,["selected-bot-id","onCallback"]),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.messages,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_107$5,[createBaseVNode("p",_hoisted_108$5,toDisplayString(a||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:r=>t.removeMessage(n),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_109$5)]))),256)):createCommentVNode("",!0),_hoisted_110$5,createBaseVNode("button",{type:"button",onClick:s[29]||(s[29]=(...a)=>t.submitBot&&t.submitBot(...a)),class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Создать демон и перейти к оформлению "),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[30]||(s[30]=(...a)=>t.prevStep&&t.prevStep(...a))}," Назад ")])),t.form.need_create_bot?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[36]||(s[36]=withModifiers((...a)=>t.submitStep5&&t.submitStep5(...a),["prevent"])),class:"w-100 d-flex justify-content-center align-items-center flex-column"},[_hoisted_111$5,createBaseVNode("p",null,[t.form.functions.length>0?(openBlock(),createElementBlock("span",_hoisted_112$5,"механик выбрано - "+toDisplayString(t.form.functions.length)+" ед. ",1)):createCommentVNode("",!0),t.form.functions.length>0?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",class:"underline cursor-pointer ml-2",onClick:s[31]||(s[31]=a=>t.form.functions=[])},_hoisted_114$5)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_115$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moreFunctions,a=>(openBlock(),createElementBlock("div",_hoisted_116$5,[createBaseVNode("div",_hoisted_117$5,[withDirectives(createBaseVNode("input",{type:"checkbox",disabled:!a.is_active,"onUpdate:modelValue":s[32]||(s[32]=n=>t.form.functions=n),value:a.slug,class:"btn-check function-check d-none",id:"btn-check-outlined"+a.slug},null,8,_hoisted_118$5),[[vModelCheckbox,t.form.functions]]),createBaseVNode("label",{style:{"min-height":"100px"},class:normalizeClass([{"border-green1-dark color-green1-dark":t.form.functions.indexOf(a.slug)!==-1,"border-gray1-dark color-gray1-dark":t.form.functions.indexOf(a.slug)===-1},"btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900 d-flex flex-column align-items-center justify-content-center bg-theme"]),for:"btn-check-outlined"+a.slug},[createBaseVNode("i",{class:normalizeClass(a.icon)},null,2),createBaseVNode("span",_hoisted_120$4,toDisplayString(a.title),1)],10,_hoisted_119$5),createBaseVNode("a",{href:"javascript:void(0)",style:{position:"absolute",top:"2px",left:"23px",color:"#E91E63"},onClick:n=>t.displayDescription(a.description)},_hoisted_123$4,8,_hoisted_121$4)])]))),256))]),t.form.functions.length>0?(openBlock(),createElementBlock("div",_hoisted_124$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.functions,a=>(openBlock(),createElementBlock("span",_hoisted_125$4,toDisplayString(a),1))),256))])):createCommentVNode("",!0),t.form.functions.indexOf("individual-button")>=0?(openBlock(),createElementBlock("div",_hoisted_126$4,[_hoisted_127$4,createBaseVNode("div",_hoisted_128$4,[_hoisted_129$4,withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":s[33]||(s[33]=a=>t.form.individual=a),style:{"min-height":"200px"},onInvalid:s[34]||(s[34]=a=>t.alert("Вы не ввели описание фичи!")),placeholder:"Напишите задуманное...",id:"individual-description-textarea",required:""},`
                        `,544),[[vModelText,t.form.individual]])])])):createCommentVNode("",!0),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.messages,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_130$4,[createBaseVNode("p",_hoisted_131$4,toDisplayString(a||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:r=>t.removeMessage(n),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_132$3)]))),256)):createCommentVNode("",!0),_hoisted_133$3,_hoisted_134$3,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[35]||(s[35]=(...a)=>t.prevStep&&t.prevStep(...a))}," Назад ")],32)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.step===4?(openBlock(),createElementBlock("div",_hoisted_135$3,[createBaseVNode("div",_hoisted_136$3,[_hoisted_137$3,createBaseVNode("form",{onSubmit:s[38]||(s[38]=withModifiers((...a)=>t.addPage&&t.addPage(...a),["prevent"]))},[createBaseVNode("div",_hoisted_138$3,[_hoisted_139$3,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",minlength:"5",maxlength:"50","onUpdate:modelValue":s[37]||(s[37]=a=>t.pageForm.title=a),placeholder:"Например, Главное меню",id:"pageForm-title",required:""},null,512),[[vModelText,t.pageForm.title]])]),_hoisted_140$3],32),_hoisted_141$3,createBaseVNode("h6",null,[createTextVNode("Созданные страницы "),t.form.pages.length>0?(openBlock(),createElementBlock("small",_hoisted_142$3,"(всего "+toDisplayString(t.form.pages.length)+" стр.)",1)):createCommentVNode("",!0)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.pages,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_143$3,[t.form.pages[n].isStatic?(openBlock(),createElementBlock("p",_hoisted_144$3,toDisplayString(t.form.pages[n].title),1)):withDirectives((openBlock(),createElementBlock("input",{key:1,class:"w-100 p-2",style:{border:"none"},"onUpdate:modelValue":r=>t.form.pages[n].title=r,type:"text"},null,8,_hoisted_145$3)),[[vModelText,t.form.pages[n].title]]),t.form.pages[n].isStatic?createCommentVNode("",!0):(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",onClick:r=>t.removePage(n),class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light"},_hoisted_148$3,8,_hoisted_146$3))]))),256)),t.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.messages,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_149$3,[createBaseVNode("p",_hoisted_150$3,toDisplayString(a||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:r=>t.removeMessage(n),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_151$3)]))),256)):createCommentVNode("",!0),_hoisted_152$3,_hoisted_153$3,createBaseVNode("button",{type:"button",onClick:s[39]||(s[39]=(...a)=>t.submitBot&&t.submitBot(...a)),class:"btn btn-m btn-full mb-2 rounded-l text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Создать демо "),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[40]||(s[40]=(...a)=>t.prevStep&&t.prevStep(...a))}," Назад ")])])):createCommentVNode("",!0),t.step===5?(openBlock(),createElementBlock("div",_hoisted_154$3,[createBaseVNode("div",_hoisted_155$3,[createBaseVNode("div",_hoisted_156$3,[_hoisted_157$3,createBaseVNode("h6",null,[createBaseVNode("a",_hoisted_158$3,toDisplayString(t.form.botDomain),1)]),createBaseVNode("p",_hoisted_159$3,[createBaseVNode("small",null,toDisplayString(t.form.name||"Не указано имя"),1)]),createBaseVNode("div",_hoisted_160$3,[t.load?createCommentVNode("",!0):(openBlock(),createElementBlock("iframe",{key:0,style:{border:"none"},src:"/web/"+t.form.botDomain},null,8,_hoisted_161$3))]),t.form.token?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_162$3,_hoisted_166$2))])])])):createCommentVNode("",!0),t.step===5?(openBlock(),createElementBlock("div",_hoisted_167$2,[createBaseVNode("div",_hoisted_168$2,[_hoisted_169$2,createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[41]||(s[41]=(...a)=>t.prevStep&&t.prevStep(...a))}," Назад "),createBaseVNode("button",{type:"button",class:"w-100 btn btn-border btn-m btn-full mb-3 rounded-l text-uppercase font-900 border-blue2-dark color-blue2-dark bg-theme",onClick:s[42]||(s[42]=(...a)=>t.start&&t.start(...a))}," В начало ")])])):createCommentVNode("",!0)],64)}}}),__default__$18={data(){return{botUser:null,loading:!1}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{}},_sfc_main$1M=Object.assign(__default__$18,{__name:"Main",setup(o){return(t,s)=>(openBlock(),createBlock(_sfc_main$1N))}}),Main=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1M},Symbol.toStringTag,{value:"Module"})),Manager_vue_vue_type_style_index_0_scoped_e9a66012_lang="",_withScopeId$6=o=>(pushScopeId("data-v-e9a66012"),o=o(),popScopeId(),o),_hoisted_1$1M={key:0},_hoisted_2$1K={class:"card card-style p-3"},_hoisted_3$1I={class:"content"},_hoisted_4$1D={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_5$1C={class:"img-avatar"},_hoisted_6$1B={class:"img-avatar"},_hoisted_7$1x={class:"col-12"},_hoisted_8$1r=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные заработка вместе с нашим сервисом! Для начала нам нужно с Вами познакомиться - это поможет нам понимать с кем мы становимся крепкими друзьями! Я задам Вам два блока вопросов - по легче - вопросы общего плана и по сложнее - вопросы профессиональной сферы.")])],-1)),_hoisted_9$1n=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),_hoisted_10$1g={class:"input-style input-style-2"},_hoisted_11$1c={class:"col-12"},_hoisted_12$1b=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},"Загрузи свой персональное фото, мы же должны знать в лицо наших сотрудников",-1)),_hoisted_13$16={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_14$13={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_15$11=_withScopeId$6(()=>createBaseVNode("span",null,"+",-1)),_hoisted_16$11={key:0,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_17$X={class:"remove"},_hoisted_18$X=_withScopeId$6(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1)),_hoisted_19$U=[_hoisted_18$X],_hoisted_20$U={class:"col-12"},_hoisted_21$S=_withScopeId$6(()=>createBaseVNode("h4",{class:"text-center my-3"},[createBaseVNode("i",{class:"fa-solid fa-person-circle-question mr-2 color-green2-light"}),createTextVNode(" Общий блок вопросов ")],-1)),_hoisted_22$S={key:0,class:"mb-3"},_hoisted_23$N=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой номер телефона",-1)),_hoisted_24$L={class:"input-style input-style-2"},_hoisted_25$J={class:"col-12"},_hoisted_26$H=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для своевременного оповещения Вас о наших нововведениях мы используем рассылку через email. Вам необходимо указать его для удобства получения актуальной информации и отчетов о Вашей работе и доходе.")],-1)),_hoisted_27$F=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой email адрес",-1)),_hoisted_28$E={class:"input-style input-style-2"},_hoisted_29$B={class:"col-12"},_hoisted_30$A=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для связи с Вами нам также понадобятся ссылки на Ваши социальные сети!")],-1)),_hoisted_31$A=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Ссылки на ваши соц. сети",-1)),_hoisted_32$z={class:"input-style input-style-2 position-relative"},_hoisted_33$z=["onUpdate:modelValue","aria-label","aria-describedby"],_hoisted_34$z=["onClick"],_hoisted_35$z=_withScopeId$6(()=>createBaseVNode("i",{class:"fa-regular fa-square-minus"},null,-1)),_hoisted_36$z=[_hoisted_35$z],_hoisted_37$z={class:"col-12"},_hoisted_38$v=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_39$w=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Вы мужчина или женщина?",-1)),_hoisted_40$t={class:"row mb-0"},_hoisted_41$t={class:"col-6 p-3"},_hoisted_42$t=_withScopeId$6(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_43$t=_withScopeId$6(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_44$t=[_hoisted_42$t,_hoisted_43$t],_hoisted_45$s={class:"col-6 p-3"},_hoisted_46$s=_withScopeId$6(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_47$r=_withScopeId$6(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_48$q=[_hoisted_46$s,_hoisted_47$r],_hoisted_49$p={class:"col-12"},_hoisted_50$n=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),_hoisted_51$n=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Введите свой день рождения",-1)),_hoisted_52$o={class:"input-style input-style-2"},_hoisted_53$m={class:"col-12"},_hoisted_54$m=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания\\работы.")],-1)),_hoisted_55$l=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1)),_hoisted_56$l={class:"input-style input-style-2"},_hoisted_57$l=createStaticVNode('<datalist id="datalistCityOptions" data-v-e9a66012><option value="Краснодар" data-v-e9a66012></option><option value="Ростов-на-Дону" data-v-e9a66012></option><option value="Таганрог" data-v-e9a66012></option><option value="Донецк" data-v-e9a66012></option><option value="Москва" data-v-e9a66012></option></datalist>',1),_hoisted_58$k=_withScopeId$6(()=>createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1)),_hoisted_59$j={class:"col-12"},_hoisted_60$g=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того чтоб вы и ваш друг получали больше бонусов воспользуйтесь реферальной программой и введите реферальный код от вашего друга!")],-1)),_hoisted_61$f=_withScopeId$6(()=>createBaseVNode("h6",{class:"text-center"},"Введите реферальный код вашего друга",-1)),_hoisted_62$d={class:"input-style input-style-2"},_hoisted_63$d=_withScopeId$6(()=>createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1)),_hoisted_64$d={class:"col-12"},_hoisted_65$d=_withScopeId$6(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_66$d=_withScopeId$6(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_67$d={class:"d-flex mb-3"},_hoisted_68$c={class:"pt-1"},_hoisted_69$c={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_70$c={key:0},_hoisted_71$c={key:1},_hoisted_72$b={class:"ml-auto mr-4 pr-2"},_hoisted_73$b={class:"custom-control ios-switch"},_hoisted_74$b=_withScopeId$6(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_75$b=["disabled"],__default__$17={data(){return{load:!1,confirm:!1,step:0,botUser:null,managerForm:{name:null,phone:null,email:null,image:null,birthday:null,city:null,country:null,address:null,sex:!0,referral:null,strengths:[""],weaknesses:[""],educations:[""],social_links:[""],skills:[{title:null,value:50}],info:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.managerForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.managerForm.phone=this.botUser.phone||null,this.managerForm.email=this.botUser.email||null,this.managerForm.birthday=this.botUser.birthday||null,this.managerForm.city=this.botUser.city||null,this.managerForm.country=this.botUser.country||null,this.managerForm.address=this.botUser.address||null,this.managerForm.sex=this.botUser.sex||!0}},mounted(){},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.managerForm.image=null},onChangePhotos(o){const t=o.target.files;this.managerForm.image=t[0],console.log(t)},nextStep(){this.step++},remove(o,t){this.managerForm[o].splice(t,1)},add(o){o!=="skills"?this.managerForm[o].push(""):this.managerForm[o].push({title:null,value:50})},submit(){this.loading=!0;let o=new FormData;Object.keys(this.managerForm).forEach(t=>{const s=this.managerForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),o.set("image",this.managerForm.image),this.$store.dispatch("saveManager",o).then(t=>{window.location.reload()}).catch(()=>{this.loading=!1})}}},_sfc_main$1L=Object.assign(__default__$17,{__name:"Manager",setup(o){return(t,s)=>{const i=resolveDirective("lazy"),a=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$1M,[createBaseVNode("div",_hoisted_2$1K,[createBaseVNode("div",_hoisted_3$1I,[createBaseVNode("form",{onSubmit:s[12]||(s[12]=withModifiers((...n)=>t.submit&&t.submit(...n),["prevent"])),class:"row mb-0"},[createBaseVNode("div",_hoisted_4$1D,[createBaseVNode("div",_hoisted_5$1C,[withDirectives(createBaseVNode("img",_hoisted_6$1B,null,512),[[i,"/images/manager.png"]])])]),createBaseVNode("div",_hoisted_7$1x,[_hoisted_8$1r,_hoisted_9$1n,createBaseVNode("div",_hoisted_10$1g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"managerForm-name","onUpdate:modelValue":s[0]||(s[0]=n=>t.managerForm.name=n),"aria-describedby":"managerForm-name",required:""},null,512),[[vModelText,t.managerForm.name]])])]),createBaseVNode("div",_hoisted_11$1c,[_hoisted_12$1b,createBaseVNode("div",_hoisted_13$16,[createBaseVNode("label",_hoisted_14$13,[_hoisted_15$11,createBaseVNode("input",{type:"file",id:"bot-photos",accept:"image/*",onChange:s[1]||(s[1]=(...n)=>t.onChangePhotos&&t.onChangePhotos(...n)),style:{display:"none"}},null,32)]),t.managerForm.image?(openBlock(),createElementBlock("div",_hoisted_16$11,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(t.managerForm.image).imageUrl]]),createBaseVNode("div",_hoisted_17$X,[createBaseVNode("a",{onClick:s[2]||(s[2]=n=>t.removePhoto())},_hoisted_19$U)])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_20$U,[_hoisted_21$S,t.managerForm.name?(openBlock(),createElementBlock("p",_hoisted_22$S,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(t.managerForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):createCommentVNode("",!0),_hoisted_23$N,createBaseVNode("div",_hoisted_24$L,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[3]||(s[3]=n=>t.managerForm.phone=n),placeholder:"+7(000)000-00-00","aria-label":"managerForm-phone","aria-describedby":"managerForm-phone",required:""},null,512),[[a,"+7(###)###-##-##"],[vModelText,t.managerForm.phone]])])]),createBaseVNode("div",_hoisted_25$J,[_hoisted_26$H,_hoisted_27$F,createBaseVNode("div",_hoisted_28$E,[withDirectives(createBaseVNode("input",{type:"email",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[4]||(s[4]=n=>t.managerForm.email=n),placeholder:"inbox@your-cashman.com","aria-label":"managerForm-phone","aria-describedby":"managerForm-email",required:""},null,512),[[vModelText,t.managerForm.email]])])]),createBaseVNode("div",_hoisted_29$B,[_hoisted_30$A,_hoisted_31$A,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.managerForm.social_links,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_32$z,[withDirectives(createBaseVNode("input",{type:"url",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":l=>t.managerForm.social_links[r]=l,placeholder:"Ссылка на соц. сеть","aria-label":"managerForm-social-links-"+r,"aria-describedby":"managerForm-social-links-"+r},null,8,_hoisted_33$z),[[vModelText,t.managerForm.social_links[r]]]),r>0?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:l=>t.remove("social_links",r),class:"sub-btn"},_hoisted_36$z,8,_hoisted_34$z)):createCommentVNode("",!0)]))),256)),createBaseVNode("a",{onClick:s[5]||(s[5]=n=>t.add("social_links")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще ссылку")]),createBaseVNode("div",_hoisted_37$z,[_hoisted_38$v,_hoisted_39$w,createBaseVNode("div",_hoisted_40$t,[createBaseVNode("div",_hoisted_41$t,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":t.managerForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[6]||(s[6]=n=>t.managerForm.sex=!0)},_hoisted_44$t,2)]),createBaseVNode("div",_hoisted_45$s,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!t.managerForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:s[7]||(s[7]=n=>t.managerForm.sex=!1)},_hoisted_48$q,2)])])]),createBaseVNode("div",_hoisted_49$p,[_hoisted_50$n,_hoisted_51$n,createBaseVNode("div",_hoisted_52$o,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[8]||(s[8]=n=>t.managerForm.birthday=n),"aria-label":"managerForm-birthday","aria-describedby":"managerForm-birthday",required:""},null,512),[[vModelText,t.managerForm.birthday]])])]),createBaseVNode("div",_hoisted_53$m,[_hoisted_54$m,_hoisted_55$l,createBaseVNode("div",_hoisted_56$l,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=n=>t.managerForm.city=n),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"managerForm-city","aria-describedby":"managerForm-city",required:""},null,512),[[vModelText,t.managerForm.city]]),_hoisted_57$l])]),_hoisted_58$k,createBaseVNode("div",_hoisted_59$j,[_hoisted_60$g,_hoisted_61$f,createBaseVNode("div",_hoisted_62$d,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[10]||(s[10]=n=>t.managerForm.referral=n),placeholder:"Реферальный код","aria-label":"managerForm-referral","aria-describedby":"managerForm-referral"},null,512),[[vModelText,t.managerForm.referral]])])]),_hoisted_63$d,createBaseVNode("div",_hoisted_64$d,[_hoisted_65$d,_hoisted_66$d,createBaseVNode("div",_hoisted_67$d,[createBaseVNode("div",_hoisted_68$c,[createBaseVNode("h5",_hoisted_69$c,[t.managerForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_70$c,"С правилами ознакомилась")),t.managerForm.sex?(openBlock(),createElementBlock("span",_hoisted_71$c,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_72$b,[createBaseVNode("div",_hoisted_73$b,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":s[11]||(s[11]=n=>t.confirm=n),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,t.confirm]]),_hoisted_74$b])])]),createBaseVNode("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,_hoisted_75$b)])],32)])])])):createCommentVNode("",!0),createVNode(_sfc_main$2G)],64)}}}),ManagerForm=_export_sfc(_sfc_main$1L,[["__scopeId","data-v-e9a66012"]]),Manager=Object.freeze(Object.defineProperty({__proto__:null,default:ManagerForm},Symbol.toStringTag,{value:"Module"})),BotEditor_vue_vue_type_style_index_0_lang="",_sfc_main$1K={props:["botId"],data(){return{bot:null,load:!1,need_payments:!1,need_shop:!1,need_demo:!1,botForm:{id:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,main_channel:null,vk_shop_link:null,balance:null,tax_per_day:null,welcome_message:null,image:null,description:null,info_link:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,photos:[],selected_bot_template_id:null,pages:[],amo:null,is_active:!1}}},watch:{need_payments:function(o,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},mounted(){this.loadBotAdminConfig(),window.addEventListener("select-telegram-channel-id",o=>{this.botForm[o.detail.param]=o.detail.channel})},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotManagerConfig",{botId:this.botId}).then(o=>{this.bot=o.data,this.botForm={id:this.bot.id||null,is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,image:this.bot.image||null,description:this.bot.description||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1||10,level_2:this.bot.level_2||0,level_3:this.bot.level_3||0,photos:this.bot.photos||[],amo:this.bot.amo||null,is_active:this.bot.is_active||!1},this.botForm.payment_provider_token&&(this.need_payments=!0),this.botForm.vk_shop_link&&(this.need_shop=!0)})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o){const t=o.target.files;this.botForm.image=null;for(let s=0;s<t.length;s++)this.botForm.photos.push(t[s])},addItem(o){this.botForm[o].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(o,t){this.botForm[o].splice(t,1)},removePhoto(o){o?this.botForm.photos.splice(o,1):this.botForm.image=null},switchStatus(){this.$store.dispatch("switchBotStatusManager",{botId:this.bot.id}).then(()=>{this.$botNotification.success("Конструктор ботов","Статус бота успешно изменен!")})},removeBot(){this.$store.dispatch("removeBotByManager",{botId:this.bot.id}).then(o=>{this.$emit("remove"),this.$botNotification.success("Конструктор ботов","Бот успешно удален!")}).catch(o=>{this.$botNotification.warning("Конструктор ботов","Ошибка удаления бота!")})},addBot(){let o=new FormData;Object.keys(this.botForm).forEach(t=>{const s=this.botForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.company&&o.append("company_id",this.company.id);for(let t=0;t<this.botForm.photos.length;t++)o.append("images[]",this.botForm.photos[t]);o.delete("photos"),this.$store.dispatch("updateBotByManager",{botForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.success("Конструктор ботов","Бот успешно обновлен!")}).catch(t=>{this.$botNotification.warning("Конструктор ботов","Ошибка обновления бота!")})},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},openUrl(o){this.tg.openLink(o)}}},_hoisted_1$1L={class:"card card-style bg-1",style:{height:"390px"}},_hoisted_2$1J={key:0,class:"card-center"},_hoisted_3$1H={class:"w-100 d-flex justify-content-center p-3"},_hoisted_4$1C={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_5$1B={class:"color-white font-700 text-center mb-2"},_hoisted_6$1A={key:0},_hoisted_7$1w={key:1},_hoisted_8$1q={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_9$1m={href:"#",class:"color-white"},_hoisted_10$1f=createBaseVNode("i",{class:"fa-solid fa-sack-dollar"},null,-1),_hoisted_11$1b={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_12$1a=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar"},null,-1),_hoisted_13$15={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_14$12=createBaseVNode("i",{class:"fa-regular fa-calendar-days"},null,-1),_hoisted_15$10={class:"w-100 d-flex justify-content-center py-4"},_hoisted_16$10={class:"custom-control ios-switch"},_hoisted_17$W=createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1),_hoisted_18$W={key:0,class:"ml-5 text-white"},_hoisted_19$T={key:1,class:"ml-5 text-white"},_hoisted_20$T={key:1,class:"card-center"},_hoisted_21$R=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_22$R=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_23$M=[_hoisted_21$R,_hoisted_22$R],_hoisted_24$K=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_25$I={key:0,class:"w-100 d-flex justify-content-center align-items-center flex-column"},_hoisted_26$G=createBaseVNode("h2",null,"Демонстрация работы бота",-1),_hoisted_27$E={href:"#"},_hoisted_28$D={class:"mb-0"},_hoisted_29$A={class:"mobile mb-2 p-0"},_hoisted_30$z=["src"],_hoisted_31$z={key:0,class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_32$y=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation"})],-1),_hoisted_33$y=createBaseVNode("strong",null,"Тоукен не указан!",-1),_hoisted_34$y=createBaseVNode("button",{type:"button",class:"close color-white opacity-60 font-16","data-dismiss":"alert","aria-label":"Close"},"× ",-1),_hoisted_35$y=[_hoisted_32$y,_hoisted_33$y,_hoisted_34$y],_hoisted_36$y={key:0},_hoisted_37$y={key:0,class:"d-flex w-100"},_hoisted_38$u={class:"pt-1"},_hoisted_39$v={"data-activate":"toggle-id-2",class:"font-500 font-13"},_hoisted_40$s={key:0},_hoisted_41$s={key:1},_hoisted_42$s={class:"ml-auto mr-4 pr-2"},_hoisted_43$s={class:"custom-control ios-switch ios-switch-icon"},_hoisted_44$s=createBaseVNode("label",{class:"custom-control-label",for:"toggle-demo-bot"},null,-1),_hoisted_45$r=createBaseVNode("i",{class:"fa fa-check font-11 color-white"},null,-1),_hoisted_46$r=createBaseVNode("i",{class:"fa fa-times font-11 color-white"},null,-1),_hoisted_47$q={class:"mb-2"},_hoisted_48$p={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-domain"},_hoisted_49$o=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_50$m=createBaseVNode("div",null,'Строго взять из BotFather! ТО что при создании с окончанием на "bot"',-1),_hoisted_51$m=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_52$n=createBaseVNode("div",null,"Нужно ",-1),_hoisted_53$l={key:0},_hoisted_54$l={class:"mb-2"},_hoisted_55$k={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center flex-wrap",id:"bot-token"},_hoisted_56$k=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_57$k=createBaseVNode("div",null,"Взять из BotFater при создании бота! Длинная нечитаемая подсвеченная строка! ",-1),_hoisted_58$j=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_59$i=createBaseVNode("div",null,"Нужно ",-1),_hoisted_60$f={class:"mb-2"},_hoisted_61$e=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-token-dev"},"Токен бота (для тестирования)",-1),_hoisted_62$c={class:"mb-2"},_hoisted_63$c={class:"d-flex justify-content-between align-items-center flex-wrap"},_hoisted_64$c={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center w-100",id:"bot-order-channel"},_hoisted_65$c=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_66$c=createBaseVNode("div",null,"Ввести адрес ссылки на канал в форму после добавления тоукена ",-1),_hoisted_67$c=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_68$b=[_hoisted_67$c],_hoisted_69$b=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_70$b=createBaseVNode("div",null,"Нужно ",-1),_hoisted_71$b={class:"mb-2"},_hoisted_72$a={class:"d-flex justify-content-between"},_hoisted_73$a={class:"form-label d-flex justify-content-between mt-2",id:"bot-main-channel"},_hoisted_74$a=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_75$a=[_hoisted_74$a],_hoisted_76$a={key:1,class:"mb-0"},_hoisted_77$a={class:"mb-2"},_hoisted_78$9={class:"d-flex justify-content-between flex-wrap"},_hoisted_79$8={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-description"},_hoisted_80$8=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_81$8=createBaseVNode("div",null,"Отобразится пользователю при первом запуске",-1),_hoisted_82$8=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_83$8=createBaseVNode("div",null,"Нужно ",-1),_hoisted_84$6={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_85$6={class:"mb-2"},_hoisted_86$6={class:"d-flex justify-content-between flex-wrap"},_hoisted_87$6={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-description"},_hoisted_88$6=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_89$6=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_90$6=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_91$6=createBaseVNode("div",null,"Нужно ",-1),_hoisted_92$5={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_93$5={class:"mb-2"},_hoisted_94$5={class:"d-flex justify-content-between flex-wrap"},_hoisted_95$4={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-maintenance-message"},_hoisted_96$4=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_97$4=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_98$4=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_99$4=createBaseVNode("div",null,"Нужно ",-1),_hoisted_100$4={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_101$4={class:"mb-2"},_hoisted_102$4={class:"form-label d-flex justify-content-between align-items-center mt-2",id:"bot-level-1"},_hoisted_103$4=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_104$4=createBaseVNode("div",null,"Нужно ",-1),_hoisted_105$4={class:"mb-2"},_hoisted_106$4=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-2"},"Уровень 2 CashBack, %",-1),_hoisted_107$4={class:"mb-2"},_hoisted_108$4=createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},"Уровень 3 CashBack, %",-1),_hoisted_109$4={class:"mb-2"},_hoisted_110$4={class:"form-check"},_hoisted_111$4=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему ",-1),_hoisted_112$4={key:0,class:"mb-2"},_hoisted_113$4={class:"form-check"},_hoisted_114$4=["value"],_hoisted_115$4=createBaseVNode("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),_hoisted_116$4={class:"mb-2"},_hoisted_117$4={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_118$4=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_119$4=createBaseVNode("div",null,"Если в боте планируется оплата, то необходимо через BotFather привязать нужную платежную систему и указать в данном поле полученный токен ",-1),_hoisted_120$3=createBaseVNode("a",{href:"https://t.me/botfather",target:"_blank"},"Подключить",-1),_hoisted_121$3={class:"mb-2"},_hoisted_122$3={class:"form-check"},_hoisted_123$3=createBaseVNode("label",{class:"form-check-label",for:"need-shop"}," Необходимо интегрировать магазин в бота ",-1),_hoisted_124$3={key:1,class:"mb-2"},_hoisted_125$3={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_126$3=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_127$3=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_128$3=createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),_hoisted_129$3=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_130$3={class:"mb-2"},_hoisted_131$3={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_132$2=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_133$2=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_134$2=createBaseVNode("a",{target:"_blank",href:"https://telegra.ph"},"Создать",-1),_hoisted_135$2=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_136$2=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_137$2={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_138$2=createBaseVNode("small",null,"Ссылка",-1),_hoisted_139$2=["onClick"],_hoisted_140$2=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_141$2=[_hoisted_140$2],_hoisted_142$2=["onUpdate:modelValue","aria-describedby"],_hoisted_143$2=["onUpdate:modelValue"],_hoisted_144$2=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_145$2={class:"d-flex justify-content-between align-items-center"},_hoisted_146$2=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_147$2=createBaseVNode("div",null,"Нужно ",-1),_hoisted_148$2={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_149$2={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_150$2=createBaseVNode("span",null,"+",-1),_hoisted_151$2={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_152$2={class:"remove"},_hoisted_153$2=["onClick"],_hoisted_154$2=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_155$2=[_hoisted_154$2],_hoisted_156$2={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_157$2={class:"remove"},_hoisted_158$2=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_159$2=[_hoisted_158$2],_hoisted_160$2=["disabled"],_hoisted_161$2={key:1,class:"content"},_hoisted_162$2=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_163$2=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_164$2=[_hoisted_162$2,_hoisted_163$2];function _sfc_render$B(o,t,s,i,a,n){const r=resolveComponent("Popper"),l=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1L,[a.bot?(openBlock(),createElementBlock("div",_hoisted_2$1J,[createBaseVNode("div",_hoisted_3$1H,[withDirectives(createBaseVNode("img",_hoisted_4$1C,null,512),[[l,"/images-by-company-id/"+a.bot.company_id+"/"+a.bot.image]])]),createBaseVNode("h2",_hoisted_5$1B,[a.bot.bot_domain?(openBlock(),createElementBlock("span",_hoisted_6$1A,toDisplayString(a.bot.bot_domain.length>20?a.bot.bot_domain.substring(0,20)+"...":a.bot.bot_domain),1)):(openBlock(),createElementBlock("span",_hoisted_7$1w,"Нет домена"))]),createBaseVNode("p",_hoisted_8$1q,[createBaseVNode("a",_hoisted_9$1m,[_hoisted_10$1f,createTextVNode(" Баланс "+toDisplayString(a.bot.balance||"0")+" ₽",1)])]),createBaseVNode("p",_hoisted_11$1b,[_hoisted_12$1a,createTextVNode(" Тариф "+toDisplayString(a.bot.tax_per_day||"0")+" ₽/день ",1)]),createBaseVNode("p",_hoisted_13$15,[_hoisted_14$12,createTextVNode(" Дней "+toDisplayString(Math.round(a.bot.balance/a.bot.tax_per_day))+" осталось ",1)]),createBaseVNode("div",_hoisted_15$10,[createBaseVNode("div",_hoisted_16$10,[withDirectives(createBaseVNode("input",{type:"checkbox",onChange:t[0]||(t[0]=(...d)=>n.switchStatus&&n.switchStatus(...d)),"onUpdate:modelValue":t[1]||(t[1]=d=>a.botForm.is_active=d),class:"ios-input",id:"toggle-id-1"},null,544),[[vModelCheckbox,a.botForm.is_active]]),_hoisted_17$W]),a.botForm.is_active?(openBlock(),createElementBlock("span",_hoisted_18$W,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_19$T,"Выкл"))]),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[2]||(t[2]=(...d)=>n.removeBot&&n.removeBot(...d)),class:"btn btn-m btn-full mb-3 rounded-xl text-uppercase font-900 shadow-s color-red2-light"},"Удалить бота")])):(openBlock(),createElementBlock("div",_hoisted_20$T,_hoisted_23$M)),_hoisted_24$K]),a.need_demo?(openBlock(),createElementBlock("div",_hoisted_25$I,[_hoisted_26$G,createBaseVNode("h6",null,[createBaseVNode("a",_hoisted_27$E,toDisplayString(a.botForm.bot_domain),1)]),createBaseVNode("p",_hoisted_28$D,[createBaseVNode("small",null,toDisplayString(a.botForm.name||"Не указано имя"),1)]),createBaseVNode("div",_hoisted_29$A,[createBaseVNode("iframe",{style:{border:"none"},src:"/web/"+a.botForm.bot_domain},null,8,_hoisted_30$z)]),a.botForm.token?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_31$z,_hoisted_35$y))])):createCommentVNode("",!0),createBaseVNode("form",{onSubmit:t[28]||(t[28]=withModifiers((...d)=>n.addBot&&n.addBot(...d),["prevent"]))},[a.bot?(openBlock(),createElementBlock("div",_hoisted_36$y,[a.botForm.bot_domain?(openBlock(),createElementBlock("div",_hoisted_37$y,[createBaseVNode("div",_hoisted_38$u,[createBaseVNode("h5",_hoisted_39$v,[a.need_demo?(openBlock(),createElementBlock("strong",_hoisted_40$s,"Отобразить демо бота")):createCommentVNode("",!0),a.need_demo?createCommentVNode("",!0):(openBlock(),createElementBlock("strong",_hoisted_41$s,"Не отображать демо бота"))])]),createBaseVNode("div",_hoisted_42$s,[createBaseVNode("div",_hoisted_43$s,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=d=>a.need_demo=d),class:"ios-input",id:"toggle-demo-bot"},null,512),[[vModelCheckbox,a.need_demo]]),_hoisted_44$s,_hoisted_45$r,_hoisted_46$r])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_47$q,[createBaseVNode("label",_hoisted_48$p,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_50$m]),default:withCtx(()=>[_hoisted_49$o]),_:1}),createTextVNode(" Доменное имя бота из BotFather ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_52$n]),default:withCtx(()=>[_hoisted_51$m]),_:1})]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота","onUpdate:modelValue":t[4]||(t[4]=d=>a.botForm.bot_domain=d),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,a.botForm.bot_domain]]),a.botForm.bot_domain?(openBlock(),createElementBlock("p",_hoisted_53$l,[createTextVNode("Проверить работу бота "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[5]||(t[5]=d=>n.openUrl("https://t.me/"+a.botForm.bot_domain))},"@"+toDisplayString(a.botForm.bot_domain),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_54$l,[createBaseVNode("label",_hoisted_55$k,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_57$k]),default:withCtx(()=>[_hoisted_56$k]),_:1}),createTextVNode(" Токен бота ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_59$i]),default:withCtx(()=>[_hoisted_58$j]),_:1}),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[6]||(t[6]=d=>n.openUrl("https://t.me/botfather")),class:"w-100",target:"_blank"},"Создать нового бота в ТГ")]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[7]||(t[7]=d=>a.botForm.bot_token=d),maxlength:"255","aria-describedby":"bot-token",required:""},null,512),[[vModelText,a.botForm.bot_token]])]),createBaseVNode("div",_hoisted_60$f,[_hoisted_61$e,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[8]||(t[8]=d=>a.botForm.bot_token_dev=d),maxlength:"255","aria-describedby":"bot-token-dev"},null,512),[[vModelText,a.botForm.bot_token_dev]])]),createBaseVNode("div",_hoisted_62$c,[createBaseVNode("div",_hoisted_63$c,[createBaseVNode("label",_hoisted_64$c,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_66$c]),default:withCtx(()=>[_hoisted_65$c]),_:1}),createTextVNode(" Канал для заказов (id) "),createBaseVNode("span",{onClick:t[9]||(t[9]=d=>n.requestChannelId("order_channel"))},_hoisted_68$b)]),createVNode(r,null,{content:withCtx(()=>[_hoisted_70$b]),default:withCtx(()=>[_hoisted_69$b]),_:1})])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[10]||(t[10]=d=>a.botForm.order_channel=d),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[vModelText,a.botForm.order_channel]])]),createBaseVNode("div",_hoisted_71$b,[createBaseVNode("div",_hoisted_72$a,[createBaseVNode("label",_hoisted_73$a,[createTextVNode("Канал для постов (id,рекламный) "),createBaseVNode("span",{onClick:t[11]||(t[11]=d=>n.requestChannelId("main_channel"))},_hoisted_75$a)])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[12]||(t[12]=d=>a.botForm.main_channel=d),maxlength:"255","aria-describedby":"bot-main-channel"},null,512),[[vModelText,a.botForm.main_channel]])]),a.botForm.bot_token?(openBlock(),createElementBlock("div",_hoisted_76$a,[createBaseVNode("div",_hoisted_77$a,[createBaseVNode("div",_hoisted_78$9,[createBaseVNode("label",_hoisted_79$8,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_81$8]),default:withCtx(()=>[_hoisted_80$8]),_:1}),createTextVNode(" Приветственное сообщение ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_83$8]),default:withCtx(()=>[_hoisted_82$8]),_:1})]),a.botForm.welcome_message?(openBlock(),createElementBlock("small",_hoisted_84$6," Длина текста "+toDisplayString(a.botForm.welcome_message.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое приветствие при запуске бота","aria-label":"Текстовое приветствие при запуске бота","onUpdate:modelValue":t[13]||(t[13]=d=>a.botForm.welcome_message=d),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,a.botForm.welcome_message]])]),createBaseVNode("div",_hoisted_85$6,[createBaseVNode("div",_hoisted_86$6,[createBaseVNode("label",_hoisted_87$6,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_89$6]),default:withCtx(()=>[_hoisted_88$6]),_:1}),createTextVNode(" Описание бота ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_91$6]),default:withCtx(()=>[_hoisted_90$6]),_:1})]),a.botForm.description?(openBlock(),createElementBlock("small",_hoisted_92$5," Длина текста "+toDisplayString(a.botForm.description.length)+" / 255",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое описание бота","aria-label":"Текстовое описание бота","onUpdate:modelValue":t[14]||(t[14]=d=>a.botForm.description=d),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,a.botForm.description]])]),createBaseVNode("div",_hoisted_93$5,[createBaseVNode("div",_hoisted_94$5,[createBaseVNode("label",_hoisted_95$4,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_97$4]),default:withCtx(()=>[_hoisted_96$4]),_:1}),createTextVNode(" Режим тех. работ ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_99$4]),default:withCtx(()=>[_hoisted_98$4]),_:1})]),a.botForm.maintenance_message?(openBlock(),createElementBlock("small",_hoisted_100$4," Длина текста "+toDisplayString(a.botForm.maintenance_message.length)+" / 255 ",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":t[15]||(t[15]=d=>a.botForm.maintenance_message=d),maxlength:"255",style:{"min-height":"200px"},"aria-describedby":"bot-maintenance-message",required:""},`
                    `,512),[[vModelText,a.botForm.maintenance_message]])]),createBaseVNode("div",_hoisted_101$4,[createBaseVNode("label",_hoisted_102$4,[createTextVNode(" Уровень 1 CashBack, % "),createVNode(r,null,{content:withCtx(()=>[_hoisted_104$4]),default:withCtx(()=>[_hoisted_103$4]),_:1})]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[16]||(t[16]=d=>a.botForm.level_1=d),max:"50",min:"0","aria-describedby":"bot-level-1",required:""},null,512),[[vModelText,a.botForm.level_1]])]),createBaseVNode("div",_hoisted_105$4,[_hoisted_106$4,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[17]||(t[17]=d=>a.botForm.level_2=d),max:"50",min:"0","aria-describedby":"bot-level-2"},null,512),[[vModelText,a.botForm.level_2]])]),createBaseVNode("div",_hoisted_107$4,[_hoisted_108$4,withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[18]||(t[18]=d=>a.botForm.level_3=d),max:"50",min:"0","aria-describedby":"bot-level-3"},null,512),[[vModelText,a.botForm.level_3]])]),createBaseVNode("div",_hoisted_109$4,[createBaseVNode("div",_hoisted_110$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=d=>a.need_payments=d),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,a.need_payments]]),_hoisted_111$4])]),a.need_payments?(openBlock(),createElementBlock("div",_hoisted_112$4,[createBaseVNode("div",_hoisted_113$4,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox",value:a.botForm.auto_cashback_on_payments,"onUpdate:modelValue":t[20]||(t[20]=d=>a.botForm.auto_cashback_on_payments=d),id:"bot-auto-cashback-on-payments"},null,8,_hoisted_114$4),[[vModelCheckbox,a.botForm.auto_cashback_on_payments]]),_hoisted_115$4]),createBaseVNode("div",_hoisted_116$4,[createBaseVNode("label",_hoisted_117$4,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_119$4]),default:withCtx(()=>[_hoisted_118$4]),_:1}),createTextVNode(" Токен платежной системы ")]),_hoisted_120$3]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"уровень CashBack","onUpdate:modelValue":t[21]||(t[21]=d=>a.botForm.payment_provider_token=d),"aria-describedby":"bot-level-3"},null,512),[[vModelText,a.botForm.payment_provider_token]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_121$3,[createBaseVNode("div",_hoisted_122$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[22]||(t[22]=d=>a.need_shop=d),type:"checkbox",id:"need-shop"},null,512),[[vModelCheckbox,a.need_shop]]),_hoisted_123$3])]),a.need_shop?(openBlock(),createElementBlock("div",_hoisted_124$3,[createBaseVNode("label",_hoisted_125$3,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_127$3]),default:withCtx(()=>[_hoisted_126$3]),_:1}),createTextVNode(" ВК-группа ")]),_hoisted_128$3]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":t[23]||(t[23]=d=>a.botForm.vk_shop_link=d),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,a.botForm.vk_shop_link]])])):createCommentVNode("",!0),_hoisted_129$3,createBaseVNode("div",_hoisted_130$3,[createBaseVNode("label",_hoisted_131$3,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_133$2]),default:withCtx(()=>[_hoisted_132$2]),_:1}),createTextVNode(" Информационная ссылка ")]),_hoisted_134$2]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Ссылка ресурс telegraph","aria-label":"Ссылка ресурс telegraph",maxlength:"255","onUpdate:modelValue":t[24]||(t[24]=d=>a.botForm.info_link=d),"aria-describedby":"bot-info-link"},null,512),[[vModelText,a.botForm.info_link]])]),_hoisted_135$2,_hoisted_136$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.social_links,(d,c)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+c},[createBaseVNode("div",_hoisted_137$2,[_hoisted_138$2,createBaseVNode("button",{type:"button",onClick:_=>n.removeItem("social_links",c),class:"btn btn-link text-danger"},_hoisted_141$2,8,_hoisted_139$2)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название ссылки","aria-label":"Название ссылки",maxlength:"255","onUpdate:modelValue":_=>a.botForm.social_links[c].title=_,"aria-describedby":"bot-social-link-"+c,required:""},null,8,_hoisted_142$2),[[vModelText,a.botForm.social_links[c].title]]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":_=>a.botForm.social_links[c].url=_},null,8,_hoisted_143$2),[[vModelText,a.botForm.social_links[c].url]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=d=>n.addSocialLinks()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_144$2,createBaseVNode("h6",_hoisted_145$2,[createTextVNode("Аватар для бота "),createVNode(r,null,{content:withCtx(()=>[_hoisted_147$2]),default:withCtx(()=>[_hoisted_146$2]),_:1})]),createBaseVNode("div",_hoisted_148$2,[createBaseVNode("label",_hoisted_149$2,[_hoisted_150$2,createBaseVNode("input",{type:"file",id:"bot-photos",multiple:"",accept:"image/*",onChange:t[26]||(t[26]=(...d)=>n.onChangePhotos&&n.onChangePhotos(...d)),style:{display:"none"}},null,32)]),a.botForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.botForm.photos,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_151$2,[withDirectives(createBaseVNode("img",null,null,512),[[l,n.getPhoto(d).imageUrl]]),createBaseVNode("div",_hoisted_152$2,[createBaseVNode("a",{onClick:_=>n.removePhoto(c)},_hoisted_155$2,8,_hoisted_153$2)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_156$2,[withDirectives(createBaseVNode("img",null,null,512),[[l,"/images-by-bot-id/"+a.bot.id+"/"+a.botForm.image]]),createBaseVNode("div",_hoisted_157$2,[createBaseVNode("a",{onClick:t[27]||(t[27]=d=>n.removePhoto())},_hoisted_159$2)])]))]),createBaseVNode("button",{disabled:!a.botForm.bot_token,type:"submit",class:"btn btn-m btn-full mb-3 rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100"}," Сохранить настройки ",8,_hoisted_160$2)])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_161$2,_hoisted_164$2))],32)],64)}const BotEditor=_export_sfc(_sfc_main$1K,[["render",_sfc_render$B]]),_hoisted_1$1K={key:0},_hoisted_2$1I={class:"d-flex flex-column mt-2"},_hoisted_3$1G={key:0},_hoisted_4$1B=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_5$1A=["onClick"],_hoisted_6$1z=createBaseVNode("a",{href:"#",class:"btn btn-m btn-full rounded-xl text-uppercase font-900 shadow-s bg-red1-light"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_7$1v={key:1},_hoisted_8$1p=createBaseVNode("div",{class:"alert alert-warning mt-2",role:"alert"}," К сожалению мы не нашли нужных ботов... ",-1),_hoisted_9$1l=[_hoisted_8$1p],__default__$16={props:{companyId:null,selectedBot:null},data(){return{selectedBotId:null,need_self_bots:!1,filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],search:null,bots_paginate_object:null}},watch:{need_self_bots:function(){this.loadBots()}},computed:{...mapGetters(["getBots","getBotsPaginateObject","getCurrentCompany"]),filteredBots(){return this.bots?this.bots.filter(o=>o.deleted_at==null):[]}},mounted(){this.loadBots()},methods:{removeBotCallback(){this.loadBots(),this.selectedBotId=null},duplicate(o){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:o,company_id:this.getCurrentCompany.id}}).then(t=>{let s=this.bots_paginate_object.meta.current_page||0;this.loadBots(s),this.$notify("Указанный бот успешно продублирован")})},selectBot(o){this.loading=!0,this.selectedBotId=o.id,this.$nextTick(()=>{this.loading=!1}),this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(o){this.loadBots(o)},loadBots(o=0){this.loading=!0,this.$store.dispatch("loadSimpleBots",{dataObject:{companyId:this.companyId||null,needSelfBots:!0,search:this.search},size:5,page:o}).then(t=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1J=Object.assign(__default__$16,{__name:"BotListSelf",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.show?(openBlock(),createElementBlock("div",_hoisted_1$1K,[createBaseVNode("div",_hoisted_2$1I,[withDirectives(createBaseVNode("input",{type:"search",class:"form-control mb-2",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-blue2-dark",onClick:s[1]||(s[1]=i=>t.loadBots(0)),type:"button",id:"button-addon2"},"Найти ")]),t.bots.length>0?(openBlock(),createElementBlock("div",_hoisted_3$1G,[_hoisted_4$1B,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredBots,(i,a)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",class:normalizeClass(["d-flex justify-content-between align-items-center btn btn-border px-2 py-1 btn-full mb-2 rounded-xl text-uppercase font-900 bg-theme",{" border-blue2-dark color-blue2-dark":t.selectedBotId!=i.id," border-green2-dark color-green2-dark":t.selectedBotId===i.id}])},[createBaseVNode("strong",{onClick:n=>t.selectBot(i),class:"font-12 w-100 text-center",style:{"word-wrap":"break-word"}},[createBaseVNode("i",{class:normalizeClass([{"text-danger":i.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),createTextVNode(toDisplayString(i.bot_domain||"Не указано"),1)],8,_hoisted_5$1A),_hoisted_6$1z],2))),256)),t.bots_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextBots,pagination:t.bots_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_7$1v,_hoisted_9$1l))])):createCommentVNode("",!0),t.selectedBotId&&!t.loading?(openBlock(),createBlock(BotEditor,{key:1,onRemove:t.removeBotCallback,"bot-id":t.selectedBotId},null,8,["onRemove","bot-id"])):createCommentVNode("",!0)],64))}}),_hoisted_1$1J=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),__default__$15={data(){return{selectedCompanyId:!1,botUser:null,loading:!1}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot}},watch:{getSelf:function(){this.botUser=this.getSelf}},mounted(){this.getSelf&&(this.botUser=this.getSelf)},methods:{selectCompany(o){this.loading=!0,this.selectedCompanyId=o.id,this.$nextTick(()=>{this.loading=!1}),this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного клиента!")},selectBot(o){this.form.selected_bot_id=o.id,this.$botNotification.notification("Информация","Вы успешно выбрали за основу данного бота!")}}},_sfc_main$1I=Object.assign(__default__$15,{__name:"Clients",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$1O,{"visual-mode":"true",onCallback:t.selectCompany},null,8,["onCallback"]),_hoisted_1$1J,t.selectedCompanyId!=null&&!t.loading?(openBlock(),createBlock(_sfc_main$1J,{key:0,"company-id":t.selectedCompanyId},null,8,["company-id"])):createCommentVNode("",!0)],64))}}),_hoisted_1$1I={class:"card card-style"},_hoisted_2$1H={class:"content mb-0"},_hoisted_3$1F=createBaseVNode("h6",null,"Список ваших клиентов",-1),__default__$14={data(){},computed:{},watch:{},mounted(){},methods:{}},_sfc_main$1H=Object.assign(__default__$14,{__name:"Clients",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1I,[createBaseVNode("div",_hoisted_2$1H,[_hoisted_3$1F,createVNode(_sfc_main$1I)])]))}}),Clients$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1H},Symbol.toStringTag,{value:"Module"})),PartnersList_vue_vue_type_style_index_0_scoped_a81c1ab4_lang="",_sfc_main$1G={data(){return{load:!1,friends:[]}},watch:{getSelf:function(){this.loadFriendsWeb()}},mounted(){this.loadFriendsWeb()},computed:{...mapGetters(["getSelf"])},methods:{showPartner(){this.$botNotification.notification("Партнеры","Просмотр информации о партнере еще недоступен")},loadFriendsWeb(){this.loading=!0,this.$store.dispatch("loadFriendsWeb").then(o=>{this.loading=!1,this.friends=o}).catch(()=>{this.loading=!1})}}},_withScopeId$5=o=>(pushScopeId("data-v-a81c1ab4"),o=o(),popScopeId(),o),_hoisted_1$1H={class:"d-flex"},_hoisted_2$1G={class:"w-35 border-right pr-3 border-highlight partner-avatar"},_hoisted_3$1E={key:0,"data-src":"images/avatars/1s.png",width:"80",class:"bg-highlight rounded-circle preload-img"},_hoisted_4$1A={key:1,"data-src":"images/avatars/1s.png",width:"80",class:"bg-highlight rounded-circle preload-img"},_hoisted_5$1z={class:"font-14 font-600 mt-2 text-center"},_hoisted_6$1y=_withScopeId$5(()=>createBaseVNode("p",{class:"color-blue2-dark mt-n3 font-9 font-400 text-center mb-0 pt-1"},"Партнер первой линии",-1)),_hoisted_7$1u={class:"w-65 pl-3 pt-2"},_hoisted_8$1o=_withScopeId$5(()=>createBaseVNode("h5",null,"Команда партнера",-1)),_hoisted_9$1k={class:"color-highlight mt-n3 font-10 pt-1 mb-3"},_hoisted_10$1e={key:0,"data-src":"images/avatars/1s.png",width:"40",class:"rounded-circle preload-img"},_hoisted_11$1a={key:1,"data-src":"images/avatars/1s.png",width:"40",class:"rounded-circle preload-img"},_hoisted_12$19={key:2,class:"sub-badge-count rounded-circle bg-highlight color-white"},_hoisted_13$14={key:1,href:"javascript:void(0)"},_hoisted_14$11={class:"rounded-circle preload-img bg-highlight color-white sub-partner-badge"},_hoisted_15$$=_withScopeId$5(()=>createBaseVNode("div",{class:"divider mt-4"},null,-1)),_hoisted_16$$={key:1};function _sfc_render$A(o,t,s,i,a,n){const r=resolveDirective("lazy");return a.friends.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.friends,(l,d)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$1H,[createBaseVNode("div",_hoisted_2$1G,[l.manager?withDirectives((openBlock(),createElementBlock("img",_hoisted_3$1E,null,512)),[[r,l.manager.image||null]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_4$1A,null,512)),[[r,"/images/manager.png"]]),createBaseVNode("h6",_hoisted_5$1z,toDisplayString(l.fio_from_telegram||"Не задано"),1),_hoisted_6$1y]),createBaseVNode("div",_hoisted_7$1u,[_hoisted_8$1o,createBaseVNode("p",_hoisted_9$1k,"Всего партнеров: "+toDisplayString(l.child.length),1),l.child.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(l.child.slice(0,4),c=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(..._)=>n.showPartner&&n.showPartner(..._)),class:"d-inline-block position-relative"},[c.manager?withDirectives((openBlock(),createElementBlock("img",_hoisted_10$1e,null,512)),[[r,c.manager.image||null]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_11$1a,null,512)),[[r,"/images/manager.png"]]),c.child.length>0?(openBlock(),createElementBlock("span",_hoisted_12$19,toDisplayString(c.child.length),1)):createCommentVNode("",!0)]))),256)):createCommentVNode("",!0),l.child.length>4?(openBlock(),createElementBlock("a",_hoisted_13$14,[createBaseVNode("span",_hoisted_14$11,"+"+toDisplayString(l.child.length-4),1)])):createCommentVNode("",!0),l.child.length===0?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",onClick:t[1]||(t[1]=(...c)=>n.showPartner&&n.showPartner(...c))}," У вашего друга нет собственных партнеров ")):createCommentVNode("",!0)])]),_hoisted_15$$]))),256)):(openBlock(),createElementBlock("p",_hoisted_16$$,"К сожалению на текущий момент у Вас нет ни 1 партнера:("))}const PartnersList=_export_sfc(_sfc_main$1G,[["render",_sfc_render$A],["__scopeId","data-v-a81c1ab4"]]),Profile_vue_vue_type_style_index_0_scoped_62d7693d_lang="",_withScopeId$4=o=>(pushScopeId("data-v-62d7693d"),o=o(),popScopeId(),o),_hoisted_1$1G={key:0},_hoisted_2$1F={class:"card-bottom ml-3"},_hoisted_3$1D={class:"font-40 line-height-xl"},_hoisted_4$1z={class:"pb-0 mb-0 font-12"},_hoisted_5$1y=_withScopeId$4(()=>createBaseVNode("i",{class:"fa fa-map-marker mr-2"},null,-1)),_hoisted_6$1x={key:0},_hoisted_7$1t=_withScopeId$4(()=>createBaseVNode("div",{class:"card-overlay bg-gradient-fade"},null,-1)),_hoisted_8$1n={class:"card card-style"},_hoisted_9$1j={class:"content mb-0"},_hoisted_10$1d=_withScopeId$4(()=>createBaseVNode("h3",{class:"text-center py-3"},"Общая статистика менеджера",-1)),_hoisted_11$19={class:"row mb-0 text-center"},_hoisted_12$18={class:"col-4"},_hoisted_13$13={class:"mb-n1"},_hoisted_14$10=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Клиентов",-1)),_hoisted_15$_={class:"col-4"},_hoisted_16$_={class:"mb-n1"},_hoisted_17$V=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Ботов",-1)),_hoisted_18$V={class:"col-4"},_hoisted_19$S={class:"mb-n1"},_hoisted_20$S=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Пользователей",-1)),_hoisted_21$Q=_withScopeId$4(()=>createBaseVNode("div",{class:"divider mb-4 mt-3"},null,-1)),_hoisted_22$Q={class:"row mb-0 text-center"},_hoisted_23$L={class:"col-6"},_hoisted_24$J={class:"mb-n1"},_hoisted_25$H=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"К-Слотов",-1)),_hoisted_26$F={class:"col-6"},_hoisted_27$D={class:"mb-n1"},_hoisted_28$C=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Б-Слотов",-1)),_hoisted_29$z=_withScopeId$4(()=>createBaseVNode("div",{class:"divider mb-4 mt-3"},null,-1)),_hoisted_30$y={class:"row mb-0 text-center"},_hoisted_31$y={class:"col-12"},_hoisted_32$x={class:"mb-n1"},_hoisted_33$x=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Денег для вывода",-1)),_hoisted_34$x={class:"col-12"},_hoisted_35$x={class:"mb-n1"},_hoisted_36$x=_withScopeId$4(()=>createBaseVNode("p",{class:"font-10 mb-0 pb-0"},"Внутренний счет",-1)),_hoisted_37$x=createStaticVNode('<div class="divider mb-4 mt-3" data-v-62d7693d></div><div class="row mb-0 pb-4" data-v-62d7693d><div class="col-12 mb-2" data-v-62d7693d><a href="#" class="btn btn-m btn-full rounded-s bg-highlight text-uppercase font-900" data-v-62d7693d>Пополнить баланс</a></div><div class="col-12" data-v-62d7693d><a href="#" class="btn btn-m btn-border btn-full rounded-s border-highlight color-highlight text-uppercase font-900" data-v-62d7693d>Скачать статистику</a></div></div>',2),_hoisted_39$u={class:"card card-style p-3"},_hoisted_40$r={class:"mb-0"},_hoisted_41$r={class:"mb-0"},_hoisted_42$r={class:"mb-0"},_hoisted_43$r={class:"mb-0"},_hoisted_44$r={class:"mb-0"},_hoisted_45$q={class:"mb-0"},_hoisted_46$q={class:"mb-0"},_hoisted_47$p={class:"mb-3"},_hoisted_48$o=createStaticVNode("<h6 data-v-62d7693d>Вам доступны следующие возможности:</h6><ul data-v-62d7693d><li data-v-62d7693d>Регистрация клиента</li><li data-v-62d7693d>Создание ботов любой конфигурации и сложности</li><li data-v-62d7693d>Выставление счетов на оплату и прием платеже за обслуживание</li><li data-v-62d7693d>Реферальная программа</li><li data-v-62d7693d>Профессиональное обучение</li><li data-v-62d7693d>Использование ресурсов компании для привлечения клиентов: маркетологи, дизайнеры, smm-специалисты, программисты </li><li data-v-62d7693d>Тех.поддержка по системе 24\\7</li></ul><h6 data-v-62d7693d> Ваши бонусы:</h6><ul data-v-62d7693d><li data-v-62d7693d>Оплата за регистрацию клиента (после его оплаты)</li><li data-v-62d7693d>Начисление персональной скидки (сгораемой и несгораемой)</li><li data-v-62d7693d>Получение бонусных доходов с реферальной программы 1, 2 и 3 уровня: ваши друзья работают, а вы получаете доход. Доход ограничен лишь числом друзей. </li></ul>",4),_hoisted_52$m={class:"card card-style"},_hoisted_53$k={class:"content mb-0"},_hoisted_54$k=_withScopeId$4(()=>createBaseVNode("h6",null,"Список ваших клиентов",-1)),_hoisted_55$j={class:"card card-style"},_hoisted_56$j={class:"content"},_hoisted_57$j=_withScopeId$4(()=>createBaseVNode("h3",{class:"py-3"},"Мои партнеры",-1)),__default__$13={data(){return{load:!1,confirm:!1,step:0,statistic:{clients_count:0,bots_count:0,bot_users_count:0,free_client_slot_count:0,free_bot_slot_count:0,ref_code:0},botUser:null,managerForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,referral:null,strengths:[""],weaknesses:[""],educations:[""],social_links:[""],skills:[{title:null,value:50}],info:null}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.managerForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.managerForm.phone=this.botUser.phone||null,this.managerForm.email=this.botUser.email||null,this.managerForm.birthday=this.botUser.birthday||null,this.managerForm.city=this.botUser.city||null,this.managerForm.country=this.botUser.country||null,this.managerForm.address=this.botUser.address||null,this.managerForm.sex=this.botUser.sex||!0,this.loadManagerData()}},mounted(){},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{nextStep(){this.step++},remove(o,t){this.managerForm[o].splice(t,1)},add(o){o!=="skills"?this.managerForm[o].push(""):this.managerForm[o].push({title:null,value:50})},copyToClipboard(){navigator.clipboard.writeText(this.statistic.ref_code),this.$botNotification.notification("Реферальный код","Код скопирован в буфер обмена")},loadManagerData(){this.loading=!0,this.$store.dispatch("loadManagerData").then(o=>{this.loading=!1,this.statistic=o}).catch(()=>{this.loading=!1})},submit(){this.loading=!0;let o=new FormData;Object.keys(this.managerForm).forEach(t=>{const s=this.managerForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("saveManager",o).then(t=>{window.location.reload()}).catch(()=>{this.loading=!1})}}},_sfc_main$1F=Object.assign(__default__$13,{__name:"Profile",setup(o){return(t,s)=>t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$1G,[t.botUser.manager?(openBlock(),createElementBlock("div",{key:0,class:"card card-style preload-img",style:normalizeStyle([{"background-image":"url('"+t.botUser.manager.image+"')"},{height:"55vh"}])},[createBaseVNode("div",_hoisted_2$1F,[createBaseVNode("h1",_hoisted_3$1D,toDisplayString(t.botUser.name),1),createBaseVNode("p",_hoisted_4$1z,[_hoisted_5$1y,createTextVNode(toDisplayString(t.botUser.city),1)]),t.botUser.manager.info?(openBlock(),createElementBlock("p",_hoisted_6$1x,toDisplayString(t.botUser.manager.info),1)):createCommentVNode("",!0),t.statistic.ref_code?(openBlock(),createElementBlock("p",{key:1,class:"cursor-pointer",onClick:s[0]||(s[0]=(...i)=>t.copyToClipboard&&t.copyToClipboard(...i))},[createTextVNode(" Ваш реферальный код: "),createBaseVNode("strong",null,toDisplayString(t.statistic.ref_code),1)])):createCommentVNode("",!0)]),_hoisted_7$1t],4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$1n,[createBaseVNode("div",_hoisted_9$1j,[_hoisted_10$1d,createBaseVNode("div",_hoisted_11$19,[createBaseVNode("div",_hoisted_12$18,[createBaseVNode("h1",_hoisted_13$13,toDisplayString(t.statistic.clients_count),1),_hoisted_14$10]),createBaseVNode("div",_hoisted_15$_,[createBaseVNode("h1",_hoisted_16$_,toDisplayString(t.statistic.bots_count),1),_hoisted_17$V]),createBaseVNode("div",_hoisted_18$V,[createBaseVNode("h1",_hoisted_19$S,toDisplayString(t.statistic.bot_users_count),1),_hoisted_20$S])]),_hoisted_21$Q,createBaseVNode("div",_hoisted_22$Q,[createBaseVNode("div",_hoisted_23$L,[createBaseVNode("h1",_hoisted_24$J,toDisplayString(t.statistic.free_client_slot_count),1),_hoisted_25$H]),createBaseVNode("div",_hoisted_26$F,[createBaseVNode("h1",_hoisted_27$D,toDisplayString(t.statistic.free_bot_slot_count),1),_hoisted_28$C])]),_hoisted_29$z,createBaseVNode("div",_hoisted_30$y,[createBaseVNode("div",_hoisted_31$y,[createBaseVNode("h1",_hoisted_32$x,toDisplayString(t.botUser.cashBack.amount)+" руб",1),_hoisted_33$x]),createBaseVNode("div",_hoisted_34$x,[createBaseVNode("h3",_hoisted_35$x,toDisplayString(t.botUser.manager.balance)+" руб",1),_hoisted_36$x])]),_hoisted_37$x])]),createBaseVNode("div",_hoisted_39$u,[createBaseVNode("p",_hoisted_40$r,"Имя: "+toDisplayString(t.botUser.name||"Не указано"),1),createBaseVNode("p",_hoisted_41$r,"Телефон: "+toDisplayString(t.botUser.phone||"Не указано"),1),createBaseVNode("p",_hoisted_42$r,"Город: "+toDisplayString(t.botUser.city||"Не указано"),1),createBaseVNode("p",_hoisted_43$r,"Дата рождения: "+toDisplayString(t.botUser.birthday||"Не указано"),1),createBaseVNode("p",_hoisted_44$r,"Ваш баланс: "+toDisplayString(t.botUser.manager.balance||0)+" руб",1),createBaseVNode("p",_hoisted_45$q,"Пол: "+toDisplayString(t.botUser.sex?"Мужской":"Женский"),1),createBaseVNode("p",_hoisted_46$q,"Колл-во слотов под клиентов: "+toDisplayString(t.botUser.manager.max_company_slot_count||0),1),createBaseVNode("p",_hoisted_47$p,"Колл-во слотов под ботов у клиента: "+toDisplayString(t.botUser.manager.max_bot_slot_count||0),1),_hoisted_48$o,createVNode(ReturnToBot,{class:"mb-2"})]),createBaseVNode("div",_hoisted_52$m,[createBaseVNode("div",_hoisted_53$k,[_hoisted_54$k,createVNode(_sfc_main$1I)])]),createBaseVNode("div",_hoisted_55$j,[createBaseVNode("div",_hoisted_56$j,[_hoisted_57$j,createVNode(PartnersList)])])])):createCommentVNode("",!0)}}),ManagerProfile=_export_sfc(_sfc_main$1F,[["__scopeId","data-v-62d7693d"]]),Profile$1=Object.freeze(Object.defineProperty({__proto__:null,default:ManagerProfile},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1F={class:"card card-style p-3"},_hoisted_2$1E={class:"content"},_sfc_main$1E={__name:"Partners",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1F,[createBaseVNode("div",_hoisted_2$1E,[createVNode(PartnersList)])]))}},Partners=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1E},Symbol.toStringTag,{value:"Module"})),DeliveryManForm_vue_vue_type_style_index_0_lang="",_sfc_main$1D={data(){return{botUser:null,load:!1,confirm:!1,step:0,deliveryManForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0}}},computed:{tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{nextStep(){this.step++},submit(){this.loading=!0,this.$store.dispatch("saveDeliveryman",{dataObject:{bot_id:this.bot.id,tg:this.tgUser,form:this.deliveryManForm}}).then(o=>{this.loading=!1,window.location.reload()}).catch(()=>{this.loading=!1})}}},_hoisted_1$1E={class:"container pt-3 pb-3"},_hoisted_2$1D={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_3$1C={class:"img-avatar"},_hoisted_4$1y={class:"img-avatar"},_hoisted_5$1x={class:"col-12"},_hoisted_6$1w=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздаврить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с тобой познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1),_hoisted_7$1s=createBaseVNode("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1),_hoisted_8$1m={class:"input-group mb-3"},_hoisted_9$1i=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_10$1c={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_11$18={class:"img-avatar"},_hoisted_12$17={class:"img-avatar"},_hoisted_13$12={class:"col-12"},_hoisted_14$$={class:"mb-3"},_hoisted_15$Z=createBaseVNode("h6",{class:"text-center"},"Введи свой номер телефона",-1),_hoisted_16$Z={class:"input-group mb-3"},_hoisted_17$U=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_18$U={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_19$R={class:"img-avatar"},_hoisted_20$R={class:"img-avatar"},_hoisted_21$P={class:"col-12"},_hoisted_22$P=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого ты пола?")],-1),_hoisted_23$K=createBaseVNode("h6",{class:"text-center"},"Ты парень или девушка?",-1),_hoisted_24$I={class:"input-group mb-3 mt-3 w-100 d-flex justify-content-center"},_hoisted_25$G={class:"btn-group w-100",role:"group","aria-label":"deliveryManForm-sex"},_hoisted_26$E=createBaseVNode("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-1"},"Парень",-1),_hoisted_27$C=createBaseVNode("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-2"},"Девушка",-1),_hoisted_28$B=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_29$y={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_30$x={class:"img-avatar"},_hoisted_31$x={class:"img-avatar"},_hoisted_32$w={class:"col-12"},_hoisted_33$w=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1),_hoisted_34$w=createBaseVNode("h6",{class:"text-center"},"Введи свой день рождения",-1),_hoisted_35$w={class:"input-group mb-3"},_hoisted_36$w=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_37$w={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_38$t={class:"img-avatar"},_hoisted_39$t={class:"img-avatar"},_hoisted_40$q={class:"col-12"},_hoisted_41$q=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для твоего города, мне нужно знать, где ты живешь.")],-1),_hoisted_42$q=createBaseVNode("h6",{class:"text-center"},"Какой у Вас город?",-1),_hoisted_43$q={class:"input-group mb-3"},_hoisted_44$q=createStaticVNode('<datalist id="datalistCityOptions"><option value="Краснодар"></option><option value="Ростов-на-Дону"></option><option value="Таганрог"></option><option value="Донецк"></option><option value="Москва"></option></datalist>',1),_hoisted_45$p=createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),_hoisted_46$p={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_47$o={class:"img-avatar"},_hoisted_48$n={class:"img-avatar"},_hoisted_49$n={class:"col-12"},_hoisted_50$l=createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочти мои условия использования и дай свое согласие на их принятие.")],-1),_hoisted_51$l=createBaseVNode("h6",{class:"text-center"},"Последний шаг",-1),_hoisted_52$l={class:"card border-success mb-3"},_hoisted_53$j={class:"card-body"},_hoisted_54$j=createBaseVNode("p",null,[createTextVNode("Перед отправкой данных ознакомься с "),createBaseVNode("a",{href:"#"},"правилами нашего сервиса"),createTextVNode(" и с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1),_hoisted_55$i={class:"form-check form-switch"},_hoisted_56$i={class:"form-check-label",for:"confirm"},_hoisted_57$i={key:0},_hoisted_58$i={key:1},_hoisted_59$h=["disabled"],_hoisted_60$e=createBaseVNode("div",null,null,-1);function _sfc_render$z(o,t,s,i,a,n){const r=resolveDirective("lazy"),l=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1E,[a.step===0?(openBlock(),createElementBlock("form",{key:0,onSubmit:t[1]||(t[1]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_2$1D,[createBaseVNode("div",_hoisted_3$1C,[withDirectives(createBaseVNode("img",_hoisted_4$1y,null,512),[[r,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_5$1x,[_hoisted_6$1w,_hoisted_7$1s,createBaseVNode("div",_hoisted_8$1m,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center p-3",placeholder:"Петров Петр Семенович","aria-label":"deliveryManForm-name","onUpdate:modelValue":t[0]||(t[0]=d=>a.deliveryManForm.name=d),"aria-describedby":"deliveryManForm-name",required:""},null,512),[[vModelText,a.deliveryManForm.name]])]),_hoisted_9$1i])],32)):createCommentVNode("",!0),a.step===1?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[3]||(t[3]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_10$1c,[createBaseVNode("div",_hoisted_11$18,[withDirectives(createBaseVNode("img",_hoisted_12$17,null,512),[[r,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_13$12,[createBaseVNode("p",_hoisted_14$$,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(a.deliveryManForm.name),1),createTextVNode("! А теперь, чтобы ты мог пользоваться всеми моими функциями, мне нужен твой номер телефона. Можешь ввести его?")])]),_hoisted_15$Z,createBaseVNode("div",_hoisted_16$Z,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control p-3 text-center","onUpdate:modelValue":t[2]||(t[2]=d=>a.deliveryManForm.phone=d),placeholder:"+7(000)000-00-00","aria-label":"deliveryManForm-phone","aria-describedby":"deliveryManForm-phone",required:""},null,512),[[l,"+7(###)###-##-##"],[vModelText,a.deliveryManForm.phone]])]),_hoisted_17$U])],32)):createCommentVNode("",!0),a.step===2?(openBlock(),createElementBlock("form",{key:2,onSubmit:t[6]||(t[6]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_18$U,[createBaseVNode("div",_hoisted_19$R,[withDirectives(createBaseVNode("img",_hoisted_20$R,null,512),[[r,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_21$P,[_hoisted_22$P,_hoisted_23$K,createBaseVNode("div",_hoisted_24$I,[createBaseVNode("div",_hoisted_25$G,[withDirectives(createBaseVNode("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=d=>a.deliveryManForm.sex=d),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-1",autocomplete:"off",required:""},null,512),[[vModelRadio,a.deliveryManForm.sex]]),_hoisted_26$E,withDirectives(createBaseVNode("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=d=>a.deliveryManForm.sex=d),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-2",autocomplete:"off",required:""},null,512),[[vModelRadio,a.deliveryManForm.sex]]),_hoisted_27$C])]),_hoisted_28$B])],32)):createCommentVNode("",!0),a.step===3?(openBlock(),createElementBlock("form",{key:3,onSubmit:t[8]||(t[8]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_29$y,[createBaseVNode("div",_hoisted_30$x,[withDirectives(createBaseVNode("img",_hoisted_31$x,null,512),[[r,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_32$w,[_hoisted_33$w,_hoisted_34$w,createBaseVNode("div",_hoisted_35$w,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control p-3","onUpdate:modelValue":t[7]||(t[7]=d=>a.deliveryManForm.birthday=d),"aria-label":"deliveryManForm-birthday","aria-describedby":"deliveryManForm-birthday",required:""},null,512),[[vModelText,a.deliveryManForm.birthday]])]),_hoisted_36$w])],32)):createCommentVNode("",!0),a.step===4?(openBlock(),createElementBlock("form",{key:4,onSubmit:t[10]||(t[10]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_37$w,[createBaseVNode("div",_hoisted_38$t,[withDirectives(createBaseVNode("img",_hoisted_39$t,null,512),[[r,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_40$q,[_hoisted_41$q,_hoisted_42$q,createBaseVNode("div",_hoisted_43$q,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=d=>a.deliveryManForm.city=d),list:"datalistCityOptions",class:"form-control p-3",placeholder:"Краснодар","aria-label":"deliveryManForm-city","aria-describedby":"deliveryManForm-city",required:""},null,512),[[vModelText,a.deliveryManForm.city]]),_hoisted_44$q]),_hoisted_45$p])],32)):createCommentVNode("",!0),a.step===5?(openBlock(),createElementBlock("form",{key:5,onSubmit:t[13]||(t[13]=withModifiers((...d)=>n.submit&&n.submit(...d),["prevent"])),class:"row"},[createBaseVNode("div",_hoisted_46$p,[createBaseVNode("div",_hoisted_47$o,[withDirectives(createBaseVNode("img",_hoisted_48$n,null,512),[[r,"https://your-cashman.com/Image/IconSmall.png"]])])]),createBaseVNode("div",_hoisted_49$n,[_hoisted_50$l,_hoisted_51$l,createBaseVNode("div",_hoisted_52$l,[createBaseVNode("div",_hoisted_53$j,[_hoisted_54$j,createBaseVNode("div",_hoisted_55$i,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[11]||(t[11]=d=>a.confirm=d),type:"checkbox",role:"switch",id:"confirm"},null,512),[[vModelCheckbox,a.confirm]]),createBaseVNode("label",_hoisted_56$i,[a.deliveryManForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_57$i,"С правилами озакномилась")),a.deliveryManForm.sex?(openBlock(),createElementBlock("span",_hoisted_58$i,"С правилами ознакомлен")):createCommentVNode("",!0)])])])]),createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=d=>a.step=0),class:"btn btn-outline-primary w-100 p-3 mb-3"},"Исправить ошибки "),createBaseVNode("button",{type:"submit",disabled:!a.confirm||a.load,class:"btn btn-outline-success w-100 p-3"},"Отправить анкету ",8,_hoisted_59$h)])],32)):createCommentVNode("",!0)]),_hoisted_60$e],64)}const DeliverymanForm=_export_sfc(_sfc_main$1D,[["render",_sfc_render$z]]),DeliveryManForm=Object.freeze(Object.defineProperty({__proto__:null,default:DeliverymanForm},Symbol.toStringTag,{value:"Module"})),ProductCategories_vue_vue_type_style_index_0_lang="";Carousel,Slide,Pagination$1,Navigation,{...mapGetters(["getCategories"])};const _sfc_main$1C={props:["review"],data(){return{form:{id:null,text:null,rating:5,image:null,order_id:null,product_id:null}}},mounted(){this.$nextTick(()=>{this.form.id=this.review.id||null,this.form.order_id=this.review.order_id||null,this.form.product_id=this.review.product_id||null})},methods:{onChangePhotos(o){const t=o.target.files[0];this.form.image=t},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(){this.form.image=null},submitReview(){let o=new FormData;this.sending=!0,Object.keys(this.form).forEach(t=>{const s=this.form[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),typeof this.form.image!="string"&&(o.append("photo",this.form.image),o.delete("image")),this.$store.dispatch("storeReview",{reviewForm:o}).then(t=>{this.$notify({title:"Обратная связь",text:"Спасибо за отзыв"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$emit("callback",t.data)}).catch(t=>{})}}},_hoisted_1$1D={class:"form-check mb-2"},_hoisted_2$1C=createBaseVNode("label",{class:"form-check-label",for:"ratingReview1"}," Очень хорошо ",-1),_hoisted_3$1B={class:"form-check mb-2"},_hoisted_4$1x=createBaseVNode("label",{class:"form-check-label",for:"ratingReview2"}," Хорошо ",-1),_hoisted_5$1w={class:"form-check mb-2"},_hoisted_6$1v=createBaseVNode("label",{class:"form-check-label",for:"ratingReview3"}," Средне ",-1),_hoisted_7$1r={class:"form-check mb-2"},_hoisted_8$1l=createBaseVNode("label",{class:"form-check-label",for:"ratingReview4"}," Плохо ",-1),_hoisted_9$1h={class:"form-check mb-2"},_hoisted_10$1b=createBaseVNode("label",{class:"form-check-label",for:"ratingReview5"}," Очень плохо ",-1),_hoisted_11$17=createBaseVNode("p",{class:"text-center"},[createBaseVNode("strong",null,"Напишите ваш отзыв")],-1),_hoisted_12$16={class:"form-floating"},_hoisted_13$11=createBaseVNode("label",{for:"floatingTextarea"},"Текст отзыва",-1),_hoisted_14$_=createBaseVNode("button",{type:"submit",class:"btn btn-primary my-2 w-100 p-3"},"Оставить отзыв",-1),_hoisted_15$Y=createBaseVNode("button",{type:"button",class:"btn btn-link my-3 w-100 text-center","data-bs-dismiss":"modal","aria-label":"Close"}," Закрыть ",-1);function _sfc_render$y(o,t,s,i,a,n){return openBlock(),createElementBlock("form",{class:"p-2",onSubmit:t[6]||(t[6]=withModifiers((...r)=>n.submitReview&&n.submitReview(...r),["prevent"]))},[renderSlot(o.$slots,"title"),createBaseVNode("div",_hoisted_1$1D,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=r=>a.form.rating=r),value:"5",type:"radio",name:"rating",id:"ratingReview1"},null,512),[[vModelRadio,a.form.rating]]),_hoisted_2$1C]),createBaseVNode("div",_hoisted_3$1B,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=r=>a.form.rating=r),value:"4",type:"radio",name:"rating",id:"ratingReview2"},null,512),[[vModelRadio,a.form.rating]]),_hoisted_4$1x]),createBaseVNode("div",_hoisted_5$1w,[withDirectives(createBaseVNode("input",{class:"form-check-input",value:"3","onUpdate:modelValue":t[2]||(t[2]=r=>a.form.rating=r),type:"radio",name:"rating",id:"ratingReview3"},null,512),[[vModelRadio,a.form.rating]]),_hoisted_6$1v]),createBaseVNode("div",_hoisted_7$1r,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=r=>a.form.rating=r),value:"2",type:"radio",name:"rating",id:"ratingReview4"},null,512),[[vModelRadio,a.form.rating]]),_hoisted_8$1l]),createBaseVNode("div",_hoisted_9$1h,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[4]||(t[4]=r=>a.form.rating=r),value:"1",type:"radio",name:"rating",id:"ratingReview5"},null,512),[[vModelRadio,a.form.rating]]),_hoisted_10$1b]),_hoisted_11$17,createBaseVNode("div",_hoisted_12$16,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{"min-height":"250px"},"onUpdate:modelValue":t[5]||(t[5]=r=>a.form.text=r),placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,a.form.text]]),_hoisted_13$11]),_hoisted_14$_,_hoisted_15$Y],32)}const ReviewForm=_export_sfc(_sfc_main$1C,[["render",_sfc_render$y]]),ProductCardSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$1C={class:"card border-0"},_hoisted_2$1B={class:"card-body p-1"},_hoisted_3$1A={class:"d-flex"},_hoisted_4$1w={style:{"object-fit":"cover",height:"100%"},class:"rounded-2",width:"110"},_hoisted_5$1v={class:"w-100 px-2 d-flex flex-column justify-content-between"},_hoisted_6$1u={class:"pb-0 mb-0 fw-bold",style:{"font-size":"14px"}},_hoisted_7$1q={class:"py-2 mb-0 d-flex justify-content-between",style:{"font-size":"12px"}},_hoisted_8$1k={class:"d-flex w-100"},_hoisted_9$1g=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_10$1a={key:1,class:"btn-group w-100"},_hoisted_11$16=["disabled"],_hoisted_12$15={type:"button",class:"btn btn-sm"},_hoisted_13$10=["disabled"],__default__$12={props:["item"],data(){return{showCart:!1}},computed:{...mapGetters(["inCart"]),checkInCart(){return this.inCart(this.item.id)},currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100}},methods:{addToCart(){this.$cart.add(this.item)},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})}}},_sfc_main$1B=Object.assign(__default__$12,{__name:"ProductCardSimple",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$1C,[createBaseVNode("div",_hoisted_2$1B,[createBaseVNode("div",_hoisted_3$1A,[createBaseVNode("div",{class:"mr-auto",onClick:s[0]||(s[0]=(...a)=>t.addToCart&&t.addToCart(...a)),style:{"max-height":"100px"}},[withDirectives(createBaseVNode("img",_hoisted_4$1w,null,512),[[i,o.item.images[0]]])]),createBaseVNode("div",_hoisted_5$1v,[createBaseVNode("h6",_hoisted_6$1u,toDisplayString(o.item.title||"не указано"),1),createBaseVNode("h6",_hoisted_7$1q,[createBaseVNode("span",null,toDisplayString(o.item.current_price||0)+"₽",1),createBaseVNode("span",null,"="+toDisplayString(o.item.current_price*t.inCart(o.item.id))+"₽",1)]),createBaseVNode("div",_hoisted_8$1k,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[1]||(s[1]=(...a)=>t.incProductCart&&t.incProductCart(...a)),class:"btn btn-sm btn-primary w-100 rounded-3"},[createTextVNode(toDisplayString(o.item.current_price||0),1),_hoisted_9$1g,createTextVNode("₽ ")])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_10$1a,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[2]||(s[2]=(...a)=>t.decProductCart&&t.decProductCart(...a)),class:"btn btn-sm btn-primary"},"- ",8,_hoisted_11$16),createBaseVNode("button",_hoisted_12$15,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[3]||(s[3]=(...a)=>t.incProductCart&&t.incProductCart(...a)),class:"btn btn-sm btn-primary"},"+ ",8,_hoisted_13$10)])):createCommentVNode("",!0)])])])])])}}}),_hoisted_1$1B={key:0,class:"w-100"},_hoisted_2$1A={class:"card rounded-0 border-0 w-100"},_hoisted_3$1z={key:0,class:"card-body"},_hoisted_4$1v={key:1,class:"card-body p-0"},_hoisted_5$1u={class:"fst-italic my-2",style:{"word-break":"break-word"}},_hoisted_6$1t={key:0,class:"mb-0"},_hoisted_7$1p={class:"text-primary fw-bold"},_hoisted_8$1j={class:"d-flex justify-content-center"},_hoisted_9$1f={class:"form-check my-2"},_hoisted_10$19=["id"],_hoisted_11$15=["for"],_hoisted_12$14={key:2,class:"card-body p-0"},_hoisted_13$$=createBaseVNode("i",{class:"fa-solid fa-comment-medical mr-1"},null,-1),_hoisted_14$Z={key:1},_hoisted_15$X=["disabled"],_hoisted_16$Y={key:0,class:"color-white"},_hoisted_17$T={key:1,class:"color-white"},_hoisted_18$T=["id"],_hoisted_19$Q={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_20$Q={class:"modal-content"},_hoisted_21$O=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_22$O={class:"modal-body"},_hoisted_23$J={key:0,class:"text-center"},_hoisted_24$H=createBaseVNode("strong",null,"Отзыв к товару",-1),_hoisted_25$F=[_hoisted_24$H],_hoisted_26$D={key:1,class:"text-center"},_hoisted_27$B=createBaseVNode("strong",null,"Отзыв к заказу",-1),_hoisted_28$A=[_hoisted_27$B],__default__$11={props:["modelValue","needProduct","isAdmin"],data(){return{need_user_notify:!1,load:!0,review:null,spent_time_counter:0}},mounted(){this.review=this.modelValue,localStorage.getItem("cashman_review_card_notify_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_review_card_notify_counter")||0))},methods:{removeReview(){this.review.send_review_at=null,this.review.text=null,this.review.rating=5,this.review.need_user_notify=this.need_user_notify||!1,this.$store.dispatch("storeReview",{reviewForm:this.review}).then(()=>{this.$notify({title:"Отзывы",text:"Вы успешно удалили отзыв",type:"success"})}).catch(()=>{this.$notify({title:"Отзывы",text:"Ошибка удаления отзыва",type:"error"})})},callback(o){this.load=!1,this.review=o,this.$nextTick(()=>{this.load=!0,this.$emit("update:modelValue",o)})},showReviewsForm(){new bootstrap.Modal(document.getElementById("review-modal-info"+this.review.id),{}).show()},notifyUser(){this.$store.dispatch("notifyUserForReview",{reviewForm:this.review}).then(()=>{this.$notify({title:"Отзывы",text:"Вы успешно отправили пользователю напоминание",type:"success"})}).catch(()=>{this.$notify({title:"Отзывы",text:"Ошибка напоминания",type:"error"})}),this.startTimer()},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_review_card_notify_counter",this.spent_time_counter)},1e3)}}},_sfc_main$1A=Object.assign(__default__$11,{__name:"ReviewCard",setup(o){return(t,s)=>t.review&&t.load?(openBlock(),createElementBlock("div",_hoisted_1$1B,[createBaseVNode("div",_hoisted_2$1A,[o.needProduct?(openBlock(),createElementBlock("div",_hoisted_3$1z,[t.review.product?(openBlock(),createBlock(_sfc_main$1B,{key:0,item:t.review.product},null,8,["item"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.review.send_review_at?(openBlock(),createElementBlock("div",_hoisted_4$1v,[createVNode(Rating,{rating:t.review.rating},null,8,["rating"]),createBaseVNode("p",_hoisted_5$1u,toDisplayString(t.review.text||"не указан"),1),t.review.send_review_at?(openBlock(),createElementBlock("p",_hoisted_6$1t,[createTextVNode(" Отзыва оставлен "),createBaseVNode("span",_hoisted_7$1p,toDisplayString(t.$filters.currentFull(t.review.send_review_at)),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$1j,[createBaseVNode("div",_hoisted_9$1f,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[0]||(s[0]=i=>t.need_user_notify=i),type:"checkbox",id:"notify-user-for-review-"+t.review.id},null,8,_hoisted_10$19),[[vModelCheckbox,t.need_user_notify]]),createBaseVNode("label",{class:"form-check-label",for:"notify-user-for-review-"+t.review.id}," Оповестить пользователя ",8,_hoisted_11$15)])]),o.isAdmin?(openBlock(),createElementBlock("button",{key:1,onClick:s[1]||(s[1]=(...i)=>t.removeReview&&t.removeReview(...i)),type:"button",class:"btn btn-primary w-100"},"Сбросить отзыв ")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_12$14,[o.isAdmin?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[2]||(s[2]=(...i)=>t.showReviewsForm&&t.showReviewsForm(...i)),class:"btn btn-link w-100"},[_hoisted_13$$,createTextVNode(" Вы можете оставить отзыв ")])),o.isAdmin?(openBlock(),createElementBlock("p",_hoisted_14$Z," Пользователь еще не оставил отзыв! ")):createCommentVNode("",!0),o.isAdmin?(openBlock(),createElementBlock("button",{key:2,onClick:s[3]||(s[3]=(...i)=>t.notifyUser&&t.notifyUser(...i)),disabled:t.spent_time_counter>0,type:"button",class:"btn btn-primary w-100"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_16$Y,"Напомнить")):(openBlock(),createElementBlock("span",_hoisted_17$T,"Осталось ждать "+toDisplayString(t.spent_time_counter||0)+" сек.",1))],8,_hoisted_15$X)):createCommentVNode("",!0)]))]),createBaseVNode("div",{class:"modal fade",id:"review-modal-info"+t.review.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_19$Q,[createBaseVNode("div",_hoisted_20$Q,[_hoisted_21$O,createBaseVNode("div",_hoisted_22$O,[createVNode(ReviewForm,{onCallback:t.callback,review:t.review},{title:withCtx(()=>[t.review.order_id!=null&&t.review.product_id!=null?(openBlock(),createElementBlock("p",_hoisted_23$J,_hoisted_25$F)):createCommentVNode("",!0),t.review.order_id!=null&&t.review.product_id==null?(openBlock(),createElementBlock("p",_hoisted_26$D,_hoisted_28$A)):createCommentVNode("",!0)]),_:1},8,["onCallback","review"])])])])],8,_hoisted_18$T)])):createCommentVNode("",!0)}}),ProductCard_vue_vue_type_style_index_0_lang="",_hoisted_1$1A={class:"card border-0 product-card"},_hoisted_2$1z={key:0,class:"rounded-3"},_hoisted_3$1y={class:"controls"},_hoisted_4$1u={class:"top d-flex justify-content-between w-100 align-items-center"},_hoisted_5$1t={class:"rating w-100 p-2"},_hoisted_6$1s={class:"text-white fw-bold"},_hoisted_7$1o=createBaseVNode("i",{class:"fa-regular fa-star text-primary mr-1"},null,-1),_hoisted_8$1i={key:0,class:"badge bg-primary mr-2 fw-bold"},_hoisted_9$1e={class:"card-body px-0"},_hoisted_10$18={class:"text-center mb-2",style:{"font-size":"12px"}},_hoisted_11$14={key:0},_hoisted_12$13={key:0,class:"d-flex justify-content-between align-items-center px-2"},_hoisted_13$_={key:0},_hoisted_14$Y=createBaseVNode("i",{class:"fa-solid fa-check-double mr-2"},null,-1),_hoisted_15$W={key:1},_hoisted_16$X={key:0,class:"d-flex justify-content-between align-items-center px-2"},_hoisted_17$S={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_18$S={key:1,class:"btn-group w-100 rounded-3"},_hoisted_19$P=["disabled"],_hoisted_20$P={type:"button",class:"btn btn-sm btn-primary"},_hoisted_21$N=["disabled"],_hoisted_22$N={key:1,class:"px-2"},_hoisted_23$I=createBaseVNode("span",{style:{"font-size":"12px"},class:"btn btn-outline-secondary rounded-3 py-2 btn-md w-100 d-flex justify-content-center align-items-center"},[createBaseVNode("i",{class:"fa-solid fa-lock mr-2"}),createTextVNode(" нет в наличии")],-1),_hoisted_24$G=[_hoisted_23$I],_hoisted_25$E=["id"],_hoisted_26$C={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_27$A={class:"modal-content"},_hoisted_28$z=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_29$x={class:"modal-body"},_hoisted_30$w={key:0,class:"card border-0"},_hoisted_31$w={style:{"min-height":"350px","object-fit":"cover"},class:"card-img",alt:"..."},_hoisted_32$v={class:"card-img-overlay d-flex flex-column justify-content-between p-0"},_hoisted_33$v={class:"shadow-bg",style:{"min-height":"70px"}},_hoisted_34$v={class:"text-left text-white",style:{"font-weight":"700","line-height":"100%"}},_hoisted_35$v={class:"d-flex justify-content-between align-items-center"},_hoisted_36$v={class:"text-left mb-0 text-white"},_hoisted_37$v={class:"text-primary fw-bold"},_hoisted_38$s={key:0,class:"badge bg-primary fw-bold"},_hoisted_39$s={key:1,class:"row g-2 row-cols-5"},_hoisted_40$p={class:"col"},_hoisted_41$p=["onClick"],_hoisted_42$p={class:"p-2"},_hoisted_43$p=createBaseVNode("p",{class:"mb-0"},"Рейтинг товара",-1),_hoisted_44$p={class:"d-flex justify-content-between mb-3"},_hoisted_45$o={class:"nav nav-tabs justify-content-center"},_hoisted_46$o={class:"nav-item"},_hoisted_47$n={class:"nav-item"},_hoisted_48$m={key:2},_hoisted_49$m={class:"text-justify py-2 fst-italic"},_hoisted_50$k={key:3},_hoisted_51$k={key:0},_hoisted_52$k={class:"list-group w-100 py-2 rounded-0"},_hoisted_53$i={class:"list-group-item"},_hoisted_54$i={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_55$h=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем отзывы...")],-1),_hoisted_56$h=[_hoisted_55$h],_hoisted_57$h={key:2,class:"alert alert-light my-2",role:"alert"},_hoisted_58$h={key:0,class:"modal-footer p-2 m-0"},_hoisted_59$g={class:"d-flex justify-content-between align-items-center w-100 p-0"},_hoisted_60$d={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},_hoisted_61$d={key:1,class:"btn-group w-100"},_hoisted_62$b=["disabled"],_hoisted_63$b={type:"button",class:"btn btn-md btn-primary"},_hoisted_64$b=["disabled"],_hoisted_65$b={key:1,class:"modal-footer p-0 m-0"},_hoisted_66$b=createBaseVNode("p",{class:"p-3 border-secondary border rounded-2 w-100 text-secondary fw-bold text-center"},"Товар недоступен для заказа",-1),_hoisted_67$b=[_hoisted_66$b],__default__$10={props:["item","displayType","collectionMode","canSelect"],data(){return{tab:0,selected_image:null,loading_reviews:!1,showCart:!1,reviews:[],paginate:null}},computed:{...mapGetters(["inCart","getReviews","getReviewsPaginateObject"]),currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100},checkInCart(){return this.inCart(this.item.id)},discount(){return this.oldPrice>0?Math.round(this.currentPrice/this.oldPrice*100):0},uuid(){return v4()}},mounted(){this.selected_image=(this.item.images||[]).length>0?this.item.images[0]:null},methods:{nextReviews(o){this.loadReviews(o)},loadReviews(o=0){return this.tab=1,this.loading_reviews=!0,this.$store.dispatch("loadReviewsByProductId",{dataObject:{product_id:this.item.id},page:o,size:30}).then(t=>{this.reviews=this.getReviews,this.paginate=this.getReviewsPaginateObject,this.loading_reviews=!1}).catch(()=>{this.loading_reviews=!1})},showProductDetails(){new bootstrap.Modal(document.getElementById("product-modal-info"+this.uuid),{}).show()},goToProduct(){this.$router.push({name:"ProductV2",params:{productId:this.item.id}})},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})},selectInCollection(o){this.canSelect&&this.$emit("select-in-collection",o)}}},_sfc_main$1z=Object.assign(__default__$10,{__name:"ProductCard",setup(o){return(t,s)=>{const i=resolveComponent("Pagination"),a=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1A,[createBaseVNode("div",{onClick:s[0]||(s[0]=(...n)=>t.showProductDetails&&t.showProductDetails(...n)),class:"img-container"},[(o.item.images||[]).length>0?withDirectives((openBlock(),createElementBlock("img",_hoisted_2$1z,null,512)),[[a,o.item.images[0]]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1y,[createBaseVNode("div",_hoisted_4$1u,[createBaseVNode("div",_hoisted_5$1t,[createBaseVNode("span",_hoisted_6$1s,[_hoisted_7$1o,createTextVNode(" "+toDisplayString(o.item.rating||0),1)])]),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_8$1i,"%")):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_9$1e,[createBaseVNode("p",_hoisted_10$18,[createTextVNode(toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_11$14,"...")):createCommentVNode("",!0)]),o.collectionMode?(openBlock(),createElementBlock("div",_hoisted_12$13,[createBaseVNode("button",{type:"button",onClick:s[1]||(s[1]=n=>t.selectInCollection(o.item)),style:{"font-size":"12px"},class:normalizeClass([{"btn-primary":o.item.is_checked,"btn-light":!o.item.is_checked},"btn btn-md w-100 rounded-2 mb-2"])},[o.item.is_checked?(openBlock(),createElementBlock("span",_hoisted_13$_,[_hoisted_14$Y,createTextVNode(" Выбрано")])):(openBlock(),createElementBlock("span",_hoisted_15$W,"Выбрать"))],2)])):(openBlock(),createElementBlock(Fragment,{key:1},[o.item.in_stop_list_at?(openBlock(),createElementBlock("div",_hoisted_22$N,_hoisted_24$G)):(openBlock(),createElementBlock("div",_hoisted_16$X,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[2]||(s[2]=(...n)=>t.incProductCart&&t.incProductCart(...n)),style:{"font-size":"12px"},class:"btn btn-sm btn-light w-100 rounded-3"},[createTextVNode(toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_17$S,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_18$S,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,style:{"border-radius":"6px 0px 0px 6px"},onClick:s[3]||(s[3]=(...n)=>t.decProductCart&&t.decProductCart(...n)),class:"btn btn-sm btn-primary"},"- ",8,_hoisted_19$P),createBaseVNode("button",_hoisted_20$P,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[4]||(s[4]=(...n)=>t.incProductCart&&t.incProductCart(...n)),style:{"border-radius":"0px 6px 6px 0px"},class:"btn btn-sm btn-primary"},"+ ",8,_hoisted_21$N)])):createCommentVNode("",!0)]))],64))])]),createBaseVNode("div",{class:"modal fade",id:"product-modal-info"+t.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_26$C,[createBaseVNode("div",_hoisted_27$A,[_hoisted_28$z,createBaseVNode("div",_hoisted_29$x,[o.item?(openBlock(),createElementBlock("div",_hoisted_30$w,[withDirectives(createBaseVNode("img",_hoisted_31$w,null,512),[[a,t.selected_image]]),createBaseVNode("div",_hoisted_32$v,[createBaseVNode("div",_hoisted_33$v,[createBaseVNode("h6",_hoisted_34$v,toDisplayString(o.item.title||"Не указан"),1),createBaseVNode("div",_hoisted_35$v,[createBaseVNode("p",_hoisted_36$v,[createTextVNode("Цена "),createBaseVNode("strong",_hoisted_37$v,toDisplayString(o.item.current_price||0)+"₽",1)]),t.discount>0?(openBlock(),createElementBlock("span",_hoisted_38$s,"-"+toDisplayString(t.discount||0)+"%",1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0),(o.item.images||[]).length>1?(openBlock(),createElementBlock("div",_hoisted_39$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.item.images,n=>(openBlock(),createElementBlock("div",_hoisted_40$p,[withDirectives(createBaseVNode("img",{style:{"min-height":"60px","object-fit":"contain"},onClick:r=>t.selected_image=n,class:normalizeClass([{"border border-primary":t.selected_image===n},"img-thumbnail my-2"]),alt:"..."},null,10,_hoisted_41$p),[[a,n]])]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_42$p,[_hoisted_43$p,createBaseVNode("h6",_hoisted_44$p,[createVNode(Rating,{rating:o.item.rating},null,8,["rating"]),createTextVNode(" "+toDisplayString(o.item.rating)+" из 5 ",1)])]),createBaseVNode("ul",_hoisted_45$o,[createBaseVNode("li",_hoisted_46$o,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[5]||(s[5]=n=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Описание",2)]),createBaseVNode("li",_hoisted_47$n,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[6]||(s[6]=n=>t.loadReviews(0)),href:"javascript:void(0)"},"Отзывы",2)])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_48$m,[createBaseVNode("p",_hoisted_49$m,toDisplayString(o.item.description||"-"),1)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_50$k,[t.reviews.length>0?(openBlock(),createElementBlock("div",_hoisted_51$k,[createBaseVNode("ul",_hoisted_52$k,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(n,r)=>(openBlock(),createElementBlock("li",_hoisted_53$i,[createVNode(_sfc_main$1A,{"need-product":!1,modelValue:t.reviews[r],"onUpdate:modelValue":l=>t.reviews[r]=l},null,8,["modelValue","onUpdate:modelValue"])]))),256))]),t.paginate?(openBlock(),createBlock(i,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.reviews.length===0&&t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_54$i,_hoisted_56$h)):createCommentVNode("",!0),t.reviews.length===0&&!t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_57$h," У данного товара еще нет отзывов! Для того чтобы оставить отзыв Вам необходимо заказать данный товар, после чего у вас появится возможность написать ваше впечатление от него;) ")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),o.item.in_stop_list_at?(openBlock(),createElementBlock("div",_hoisted_65$b,_hoisted_67$b)):(openBlock(),createElementBlock("div",_hoisted_58$h,[createBaseVNode("div",_hoisted_59$g,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[7]||(s[7]=(...n)=>t.incProductCart&&t.incProductCart(...n)),class:"btn btn-md btn-primary w-100 rounded-3 p-2"},[createTextVNode(toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_60$d,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_61$d,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at!=null,onClick:s[8]||(s[8]=(...n)=>t.decProductCart&&t.decProductCart(...n)),class:"btn btn-md btn-primary p-2"},"- ",8,_hoisted_62$b),createBaseVNode("button",_hoisted_63$b,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at!=null,onClick:s[9]||(s[9]=(...n)=>t.incProductCart&&t.incProductCart(...n)),class:"btn btn-md btn-primary p-2"},"+ ",8,_hoisted_64$b)])):createCommentVNode("",!0)])]))])])],8,_hoisted_25$E)],64)}}}),CategoryList_vue_vue_type_style_index_0_lang="";({...mapGetters(["getCategories","getCategoriesPaginateObject"])});const _hoisted_1$1z={key:0,class:"card-img-top",alt:""},_hoisted_2$1y={class:"card-title my-3 fw-bold"},_hoisted_3$1x={class:"card-text"},_hoisted_4$1t={class:"card-text fw-bold text-center p-3 border-primary border text-primary"},_hoisted_5$1s={style:{"text-decoration":"line-through"}},_hoisted_6$1r={key:2,class:"w-100 d-block text-center"},_hoisted_7$1n=["id"],_hoisted_8$1h={key:0,class:"alert alert-light mb-2"},_hoisted_9$1d={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_10$17={class:"col"},_hoisted_11$13={key:0,class:"col"},_hoisted_12$12=["onClick"],_hoisted_13$Z={class:"img-container"},_hoisted_14$X={class:"rounded-3"},_hoisted_15$V=createBaseVNode("div",{class:"card-body px-0"},[createBaseVNode("p",{class:"text-center mb-2",style:{"font-size":"12px"}},"Данная категория не интересует"),createBaseVNode("div",{class:"d-flex justify-content-between align-items-center px-2"},[createBaseVNode("button",{type:"button",style:{"font-size":"12px"},class:"btn btn-md w-100 rounded-2 mb-2 btn-outline-light text-black"}," Выбрать ")])],-1),_hoisted_16$W={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_17$R={class:"d-flex w-100 flex-column"},_hoisted_18$R=["disabled"],_hoisted_19$O={style:{"text-decoration":"line-through"}},_hoisted_20$O={key:1,class:"btn-group w-100"},_hoisted_21$M=["disabled"],_hoisted_22$M={type:"button",class:"btn btn-sm btn-primary"},_hoisted_23$H=["disabled"],__default__$$={props:["item"],data(){return{product:null}},computed:{...mapGetters(["inCart"]),uuid(){return v4()},checkInCart(){return this.inCart(this.product.id)},bot(){return window.currentBot},discountPrice(){return Math.round(this.summaryPrice*(1-(this.product.discount===0?1:this.product.discount)/100))},summaryPrice(){let o=0;return this.product.products.forEach(t=>{t.is_checked&&(o+=t.current_price||0)}),o},preparedProducts(){let o=[],t=!1;return this.product.products.forEach(s=>{if((s.categories||[]).length>0){let i=o.findIndex(a=>a.title==s.categories[0].title);i===-1?o.push({id:s.categories[0].id,title:s.categories[0].title,products:[s]}):o[i].products.push(s),t=!0}}),t||(o.push({id:this.uuid,title:"Без категории",products:[]}),this.product.products.forEach(s=>{o[0].products.push(s)})),o.forEach(s=>{let i=0;s.products.forEach(a=>{let n=this.product.config?this.product.config:{choose_all_in_category:!1};a.is_checked=n.choose_all_in_category?!0:i===0,i++})}),o}},mounted(){this.$nextTick(()=>{const o=JSON.parse(JSON.stringify(this.item));this.product=o,this.product.collection_id=o.id,this.product.id=this.uuid})},methods:{incCollectionCart(){this.checkInCart===0?this.addCollectionToCart():this.$store.dispatch("incQuantity",this.product.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decCollectionCart(){this.checkInCart<=1?this.$store.dispatch("removeCollectionFromCart",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})},addCollectionToCart(){this.$store.dispatch("addCollectionToCart",this.item).then(()=>{this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})}).catch(()=>{})},cancelCategory(o){let t=o.id;this.product.products.forEach(s=>{s.categories[0].id===t&&(s.is_checked=!1,this.$store.dispatch("removeProduct",s.id))}),this.checkInCart>0&&this.$store.dispatch("removeCollectionFromCart",this.product.id),this.$notify({title:"Подборки товара",text:"Вы успешно исключили категорию товара из подборки",type:"success"})},selectSubProduct(o){let t=this.product.products.findIndex(i=>o.id===o.id),s=o.categories[0].id;this.product.products.forEach(i=>{i.categories[0].id===s&&(i.is_checked=!1,this.$store.dispatch("removeProduct",i.id))}),this.product.products[t].is_checked=!0,this.checkInCart>0&&this.$store.dispatch("removeCollectionFromCart",this.product.id)}}},_sfc_main$1y=Object.assign(__default__$$,{__name:"ProductCollectionView",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return t.product?(openBlock(),createElementBlock(Fragment,{key:0},[o.item.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_1$1z,null,512)),[[i,"/images-by-company-id/"+t.bot.company.id+"/"+t.product.image]]):createCommentVNode("",!0),createBaseVNode("h5",_hoisted_2$1y,toDisplayString(t.product.title||"-"),1),createBaseVNode("p",_hoisted_3$1x,toDisplayString(t.product.description||"-"),1),createBaseVNode("p",_hoisted_4$1t,[t.product.discount>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.discountPrice)+"₽ ",1),createBaseVNode("span",_hoisted_5$1s,toDisplayString(t.summaryPrice)+"₽",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.summaryPrice)+"₽ ",1)],64)),t.product.products.length>0?(openBlock(),createElementBlock("small",_hoisted_6$1r,"За "+toDisplayString(t.product.products.length)+" товаров",1)):createCommentVNode("",!0)]),t.preparedProducts.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.preparedProducts,a=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",{class:"my-4 divider",id:"collection-cat-"+a.id},toDisplayString(a.title||"-"),9,_hoisted_7$1n),a.products.length>1?(openBlock(),createElementBlock("p",_hoisted_8$1h," В данной категории вы можете выбрать из доступных вариантов ")):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$1d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.products,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_10$17,[createVNode(_sfc_main$1z,{"can-select":!(n.config||{choose_all_in_category:!1}).choose_all_in_category,"collection-selected":n.is_checked,"collection-mode":!0,item:n,onSelectInCollection:t.selectSubProduct},null,8,["can-select","collection-selected","item","onSelectInCollection"])]))),256)),(t.product.config||{can_skip_categories:!1}).can_skip_categories?(openBlock(),createElementBlock("div",_hoisted_11$13,[createBaseVNode("div",{onClick:n=>t.cancelCategory(a),class:"card border-0 product-card"},[createBaseVNode("div",_hoisted_13$Z,[withDirectives(createBaseVNode("img",_hoisted_14$X,null,512),[[i,"/images/default-product-image.jpg"]])]),_hoisted_15$V],8,_hoisted_12$12)])):createCommentVNode("",!0)])],64))),256)):createCommentVNode("",!0),createBaseVNode("nav",_hoisted_16$W,[createBaseVNode("div",_hoisted_17$R,[t.inCart(t.product.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:t.summaryPrice===0,onClick:s[0]||(s[0]=(...a)=>t.addCollectionToCart&&t.addCollectionToCart(...a)),class:"btn btn-sm btn-primary w-100 rounded-3 p-3"},[createTextVNode(" Добавить "),t.product.discount>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.discountPrice)+"₽ ",1),createBaseVNode("span",_hoisted_19$O,toDisplayString(t.summaryPrice)+"₽",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.summaryPrice)+"₽ ",1)],64))],8,_hoisted_18$R)):createCommentVNode("",!0),t.inCart(t.product.id)>0?(openBlock(),createElementBlock("div",_hoisted_20$O,[createBaseVNode("button",{type:"button",disabled:t.product.in_stop_list_at,onClick:s[1]||(s[1]=(...a)=>t.decCollectionCart&&t.decCollectionCart(...a)),style:{"border-radius":"8px 0 0 8px"},class:"btn btn-sm btn-primary p-3"},"- ",8,_hoisted_21$M),createBaseVNode("button",_hoisted_22$M,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:t.product.in_stop_list_at,onClick:s[2]||(s[2]=(...a)=>t.incCollectionCart&&t.incCollectionCart(...a)),style:{"border-radius":"0 8px 8px 0"},class:"btn btn-sm btn-primary p-3"},"+ ",8,_hoisted_23$H)])):createCommentVNode("",!0)])])],64)):createCommentVNode("",!0)}}}),CollectionCard_vue_vue_type_style_index_0_lang="",_hoisted_1$1y={class:"card border-0 product-card"},_hoisted_2$1x={key:0,class:"rounded-3",alt:""},_hoisted_3$1w={class:"controls"},_hoisted_4$1s={class:"top d-flex justify-content-end w-100 align-items-center"},_hoisted_5$1r={class:"product-count w-100 p-2"},_hoisted_6$1q={class:"text-white fw-bold"},_hoisted_7$1m=createBaseVNode("i",{class:"fa-solid fa-layer-group mr-1"},null,-1),_hoisted_8$1g={key:0,class:"badge bg-primary mr-2 fw-bold"},_hoisted_9$1c={class:"card-body px-0"},_hoisted_10$16={class:"text-center mb-2",style:{"font-size":"12px"}},_hoisted_11$12={key:0},_hoisted_12$11={class:"d-flex justify-content-between align-items-center px-2"},_hoisted_13$Y={style:{"text-decoration":"line-through"}},_hoisted_14$W={key:1,class:"btn-group w-100 rounded-3"},_hoisted_15$U=["disabled"],_hoisted_16$V={type:"button",class:"btn btn-sm btn-primary"},_hoisted_17$Q=["disabled"],_hoisted_18$Q=["id"],_hoisted_19$N={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_20$N={class:"modal-content"},_hoisted_21$L=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Подборка"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_22$L={class:"modal-body mb-5 pb-5"},__default__$_={props:["item"],data(){return{tab:0,selected_image:null,loading_reviews:!1,showCart:!1,reviews:[],paginate:null}},computed:{...mapGetters(["inCart"]),uuid(){return v4()},discountPrice(){return Math.round(this.summaryPrice*(1-(this.item.discount===0?1:this.item.discount)/100))},bot(){return window.currentBot},summaryPrice(){let o=0;return this.item.products.forEach(t=>{t.is_checked&&(o+=t.current_price||0)}),o},checkInCart(){return this.inCart(this.item.id)}},mounted(){this.item.collection_id=this.item.id,this.item.id=this.uuid,this.selected_image=(this.item.images||[]).length>0?this.item.images[0]:null},methods:{showCollectionDetails(){new bootstrap.Modal(document.getElementById("collection-modal-info"+this.item.id),{}).show()},incCollectionCart(){this.item.current_price=this.discountPrice,this.checkInCart===0?this.$store.dispatch("addCollectionToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decCollectionCart(){this.checkInCart<=1?this.$store.dispatch("removeCollectionFromCart",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})}}},_sfc_main$1x=Object.assign(__default__$_,{__name:"CollectionCard",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1y,[createBaseVNode("div",{onClick:s[0]||(s[0]=(...a)=>t.showCollectionDetails&&t.showCollectionDetails(...a)),class:"img-container"},[o.item.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_2$1x,null,512)),[[i,"/images-by-company-id/"+t.bot.company.id+"/"+o.item.image]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1w,[createBaseVNode("div",_hoisted_4$1s,[createBaseVNode("div",_hoisted_5$1r,[createBaseVNode("span",_hoisted_6$1q,[_hoisted_7$1m,createTextVNode(" "+toDisplayString((o.item.products||[]).length),1)])]),o.item.discount>0?(openBlock(),createElementBlock("span",_hoisted_8$1g,"%")):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_9$1c,[createBaseVNode("p",_hoisted_10$16,[createTextVNode(toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_11$12,"...")):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$11,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[1]||(s[1]=(...a)=>t.incCollectionCart&&t.incCollectionCart(...a)),style:{"font-size":"12px"},class:"btn btn-md btn-light w-100 rounded-3"},[o.item.discount>0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.discountPrice)+"₽ ",1),createBaseVNode("span",_hoisted_13$Y,toDisplayString(t.summaryPrice)+"₽",1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.summaryPrice)+"₽ ",1)],64))])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_14$W,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[2]||(s[2]=(...a)=>t.decCollectionCart&&t.decCollectionCart(...a)),style:{"border-radius":"6px 0px 0px 6px"},class:"btn btn-sm btn-primary"},"- ",8,_hoisted_15$U),createBaseVNode("button",_hoisted_16$V,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[3]||(s[3]=(...a)=>t.incCollectionCart&&t.incCollectionCart(...a)),style:{"border-radius":"0px 6px 6px 0px"},class:"btn btn-sm btn-primary"},"+ ",8,_hoisted_17$Q)])):createCommentVNode("",!0)])])]),createBaseVNode("div",{class:"modal fade",id:"collection-modal-info"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_19$N,[createBaseVNode("div",_hoisted_20$N,[_hoisted_21$L,createBaseVNode("div",_hoisted_22$L,[o.item?(openBlock(),createBlock(_sfc_main$1y,{key:0,item:o.item},null,8,["item"])):createCommentVNode("",!0)])])])],8,_hoisted_18$Q)],64)}}}),ShopProductCatalog_vue_vue_type_style_index_0_lang="",_hoisted_1$1x={class:"d-flex flex-column"},_hoisted_2$1w={key:0,class:"p-2"},_hoisted_3$1v={class:"alert alert-danger mb-0"},_hoisted_4$1r=["innerHTML"],_hoisted_5$1q={class:"p-2"},_hoisted_6$1p={class:"input-group"},_hoisted_7$1l={class:"form-floating"},_hoisted_8$1f=createBaseVNode("label",{for:"search-product"},"Поиск по товарам",-1),_hoisted_9$1b=createBaseVNode("button",{class:"btn btn-outline-light",type:"button",id:"button-addon2"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass-arrow-right"})],-1),_hoisted_10$15={class:"nav nav-tabs justify-content-center catalog-tabs"},_hoisted_11$11={class:"nav-item"},_hoisted_12$10=createBaseVNode("i",{class:"fa-solid fa-tag mr-2"},null,-1),_hoisted_13$X={class:"nav-item"},_hoisted_14$V=createBaseVNode("i",{class:"fa-solid fa-bag-shopping mr-2"},null,-1),_hoisted_15$T={class:"album",style:{"min-height":"100vh"}},_hoisted_16$U={class:"container g-2"},_hoisted_17$P={key:0,class:"list-group"},_hoisted_18$P={class:"badge text-bg-primary"},_hoisted_19$M=["onClick"],_hoisted_20$M={class:"badge text-bg-primary"},_hoisted_21$K={key:1,class:"alert alert-light text-primary d-flex flex-column justify-content-center align-items-center",role:"alert"},_hoisted_22$K={key:1,style:{"min-height":"100vh"},class:"album"},_hoisted_23$G={class:"container g-2"},_hoisted_24$F={key:0,class:"d-flex flex-column align-items-center py-5"},_hoisted_25$D=createBaseVNode("div",{class:"spinner-grow bg-primary",style:{width:"3rem",height:"3rem"},role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_26$B=createBaseVNode("p",{class:"py-2"},"Загружаем комбо-меню...",-1),_hoisted_27$z=[_hoisted_25$D,_hoisted_26$B],_hoisted_28$y=createBaseVNode("h5",{class:"my-4 divider",id:"cat-combo"},"Комбо меню",-1),_hoisted_29$w={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_30$v={class:"col"},_hoisted_31$v={key:1,class:"px-2"},_hoisted_32$u=["onClick"],_hoisted_33$u={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},_hoisted_34$u={class:"col"},_hoisted_35$u=["id"],_hoisted_36$u={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_37$u={class:"col"},_hoisted_38$r={key:3,class:"alert alert-light text-primary d-flex flex-column justify-content-center align-items-center",role:"alert"},_hoisted_39$r={class:"container"},_hoisted_40$o={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},_hoisted_41$o={class:"col"},_hoisted_42$o={key:0,class:"catalog-preloader"},_hoisted_43$o=createBaseVNode("div",{class:"d-flex flex-column align-items-center"},[createBaseVNode("div",{class:"spinner-grow bg-primary",style:{width:"3rem",height:"3rem"},role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")]),createBaseVNode("p",{class:"py-2"},"Загружаем...")],-1),_hoisted_44$o=[_hoisted_43$o],__default__$Z={props:["settings"],data(){return{tab:1,load_content:!1,load_collection:!1,product_type_display:1,spent_time_counter:0,is_requested:!1,isCollapsed:!0,search:null,products:[],collections:[],collections_paginate:[],products_with_categories:[],paginate:null,categories:[],sending:!1,min_price:null,max_price:null,moneyVariants:[500,1e3,2e3,5e3],deliveryForm:{name:null,phone:null,address:null,city:null,street:null,building:null,flat_number:null,entrance_number:null,floor_number:null,info:null,need_pickup:!1,has_disability:!1,use_cashback:!1,disabilities:[],money:null,cash:!0,persons:1,time:null,when_ready:!0}}},computed:{...mapGetters(["inCart","getCollections","getCollectionsPaginateObject","getProducts","getCategories","getProductsPaginateObject","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),uuid(){return v4()},bot(){return window.currentBot},colorTheme(){return"background-color:"+(document.querySelector("[data-bs-theme]").getAttribute("data-bs-theme")==="light"?"white":"#212529")},getCurrentBot(){return window.currentBot},cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,s=this.getCurrentBot.max_cashback_use_percent||0,i=t*(s/100);return Math.min(i,o)},filteredCategories(){return this.products.length===0?[]:(this.search||"").length===0?this.products:this.products.filter(o=>o.products.filter(t=>t.title.toLowerCase().indexOf(this.search.toLowerCase())!=-1).length>0)},filteredProducts(){return this.categories.length===0?this.products:this.products.filter(o=>o.categories.findIndex(t=>this.categories.indexOf(t.id)!==-1)!==-1)},tg(){return window.Telegram.WebApp},activeCategories(){let o=[];return this.filteredProducts.forEach(t=>{o.push(t.categories.map(s=>s.id))}),[...new Set(o.map(t=>t[0])),...new Set(o.map(t=>t[1]))]}},mounted(){this.loadProducts(),this.loadCollections(),this.cartProducts.length>0&&this.loadActualProducts(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{scroll(o){var t=document.getElementById(o),s=70,i=t.getBoundingClientRect().top,a=i+window.pageYOffset-s;window.scroll({top:a,behavior:"smooth"})},openTab(o){this.tab=o,window.scroll(0,80)},closeModalOnSwipe(){return document.querySelectorAll(".modal.show").length>0?(document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click()),!0):!1},doSwipeLeft(){if(this.closeModalOnSwipe())return;let o=1;this.tab===0?this.tab=o:this.tab--,window.scroll(0,80)},doSwipeRight(){if(this.closeModalOnSwipe())return;let o=1;this.tab===o?this.tab=0:this.tab++,window.scroll(0,80)},decPersons(){this.deliveryForm.persons=this.deliveryForm.persons>1?this.deliveryForm.persons-1:this.deliveryForm.persons},incPersons(){this.deliveryForm.persons=this.deliveryForm.persons<100?this.deliveryForm.persons+1:this.deliveryForm.persons},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",this.spent_time_counter)},1e3)},clearCart(){this.tab=1,this.$store.dispatch("clearCart").then(()=>{this.$botNotification.success("Корзина","Корзина успешно очищена")})},selectCategory(o){this.tab=1,this.$nextTick(()=>{o?this.scroll("cat-"+o.id):window.scroll(0,80)})},nextProducts(o){this.loadProducts(o)},nextCollections(o){this.loadCollections(o)},loadCollections(o=0){return this.load_content=!0,this.load_collection=!0,this.$store.dispatch("loadGlobalCollections",{page:o}).then(t=>{this.collections=this.getCollections,this.collections_paginate=this.getCollectionsPaginateObject,this.load_content=!1,this.load_collection=!1,window.scroll(0,80)}).catch(()=>{this.load_content=!1,this.load_collection=!1,this.$store.dispatch("clearCart").then(()=>{this.loadCollections()})})},duplicateForUsers(o,t){const s=JSON.parse(JSON.stringify(o));s.current_price=0,this.collections.push(s),this.collections[t].need_refresh=!0,this.$nextTick(()=>{this.collections[t].need_refresh=!1})},loadProducts(o=0){return this.tab=1,this.load_content=!0,this.$store.dispatch("loadProductsByCategory").then(t=>{this.products=t.data,this.load_content=!1,window.scroll(0,80)}).catch(()=>{this.load_content=!1,this.$store.dispatch("clearCart").then(()=>{this.loadProducts()})})},startCheckout(){if(this.is_requested){this.$notify({title:"Упс!",text:"Сделать повторный заказ можно через ${this.spent_time_counter} сек.",type:"error"});return}localStorage.setItem("cashman_self_product_delivery_form_name",this.deliveryForm.name||""),localStorage.setItem("cashman_self_product_delivery_form_phone",this.deliveryForm.phone||""),localStorage.setItem("cashman_self_product_delivery_form_address",this.deliveryForm.address||""),localStorage.setItem("cashman_self_product_delivery_form_city",this.deliveryForm.city||""),localStorage.setItem("cashman_self_product_delivery_form_street",this.deliveryForm.street||""),localStorage.setItem("cashman_self_product_delivery_form_building",this.deliveryForm.building||""),localStorage.setItem("cashman_self_product_delivery_form_flat_number",this.deliveryForm.flat_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_number",this.deliveryForm.entrance_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_disabilities",JSON.stringify(this.deliveryForm.disabilities||[]));let o=new FormData;this.sending=!0,Object.keys(this.deliveryForm).forEach(t=>{const s=this.deliveryForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.type&&o.append("type",this.type),this.$store.dispatch("startCheckout",{deliveryForm:o}).then(t=>{this.deliveryForm={message:null,name:null,phone:null},this.$notify({title:"Доставка",text:"Дальнейшая инструкция отправлена вам в бот!",type:"success"}),this.tab=1,this.$store.dispatch("clearCart"),this.tg.close(),this.sending=!1}).catch(t=>{this.sending=!1}),this.startTimer(),this.is_requested=!0},loadActualProducts(){this.$store.dispatch("loadActualPriceInCart")},removeCategory(o){this.categories.splice(o,1)},addToCart(o){this.$cart.add(o.product)}}},_sfc_main$1w=Object.assign(__default__$Z,{__name:"ShopProductCatalog",setup(o){return(t,s)=>{var a;const i=resolveDirective("touch");return openBlock(),createElementBlock(Fragment,null,[withDirectives((openBlock(),createElementBlock("div",_hoisted_1$1x,[o.settings.is_disabled?(openBlock(),createElementBlock("div",_hoisted_2$1w,[createBaseVNode("div",_hoisted_3$1v,[createBaseVNode("p",{class:"mb-0",innerHTML:o.settings.disabled_text},null,8,_hoisted_4$1r)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$1q,[createBaseVNode("div",_hoisted_6$1p,[createBaseVNode("div",_hoisted_7$1l,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=n=>t.search=n),class:"form-control border-light",id:"search-product",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_8$1f]),_hoisted_9$1b])]),createBaseVNode("menu",{style:normalizeStyle(t.colorTheme),class:"d-block position-sticky w-100 header-category-slider"},[createBaseVNode("ul",_hoisted_10$15,[createBaseVNode("li",_hoisted_11$11,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[1]||(s[1]=n=>t.openTab(0)),style:{"font-weight":"bold"},"aria-current":"page",href:"javascript:void(0)"},[_hoisted_12$10,createTextVNode("Категории")],2)]),createBaseVNode("li",_hoisted_13$X,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[2]||(s[2]=n=>t.openTab(1)),style:{"font-weight":"bold"},href:"javascript:void(0)"},[_hoisted_14$V,createTextVNode("Товары")],2)])])],4),withDirectives(createBaseVNode("div",_hoisted_15$T,[createBaseVNode("div",_hoisted_16$U,[t.filteredCategories.length>0?(openBlock(),createElementBlock("div",_hoisted_17$P,[createBaseVNode("a",{href:"javascript:void(0)",onClick:s[3]||(s[3]=n=>t.selectCategory(null)),style:{"font-weight":"bold"},class:"list-group-item list-group-item-action d-flex justify-content-between p-3","aria-current":"true"}," Все категории товаров "),t.collections.length>0?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:s[4]||(s[4]=n=>t.selectCategory({id:"combo"})),style:{"font-weight":"bold"},class:"list-group-item list-group-item-action d-flex justify-content-between p-3","aria-current":"true"},[createTextVNode(" Комбо-меню"),createBaseVNode("span",_hoisted_18$P,toDisplayString(t.collections.length||0),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredCategories,n=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:r=>t.selectCategory(n),style:{"font-weight":"bold"},class:"list-group-item list-group-item-action d-flex justify-content-between p-3 align-items-center","aria-current":"true"},[createTextVNode(toDisplayString(n.title||"Не указано"),1),createBaseVNode("span",_hoisted_20$M,toDisplayString(n.count||0),1)],8,_hoisted_19$M))),256))])):(openBlock(),createElementBlock("div",_hoisted_21$K,[createTextVNode(" По данному запросу нет ничего:( "),createBaseVNode("button",{onClick:s[5]||(s[5]=n=>t.search=null),class:"btn btn-outline-primary my-3"},"Сбросить поиск ")]))])],512),[[vShow,t.tab===0]]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_22$K,[createBaseVNode("div",_hoisted_23$G,[t.load_collection?(openBlock(),createElementBlock("div",_hoisted_24$F,_hoisted_27$z)):createCommentVNode("",!0),t.collections.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_28$y,createBaseVNode("div",_hoisted_29$w,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.collections,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_30$v,[n.need_refresh?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$1x,{key:0,item:n},null,8,["item"])),t.inCart(n.id)?(openBlock(),createElementBlock("div",_hoisted_31$v,[createBaseVNode("button",{class:"btn btn-success btn-sm w-100",onClick:l=>t.duplicateForUsers(n,r),type:"button"},"Новый вариант ",8,_hoisted_32$u)])):createCommentVNode("",!0)]))),256))]),((a=t.collections_paginate)==null?void 0:a.meta.last_page)>1?(openBlock(),createElementBlock("div",_hoisted_33$u,[createBaseVNode("div",_hoisted_34$u,[t.collections_paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextCollections,pagination:t.collections_paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),t.filteredCategories.length>0?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.filteredCategories,n=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",{class:"my-4 divider",id:"cat-"+n.id},toDisplayString(n.title||"-"),9,_hoisted_35$u),createBaseVNode("div",_hoisted_36$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.products,(r,l)=>(openBlock(),createElementBlock("div",_hoisted_37$u,[createVNode(_sfc_main$1z,{item:r},null,8,["item"])]))),256))])],64))),256)):(openBlock(),createElementBlock("div",_hoisted_38$r,[createTextVNode(" По данному запросу нет ничего:( "),createBaseVNode("button",{onClick:s[6]||(s[6]=n=>t.search=null),class:"btn btn-outline-primary my-3"},"Сбросить поиск ")]))]),createBaseVNode("div",_hoisted_39$r,[createBaseVNode("div",_hoisted_40$o,[createBaseVNode("div",_hoisted_41$o,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)])),[[i,t.doSwipeLeft,"swipe",{left:!0}],[i,t.doSwipeRight,"swipe",{right:!0}]]),t.load_content?(openBlock(),createElementBlock("div",_hoisted_42$o,_hoisted_44$o)):createCommentVNode("",!0)],64)}}}),_hoisted_1$1w={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_2$1v={class:"d-block",style:{position:"relative"}},_hoisted_3$1u=createBaseVNode("i",{class:"fa-solid fa-cart-shopping mr-2"},null,-1),_hoisted_4$1q={key:0,class:"bg-white text-primary sup-badge"},_hoisted_5$1p=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_6$1o={key:1,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-secondary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},__default__$Y={data(){return{settings:{is_disabled:!1,can_buy_after_closing:!1,disabled_text:null,can_use_cash:!0,delivery_price_text:null,min_price:0,min_price_for_cashback:0,menu_list_type:0,need_category_by_page:!1,need_pay_after_call:!1}}},computed:{...mapGetters(["inCart","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},canBy(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work||(this.settings?this.settings.can_buy_after_closing:!0):!0}},mounted(){this.loadShopModuleData()},methods:{goToCart(){this.$router.push({name:"ShopCartV2"})},loadShopModuleData(){return this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t],console.log("settings",this.settings[t],t)})})})}}},_sfc_main$1v=Object.assign(__default__$Y,{__name:"Catalog",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$1w,{settings:t.settings},null,8,["settings"]),createBaseVNode("nav",_hoisted_1$1w,[t.canBy?(openBlock(),createElementBlock("button",{key:0,onClick:s[0]||(s[0]=(...i)=>t.goToCart&&t.goToCart(...i)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},[createBaseVNode("span",_hoisted_2$1v,[_hoisted_3$1u,t.cartTotalCount>0?(openBlock(),createElementBlock("sup",_hoisted_4$1q,toDisplayString(t.cartTotalCount),1)):createCommentVNode("",!0),createTextVNode("Корзина ")]),createBaseVNode("strong",null,[createTextVNode(toDisplayString(t.cartTotalPrice||0),1),_hoisted_5$1p,createTextVNode("₽")])])):(openBlock(),createElementBlock("p",_hoisted_6$1o," В данный момент покупки недоступны "))])],64))}}),Catalog$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1v},Symbol.toStringTag,{value:"Module"})),_sfc_main$1u={data(){return{table_number:null,selected_table:null,tables:[{id:1,reserved_time:null,title:"Стол №1",description:"Большой стол для мероприятий",size:10,waiter:null,persons:[],order:[{product_id:null,count:0,bot_user_id:null,created_at:null}],start_at:null,closed_at:null}]}},computed:{bot(){return window.currentBot}},methods:{}},_hoisted_1$1v={class:"container py-3"},_hoisted_2$1u={class:"input-group mb-3"},_hoisted_3$1t=createBaseVNode("span",{class:"input-group-text"},[createBaseVNode("i",{class:"fa-solid fa-hashtag"})],-1),_hoisted_4$1p={class:"form-floating"},_hoisted_5$1o=createBaseVNode("label",{for:"floatingInputGroup1"},"Номер столика",-1),_hoisted_6$1n=createBaseVNode("h6",{class:"divider fw-bold"},"или",-1),_hoisted_7$1k={class:"row row-cols-4"},_hoisted_8$1e={class:"col mb-2"},_hoisted_9$1a={class:"card"},_hoisted_10$14={class:"card-body"},_hoisted_11$10={class:"text-center mb-0"};function _sfc_render$x(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$1v,[createBaseVNode("div",_hoisted_2$1u,[_hoisted_3$1t,createBaseVNode("div",_hoisted_4$1p,[withDirectives(createBaseVNode("input",{type:"number",min:"1","onUpdate:modelValue":t[0]||(t[0]=r=>a.table_number=r),class:"form-control",id:"floatingInputGroup1",placeholder:"Номер столика"},null,512),[[vModelText,a.table_number]]),_hoisted_5$1o])]),_hoisted_6$1n,createBaseVNode("div",_hoisted_7$1k,[(openBlock(),createElementBlock(Fragment,null,renderList(30,r=>createBaseVNode("div",_hoisted_8$1e,[createBaseVNode("div",_hoisted_9$1a,[createBaseVNode("div",_hoisted_10$14,[createBaseVNode("p",_hoisted_11$10,toDisplayString(r),1)])])])),64))])])}const TableList=_export_sfc(_sfc_main$1u,[["render",_sfc_render$x]]),_hoisted_1$1u={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_2$1t={class:"d-block",style:{position:"relative"}},_hoisted_3$1s=createBaseVNode("i",{class:"fa-solid fa-cart-shopping mr-2"},null,-1),_hoisted_4$1o={key:0,class:"bg-white text-primary sup-badge"},_hoisted_5$1n=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_6$1m={key:1,style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-secondary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},__default__$X={data(){return{step:0,table_number:null,selected_table:null,tables:[]}},computed:{...mapGetters(["inCart","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),bot(){return window.currentBot},canBy(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work||this.settings.can_buy_after_closing:!0}},methods:{goToCart(){this.$router.push({name:"ShopCartV2"})}}},_sfc_main$1t=Object.assign(__default__$X,{__name:"Catalog",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.step===0?(openBlock(),createBlock(TableList,{key:0})):createCommentVNode("",!0),t.step===2?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(_sfc_main$1w),createBaseVNode("nav",_hoisted_1$1u,[t.canBy?(openBlock(),createElementBlock("button",{key:0,onClick:s[0]||(s[0]=(...i)=>t.goToCart&&t.goToCart(...i)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"},[createBaseVNode("span",_hoisted_2$1t,[_hoisted_3$1s,t.cartTotalCount>0?(openBlock(),createElementBlock("sup",_hoisted_4$1o,toDisplayString(t.cartTotalCount),1)):createCommentVNode("",!0),createTextVNode("Корзина ")]),createBaseVNode("strong",null,[createTextVNode(toDisplayString(t.cartTotalPrice||0),1),_hoisted_5$1n,createTextVNode("₽")])])):(openBlock(),createElementBlock("p",_hoisted_6$1m," В данный момент покупки недоступны "))])],64)):createCommentVNode("",!0)],64))}}),Catalog=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1t},Symbol.toStringTag,{value:"Module"})),_sfc_main$1s={props:["schedule"],computed:{preparedDay(){let o=new Date().getUTCDay();return o===0?6:o-1},sorted(){const o={Понедельник:1,Вторник:2,Среда:3,Четверг:4,Пятница:5,Суббота:6,Воскресенье:7};return this.schedule.sort((t,s)=>o[t.day]-o[s.day])}}},_hoisted_1$1t={class:"list-group"},_hoisted_2$1s={key:0,class:"text-primary fw-bold"},_hoisted_3$1r={key:1,class:"text-primary fw-bold"};function _sfc_render$w(o,t,s,i,a,n){return openBlock(),createElementBlock("ul",_hoisted_1$1t,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.sorted,(r,l)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item d-flex justify-content-between",{"current-day text-primary fw-bold":n.preparedDay==l}]),"aria-current":"true"},[createBaseVNode("span",null,toDisplayString(r.day||"-"),1),r.closed?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_2$1s,toDisplayString(r.start_at||"-")+" - "+toDisplayString(r.end_at||"-"),1)),r.closed?(openBlock(),createElementBlock("span",_hoisted_3$1r,toDisplayString(r.closed_comment||"-"),1)):createCommentVNode("",!0)],2))),256))])}const ScheduleList=_export_sfc(_sfc_main$1s,[["render",_sfc_render$w]]),Contacts_vue_vue_type_style_index_0_lang="",_hoisted_1$1s={key:0,class:"container py-3"},_hoisted_2$1r={key:0,class:"d-flex",style:{"min-height":"300px",overflow:"hidden"}},_hoisted_3$1q=["innerHTML"],_hoisted_4$1n={key:1,class:"alert alert-danger",role:"alert"},_hoisted_5$1m=createBaseVNode("p",{class:"mb-0 fw-bold"},"Администратор еще не добавили виджет Яндекс.Карты с расположением заведения!",-1),_hoisted_6$1l=[_hoisted_5$1m],_hoisted_7$1j={class:"my-3"},_hoisted_8$1d={class:"opacity-75 mb-3 d-flex justify-content-between align-items-center"},_hoisted_9$19={key:0,"data-bs-toggle":"modal","data-bs-target":"#edit-shop-footer-description-modal",href:"javascript:void(0)",class:"text-primary ml-2"},_hoisted_10$13=createBaseVNode("i",{class:"fa-solid fa-pen-to-square"},null,-1),_hoisted_11$$=[_hoisted_10$13],_hoisted_12$$={class:"list-group"},_hoisted_13$W={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_14$U=createBaseVNode("span",null,"Телефон",-1),_hoisted_15$S={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_16$T=["href"],_hoisted_17$O={key:0,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_18$O=createBaseVNode("span",null,"Инста",-1),_hoisted_19$L={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_20$L=["href"],_hoisted_21$J={key:1,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_22$J=createBaseVNode("span",null,"Вконтакте",-1),_hoisted_23$F={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_24$E=["href"],_hoisted_25$C={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_26$A=createBaseVNode("span",null,"Почта",-1),_hoisted_27$y={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_28$x=["href"],_hoisted_29$v={key:2,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_30$u=createBaseVNode("span",null,"Сайт",-1),_hoisted_31$u={class:"text-primary fw-bold",style:{"font-size":"12px"}},_hoisted_32$t=["href"],_hoisted_33$t={class:"opacity-75 my-3 d-flex justify-content-between align-items-center"},_hoisted_34$t={key:0,"data-bs-toggle":"modal","data-bs-target":"#edit-shop-footer-description-modal",href:"javascript:void(0)",class:"text-primary ml-2"},_hoisted_35$t=createBaseVNode("i",{class:"fa-solid fa-pen-to-square"},null,-1),_hoisted_36$t=[_hoisted_35$t],_hoisted_37$t={key:3,class:"alert alert-danger"},_hoisted_38$q=createBaseVNode("p",{class:"mb-0 fw-bold"},"График работ еще не составлен:)",-1),_hoisted_39$q=[_hoisted_38$q],__default__$W={data(){return{settings:{can_use_cash:!0,can_use_card:!0,delivery_price_text:null,min_price:0,min_price_for_cashback:0,menu_list_type:0,payment_info:0,need_category_by_page:!1,need_pay_after_call:!1,free_shipping_starts_from:0,yandex_map_link:null}}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},bot(){return window.currentBot},isCorrectSchedule(){return window.isCorrectSchedule(this.bot.company.schedule)},company(){return this.bot.company},phone(){return this.bot.company.phones&&this.bot.company.phones[0]||null},links(){return{inst:(this.bot.company.links||{inst:null}).inst||null,vk:(this.bot.company.links||{vk:null}).vk||null,map_link:(this.bot.company.links||{map_link:null}).map_link||null,site:(this.bot.company.links||{site:null}).site||null}}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{}},_sfc_main$1r=Object.assign(__default__$W,{__name:"Contacts",setup(o){return(t,s)=>t.bot?(openBlock(),createElementBlock("div",_hoisted_1$1s,[(t.company.links||{map_link:null}).map_link?(openBlock(),createElementBlock("div",_hoisted_2$1r,[createBaseVNode("div",{innerHTML:t.company.links.map_link},null,8,_hoisted_3$1q)])):(openBlock(),createElementBlock("div",_hoisted_4$1n,_hoisted_6$1l)),createBaseVNode("h6",_hoisted_7$1j,toDisplayString(t.bot.company.address||"Адрес вашего заведения"),1),createBaseVNode("h6",_hoisted_8$1d,[createTextVNode("Контактная информация "),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("a",_hoisted_9$19,_hoisted_11$$)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_12$$,[createBaseVNode("li",_hoisted_13$W,[_hoisted_14$U,createBaseVNode("span",_hoisted_15$S,[createBaseVNode("a",{href:"tel:"+t.links.phone,target:"_blank"},toDisplayString(t.phone||"-"),9,_hoisted_16$T)])]),t.links.inst?(openBlock(),createElementBlock("li",_hoisted_17$O,[_hoisted_18$O,createBaseVNode("span",_hoisted_19$L,[createBaseVNode("a",{href:"https://instagram.com/"+t.links.inst,target:"_blank"},"@"+toDisplayString(t.links.inst||"-"),9,_hoisted_20$L)])])):createCommentVNode("",!0),t.links.vk?(openBlock(),createElementBlock("li",_hoisted_21$J,[_hoisted_22$J,createBaseVNode("span",_hoisted_23$F,[createBaseVNode("a",{href:"https://vk.com/"+t.links.vk,target:"_blank"},toDisplayString(t.links.vk||"-"),9,_hoisted_24$E)])])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_25$C,[_hoisted_26$A,createBaseVNode("span",_hoisted_27$y,[createBaseVNode("a",{href:"mailto:"+t.company.email,target:"_blank"},toDisplayString(t.company.email||"-"),9,_hoisted_28$x)])]),t.links.site?(openBlock(),createElementBlock("li",_hoisted_29$v,[_hoisted_30$u,createBaseVNode("span",_hoisted_31$u,[createBaseVNode("a",{href:t.links.site,target:"_blank"},toDisplayString(t.links.site||"-"),9,_hoisted_32$t)])])):createCommentVNode("",!0)]),createBaseVNode("h6",_hoisted_33$t,[createTextVNode("Прием заказов осуществляется "),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("a",_hoisted_34$t,_hoisted_36$t)):createCommentVNode("",!0)]),t.isCorrectSchedule?(openBlock(),createBlock(ScheduleList,{key:2,schedule:t.company.schedule},null,8,["schedule"])):(openBlock(),createElementBlock("div",_hoisted_37$t,_hoisted_39$q))])):createCommentVNode("",!0)}}),Contacts=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1r},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1r={class:"container"},_hoisted_2$1q={class:"row"},_hoisted_3$1p=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" Список заказов")]),createBaseVNode("div",{class:"alert alert-light mb-3 fw-bold",role:"alert"},[createBaseVNode("strong",{class:"text-primary"},"Внимание!"),createTextVNode(" При повторном заказе автоматически формируется корзина из доступных к заказу товаров из вашего списка. Товары в стоп-листе заведения добавлены не будут. ")])],-1),_hoisted_4$1m={class:"col-12"},_hoisted_5$1l={class:"nav nav-tabs justify-content-center"},_hoisted_6$1k={class:"nav-item"},_hoisted_7$1i={class:"nav-item"},_hoisted_8$1c={key:0,class:"col-12"},_hoisted_9$18={key:0,class:"list-group my-2"},_hoisted_10$12=["onClick"],_hoisted_11$_=createBaseVNode("i",{class:"fa-solid fa-stopwatch mr-2 text-primary"},null,-1),_hoisted_12$_=["onClick"],_hoisted_13$V=createBaseVNode("i",{class:"fa-solid fa-arrow-rotate-right mr-2"},null,-1),_hoisted_14$T={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_15$R=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Заказов еще нет:(")],-1),_hoisted_16$S=[_hoisted_15$R],_hoisted_17$N={key:1,class:"col-12"},_hoisted_18$N={key:0},_hoisted_19$K=createBaseVNode("hr",null,null,-1),_hoisted_20$K={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_21$I=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Отзывов о товарах еще нет:(")],-1),_hoisted_22$I=[_hoisted_21$I],__default__$V={props:["selected","active"],data(){return{tab:0,orders:null,orders_paginate_object:null,reviews:[],reviews_paginate_object:null}},computed:{...mapGetters(["getOrders","getOrdersPaginateObject","inCart","getReviews","getReviewsPaginateObject"]),tg(){return window.Telegram.WebApp}},mounted(){this.loadOrders(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{loadProductInOrders(o=0){return this.tab=1,this.$store.dispatch("loadReviews",{page:o||0,size:20}).then(()=>{this.reviews=this.getReviews,this.reviews_paginate_object=this.getReviewsPaginateObject})},repeatOrder(o){let t=o.product_details[0].products.map(s=>s.title);this.$store.dispatch("repeatOrder",{products:t}).then(s=>{this.$store.dispatch("clearCart");let i=s.data;if(i.length===0){o.disabled=!0,this.$notify({title:"Корзина",text:"Нет доступных к заказу товаров:("});return}i.forEach(a=>{this.inCart(a)===0?this.$store.dispatch("addProductToCart",a):this.$store.dispatch("incQuantity",a.id)}),this.$router.push({name:"ShopCartV2"})}).catch(()=>{this.$notify({title:"Корзина",text:"Ошибка формирования заказа",type:"error"})})},nextOrders(o){this.loadOrders(o)},nextReviews(o){this.loadProductInOrders(o)},select(o){return this.$emit("select",o)},loadOrders(o=0){return this.$store.dispatch("loadOrders",{page:o,size:20}).then(()=>{this.orders=this.getOrders,this.orders_paginate_object=this.getOrdersPaginateObject})}}},_sfc_main$1q=Object.assign(__default__$V,{__name:"MyOrders",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1r,[createBaseVNode("div",_hoisted_2$1q,[_hoisted_3$1p,createBaseVNode("div",_hoisted_4$1m,[createBaseVNode("ul",_hoisted_5$1l,[createBaseVNode("li",_hoisted_6$1k,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[0]||(s[0]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Заказы",2)]),createBaseVNode("li",_hoisted_7$1i,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[1]||(s[1]=i=>t.loadProductInOrders(0)),href:"javascript:void(0)"},"Товары",2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_8$1c,[(t.orders||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_9$18,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.orders,i=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",onClick:a=>t.select(i),style:{"font-weight":"bold"},class:"list-group-item d-flex justify-content-between p-3 align-items-start flex-column","aria-current":"true"},[createBaseVNode("p",null,[_hoisted_11$_,createTextVNode(" Время заказа "+toDisplayString(i.created_at),1)]),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.product_details[0].products,a=>(openBlock(),createElementBlock("li",null,toDisplayString(a.title),1))),256))]),i.review?(openBlock(),createBlock(_sfc_main$1A,{key:0,modelValue:i.review,"onUpdate:modelValue":a=>i.review=a},null,8,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),i.disabled?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:a=>t.repeatOrder(i),class:"btn btn-primary w-100 p-3"},[_hoisted_13$V,createTextVNode(" Повторить заказ ")],8,_hoisted_12$_))],8,_hoisted_10$12))),256))])):(openBlock(),createElementBlock("div",_hoisted_14$T,_hoisted_16$S)),t.orders_paginate_object?(openBlock(),createBlock(Pagination,{key:2,simple:!0,onPagination_page:t.nextOrders,pagination:t.orders_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_17$N,[(t.reviews||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_18$N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(i,a)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$1A,{modelValue:t.reviews[a],"onUpdate:modelValue":n=>t.reviews[a]=n,"need-product":!0},null,8,["modelValue","onUpdate:modelValue"]),_hoisted_19$K],64))),256)),t.reviews_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.reviews_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_20$K,_hoisted_22$I))])):createCommentVNode("",!0)])]))}}),MyOrders=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1q},Symbol.toStringTag,{value:"Module"})),_sfc_main$1p={data(){return{photos:null,load_self:!0,botUserForm:{id:null,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null}}},computed:{...mapGetters(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return this.getSelf},tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},watch:{getSelf:function(){this.botUserForm.id=this.getSelf.id,this.botUserForm.name=this.getSelf.name||this.getSelf.username||this.getSelf.id,this.botUserForm.phone=this.getSelf.phone,this.botUserForm.email=this.getSelf.email,this.botUserForm.birthday=this.getSelf.birthday||null,this.botUserForm.city=this.getSelf.city||null,this.botUserForm.country=this.getSelf.country||null,this.botUserForm.address=this.getSelf.address||null,this.botUserForm.sex=this.getSelf.sex||!1}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()}),this.$nextTick(()=>{this.loadUserPhotos(),this.getSelf&&(this.botUserForm.id=this.getSelf.id,this.botUserForm.name=this.getSelf.name||this.getSelf.username||this.getSelf.id,this.botUserForm.phone=this.getSelf.phone,this.botUserForm.email=this.getSelf.email,this.botUserForm.birthday=this.getSelf.birthday||null,this.botUserForm.city=this.getSelf.city||null,this.botUserForm.country=this.getSelf.country||null,this.botUserForm.address=this.getSelf.address||null,this.botUserForm.sex=this.getSelf.sex||!1)})},methods:{copyToClipboard(){navigator.clipboard.writeText(this.link),this.$notify({title:"Реферальная ссылка",text:"Ваша ссылка успешно скопирована в буфер!"})},submitProfile(){this.$store.dispatch("updateProfile",{botUserForm:this.botUserForm}).then(()=>{this.$notify({title:"Редактирование данных",text:"Данные успешно обновлены!",type:"success"}),window.location.reload()}).catch(()=>{this.$notify({title:"Редактирование данных",text:"Ошибка обновления данных",type:"error"})})},goToCashback(){this.$router.push({name:"CashBackV2"})},goToOrders(){this.$router.push({name:"OrdersV2"})},loadUserPhotos(){this.$store.dispatch("getUserProfilePhotos").then(o=>{console.log(o),this.photos=o.result.photos||null})},sendMyNumber(){this.tg.requestContact(o=>{this.$notify({title:"Профиль",text:o?"Ваш контакт успешно отправлен!":"Вы отменили отправку контакта",type:o?"success":"error"}),this.$store.dispatch("loadSelf").then(()=>{this.load_self=!1,this.$nextTick(()=>{this.load_self=!0})})})}}},_hoisted_1$1q={key:0,class:"container py-3"},_hoisted_2$1p={class:"d-flex justify-content-center align-items-center",style:{"min-height":"350px"}},_hoisted_3$1o={key:0,style:{width:"200px",height:"200px","border-radius":"50%",overflow:"hidden"}},_hoisted_4$1l={class:"w-100 object-fit-cover"},_hoisted_5$1k={key:1,style:{width:"200px",height:"200px"}},_hoisted_6$1j={class:"w-100 object-fit-cover"},_hoisted_7$1h=createBaseVNode("h6",{class:"opacity-75 mb-3 d-flex justify-content-between align-items-center"},[createTextVNode("Информация о профиле "),createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#edit-profile",class:"btn btn-link"},[createBaseVNode("i",{class:"fa-solid fa-pen-to-square mr-1"})])],-1),_hoisted_8$1b={class:"list-group"},_hoisted_9$17={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_10$11=createBaseVNode("span",null,"Имя",-1),_hoisted_11$Z={style:{"font-size":"12px"},class:"text-primary fw-bold"},_hoisted_12$Z={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_13$U=createBaseVNode("span",null,"ID",-1),_hoisted_14$S={class:"text-primary fw-bold"},_hoisted_15$Q={key:0,class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_16$R=createBaseVNode("span",null,"Телефон",-1),_hoisted_17$M={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_18$M=createBaseVNode("span",null,"Город",-1),_hoisted_19$J={class:"text-primary fw-bold"},_hoisted_20$J={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_21$H=createBaseVNode("span",null,"День рождения",-1),_hoisted_22$H={class:"text-primary fw-bold"},_hoisted_23$E={class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},_hoisted_24$D=createBaseVNode("span",null,"Приглашено друзей",-1),_hoisted_25$B={class:"text-primary fw-bold"},_hoisted_26$z=createBaseVNode("span",null,"Количество заказов",-1),_hoisted_27$x={class:"text-primary fw-bold"},_hoisted_28$w=createBaseVNode("span",null,"Получено CashBack",-1),_hoisted_29$u={class:"text-primary fw-bold"},_hoisted_30$t={key:0,class:"opacity-75 my-3"},_hoisted_31$t={key:1,class:"list-group"},_hoisted_32$s={class:"list-group-item d-flex justify-content-between","aria-current":"true"},_hoisted_33$s={class:"text-primary fw-bold"},_hoisted_34$s=createBaseVNode("h6",{class:"opacity-75 my-3"},"Ваш QR-код",-1),_hoisted_35$s={class:"img-thumbnail",alt:"..."},_hoisted_36$s=createBaseVNode("i",{class:"fa-solid fa-link mr-2"},null,-1),_hoisted_37$s={class:"modal fade",id:"edit-profile",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_38$p={class:"modal-dialog modal-fullscreen"},_hoisted_39$p=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактирование профиля"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_40$n={class:"modal-body"},_hoisted_41$n={class:"form-floating mb-2"},_hoisted_42$n=createBaseVNode("label",{for:""},"Ф.И.О пользователя",-1),_hoisted_43$n={class:"form-floating mb-2"},_hoisted_44$n=createBaseVNode("label",{for:""},"Телефон",-1),_hoisted_45$n={class:"form-floating mb-2"},_hoisted_46$n=createBaseVNode("label",{for:""},"Почта",-1),_hoisted_47$m={class:"form-floating mb-2"},_hoisted_48$l=createBaseVNode("label",{for:""},"Адрес",-1),_hoisted_49$l={class:"form-floating mb-2"},_hoisted_50$j=createBaseVNode("label",{for:""},"Дата рождения",-1),_hoisted_51$j={class:"form-floating mb-2"},_hoisted_52$j=createBaseVNode("label",{for:""},"Страна",-1),_hoisted_53$h={class:"form-floating mb-2"},_hoisted_54$h=createBaseVNode("label",{for:""},"Город",-1),_hoisted_55$g={class:"row mb-0"},_hoisted_56$g=createBaseVNode("p",{class:"col-12 my-2"},"Пол",-1),_hoisted_57$g={class:"col-6"},_hoisted_58$g=createBaseVNode("i",{class:"fa-solid fa-mars mr-1"},null,-1),_hoisted_59$f={class:"col-6"},_hoisted_60$c=createBaseVNode("i",{class:"fa-solid fa-venus mr-1"},null,-1),_hoisted_61$c=createBaseVNode("div",{class:"modal-footer p-2"},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100"},"Сохранить изменения")],-1);function _sfc_render$v(o,t,s,i,a,n){const r=resolveDirective("lazy"),l=resolveDirective("mask");return n.self?(openBlock(),createElementBlock("div",_hoisted_1$1q,[createBaseVNode("div",_hoisted_2$1p,[(a.photos||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_3$1o,[withDirectives(createBaseVNode("img",_hoisted_4$1l,null,512),[[r,"/file-by-file-id-and-bot-domain/"+a.photos[0][0].file_id+"/"+n.currentBot.bot_domain]])])):(openBlock(),createElementBlock("div",_hoisted_5$1k,[withDirectives(createBaseVNode("img",_hoisted_6$1j,null,512),[[r,"/images/shop-v2/profile.png"]])]))]),_hoisted_7$1h,createBaseVNode("ul",_hoisted_8$1b,[createBaseVNode("li",_hoisted_9$17,[_hoisted_10$11,createBaseVNode("span",_hoisted_11$Z,toDisplayString(n.self.fio_from_telegram||"не указано"),1)]),createBaseVNode("li",_hoisted_12$Z,[_hoisted_13$U,createBaseVNode("span",_hoisted_14$S,toDisplayString(n.self.telegram_chat_id||"-"),1)]),a.load_self?(openBlock(),createElementBlock("li",_hoisted_15$Q,[_hoisted_16$R,createBaseVNode("span",{onClick:t[0]||(t[0]=(...d)=>n.sendMyNumber&&n.sendMyNumber(...d)),class:"text-primary fw-bold cursor-pointer"},toDisplayString(n.self.phone||"отправить мой номер"),1)])):createCommentVNode("",!0),createBaseVNode("li",_hoisted_17$M,[_hoisted_18$M,createBaseVNode("span",_hoisted_19$J,toDisplayString(n.self.city||"не указан"),1)]),createBaseVNode("li",_hoisted_20$J,[_hoisted_21$H,createBaseVNode("span",_hoisted_22$H,toDisplayString(n.self.birthday||"-"),1)]),createBaseVNode("li",_hoisted_23$E,[_hoisted_24$D,createBaseVNode("span",_hoisted_25$B,toDisplayString(n.self.friends_count||0),1)]),createBaseVNode("li",{class:"list-group-item d-flex justify-content-between cursor-pointer",onClick:t[1]||(t[1]=(...d)=>n.goToOrders&&n.goToOrders(...d)),"aria-current":"true"},[_hoisted_26$z,createBaseVNode("span",_hoisted_27$x,toDisplayString(n.self.order_count||0),1)]),createBaseVNode("li",{onClick:t[2]||(t[2]=(...d)=>n.goToCashback&&n.goToCashback(...d)),class:"list-group-item d-flex justify-content-between cursor-pointer","aria-current":"true"},[_hoisted_28$w,createBaseVNode("span",_hoisted_29$u,toDisplayString(n.self.cashBack.amount||0)+" ₽",1)])]),n.self.cashBack?(openBlock(),createElementBlock(Fragment,{key:0},[(n.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("h6",_hoisted_30$t,"Специальные начисления")):createCommentVNode("",!0),(n.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_31$t,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.self.cashBack.subs,d=>(openBlock(),createElementBlock("li",_hoisted_32$s,[createBaseVNode("span",null,toDisplayString(d.title||"-"),1),createBaseVNode("span",_hoisted_33$s,toDisplayString(d.amount||0)+" ₽",1)]))),256))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),_hoisted_34$s,withDirectives(createBaseVNode("img",_hoisted_35$s,null,512),[[r,n.qr]]),createBaseVNode("button",{type:"button",onClick:t[3]||(t[3]=(...d)=>n.copyToClipboard&&n.copyToClipboard(...d)),class:"btn btn-outline-primary mt-2 w-100"},[_hoisted_36$s,createTextVNode("Ваша реферальная ссылка")]),createBaseVNode("div",_hoisted_37$s,[createBaseVNode("div",_hoisted_38$p,[o.getSelf?(openBlock(),createElementBlock("form",{key:0,class:"modal-content",onSubmit:t[13]||(t[13]=withModifiers((...d)=>n.submitProfile&&n.submitProfile(...d),["prevent"]))},[_hoisted_39$p,createBaseVNode("div",_hoisted_40$n,[createBaseVNode("div",_hoisted_41$n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=d=>a.botUserForm.name=d),placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,a.botUserForm.name]]),_hoisted_42$n]),createBaseVNode("div",_hoisted_43$n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=d=>a.botUserForm.phone=d),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,512),[[vModelText,a.botUserForm.phone],[l,"+7(###)###-##-##"]]),_hoisted_44$n]),createBaseVNode("div",_hoisted_45$n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=d=>a.botUserForm.email=d),placeholder:"example@gmail.com"},null,512),[[vModelText,a.botUserForm.email]]),_hoisted_46$n]),createBaseVNode("div",_hoisted_47$m,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=d=>a.botUserForm.address=d),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[vModelText,a.botUserForm.address]]),_hoisted_48$l]),createBaseVNode("div",_hoisted_49$l,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=d=>a.botUserForm.birthday=d),placeholder:"12/01/2023"},null,512),[[vModelText,a.botUserForm.birthday]]),_hoisted_50$j]),createBaseVNode("div",_hoisted_51$j,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=d=>a.botUserForm.country=d),placeholder:"Россия"},null,512),[[vModelText,a.botUserForm.country]]),_hoisted_52$j]),createBaseVNode("div",_hoisted_53$h,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=d=>a.botUserForm.city=d),placeholder:"Краснодар"},null,512),[[vModelText,a.botUserForm.city]]),_hoisted_54$h]),createBaseVNode("div",_hoisted_55$g,[_hoisted_56$g,createBaseVNode("div",_hoisted_57$g,[createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=d=>a.botUserForm.sex=!0),class:normalizeClass([{"btn-info text-white":a.botUserForm.sex,"btn-outline-secondary":!a.botUserForm.sex},"w-100 btn"])},[_hoisted_58$g,createTextVNode(" Муж ")],2)]),createBaseVNode("div",_hoisted_59$f,[createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=d=>a.botUserForm.sex=!1),class:normalizeClass([{"btn-info text-white":!a.botUserForm.sex,"btn-outline-secondary":a.botUserForm.sex},"w-100 btn"])},[_hoisted_60$c,createTextVNode(" Жен ")],2)])])]),_hoisted_61$c],32)):createCommentVNode("",!0)])])])):createCommentVNode("",!0)}const ProfileV2=_export_sfc(_sfc_main$1p,[["render",_sfc_render$v]]),Profile=Object.freeze(Object.defineProperty({__proto__:null,default:ProfileV2},Symbol.toStringTag,{value:"Module"})),_sfc_main$1o={data(){return{product:null}},computed:{...mapGetters(["inCart","cartTotalCount"]),currentBot(){return window.currentBot},discount(){return Math.round(100-this.product.current_price/this.product.old_price*100)},currentPrice(){return this.product.current_price},checkInCart(){return this.inCart(this.product.id)}},mounted(){this.loadProduct()},methods:{incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Успешно добавлено в корзину!")},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Товар удален!")},loadProduct(){let o=this.$route.params.productId;this.$store.dispatch("loadProduct",{dataObject:{productId:o}}).then(t=>{this.product=t.data,this.$store.dispatch("addToWatch",this.product)})}}},_hoisted_1$1p={key:0,class:"card text-bg-dark rounded-0"},_hoisted_2$1o={class:"card-img rounded-0",alt:"..."},_hoisted_3$1n={class:"card-img-overlay"},_hoisted_4$1k={class:"card-title"},_hoisted_5$1j={class:"card-text"},_hoisted_6$1i=createBaseVNode("sup",{class:"font-400 opacity-50"},".00",-1),_hoisted_7$1g={key:1,class:"card"},_hoisted_8$1a={class:"card-body"},_hoisted_9$16={key:2,class:"card"},_hoisted_10$10=createBaseVNode("div",{class:"content"},[createBaseVNode("h3",null,"Другие изображения товара"),createBaseVNode("p",null," A gallery showcasing our product in a better view for you to see. ")],-1),_hoisted_11$Y={key:0,class:"content"},_hoisted_12$Y={class:"row text-center row-cols-3 mb-0"},_hoisted_13$T=["href","title"],_hoisted_14$R=["data-src"],_hoisted_15$P={key:3,class:"navbar navbar-expand-sm bg-dark navbar-dark fixed-bottom p-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_16$Q=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_17$L={key:1,class:"btn-group w-100"},_hoisted_18$L=["disabled"],_hoisted_19$I={type:"button",class:"btn btn-md bg-transparent"},_hoisted_20$I=["disabled"];function _sfc_render$u(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[a.product?(openBlock(),createElementBlock("div",_hoisted_1$1p,[withDirectives(createBaseVNode("img",_hoisted_2$1o,null,512),[[r,a.product.images[0]]]),createBaseVNode("div",_hoisted_3$1n,[createBaseVNode("h5",_hoisted_4$1k,toDisplayString(a.product.title||"Не указан"),1),createBaseVNode("p",_hoisted_5$1j,[createTextVNode("Цена "+toDisplayString(a.product.current_price||0),1),_hoisted_6$1i])])])):createCommentVNode("",!0),a.product?(openBlock(),createElementBlock("div",_hoisted_7$1g,[createBaseVNode("div",_hoisted_8$1a,[createBaseVNode("p",null,toDisplayString(a.product.description||"-"),1)])])):createCommentVNode("",!0),a.product?(openBlock(),createElementBlock("div",_hoisted_9$16,[_hoisted_10$10,a.product.images?(openBlock(),createElementBlock("div",_hoisted_11$Y,[createBaseVNode("div",_hoisted_12$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.product.images,(l,d)=>(openBlock(),createElementBlock("a",{class:"col mb-2","data-lightbox":"gallery-1",href:l,title:a.product.title},[withDirectives(createBaseVNode("img",{"data-src":l,class:"preload-img img-fluid rounded-xs",alt:"img"},null,8,_hoisted_14$R),[[r,l]])],8,_hoisted_13$T))),256))])])):createCommentVNode("",!0)])):createCommentVNode("",!0),a.product?(openBlock(),createElementBlock("nav",_hoisted_15$P,[o.inCart(a.product.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:t[0]||(t[0]=(...l)=>n.incProductCart&&n.incProductCart(...l)),class:"btn btn-md btn-primary w-100 rounded-0 p-3"},[createTextVNode(toDisplayString(a.product.current_price||0),1),_hoisted_16$Q,createTextVNode("₽")])):createCommentVNode("",!0),o.inCart(a.product.id)>0?(openBlock(),createElementBlock("div",_hoisted_17$L,[createBaseVNode("button",{type:"button",disabled:a.product.in_stop_list_at,onClick:t[1]||(t[1]=(...l)=>n.decProductCart&&n.decProductCart(...l)),class:"btn btn-md btn-primary p-3 rounded-0"},"-",8,_hoisted_18$L),createBaseVNode("button",_hoisted_19$I,toDisplayString(n.checkInCart),1),createBaseVNode("button",{type:"button",disabled:a.product.in_stop_list_at,onClick:t[2]||(t[2]=(...l)=>n.incProductCart&&n.incProductCart(...l)),class:"btn btn-md btn-primary rounded-0"},"+",8,_hoisted_20$I)])):createCommentVNode("",!0)])):createCommentVNode("",!0)],64)}const ProductV2=_export_sfc(_sfc_main$1o,[["render",_sfc_render$u]]),Product=Object.freeze(Object.defineProperty({__proto__:null,default:ProductV2},Symbol.toStringTag,{value:"Module"})),CollectionCardSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$1o={class:"card border-0"},_hoisted_2$1n={class:"card-body p-1"},_hoisted_3$1m={class:"d-flex"},_hoisted_4$1j={class:"rounded-2",width:"110",style:{"object-fit":"cover",height:"100%"},alt:""},_hoisted_5$1i={class:"w-100 px-2 d-flex flex-column justify-content-between"},_hoisted_6$1h={class:"pb-0 mb-0 fw-bold",style:{"font-size":"14px"}},_hoisted_7$1f={class:"fw-bold"},_hoisted_8$19={class:"py-2 mb-0 d-flex justify-content-between",style:{"font-size":"12px"}},_hoisted_9$15={class:"d-flex w-100"},_hoisted_10$$=createBaseVNode("sup",{class:"font-10 opacity-50"},".00",-1),_hoisted_11$X={key:1,class:"btn-group w-100"},_hoisted_12$X=["disabled"],_hoisted_13$S={type:"button",class:"btn btn-sm"},_hoisted_14$Q=["disabled"],__default__$U={props:["item"],data(){return{showCart:!1}},computed:{...mapGetters(["inCart"]),checkInCart(){return this.inCart(this.item.id)},currentPrice(){return this.item.current_price/100},oldPrice(){return 0},bot(){return window.currentBot}},methods:{addToCart(){this.$cart.add(this.item)},incProductCart(){this.checkInCart===0?this.$store.dispatch("addCollectionToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeCollectionFromCart",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})}}},_sfc_main$1n=Object.assign(__default__$U,{__name:"CollectionCardSimple",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$1o,[createBaseVNode("div",_hoisted_2$1n,[createBaseVNode("div",_hoisted_3$1m,[createBaseVNode("div",{class:"mr-auto",onClick:s[0]||(s[0]=(...a)=>t.addToCart&&t.addToCart(...a)),style:{"max-height":"100px"}},[withDirectives(createBaseVNode("img",_hoisted_4$1j,null,512),[[i,"/images-by-company-id/"+t.bot.company.id+"/"+o.item.image]])]),createBaseVNode("div",_hoisted_5$1i,[createBaseVNode("h6",_hoisted_6$1h,[createTextVNode(toDisplayString(o.item.title||"не указано")+" ",1),createBaseVNode("small",_hoisted_7$1f," ("+toDisplayString((o.item.products||[]).length)+" ед.)",1)]),createBaseVNode("h6",_hoisted_8$19,[createBaseVNode("span",null,toDisplayString(o.item.current_price||0)+"₽",1),createBaseVNode("span",null,"="+toDisplayString(o.item.current_price*t.inCart(o.item.id))+"₽",1)]),createBaseVNode("div",_hoisted_9$15,[t.inCart(o.item.id)===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[1]||(s[1]=(...a)=>t.incProductCart&&t.incProductCart(...a)),class:"btn btn-sm btn-primary w-100 rounded-3"},[createTextVNode(toDisplayString(o.item.current_price||0),1),_hoisted_10$$,createTextVNode("₽ ")])):createCommentVNode("",!0),t.inCart(o.item.id)>0?(openBlock(),createElementBlock("div",_hoisted_11$X,[createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[2]||(s[2]=(...a)=>t.decProductCart&&t.decProductCart(...a)),class:"btn btn-sm btn-primary"},"- ",8,_hoisted_12$X),createBaseVNode("button",_hoisted_13$S,toDisplayString(t.checkInCart),1),createBaseVNode("button",{type:"button",disabled:o.item.in_stop_list_at,onClick:s[3]||(s[3]=(...a)=>t.incProductCart&&t.incProductCart(...a)),class:"btn btn-sm btn-primary"},"+ ",8,_hoisted_14$Q)])):createCommentVNode("",!0)])])])])])}}}),PromoCodeForm_vue_vue_type_style_index_0_lang="",_sfc_main$1m={name:"App",data(){return{spent_time_counter:0,is_requested:!1,discount:0,discount_in_percent:!1,activate_price:0,promocodeForm:{code:null}}},watch:{"promocodeForm.code":{handler:function(o){this.discount=0},deep:!0}},mounted(){[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(t=>new bootstrap.Popover(t)),localStorage.getItem("cashman_promocode_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_promocode_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_promocode_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.is_requested=!0,this.$store.dispatch("activateShopDiscountPromocode",{promocodeForm:this.promocodeForm}).then(o=>{this.is_requested=!1,this.discount=o.discount||0,this.discount_in_percent=o.discount_in_percent||!1,this.activate_price=o.activate_price||0,this.$notify({title:"Промокод",text:"Промокод успешно активирован!",type:"success"}),this.$emit("callback",{code:this.promocodeForm.code||null,discount:this.discount||0,discount_in_percent:this.discount_in_percent||!1,activate_price:this.activate_price||0})}).catch(()=>{this.is_requested=!1,this.discount=0,this.activate_price=0,this.$emit("callback",{code:this.promocodeForm.code||null,discount:0,discount_in_percent:!1,activate_price:0}),this.$notify({title:"Промокод",text:"Ошибка активации промокода!",type:"error"})})}}},_hoisted_1$1n={class:"opacity-75 mb-2 mt-2 d-flex justify-content-between","data-bs-container":"body","data-bs-toggle":"popover","data-bs-placement":"top","data-bs-content":"Введи промокод и нажми на кнопку рядом чтоб узнать % скидки!"},_hoisted_2$1m=createBaseVNode("span",null,[createTextVNode("Промокод на скидку "),createBaseVNode("i",{class:"fa-regular fa-circle-question"})],-1),_hoisted_3$1l={key:0},_hoisted_4$1i={key:1,class:"spinner-border spinner-border-sm text-primary",role:"status"},_hoisted_5$1h=createBaseVNode("span",{class:"visually-hidden"},"Loading...",-1),_hoisted_6$1g=[_hoisted_5$1h],_hoisted_7$1e=createBaseVNode("div",{class:"alert-light alert mb-2"},[createBaseVNode("span",{class:"text-primary fw-bold"},"Внимание!"),createTextVNode(" После активации промокода его нельзя использовать повторно! ")],-1),_hoisted_8$18={class:"input-group mb-3"},_hoisted_9$14={class:"form-floating"},_hoisted_10$_=["disabled"],_hoisted_11$W=createBaseVNode("label",{for:"floatingInput"},"Ваш промокод ",-1),_hoisted_12$W=["disabled"],_hoisted_13$R=createBaseVNode("i",{class:"fa-solid fa-tags"},null,-1),_hoisted_14$P={key:1,style:{"min-width":"110px","font-size":"12px"},class:"input-group-text bg-transparent border-light fw-bold text-primary text-center",id:"basic-addon1"},_hoisted_15$O={key:0},_hoisted_16$P={key:1};function _sfc_render$t(o,t,s,i,a,n){return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h6",_hoisted_1$1n,[_hoisted_2$1m,a.spent_time_counter>0?(openBlock(),createElementBlock("span",_hoisted_3$1l,toDisplayString(a.spent_time_counter)+" сек.",1)):createCommentVNode("",!0),a.is_requested?(openBlock(),createElementBlock("div",_hoisted_4$1i,_hoisted_6$1g)):createCommentVNode("",!0)]),_hoisted_7$1e,createBaseVNode("div",_hoisted_8$18,[createBaseVNode("div",_hoisted_9$14,[withDirectives(createBaseVNode("input",{type:"text",disabled:a.spent_time_counter>0,onChange:t[0]||(t[0]=(...r)=>n.submit&&n.submit(...r)),"onUpdate:modelValue":t[1]||(t[1]=r=>a.promocodeForm.code=r),class:"form-control border-light",id:"floatingInput",placeholder:"name@example.com"},null,40,_hoisted_10$_),[[vModelText,a.promocodeForm.code]]),_hoisted_11$W]),a.discount===0?(openBlock(),createElementBlock("button",{key:0,onClick:t[2]||(t[2]=(...r)=>n.submit&&n.submit(...r)),disabled:a.spent_time_counter>0,class:"btn btn-outline-light text-primary",style:{"min-width":"110px","font-size":"12px"}},[_hoisted_13$R,createTextVNode(" Активировать ")],8,_hoisted_12$W)):createCommentVNode("",!0),a.discount>0?(openBlock(),createElementBlock("span",_hoisted_14$P,[createTextVNode(" -"+toDisplayString(a.discount)+" ",1),a.discount_in_percent?(openBlock(),createElementBlock("span",_hoisted_15$O,"%")):createCommentVNode("",!0),a.discount_in_percent?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_16$P,"руб"))])):createCommentVNode("",!0)])],64)}const PromoCodeForm=_export_sfc(_sfc_main$1m,[["render",_sfc_render$t]]),ShopCart_vue_vue_type_style_index_0_lang="",_hoisted_1$1m={key:0},_hoisted_2$1l={key:0,class:"container py-3"},_hoisted_3$1k=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"col-12"},[createBaseVNode("h4",null,"Итого"),createBaseVNode("p",null," Ниже приведена итоговая цена заказа без учета стоимости доставки. Цена доставки рассчитывается отдельно и зависит от расстояния. ")])],-1),_hoisted_4$1h={class:"row"},_hoisted_5$1g={class:"col-12"},_hoisted_6$1f=createBaseVNode("h6",{class:"opacity-75 mb-3 mt-2"},"Число персон",-1),_hoisted_7$1d={class:"card mb-3"},_hoisted_8$17={class:"card-body"},_hoisted_9$13={class:"row text-center"},_hoisted_10$Z={class:"col-4"},_hoisted_11$V=createBaseVNode("i",{class:"fa-solid fa-minus font-22"},null,-1),_hoisted_12$V=[_hoisted_11$V],_hoisted_13$Q={class:"col-4 d-flex justify-content-center align-items-center"},_hoisted_14$O={class:"fw-bold",style:{"font-size":"16px"}},_hoisted_15$N={class:"col-4"},_hoisted_16$O=createBaseVNode("i",{class:"fa-solid fa-plus font-22"},null,-1),_hoisted_17$K=[_hoisted_16$O],_hoisted_18$K={class:"card mb-3"},_hoisted_19$H={class:"card-body"},_hoisted_20$H={class:"fw-bold"},_hoisted_21$G={class:"fw-bold"},_hoisted_22$G={key:0,class:"text-success fw-bold"},_hoisted_23$D={class:"fw-bold"},_hoisted_24$C={class:"fst-italic"},_hoisted_25$A=createBaseVNode("span",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_26$y={class:"fw-bold text-primary"},_hoisted_27$w={key:0},_hoisted_28$v={class:"fw-bold"},_hoisted_29$t=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),_hoisted_30$s=createBaseVNode("span",{class:"color-white"},"Очистить корзину",-1),_hoisted_31$s=[_hoisted_29$t,_hoisted_30$s],_hoisted_32$r=createBaseVNode("h6",{class:"opacity-75"},"Способы получения заказа",-1),_hoisted_33$r={class:"list-group my-3"},_hoisted_34$r=createBaseVNode("i",{class:"fa-solid fa-truck mr-2"},null,-1),_hoisted_35$r=createBaseVNode("i",{class:"fa-brands fa-shopify mr-2"},null,-1),_hoisted_36$r={key:0,href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between"},_hoisted_37$r=createBaseVNode("label",{class:"form-check-label",for:"in-restaurant"},[createBaseVNode("i",{class:"fa-solid fa-utensils mr-2"}),createTextVNode(" В заведении ")],-1),_hoisted_38$o={key:1,href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between"},_hoisted_39$o=createBaseVNode("label",{class:"form-check-label",for:"pick-up-in-package"},[createBaseVNode("i",{class:"fa-solid fa-person-walking-luggage mr-2"}),createTextVNode(" Забрать с собой ")],-1),_hoisted_40$m=createBaseVNode("h6",{class:"opacity-75"},"Способы оплаты",-1),_hoisted_41$m={class:"list-group my-3"},_hoisted_42$m=createBaseVNode("i",{class:"fa-solid fa-earth-americas mr-2"},null,-1),_hoisted_43$m=createBaseVNode("i",{class:"fa-regular fa-credit-card mr-2"},null,-1),_hoisted_44$m=createBaseVNode("i",{class:"fa-solid fa-file-invoice mr-2"},null,-1),_hoisted_45$m=createBaseVNode("i",{class:"fa-regular fa-money-bill-1 mr-2"},null,-1),_hoisted_46$m=createBaseVNode("h6",{class:"opacity-75"},[createTextVNode("Бонусы "),createBaseVNode("small",null,"(нажми для использования)")],-1),_hoisted_47$l={class:"card-body"},_hoisted_48$k={class:"d-flex justify-content-between mb-0"},_hoisted_49$k=createBaseVNode("span",null," Списать CashBack",-1),_hoisted_50$i=createBaseVNode("h6",{class:"opacity-75 mb-3"},"Информация",-1),_hoisted_51$i={class:"form-floating mb-3"},_hoisted_52$i=createBaseVNode("label",{for:"deliveryForm-name"},[createTextVNode("Ф.И.О. "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_53$g={class:"form-floating mb-3"},_hoisted_54$g=createBaseVNode("label",{for:"deliveryForm-phone"},[createTextVNode("Номер телефона "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_55$f={key:0,class:"form-floating mb-3"},_hoisted_56$f=createBaseVNode("label",{for:"deliveryForm-city"},[createTextVNode("Ваш город "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_57$f={key:1,class:"form-floating mb-3"},_hoisted_58$f=createBaseVNode("label",{for:"deliveryForm-street"},[createTextVNode("Улица "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_59$e={key:2,class:"form-floating mb-3"},_hoisted_60$b=createBaseVNode("label",{for:"deliveryForm-building"},[createTextVNode("Номер дома "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_61$b={key:3,class:"form-floating mb-3"},_hoisted_62$a=createBaseVNode("label",{for:"deliveryForm-flat-number"},"Номер квартиры ",-1),_hoisted_63$a={key:4,class:"form-floating mb-3"},_hoisted_64$a=createBaseVNode("label",{for:"deliveryForm-entrance-number"},"Номер подъезда",-1),_hoisted_65$a={key:5,class:"form-floating mb-3"},_hoisted_66$a=createBaseVNode("label",{for:"deliveryForm-floor-number"},"Номер этажа",-1),_hoisted_67$a={class:"form-floating"},_hoisted_68$a={key:0,for:"deliveryForm-info"},_hoisted_69$a={key:1,for:"deliveryForm-info"},_hoisted_70$a=createBaseVNode("h6",{class:"opacity-75 mt-3"},"К какому времени приготовить?",-1),_hoisted_71$a={class:"list-group my-3"},_hoisted_72$9=createBaseVNode("i",{class:"fa-solid fa-stopwatch-20 mr-2"},null,-1),_hoisted_73$9=createBaseVNode("i",{class:"fa-regular fa-clock mr-2"},null,-1),_hoisted_74$9={key:6,class:"form-floating"},_hoisted_75$9=createBaseVNode("label",{for:"deliveryForm-time"},"Время доставки",-1),_hoisted_76$9={key:7,class:"opacity-75 mt-3"},_hoisted_77$9={key:8,class:"list-group my-3"},_hoisted_78$8=createBaseVNode("i",{class:"fa-regular fa-heart mr-2"},null,-1),_hoisted_79$7=createBaseVNode("i",{class:"fa-solid fa-house-medical-flag mr-2"},null,-1),_hoisted_80$7={key:9,class:"list-group my-3"},_hoisted_81$7={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_82$7=createBaseVNode("label",{for:"switch-1"},[createBaseVNode("i",{class:"fa-solid fa-head-side-mask mr-2"}),createTextVNode(" Болею")],-1),_hoisted_83$7={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_84$5=createBaseVNode("label",{for:"switch-5"},[createBaseVNode("i",{class:"fa-solid fa-ear-deaf mr-2"}),createTextVNode(" Плохо слышит \\ говорит")],-1),_hoisted_85$5={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_86$5=createBaseVNode("label",{for:"switch-3"},[createBaseVNode("i",{class:"fa-solid fa-glasses mr-2"}),createTextVNode(" Слабовидящий")],-1),_hoisted_87$5={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_88$5=createBaseVNode("label",{for:"switch-4"},[createBaseVNode("i",{class:"fa-solid fa-wheelchair mr-2"}),createTextVNode(" Ограничения мобильности")],-1),_hoisted_89$5={href:"javascript:void(0)",class:"list-group-item list-group-item-action p-3 d-flex justify-content-between","aria-current":"true"},_hoisted_90$5=createBaseVNode("label",{for:"switch-5"},[createBaseVNode("i",{class:"fa-solid fa-person-dots-from-line mr-2"}),createTextVNode(" Пищевая аллергия")],-1),_hoisted_91$5={key:10,class:"form-floating mb-2"},_hoisted_92$4=createBaseVNode("label",{for:"floatingInput"},[createTextVNode("Укажите на что аллергия "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_93$4=createBaseVNode("h6",{class:"opacity-75 mt-3"},"Сводка",-1),_hoisted_94$4={class:"card my-3"},_hoisted_95$3={class:"card-body p-2"},_hoisted_96$3={class:"list-group list-group-flush"},_hoisted_97$3={class:"list-group-item"},_hoisted_98$3={class:"mb-0 d-flex justify-content-between"},_hoisted_99$3={class:"list-group-item"},_hoisted_100$3={class:"mb-0 d-flex justify-content-between"},_hoisted_101$3=createBaseVNode("sup",null,".00",-1),_hoisted_102$3={class:"list-group-item"},_hoisted_103$3={class:"mb-0 d-flex justify-content-between"},_hoisted_104$3={key:0},_hoisted_105$3={key:1},_hoisted_106$3={key:0,class:"list-group-item"},_hoisted_107$3=createBaseVNode("p",{class:"mb-2 text-justify"},[createBaseVNode("strong",{class:"fw-bold"},"Внимание!"),createTextVNode(" Не распространяется на цену доставки!")],-1),_hoisted_108$3={class:"mb-0 d-flex justify-content-between"},_hoisted_109$3={key:1,class:"list-group-item"},_hoisted_110$3={class:"mb-0 d-flex justify-content-between"},_hoisted_111$3={key:0},_hoisted_112$3=createBaseVNode("sup",null,".00",-1),_hoisted_113$3={key:1},_hoisted_114$3={class:"list-group-item"},_hoisted_115$3={class:"mb-0 d-flex justify-content-between"},_hoisted_116$3={key:0},_hoisted_117$3=createBaseVNode("p",{class:"my-3 text-center"},"Мы можем подготовить для вас сдачу с:",-1),_hoisted_118$3={class:"row row-cols-2 mb-0"},_hoisted_119$3={class:"col"},_hoisted_120$2=["onClick"],_hoisted_121$2=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,"или введите другую сумму...")],-1),_hoisted_122$2={class:"form-floating"},_hoisted_123$2=createBaseVNode("label",{for:"deliveryForm-money"},"С какой суммы нужна сдача",-1),_hoisted_124$2=["innerHTML"],_hoisted_125$2={key:12},_hoisted_126$2=["disabled"],_hoisted_127$2=createBaseVNode("i",{class:"fa-solid fa-map-location-dot mr-2"},null,-1),_hoisted_128$2=["disabled"],_hoisted_129$2={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_130$2={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_131$2={key:2,class:"color-white"},_hoisted_132$1={key:3,class:"color-white"},_hoisted_133$1=["disabled"],_hoisted_134$1=createBaseVNode("i",{class:"fa-solid fa-receipt mr-2"},null,-1),_hoisted_135$1=createBaseVNode("h5",{class:"my-3 text-left"},[createBaseVNode("i",{class:"fa-regular fa-image mr-2"}),createTextVNode("Фотография чека")],-1),_hoisted_136$1=["innerHTML"],_hoisted_137$1=createBaseVNode("h6",{class:"opacity-75 mt-3"},"Сводка",-1),_hoisted_138$1={class:"card my-3"},_hoisted_139$1={class:"card-body p-2"},_hoisted_140$1={class:"list-group list-group-flush"},_hoisted_141$1={class:"list-group-item"},_hoisted_142$1={class:"mb-0 d-flex justify-content-between"},_hoisted_143$1={class:"list-group-item"},_hoisted_144$1={class:"mb-0 d-flex justify-content-between"},_hoisted_145$1={class:"list-group-item"},_hoisted_146$1={class:"mb-0 d-flex justify-content-between"},_hoisted_147$1={key:0},_hoisted_148$1={key:1},_hoisted_149$1={key:0,class:"list-group-item"},_hoisted_150$1=createBaseVNode("p",{class:"mb-2 text-justify"},[createBaseVNode("strong",{class:"fw-bold"},"Внимание!"),createTextVNode(" Не распространяется на цену доставки! ")],-1),_hoisted_151$1={class:"mb-0 d-flex justify-content-between"},_hoisted_152$1={key:1,class:"list-group-item"},_hoisted_153$1={class:"mb-0 d-flex justify-content-between"},_hoisted_154$1={key:0},_hoisted_155$1={key:1},_hoisted_156$1={class:"list-group-item"},_hoisted_157$1={class:"mb-0 d-flex justify-content-between"},_hoisted_158$1={key:0},_hoisted_159$1=createBaseVNode("p",{class:"my-3 text-center"},"Мы можем подготовить для вас сдачу с:",-1),_hoisted_160$1={class:"row row-cols-2 mb-0"},_hoisted_161$1={class:"col"},_hoisted_162$1=["onClick"],_hoisted_163$1=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,"или введите другую сумму...")],-1),_hoisted_164$1={class:"form-floating"},_hoisted_165$1=createBaseVNode("label",{for:"deliveryForm-money"},"С какой суммы нужна сдача",-1),_hoisted_166$1={class:"d-flex justify-content-center flex-wrap w-100"},_hoisted_167$1={key:0,for:"menu-photos",class:"photo-loader-bill d-flex flex-column justify-content-center align-items-center mb-2"},_hoisted_168$1=createBaseVNode("i",{class:"fa-regular fa-image my-2 text-primary",style:{"font-size":"20px"}},null,-1),_hoisted_169$1=createBaseVNode("span",{class:"text-primary fw-bold text-center"},"Выбрать фотографию чека в формате: jpg, png, bmp",-1),_hoisted_170$1={key:1,class:"mb-2 img-preview-bill"},_hoisted_171$1={class:"remove"},_hoisted_172$1=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2 text-primary"},null,-1),_hoisted_173$1={class:"form-floating mb-2"},_hoisted_174$1=createBaseVNode("label",{for:"deliveryForm-image_info"},[createTextVNode("Текст к оплате "),createBaseVNode("small",null,"(не обязательно)")],-1),_hoisted_175$1=["disabled"],_hoisted_176$1={key:0,class:"fa-solid fa-file-invoice mr-2"},_hoisted_177$1={key:1,class:"fa-solid fa-hourglass mr-2"},_hoisted_178$1={key:2,class:"color-white"},_hoisted_179$1={key:3,class:"color-white"},_hoisted_180$1={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_181$1=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Корзина пустая:(")],-1),_hoisted_182$1=[_hoisted_181$1],_hoisted_183$1={key:2,class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_184$1={key:0,class:"w-100"},_hoisted_185$1={key:1,class:"w-100"},_hoisted_186$1={key:3,class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_187$1=createBaseVNode("p",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-secondary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-between"}," В данный момент покупки недоступны ",-1),_hoisted_188$1=[_hoisted_187$1],__default__$T={props:["type"],data(){return{tab:0,settings:{can_use_cash:!0,can_use_card:!0,delivery_price_text:null,min_price:0,min_price_for_cashback:0,menu_list_type:0,payment_info:0,need_category_by_page:!1,need_pay_after_call:!1,can_buy_after_closing:!1,free_shipping_starts_from:0},spent_time_counter:0,is_requested:!1,isCollapsed:!0,search:null,products:[],paginate:null,categories:[],sending:!1,min_price:null,max_price:null,need_request_delivery_price:!0,moneyVariants:[500,1e3,2e3,5e3],deliveryForm:{name:null,phone:null,address:null,promo:{discount:0,activate_price:0,code:null},city:null,street:null,building:null,flat_number:null,entrance_number:null,floor_number:null,info:null,need_pickup:!1,pick_up_type:1,has_disability:!1,use_cashback:!1,disabilities:[],money:null,cash:!0,payment_type:2,persons:1,time:null,when_ready:!0,image:null,image_info:null,delivery_price:0,distance:0,allergy:null}}},watch:{tab:{handler:function(o){window.scroll(0,80)},deep:!0},"deliveryForm.need_pickup":{handler:function(o){this.deliveryForm.need_pickup&&(this.deliveryForm.delivery_price=0,this.deliveryForm.distance=0)},deep:!0},cartTotalPrice:{handler:function(o){this.settings.free_shipping_starts_from<=this.cartTotalPrice&&(this.deliveryForm.delivery_price=0)},deep:!0},"deliveryForm.cash":{handler:function(o){this.deliveryForm.cash||(this.deliveryForm.money=null)},deep:!0},"deliveryForm.has_disability":{handler:function(o){this.deliveryForm.disabilities=[],this.deliveryForm.allergy=null},deep:!0}},computed:{...mapGetters(["getProducts","cartProducts","getProductsPaginateObject","cartProducts","cartTotalCount","cartTotalPrice","getSelf"]),canBy(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work||this.settings.can_buy_after_closing:!0},bot(){return window.currentBot},canRequestDeliverPrice(){return this.need_request_delivery_price&&this.deliveryForm.city!=null&&this.deliveryForm.street!=null&&this.deliveryForm.building!=null},finallyPrice(){return this.deliveryForm.use_cashback?Math.max(1,this.cartTotalPrice-this.cashbackLimit-(this.cartTotalPrice>=this.deliveryForm.promo.activate_price?this.deliveryForm.promo.discount:0))+this.deliveryForm.delivery_price:Math.max(1,this.cartTotalPrice-(this.cartTotalPrice>=this.deliveryForm.promo.activate_price?this.deliveryForm.promo.discount:0))+this.deliveryForm.delivery_price},canSubmitForm(){return(this.spent_time_counter||0)==0&&(this.deliveryForm.use_cashback?this.cartTotalPrice-this.cashbackLimit>this.settings.min_price:this.cartTotalPrice>=this.settings.min_price)&&(this.tab==3?this.deliveryForm.image!=null:!0)},canUseCashBack(){return this.getSelf.cashBack&&this.settings.min_price_for_cashback<this.cartTotalPrice},getCurrentBot(){return window.currentBot},cashbackLimit(){let o=this.getSelf.cashBack?this.getSelf.cashBack.amount:0,t=this.cartTotalPrice||0,s=this.getCurrentBot.max_cashback_use_percent||0,i=t*(s/100);return Math.min(i,o)},filteredProducts(){return this.search?this.products.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products},tg(){return window.Telegram.WebApp},activeCategories(){let o=[];return this.filteredProducts.forEach(t=>{o.push(t.categories.map(s=>s.id))}),[...new Set(o.map(t=>t[0])),...new Set(o.map(t=>t[1]))]}},mounted(){this.tg.BackButton.show(),console.log("cart"),this.tg.BackButton.onClick(()=>{console.log("cart BackButton"),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()}),localStorage.getItem("cashman_self_product_delivery_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_self_product_delivery_counter"))),localStorage.getItem("cashman_self_product_type_display")!=null&&(this.product_type_display=parseInt(localStorage.getItem("cashman_self_product_type_display")||0)),this.deliveryForm.name=localStorage.getItem("cashman_self_product_delivery_form_name")!=null?localStorage.getItem("cashman_self_product_delivery_form_name"):null,this.deliveryForm.phone=localStorage.getItem("cashman_self_product_delivery_form_phone")!=null?localStorage.getItem("cashman_self_product_delivery_form_phone"):null,this.deliveryForm.address=localStorage.getItem("cashman_self_product_delivery_form_address")!=null?localStorage.getItem("cashman_self_product_delivery_form_address"):null,this.deliveryForm.city=localStorage.getItem("cashman_self_product_delivery_form_city")!=null?localStorage.getItem("cashman_self_product_delivery_form_city"):null,this.deliveryForm.street=localStorage.getItem("cashman_self_product_delivery_form_street")!=null?localStorage.getItem("cashman_self_product_delivery_form_street"):null,this.deliveryForm.building=localStorage.getItem("cashman_self_product_delivery_form_building")!=null?localStorage.getItem("cashman_self_product_delivery_form_building"):null,this.deliveryForm.flat_number=localStorage.getItem("cashman_self_product_delivery_form_flat_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_flat_number"):null,this.deliveryForm.entrance_number=localStorage.getItem("cashman_self_product_delivery_form_entrance_number")!=null?localStorage.getItem("cashman_self_product_delivery_form_entrance_number"):null,this.deliveryForm.disabilities=localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")!=null?JSON.parse(localStorage.getItem("cashman_self_product_delivery_form_entrance_disabilities")):[],this.deliveryForm.disabilities.length>0&&(this.deliveryForm.has_disability=!0),this.loadProducts(),this.loadShopModuleData(),this.cartProducts.length>0&&this.loadActualProducts(),window.addEventListener("scroll-to-basket",o=>{this.tab=2,document.querySelector("#basket").scrollIntoView({behavior:"smooth"})})},methods:{requestDeliveryPrice(){this.need_request_delivery_price=!1,this.$notify({title:"Корзина",text:"Мы начали процесс расчета цены доставки"}),this.$store.dispatch("requestDeliveryPrice",{city:this.deliveryForm.city,street:this.deliveryForm.street,building:this.deliveryForm.building}).then(o=>{this.deliveryForm.delivery_price=o.price||0,this.deliveryForm.distance=o.distance||0,this.need_request_delivery_price=!0,this.$notify({title:"Корзина",text:"Цена доставки успешно просчитана",type:"success"})}).catch(()=>{this.deliveryForm.delivery_price=0,this.deliveryForm.distance=0,this.need_request_delivery_price=!0,this.$notify({title:"Корзина",text:"Ошибка расчёта цены доставки",type:"error"})})},onChangePhotos(o){const t=o.target.files[0];this.deliveryForm.image=t},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(){this.deliveryForm.image=null},goToCatalog(){this.$router.push({name:"CatalogV2"})},decPersons(){this.deliveryForm.persons=this.deliveryForm.persons>1?this.deliveryForm.persons-1:this.deliveryForm.persons},incPersons(){this.deliveryForm.persons=this.deliveryForm.persons<100?this.deliveryForm.persons+1:this.deliveryForm.persons},selectProductTypeDisplay(o){this.product_type_display=o,localStorage.setItem("cashman_self_product_type_display",this.product_type_display)},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_self_product_delivery_counter",this.spent_time_counter)},1e3)},clearCart(){this.tab=1,this.$store.dispatch("clearCart").then(()=>{this.$notify({title:"Корзина",text:"Корзина успешно очищена",type:"success"})})},resetCategories(){this.categories=[],this.loadProducts(0)},selectCategory(o){if(this.settings.need_category_by_page)this.categories=[o];else{let t=this.categories.findIndex(s=>s.id===o.id);t!==-1?this.categories.splice(t,1):this.categories.push(o)}this.settings.need_category_by_page&&(this.tab=1),this.loadProducts(0)},nextProducts(o){this.loadProducts(o)},loadShopModuleData(){return this.$store.dispatch("loadShopModuleData").then(o=>{this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})})},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search,categories:this.categories.length>0?this.categories.map(t=>t.id):null,min_price:this.min_price||null,max_price:this.max_price||null},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})},activateDiscount(o){o.discount_in_percent?this.deliveryForm.promo.discount=this.cartTotalPrice*o.discount/100:this.deliveryForm.promo.discount=o.discount||0,this.deliveryForm.promo.activate_price=o.activate_price||0,this.deliveryForm.promo.code=o.code||null},startCheckout(){if(localStorage.setItem("cashman_self_product_delivery_form_name",this.deliveryForm.name||""),localStorage.setItem("cashman_self_product_delivery_form_phone",this.deliveryForm.phone||""),localStorage.setItem("cashman_self_product_delivery_form_address",this.deliveryForm.address||""),localStorage.setItem("cashman_self_product_delivery_form_city",this.deliveryForm.city||""),localStorage.setItem("cashman_self_product_delivery_form_street",this.deliveryForm.street||""),localStorage.setItem("cashman_self_product_delivery_form_building",this.deliveryForm.building||""),localStorage.setItem("cashman_self_product_delivery_form_flat_number",this.deliveryForm.flat_number||""),localStorage.setItem("cashman_self_product_delivery_form_entrance_number",this.deliveryForm.entrance_number||""),(this.deliveryForm.disabilities||[]).length>0?localStorage.setItem("cashman_self_product_delivery_form_entrance_disabilities",JSON.stringify(this.deliveryForm.disabilities||[])):localStorage.removeItem("cashman_self_product_delivery_form_entrance_disabilities"),this.is_requested){this.$notify({title:"Упс!",text:"Сделать повторный заказ можно через ${this.spent_time_counter} сек.",type:"error"});return}let o=new FormData;if(o.append("need_payment_link",this.deliveryForm.payment_type===0),Object.keys(this.deliveryForm).forEach(t=>{const s=this.deliveryForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.type&&o.append("type",this.type),this.deliveryForm.payment_type===0&&this.settings.can_use_card){this.$store.dispatch("createCheckoutLink",{deliveryForm:o}).then(t=>{this.tg.openInvoice(t.result)});return}typeof this.deliveryForm.image!="string"&&(o.append("photo",this.deliveryForm.image),o.delete("image")),this.sending=!0,this.$store.dispatch("startCheckout",{deliveryForm:o}).then(t=>{this.deliveryForm={message:null,name:null,phone:null},this.$notify({title:"Доставка",text:"Дальнейшая инструкция отправлена вам в бот!",type:"success"}),this.tab=1,this.$store.dispatch("clearCart"),this.tg.close(),this.sending=!1}).catch(t=>{this.sending=!1,this.$notify({title:"Доставка",text:"Ошибка! Обратитесь к администратору",type:"error"})}),this.startTimer(),this.is_requested=!0},loadActualProducts(){this.$store.dispatch("loadActualPriceInCart")},removeCategory(o){this.categories.splice(o,1)},addToCart(o){this.$cart.add(o.product)}}},_sfc_main$1l=Object.assign(__default__$T,{__name:"ShopCart",setup(o){return(t,s)=>{const i=resolveDirective("mask"),a=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.cartProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_1$1m,[t.tab===0?(openBlock(),createElementBlock("div",_hoisted_2$1l,[_hoisted_3$1k,createBaseVNode("div",_hoisted_4$1h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cartProducts,(n,r)=>(openBlock(),createElementBlock("div",_hoisted_5$1g,[(n.type||"product")==="product"?(openBlock(),createBlock(_sfc_main$1B,{key:0,item:n.product},null,8,["item"])):createCommentVNode("",!0),(n.type||"product")==="collection"?(openBlock(),createBlock(_sfc_main$1n,{key:1,item:n.product},null,8,["item"])):createCommentVNode("",!0)]))),256))]),createVNode(PromoCodeForm,{onCallback:t.activateDiscount},null,8,["onCallback"]),_hoisted_6$1f,createBaseVNode("div",_hoisted_7$1d,[createBaseVNode("div",_hoisted_8$17,[createBaseVNode("div",_hoisted_9$13,[createBaseVNode("div",_hoisted_10$Z,[createBaseVNode("button",{onClick:s[0]||(s[0]=(...n)=>t.decPersons&&t.decPersons(...n)),type:"button",class:"btn p-2 w-100 btn-light text-dark"},_hoisted_12$V)]),createBaseVNode("div",_hoisted_13$Q,[createBaseVNode("strong",_hoisted_14$O,toDisplayString(t.deliveryForm.persons),1)]),createBaseVNode("div",_hoisted_15$N,[createBaseVNode("button",{type:"button",onClick:s[1]||(s[1]=(...n)=>t.incPersons&&t.incPersons(...n)),class:"btn p-2 w-100 btn-light text-dark"},_hoisted_17$K)])])])]),createBaseVNode("div",_hoisted_18$K,[createBaseVNode("div",_hoisted_19$H,[createBaseVNode("h6",null,[createTextVNode("Товаров в корзине "),createBaseVNode("strong",_hoisted_20$H,toDisplayString(t.cartTotalCount)+" ед.",1)]),createBaseVNode("h6",null,[createTextVNode("Общая цена товаров "),createBaseVNode("strong",_hoisted_21$G,toDisplayString(t.cartTotalPrice-t.deliveryForm.promo.discount)+"₽",1),(t.deliveryForm.promo.discount||0)>0?(openBlock(),createElementBlock("strong",_hoisted_22$G," (-"+toDisplayString(t.deliveryForm.promo.discount)+"₽)",1)):createCommentVNode("",!0)]),createBaseVNode("h6",null,[createTextVNode("Приборы на "),createBaseVNode("strong",_hoisted_23$D,toDisplayString(t.deliveryForm.persons)+" чел.",1)]),createBaseVNode("p",_hoisted_24$C,[_hoisted_25$A,createTextVNode(" Скидка за промокод доступна только если сумма заказа больше чем "),createBaseVNode("span",_hoisted_26$y,toDisplayString(t.deliveryForm.promo.activate_price)+"₽",1)]),t.deliveryForm.promo.discount>0?(openBlock(),createElementBlock("h6",_hoisted_27$w,[createTextVNode("Скидка за промокод "),createBaseVNode("strong",_hoisted_28$v,toDisplayString(t.deliveryForm.promo.discount)+" ₽",1)])):createCommentVNode("",!0)])]),t.cartTotalCount>0?(openBlock(),createElementBlock("button",{key:0,onClick:s[2]||(s[2]=(...n)=>t.clearCart&&t.clearCart(...n)),class:"btn btn-outline-primary p-3 w-100"},_hoisted_31$s)):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("form",{key:1,id:"basket",class:"container py-3",onSubmit:s[35]||(s[35]=withModifiers((...n)=>t.startCheckout&&t.startCheckout(...n),["prevent"]))},[_hoisted_32$r,createBaseVNode("div",_hoisted_33$r,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:!t.deliveryForm.need_pickup},"list-group-item list-group-item-action p-3"]),onClick:s[3]||(s[3]=n=>t.deliveryForm.need_pickup=!1),"aria-current":"true"},[_hoisted_34$r,createTextVNode("Доставка ")],2),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[4]||(s[4]=n=>t.deliveryForm.need_pickup=!0),class:normalizeClass([{active:t.deliveryForm.need_pickup},"list-group-item list-group-item-action p-3"])},[_hoisted_35$r,createTextVNode("Самовывоз")],2),t.deliveryForm.need_pickup?(openBlock(),createElementBlock("a",_hoisted_36$r,[_hoisted_37$r,withDirectives(createBaseVNode("input",{class:"form-check-input",name:"pickup-format","onUpdate:modelValue":s[5]||(s[5]=n=>t.deliveryForm.pick_up_type=n),type:"radio",value:"0",id:"in-restaurant"},null,512),[[vModelRadio,t.deliveryForm.pick_up_type]])])):createCommentVNode("",!0),t.deliveryForm.need_pickup?(openBlock(),createElementBlock("a",_hoisted_38$o,[_hoisted_39$o,withDirectives(createBaseVNode("input",{class:"form-check-input",type:"radio",value:"1","onUpdate:modelValue":s[6]||(s[6]=n=>t.deliveryForm.pick_up_type=n),name:"pickup-format",id:"pick-up-in-package"},null,512),[[vModelRadio,t.deliveryForm.pick_up_type]])])):createCommentVNode("",!0)]),_hoisted_40$m,createBaseVNode("div",_hoisted_41$m,[t.settings.can_use_card?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",onClick:s[7]||(s[7]=n=>t.deliveryForm.payment_type=0),class:normalizeClass([{active:t.deliveryForm.payment_type===0},"list-group-item list-group-item-action p-3"]),"aria-current":"true"},[_hoisted_42$m,createTextVNode(" Онлайн через бота ")],2)):createCommentVNode("",!0),t.deliveryForm.pick_up_type==0&&t.settings.can_use_cash?(openBlock(),createElementBlock("a",{key:1,href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===1},"list-group-item list-group-item-action p-3"]),onClick:s[8]||(s[8]=n=>t.deliveryForm.payment_type=1)},[_hoisted_43$m,createTextVNode("Картой в заведении")],2)):createCommentVNode("",!0),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===2},"list-group-item list-group-item-action p-3"]),onClick:s[9]||(s[9]=n=>t.deliveryForm.payment_type=2)},[_hoisted_44$m,createTextVNode("Переводом")],2),t.settings.can_use_cash?(openBlock(),createElementBlock("a",{key:2,href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.payment_type===3},"list-group-item list-group-item-action p-3"]),onClick:s[10]||(s[10]=n=>t.deliveryForm.payment_type=3)},[_hoisted_45$m,createTextVNode(" Наличными")],2)):createCommentVNode("",!0)]),_hoisted_46$m,createBaseVNode("div",{class:normalizeClass(["card my-3",{"text-bg-primary":t.deliveryForm.use_cashback}]),onClick:s[11]||(s[11]=n=>t.deliveryForm.use_cashback=!t.deliveryForm.use_cashback)},[createBaseVNode("div",_hoisted_47$l,[createBaseVNode("p",_hoisted_48$k,[_hoisted_49$k,createBaseVNode("strong",null,toDisplayString(t.cashbackLimit)+"₽",1)])])],2),_hoisted_50$i,createBaseVNode("div",_hoisted_51$i,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=n=>t.deliveryForm.name=n),class:"form-control",id:"deliveryForm-name",placeholder:"Иванов Иван Иванович",required:""},null,512),[[vModelText,t.deliveryForm.name]]),_hoisted_52$i]),createBaseVNode("div",_hoisted_53$g,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[13]||(s[13]=n=>t.deliveryForm.phone=n),class:"form-control",id:"deliveryForm-phone",placeholder:"+7(000)000-00-00",required:""},null,512),[[i,"+7(###)###-##-##"],[vModelText,t.deliveryForm.phone]]),_hoisted_54$g]),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_55$f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[14]||(s[14]=n=>t.deliveryForm.city=n),class:"form-control",id:"deliveryForm-city",placeholder:"Ваш город",required:""},null,512),[[vModelText,t.deliveryForm.city]]),_hoisted_56$f])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_57$f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[15]||(s[15]=n=>t.deliveryForm.street=n),class:"form-control",id:"deliveryForm-street",placeholder:"Улица",required:""},null,512),[[vModelText,t.deliveryForm.street]]),_hoisted_58$f])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_59$e,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[16]||(s[16]=n=>t.deliveryForm.building=n),class:"form-control",id:"deliveryForm-building",placeholder:"Номер дома",required:""},null,512),[[vModelText,t.deliveryForm.building]]),_hoisted_60$b])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_61$b,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[17]||(s[17]=n=>t.deliveryForm.flat_number=n),class:"form-control",id:"deliveryForm-flat-number",placeholder:"Номер квартиры"},null,512),[[vModelText,t.deliveryForm.flat_number]]),_hoisted_62$a])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_63$a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[18]||(s[18]=n=>t.deliveryForm.entrance_number=n),class:"form-control",id:"deliveryForm-entrance-number",placeholder:"Номер подъезда"},null,512),[[vModelText,t.deliveryForm.entrance_number]]),_hoisted_64$a])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_65$a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[19]||(s[19]=n=>t.deliveryForm.floor_number=n),class:"form-control",id:"deliveryForm-floor-number",placeholder:"Номер этажа"},null,512),[[vModelText,t.deliveryForm.floor_number]]),_hoisted_66$a])),createBaseVNode("div",_hoisted_67$a,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[20]||(s[20]=n=>t.deliveryForm.info=n),style:{height:"200px","line-height":"150%"},placeholder:"Информация",id:"deliveryForm-info"},null,512),[[vModelText,t.deliveryForm.info]]),t.deliveryForm.need_pickup?(openBlock(),createElementBlock("label",_hoisted_69$a,"Информация для сотрудника")):(openBlock(),createElementBlock("label",_hoisted_68$a,"Информация для доставщика"))]),_hoisted_70$a,createBaseVNode("div",_hoisted_71$a,[createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.when_ready},"list-group-item list-group-item-action p-3"]),onClick:s[21]||(s[21]=n=>t.deliveryForm.when_ready=!0),"aria-current":"true"},[_hoisted_72$9,createTextVNode("По готовности ")],2),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[22]||(s[22]=n=>t.deliveryForm.when_ready=!1),class:normalizeClass([{active:!t.deliveryForm.when_ready},"list-group-item list-group-item-action p-3"])},[_hoisted_73$9,createTextVNode("К указанному времени")],2)]),t.deliveryForm.when_ready?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_74$9,[withDirectives(createBaseVNode("input",{type:"datetime-local","onUpdate:modelValue":s[23]||(s[23]=n=>t.deliveryForm.time=n),class:"form-control",id:"deliveryForm-time",placeholder:"Время доставки",required:""},null,512),[[vModelText,t.deliveryForm.time]]),_hoisted_75$9])),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("h6",_hoisted_76$9,"Ограничения по здоровью")),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_77$9,[createBaseVNode("a",{href:"javascript:void(0)",onClick:s[24]||(s[24]=n=>t.deliveryForm.has_disability=!1),class:normalizeClass([{active:!t.deliveryForm.has_disability},"list-group-item list-group-item-action p-3"])},[_hoisted_78$8,createTextVNode("Нет ограничений по здоровью")],2),createBaseVNode("a",{href:"javascript:void(0)",class:normalizeClass([{active:t.deliveryForm.has_disability},"list-group-item list-group-item-action p-3"]),onClick:s[25]||(s[25]=n=>t.deliveryForm.has_disability=!0),"aria-current":"true"},[_hoisted_79$7,createTextVNode("Есть ограничения по здоровью ")],2)])),t.deliveryForm.has_disability&&!t.deliveryForm.need_pickup?(openBlock(),createElementBlock("div",_hoisted_80$7,[createBaseVNode("a",_hoisted_81$7,[_hoisted_82$7,withDirectives(createBaseVNode("input",{type:"checkbox",value:"болею",class:"form-check-input","onUpdate:modelValue":s[26]||(s[26]=n=>t.deliveryForm.disabilities=n),id:"switch-1"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_83$7,[_hoisted_84$5,withDirectives(createBaseVNode("input",{type:"checkbox",value:"плохо слышит или говорит",class:"form-check-input","onUpdate:modelValue":s[27]||(s[27]=n=>t.deliveryForm.disabilities=n),id:"switch-5"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_85$5,[_hoisted_86$5,withDirectives(createBaseVNode("input",{type:"checkbox",value:"слабовидящий",class:"form-check-input","onUpdate:modelValue":s[28]||(s[28]=n=>t.deliveryForm.disabilities=n),id:"switch-3"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_87$5,[_hoisted_88$5,withDirectives(createBaseVNode("input",{type:"checkbox",class:"form-check-input",value:"ограничения мобильности","onUpdate:modelValue":s[29]||(s[29]=n=>t.deliveryForm.disabilities=n),id:"switch-4"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]])]),createBaseVNode("a",_hoisted_89$5,[_hoisted_90$5,withDirectives(createBaseVNode("input",{type:"checkbox",class:"form-check-input",value:"пищевая аллергия","onUpdate:modelValue":s[30]||(s[30]=n=>t.deliveryForm.disabilities=n),id:"switch-5"},null,512),[[vModelCheckbox,t.deliveryForm.disabilities]])])])):createCommentVNode("",!0),t.deliveryForm.disabilities.indexOf("пищевая аллергия")!==-1?(openBlock(),createElementBlock("div",_hoisted_91$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":s[31]||(s[31]=n=>t.deliveryForm.allergy=n),id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.deliveryForm.allergy]]),_hoisted_92$4])):createCommentVNode("",!0),_hoisted_93$4,createBaseVNode("div",_hoisted_94$4,[createBaseVNode("div",_hoisted_95$3,[createBaseVNode("ul",_hoisted_96$3,[createBaseVNode("li",_hoisted_97$3,[createBaseVNode("p",_hoisted_98$3,[createTextVNode("Суммарно, ед. "),createBaseVNode("strong",null,toDisplayString(t.cartTotalCount)+" шт.",1)])]),createBaseVNode("li",_hoisted_99$3,[createBaseVNode("p",_hoisted_100$3,[createTextVNode("Цена "),createBaseVNode("strong",null,[createTextVNode(toDisplayString(t.cartTotalPrice)+" ",1),_hoisted_101$3,createTextVNode("₽")])])]),createBaseVNode("li",_hoisted_102$3,[createBaseVNode("p",_hoisted_103$3,[createTextVNode("Оплата бонусами "),t.deliveryForm.use_cashback?(openBlock(),createElementBlock("strong",_hoisted_104$3,toDisplayString(t.cashbackLimit)+" ₽",1)):(openBlock(),createElementBlock("strong",_hoisted_105$3,"-"))])]),t.deliveryForm.promo.discount>0?(openBlock(),createElementBlock("li",_hoisted_106$3,[_hoisted_107$3,createBaseVNode("p",_hoisted_108$3,[createTextVNode("Промокод "),createBaseVNode("strong",null,toDisplayString(t.deliveryForm.promo.discount)+" ₽",1)])])):createCommentVNode("",!0),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_109$3,[createBaseVNode("p",_hoisted_110$3,[createTextVNode("Цена доставки "),t.deliveryForm.delivery_price>0?(openBlock(),createElementBlock("strong",_hoisted_111$3,[createTextVNode(toDisplayString(t.deliveryForm.delivery_price)+" ",1),_hoisted_112$3,createTextVNode("₽")])):(openBlock(),createElementBlock("strong",_hoisted_113$3,"от курьера"))])])),createBaseVNode("li",_hoisted_114$3,[createBaseVNode("p",_hoisted_115$3,[createTextVNode("Итого, цена "),createBaseVNode("strong",null,toDisplayString(t.finallyPrice)+" ₽",1)])])]),t.deliveryForm.payment_type===3&&t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_116$3,[_hoisted_117$3,createBaseVNode("div",_hoisted_118$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moneyVariants,n=>(openBlock(),createElementBlock("div",_hoisted_119$3,[createBaseVNode("button",{class:normalizeClass(["btn btn-outline-primary w-100 mb-2 rounded-5",{"btn-primary text-white":t.deliveryForm.money===n}]),type:"button",onClick:r=>t.deliveryForm.money=n},toDisplayString(n)+"₽ ",11,_hoisted_120$2)]))),256))]),_hoisted_121$2,createBaseVNode("div",_hoisted_122$2,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":s[32]||(s[32]=n=>t.deliveryForm.money=n),class:"form-control",id:"deliveryForm-money",placeholder:"С какой суммы нужна сдача"},null,512),[[vModelText,t.deliveryForm.money]]),_hoisted_123$2])])):createCommentVNode("",!0)])]),t.settings.delivery_price_text?(openBlock(),createElementBlock("p",{key:11,innerHTML:t.settings.delivery_price_text},null,8,_hoisted_124$2)):createCommentVNode("",!0),t.settings.min_price?(openBlock(),createElementBlock("p",_hoisted_125$2,"Минимальная цена заказа "+toDisplayString(t.settings.min_price||0)+" руб",1)):createCommentVNode("",!0),t.cartTotalPrice<=t.settings.free_shipping_starts_from?(openBlock(),createElementBlock("button",{key:13,onClick:s[33]||(s[33]=(...n)=>t.requestDeliveryPrice&&t.requestDeliveryPrice(...n)),class:"btn btn-outline-light text-primary p-3 w-100 mb-2",disabled:!t.canRequestDeliverPrice},[_hoisted_127$2,createTextVNode(" Узнать цену доставки ")],8,_hoisted_126$2)):createCommentVNode("",!0),(t.deliveryForm.payment_type!==2||t.settings.need_pay_after_call)&&t.tab===1?(openBlock(),createElementBlock("button",{key:14,type:"submit",disabled:t.spent_time_counter>0||(t.deliveryForm.use_cashback?t.settings.min_price>t.cartTotalPrice-t.cashbackLimit:t.settings.min_price>t.cartTotalPrice),class:"btn btn-primary p-3 w-100 mb-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("i",_hoisted_129$2)):(openBlock(),createElementBlock("i",_hoisted_130$2)),t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_131$2,"Оформить")):(openBlock(),createElementBlock("span",_hoisted_132$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_128$2)):createCommentVNode("",!0),t.deliveryForm.payment_type===2&&!t.settings.need_pay_after_call&&t.tab===1?(openBlock(),createElementBlock("button",{key:15,type:"button",onClick:s[34]||(s[34]=n=>t.tab=3),disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100"},[_hoisted_134$1,createTextVNode(" Оплатить переводом ")],8,_hoisted_133$1)):createCommentVNode("",!0)],32)):createCommentVNode("",!0),t.tab===3?(openBlock(),createElementBlock("form",{key:2,class:"container py-3",onSubmit:s[40]||(s[40]=withModifiers((...n)=>t.startCheckout&&t.startCheckout(...n),["prevent"]))},[_hoisted_135$1,t.settings.payment_info?(openBlock(),createElementBlock("div",{key:0,class:"alert alert-light mb-2 fw-bold",role:"alert",innerHTML:t.settings.payment_info},null,8,_hoisted_136$1)):createCommentVNode("",!0),_hoisted_137$1,createBaseVNode("div",_hoisted_138$1,[createBaseVNode("div",_hoisted_139$1,[createBaseVNode("ul",_hoisted_140$1,[createBaseVNode("li",_hoisted_141$1,[createBaseVNode("p",_hoisted_142$1,[createTextVNode("Суммарно, ед. "),createBaseVNode("strong",null,toDisplayString(t.cartTotalCount)+" шт.",1)])]),createBaseVNode("li",_hoisted_143$1,[createBaseVNode("p",_hoisted_144$1,[createTextVNode("Цена "),createBaseVNode("strong",null,toDisplayString(t.cartTotalPrice)+" ₽",1)])]),createBaseVNode("li",_hoisted_145$1,[createBaseVNode("p",_hoisted_146$1,[createTextVNode("Оплата бонусами "),t.deliveryForm.use_cashback?(openBlock(),createElementBlock("strong",_hoisted_147$1,toDisplayString(t.cashbackLimit)+" ₽",1)):(openBlock(),createElementBlock("strong",_hoisted_148$1,"-"))])]),t.deliveryForm.promo.discount>0?(openBlock(),createElementBlock("li",_hoisted_149$1,[_hoisted_150$1,createBaseVNode("p",_hoisted_151$1,[createTextVNode("Промокод "),createBaseVNode("strong",null,toDisplayString(t.deliveryForm.promo.discount)+" ₽",1)])])):createCommentVNode("",!0),t.deliveryForm.need_pickup?createCommentVNode("",!0):(openBlock(),createElementBlock("li",_hoisted_152$1,[createBaseVNode("p",_hoisted_153$1,[createTextVNode("Цена доставки "),t.deliveryForm.delivery_price>0?(openBlock(),createElementBlock("strong",_hoisted_154$1,toDisplayString(t.deliveryForm.delivery_price)+"₽",1)):(openBlock(),createElementBlock("strong",_hoisted_155$1,"от курьера"))])])),createBaseVNode("li",_hoisted_156$1,[createBaseVNode("p",_hoisted_157$1,[createTextVNode("Итого, цена "),createBaseVNode("strong",null,toDisplayString(t.finallyPrice)+" ₽",1)])])]),t.deliveryForm.payment_type===3&&t.settings.can_use_cash?(openBlock(),createElementBlock("div",_hoisted_158$1,[_hoisted_159$1,createBaseVNode("div",_hoisted_160$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.moneyVariants,n=>(openBlock(),createElementBlock("div",_hoisted_161$1,[createBaseVNode("button",{class:normalizeClass(["btn btn-outline-primary w-100 mb-2 rounded-5",{"btn-primary text-white":t.deliveryForm.money===n}]),type:"button",onClick:r=>t.deliveryForm.money=n},toDisplayString(n)+"₽ ",11,_hoisted_162$1)]))),256))]),_hoisted_163$1,createBaseVNode("div",_hoisted_164$1,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":s[36]||(s[36]=n=>t.deliveryForm.money=n),class:"form-control",id:"deliveryForm-money",placeholder:"С какой суммы нужна сдача"},null,512),[[vModelText,t.deliveryForm.money]]),_hoisted_165$1])])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_166$1,[t.deliveryForm.image==null?(openBlock(),createElementBlock("label",_hoisted_167$1,[_hoisted_168$1,_hoisted_169$1,createBaseVNode("input",{type:"file",id:"menu-photos",accept:"image/*",onChange:s[37]||(s[37]=(...n)=>t.onChangePhotos&&t.onChangePhotos(...n)),style:{display:"none"}},null,32)])):createCommentVNode("",!0),t.deliveryForm.image!=null?(openBlock(),createElementBlock("div",_hoisted_170$1,[withDirectives(createBaseVNode("img",null,null,512),[[a,t.getPhoto(t.deliveryForm.image).imageUrl]]),createBaseVNode("div",_hoisted_171$1,[createBaseVNode("a",{onClick:s[38]||(s[38]=n=>t.removePhoto())},[_hoisted_172$1,createTextVNode("Удалить")])])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_173$1,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[39]||(s[39]=n=>t.deliveryForm.image_info=n),style:{height:"100px","line-height":"150%"},placeholder:"Информация",id:"deliveryForm-image_info"},null,512),[[vModelText,t.deliveryForm.image_info]]),_hoisted_174$1]),createBaseVNode("button",{type:"submit",disabled:!t.canSubmitForm,class:"btn btn-primary p-3 w-100"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("i",_hoisted_176$1)):(openBlock(),createElementBlock("i",_hoisted_177$1)),t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_178$1,"Оформить")):(openBlock(),createElementBlock("span",_hoisted_179$1,"Осталось ждать "+toDisplayString(t.spent_time_counter)+" сек.",1))],8,_hoisted_175$1)],32)):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_180$1,_hoisted_182$1)),t.canBy?(openBlock(),createElementBlock("nav",_hoisted_183$1,[t.cartProducts.length>0?(openBlock(),createElementBlock("div",_hoisted_184$1,[t.tab===0?(openBlock(),createElementBlock("button",{key:0,type:"button",onClick:s[41]||(s[41]=n=>t.tab=1),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"},"Оформление заказа ")):createCommentVNode("",!0),t.tab>=1?(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:s[42]||(s[42]=n=>t.tab=0),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"},"Корзина с товаром ")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_185$1,[createBaseVNode("button",{type:"button",onClick:s[43]||(s[43]=(...n)=>t.goToCatalog&&t.goToCatalog(...n)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"},"Вернуться в магазин ")]))])):(openBlock(),createElementBlock("nav",_hoisted_186$1,_hoisted_188$1))],64)}}}),ShopCart=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1l},Symbol.toStringTag,{value:"Module"})),Payment_vue_vue_type_style_index_0_lang="",_sfc_main$1k={name:"App",data(){return{search:null,providers:[]}},computed:{...mapGetters(["getProviders"]),filteredProviders(){return this.search?this.providers.filter(o=>o.bankName.indexOf(this.search)!==-1):this.providers}},mounted(){this.$store.dispatch("loadProviders").then(o=>{this.providers=this.getProviders})},methods:{}},_hoisted_1$1l={class:"slide-up-widget"},_hoisted_2$1k=createBaseVNode("div",{class:"slide-up-widget__header"},[createBaseVNode("img",{src:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="239" height="120" fill="none">%0A  <path%0A    d="M211.439 33.692V63.03h-10.476V42.45h-10.087v20.58H180.4V33.69h31.039z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M158.885 64.079c9.378 0 16.342-5.75 16.342-14.467 0-8.437-5.138-13.915-13.725-13.915-3.963 0-7.233 1.395-9.696 3.802.588-4.975 4.795-8.607 9.427-8.607 1.069 0 9.117-.017 9.117-.017l4.551-8.709s-10.104.23-14.801.23c-10.732.187-17.981 9.942-17.981 21.79 0 13.803 7.07 19.893 16.766 19.893zm.057-20.668c3.482 0 5.896 2.288 5.896 6.2 0 3.521-2.145 6.422-5.896 6.43-3.588 0-6.002-2.688-6.002-6.37 0-3.913 2.414-6.26 6.002-6.26z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M133.592 53.208s-2.474 1.426-6.169 1.696c-4.248.126-8.033-2.557-8.033-7.324 0-4.65 3.34-7.315 7.926-7.315 2.812 0 6.532 1.949 6.532 1.949s2.722-4.995 4.132-7.493c-2.582-1.957-6.021-3.03-10.021-3.03-10.095 0-17.914 6.582-17.914 15.83 0 9.366 7.349 15.795 17.914 15.601 2.953-.11 7.027-1.147 9.51-2.742l-3.877-7.172z"%0A    fill="%23000"%0A  />%0A  <path d="M0 26.12l14.532 25.975v15.844L.017 93.863 0 26.12z" fill="%235B57A2" />%0A  <path%0A    d="M55.797 42.643l13.617-8.346 27.868-.026-41.485 25.414V42.643z"%0A    fill="%23D90751"%0A  />%0A  <path%0A    d="M55.72 25.967l.077 34.39-14.566-8.95V0l14.49 25.967z"%0A    fill="%23FAB718"%0A  />%0A  <path%0A    d="M97.282 34.271l-27.869.026-13.693-8.33L41.231 0l56.05 34.271z"%0A    fill="%23ED6F26"%0A  />%0A  <path%0A    d="M55.797 94.007V77.322l-14.566-8.78.008 51.458 14.558-25.993z"%0A    fill="%2363B22F"%0A  />%0A  <path%0A    d="M69.38 85.737L14.531 52.095 0 26.12l97.223 59.583-27.844.034z"%0A    fill="%231487C9"%0A  />%0A  <path%0A    d="M41.24 120l14.556-25.993 13.583-8.27 27.843-.034L41.24 120z"%0A    fill="%23017F36"%0A  />%0A  <path%0A    d="M.017 93.863l41.333-25.32-13.896-8.526-12.922 7.922L.017 93.863z"%0A    fill="%23984995"%0A  />%0A  <path%0A    d="M119.393 82.775c-.32.408-.741.716-1.246.924a4.282 4.282 0 01-1.632.316 4.63 4.63 0 01-1.633-.274 3.623 3.623 0 01-1.262-.782 3.539 3.539 0 01-.824-1.224 4.173 4.173 0 01-.295-1.589c0-.54.093-1.04.286-1.514.185-.475.454-.882.791-1.224.337-.349.741-.615 1.195-.823.463-.2.968-.308 1.523-.308.598 0 1.153.075 1.658.224.505.15.934.4 1.287.75l-.614 1.04a2.886 2.886 0 00-1.027-.6 3.612 3.612 0 00-1.119-.174c-.336 0-.656.066-.967.191a2.591 2.591 0 00-.825.533 2.438 2.438 0 00-.564.832c-.143.324-.21.682-.21 1.081 0 .408.075.774.218 1.09.144.325.337.6.581.832.244.234.53.408.858.525.329.125.674.183 1.044.183.454 0 .867-.092 1.22-.267a3.05 3.05 0 00.926-.69l.631.948zM121.126 83.84v-7.405h1.33v5.517l4.325-5.517h1.33v7.406h-1.33v-5.517l-4.325 5.517h-1.33zM136.921 82.775a3.01 3.01 0 01-1.245.924 4.291 4.291 0 01-1.633.316 4.628 4.628 0 01-1.632-.274 3.627 3.627 0 01-1.263-.782 3.539 3.539 0 01-.824-1.224 4.173 4.173 0 01-.295-1.589c0-.54.093-1.04.286-1.514.186-.475.455-.882.791-1.224.337-.349.741-.615 1.195-.823a3.637 3.637 0 011.523-.308c.598 0 1.153.075 1.658.224.505.15.934.4 1.288.75l-.615 1.04a2.874 2.874 0 00-1.026-.6 3.616 3.616 0 00-1.119-.174 2.603 2.603 0 00-1.793.724 2.536 2.536 0 00-.564.832c-.143.324-.21.682-.21 1.081 0 .408.076.774.219 1.09.143.325.336.6.58.832.244.234.531.408.859.525.328.116.673.183 1.043.183.455 0 .859-.092 1.22-.267a3.05 3.05 0 00.926-.69l.631.948zM137.603 76.435h6.824v1.315h-2.743v6.09h-1.33v-6.09h-2.743v-1.315h-.008z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M150.638 83.766c.505-.158.934-.4 1.304-.732l-.404-1.032c-.244.217-.572.4-.967.55-.396.15-.842.224-1.33.224-.732 0-1.338-.191-1.818-.582-.479-.392-.74-.94-.799-1.64h5.756c.059-.258.084-.549.084-.89 0-.508-.093-.965-.278-1.381a3.277 3.277 0 00-.74-1.074 3.295 3.295 0 00-1.111-.69 3.692 3.692 0 00-1.355-.25c-.623 0-1.17.108-1.649.308a3.637 3.637 0 00-1.204.824 3.477 3.477 0 00-.748 1.223 4.272 4.272 0 00-.261 1.514c0 .583.101 1.115.286 1.59a3.5 3.5 0 00.808 1.223c.345.34.765.599 1.262.782a4.772 4.772 0 001.658.274 5.04 5.04 0 001.506-.24zm-3.366-5.7c.412-.374.959-.557 1.649-.557.648 0 1.17.175 1.549.525.379.349.58.832.614 1.447h-4.544a2.26 2.26 0 01.732-1.414z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M154.273 76.435h1.212l2.878 3.67 2.726-3.67h1.178v7.406h-1.329v-5.4l-2.592 3.436h-.051l-2.692-3.437v5.4h-1.33v-7.405z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M165.885 76.46a4.187 4.187 0 00-1.144.49l.353 1.05c.303-.15.606-.275.909-.383.303-.109.69-.159 1.153-.159.37 0 .665.059.892.175.227.108.395.275.513.475.118.2.194.449.236.74.042.291.059.607.059.949a2.28 2.28 0 00-.909-.375 5.229 5.229 0 00-.959-.1c-.396 0-.766.059-1.12.158-.353.1-.656.25-.9.45a2.14 2.14 0 00-.589.74 2.3 2.3 0 00-.219 1.007c0 .724.211 1.29.631 1.69.421.399.976.598 1.666.598.623 0 1.12-.108 1.498-.324.379-.217.682-.466.901-.749v.957h1.245v-4.543c0-.966-.21-1.714-.639-2.239-.421-.524-1.17-.79-2.23-.79-.472 0-.918.066-1.347.183zm2.223 6c-.303.216-.699.315-1.187.315-.429 0-.766-.108-1.001-.316-.236-.216-.354-.499-.354-.849 0-.207.042-.382.135-.54.093-.158.219-.283.362-.383a1.6 1.6 0 01.513-.225c.194-.05.387-.075.589-.075.657 0 1.22.158 1.683.491v.94a3.824 3.824 0 01-.74.641zM181.841 73.83c.269-.124.521-.332.757-.64l-.724-1.04c-.185.25-.395.424-.631.516a4.007 4.007 0 01-.774.216l-.252.045c-.219.038-.454.08-.707.122a5.224 5.224 0 00-1.178.366c-.598.258-1.077.607-1.439 1.048-.362.441-.648.94-.842 1.49a7.793 7.793 0 00-.395 1.722c-.068.6-.101 1.173-.101 1.722 0 .708.092 1.348.277 1.922.186.575.446 1.057.791 1.448.345.4.758.7 1.246.916.488.216 1.035.324 1.649.324.564 0 1.086-.108 1.557-.308a3.758 3.758 0 001.212-.823c.336-.342.606-.75.791-1.207.193-.458.286-.949.286-1.465 0-.557-.084-1.064-.244-1.514a3.271 3.271 0 00-.69-1.156 3.072 3.072 0 00-1.103-.75 3.827 3.827 0 00-1.447-.266c-.32 0-.631.042-.934.125a3.604 3.604 0 00-.842.358 3.2 3.2 0 00-.698.54c-.202.209-.37.442-.488.708h-.034c.026-.341.068-.69.143-1.048.076-.358.185-.7.329-1.024.143-.324.328-.616.555-.882a2.52 2.52 0 01.875-.624 4.646 4.646 0 011.153-.374l.264-.048c.263-.048.514-.094.754-.144.32-.066.614-.15.884-.274zm-4.679 7.115a4.146 4.146 0 01-.185-1.298 2.09 2.09 0 01.303-.707c.143-.225.328-.424.547-.6a2.773 2.773 0 011.733-.59c.783 0 1.372.241 1.784.716.413.482.615 1.081.615 1.805 0 .358-.068.683-.185.982a2.36 2.36 0 01-1.279 1.323c-.303.133-.632.2-1.002.2s-.707-.075-1.018-.225a2.34 2.34 0 01-.8-.624 3.129 3.129 0 01-.513-.982zM193.563 76.435h-1.33v7.406h1.33v-7.406zm-8.281 0h1.33v2.222h1.229c.58 0 1.051.075 1.43.216.379.142.682.333.909.566.227.233.387.508.48.815.092.308.143.624.143.957 0 .333-.051.65-.16.966-.101.316-.278.59-.514.84-.235.25-.555.45-.959.6-.404.149-.892.232-1.481.232h-2.415v-7.414h.008zm1.33 3.461v2.713h.968c.665 0 1.136-.116 1.405-.35.27-.233.404-.565.404-1.006 0-.45-.143-.79-.412-1.024-.278-.233-.741-.35-1.38-.35h-.985v.017z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M202.357 82.775c-.32.408-.741.716-1.246.924a4.286 4.286 0 01-1.632.316 4.63 4.63 0 01-1.633-.274 3.613 3.613 0 01-1.262-.782 3.555 3.555 0 01-.825-1.224 4.192 4.192 0 01-.294-1.589c0-.54.092-1.04.286-1.514.185-.475.454-.882.791-1.224.337-.349.74-.615 1.195-.823a3.634 3.634 0 011.523-.308c.597 0 1.153.075 1.658.224.505.15.934.4 1.287.75l-.614 1.04a2.886 2.886 0 00-1.027-.6 3.612 3.612 0 00-1.119-.174c-.336 0-.656.066-.968.191a2.587 2.587 0 00-.824.533 2.52 2.52 0 00-.564.832c-.143.324-.21.682-.21 1.081 0 .408.075.774.218 1.09.143.325.337.6.581.832.244.234.53.408.858.525.329.116.674.183 1.044.183.454 0 .858-.092 1.22-.267a3.05 3.05 0 00.926-.69l.631.948zM203.038 76.435h6.825v1.315h-2.744v6.09h-1.329v-6.09h-2.743v-1.315h-.009z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M212.64 76.436h-1.33v10.7h1.33V83.5c.269.175.589.3.959.383.37.083.757.124 1.153.124.589 0 1.119-.108 1.599-.307a3.825 3.825 0 001.228-.84c.345-.359.606-.775.791-1.266.185-.49.278-1.015.278-1.572 0-.55-.084-1.057-.244-1.515a3.524 3.524 0 00-.69-1.181 2.996 2.996 0 00-1.086-.774 3.49 3.49 0 00-1.439-.283c-.521 0-1.009.1-1.472.3-.463.2-.825.44-1.077.74v-.873zm.926 1.373c.379-.2.791-.3 1.237-.3.387 0 .732.058 1.044.183.303.125.555.3.766.533.21.233.37.5.471.815.109.316.16.658.16 1.032 0 .4-.068.757-.185 1.09a2.4 2.4 0 01-.514.849 2.36 2.36 0 01-.816.557 2.685 2.685 0 01-1.086.208c-.361 0-.698-.041-1.018-.124a3.328 3.328 0 01-.984-.45v-3.67c.235-.282.547-.523.925-.723zM228.847 76.435h-1.33v7.406h1.33v-7.406zm-8.289 0h1.33v2.222h1.228c.581 0 1.052.075 1.431.216.379.142.682.333.909.566.227.233.387.508.479.815.093.308.143.624.143.957 0 .333-.05.65-.159.966-.101.316-.278.59-.514.84-.235.25-.555.45-.959.6-.404.149-.892.232-1.481.232h-2.415v-7.414h.008zm1.339 3.461v2.713h.968c.664 0 1.136-.116 1.405-.35.269-.233.404-.565.404-1.006 0-.45-.143-.79-.412-1.024-.278-.233-.741-.35-1.38-.35h-.985v.017z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M235.226 80.005l2.844 3.836h-1.632l-2.197-2.996-2.23 2.996h-1.548l2.827-3.77-2.659-3.636h1.633l2.028 2.796 2.061-2.796h1.549l-2.676 3.57zM118.409 92.994h-4.081v6.174h-1.33v-7.405h6.74v7.405h-1.329v-6.174zM127.286 93.077h-2.625l-.085 1.248c-.092 1.057-.218 1.906-.395 2.554-.177.65-.396 1.149-.648 1.498-.252.35-.547.591-.884.708a3.06 3.06 0 01-1.085.183l-.101-1.282c.143.008.311-.025.496-.108.186-.083.371-.266.547-.54.177-.284.337-.683.48-1.199.143-.524.236-1.206.286-2.064l.135-2.305h5.209v7.406h-1.33v-6.1z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M132.201 91.78c-.43.116-.817.282-1.145.49l.354 1.049c.303-.15.606-.275.908-.383.303-.108.691-.158 1.153-.158.371 0 .665.058.892.174.228.109.396.275.514.475.117.2.193.45.235.74.042.292.059.608.059.949a2.277 2.277 0 00-.909-.374 5.22 5.22 0 00-.959-.1c-.395 0-.766.058-1.119.158-.354.1-.657.25-.901.45a2.14 2.14 0 00-.589.74 2.3 2.3 0 00-.218 1.007c0 .723.21 1.29.631 1.689.42.399.976.599 1.666.599.623 0 1.119-.108 1.498-.325.378-.216.681-.466.9-.749v.957h1.246v-4.543c0-.965-.211-1.714-.64-2.238-.421-.525-1.17-.79-2.23-.79a5.1 5.1 0 00-1.346.182zm2.23 5.998c-.302.217-.698.317-1.186.317-.438 0-.766-.108-1.001-.317-.236-.216-.354-.499-.354-.848 0-.208.042-.383.135-.541.092-.158.219-.283.362-.383.143-.1.319-.175.513-.225a2.33 2.33 0 01.589-.074c.656 0 1.22.158 1.683.49v.94a3.83 3.83 0 01-.741.641z"%0A    fill="%23000"%0A  />%0A  <path%0A    d="M137.72 91.763h6.825v1.314h-2.744v6.091h-1.329v-6.09h-2.743v-1.315h-.009z"%0A    fill="%23000"%0A  />%0A  <path%0A    fill-rule="evenodd"%0A    clip-rule="evenodd"%0A    d="M150.756 99.093c.505-.158.934-.4 1.304-.732l-.404-1.032c-.244.217-.572.4-.968.55-.395.15-.841.224-1.329.224-.732 0-1.338-.191-1.818-.582-.48-.391-.74-.94-.799-1.64h5.756c.058-.257.084-.549.084-.89 0-.507-.093-.965-.278-1.381a3.264 3.264 0 00-.741-1.073 3.28 3.28 0 00-1.11-.691 3.696 3.696 0 00-1.355-.25c-.623 0-1.17.108-1.649.308a3.618 3.618 0 00-1.204.824 3.494 3.494 0 00-.749 1.223 4.294 4.294 0 00-.261 1.514c0 .583.101 1.115.286 1.59.186.474.463.882.808 1.223.345.341.766.599 1.263.782a4.766 4.766 0 001.657.275c.497 0 1.002-.084 1.507-.242zm-3.374-5.708c.412-.374.959-.557 1.649-.557.657 0 1.17.183 1.549.524.378.35.58.832.614 1.448h-4.544a2.26 2.26 0 01.732-1.415zM153.23 91.763h1.683l2.566 3.57-2.743 3.835h-1.632l2.877-3.836-2.751-3.57zm4.577 0h1.33v7.405h-1.33v-7.405zm6.084 7.405l-2.928-3.836 2.735-3.57h-1.65l-2.583 3.57 2.777 3.836h1.649zM169.967 99.093c.505-.158.934-.4 1.304-.732l-.404-1.032c-.244.217-.572.4-.967.55-.396.15-.842.224-1.33.224-.732 0-1.338-.191-1.818-.582-.479-.391-.74-.94-.799-1.64h5.756c.059-.257.084-.549.084-.89 0-.507-.092-.965-.278-1.381a3.276 3.276 0 00-.74-1.073 3.284 3.284 0 00-1.111-.691 3.692 3.692 0 00-1.355-.25c-.622 0-1.169.108-1.649.308a3.624 3.624 0 00-1.203.824 3.465 3.465 0 00-.749 1.223 4.272 4.272 0 00-.261 1.514c0 .583.101 1.115.286 1.59.185.474.463.882.808 1.223.345.341.765.599 1.262.782a4.772 4.772 0 001.658.275 5.04 5.04 0 001.506-.242zm-3.374-5.708c.413-.374.96-.557 1.65-.557.648 0 1.169.183 1.548.524.379.35.581.832.614 1.448h-4.544a2.26 2.26 0 01.732-1.415zM177.188 89.275c-.783 0-1.212-.433-1.279-1.298h-1.254c0 .332.059.632.168.915.11.283.27.524.48.724.21.2.48.358.791.482.311.125.673.183 1.085.183.379 0 .716-.058 1.019-.183.303-.116.555-.282.774-.482.21-.2.379-.441.496-.724.118-.283.177-.583.177-.915H178.4c-.059.865-.472 1.298-1.212 1.298zm-3.594 2.487v7.406h1.33l4.325-5.517v5.517h1.33v-7.406h-1.33l-4.325 5.517v-5.517h-1.33z"%0A    fill="%23000"%0A  />%0A</svg>%0A',class:"slide-up-widget__header-image"}),createBaseVNode("div",{class:"slide-up-widget__header-text"},"Выберите банк для подтверждения оплаты")],-1),_hoisted_3$1j=["href"],_hoisted_4$1g=["src"],_hoisted_5$1f={class:"slide-up-widget__bank-title"};function _sfc_render$s(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$1l,[_hoisted_2$1k,withDirectives(createBaseVNode("input",{placeholder:"Введите название банка","onUpdate:modelValue":t[0]||(t[0]=r=>a.search=r),class:"slide-up-widget__input"},null,512),[[vModelText,a.search]]),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredProviders,r=>(openBlock(),createElementBlock("a",{class:"slide-up-widget__bank",href:"https://qr.nspk.ru/AS100001ORTF4GAF80KPJ53K186D9A3G?type=01&bank="+r.schema.substring(4)+"&crc=0C8A&sum=1000&cur=RUB"},[createBaseVNode("img",{class:"slide-up-widget__bank-logo",src:r.logoURL},null,8,_hoisted_4$1g),createBaseVNode("div",_hoisted_5$1f,toDisplayString(r.bankName),1)],8,_hoisted_3$1j))),256))])}const PaymentV2=_export_sfc(_sfc_main$1k,[["render",_sfc_render$s]]),Payment=Object.freeze(Object.defineProperty({__proto__:null,default:PaymentV2},Symbol.toStringTag,{value:"Module"})),_sfc_main$1j={data(){return{sending:!1,callbackForm:{name:null,phone:null,message:null,images:[]}}},watch:{getSelf:{handler:function(o){this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null},deep:!0}},computed:{...mapGetters(["getSelf"]),self(){return this.getSelf}},mounted(){this.self&&(this.callbackForm.name=this.self.fio_from_telegram||this.self.name,this.callbackForm.phone=this.self.phone||null)},methods:{onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.callbackForm.images.push(t[s])},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.locationForm.images.splice(o,1)},submitCallback(){let o=new FormData;this.sending=!0,Object.keys(this.callbackForm).forEach(t=>{const s=this.callbackForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.callbackForm.images.length>0&&(this.callbackForm.images.forEach(t=>{o.append("photos[]",t)}),o.delete("images")),this.$store.dispatch("feedBackForm",{callbackForm:o}).then(t=>{this.callbackForm={message:null,name:null,phone:null,images:[]},this.$notify({title:"Обратная связь",text:"Спасибо за сообщение"}),this.sending=!1}).catch(t=>{this.sending=!1})}}},_hoisted_1$1k={key:0,class:"container py-3"},_hoisted_2$1j=createBaseVNode("h3",null,"Обратная связь",-1),_hoisted_3$1i=createBaseVNode("p",{class:"alert alert-light"},[createTextVNode(" Уважаемый клиент, ваш отзыв будет опубликован в нашем канале "),createBaseVNode("strong",{class:"fw-bold text-primary"},"анонимно"),createTextVNode(", ваши данные увидит только администрация проекта, заранее благодарим за обратную связь! ")],-1),_hoisted_4$1f={class:"form-floating mb-2"},_hoisted_5$1e=createBaseVNode("label",{for:"callbackForm-name"},[createTextVNode("Ваше имя "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_6$1e={class:"form-floating mb-2"},_hoisted_7$1c=createBaseVNode("label",{for:"callbackForm-phone"},[createTextVNode("Номер телефона "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_8$16={class:"form-floating"},_hoisted_9$12=createBaseVNode("label",{for:"callbackForm-message",required:""},[createTextVNode("Текст сообщения "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_10$Y=createBaseVNode("h6",{class:"my-3 text-center fw-bold"},[createTextVNode("Прикрепить фотографию "),createBaseVNode("span",{class:"text-danger"},"*")],-1),_hoisted_11$U={class:"photo-preview d-flex justify-content-center flex-wrap w-100 my-3"},_hoisted_12$U={for:"menu-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_13$P=createBaseVNode("span",{class:"text-primary fw-bold"},"+",-1),_hoisted_14$N={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_15$M={class:"remove"},_hoisted_16$N=["onClick"],_hoisted_17$J={key:0,class:"alert alert-light mb-2"},_hoisted_18$J=["disabled"];function _sfc_render$r(o,t,s,i,a,n){const r=resolveDirective("mask"),l=resolveDirective("lazy");return n.self?(openBlock(),createElementBlock("div",_hoisted_1$1k,[_hoisted_2$1j,_hoisted_3$1i,createBaseVNode("form",{onSubmit:t[4]||(t[4]=withModifiers((...d)=>n.submitCallback&&n.submitCallback(...d),["prevent"]))},[createBaseVNode("div",_hoisted_4$1f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=d=>a.callbackForm.name=d),class:"form-control",id:"callbackForm-name",placeholder:"name@example.com",required:""},null,512),[[vModelText,a.callbackForm.name]]),_hoisted_5$1e]),createBaseVNode("div",_hoisted_6$1e,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=d=>a.callbackForm.phone=d),class:"form-control",id:"callbackForm-phone",placeholder:"name@example.com",required:""},null,512),[[r,"+7(###)###-##-##"],[vModelText,a.callbackForm.phone]]),_hoisted_7$1c]),createBaseVNode("div",_hoisted_8$16,[withDirectives(createBaseVNode("textarea",{class:"form-control",style:{height:"200px","line-height":"150%"},"onUpdate:modelValue":t[2]||(t[2]=d=>a.callbackForm.message=d),placeholder:"Leave a comment here",id:"callbackForm-message"},null,512),[[vModelText,a.callbackForm.message]]),_hoisted_9$12]),_hoisted_10$Y,createBaseVNode("div",_hoisted_11$U,[createBaseVNode("label",_hoisted_12$U,[_hoisted_13$P,createBaseVNode("input",{type:"file",id:"menu-photos",accept:"image/*",required:"",multiple:"",onChange:t[3]||(t[3]=(...d)=>n.onChangePhotos&&n.onChangePhotos(...d)),style:{display:"none"}},null,32)]),(a.callbackForm.images||[]).length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.callbackForm.images,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_14$N,[withDirectives(createBaseVNode("img",null,null,512),[[l,n.getPhoto(d).imageUrl]]),createBaseVNode("div",_hoisted_15$M,[createBaseVNode("a",{onClick:_=>n.removePhoto(c)},"Удалить",8,_hoisted_16$N)])]))),256)):createCommentVNode("",!0)]),a.callbackForm.image?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_17$J," Вам необходимо прикрепить изображение перед отправкой! ")),createBaseVNode("button",{type:"submit",disabled:a.sending&&!a.callbackForm.image,class:"btn btn-primary mt-2 p-3 w-100"}," Отправить сообщение ",8,_hoisted_18$J)],32)])):createCommentVNode("",!0)}const FeedBackV2=_export_sfc(_sfc_main$1j,[["render",_sfc_render$r]]),FeedBack=Object.freeze(Object.defineProperty({__proto__:null,default:FeedBackV2},Symbol.toStringTag,{value:"Module"}));var pe={value:()=>{}};function Fn(){for(var o=0,t=arguments.length,s={},i;o<t;++o){if(!(i=arguments[o]+"")||i in s||/[\s.]/.test(i))throw new Error("illegal type: "+i);s[i]=[]}return new Nt(s)}function Nt(o){this._=o}function ge(o,t){return o.trim().split(/^|\s+/).map(function(s){var i="",a=s.indexOf(".");if(a>=0&&(i=s.slice(a+1),s=s.slice(0,a)),s&&!t.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:i}})}Nt.prototype=Fn.prototype={constructor:Nt,on:function(o,t){var s=this._,i=ge(o+"",s),a,n=-1,r=i.length;if(arguments.length<2){for(;++n<r;)if((a=(o=i[n]).type)&&(a=ye(s[a],o.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++n<r;)if(a=(o=i[n]).type)s[a]=yn(s[a],o.name,t);else if(t==null)for(a in s)s[a]=yn(s[a],o.name,null);return this},copy:function(){var o={},t=this._;for(var s in t)o[s]=t[s].slice();return new Nt(o)},call:function(o,t){if((a=arguments.length-2)>0)for(var s=new Array(a),i=0,a,n;i<a;++i)s[i]=arguments[i+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(n=this._[o],i=0,a=n.length;i<a;++i)n[i].value.apply(t,s)},apply:function(o,t,s){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var i=this._[o],a=0,n=i.length;a<n;++a)i[a].value.apply(t,s)}};function ye(o,t){for(var s=0,i=o.length,a;s<i;++s)if((a=o[s]).name===t)return a.value}function yn(o,t,s){for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o[i]=pe,o=o.slice(0,i).concat(o.slice(i+1));break}return s!=null&&o.push({name:t,value:s}),o}var Gt="http://www.w3.org/1999/xhtml";const _n={svg:"http://www.w3.org/2000/svg",xhtml:Gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dt(o){var t=o+="",s=t.indexOf(":");return s>=0&&(t=o.slice(0,s))!=="xmlns"&&(o=o.slice(s+1)),_n.hasOwnProperty(t)?{space:_n[t],local:o}:o}function _e(o){return function(){var t=this.ownerDocument,s=this.namespaceURI;return s===Gt&&t.documentElement.namespaceURI===Gt?t.createElement(o):t.createElementNS(s,o)}}function ve(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}function Pn(o){var t=Dt(o);return(t.local?ve:_e)(t)}function me(){}function an(o){return o==null?me:function(){return this.querySelector(o)}}function xe(o){typeof o!="function"&&(o=an(o));for(var t=this._groups,s=t.length,i=new Array(s),a=0;a<s;++a)for(var n=t[a],r=n.length,l=i[a]=new Array(r),d,c,_=0;_<r;++_)(d=n[_])&&(c=o.call(d,d.__data__,_,n))&&("__data__"in d&&(c.__data__=d.__data__),l[_]=c);return new P(i,this._parents)}function we(o){return o==null?[]:Array.isArray(o)?o:Array.from(o)}function Ae(){return[]}function On(o){return o==null?Ae:function(){return this.querySelectorAll(o)}}function be(o){return function(){return we(o.apply(this,arguments))}}function $e(o){typeof o=="function"?o=be(o):o=On(o);for(var t=this._groups,s=t.length,i=[],a=[],n=0;n<s;++n)for(var r=t[n],l=r.length,d,c=0;c<l;++c)(d=r[c])&&(i.push(o.call(d,d.__data__,c,r)),a.push(d));return new P(i,a)}function Vn(o){return function(){return this.matches(o)}}function Dn(o){return function(t){return t.matches(o)}}var Ne=Array.prototype.find;function Me(o){return function(){return Ne.call(this.children,o)}}function ke(){return this.firstElementChild}function Se(o){return this.select(o==null?ke:Me(typeof o=="function"?o:Dn(o)))}var Ee=Array.prototype.filter;function Te(){return Array.from(this.children)}function Ce(o){return function(){return Ee.call(this.children,o)}}function Re(o){return this.selectAll(o==null?Te:Ce(typeof o=="function"?o:Dn(o)))}function Ie(o){typeof o!="function"&&(o=Vn(o));for(var t=this._groups,s=t.length,i=new Array(s),a=0;a<s;++a)for(var n=t[a],r=n.length,l=i[a]=[],d,c=0;c<r;++c)(d=n[c])&&o.call(d,d.__data__,c,n)&&l.push(d);return new P(i,this._parents)}function qn(o){return new Array(o.length)}function Fe(){return new P(this._enter||this._groups.map(qn),this._parents)}function Et(o,t){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=t}Et.prototype={constructor:Et,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,t){return this._parent.insertBefore(o,t)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};function Pe(o){return function(){return o}}function Oe(o,t,s,i,a,n){for(var r=0,l,d=t.length,c=n.length;r<c;++r)(l=t[r])?(l.__data__=n[r],i[r]=l):s[r]=new Et(o,n[r]);for(;r<d;++r)(l=t[r])&&(a[r]=l)}function Ve(o,t,s,i,a,n,r){var l,d,c=new Map,_=t.length,m=n.length,p=new Array(_),f;for(l=0;l<_;++l)(d=t[l])&&(p[l]=f=r.call(d,d.__data__,l,t)+"",c.has(f)?a[l]=d:c.set(f,d));for(l=0;l<m;++l)f=r.call(o,n[l],l,n)+"",(d=c.get(f))?(i[l]=d,d.__data__=n[l],c.delete(f)):s[l]=new Et(o,n[l]);for(l=0;l<_;++l)(d=t[l])&&c.get(p[l])===d&&(a[l]=d)}function De(o){return o.__data__}function qe(o,t){if(!arguments.length)return Array.from(this,De);var s=t?Ve:Oe,i=this._parents,a=this._groups;typeof o!="function"&&(o=Pe(o));for(var n=a.length,r=new Array(n),l=new Array(n),d=new Array(n),c=0;c<n;++c){var _=i[c],m=a[c],p=m.length,f=Le(o.call(_,_&&_.__data__,c,i)),k=f.length,b=l[c]=new Array(k),v=r[c]=new Array(k),N=d[c]=new Array(p);s(_,m,b,v,N,f,t);for(var T=0,M=0,D,G;T<k;++T)if(D=b[T]){for(T>=M&&(M=T+1);!(G=v[M])&&++M<k;);D._next=G||null}}return r=new P(r,i),r._enter=l,r._exit=d,r}function Le(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function He(){return new P(this._exit||this._groups.map(qn),this._parents)}function Xe(o,t,s){var i=this.enter(),a=this,n=this.exit();return typeof o=="function"?(i=o(i),i&&(i=i.selection())):i=i.append(o+""),t!=null&&(a=t(a),a&&(a=a.selection())),s==null?n.remove():s(n),i&&a?i.merge(a).order():a}function ze(o){for(var t=o.selection?o.selection():o,s=this._groups,i=t._groups,a=s.length,n=i.length,r=Math.min(a,n),l=new Array(a),d=0;d<r;++d)for(var c=s[d],_=i[d],m=c.length,p=l[d]=new Array(m),f,k=0;k<m;++k)(f=c[k]||_[k])&&(p[k]=f);for(;d<a;++d)l[d]=s[d];return new P(l,this._parents)}function Be(){for(var o=this._groups,t=-1,s=o.length;++t<s;)for(var i=o[t],a=i.length-1,n=i[a],r;--a>=0;)(r=i[a])&&(n&&r.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(r,n),n=r);return this}function Ye(o){o||(o=We);function t(m,p){return m&&p?o(m.__data__,p.__data__):!m-!p}for(var s=this._groups,i=s.length,a=new Array(i),n=0;n<i;++n){for(var r=s[n],l=r.length,d=a[n]=new Array(l),c,_=0;_<l;++_)(c=r[_])&&(d[_]=c);d.sort(t)}return new P(a,this._parents).order()}function We(o,t){return o<t?-1:o>t?1:o>=t?0:NaN}function Ue(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this}function Ge(){return Array.from(this)}function Ke(){for(var o=this._groups,t=0,s=o.length;t<s;++t)for(var i=o[t],a=0,n=i.length;a<n;++a){var r=i[a];if(r)return r}return null}function Ze(){let o=0;for(const t of this)++o;return o}function Qe(){return!this.node()}function Je(o){for(var t=this._groups,s=0,i=t.length;s<i;++s)for(var a=t[s],n=0,r=a.length,l;n<r;++n)(l=a[n])&&o.call(l,l.__data__,n,a);return this}function je(o){return function(){this.removeAttribute(o)}}function tr(o){return function(){this.removeAttributeNS(o.space,o.local)}}function nr(o,t){return function(){this.setAttribute(o,t)}}function er(o,t){return function(){this.setAttributeNS(o.space,o.local,t)}}function rr(o,t){return function(){var s=t.apply(this,arguments);s==null?this.removeAttribute(o):this.setAttribute(o,s)}}function ir(o,t){return function(){var s=t.apply(this,arguments);s==null?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,s)}}function ar(o,t){var s=Dt(o);if(arguments.length<2){var i=this.node();return s.local?i.getAttributeNS(s.space,s.local):i.getAttribute(s)}return this.each((t==null?s.local?tr:je:typeof t=="function"?s.local?ir:rr:s.local?er:nr)(s,t))}function Ln(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function or(o){return function(){this.style.removeProperty(o)}}function sr(o,t,s){return function(){this.style.setProperty(o,t,s)}}function ur(o,t,s){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(o):this.style.setProperty(o,i,s)}}function lr(o,t,s){return arguments.length>1?this.each((t==null?or:typeof t=="function"?ur:sr)(o,t,s??"")):lt(this.node(),o)}function lt(o,t){return o.style.getPropertyValue(t)||Ln(o).getComputedStyle(o,null).getPropertyValue(t)}function fr(o){return function(){delete this[o]}}function cr(o,t){return function(){this[o]=t}}function hr(o,t){return function(){var s=t.apply(this,arguments);s==null?delete this[o]:this[o]=s}}function dr(o,t){return arguments.length>1?this.each((t==null?fr:typeof t=="function"?hr:cr)(o,t)):this.node()[o]}function Hn(o){return o.trim().split(/^|\s+/)}function on(o){return o.classList||new Xn$1(o)}function Xn$1(o){this._node=o,this._names=Hn(o.getAttribute("class")||"")}Xn$1.prototype={add:function(o){var t=this._names.indexOf(o);t<0&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var t=this._names.indexOf(o);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};function zn(o,t){for(var s=on(o),i=-1,a=t.length;++i<a;)s.add(t[i])}function Bn(o,t){for(var s=on(o),i=-1,a=t.length;++i<a;)s.remove(t[i])}function pr(o){return function(){zn(this,o)}}function gr(o){return function(){Bn(this,o)}}function yr(o,t){return function(){(t.apply(this,arguments)?zn:Bn)(this,o)}}function _r(o,t){var s=Hn(o+"");if(arguments.length<2){for(var i=on(this.node()),a=-1,n=s.length;++a<n;)if(!i.contains(s[a]))return!1;return!0}return this.each((typeof t=="function"?yr:t?pr:gr)(s,t))}function vr(){this.textContent=""}function mr(o){return function(){this.textContent=o}}function xr(o){return function(){var t=o.apply(this,arguments);this.textContent=t??""}}function wr(o){return arguments.length?this.each(o==null?vr:(typeof o=="function"?xr:mr)(o)):this.node().textContent}function Ar(){this.innerHTML=""}function br(o){return function(){this.innerHTML=o}}function $r(o){return function(){var t=o.apply(this,arguments);this.innerHTML=t??""}}function Nr(o){return arguments.length?this.each(o==null?Ar:(typeof o=="function"?$r:br)(o)):this.node().innerHTML}function Mr(){this.nextSibling&&this.parentNode.appendChild(this)}function kr(){return this.each(Mr)}function Sr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Er(){return this.each(Sr)}function Tr(o){var t=typeof o=="function"?o:Pn(o);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Cr(){return null}function Rr(o,t){var s=typeof o=="function"?o:Pn(o),i=t==null?Cr:typeof t=="function"?t:an(t);return this.select(function(){return this.insertBefore(s.apply(this,arguments),i.apply(this,arguments)||null)})}function Ir(){var o=this.parentNode;o&&o.removeChild(this)}function Fr(){return this.each(Ir)}function Pr(){var o=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(o,this.nextSibling):o}function Or(){var o=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(o,this.nextSibling):o}function Vr(o){return this.select(o?Or:Pr)}function Dr(o){return arguments.length?this.property("__data__",o):this.node().__data__}function qr(o){return function(t){o.call(this,t,this.__data__)}}function Lr(o){return o.trim().split(/^|\s+/).map(function(t){var s="",i=t.indexOf(".");return i>=0&&(s=t.slice(i+1),t=t.slice(0,i)),{type:t,name:s}})}function Hr(o){return function(){var t=this.__on;if(t){for(var s=0,i=-1,a=t.length,n;s<a;++s)n=t[s],(!o.type||n.type===o.type)&&n.name===o.name?this.removeEventListener(n.type,n.listener,n.options):t[++i]=n;++i?t.length=i:delete this.__on}}}function Xr(o,t,s){return function(){var i=this.__on,a,n=qr(t);if(i){for(var r=0,l=i.length;r<l;++r)if((a=i[r]).type===o.type&&a.name===o.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=n,a.options=s),a.value=t;return}}this.addEventListener(o.type,n,s),a={type:o.type,name:o.name,value:t,listener:n,options:s},i?i.push(a):this.__on=[a]}}function zr(o,t,s){var i=Lr(o+""),a,n=i.length,r;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,c=l.length,_;d<c;++d)for(a=0,_=l[d];a<n;++a)if((r=i[a]).type===_.type&&r.name===_.name)return _.value}return}for(l=t?Xr:Hr,a=0;a<n;++a)this.each(l(i[a],t,s));return this}function Yn$1(o,t,s){var i=Ln(o),a=i.CustomEvent;typeof a=="function"?a=new a(t,s):(a=i.document.createEvent("Event"),s?(a.initEvent(t,s.bubbles,s.cancelable),a.detail=s.detail):a.initEvent(t,!1,!1)),o.dispatchEvent(a)}function Br(o,t){return function(){return Yn$1(this,o,t)}}function Yr(o,t){return function(){return Yn$1(this,o,t.apply(this,arguments))}}function Wr(o,t){return this.each((typeof t=="function"?Yr:Br)(o,t))}function*Ur(){for(var o=this._groups,t=0,s=o.length;t<s;++t)for(var i=o[t],a=0,n=i.length,r;a<n;++a)(r=i[a])&&(yield r)}var Wn=[null];function P(o,t){this._groups=o,this._parents=t}function mt(){return new P([[document.documentElement]],Wn)}function Gr(){return this}P.prototype=mt.prototype={constructor:P,select:xe,selectAll:$e,selectChild:Se,selectChildren:Re,filter:Ie,data:qe,enter:Fe,exit:He,join:Xe,merge:ze,selection:Gr,order:Be,sort:Ye,call:Ue,nodes:Ge,node:Ke,size:Ze,empty:Qe,each:Je,attr:ar,style:lr,property:dr,classed:_r,text:wr,html:Nr,raise:kr,lower:Er,append:Tr,insert:Rr,remove:Fr,clone:Vr,datum:Dr,on:zr,dispatch:Wr,[Symbol.iterator]:Ur};function vn(o){return typeof o=="string"?new P([[document.querySelector(o)]],[document.documentElement]):new P([[o]],Wn)}function sn(o,t,s){o.prototype=t.prototype=s,s.constructor=o}function Un(o,t){var s=Object.create(o.prototype);for(var i in t)s[i]=t[i];return s}function xt(){}var gt=.7,Tt=1/gt,ut="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",W="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kr=/^#([0-9a-f]{3,8})$/,Zr=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),Qr=new RegExp(`^rgb\\(${W},${W},${W}\\)$`),Jr=new RegExp(`^rgba\\(${ut},${ut},${ut},${yt}\\)$`),jr=new RegExp(`^rgba\\(${W},${W},${W},${yt}\\)$`),ti=new RegExp(`^hsl\\(${yt},${W},${W}\\)$`),ni=new RegExp(`^hsla\\(${yt},${W},${W},${yt}\\)$`),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sn(xt,rt,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:xn,formatHex:xn,formatHex8:ei,formatHsl:ri,formatRgb:wn,toString:wn});function xn(){return this.rgb().formatHex()}function ei(){return this.rgb().formatHex8()}function ri(){return Gn(this).formatHsl()}function wn(){return this.rgb().formatRgb()}function rt(o){var t,s;return o=(o+"").trim().toLowerCase(),(t=Kr.exec(o))?(s=t[1].length,t=parseInt(t[1],16),s===6?An(t):s===3?new R(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?wt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?wt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zr.exec(o))?new R(t[1],t[2],t[3],1):(t=Qr.exec(o))?new R(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jr.exec(o))?wt(t[1],t[2],t[3],t[4]):(t=jr.exec(o))?wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ti.exec(o))?Nn(t[1],t[2]/100,t[3]/100,1):(t=ni.exec(o))?Nn(t[1],t[2]/100,t[3]/100,t[4]):mn.hasOwnProperty(o)?An(mn[o]):o==="transparent"?new R(NaN,NaN,NaN,0):null}function An(o){return new R(o>>16&255,o>>8&255,o&255,1)}function wt(o,t,s,i){return i<=0&&(o=t=s=NaN),new R(o,t,s,i)}function ii(o){return o instanceof xt||(o=rt(o)),o?(o=o.rgb(),new R(o.r,o.g,o.b,o.opacity)):new R}function Kt(o,t,s,i){return arguments.length===1?ii(o):new R(o,t,s,i??1)}function R(o,t,s,i){this.r=+o,this.g=+t,this.b=+s,this.opacity=+i}sn(R,Kt,Un(xt,{brighter(o){return o=o==null?Tt:Math.pow(Tt,o),new R(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?gt:Math.pow(gt,o),new R(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new R(et(this.r),et(this.g),et(this.b),Ct(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bn,formatHex:bn,formatHex8:ai,formatRgb:$n,toString:$n}));function bn(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}`}function ai(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}${nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function $n(){const o=Ct(this.opacity);return`${o===1?"rgb(":"rgba("}${et(this.r)}, ${et(this.g)}, ${et(this.b)}${o===1?")":`, ${o})`}`}function Ct(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function et(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function nt(o){return o=et(o),(o<16?"0":"")+o.toString(16)}function Nn(o,t,s,i){return i<=0?o=t=s=NaN:s<=0||s>=1?o=t=NaN:t<=0&&(o=NaN),new q(o,t,s,i)}function Gn(o){if(o instanceof q)return new q(o.h,o.s,o.l,o.opacity);if(o instanceof xt||(o=rt(o)),!o)return new q;if(o instanceof q)return o;o=o.rgb();var t=o.r/255,s=o.g/255,i=o.b/255,a=Math.min(t,s,i),n=Math.max(t,s,i),r=NaN,l=n-a,d=(n+a)/2;return l?(t===n?r=(s-i)/l+(s<i)*6:s===n?r=(i-t)/l+2:r=(t-s)/l+4,l/=d<.5?n+a:2-n-a,r*=60):l=d>0&&d<1?0:r,new q(r,l,d,o.opacity)}function oi(o,t,s,i){return arguments.length===1?Gn(o):new q(o,t,s,i??1)}function q(o,t,s,i){this.h=+o,this.s=+t,this.l=+s,this.opacity=+i}sn(q,oi,Un(xt,{brighter(o){return o=o==null?Tt:Math.pow(Tt,o),new q(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?gt:Math.pow(gt,o),new q(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,t=isNaN(o)||isNaN(this.s)?0:this.s,s=this.l,i=s+(s<.5?s:1-s)*t,a=2*s-i;return new R(Yt(o>=240?o-240:o+120,a,i),Yt(o,a,i),Yt(o<120?o+240:o-120,a,i),this.opacity)},clamp(){return new q(Mn(this.h),At(this.s),At(this.l),Ct(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=Ct(this.opacity);return`${o===1?"hsl(":"hsla("}${Mn(this.h)}, ${At(this.s)*100}%, ${At(this.l)*100}%${o===1?")":`, ${o})`}`}}));function Mn(o){return o=(o||0)%360,o<0?o+360:o}function At(o){return Math.max(0,Math.min(1,o||0))}function Yt(o,t,s){return(o<60?t+(s-t)*o/60:o<180?s:o<240?t+(s-t)*(240-o)/60:t)*255}const un=o=>()=>o;function si(o,t){return function(s){return o+s*t}}function ui(o,t,s){return o=Math.pow(o,s),t=Math.pow(t,s)-o,s=1/s,function(i){return Math.pow(o+i*t,s)}}function li(o){return(o=+o)==1?Kn:function(t,s){return s-t?ui(t,s,o):un(isNaN(t)?s:t)}}function Kn(o,t){var s=t-o;return s?si(o,s):un(isNaN(o)?t:o)}const Rt=function o(t){var s=li(t);function i(a,n){var r=s((a=Kt(a)).r,(n=Kt(n)).r),l=s(a.g,n.g),d=s(a.b,n.b),c=Kn(a.opacity,n.opacity);return function(_){return a.r=r(_),a.g=l(_),a.b=d(_),a.opacity=c(_),a+""}}return i.gamma=o,i}(1);function fi(o,t){t||(t=[]);var s=o?Math.min(t.length,o.length):0,i=t.slice(),a;return function(n){for(a=0;a<s;++a)i[a]=o[a]*(1-n)+t[a]*n;return i}}function ci(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function hi(o,t){var s=t?t.length:0,i=o?Math.min(s,o.length):0,a=new Array(i),n=new Array(s),r;for(r=0;r<i;++r)a[r]=It(o[r],t[r]);for(;r<s;++r)n[r]=t[r];return function(l){for(r=0;r<i;++r)n[r]=a[r](l);return n}}function di(o,t){var s=new Date;return o=+o,t=+t,function(i){return s.setTime(o*(1-i)+t*i),s}}function Y(o,t){return o=+o,t=+t,function(s){return o*(1-s)+t*s}}function pi$2(o,t){var s={},i={},a;(o===null||typeof o!="object")&&(o={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in o?s[a]=It(o[a],t[a]):i[a]=t[a];return function(n){for(a in s)i[a]=s[a](n);return i}}var Zt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wt=new RegExp(Zt.source,"g");function gi(o){return function(){return o}}function yi(o){return function(t){return o(t)+""}}function Zn$1(o,t){var s=Zt.lastIndex=Wt.lastIndex=0,i,a,n,r=-1,l=[],d=[];for(o=o+"",t=t+"";(i=Zt.exec(o))&&(a=Wt.exec(t));)(n=a.index)>s&&(n=t.slice(s,n),l[r]?l[r]+=n:l[++r]=n),(i=i[0])===(a=a[0])?l[r]?l[r]+=a:l[++r]=a:(l[++r]=null,d.push({i:r,x:Y(i,a)})),s=Wt.lastIndex;return s<t.length&&(n=t.slice(s),l[r]?l[r]+=n:l[++r]=n),l.length<2?d[0]?yi(d[0].x):gi(t):(t=d.length,function(c){for(var _=0,m;_<t;++_)l[(m=d[_]).i]=m.x(c);return l.join("")})}function It(o,t){var s=typeof t,i;return t==null||s==="boolean"?un(t):(s==="number"?Y:s==="string"?(i=rt(t))?(t=i,Rt):Zn$1:t instanceof rt?Rt:t instanceof Date?di:ci(t)?fi:Array.isArray(t)?hi:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pi$2:Y)(o,t)}var kn=180/Math.PI,Qt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qn(o,t,s,i,a,n){var r,l,d;return(r=Math.sqrt(o*o+t*t))&&(o/=r,t/=r),(d=o*s+t*i)&&(s-=o*d,i-=t*d),(l=Math.sqrt(s*s+i*i))&&(s/=l,i/=l,d/=l),o*i<t*s&&(o=-o,t=-t,d=-d,r=-r),{translateX:a,translateY:n,rotate:Math.atan2(t,o)*kn,skewX:Math.atan(d)*kn,scaleX:r,scaleY:l}}var bt;function _i(o){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(o+"");return t.isIdentity?Qt:Qn(t.a,t.b,t.c,t.d,t.e,t.f)}function vi(o){return o==null||(bt||(bt=document.createElementNS("http://www.w3.org/2000/svg","g")),bt.setAttribute("transform",o),!(o=bt.transform.baseVal.consolidate()))?Qt:(o=o.matrix,Qn(o.a,o.b,o.c,o.d,o.e,o.f))}function Jn(o,t,s,i){function a(c){return c.length?c.pop()+" ":""}function n(c,_,m,p,f,k){if(c!==m||_!==p){var b=f.push("translate(",null,t,null,s);k.push({i:b-4,x:Y(c,m)},{i:b-2,x:Y(_,p)})}else(m||p)&&f.push("translate("+m+t+p+s)}function r(c,_,m,p){c!==_?(c-_>180?_+=360:_-c>180&&(c+=360),p.push({i:m.push(a(m)+"rotate(",null,i)-2,x:Y(c,_)})):_&&m.push(a(m)+"rotate("+_+i)}function l(c,_,m,p){c!==_?p.push({i:m.push(a(m)+"skewX(",null,i)-2,x:Y(c,_)}):_&&m.push(a(m)+"skewX("+_+i)}function d(c,_,m,p,f,k){if(c!==m||_!==p){var b=f.push(a(f)+"scale(",null,",",null,")");k.push({i:b-4,x:Y(c,m)},{i:b-2,x:Y(_,p)})}else(m!==1||p!==1)&&f.push(a(f)+"scale("+m+","+p+")")}return function(c,_){var m=[],p=[];return c=o(c),_=o(_),n(c.translateX,c.translateY,_.translateX,_.translateY,m,p),r(c.rotate,_.rotate,m,p),l(c.skewX,_.skewX,m,p),d(c.scaleX,c.scaleY,_.scaleX,_.scaleY,m,p),c=_=null,function(f){for(var k=-1,b=p.length,v;++k<b;)m[(v=p[k]).i]=v.x(f);return m.join("")}}}var mi=Jn(_i,"px, ","px)","deg)"),xi=Jn(vi,", ",")",")"),ft=0,dt=0,ht=0,jn=1e3,Ft,pt,Pt=0,it=0,qt=0,_t=typeof performance=="object"&&performance.now?performance:Date,te=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(o){setTimeout(o,17)};function ln(){return it||(te(wi),it=_t.now()+qt)}function wi(){it=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=ne.prototype={constructor:Ot,restart:function(o,t,s){if(typeof o!="function")throw new TypeError("callback is not a function");s=(s==null?ln():+s)+(t==null?0:+t),!this._next&&pt!==this&&(pt?pt._next=this:Ft=this,pt=this),this._call=o,this._time=s,Jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jt())}};function ne(o,t,s){var i=new Ot;return i.restart(o,t,s),i}function Ai(){ln(),++ft;for(var o=Ft,t;o;)(t=it-o._time)>=0&&o._call.call(void 0,t),o=o._next;--ft}function Sn(){it=(Pt=_t.now())+qt,ft=dt=0;try{Ai()}finally{ft=0,$i(),it=0}}function bi(){var o=_t.now(),t=o-Pt;t>jn&&(qt-=t,Pt=o)}function $i(){for(var o,t=Ft,s,i=1/0;t;)t._call?(i>t._time&&(i=t._time),o=t,t=t._next):(s=t._next,t._next=null,t=o?o._next=s:Ft=s);pt=o,Jt(i)}function Jt(o){if(!ft){dt&&(dt=clearTimeout(dt));var t=o-it;t>24?(o<1/0&&(dt=setTimeout(Sn,o-_t.now()-qt)),ht&&(ht=clearInterval(ht))):(ht||(Pt=_t.now(),ht=setInterval(bi,jn)),ft=1,te(Sn))}}function En(o,t,s){var i=new Ot;return t=t==null?0:+t,i.restart(a=>{i.stop(),o(a+t)},t,s),i}var Ni=Fn("start","end","cancel","interrupt"),Mi=[],ee=0,Tn=1,jt=2,Mt=3,Cn=4,tn=5,kt=6;function Lt(o,t,s,i,a,n){var r=o.__transition;if(!r)o.__transition={};else if(s in r)return;ki(o,s,{name:t,index:i,group:a,on:Ni,tween:Mi,time:n.time,delay:n.delay,duration:n.duration,ease:n.ease,timer:null,state:ee})}function fn(o,t){var s=L(o,t);if(s.state>ee)throw new Error("too late; already scheduled");return s}function U(o,t){var s=L(o,t);if(s.state>Mt)throw new Error("too late; already running");return s}function L(o,t){var s=o.__transition;if(!s||!(s=s[t]))throw new Error("transition not found");return s}function ki(o,t,s){var i=o.__transition,a;i[t]=s,s.timer=ne(n,0,s.time);function n(c){s.state=Tn,s.timer.restart(r,s.delay,s.time),s.delay<=c&&r(c-s.delay)}function r(c){var _,m,p,f;if(s.state!==Tn)return d();for(_ in i)if(f=i[_],f.name===s.name){if(f.state===Mt)return En(r);f.state===Cn?(f.state=kt,f.timer.stop(),f.on.call("interrupt",o,o.__data__,f.index,f.group),delete i[_]):+_<t&&(f.state=kt,f.timer.stop(),f.on.call("cancel",o,o.__data__,f.index,f.group),delete i[_])}if(En(function(){s.state===Mt&&(s.state=Cn,s.timer.restart(l,s.delay,s.time),l(c))}),s.state=jt,s.on.call("start",o,o.__data__,s.index,s.group),s.state===jt){for(s.state=Mt,a=new Array(p=s.tween.length),_=0,m=-1;_<p;++_)(f=s.tween[_].value.call(o,o.__data__,s.index,s.group))&&(a[++m]=f);a.length=m+1}}function l(c){for(var _=c<s.duration?s.ease.call(null,c/s.duration):(s.timer.restart(d),s.state=tn,1),m=-1,p=a.length;++m<p;)a[m].call(o,_);s.state===tn&&(s.on.call("end",o,o.__data__,s.index,s.group),d())}function d(){s.state=kt,s.timer.stop(),delete i[t];for(var c in i)return;delete o.__transition}}function Si(o,t){var s=o.__transition,i,a,n=!0,r;if(s){t=t==null?null:t+"";for(r in s){if((i=s[r]).name!==t){n=!1;continue}a=i.state>jt&&i.state<tn,i.state=kt,i.timer.stop(),i.on.call(a?"interrupt":"cancel",o,o.__data__,i.index,i.group),delete s[r]}n&&delete o.__transition}}function Ei(o){return this.each(function(){Si(this,o)})}function Ti(o,t){var s,i;return function(){var a=U(this,o),n=a.tween;if(n!==s){i=s=n;for(var r=0,l=i.length;r<l;++r)if(i[r].name===t){i=i.slice(),i.splice(r,1);break}}a.tween=i}}function Ci(o,t,s){var i,a;if(typeof s!="function")throw new Error;return function(){var n=U(this,o),r=n.tween;if(r!==i){a=(i=r).slice();for(var l={name:t,value:s},d=0,c=a.length;d<c;++d)if(a[d].name===t){a[d]=l;break}d===c&&a.push(l)}n.tween=a}}function Ri(o,t){var s=this._id;if(o+="",arguments.length<2){for(var i=L(this.node(),s).tween,a=0,n=i.length,r;a<n;++a)if((r=i[a]).name===o)return r.value;return null}return this.each((t==null?Ti:Ci)(s,o,t))}function cn(o,t,s){var i=o._id;return o.each(function(){var a=U(this,i);(a.value||(a.value={}))[t]=s.apply(this,arguments)}),function(a){return L(a,i).value[t]}}function re$1(o,t){var s;return(typeof t=="number"?Y:t instanceof rt?Rt:(s=rt(t))?(t=s,Rt):Zn$1)(o,t)}function Ii(o){return function(){this.removeAttribute(o)}}function Fi(o){return function(){this.removeAttributeNS(o.space,o.local)}}function Pi(o,t,s){var i,a=s+"",n;return function(){var r=this.getAttribute(o);return r===a?null:r===i?n:n=t(i=r,s)}}function Oi(o,t,s){var i,a=s+"",n;return function(){var r=this.getAttributeNS(o.space,o.local);return r===a?null:r===i?n:n=t(i=r,s)}}function Vi(o,t,s){var i,a,n;return function(){var r,l=s(this),d;return l==null?void this.removeAttribute(o):(r=this.getAttribute(o),d=l+"",r===d?null:r===i&&d===a?n:(a=d,n=t(i=r,l)))}}function Di(o,t,s){var i,a,n;return function(){var r,l=s(this),d;return l==null?void this.removeAttributeNS(o.space,o.local):(r=this.getAttributeNS(o.space,o.local),d=l+"",r===d?null:r===i&&d===a?n:(a=d,n=t(i=r,l)))}}function qi(o,t){var s=Dt(o),i=s==="transform"?xi:re$1;return this.attrTween(o,typeof t=="function"?(s.local?Di:Vi)(s,i,cn(this,"attr."+o,t)):t==null?(s.local?Fi:Ii)(s):(s.local?Oi:Pi)(s,i,t))}function Li(o,t){return function(s){this.setAttribute(o,t.call(this,s))}}function Hi(o,t){return function(s){this.setAttributeNS(o.space,o.local,t.call(this,s))}}function Xi(o,t){var s,i;function a(){var n=t.apply(this,arguments);return n!==i&&(s=(i=n)&&Hi(o,n)),s}return a._value=t,a}function zi(o,t){var s,i;function a(){var n=t.apply(this,arguments);return n!==i&&(s=(i=n)&&Li(o,n)),s}return a._value=t,a}function Bi(o,t){var s="attr."+o;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;var i=Dt(o);return this.tween(s,(i.local?Xi:zi)(i,t))}function Yi(o,t){return function(){fn(this,o).delay=+t.apply(this,arguments)}}function Wi(o,t){return t=+t,function(){fn(this,o).delay=t}}function Ui(o){var t=this._id;return arguments.length?this.each((typeof o=="function"?Yi:Wi)(t,o)):L(this.node(),t).delay}function Gi(o,t){return function(){U(this,o).duration=+t.apply(this,arguments)}}function Ki(o,t){return t=+t,function(){U(this,o).duration=t}}function Zi(o){var t=this._id;return arguments.length?this.each((typeof o=="function"?Gi:Ki)(t,o)):L(this.node(),t).duration}function Qi(o,t){if(typeof t!="function")throw new Error;return function(){U(this,o).ease=t}}function Ji(o){var t=this._id;return arguments.length?this.each(Qi(t,o)):L(this.node(),t).ease}function ji(o,t){return function(){var s=t.apply(this,arguments);if(typeof s!="function")throw new Error;U(this,o).ease=s}}function ta(o){if(typeof o!="function")throw new Error;return this.each(ji(this._id,o))}function na(o){typeof o!="function"&&(o=Vn(o));for(var t=this._groups,s=t.length,i=new Array(s),a=0;a<s;++a)for(var n=t[a],r=n.length,l=i[a]=[],d,c=0;c<r;++c)(d=n[c])&&o.call(d,d.__data__,c,n)&&l.push(d);return new Z(i,this._parents,this._name,this._id)}function ea(o){if(o._id!==this._id)throw new Error;for(var t=this._groups,s=o._groups,i=t.length,a=s.length,n=Math.min(i,a),r=new Array(i),l=0;l<n;++l)for(var d=t[l],c=s[l],_=d.length,m=r[l]=new Array(_),p,f=0;f<_;++f)(p=d[f]||c[f])&&(m[f]=p);for(;l<i;++l)r[l]=t[l];return new Z(r,this._parents,this._name,this._id)}function ra(o){return(o+"").trim().split(/^|\s+/).every(function(t){var s=t.indexOf(".");return s>=0&&(t=t.slice(0,s)),!t||t==="start"})}function ia(o,t,s){var i,a,n=ra(t)?fn:U;return function(){var r=n(this,o),l=r.on;l!==i&&(a=(i=l).copy()).on(t,s),r.on=a}}function aa(o,t){var s=this._id;return arguments.length<2?L(this.node(),s).on.on(o):this.each(ia(s,o,t))}function oa(o){return function(){var t=this.parentNode;for(var s in this.__transition)if(+s!==o)return;t&&t.removeChild(this)}}function sa(){return this.on("end.remove",oa(this._id))}function ua(o){var t=this._name,s=this._id;typeof o!="function"&&(o=an(o));for(var i=this._groups,a=i.length,n=new Array(a),r=0;r<a;++r)for(var l=i[r],d=l.length,c=n[r]=new Array(d),_,m,p=0;p<d;++p)(_=l[p])&&(m=o.call(_,_.__data__,p,l))&&("__data__"in _&&(m.__data__=_.__data__),c[p]=m,Lt(c[p],t,s,p,c,L(_,s)));return new Z(n,this._parents,t,s)}function la(o){var t=this._name,s=this._id;typeof o!="function"&&(o=On(o));for(var i=this._groups,a=i.length,n=[],r=[],l=0;l<a;++l)for(var d=i[l],c=d.length,_,m=0;m<c;++m)if(_=d[m]){for(var p=o.call(_,_.__data__,m,d),f,k=L(_,s),b=0,v=p.length;b<v;++b)(f=p[b])&&Lt(f,t,s,b,p,k);n.push(p),r.push(_)}return new Z(n,r,t,s)}var fa=mt.prototype.constructor;function ca(){return new fa(this._groups,this._parents)}function ha(o,t){var s,i,a;return function(){var n=lt(this,o),r=(this.style.removeProperty(o),lt(this,o));return n===r?null:n===s&&r===i?a:a=t(s=n,i=r)}}function ie(o){return function(){this.style.removeProperty(o)}}function da(o,t,s){var i,a=s+"",n;return function(){var r=lt(this,o);return r===a?null:r===i?n:n=t(i=r,s)}}function pa(o,t,s){var i,a,n;return function(){var r=lt(this,o),l=s(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(o),lt(this,o))),r===d?null:r===i&&d===a?n:(a=d,n=t(i=r,l))}}function ga(o,t){var s,i,a,n="style."+t,r="end."+n,l;return function(){var d=U(this,o),c=d.on,_=d.value[n]==null?l||(l=ie(t)):void 0;(c!==s||a!==_)&&(i=(s=c).copy()).on(r,a=_),d.on=i}}function ya(o,t,s){var i=(o+="")=="transform"?mi:re$1;return t==null?this.styleTween(o,ha(o,i)).on("end.style."+o,ie(o)):typeof t=="function"?this.styleTween(o,pa(o,i,cn(this,"style."+o,t))).each(ga(this._id,o)):this.styleTween(o,da(o,i,t),s).on("end.style."+o,null)}function _a(o,t,s){return function(i){this.style.setProperty(o,t.call(this,i),s)}}function va(o,t,s){var i,a;function n(){var r=t.apply(this,arguments);return r!==a&&(i=(a=r)&&_a(o,r,s)),i}return n._value=t,n}function ma(o,t,s){var i="style."+(o+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,va(o,t,s??""))}function xa(o){return function(){this.textContent=o}}function wa(o){return function(){var t=o(this);this.textContent=t??""}}function Aa(o){return this.tween("text",typeof o=="function"?wa(cn(this,"text",o)):xa(o==null?"":o+""))}function ba(o){return function(t){this.textContent=o.call(this,t)}}function $a(o){var t,s;function i(){var a=o.apply(this,arguments);return a!==s&&(t=(s=a)&&ba(a)),t}return i._value=o,i}function Na(o){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(o==null)return this.tween(t,null);if(typeof o!="function")throw new Error;return this.tween(t,$a(o))}function Ma(){for(var o=this._name,t=this._id,s=ae(),i=this._groups,a=i.length,n=0;n<a;++n)for(var r=i[n],l=r.length,d,c=0;c<l;++c)if(d=r[c]){var _=L(d,t);Lt(d,o,s,c,r,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Z(i,this._parents,o,s)}function ka(){var o,t,s=this,i=s._id,a=s.size();return new Promise(function(n,r){var l={value:r},d={value:function(){--a===0&&n()}};s.each(function(){var c=U(this,i),_=c.on;_!==o&&(t=(o=_).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),c.on=t}),a===0&&n()})}var Sa=0;function Z(o,t,s,i){this._groups=o,this._parents=t,this._name=s,this._id=i}function ae(){return++Sa}var K$1=mt.prototype;Z.prototype={constructor:Z,select:ua,selectAll:la,selectChild:K$1.selectChild,selectChildren:K$1.selectChildren,filter:na,merge:ea,selection:ca,transition:Ma,call:K$1.call,nodes:K$1.nodes,node:K$1.node,size:K$1.size,empty:K$1.empty,each:K$1.each,on:aa,attr:qi,attrTween:Bi,style:ya,styleTween:ma,text:Aa,textTween:Na,remove:sa,tween:Ri,delay:Ui,duration:Zi,ease:Ji,easeVarying:ta,end:ka,[Symbol.iterator]:K$1[Symbol.iterator]};function Ea(o){return((o*=2)<=1?o*o*o:(o-=2)*o*o+2)/2}var hn=1.70158;(function o(t){t=+t;function s(i){return(i=+i)*i*(t*(i-1)+i)}return s.overshoot=o,s})(hn);var Ta=function o(t){t=+t;function s(i){return--i*i*((i+1)*t+i)+1}return s.overshoot=o,s}(hn);(function o(t){t=+t;function s(i){return((i*=2)<1?i*i*((t+1)*i-t):(i-=2)*i*((t+1)*i+t)+2)/2}return s.overshoot=o,s})(hn);var Ca={time:null,delay:0,duration:250,ease:Ea};function Ra(o,t){for(var s;!(s=o.__transition)||!(s=s[t]);)if(!(o=o.parentNode))throw new Error(`transition ${t} not found`);return s}function Ia(o){var t,s;o instanceof Z?(t=o._id,o=o._name):(t=ae(),(s=Ca).time=ln(),o=o==null?null:o+"");for(var i=this._groups,a=i.length,n=0;n<a;++n)for(var r=i[n],l=r.length,d,c=0;c<l;++c)(d=r[c])&&Lt(d,o,t,c,r,s||Ra(d,t));return new Z(i,this._parents,o,t)}mt.prototype.interrupt=Ei;mt.prototype.transition=Ia;const nn=Math.PI,en=2*nn,tt=1e-6,Fa=en-tt;function rn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function oe(){return new rn}rn.prototype=oe.prototype={constructor:rn,moveTo:function(o,t){this._+="M"+(this._x0=this._x1=+o)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(o,t){this._+="L"+(this._x1=+o)+","+(this._y1=+t)},quadraticCurveTo:function(o,t,s,i){this._+="Q"+ +o+","+ +t+","+(this._x1=+s)+","+(this._y1=+i)},bezierCurveTo:function(o,t,s,i,a,n){this._+="C"+ +o+","+ +t+","+ +s+","+ +i+","+(this._x1=+a)+","+(this._y1=+n)},arcTo:function(o,t,s,i,a){o=+o,t=+t,s=+s,i=+i,a=+a;var n=this._x1,r=this._y1,l=s-o,d=i-t,c=n-o,_=r-t,m=c*c+_*_;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=o)+","+(this._y1=t);else if(m>tt)if(!(Math.abs(_*l-d*c)>tt)||!a)this._+="L"+(this._x1=o)+","+(this._y1=t);else{var p=s-n,f=i-r,k=l*l+d*d,b=p*p+f*f,v=Math.sqrt(k),N=Math.sqrt(m),T=a*Math.tan((nn-Math.acos((k+m-b)/(2*v*N)))/2),M=T/N,D=T/v;Math.abs(M-1)>tt&&(this._+="L"+(o+M*c)+","+(t+M*_)),this._+="A"+a+","+a+",0,0,"+ +(_*p>c*f)+","+(this._x1=o+D*l)+","+(this._y1=t+D*d)}},arc:function(o,t,s,i,a,n){o=+o,t=+t,s=+s,n=!!n;var r=s*Math.cos(i),l=s*Math.sin(i),d=o+r,c=t+l,_=1^n,m=n?i-a:a-i;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+d+","+c:(Math.abs(this._x1-d)>tt||Math.abs(this._y1-c)>tt)&&(this._+="L"+d+","+c),s&&(m<0&&(m=m%en+en),m>Fa?this._+="A"+s+","+s+",0,1,"+_+","+(o-r)+","+(t-l)+"A"+s+","+s+",0,1,"+_+","+(this._x1=d)+","+(this._y1=c):m>tt&&(this._+="A"+s+","+s+",0,"+ +(m>=nn)+","+_+","+(this._x1=o+s*Math.cos(a))+","+(this._y1=t+s*Math.sin(a))))},rect:function(o,t,s,i){this._+="M"+(this._x0=this._x1=+o)+","+(this._y0=this._y1=+t)+"h"+ +s+"v"+ +i+"h"+-s+"Z"},toString:function(){return this._}};function E(o){return function(){return o}}const Rn=Math.abs,S=Math.atan2,j=Math.cos,Pa=Math.max,Ut=Math.min,B=Math.sin,ot=Math.sqrt,C=1e-12,vt=Math.PI,Vt=vt/2,St=2*vt;function Oa(o){return o>1?0:o<-1?vt:Math.acos(o)}function In(o){return o>=1?Vt:o<=-1?-Vt:Math.asin(o)}function Va(o){return o.innerRadius}function Da(o){return o.outerRadius}function qa(o){return o.startAngle}function La(o){return o.endAngle}function Ha(o){return o&&o.padAngle}function Xa(o,t,s,i,a,n,r,l){var d=s-o,c=i-t,_=r-a,m=l-n,p=m*d-_*c;if(!(p*p<C))return p=(_*(t-n)-m*(o-a))/p,[o+p*d,t+p*c]}function $t(o,t,s,i,a,n,r){var l=o-s,d=t-i,c=(r?n:-n)/ot(l*l+d*d),_=c*d,m=-c*l,p=o+_,f=t+m,k=s+_,b=i+m,v=(p+k)/2,N=(f+b)/2,T=k-p,M=b-f,D=T*T+M*M,G=a-n,le=p*b-k*f,ao=(M<0?-1:1)*ot(Pa(0,G*G*D-le*le)),lo=(le*M-T*ao)/D,co=(-le*T-M*ao)/D,ho=(le*M+T*ao)/D,Bt=(-le*T+M*ao)/D,ce=lo-v,A=co-N,de=ho-v,_o=Bt-N;return ce*ce+A*A>de*de+_o*_o&&(lo=ho,co=Bt),{cx:lo,cy:co,x01:-_,y01:-m,x11:lo*(a/G-1),y11:co*(a/G-1)}}function za(){var o=Va,t=Da,s=E(0),i=null,a=qa,n=La,r=Ha,l=null;function d(){var c,_,m=+o.apply(this,arguments),p=+t.apply(this,arguments),f=a.apply(this,arguments)-Vt,k=n.apply(this,arguments)-Vt,b=Rn(k-f),v=k>f;if(l||(l=c=oe()),p<m&&(_=p,p=m,m=_),!(p>C))l.moveTo(0,0);else if(b>St-C)l.moveTo(p*j(f),p*B(f)),l.arc(0,0,p,f,k,!v),m>C&&(l.moveTo(m*j(k),m*B(k)),l.arc(0,0,m,k,f,v));else{var N=f,T=k,M=f,D=k,G=b,le=b,ao=r.apply(this,arguments)/2,lo=ao>C&&(i?+i.apply(this,arguments):ot(m*m+p*p)),co=Ut(Rn(p-m)/2,+s.apply(this,arguments)),ho=co,Bt=co,ce,A;if(lo>C){var de=In(lo/m*B(ao)),_o=In(lo/p*B(ao));(G-=de*2)>C?(de*=v?1:-1,M+=de,D-=de):(G=0,M=D=(f+k)/2),(le-=_o*2)>C?(_o*=v?1:-1,N+=_o,T-=_o):(le=0,N=T=(f+k)/2)}var bo=p*j(N),vo=p*B(N),Vo=m*j(D),mo=m*B(D);if(co>C){var Po=p*j(T),wo=p*B(T),Do=m*j(M),Mo=m*B(M),So;if(b<vt&&(So=Xa(bo,vo,Do,Mo,Po,wo,Vo,mo))){var z=bo-So[0],Ht=vo-So[1],fe=Po-So[0],eo=wo-So[1],po=1/B(Oa((z*fe+Ht*eo)/(ot(z*z+Ht*Ht)*ot(fe*fe+eo*eo)))/2),yo=ot(So[0]*So[0]+So[1]*So[1]);ho=Ut(co,(m-yo)/(po-1)),Bt=Ut(co,(p-yo)/(po+1))}}le>C?Bt>C?(ce=$t(Do,Mo,bo,vo,p,Bt,v),A=$t(Po,wo,Vo,mo,p,Bt,v),l.moveTo(ce.cx+ce.x01,ce.cy+ce.y01),Bt<co?l.arc(ce.cx,ce.cy,Bt,S(ce.y01,ce.x01),S(A.y01,A.x01),!v):(l.arc(ce.cx,ce.cy,Bt,S(ce.y01,ce.x01),S(ce.y11,ce.x11),!v),l.arc(0,0,p,S(ce.cy+ce.y11,ce.cx+ce.x11),S(A.cy+A.y11,A.cx+A.x11),!v),l.arc(A.cx,A.cy,Bt,S(A.y11,A.x11),S(A.y01,A.x01),!v))):(l.moveTo(bo,vo),l.arc(0,0,p,N,T,!v)):l.moveTo(bo,vo),!(m>C)||!(G>C)?l.lineTo(Vo,mo):ho>C?(ce=$t(Vo,mo,Po,wo,m,-ho,v),A=$t(bo,vo,Do,Mo,m,-ho,v),l.lineTo(ce.cx+ce.x01,ce.cy+ce.y01),ho<co?l.arc(ce.cx,ce.cy,ho,S(ce.y01,ce.x01),S(A.y01,A.x01),!v):(l.arc(ce.cx,ce.cy,ho,S(ce.y01,ce.x01),S(ce.y11,ce.x11),!v),l.arc(0,0,m,S(ce.cy+ce.y11,ce.cx+ce.x11),S(A.cy+A.y11,A.cx+A.x11),v),l.arc(A.cx,A.cy,ho,S(A.y11,A.x11),S(A.y01,A.x01),!v))):l.arc(0,0,m,D,M,v)}if(l.closePath(),c)return l=null,c+""||null}return d.centroid=function(){var c=(+o.apply(this,arguments)+ +t.apply(this,arguments))/2,_=(+a.apply(this,arguments)+ +n.apply(this,arguments))/2-vt/2;return[j(_)*c,B(_)*c]},d.innerRadius=function(c){return arguments.length?(o=typeof c=="function"?c:E(+c),d):o},d.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:E(+c),d):t},d.cornerRadius=function(c){return arguments.length?(s=typeof c=="function"?c:E(+c),d):s},d.padRadius=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:E(+c),d):i},d.startAngle=function(c){return arguments.length?(a=typeof c=="function"?c:E(+c),d):a},d.endAngle=function(c){return arguments.length?(n=typeof c=="function"?c:E(+c),d):n},d.padAngle=function(c){return arguments.length?(r=typeof c=="function"?c:E(+c),d):r},d.context=function(c){return arguments.length?(l=c??null,d):l},d}function Ba(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function Ya(o,t){return t<o?-1:t>o?1:t>=o?0:NaN}function Wa(o){return o}function Ua(){var o=Wa,t=Ya,s=null,i=E(0),a=E(St),n=E(0);function r(l){var d,c=(l=Ba(l)).length,_,m,p=0,f=new Array(c),k=new Array(c),b=+i.apply(this,arguments),v=Math.min(St,Math.max(-St,a.apply(this,arguments)-b)),N,T=Math.min(Math.abs(v)/c,n.apply(this,arguments)),M=T*(v<0?-1:1),D;for(d=0;d<c;++d)(D=k[f[d]=d]=+o(l[d],d,l))>0&&(p+=D);for(t!=null?f.sort(function(G,le){return t(k[G],k[le])}):s!=null&&f.sort(function(G,le){return s(l[G],l[le])}),d=0,m=p?(v-c*M)/p:0;d<c;++d,b=N)_=f[d],D=k[_],N=b+(D>0?D*m:0)+M,k[_]={data:l[_],index:d,value:D,startAngle:b,endAngle:N,padAngle:T};return k}return r.value=function(l){return arguments.length?(o=typeof l=="function"?l:E(+l),r):o},r.sortValues=function(l){return arguments.length?(t=l,s=null,r):t},r.sort=function(l){return arguments.length?(s=l,t=null,r):s},r.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:E(+l),r):i},r.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:E(+l),r):a},r.padAngle=function(l){return arguments.length?(n=typeof l=="function"?l:E(+l),r):n},r}function st(o,t,s){this.k=o,this.x=t,this.y=s}st.prototype={constructor:st,scale:function(o){return o===1?this:new st(this.k*o,this.x,this.y)},translate:function(o,t){return o===0&t===0?this:new st(this.k,this.x+this.k*o,this.y+this.k*t)},apply:function(o){return[o[0]*this.k+this.x,o[1]*this.k+this.y]},applyX:function(o){return o*this.k+this.x},applyY:function(o){return o*this.k+this.y},invert:function(o){return[(o[0]-this.x)/this.k,(o[1]-this.y)/this.k]},invertX:function(o){return(o-this.x)/this.k},invertY:function(o){return(o-this.y)/this.k},rescaleX:function(o){return o.copy().domain(o.range().map(this.invertX,this).map(o.invert,o))},rescaleY:function(o){return o.copy().domain(o.range().map(this.invertY,this).map(o.invert,o))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};st.prototype;const Ka=defineComponent({__name:"Wheel",props:{animDuration:{type:Number,default:6e3},modelValue:{type:Object,default:()=>({}),validator:o=>o.length<=8},gift:{type:Number,default:0},imgParams:{type:Object,default:()=>({})}},emits:["done"],setup(o,{expose:t,emit:s}){const i=o,a=ref(null),n=ref(!1),r=ref(),l=ref(null),d=ref(0),c=ref(0),_=ref({width:600,height:600}),m=ref(20),p=ref(),f=ref(null),k=computed(()=>({width:`${b.value.width}px`,height:`${b.value.height}px`})),b=computed(()=>{const A=window.innerWidth,de=Math.min(A,_.value.width)-m.value,_o=Math.min(A,_.value.width)+120;return{width:de,height:_o}});let v=It(0,0);const N=()=>{p.value=vn("#wheel").append("svg").attr("font-size","16px").attr("height","100%").attr("width","100%").attr("viewBox",`0 0 ${b.value.width+m.value*2} ${b.value.height}`).data([i.modelValue]).append("g").attr("class","wrapper").attr("transform",`translate(${(b.value.width+m.value*2)/2}, ${b.value.height/2})`)},T=()=>{const A=p.value.append("defs").append("filter").attr("id","shadow").attr("x","-100%").attr("y","-100%").attr("width","550%").attr("height","550%");A.append("feOffset").attr("in","SourceAlpha").attr("dx",0).attr("dy",0).attr("result","offsetOut"),A.append("feGaussianBlur").attr("stdDeviation","9").attr("in","offsetOut").attr("result","drop"),A.append("feColorMatrix").attr("in","drop").attr("result","color-out").attr("type","matrix").attr("values",`0 0 0 0   0
          0 0 0 0   0
          0 0 0 0   0
          0 0 0 .3 0
        `),A.append("feBlend").attr("in","SourceGraphic").attr("in2","color-out").attr("mode","normal")},M=()=>{r.value=p.value.append("g").attr("class","wheelholder"),f.value=r.value.append("g"),l.value=Ua().value(()=>1).padAngle(.01).sort(null)},D=()=>{const A=za().outerRadius(d.value).innerRadius(0);f.value.selectAll(".middleArcText").data(l.value(i.modelValue)).enter().append("path").attr("class","slice").attr("d",A).attr("stroke","#000000").attr("stroke-width","3").attr("fill",(de,_o)=>de.data.bgColor).each(function(de,_o){let bo=/(^.+?)L/.exec(vn(this).attr("d"))[1].replace(/,/g," ");if(de.endAngle>90*Math.PI/180){const vo=/M(.*?)A/,Vo=/A(.*?)0 0 1/,mo=/0 0 1 (.*?)$/.exec(bo)[1],Po=vo.exec(bo)[1],wo=Vo.exec(bo)[1];bo=`M${mo}A${wo}0 0 0${Po}`}f.value.append("path").attr("class","hiddenarcs").attr("id","middleArc"+_o).attr("d",bo).style("fill","none")})},G=()=>{f.value.selectAll(".middleArcText").data(l.value(i.modelValue)).enter().append("text").attr("class","middleArcText").attr("dy",A=>A.endAngle>90*Math.PI/180?-35:42).append("textPath").attr("startOffset","50%").attr("text-anchor","middle").attr("fill",(A,de)=>A.data.value.color).attr("xlink:href",(A,de)=>"#middleArc"+de).text(A=>A.data.value)},le=()=>{r.value.append("circle").attr("cx",0).attr("cy",0).attr("r",d.value/2.5).attr("fill","#ffffff").attr("filter","url(#shadow)").attr("stroke-width",4).attr("stroke","#000000")},ao=()=>{r.value.append("g").append("circle").attr("cx",0).attr("cy",0).attr("r",(b.value.width-4)/2).attr("fill","transparent").attr("stroke-width","8").attr("filter","url(#shadow)").attr("stroke","#ffffff")},lo=()=>{const{width:A,height:de,src:_o}=i.imgParams;r.value.append("svg:image").attr("x",`-${A/2}`).attr("y",`-${A/2}`).attr("width",A).attr("height",de).attr("xlink:href",_o)},co=()=>{const A="M95.3,9.8c-16.5,0-23.7,15.6-21.9,27c3.4,21.7,21.9,42.2,21.9,42.2s18.5-20.5,21.9-42.2 C118.9,25.4,111.8,9.8,95.3,9.8z";r.value&&(a.value=r.value.append("g").append("path").attr("d",A).attr("transform","translate(-20, -300)").attr("stroke","#ffffff").attr("fill","#FFFFFF").attr("filter","url(#shadow)").attr("transform",`matrix(1, 0, 0, 1, -95, -${b.value.height/2-m.value})`).attr("stroke-linejoin","round").attr("stroke-width","4"))},ho=A=>i.modelValue.findIndex(de=>de.id===A)+1,Bt=()=>A=>`rotate(${v(A)})`,ce=()=>{N(),T(),M(),D(),G(),le(),ao(),i.imgParams&&lo(),co()};return t({spin:async()=>{if(!n.value){n.value=!0;const A=ho(i.gift),de=i.modelValue.length,_o=360/de,bo=360-_o*(A-1),vo=360*5,Vo=bo+vo;c.value=Math.round(Vo/_o)*_o;let mo=Math.round(de-c.value%360/_o);mo=mo>=de?mo%de:mo;const Po=_o+_o/2;c.value+=Po-Math.round(_o*2),v=It(0,c.value),await(()=>f.value.transition().duration(i.animDuration).ease(Ta.overshoot(.3)).attrTween("transform",Bt).end())(),n.value=!1,s("done",i.modelValue[mo])}}}),onMounted(()=>{d.value=Math.min(b.value.width,b.value.height)/2,ce()}),(A,de)=>(openBlock(),createElementBlock("div",{id:"wheel",class:normalizeClass(["wheel",`wheel_font-size--${o.modelValue.length}`]),style:normalizeStyle(unref(k))},null,6))}}),_sfc_main$1i={props:["modelValue","canPlay","actionData","isAdmin","interval"],computed:{preparedInterval(){if(!this.interval)return"24 часа";switch(this.interval){default:case 1:return"одного дня";case 7:return"7 дней";case 30:return"одного месяца"}},enabledToPlay(){return this.isAdmin?!0:!this.started&&this.canPlay}},data(){return{loaded:!0,selected_prize:null,started:!1,completed_at:null,gift:0,form:{win:null},logo:{src:"/wheel.png",width:120,height:120},settings:[{id:1,value:"🍅",bgColor:"#fac600",color:"#ffffff"},{id:2,value:"🍲",bgColor:"#ffffff",color:"#000000"},{id:3,value:"🍦",bgColor:"#ff2e55",color:"#ffffff"},{id:4,value:"😍",bgColor:"#a1043a",color:"#ffffff"},{id:5,value:"☕",bgColor:"#ffffff",color:"#000000"},{id:6,value:"🍕",bgColor:"#c92729",color:"#ffffff"},{id:7,value:"📲",bgColor:"#ffffff",color:"#000000"},{id:8,value:"📌",bgColor:"#c92729",color:"#ffffff"},{id:9,value:"🚀",bgColor:"#c92729",color:"#ffffff"}]}},mounted(){this.loaded=!1,this.$nextTick(()=>{this.settings=this.modelValue,this.actionData&&(this.form.win=(this.actionData.data||[]).length>0&&this.actionData.data[this.actionData.data.length-1]||null,this.completed_at=this.actionData.completed_at||null),this.loaded=!0})},methods:{selectPrize(o){this.selected_prize=this.settings[o]},done(o){this.form.win=o,this.isAdmin||this.$emit("win",this.form),this.$notify({title:"Колесо фортуны",text:"Поздравляем! Вы выиграли!",type:"success"}),this.completed_at=new Date,this.$nextTick(()=>{document.querySelector("#result").scrollIntoView()})},launchWheel(){if(!this.enabledToPlay)return;this.gift=Math.floor(Math.random()*this.settings.length)+1;let o=this.$refs.wheel;this.started=!0,o.spin()}},components:{Wheel:Ka}},WheelOfFortuneShopVariant_vue_vue_type_style_index_0_lang="",_hoisted_1$1j={class:"d-flex justify-content-center flex-wrap"},_hoisted_2$1i={class:"item-wrap p-1"},_hoisted_3$1h=["onClick"],_hoisted_4$1e={class:"card-body"},_hoisted_5$1d={class:"mb-2 text-center"},_hoisted_6$1d={class:"mb-2 fst-italic"},_hoisted_7$1b={class:"mb-0"},_hoisted_8$15={class:"fw-bold text-primary"},_hoisted_9$11={key:0,class:"wrap"},_hoisted_10$X={key:0,class:"start-panel"},_hoisted_11$T={key:1,class:"card",id:"result"},_hoisted_12$T={class:"card-body"},_hoisted_13$O={class:"text-center fw-bold"},_hoisted_14$M={key:0},_hoisted_15$L={key:1},_hoisted_16$M={class:"mb-2 text-center"},_hoisted_17$I={class:"mb-0 fst-italic"},_hoisted_18$I={key:0,class:"mb-0 mt-2"},_hoisted_19$G={class:"fw-bold text-primary"},_hoisted_20$G={key:1,class:"mb-2 p-0"},_hoisted_21$F={key:2,class:"mb-0"},_hoisted_22$F=createBaseVNode("span",{class:"fw-bold"},"Внимание!",-1),_hoisted_23$C={class:"fw-bold text-primary"},_hoisted_24$B={class:"fw-bold text-primary"};function _sfc_render$q(o,t,s,i,a,n){const r=resolveComponent("Wheel");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1j,[a.selected_prize?(openBlock(),createElementBlock("div",{key:1,class:"card w-100",onClick:t[0]||(t[0]=l=>a.selected_prize=null)},[createBaseVNode("div",_hoisted_4$1e,[createBaseVNode("h6",_hoisted_5$1d,toDisplayString(a.selected_prize.value||"-")+" (#"+toDisplayString(a.selected_prize.id)+")",1),createBaseVNode("p",_hoisted_6$1d,toDisplayString(a.selected_prize.description||"не указно"),1),createBaseVNode("p",_hoisted_7$1b,[createTextVNode("Способ получения: "),createBaseVNode("span",_hoisted_8$15,toDisplayString(a.selected_prize.mark||"не указано"),1)])])])):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.settings,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_2$1i,[createBaseVNode("span",{onClick:c=>n.selectPrize(d),class:"btn btn-outline-light"},toDisplayString(l.value),9,_hoisted_3$1h)]))),256))]),a.loaded?(openBlock(),createElementBlock("div",_hoisted_9$11,[createVNode(r,{gift:a.gift,imgParams:a.logo,onDone:n.done,ref:"wheel",modelValue:a.settings,"onUpdate:modelValue":t[1]||(t[1]=l=>a.settings=l)},null,8,["gift","imgParams","onDone","modelValue"]),n.enabledToPlay?(openBlock(),createElementBlock("div",_hoisted_10$X,[createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=(...l)=>n.launchWheel&&n.launchWheel(...l)),class:"btn btn-outline-primary bg-white border-5 text-black w-100 h-100 rounded-circle"},"Нажми старт ")])):createCommentVNode("",!0)])):createCommentVNode("",!0),a.form.win?(openBlock(),createElementBlock("div",_hoisted_11$T,[createBaseVNode("div",_hoisted_12$T,[createBaseVNode("h6",_hoisted_13$O,[a.completed_at?(openBlock(),createElementBlock("span",_hoisted_14$M,"Ваш текущий выигрыш")):(openBlock(),createElementBlock("span",_hoisted_15$L,"Ваш прошлый выигрыш"))]),createBaseVNode("h6",_hoisted_16$M,toDisplayString(a.form.win.value||a.form.win.id||"-")+" (#"+toDisplayString(a.form.win.id)+")",1),createBaseVNode("p",_hoisted_17$I,toDisplayString(a.form.win.description||"не указно"),1),a.completed_at?(openBlock(),createElementBlock("p",_hoisted_18$I,[createTextVNode("Вы сможете получить приз: "),createBaseVNode("span",_hoisted_19$G,toDisplayString(a.form.win.mark||"не указано"),1)])):createCommentVNode("",!0),a.completed_at?(openBlock(),createElementBlock("hr",_hoisted_20$G)):createCommentVNode("",!0),a.completed_at?(openBlock(),createElementBlock("p",_hoisted_21$F,[_hoisted_22$F,createTextVNode(" Приз возможно получить только течении "),createBaseVNode("span",_hoisted_23$C,toDisplayString(n.preparedInterval),1),createTextVNode(" с момента выигрыша: "),createBaseVNode("span",_hoisted_24$B,toDisplayString(o.$filters.currentFull(a.completed_at)),1)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)],64)}const WheelOfFortuneShopVariant=_export_sfc(_sfc_main$1i,[["render",_sfc_render$q]]),_sfc_main$1h={props:["modelValue","maxlength","params","required"],computed:{uuid(){return v4()}},data(){return{message:null,selection:{start:0},settings:[{title:"Имя пользователя",key:"{{name}}"},{title:"Домен аккаунта",key:"{{username}}"},{title:"Номер телефона",key:"{{phone}}"},{title:"Название приза",key:"{{prize}}"}]}},watch:{message:{handler:function(o){this.$emit("update:modelValue",this.message)},deep:!0}},mounted(){this.$nextTick(()=>{this.message=this.modelValue,this.params&&(this.settings=this.params)})},methods:{insert(o){let t=document.querySelector("#script-settings-text"+this.uuid).selectionStart||0,s=this.message;this.message=s.slice(0,t)+"<b>"+o+"</b>"+s.slice(t)},addCommand(o){this.message||(this.message=""),this.insert(o.key)}}},_hoisted_1$1i={class:"alert alert-light mb-2"},_hoisted_2$1h={class:"dropdown d-inline"},_hoisted_3$1g=createBaseVNode("button",{class:"text-primary btn btn-link p-0",style:{"font-size":"14px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_4$1d={class:"dropdown-menu"},_hoisted_5$1c=["onClick"],_hoisted_6$1c={class:"form-floating"},_hoisted_7$1a=["maxlength","required","id"],_hoisted_8$14=["for"],_hoisted_9$10={key:0};function _sfc_render$p(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$1i,[createTextVNode(" Данное сообщение может содержать параметры для отображения: "),createBaseVNode("div",_hoisted_2$1h,[_hoisted_3$1g,createBaseVNode("ul",_hoisted_4$1d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.settings,r=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{onClick:l=>n.addCommand(r),class:"dropdown-item",href:"javascript:void(0)"},toDisplayString(r.title||"Не указано"),9,_hoisted_5$1c)]))),256))])])]),createBaseVNode("div",_hoisted_6$1c,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=r=>a.message=r),maxlength:s.maxlength||"4000",style:{"min-height":"150px"},required:s.required||!1,placeholder:"Leave a comment here",id:"script-settings-text"+n.uuid},null,8,_hoisted_7$1a),[[vModelText,a.message]]),createBaseVNode("label",{for:"script-settings-text"+n.uuid},[renderSlot(o.$slots,"title"),(a.message||"").length>0?(openBlock(),createElementBlock("span",_hoisted_9$10,toDisplayString((a.message||"").length)+"/"+toDisplayString(s.maxlength||4e3),1)):createCommentVNode("",!0)],8,_hoisted_8$14)])])}const ParametrizedTextArea=_export_sfc(_sfc_main$1h,[["render",_sfc_render$p]]),_hoisted_1$1h={key:0},_hoisted_2$1g={class:"form-check form-switch mb-2"},_hoisted_3$1f={class:"form-check-label",for:"script-settings-wheel-of-fortune-can_play"},_hoisted_4$1c={class:"alert alert-light mb-2"},_hoisted_5$1b=["onClick"],_hoisted_6$1b={class:"form-floating mb-2"},_hoisted_7$19=["value"],_hoisted_8$13=createBaseVNode("label",{for:"interval"},"Период обновления",-1),_hoisted_9$$={class:"form-floating mb-2"},_hoisted_10$W={for:"script-settings-disabled_text"},_hoisted_11$S={key:0},_hoisted_12$S={class:"alert alert-light mb-2"},_hoisted_13$N=createBaseVNode("span",{class:"fw-bold text-primary"},"10",-1),_hoisted_14$L={class:"fw-bold text-primary"},_hoisted_15$K=createBaseVNode("strong",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_16$L={class:"accordion accordion-flush",id:"wheel_of_fortune"},_hoisted_17$H={class:"accordion-item"},_hoisted_18$H={class:"accordion-header"},_hoisted_19$F=["data-bs-target","aria-controls"],_hoisted_20$F=["id"],_hoisted_21$E={class:"input-group my-2"},_hoisted_22$E={class:"form-floating"},_hoisted_23$B=["onUpdate:modelValue"],_hoisted_24$A=createBaseVNode("label",{for:"floatingInput"},"Телеграм-эмодзи",-1),_hoisted_25$z={class:"dropdown"},_hoisted_26$x=createBaseVNode("button",{class:"btn btn-outline-light text-primary w-100 h-100 rounded-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-regular fa-face-smile-beam"})],-1),_hoisted_27$v={class:"dropdown-menu p-0",style:{width:"300px"}},_hoisted_28$u={class:"row row-cols-5 w-100 p-2"},_hoisted_29$s={class:"col mb-2"},_hoisted_30$r=["onClick"],_hoisted_31$r={class:"form-floating mb-2"},_hoisted_32$q=["onUpdate:modelValue","id"],_hoisted_33$q=["for"],_hoisted_34$q={class:"form-floating mb-2"},_hoisted_35$q=["onUpdate:modelValue","id"],_hoisted_36$q=["for"],_hoisted_37$q={class:"alert-light alert mb-2"},_hoisted_38$n=["onClick"],_hoisted_39$n=["onClick"],_hoisted_40$l={class:"form-floating my-2"},_hoisted_41$l=["onUpdate:modelValue","name","id"],_hoisted_42$l=["for"],_hoisted_43$l=["onClick"],_hoisted_44$l=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_45$l={class:"form-check form-switch my-2"},_hoisted_46$l=createBaseVNode("label",{class:"form-check-label",for:"need_auto_random_smiles"},"Добавлять смайл случайным образом",-1),_hoisted_47$k=["disabled"],_hoisted_48$j={class:"alert alert-light mb-2"},_hoisted_49$j=createBaseVNode("p",null,"Демонстрация заполнения",-1),__default__$S={props:["modelValue"],data(){return{loaded:!0,loaded_params:!1,need_auto_random_smiles:!0,smiles:["🥤","🥗","🍔","🍗","🍟","🥓","🌯","🍱","🍜","🍲","🍧","🍨","🧁","🥞","🤖","🎲","🎯","😊","😎","🌻","👽","💌","📚","🐶","👻","🏀","👓","🎓","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","💡","🚀","⭐","💎","☘","🏆","🎁"],intervals:[{title:"Один день",value:1},{title:"Одна неделя",value:7},{title:"Один месяц",value:30}],form:{win_message:null,interval:1,wheel_of_fortune:{can_play:!0,rules:"Колесо фортуны доступно 1 раз в сутки. В качестве приза вы можете выиграть 1 из предложенных призов и воспользоваться ими в заведении или на доставке:) Приятного отдыха!",items:[{id:1,value:"🍅",bgColor:"#fac600",color:"#ffffff",mark:"в заведении",description:null},{id:2,value:"🍲",bgColor:"#ffffff",color:"#000000",mark:"в заведении & на доставке",description:null},{id:3,value:"🍦",bgColor:"#ff2e55",color:"#ffffff",description:null,mark:"на доставке"},{id:4,value:"🍓",bgColor:"#a1043a",color:"#ffffff",description:null,mark:"в заведении"},{id:5,value:"☕",bgColor:"#ffffff",color:"#000000",description:null,mark:"в заведении"},{id:6,value:"🍕",bgColor:"#c92729",color:"#ffffff",description:null,mark:"на доставке"},{id:7,value:"⭐",bgColor:"#ffffff",color:"#000000",description:null,mark:"в заведении & на доставке"},{id:8,value:"🎁",bgColor:"#c92729",color:"#ffffff",description:null,mark:"в заведении & на доставке"},{id:9,value:"🚀",bgColor:"#ffffff",color:"#ffffff",description:null,mark:"в заведении & на доставке"}]}}}},watch:{"form.wheel_of_fortune.items":{handler:function(o){this.loaded=!1,this.$nextTick(()=>{this.loaded=!0})},deep:!0},form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.loaded_params=!0,this.loaded=!0})},methods:{removeSector(o){this.form.wheel_of_fortune.items.splice(o,1);let t=1;this.form.wheel_of_fortune.items.forEach(s=>{s.id=t,t++}),this.$notify({title:"Редактор",text:"Сектор успешно удален! Идентификаторы секторов пересчитаны",type:"success"})},attachMarkText(o,t){this.form.wheel_of_fortune.items[o].mark+=(this.form.wheel_of_fortune.items[o].mark||"").length===0?t:" & "+t},addSector(){(this.form.wheel_of_fortune.items||[]).length===0&&(this.form.wheel_of_fortune.items=[]);let o=(s,i)=>(s=Math.ceil(s),i=Math.floor(i),Math.floor(Math.random()*(i-s+1))+s),t=this.need_auto_random_smiles?this.smiles[o(0,this.smiles.length-1)]:this.form.wheel_of_fortune.items.length+1;this.form.wheel_of_fortune.items.length<10?(this.form.wheel_of_fortune.items.push({id:this.form.wheel_of_fortune.items.length+1,value:t,bgColor:((this.form.wheel_of_fortune.items||[]).length+1)%2===0?"#c92729":"#ffffff",color:"#ffffff",description:"Описание приза №"+(this.form.wheel_of_fortune.items.length+1),mark:"в заведении & на доставке"}),this.$notify({title:"Редактор",text:"Сектор успешно добавлен!",type:"success"})):this.$notify({title:"Редактор",text:"Достигнут лимит секторов!",type:"error"})},addSmile(o,t){this.form.wheel_of_fortune.items[o].value=t}}},_sfc_main$1g=Object.assign(__default__$S,{__name:"ShopWheelForm",setup(o){return(t,s)=>t.loaded_params?(openBlock(),createElementBlock("div",_hoisted_1$1h,[createBaseVNode("div",_hoisted_2$1g,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=i=>t.form.wheel_of_fortune.can_play=i),role:"switch",id:"script-settings-is_disabled"},null,512),[[vModelCheckbox,t.form.wheel_of_fortune.can_play]]),createBaseVNode("label",_hoisted_3$1f,[createTextVNode("Состояние колеса фортуны: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.wheel_of_fortune.can_play})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.wheel_of_fortune.can_play})},"выкл",2)])]),createBaseVNode("p",_hoisted_4$1c,[createTextVNode(" Выберите интервал автоматического обновления розыгрыша, доступны следующие варианты: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.intervals,i=>(openBlock(),createElementBlock("span",{class:normalizeClass(["text-primary",{"fw-bold":t.form.interval===i.value}]),onClick:a=>t.form.interval=i.value},toDisplayString(i.title||"-")+", ",11,_hoisted_5$1b))),256))]),createBaseVNode("div",_hoisted_6$1b,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=i=>t.form.interval=i),required:"",id:"interval","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.intervals,i=>(openBlock(),createElementBlock("option",{value:i.value},toDisplayString(i.title||"-"),9,_hoisted_7$19))),256))],512),[[vModelSelect,t.form.interval]]),_hoisted_8$13]),createBaseVNode("div",_hoisted_9$$,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=i=>t.form.wheel_of_fortune.rules=i),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play"},null,512),[[vModelText,t.form.wheel_of_fortune.rules]]),createBaseVNode("label",_hoisted_10$W,[createTextVNode("Правила колеса фортуны "),(t.form.wheel_of_fortune.rules||"").length>0?(openBlock(),createElementBlock("span",_hoisted_11$S,toDisplayString((t.form.wheel_of_fortune.rules||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createVNode(ParametrizedTextArea,{modelValue:t.form.win_message,"onUpdate:modelValue":s[3]||(s[3]=i=>t.form.win_message=i),maxlength:4e3,class:"mb-2"},{title:withCtx(()=>[createTextVNode(" Текст пользователю при выигрыше ")]),_:1},8,["modelValue"]),createBaseVNode("p",_hoisted_12$S,[createTextVNode("Редактирование призов, описания, отметки места получения приза, цвет сектора и цвет текста. Максимальное число секторов "),_hoisted_13$N,createTextVNode(", сейчас создано "),createBaseVNode("span",_hoisted_14$L,toDisplayString((t.form.wheel_of_fortune.items||[]).length),1),createTextVNode(" секторов. "),_hoisted_15$K,createTextVNode(" При удалении сектора идет пересчет его номера!")]),createBaseVNode("div",_hoisted_16$L,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.form.wheel_of_fortune.items,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_17$H,[createBaseVNode("h2",_hoisted_18$H,[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#wheel-sector-"+a,"aria-expanded":"false","aria-controls":"wheel-sector-"+a}," Сектор "+toDisplayString(i.value)+" #"+toDisplayString(i.id),9,_hoisted_19$F)]),createBaseVNode("div",{id:"wheel-sector-"+a,class:"accordion-collapse collapse","data-bs-parent":"#wheel_of_fortune"},[createBaseVNode("div",_hoisted_21$E,[createBaseVNode("div",_hoisted_22$E,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":n=>t.form.wheel_of_fortune.items[a].value=n,class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,8,_hoisted_23$B),[[vModelText,t.form.wheel_of_fortune.items[a].value]]),_hoisted_24$A]),createBaseVNode("div",_hoisted_25$z,[_hoisted_26$x,createBaseVNode("div",_hoisted_27$v,[createBaseVNode("div",_hoisted_28$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.smiles,n=>(openBlock(),createElementBlock("div",_hoisted_29$s,[createBaseVNode("a",{onClick:r=>t.addSmile(a,n),href:"javascript:void(0)",class:"btn btn-outline-light"},toDisplayString(n),9,_hoisted_30$r)]))),256))])])])]),createBaseVNode("div",_hoisted_31$r,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":n=>t.form.wheel_of_fortune.items[a].description=n,maxlength:"4000",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"script-settings-description-"+a,required:""},`
                             `,8,_hoisted_32$q),[[vModelText,t.form.wheel_of_fortune.items[a].description]]),createBaseVNode("label",{for:"script-settings-description-"+a},"Описание приза",8,_hoisted_33$q)]),createBaseVNode("div",_hoisted_34$q,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":n=>t.form.wheel_of_fortune.items[a].bgColor=n,class:"form-control",id:"script-settings-bgColor-"+a,placeholder:"name@example.com",required:""},null,8,_hoisted_35$q),[[vModelText,t.form.wheel_of_fortune.items[a].bgColor]]),createBaseVNode("label",{for:"script-settings-bgColor-"+a},"Цвет фона сектора",8,_hoisted_36$q)]),createBaseVNode("p",_hoisted_37$q,[createTextVNode("Впишите или выберите где можно получить приз: "),createBaseVNode("span",{onClick:n=>t.attachMarkText(a,"во время доставки"),class:"fw-bold text-primary cursor-pointer text-decoration-underline"},"во время доставки",8,_hoisted_38$n),createTextVNode(" или "),createBaseVNode("span",{onClick:n=>t.attachMarkText(a,"в заведении"),class:"fw-bold text-primary cursor-pointer text-decoration-underline"},"в заведении",8,_hoisted_39$n),createTextVNode(". Вы можете вписать сразу несколько вариантов.")]),createBaseVNode("div",_hoisted_40$l,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":n=>t.form.wheel_of_fortune.items[a].mark=n,class:"form-control",name:"wheel_of_fortune-mark-"+a,id:"wheel_of_fortune-mark-"+a,placeholder:"name@example.com",required:""},null,8,_hoisted_41$l),[[vModelText,t.form.wheel_of_fortune.items[a].mark]]),createBaseVNode("label",{for:"wheel_of_fortune-mark-"+a},"Где выдается приз",8,_hoisted_42$l)]),createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.removeSector(a),class:"btn btn-link w-100 text-center my-3"},[_hoisted_44$l,createTextVNode(" Удалить сектор #"+toDisplayString(i.id)+" ("+toDisplayString(i.value||"-")+")",1)],8,_hoisted_43$l)],8,_hoisted_20$F)]))),256))]),createBaseVNode("div",_hoisted_45$l,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=i=>t.need_auto_random_smiles=i),type:"checkbox",role:"switch",id:"need_auto_random_smiles"},null,512),[[vModelCheckbox,t.need_auto_random_smiles]]),_hoisted_46$l]),createBaseVNode("button",{type:"button",disabled:(t.form.wheel_of_fortune.items||[]).length===10,onClick:s[5]||(s[5]=(...i)=>t.addSector&&t.addSector(...i)),class:"btn btn-outline-primary w-100 p-3 mb-2"},"Добавить еще сектор ",8,_hoisted_47$k),createBaseVNode("div",_hoisted_48$j,[_hoisted_49$j,t.loaded&&(t.form.wheel_of_fortune.items||[]).length>=3?(openBlock(),createBlock(WheelOfFortuneShopVariant,{key:0,"is-admin":!0,interval:t.form.interval,modelValue:t.form.wheel_of_fortune.items,"onUpdate:modelValue":s[6]||(s[6]=i=>t.form.wheel_of_fortune.items=i)},null,8,["interval","modelValue"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}),_sfc_main$1f={props:["modelValue"],data(){return{loaded_params:!1,form:{shop_coords:null,yandex_geocoder:null,free_shipping_starts_from:0,min_base_delivery_price:0,price_per_km:80,payment_info:null,main_text:null,delivery_price_text:null,min_price:80,is_disabled:!1,can_buy_after_closing:!1,can_use_cash:!0,can_use_card:!0,need_pay_after_call:!1,disabled_text:null}}},watch:{form:{handler:function(o){this.$emit("update:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.loaded_params=!0})}},_hoisted_1$1g={key:0},_hoisted_2$1f={class:"form-check form-switch mb-2"},_hoisted_3$1e={class:"form-check-label",for:"script-settings-is_disabled"},_hoisted_4$1b={class:"alert alert-light mb-2"},_hoisted_5$1a={class:"form-check form-switch mb-2"},_hoisted_6$1a={class:"form-check-label",for:"script-settings-can_buy_after_closing"},_hoisted_7$18=createBaseVNode("p",{class:"alert alert-light mb-2"},"Текст для клиентов, который отображается пользователю если магазин в данный момент выключен администратором",-1),_hoisted_8$12={class:"form-floating mb-2"},_hoisted_9$_=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст при выключении",-1),_hoisted_10$V=createBaseVNode("p",{class:"alert alert-light mb-2"},"Сумма, от которой будет доступен заказа в магазине",-1),_hoisted_11$R={class:"form-floating mb-2"},_hoisted_12$R=createBaseVNode("label",{for:"floatingInput"},"Минимальная сумма заказа",-1),_hoisted_13$M=createBaseVNode("p",{class:"alert alert-light mb-2"},"Далее настройка параметров доставки: базовая цена для расчёта стоимости доставки. Расчёт доставки идет по прямой от точки А к точке Б. Формула: базовая цена + N км * цена за км",-1),_hoisted_14$K={class:"form-floating mb-2"},_hoisted_15$J=createBaseVNode("label",{for:"floatingInput"},"Базовая цена доставки",-1),_hoisted_16$K=createBaseVNode("p",{class:"alert alert-light mb-2"},"Цена доставки за 1км пути",-1),_hoisted_17$G={class:"form-floating mb-2"},_hoisted_18$G=createBaseVNode("label",{for:"floatingInput"},"Цена за км пути",-1),_hoisted_19$E={class:"form-floating mb-2"},_hoisted_20$E=createBaseVNode("label",{for:"floatingInput"},"Бесплатная доставка от",-1),_hoisted_21$D=createBaseVNode("p",{class:"alert alert-light mb-2"},"Описание процесса доставки \\ оплаты доставки. Текст размещен в корзине перед нажатием кнопки оформления заказа.",-1),_hoisted_22$D={class:"form-floating mb-2"},_hoisted_23$A=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст доставки",-1),_hoisted_24$z=createBaseVNode("p",{class:"alert alert-light mb-2"},[createTextVNode("Расчет цены доставки происходит на основе координат. Укажите координаты вашего заведения из "),createBaseVNode("a",{class:"text-primary fw-bold",href:"https://yandex.ru/maps/",target:"_blank"},"Яндекс.Карты"),createTextVNode(" - скопируйте и вставьте "),createBaseVNode("span",{class:"fw-bold text-primary"},"00.000000"),createTextVNode(", "),createBaseVNode("span",{class:"fw-bold text-primary"},"00.000000"),createTextVNode(" координаты в это поле. ")],-1),_hoisted_25$y={class:"form-floating mb-2"},_hoisted_26$w=createBaseVNode("label",{for:"floatingInput"},"Координаты заведения",-1),_hoisted_27$u=createBaseVNode("p",{class:"alert alert-light mb-2"},"Платежная информация: как оплатить и дальнейшие инструкции",-1),_hoisted_28$t={class:"form-floating mb-2"},_hoisted_29$r=createBaseVNode("label",{for:"script-settings-disabled_text"},"Текст оплаты",-1),_hoisted_30$q=createBaseVNode("p",{class:"alert alert-light mb-2"},"Данный флаг позволяет отключить прием платежа через скриншот. После оформления заказа клиент будет ждать звонка с инструкцией от оператора",-1),_hoisted_31$q={class:"form-check form-switch mb-2"},_hoisted_32$p={class:"form-check-label",for:"script-settings-need_pay_after_call"},_hoisted_33$p={class:"form-check form-switch mb-2"},_hoisted_34$p={class:"form-check-label",for:"script-settings-can_use_cash"},_hoisted_35$p=createBaseVNode("p",{class:"alert alert-light mb-2"},"Оплата картой подразумевает использование платежного агрегатора и требует ввода тоукена платежной системы. Оплата через агрегатора облагается налогом.",-1),_hoisted_36$p={class:"form-check form-switch mb-2"},_hoisted_37$p={class:"form-check-label",for:"script-settings-can_use_card"};function _sfc_render$o(o,t,s,i,a,n){const r=resolveDirective("mask");return a.loaded_params?(openBlock(),createElementBlock("div",_hoisted_1$1g,[createBaseVNode("div",_hoisted_2$1f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=l=>a.form.is_disabled=l),role:"switch",id:"script-settings-is_disabled"},null,512),[[vModelCheckbox,a.form.is_disabled]]),createBaseVNode("label",_hoisted_3$1e,[createTextVNode("Состояние магазина: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!a.form.is_disabled})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":a.form.is_disabled})},"выкл",2)])]),createBaseVNode("p",_hoisted_4$1b,[createTextVNode("Вы можете разрешить или запретить клиентам оставлять заказы вне рабочего времени вашего сервиса. Если переключатель выключен, то покупки будут доступны "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!a.form.can_buy_after_closing})},"согласно графика",2),createTextVNode(" работы вашего заведения, а если включен - "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":a.form.can_buy_after_closing})},"всегда",2),createTextVNode(".")]),createBaseVNode("div",_hoisted_5$1a,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=l=>a.form.can_buy_after_closing=l),role:"switch",id:"script-settings-can_buy_after_closing"},null,512),[[vModelCheckbox,a.form.can_buy_after_closing]]),createBaseVNode("label",_hoisted_6$1a,[createTextVNode("Покупки после закрытия: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":a.form.can_buy_after_closing})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!a.form.can_buy_after_closing})},"выкл",2)])]),_hoisted_7$18,createBaseVNode("div",_hoisted_8$12,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=l=>a.form.disabled_text=l),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,a.form.disabled_text]]),_hoisted_9$_]),_hoisted_10$V,createBaseVNode("div",_hoisted_11$R,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[3]||(t[3]=l=>a.form.min_price=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,a.form.min_price]]),_hoisted_12$R]),_hoisted_13$M,createBaseVNode("div",_hoisted_14$K,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[4]||(t[4]=l=>a.form.min_base_delivery_price=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,a.form.min_base_delivery_price]]),_hoisted_15$J]),_hoisted_16$K,createBaseVNode("div",_hoisted_17$G,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[5]||(t[5]=l=>a.form.price_per_km=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,a.form.price_per_km]]),_hoisted_18$G]),createBaseVNode("div",_hoisted_19$E,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":t[6]||(t[6]=l=>a.form.free_shipping_starts_from=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,a.form.free_shipping_starts_from]]),_hoisted_20$E]),_hoisted_21$D,createBaseVNode("div",_hoisted_22$D,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[7]||(t[7]=l=>a.form.delivery_price_text=l),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,a.form.delivery_price_text]]),_hoisted_23$A]),_hoisted_24$z,createBaseVNode("div",_hoisted_25$y,[withDirectives(createBaseVNode("input",{type:"search",min:"0","onUpdate:modelValue":t[8]||(t[8]=l=>a.form.shop_coords=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[r,["##.######, ##.######"]],[vModelText,a.form.shop_coords]]),_hoisted_26$w]),_hoisted_27$u,createBaseVNode("div",_hoisted_28$t,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=l=>a.form.payment_info=l),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-disabled_text"},null,512),[[vModelText,a.form.payment_info]]),_hoisted_29$r]),_hoisted_30$q,createBaseVNode("div",_hoisted_31$q,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=l=>a.form.need_pay_after_call=l),role:"switch",id:"script-settings-need_pay_after_call"},null,512),[[vModelCheckbox,a.form.need_pay_after_call]]),createBaseVNode("label",_hoisted_32$p,[createTextVNode("Режим оплаты после звонка: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":a.form.need_pay_after_call})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!a.form.need_pay_after_call})},"выкл",2)])]),createBaseVNode("div",_hoisted_33$p,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=l=>a.form.can_use_cash=l),role:"switch",id:"script-settings-can_use_cash"},null,512),[[vModelCheckbox,a.form.can_use_cash]]),createBaseVNode("label",_hoisted_34$p,[createTextVNode("Оплата наличными или переводом: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":a.form.can_use_cash})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!a.form.can_use_cash})},"выкл",2)])]),_hoisted_35$p,createBaseVNode("div",_hoisted_36$p,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=l=>a.form.can_use_card=l),role:"switch",id:"script-settings-can_use_card"},null,512),[[vModelCheckbox,a.form.can_use_card]]),createBaseVNode("label",_hoisted_37$p,[createTextVNode("Оплата картой: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":a.form.can_use_card})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!a.form.can_use_card})},"выкл",2)])])])):createCommentVNode("",!0)}const ShopForm=_export_sfc(_sfc_main$1f,[["render",_sfc_render$o]]),_hoisted_1$1f={class:"nav nav-tabs"},_hoisted_2$1e={class:"nav-item"},_hoisted_3$1d={class:"nav-item"},_hoisted_4$1a={key:0,class:"py-3"},_hoisted_5$19={key:1,class:"py-3"},_hoisted_6$19=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),__default__$R={props:["modelValue","defaultType"],data(){return{tab:0,form:null}},watch:{form:{handler:function(o){this.$emit("updated:modelValue",this.form)},deep:!0}},mounted(){this.$nextTick(()=>{this.form=this.modelValue,this.defaultType&&(this.tab=this.defaultType||0)})},methods:{submit(){let o=new FormData;Object.keys(this.form).forEach(t=>{const s=this.form[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("updateScriptParams",{slugForm:o}).then(t=>{this.$notify({title:"Информация о скрипте",text:"Информация о скрипте успешно обновлена!",type:"success"}),this.$emit("callback",t.data),window.location.reload()}).catch(t=>{this.$notify({title:"Информация о скрипте",text:"Ошибка обновления информации о скрипте",type:"error"})})}}},_sfc_main$1e=Object.assign(__default__$R,{__name:"ShopScriptEditor",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("ul",_hoisted_1$1f,[createBaseVNode("li",_hoisted_2$1e,[createBaseVNode("a",{class:normalizeClass(["nav-link",{"active fw-bold":t.tab===0}]),onClick:s[0]||(s[0]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Магазин",2)]),createBaseVNode("li",_hoisted_3$1d,[createBaseVNode("a",{class:normalizeClass(["nav-link",{"active fw-bold":t.tab===1}]),onClick:s[1]||(s[1]=i=>t.tab=1),href:"javascript:void(0)"},"Колесо фортуны",2)])]),createBaseVNode("form",{onSubmit:s[4]||(s[4]=withModifiers((...i)=>t.submit&&t.submit(...i),["prevent"]))},[t.tab===0?(openBlock(),createElementBlock("div",_hoisted_4$1a,[t.form?(openBlock(),createBlock(ShopForm,{key:0,modelValue:t.form,"onUpdate:modelValue":s[2]||(s[2]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_5$19,[t.form?(openBlock(),createBlock(_sfc_main$1g,{key:0,modelValue:t.form,"onUpdate:modelValue":s[3]||(s[3]=i=>t.form=i)},null,8,["modelValue"])):createCommentVNode("",!0)])):createCommentVNode("",!0),_hoisted_6$19],32)],64))}}),Menu_vue_vue_type_style_index_0_lang="",_hoisted_1$1e={key:0,class:"container py-3"},_hoisted_2$1d={key:0,class:"alert alert-danger mb-3"},_hoisted_3$1c=["innerHTML"],_hoisted_4$19=createBaseVNode("h6",{class:"opacity-75 mb-3 text-center"},[createBaseVNode("i",{class:"fa-solid fa-house-chimney mr-2 text-primary"}),createTextVNode("Доступные сервисы")],-1),_hoisted_5$18={key:1,class:"row g-2"},_hoisted_6$18={class:"col-12"},_hoisted_7$17={key:0,class:"alert alert-light",role:"alert"},_hoisted_8$11=createBaseVNode("span",{class:"text-primary fw-bold"},"не работаем",-1),_hoisted_9$Z=createBaseVNode("span",{"data-bs-toggle":"modal","data-bs-target":"#schedule-list-display",class:"text-primary fw-bold text-decoration-underline cursor-pointer"},"графиком работы",-1),_hoisted_10$U={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_11$Q={class:"col"},_hoisted_12$Q={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_13$L={class:"img-fluid",alt:""},_hoisted_14$J=createBaseVNode("p",{class:"my-2"},"Профиль",-1),_hoisted_15$I={class:"col"},_hoisted_16$J=["disabled"],_hoisted_17$F={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_18$F={class:"img-fluid",alt:""},_hoisted_19$D=createBaseVNode("p",{class:"my-2"},"Магазин",-1),_hoisted_20$D={key:0,style:{"font-size":"12px"}},_hoisted_21$C=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_22$C={class:"col"},_hoisted_23$z={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_24$y={class:"img-fluid",alt:""},_hoisted_25$x={class:"my-2"},_hoisted_26$v={key:0,class:"badge bg-primary"},_hoisted_27$t={class:"col"},_hoisted_28$s={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_29$q={class:"img-fluid",alt:""},_hoisted_30$p=createBaseVNode("p",{class:"my-2"}," История заказов",-1),_hoisted_31$p={key:0,class:"col"},_hoisted_32$o=["disabled"],_hoisted_33$o={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_34$o={class:"img-fluid",alt:""},_hoisted_35$o=createBaseVNode("p",{class:"my-2"}," Розыгрыши",-1),_hoisted_36$o={key:0,style:{"font-size":"12px"}},_hoisted_37$o=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_38$m={class:"col"},_hoisted_39$m={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_40$k={class:"img-fluid",alt:""},_hoisted_41$k=createBaseVNode("p",{class:"my-2"},"О Нас & Контакты",-1),_hoisted_42$k={key:2,class:"opacity-75 my-3 text-center"},_hoisted_43$k=createBaseVNode("i",{class:"fa-solid fa-house-lock mr-2 text-primary"},null,-1),_hoisted_44$k={key:3,class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_45$k={class:"col"},_hoisted_46$k={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_47$j={class:"img-fluid",alt:""},_hoisted_48$i=createBaseVNode("p",{class:"my-2"},"Управление клиентами",-1),_hoisted_49$i={class:"col"},_hoisted_50$h={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_51$h={class:"img-fluid",alt:""},_hoisted_52$h=createBaseVNode("p",{class:"my-2"},"Управление рассылками",-1),_hoisted_53$f={class:"col"},_hoisted_54$f={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_55$e={class:"img-fluid",alt:""},_hoisted_56$e=createBaseVNode("p",{class:"my-2"},"Управление товарами",-1),_hoisted_57$e={class:"col"},_hoisted_58$e={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_59$d={class:"img-fluid",alt:""},_hoisted_60$a=createBaseVNode("p",{class:"my-2"},"Управление заказами",-1),_hoisted_61$a={class:"col"},_hoisted_62$9={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_63$9={class:"img-fluid",alt:""},_hoisted_64$9=createBaseVNode("p",{class:"my-2"},"Управление промокодами",-1),_hoisted_65$9={class:"col"},_hoisted_66$9={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_67$9={class:"img-fluid",alt:""},_hoisted_68$9=createBaseVNode("p",{class:"my-2"},"Статистика",-1),_hoisted_69$9={key:0,class:"col"},_hoisted_70$9={type:"button","data-bs-toggle":"modal","data-bs-target":"#script-setting-editor",style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},_hoisted_71$9={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_72$8={class:"img-fluid",alt:""},_hoisted_73$8=createBaseVNode("p",{class:"my-2"},"Настройка скрипта",-1),_hoisted_74$8={key:1,class:"menu-preloader"},_hoisted_75$8=createBaseVNode("div",{class:"d-flex flex-column align-items-center"},[createBaseVNode("div",{class:"spinner-grow bg-primary",style:{width:"3rem",height:"3rem"},role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")]),createBaseVNode("p",{class:"py-2"},"Загружаем...")],-1),_hoisted_76$8=[_hoisted_75$8],_hoisted_77$8={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_78$7=createBaseVNode("i",{class:"fa-brands fa-telegram"},null,-1),_hoisted_79$6={class:"modal fade",id:"script-setting-editor",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_80$6={class:"modal-dialog modal-fullscreen"},_hoisted_81$6={class:"modal-content"},_hoisted_82$6=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_83$6={class:"modal-body"},_hoisted_84$4={class:"modal fade",id:"schedule-list-display",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_85$4={class:"modal-dialog modal-dialog-centered"},_hoisted_86$4={class:"modal-content"},_hoisted_87$4=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"График работы"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_88$4={class:"modal-body"},_hoisted_89$4={key:1,class:"my-2 d-flex justify-content-center"},_hoisted_90$4=createBaseVNode("a",{"data-bs-toggle":"modal","data-bs-target":"#edit-shop-footer-description-modal",href:"javascript:void(0)",class:"text-primary ml-2",style:{"font-size":"12px"}},[createBaseVNode("i",{class:"fa-solid fa-pen-to-square"}),createTextVNode(" редактировать")],-1),_hoisted_91$4=[_hoisted_90$4],__default__$Q={data(){return{loadScriptData:!1,script_data:{is_disabled:!0,wheel_of_fortune:{can_play:!1}}}},computed:{...mapGetters(["getSelf","cartTotalCount"]),isWork(){return window.isCorrectSchedule(this.bot.company.schedule)?(this.bot.company||{is_work:!0}).is_work:!0},tg(){return window.Telegram.WebApp},bot(){return window.currentBot}},mounted(){this.tg.BackButton.show(),this.loadScriptModuleData(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$route.name==="MenuV2"?this.tg.close():this.$router.back()})},methods:{startMenu(){this.$store.dispatch("switchToMainMenu"),this.tg.close()},goTo(o){this.$router.push({name:o})},loadScriptModuleData(){return this.loadScriptData=!1,this.$store.dispatch("loadShopModuleData").then(o=>{this.script_data=[],this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.script_data[t]=o[t]}),this.loadScriptData=!0})})}}},_sfc_main$1d=Object.assign(__default__$Q,{__name:"Menu",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[t.getSelf?(openBlock(),createElementBlock("div",_hoisted_1$1e,[t.script_data.is_disabled?(openBlock(),createElementBlock("div",_hoisted_2$1d,[createBaseVNode("p",{class:"mb-0",innerHTML:t.script_data.disabled_text||"-"},null,8,_hoisted_3$1c)])):createCommentVNode("",!0),_hoisted_4$19,t.bot?(openBlock(),createElementBlock("div",_hoisted_5$18,[createBaseVNode("div",_hoisted_6$18,[t.isWork?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$17,[createTextVNode(" В данный момент мы "),_hoisted_8$11,createTextVNode(". Вы можете ознакомиться с нашим "),_hoisted_9$Z,createTextVNode(". ")]))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$U,[createBaseVNode("div",_hoisted_11$Q,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=a=>t.goTo("ProfileV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_12$Q,[withDirectives(createBaseVNode("img",_hoisted_13$L,null,512),[[i,"/images/shop-v2-2/profile.png"]]),_hoisted_14$J])])]),createBaseVNode("div",_hoisted_15$I,[createBaseVNode("button",{type:"button",onClick:s[1]||(s[1]=a=>t.goTo("CatalogV2")),style:{"min-height":"250px"},disabled:t.script_data.is_disabled,class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_17$F,[withDirectives(createBaseVNode("img",_hoisted_18$F,null,512),[[i,"/images/shop-v2-2/shop.png"]]),_hoisted_19$D,t.script_data.is_disabled?(openBlock(),createElementBlock("span",_hoisted_20$D,[_hoisted_21$C,createTextVNode(" закрыто")])):createCommentVNode("",!0)])],8,_hoisted_16$J)]),createBaseVNode("div",_hoisted_22$C,[createBaseVNode("button",{type:"button",onClick:s[2]||(s[2]=a=>t.goTo("ShopCartV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_23$z,[withDirectives(createBaseVNode("img",_hoisted_24$y,null,512),[[i,"/images/shop-v2-2/basket.png"]]),createBaseVNode("p",_hoisted_25$x,[createTextVNode("Корзина "),t.cartTotalCount>0?(openBlock(),createElementBlock("span",_hoisted_26$v,toDisplayString(t.cartTotalCount),1)):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_27$t,[createBaseVNode("button",{type:"button",onClick:s[3]||(s[3]=a=>t.goTo("OrdersV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_28$s,[withDirectives(createBaseVNode("img",_hoisted_29$q,null,512),[[i,"/images/shop-v2-2/history.png"]]),_hoisted_30$p])])]),t.script_data.wheel_of_fortune?(openBlock(),createElementBlock("div",_hoisted_31$p,[createBaseVNode("button",{type:"button",disabled:!t.script_data.wheel_of_fortune.can_play||!t.loadScriptData,onClick:s[4]||(s[4]=a=>t.goTo("WheelOfFortuneV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_33$o,[withDirectives(createBaseVNode("img",_hoisted_34$o,null,512),[[i,"/images/shop-v2-2/events.png"]]),_hoisted_35$o,!t.script_data.wheel_of_fortune.can_play||!t.loadScriptData?(openBlock(),createElementBlock("span",_hoisted_36$o,[_hoisted_37$o,createTextVNode(" закрыто")])):createCommentVNode("",!0)])],8,_hoisted_32$o)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_38$m,[createBaseVNode("button",{type:"button",onClick:s[5]||(s[5]=a=>t.goTo("ContactsV2")),style:{"min-height":"250px"},class:"btn shadow-sm btn-outline-primary w-100 border-0 mb-2 card"},[createBaseVNode("div",_hoisted_39$m,[withDirectives(createBaseVNode("img",_hoisted_40$k,null,512),[[i,"/images/shop-v2-2/contacts.png"]]),_hoisted_41$k])])])]),t.getSelf.is_admin?(openBlock(),createElementBlock("h6",_hoisted_42$k,[_hoisted_43$k,createTextVNode("Административные сервисы")])):createCommentVNode("",!0),t.getSelf.is_admin?(openBlock(),createElementBlock("div",_hoisted_44$k,[createBaseVNode("div",_hoisted_45$k,[createBaseVNode("button",{type:"button",onClick:s[6]||(s[6]=a=>t.goTo("ClientsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_46$k,[withDirectives(createBaseVNode("img",_hoisted_47$j,null,512),[[i,"/images/shop-v2-2/clients.png"]]),_hoisted_48$i])])]),createBaseVNode("div",_hoisted_49$i,[createBaseVNode("button",{type:"button",onClick:s[7]||(s[7]=a=>t.goTo("MailingV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_50$h,[withDirectives(createBaseVNode("img",_hoisted_51$h,null,512),[[i,"/images/shop-v2-2/mail.png"]]),_hoisted_52$h])])]),createBaseVNode("div",_hoisted_53$f,[createBaseVNode("button",{type:"button",onClick:s[8]||(s[8]=a=>t.goTo("ShopV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_54$f,[withDirectives(createBaseVNode("img",_hoisted_55$e,null,512),[[i,"/images/shop-v2-2/products.png"]]),_hoisted_56$e])])]),createBaseVNode("div",_hoisted_57$e,[createBaseVNode("button",{type:"button",onClick:s[9]||(s[9]=a=>t.goTo("AdminOrdersV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_58$e,[withDirectives(createBaseVNode("img",_hoisted_59$d,null,512),[[i,"/images/shop-v2-2/orders.png"]]),_hoisted_60$a])])]),createBaseVNode("div",_hoisted_61$a,[createBaseVNode("button",{type:"button",onClick:s[10]||(s[10]=a=>t.goTo("PromoCodesV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_62$9,[withDirectives(createBaseVNode("img",_hoisted_63$9,null,512),[[i,"/images/shop-v2-2/promo.png"]]),_hoisted_64$9])])]),createBaseVNode("div",_hoisted_65$9,[createBaseVNode("button",{type:"button",onClick:s[11]||(s[11]=a=>t.goTo("StatisticV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_66$9,[withDirectives(createBaseVNode("img",_hoisted_67$9,null,512),[[i,"/images/shop-v2-2/statistic.png"]]),_hoisted_68$9])])]),t.script_data?(openBlock(),createElementBlock("div",_hoisted_69$9,[createBaseVNode("button",_hoisted_70$9,[createBaseVNode("div",_hoisted_71$9,[withDirectives(createBaseVNode("img",_hoisted_72$8,null,512),[[i,"/images/shop-v2-2/statistic.png"]]),_hoisted_73$8])])])):createCommentVNode("",!0)])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.loadScriptData?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_74$8,_hoisted_76$8)),createBaseVNode("nav",_hoisted_77$8,[createBaseVNode("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:s[12]||(s[12]=(...a)=>t.startMenu&&t.startMenu(...a)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg"},[_hoisted_78$7,createTextVNode(" Главное меню ")])]),createBaseVNode("div",_hoisted_79$6,[createBaseVNode("div",_hoisted_80$6,[createBaseVNode("div",_hoisted_81$6,[_hoisted_82$6,createBaseVNode("div",_hoisted_83$6,[t.loadScriptData?(openBlock(),createBlock(_sfc_main$1e,{key:0,modelValue:t.script_data,"onUpdate:modelValue":s[13]||(s[13]=a=>t.script_data=a)},null,8,["modelValue"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_84$4,[createBaseVNode("div",_hoisted_85$4,[createBaseVNode("div",_hoisted_86$4,[_hoisted_87$4,createBaseVNode("div",_hoisted_88$4,[t.bot?(openBlock(),createBlock(ScheduleList,{key:0,schedule:t.bot.company.schedule},null,8,["schedule"])):createCommentVNode("",!0),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("p",_hoisted_89$4,_hoisted_91$4)):createCommentVNode("",!0)])])])])],64)}}}),Menu=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1d},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1d={class:"container g-2 py-3"},_hoisted_2$1c=createStaticVNode('<div class="card mb-2"><div class="card-body"><p class="mb-2 text-center fw-bold"><strong class="text-primary">Внимание!</strong> Правила игры: </p><ul style="padding:0px 20px;" class="fw-bold"><li>цена ставки меняется в зависимости от популярности игры (чем популярнее тем выше)</li><li>ставка берется из вашего CashBack</li><li>за каждый выигрыш вы получаете игровые деньги, которые суммируются к вашему CashBack и используются для игровой ставки, но не начисляются вам как CashBack</li><li>каждый проигрыш списывает ваш реальный CashBack</li><li>одна из игровых комбинация может принести вам супер-приз - <strong>Пицца 50 см</strong></li></ul></div></div>',1),_sfc_main$1c={__name:"OneArmedBanditPage",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$1d,[_hoisted_2$1c,createVNode(OneArmedBandit)]))}},_sfc_main$1b={props:["item"],methods:{open(o){o.is_open=!o.is_open}}},_hoisted_1$1c={class:"d-flex justify-content-between w-100"},_hoisted_2$1b={key:0,class:"fa fa-circle-up text-success mr-2",style:{"font-size":"24px"}},_hoisted_3$1b={key:1,class:"fa-regular fa-circle-down text-danger mr-2",style:{"font-size":"24px"}},_hoisted_4$18={class:"fw-bold"},_hoisted_5$17={key:0,class:"text-primary fw-bold"},_hoisted_6$17={key:1,class:"text-primary fw-bold"},_hoisted_7$16={key:0,class:"w-100 mt-2"},_hoisted_8$10={class:"table table-borderless rounded-sm shadow-l m-0 p-0",style:{overflow:"hidden"}},_hoisted_9$Y=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Параметр"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_10$T=createBaseVNode("th",{scope:"row"},"Тип операции",-1),_hoisted_11$P={class:"fw-bold text-primary"},_hoisted_12$P=createBaseVNode("th",{scope:"row"},"Сумма CashBack, руб",-1),_hoisted_13$K={class:"fw-bold text-primary"},_hoisted_14$I={key:0},_hoisted_15$H=createBaseVNode("th",{scope:"row"},"Уровень начисления",-1),_hoisted_16$I={class:"fw-bold text-primary"},_hoisted_17$E={key:1},_hoisted_18$E=createBaseVNode("th",{scope:"row"},"Сумма в чеке, руб",-1),_hoisted_19$C={class:"fw-bold text-primary"},_hoisted_20$C=createBaseVNode("th",{scope:"row"},"Дата операции",-1),_hoisted_21$B={class:"fw-bold text-primary"},_hoisted_22$B=createBaseVNode("th",{scope:"row"},"Описание операции",-1),_hoisted_23$y={class:"fw-bold text-primary"},_hoisted_24$x=createBaseVNode("th",{scope:"row"},"TG id сотрудника",-1),_hoisted_25$w={class:"fw-bold text-primary"},_hoisted_26$u=createBaseVNode("th",{scope:"row"},"Имя сотрудника",-1),_hoisted_27$s={class:"fw-bold text-primary"},_hoisted_28$r=createBaseVNode("th",{scope:"row"},"Телефон сотрудника",-1),_hoisted_29$p={class:"fw-bold text-primary"};function _sfc_render$n(o,t,s,i,a,n){return openBlock(),createElementBlock("div",{onClick:t[0]||(t[0]=r=>n.open(s.item)),class:"list-group-item d-flex flex-column"},[createBaseVNode("div",_hoisted_1$1c,[createBaseVNode("div",null,[s.item.operation_type?(openBlock(),createElementBlock("i",_hoisted_2$1b)):(openBlock(),createElementBlock("i",_hoisted_3$1b)),createBaseVNode("span",_hoisted_4$18,toDisplayString(s.item.amount||0)+" руб. ",1)]),s.item.operation_type?(openBlock(),createElementBlock("span",_hoisted_5$17,"чек "+toDisplayString(s.item.money_in_check||0)+" руб.",1)):(openBlock(),createElementBlock("span",_hoisted_6$17,"списание"))]),s.item.is_open?(openBlock(),createElementBlock("div",_hoisted_7$16,[createBaseVNode("table",_hoisted_8$10,[_hoisted_9$Y,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_10$T,createBaseVNode("td",_hoisted_11$P,toDisplayString(s.item.operation_type?"Начисление":"Списание"),1)]),createBaseVNode("tr",null,[_hoisted_12$P,createBaseVNode("td",_hoisted_13$K,toDisplayString(s.item.amount||0),1)]),s.item.operation_type?(openBlock(),createElementBlock("tr",_hoisted_14$I,[_hoisted_15$H,createBaseVNode("td",_hoisted_16$I,toDisplayString(s.item.level||0),1)])):createCommentVNode("",!0),s.item.operation_type?(openBlock(),createElementBlock("tr",_hoisted_17$E,[_hoisted_18$E,createBaseVNode("td",_hoisted_19$C,toDisplayString(s.item.money_in_check||0),1)])):createCommentVNode("",!0),createBaseVNode("tr",null,[_hoisted_20$C,createBaseVNode("td",_hoisted_21$B,toDisplayString(o.$filters.current(s.item.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_22$B,createBaseVNode("td",_hoisted_23$y,toDisplayString(s.item.description||"Нет описания"),1)]),createBaseVNode("tr",null,[_hoisted_24$x,createBaseVNode("td",_hoisted_25$w,toDisplayString(s.item.employee.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_26$u,createBaseVNode("td",_hoisted_27$s,toDisplayString(s.item.employee.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_28$r,createBaseVNode("td",_hoisted_29$p,toDisplayString(s.item.employee.phone||"Не указано"),1)])])])])):createCommentVNode("",!0)])}const CashBackItem=_export_sfc(_sfc_main$1b,[["render",_sfc_render$n]]),_hoisted_1$1b={key:0,class:"list-group"},_hoisted_2$1a={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_3$1a=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-bitcoin mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Операция с CashBack-ом еще нет:(")],-1),_hoisted_4$17=[_hoisted_3$1a],__default__$P={props:["botUser"],data(){return{cashback:[],cashback_paginate_object:null}},watch:{self:{handler:function(o){this.loadCashBack()},deep:!0}},computed:{...mapGetters(["getCashBack","getCashBackPaginateObject"])},mounted(){this.loadCashBack()},methods:{nextCashBackPage(o){this.loadCashBack(o)},loadCashBack(o=0){this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id},page:o}).then(t=>{this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$1a=Object.assign(__default__$P,{__name:"CashBackList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.cashback.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$1b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cashback,i=>(openBlock(),createBlock(CashBackItem,{item:i},null,8,["item"]))),256))])):(openBlock(),createElementBlock("div",_hoisted_2$1a,_hoisted_4$17)),t.cashback_paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextCashBackPage,pagination:t.cashback_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64))}}),_hoisted_1$1a={key:0,class:"container"},_hoisted_2$19={class:"row"},_hoisted_3$19={class:"col-12"},_hoisted_4$16=createBaseVNode("h6",{class:"opacity-75 my-3"},"Ваш текущий баланс",-1),_hoisted_5$16={class:"list-group"},_hoisted_6$16={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},_hoisted_7$15=createBaseVNode("span",null,"Получено CashBack",-1),_hoisted_8$$={class:"text-primary fw-bold"},_hoisted_9$X={class:"col-12"},_hoisted_10$S={key:0,class:"opacity-75 my-3"},_hoisted_11$O={key:1,class:"list-group"},_hoisted_12$O={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},_hoisted_13$J={class:"text-primary fw-bold"},_hoisted_14$H={class:"row"},_hoisted_15$G=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" История операция")])],-1),_hoisted_16$H={class:"col-12"},__default__$O={data(){return{cashback:[],cashback_paginate_object:null}},watch:{self:{handler:function(o){this.loadCashBack()},deep:!0}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),self(){return this.getSelf},tg(){return window.Telegram.WebApp}},mounted(){this.self&&this.loadCashBack(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{nextCashBackPage(o){this.loadCashBack(o)},loadCashBack(o=0){this.$store.dispatch("loadCashBack",{dataObject:{user_telegram_chat_id:this.self.telegram_chat_id},page:o}).then(t=>{this.cashback=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$19=Object.assign(__default__$O,{__name:"MyCashBack",setup(o){return(t,s)=>t.self?(openBlock(),createElementBlock("div",_hoisted_1$1a,[createBaseVNode("div",_hoisted_2$19,[createBaseVNode("div",_hoisted_3$19,[_hoisted_4$16,createBaseVNode("ul",_hoisted_5$16,[createBaseVNode("li",_hoisted_6$16,[_hoisted_7$15,createBaseVNode("span",_hoisted_8$$,toDisplayString(t.self.cashBack.amount||0)+" ₽",1)])])]),createBaseVNode("div",_hoisted_9$X,[t.self.cashBack?(openBlock(),createElementBlock(Fragment,{key:0},[(t.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("h6",_hoisted_10$S,"Специальные начисления")):createCommentVNode("",!0),(t.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_11$O,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.self.cashBack.subs,i=>(openBlock(),createElementBlock("li",_hoisted_12$O,[createBaseVNode("span",null,toDisplayString(i.title||"-"),1),createBaseVNode("span",_hoisted_13$J,toDisplayString(i.amount||0)+" ₽",1)]))),256))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_14$H,[_hoisted_15$G,createBaseVNode("div",_hoisted_16$H,[t.getSelf?(openBlock(),createBlock(_sfc_main$1a,{key:0,"bot-user":t.getSelf},null,8,["bot-user"])):createCommentVNode("",!0)])])])):createCommentVNode("",!0)}}),MyCashBack=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$19},Symbol.toStringTag,{value:"Module"})),_hoisted_1$19={class:"container"},_hoisted_2$18={class:"row"},_hoisted_3$18={class:"col-12"},_hoisted_4$15=createBaseVNode("h6",{class:"opacity-75 my-3"},"Ваш текущий баланс",-1),_hoisted_5$15={class:"list-group"},_hoisted_6$15={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},_hoisted_7$14=createBaseVNode("span",null,"Получено CashBack",-1),_hoisted_8$_={class:"text-primary fw-bold"},_hoisted_9$W={class:"col-12"},_hoisted_10$R={key:0,class:"opacity-75 my-3"},_hoisted_11$N={key:1,class:"list-group"},_hoisted_12$N={class:"list-group-item d-flex justify-content-between p-3","aria-current":"true"},_hoisted_13$I={class:"text-primary fw-bold"},_hoisted_14$G={class:"row"},_hoisted_15$F=createBaseVNode("div",{class:"col-12"},[createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" История операция")])],-1),_hoisted_16$G={class:"col-12"},_hoisted_17$D={key:0,class:"list-group"},_hoisted_18$D=["onClick"],_hoisted_19$B={class:"d-flex justify-content-between w-100"},_hoisted_20$B={key:0,class:"fa fa-circle-up text-success mr-2",style:{"font-size":"24px"}},_hoisted_21$A={key:1,class:"fa-regular fa-circle-down text-danger mr-2",style:{"font-size":"24px"}},_hoisted_22$A={class:"fw-bold"},_hoisted_23$x={class:"text-primary fw-bold"},_hoisted_24$w={key:0,class:"w-100 mt-2"},_hoisted_25$v={class:"table table-borderless rounded-sm shadow-l m-0 p-0",style:{overflow:"hidden"}},_hoisted_26$t=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Параметр"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_27$r=createBaseVNode("th",{scope:"row"},"Тип операции",-1),_hoisted_28$q={class:"fw-bold text-primary"},_hoisted_29$o=createBaseVNode("th",{scope:"row"},"Сумма CashBack, руб",-1),_hoisted_30$o={class:"fw-bold text-primary"},_hoisted_31$o={key:0},_hoisted_32$n=createBaseVNode("th",{scope:"row"},"Уровень начисления",-1),_hoisted_33$n={class:"fw-bold text-primary"},_hoisted_34$n={key:1},_hoisted_35$n=createBaseVNode("th",{scope:"row"},"Сумма в чеке, руб",-1),_hoisted_36$n={class:"fw-bold text-primary"},_hoisted_37$n=createBaseVNode("th",{scope:"row"},"Дата операции",-1),_hoisted_38$l={class:"fw-bold text-primary"},_hoisted_39$l=createBaseVNode("th",{scope:"row"},"Описание операции",-1),_hoisted_40$j={class:"fw-bold text-primary"},_hoisted_41$j=createBaseVNode("th",{scope:"row"},"TG id сотрудника",-1),_hoisted_42$j={class:"fw-bold text-primary"},_hoisted_43$j=createBaseVNode("th",{scope:"row"},"Имя сотрудника",-1),_hoisted_44$j={class:"fw-bold text-primary"},_hoisted_45$j=createBaseVNode("th",{scope:"row"},"Телефон сотрудника",-1),_hoisted_46$j={class:"fw-bold text-primary"},_hoisted_47$i={key:1,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_48$h=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-bitcoin mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Операция с CashBack-ом еще нет:(")],-1),_hoisted_49$h=[_hoisted_48$h],__default__$N={data(){return{friends:[],cashback_paginate_object:null}},watch:{self:{handler:function(o){this.loadCashBack()},deep:!0}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),self(){return this.getSelf},tg(){return window.Telegram.WebApp}},mounted(){this.self&&this.loadCashBack(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{open(o){o.is_open=!o.is_open},nextCashBackPage(o){this.loadCashBack(o)},loadCashBack(o=0){this.$store.dispatch("loadFriends",{dataObject:{bot_user_id:this.self.id},page:o}).then(t=>{this.friends=this.getCashBack,this.cashback_paginate_object=this.getCashBackPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$18=Object.assign(__default__$N,{__name:"MyFriends",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$19,[createBaseVNode("div",_hoisted_2$18,[createBaseVNode("div",_hoisted_3$18,[_hoisted_4$15,createBaseVNode("ul",_hoisted_5$15,[createBaseVNode("li",_hoisted_6$15,[_hoisted_7$14,createBaseVNode("span",_hoisted_8$_,toDisplayString(t.self.cashBack.amount||0)+" ₽",1)])])]),createBaseVNode("div",_hoisted_9$W,[t.self.cashBack?(openBlock(),createElementBlock(Fragment,{key:0},[(t.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("h6",_hoisted_10$R,"Специальные начисления")):createCommentVNode("",!0),(t.self.cashBack.subs||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_11$N,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.self.cashBack.subs,i=>(openBlock(),createElementBlock("li",_hoisted_12$N,[createBaseVNode("span",null,toDisplayString(i.title||"-"),1),createBaseVNode("span",_hoisted_13$I,toDisplayString(i.amount||0)+" ₽",1)]))),256))])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_14$G,[_hoisted_15$F,createBaseVNode("div",_hoisted_16$G,[t.cashback.length>0?(openBlock(),createElementBlock("ul",_hoisted_17$D,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.cashback,(i,a)=>(openBlock(),createElementBlock("li",{onClick:n=>t.open(i),class:"list-group-item d-flex flex-column"},[createBaseVNode("div",_hoisted_19$B,[createBaseVNode("div",null,[i.operation_type?(openBlock(),createElementBlock("i",_hoisted_20$B)):(openBlock(),createElementBlock("i",_hoisted_21$A)),createBaseVNode("span",_hoisted_22$A,toDisplayString(i.amount||0)+" руб. ",1)]),createBaseVNode("span",_hoisted_23$x,"чек "+toDisplayString(i.money_in_check||0)+" руб.",1)]),i.is_open?(openBlock(),createElementBlock("div",_hoisted_24$w,[createBaseVNode("table",_hoisted_25$v,[_hoisted_26$t,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_27$r,createBaseVNode("td",_hoisted_28$q,toDisplayString(i.operation_type?"Начисление":"Списание"),1)]),createBaseVNode("tr",null,[_hoisted_29$o,createBaseVNode("td",_hoisted_30$o,toDisplayString(i.amount||0),1)]),i.operation_type?(openBlock(),createElementBlock("tr",_hoisted_31$o,[_hoisted_32$n,createBaseVNode("td",_hoisted_33$n,toDisplayString(i.level||0),1)])):createCommentVNode("",!0),i.operation_type?(openBlock(),createElementBlock("tr",_hoisted_34$n,[_hoisted_35$n,createBaseVNode("td",_hoisted_36$n,toDisplayString(i.money_in_check||0),1)])):createCommentVNode("",!0),createBaseVNode("tr",null,[_hoisted_37$n,createBaseVNode("td",_hoisted_38$l,toDisplayString(t.$filters.current(i.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_39$l,createBaseVNode("td",_hoisted_40$j,toDisplayString(i.description||"Нет описания"),1)]),createBaseVNode("tr",null,[_hoisted_41$j,createBaseVNode("td",_hoisted_42$j,toDisplayString(i.employee.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_43$j,createBaseVNode("td",_hoisted_44$j,toDisplayString(i.employee.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_45$j,createBaseVNode("td",_hoisted_46$j,toDisplayString(i.employee.phone||"Не указано"),1)])])])])):createCommentVNode("",!0)],8,_hoisted_18$D))),256))])):(openBlock(),createElementBlock("div",_hoisted_47$i,_hoisted_49$h)),t.cashback_paginate_object?(openBlock(),createBlock(Pagination,{key:2,onPagination_page:t.nextCashBackPage,pagination:t.cashback_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])]))}}),MyFriends=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$18},Symbol.toStringTag,{value:"Module"})),_hoisted_1$18={key:0,class:"container py-3"},_hoisted_2$17={class:"row"},_hoisted_3$17={key:0,class:"col-12"},_hoisted_4$14=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#shop-wheel-form-modal",class:"btn btn-outline-light text-primary w-100 mb-2",style:{"font-size":"12px"}},[createBaseVNode("i",{class:"fa-regular fa-pen-to-square"}),createTextVNode(" Редактор скрипта ")],-1),_hoisted_5$14=[_hoisted_4$14],_hoisted_6$14={key:1,class:"col-12"},_hoisted_7$13={class:"alert alert-light mb-2"},_hoisted_8$Z={class:"col-12"},_hoisted_9$V={key:1,class:"container py-3"},_hoisted_10$Q=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},[createTextVNode(" Подготавливаем данные... "),createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")])])])],-1),_hoisted_11$M=[_hoisted_10$Q],_hoisted_12$M={key:2,class:"modal fade",id:"shop-wheel-form-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_13$H={class:"modal-dialog modal-fullscreen"},_hoisted_14$F={class:"modal-content"},_hoisted_15$E=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_16$F={class:"modal-body"},__default__$M={data(){return{loadScriptData:!1,script_data:null,action:null}},computed:{...mapGetters(["getSelf"]),canPlay(){return this.action?this.action.completed_at==null&&this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadScriptModuleData().then(()=>{this.prepareUserData()})},methods:{loadScriptModuleData(){return this.loadScriptData=!1,this.$store.dispatch("loadShopModuleData").then(o=>{this.script_data=[],this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.script_data[t]=o[t]}),this.loadScriptData=!0})})},winHandler(o){this.$store.dispatch("wheelOfFortuneV3Win",{winForm:(o==null?void 0:o.win)||null}).then(t=>{this.prepareUserData()}).catch(t=>{})},shuffle(o){let t=o.length,s;for(;t>0;)s=Math.floor(Math.random()*t),t--,[o[t],o[s]]=[o[s],o[t]];return o},prepareUserData(){return this.$store.dispatch("wheelOfFortuneV3Prepare").then(o=>{this.action=o.action})}}},_sfc_main$17=Object.assign(__default__$M,{__name:"WheelOfFortune",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.loadScriptData&&t.action?(openBlock(),createElementBlock("div",_hoisted_1$18,[createBaseVNode("div",_hoisted_2$17,[(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("div",_hoisted_3$17,_hoisted_5$14)):createCommentVNode("",!0),(t.script_data.wheel_of_fortune||{rules:null}).rules?(openBlock(),createElementBlock("div",_hoisted_6$14,[createBaseVNode("div",_hoisted_7$13,toDisplayString((t.script_data.wheel_of_fortune||{rules:null}).rules||"Правила игры"),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$Z,[(t.script_data.wheel_of_fortune.items||[]).length>=3?(openBlock(),createBlock(WheelOfFortuneShopVariant,{key:0,"can-play":t.canPlay,"is-admin":!1,interval:t.script_data.interval||1,"action-data":t.action,onWin:t.winHandler,modelValue:t.script_data.wheel_of_fortune.items,"onUpdate:modelValue":s[0]||(s[0]=i=>t.script_data.wheel_of_fortune.items=i)},null,8,["can-play","interval","action-data","onWin","modelValue"])):createCommentVNode("",!0)])])])):(openBlock(),createElementBlock("div",_hoisted_9$V,_hoisted_11$M)),(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("div",_hoisted_12$M,[createBaseVNode("div",_hoisted_13$H,[createBaseVNode("div",_hoisted_14$F,[_hoisted_15$E,createBaseVNode("div",_hoisted_16$F,[t.script_data?(openBlock(),createBlock(_sfc_main$1e,{key:0,"default-type":1,modelValue:t.script_data,"onUpdate:modelValue":s[1]||(s[1]=i=>t.script_data=i)},null,8,["modelValue"])):createCommentVNode("",!0)])])])])):createCommentVNode("",!0)],64))}}),WheelOfFortune=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$17},Symbol.toStringTag,{value:"Module"})),_hoisted_1$17=createBaseVNode("p",{class:"my-2"},"Выберите канал рассылки:",-1),_hoisted_2$16={class:"btn-group-vertical w-100 mb-2",role:"group","aria-label":"Vertical button group"},_hoisted_3$16={class:"form-floating mb-3"},_hoisted_4$13=createBaseVNode("label",{for:"floatingInput"},"id канала",-1),_hoisted_5$13={class:"form-floating mb-2"},_hoisted_6$13={for:"floatingTextarea"},_hoisted_7$12={key:0,class:"small"},_hoisted_8$Y={class:"form-check"},_hoisted_9$U=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_10$P={key:0,class:"mb-2"},_hoisted_11$L=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_12$L={class:"d-flex justify-content-center flex-wrap"},_hoisted_13$G={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_14$E={class:"row"},_hoisted_15$D={key:0,class:"col-12 d-flex flex-wrap"},_hoisted_16$E={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_17$C={class:"remove"},_hoisted_18$C=["onClick"],_hoisted_19$A={class:"form-check"},_hoisted_20$A=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_21$z={key:1,class:"mb-2"},_hoisted_22$z={key:0},_hoisted_23$w={key:1},_hoisted_24$v=createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 w-100"},[createBaseVNode("i",{class:"fa-regular fa-paper-plane mr-2"}),createTextVNode(" Отправить в канал ")],-1),__default__$L={data(){return{load:!1,photos:[],showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{text:"",inline_keyboard:null,channel:null}}},computed:{currentBot(){return window.currentBot}},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.mailForm[o.detail.param]=o.detail.channel})},methods:{toggleMainChannel(){this.mailForm.channel=this.currentBot.main_channel},toggleOrderChannel(){this.mailForm.channel=this.currentBot.order_channel},addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){let o=new FormData;if(Object.keys(this.mailForm).forEach(t=>{const s=this.mailForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch("sendToChannel",{mailForm:o}).then(t=>{this.load=!0,this.photos=[],this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={text:"",channel:null,inline_keyboard:null},this.$botNotification.success("Отлично!","Сообщение успешно отправлено в канал!")}).catch(t=>{this.$botNotification.warning("Упс...","Ошибка отправки сообщения в канал")})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},requestTelegramChannelId(){new RegExp("^d+$").test(this.mailForm.channel)||(this.mailForm.channel.indexOf("https://")!==-1&&(this.mailForm.channel="@"+this.mailForm.channel.split("https://t.me/")[1]),this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.mailForm.channel}}).then(t=>{t.ok&&(this.mailForm.channel=t.result.chat.id),t.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),t.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.mailForm.channel=null)}).catch(()=>{}))}}},_sfc_main$16=Object.assign(__default__$L,{__name:"MailToChannel",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return t.currentBot?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[8]||(s[8]=withModifiers((...a)=>t.submitMail&&t.submitMail(...a),["prevent"]))},[_hoisted_1$17,createBaseVNode("div",_hoisted_2$16,[t.currentBot.main_channel!=null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(["btn p-3 mb-2",{"btn-primary":t.mailForm.channel===t.currentBot.main_channel,"btn-secondary":t.mailForm.channel!==t.currentBot.main_channel}]),onClick:s[0]||(s[0]=(...a)=>t.toggleMainChannel&&t.toggleMainChannel(...a))},"Главный канал ",2)):createCommentVNode("",!0),t.currentBot.order_channel!=null?(openBlock(),createElementBlock("button",{key:1,type:"button",class:normalizeClass(["btn p-3",{"btn-primary":t.mailForm.channel===t.currentBot.order_channel,"btn-secondary":t.mailForm.channel!==t.currentBot.order_channel}]),onClick:s[1]||(s[1]=(...a)=>t.toggleOrderChannel&&t.toggleOrderChannel(...a))},"Канал заказов ",2)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_3$16,[withDirectives(createBaseVNode("input",{maxlength:"255","onUpdate:modelValue":s[2]||(s[2]=a=>t.mailForm.channel=a),type:"search",class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.mailForm.channel]]),_hoisted_4$13]),createBaseVNode("div",_hoisted_5$13,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[3]||(s[3]=a=>t.mailForm.text=a),maxlength:"4096",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,t.mailForm.text]]),createBaseVNode("label",_hoisted_6$13,[createTextVNode("Текстовое содержимое рассылки "),t.mailForm.text?(openBlock(),createElementBlock("span",_hoisted_7$12,toDisplayString(t.mailForm.text.length)+"/4096 ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_8$Y,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=a=>t.need_page_images=a),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_9$U]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_10$P,[_hoisted_11$L,createBaseVNode("div",_hoisted_12$L,[createBaseVNode("label",_hoisted_13$G,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:s[5]||(s[5]=(...a)=>t.onChangePhotos&&t.onChangePhotos(...a)),style:{display:"none"}},null,32)]),createBaseVNode("div",_hoisted_14$E,[t.photos.length>0?(openBlock(),createElementBlock("div",_hoisted_15$D,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.photos,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_16$E,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(a).imageUrl]]),createBaseVNode("div",_hoisted_17$C,[createBaseVNode("a",{onClick:r=>t.removePhoto(n)},"Удалить",8,_hoisted_18$C)])]))),256))])):createCommentVNode("",!0)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_19$A,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[6]||(s[6]=a=>t.need_inline_menu=a),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_20$A]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_21$z,[createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:s[7]||(s[7]=a=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_23$w," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_22$z," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$2o,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(KeyboardConstructor,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_24$v],32)):createCommentVNode("",!0)}}}),KeyboardConstructor_vue_vue_type_style_index_0_lang="",_hoisted_1$16={key:0},_hoisted_2$15=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"}),createTextVNode("Инструкция")],-1),_hoisted_3$15=createBaseVNode("div",{class:"text-left w-100"},[createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-down"}),createTextVNode(" - добавление в нижнюю часть новой строки (кнопки)")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"}),createTextVNode(" - добавление строки над выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"}),createTextVNode(" - добавление строки под выбранной строкой")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-plus"}),createTextVNode(" - добавление кнопки на строку")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-minus"}),createTextVNode(" - удаление крайней левой кнопки из строки либо самой строки")]),createBaseVNode("p",{class:"mb-0 text-white"},[createBaseVNode("i",{class:"fa-solid fa-xmark"}),createTextVNode(" - отмена выделения")])],-1),_hoisted_4$12={class:"mb-2 d-flex"},_hoisted_5$12=createBaseVNode("i",{class:"fa-solid fa-arrow-down"},null,-1),_hoisted_6$12=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-up"},null,-1),_hoisted_7$11=[_hoisted_6$12],_hoisted_8$X=createBaseVNode("i",{class:"fa-solid fa-arrow-turn-down"},null,-1),_hoisted_9$T=[_hoisted_8$X],_hoisted_10$O=createBaseVNode("i",{class:"fa-solid fa-arrows-up-to-line"},null,-1),_hoisted_11$K=[_hoisted_10$O],_hoisted_12$K=createBaseVNode("i",{class:"fa-solid fa-arrows-down-to-line"},null,-1),_hoisted_13$F=[_hoisted_12$K],_hoisted_14$D=createBaseVNode("i",{class:"fa-solid fa-xmark"},null,-1),_hoisted_15$C=[_hoisted_14$D],_hoisted_16$D={key:0,class:"text-danger font-weight-bold p-0 m-0"},_hoisted_17$B={key:1},_hoisted_18$B={class:"row mb-0"},_hoisted_19$z={class:"col-12 d-flex justify-content-center"},_hoisted_20$z=["onClick"],_hoisted_21$y=["onUpdate:modelValue"],_hoisted_22$y={class:"dropdown"},_hoisted_23$v=createBaseVNode("button",{style:{"border-radius":"0 5px 5px 0px"},class:"btn btn-outline-light text-primary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_24$u={class:"dropdown-menu"},_hoisted_25$u=["onClick"],_hoisted_26$s=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_27$q=createBaseVNode("i",{class:"fa-solid fa-minus"},null,-1),_hoisted_28$p=createBaseVNode("i",{class:"fa-solid fa-caret-left"},null,-1),_hoisted_29$n=createBaseVNode("i",{class:"fa-solid fa-caret-right"},null,-1),_hoisted_30$n={class:"form-check"},_hoisted_31$n=["id"],_hoisted_32$m=["for"],_hoisted_33$m={key:2,class:"mb-0"},_hoisted_34$m=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код клавиатуры",-1),_hoisted_35$m={key:1},_hoisted_36$m={class:"row"},_hoisted_37$m={class:"col-12 mb-2"},_hoisted_38$k={class:"col-12"},_hoisted_39$k=createBaseVNode("div",{class:"alert alert-danger",role:"alert"}," Возможно выбрать только 1 тип действия ",-1),_hoisted_40$i={class:"mb-3"},_hoisted_41$i={class:"input-group"},_hoisted_42$i={class:"form-floating"},_hoisted_43$i=["id"],_hoisted_44$i=createBaseVNode("label",{for:"floatingInput"},"Название кнопки",-1),_hoisted_45$i=createBaseVNode("i",{class:"fa-solid fa-bars"},null,-1),_hoisted_46$i=[_hoisted_45$i],_hoisted_47$h={key:0,class:"form-floating mb-2"},_hoisted_48$g=["id"],_hoisted_49$g=["for"],_hoisted_50$g={key:1,class:"form-floating mb-2"},_hoisted_51$g=["id"],_hoisted_52$g=["for"],_hoisted_53$e={key:2,class:"form-floating mb-2"},_hoisted_54$e=["id"],_hoisted_55$d=["for"],_hoisted_56$d={key:3,class:"mb-3"},_hoisted_57$d=["for"],_hoisted_58$d=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," Внимание! Режим всплывающего меню должен быть настроен в BotFather-е в разделе редактирования бота InlineMode. Сперва нужно включить данный режим. ",-1),_hoisted_59$c={class:"input-group mb-3"},_hoisted_60$9=["id"],_hoisted_61$9=createBaseVNode("i",{class:"fa-solid fa-bars"},null,-1),_hoisted_62$8=[_hoisted_61$9],_hoisted_63$8={key:4,class:"mb-3"},_hoisted_64$8={class:"form-check"},_hoisted_65$8=createBaseVNode("label",{class:"form-check-label",for:"need-login-url"}," Добавить ссылку авторизации ",-1),_hoisted_66$8={key:0,class:"mb-3"},_hoisted_67$8=["for"],_hoisted_68$8=["id"],_hoisted_69$8={key:1,class:"mb-3"},_hoisted_70$8=["for"],_hoisted_71$8=["id"],_hoisted_72$7={key:2,class:"mb-3"},_hoisted_73$7=["for"],_hoisted_74$7=["id"],_hoisted_75$7={key:3,class:"form-check mb-3"},_hoisted_76$7=createBaseVNode("label",{class:"form-check-label",for:"need-request_write_access"}," Запросить отправку сообщений ботом ",-1),_hoisted_77$7={key:5,class:"form-check"},_hoisted_78$6=["id"],_hoisted_79$5=["for"],_hoisted_80$5={key:6,class:"form-check"},_hoisted_81$5=["checked","id"],_hoisted_82$5=["for"],_hoisted_83$5={key:7,class:"form-check"},_hoisted_84$3=["checked","id"],_hoisted_85$3=["for"],_hoisted_86$3=createBaseVNode("hr",null,null,-1),_hoisted_87$3=["id"],_hoisted_88$3={class:"modal-dialog"},_hoisted_89$3={class:"modal-content"},_hoisted_90$3={class:"modal-body"},_hoisted_91$3=["id"],_hoisted_92$3={class:"modal-dialog"},_hoisted_93$3={class:"modal-content"},_hoisted_94$3={class:"modal-body"},__default__$K={props:["editedKeyboard","type"],components:{Vue3JsonEditor},computed:{uuid(){return v4()}},watch:{keyboard:{handler:function(o){this.save()},deep:!0}},data(){return{need_input_field_placeholder:!1,settings:{resize_keyboard:!0,one_time_keyboard:!1,input_field_placeholder:null,is_persistent:!1},need_login_url:!1,pageModal:null,inlineQueryModal:null,mode:0,editor:!1,showCode:!1,showAssign:!1,selectedRow:null,load:!1,rowCount:1,keyboard:[],select:{row:0,col:0,type:this.type||"reply"}}},mounted(){this.pageModal=new bootstrap.Modal(document.getElementById("page-list-in-keyboard-"+this.uuid),{}),this.inlineQueryModal=new bootstrap.Modal(document.getElementById("inline-query-list-in-keyboard-"+this.uuid),{}),this.editedKeyboard&&this.$nextTick(()=>{this.keyboard=this.editedKeyboard.menu,this.editedKeyboard.settings&&(this.settings={resize_keyboard:this.editedKeyboard.settings.resize_keyboard||!0,one_time_keyboard:this.editedKeyboard.settings.one_time_keyboard||!1,input_field_placeholder:this.editedKeyboard.settings.input_field_placeholder||null,is_persistent:this.editedKeyboard.settings.is_persistent||!1},this.settings.input_field_placeholder!=null&&(this.need_input_field_placeholder=!0))})},methods:{selectInlineQuery(o){this.keyboard[this.select.row][this.select.col].switch_inline_query_current_chat=o.command,this.$notify({title:"Конструктор страниц",text:"Вы успешно выбрали страницу",type:"success"}),this.inlineQueryModal.hide()},openInlineQueryModal(){this.inlineQueryModal.show()},openPageModal(){this.pageModal.show()},attachPage(o){let t=(o.slug.command||"Нет команды").replace(".*","");this.keyboard[this.select.row][this.select.col].text=t,this.$notify({title:"Конструктор страниц",text:"Вы успешно выбрали страницу",type:"success"}),this.type==="inline"&&(this.keyboard[this.select.row][this.select.col].callback_data=t)},reset(){this.selectedRow=null,this.select={row:-1,col:-1,type:this.type||"reply"}},removeSelectedButton(){this.keyboard[this.select.row].splice(this.select.col,1);let o=this.select.row;this.reset(),this.keyboard[o].length===0&&this.keyboard.splice(o,1)},needRemoveField(o,t,s){Object.keys(this.keyboard[t][s]).forEach(i=>{i!=="text"&&i!==o&&delete this.keyboard[t][s][i]})},moveCol(o=0){let t=this.selectedRow;t!==this.select.row&&(this.select.row=t,this.select.col=0,this.select.text=this.keyboard[this.select.row][this.select.col].text);let s=this.select.row,i=this.select.col,a=this.keyboard[s].length,n=o===0?i-1>=0?i-1:a-1:i<a-1?i+1:0,r=this.keyboard[s][i];this.keyboard[s][i]=this.keyboard[s][n],this.keyboard[s][n]=r,this.select.row=s,this.select.col=n,this.select.text=this.keyboard[s][n].text},moveRow(o=0){if(this.selectedRow==null)return;let t=this.keyboard.length,s=o===0?this.selectedRow-1>=0?this.selectedRow-1:t-1:this.selectedRow<t-1?this.selectedRow+1:0,i=this.keyboard[this.selectedRow];this.keyboard[this.selectedRow]=this.keyboard[s],this.keyboard[s]=i,this.selectedRow=s},openKeyboardEditorMenu(o,t){this.mode=1},save(){this.$emit("save",this.keyboard)},onJsonChange(o){this.keyboard=o,this.save()},removeColFromRow(){let o=this.selectedRow;this.keyboard[o].length>1?this.keyboard[o].splice(this.keyboard[o].length-1,1):this.keyboard.splice(o,1),this.keyboard.length===0&&(this.selectedRow=null),this.save()},addRowAbove(){this.addRow(!0)},addRowBelow(){this.addRow(!1)},addRow(o=!1){if(this.selectedRow==null)this.keyboard?this.keyboard.push([{text:"No Text"}]):this.keyboard=[[{text:"No Text"}]],this.selectedRow=null;else{let t=o?this.selectedRow:this.selectedRow+1;this.keyboard.splice(t,0,[{text:"No Text"}])}this.save()},addColToRow(){let o=this.selectedRow;this.keyboard[o].push({text:"No Text"}),this.save()},selectIndex(o,t){this.selectedRow=o,this.select.row=o,this.select.col=t,this.keyboard[o]&&(this.select.text=this.keyboard[o][t].text),this.load=!0,this.$nextTick(()=>{this.load=!1})},removeCol(o,t){this.keyboard[o].length>1?this.keyboard[o].splice(t,1):this.keyboard.splice(1,1),this.save()}}},_sfc_main$15=Object.assign(__default__$K,{__name:"KeyboardConstructor",setup(o){return(t,s)=>{const i=resolveComponent("Popper"),a=resolveComponent("PagesList"),n=resolveComponent("InlineQueryList");return openBlock(),createElementBlock(Fragment,null,[!t.editor&&t.mode===0?(openBlock(),createElementBlock("div",_hoisted_1$16,[createVNode(i,null,{content:withCtx(()=>[_hoisted_3$15]),default:withCtx(()=>[_hoisted_2$15]),_:1}),createBaseVNode("div",_hoisted_4$12,[t.selectedRow==null?(openBlock(),createElementBlock("button",{key:0,title:"добавление в нижнюю часть новой строки (кнопки)",type:"button",class:"btn btn-link mb-2 w-100",style:{"font-size":"12px"},onClick:s[0]||(s[0]=(...r)=>t.addRow&&t.addRow(...r))},[_hoisted_5$12,createTextVNode(" Добавить строку ")])):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:1,type:"button",title:"добавление строки над выбранной строкой",class:"btn btn-primary mb-2 mr-2",onClick:s[1]||(s[1]=(...r)=>t.addRowAbove&&t.addRowAbove(...r))},_hoisted_7$11)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:2,type:"button",title:"добавление строки под выбранной строкой",class:"btn btn-primary mb-2 mr-2",onClick:s[2]||(s[2]=(...r)=>t.addRowBelow&&t.addRowBelow(...r))},_hoisted_9$T)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:3,type:"button",class:"btn btn-primary mb-2 mr-2",onClick:s[3]||(s[3]=r=>t.moveRow(0))},_hoisted_11$K)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:4,type:"button",class:"btn btn-primary mb-2 mr-2",onClick:s[4]||(s[4]=r=>t.moveRow(1))},_hoisted_13$F)):createCommentVNode("",!0),t.selectedRow!=null?(openBlock(),createElementBlock("button",{key:5,type:"button",class:"btn btn-outline-danger mb-2 mr-2",onClick:s[5]||(s[5]=r=>t.selectedRow=null)},_hoisted_15$C)):createCommentVNode("",!0)]),(t.keyboard||[]).length===0?(openBlock(),createElementBlock("p",_hoisted_16$D,"Элементы клавиатуры еще не добавлены")):createCommentVNode("",!0),(t.keyboard||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_17$B,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.keyboard,(r,l)=>(openBlock(),createElementBlock("div",_hoisted_18$B,[createBaseVNode("div",_hoisted_19$z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r,(d,c)=>(openBlock(),createElementBlock("div",{style:{"margin-right":"5px"},class:"btn-group dropdown-center w-100 mb-1",onClick:_=>t.selectIndex(l,c)},[withDirectives(createBaseVNode("input",{style:{"font-size":"10px"},type:"text",class:"btn btn-outline-light text-primary w-100","onUpdate:modelValue":_=>t.keyboard[l][c].text=_},null,8,_hoisted_21$y),[[vModelText,t.keyboard[l][c].text]]),createBaseVNode("div",_hoisted_22$y,[_hoisted_23$v,createBaseVNode("ul",_hoisted_24$u,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:_=>t.openKeyboardEditorMenu(l,c),href:"javascript:void(0)"},"Редактор",8,_hoisted_25$u)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",title:"добавление кнопки на строку",class:"dropdown-item",onClick:s[6]||(s[6]=_=>t.addColToRow())},[_hoisted_26$s,createTextVNode(" Добавить ")])):createCommentVNode("",!0)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",title:"удаление крайней левой кнопки из строки либо самой строки",class:"dropdown-item",onClick:s[7]||(s[7]=_=>t.removeColFromRow())},[_hoisted_27$q,createTextVNode(" Удалить ")])):createCommentVNode("",!0)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"dropdown-item",onClick:s[8]||(s[8]=_=>t.moveCol(0))},[_hoisted_28$p,createTextVNode(" Переместить ")])):createCommentVNode("",!0)]),createBaseVNode("li",null,[t.selectedRow!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"dropdown-item",onClick:s[9]||(s[9]=_=>t.moveCol(1))},[_hoisted_29$n,createTextVNode(" Переместить ")])):createCommentVNode("",!0)])])])],8,_hoisted_20$z))),256))])]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_30$n,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=r=>t.showCode=r),id:"showCode"+t.uuid},null,8,_hoisted_31$n),[[vModelCheckbox,t.showCode]]),createBaseVNode("label",{class:"form-check-label",for:"showCode"+t.uuid}," Отобразить код ",8,_hoisted_32$m)]),t.showCode?(openBlock(),createElementBlock("div",_hoisted_33$m,[_hoisted_34$m,t.load?createCommentVNode("",!0):(openBlock(),createBlock(unref(Vue3JsonEditor),{key:0,mode:"code",modelValue:t.keyboard,"onUpdate:modelValue":s[11]||(s[11]=r=>t.keyboard=r),"show-btns":!1,expandedOnStart:!0,onJsonChange:t.onJsonChange},null,8,["modelValue","onJsonChange"]))])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.mode===1?(openBlock(),createElementBlock("div",_hoisted_35$m,[createBaseVNode("div",_hoisted_36$m,[createBaseVNode("div",_hoisted_37$m,[createBaseVNode("button",{type:"button",onClick:s[12]||(s[12]=r=>t.mode=0),class:"btn btn-outline-light text-primary"},"Назад ")]),createBaseVNode("form",_hoisted_38$k,[_hoisted_39$k,createBaseVNode("div",_hoisted_40$i,[createBaseVNode("div",_hoisted_41$i,[createBaseVNode("div",_hoisted_42$i,[withDirectives(createBaseVNode("input",{type:"text",id:"command-title-"+t.select.row+"-col-"+t.select.col,class:"form-control border-light","onUpdate:modelValue":s[13]||(s[13]=r=>t.keyboard[t.select.row][t.select.col].text=r)},null,8,_hoisted_43$i),[[vModelText,t.keyboard[t.select.row][t.select.col].text]]),_hoisted_44$i]),createBaseVNode("button",{type:"button",onClick:s[14]||(s[14]=(...r)=>t.openPageModal&&t.openPageModal(...r)),class:"btn btn-outline-light","aria-expanded":"false"},_hoisted_46$i)])]),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_47$h,[withDirectives(createBaseVNode("input",{type:"text",onChange:s[15]||(s[15]=r=>t.needRemoveField("callback_data",t.select.row,t.select.col)),"onUpdate:modelValue":s[16]||(s[16]=r=>t.keyboard[t.select.row][t.select.col].callback_data=r),class:"form-control",id:"command-row-"+t.select.row+"-col-"+t.select.col,placeholder:"/start"},null,40,_hoisted_48$g),[[vModelText,t.keyboard[t.select.row][t.select.col].callback_data]]),createBaseVNode("label",{for:"command-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда (для меню в сообщении)",8,_hoisted_49$g)])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_50$g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",onChange:s[17]||(s[17]=r=>t.needRemoveField("switch_inline_query",t.select.row,t.select.col)),"onUpdate:modelValue":s[18]||(s[18]=r=>t.keyboard[t.select.row][t.select.col].switch_inline_query=r),id:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,placeholder:"@YourAccountLink"},null,40,_hoisted_51$g),[[vModelText,t.keyboard[t.select.row][t.select.col].switch_inline_query]]),createBaseVNode("label",{for:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка на аккаунт в ТЕЛЕГРАММ",8,_hoisted_52$g)])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_53$e,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",onChange:s[19]||(s[19]=r=>t.needRemoveField("url",t.select.row,t.select.col)),"onUpdate:modelValue":s[20]||(s[20]=r=>t.keyboard[t.select.row][t.select.col].url=r),id:"url-row-"+t.select.row+"-col-"+t.colIndex,placeholder:"https://t.me/example"},null,40,_hoisted_54$e),[[vModelText,t.keyboard[t.select.row][t.select.col].url]]),createBaseVNode("label",{for:"url-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Внешняя URL-ссылка",8,_hoisted_55$d)])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_56$d,[createBaseVNode("label",{for:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда всплывающего меню бота",8,_hoisted_57$d),_hoisted_58$d,createBaseVNode("div",_hoisted_59$c,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",onChange:s[21]||(s[21]=r=>t.needRemoveField("switch_inline_query_current_chat",t.select.row,t.select.col)),"onUpdate:modelValue":s[22]||(s[22]=r=>t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat=r),id:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,placeholder:"команда"},null,40,_hoisted_60$9),[[vModelText,t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat]]),createBaseVNode("button",{type:"button",onClick:s[23]||(s[23]=(...r)=>t.openInlineQueryModal&&t.openInlineQueryModal(...r)),class:"btn btn-outline-primary","aria-expanded":"false"},_hoisted_62$8)])])):createCommentVNode("",!0),o.type==="inline"?(openBlock(),createElementBlock("div",_hoisted_63$8,[createBaseVNode("div",_hoisted_64$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[24]||(s[24]=r=>t.need_login_url=r),type:"checkbox",id:"need-login-url"},null,512),[[vModelCheckbox,t.need_login_url]]),_hoisted_65$8]),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_66$8,[createBaseVNode("label",{for:"login-link-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка авторизации ",8,_hoisted_67$8),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":s[25]||(s[25]=r=>t.keyboard[t.select.row][t.select.col].login_url.url=r),id:"login-link-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Ссылка авторизации",required:""},null,8,_hoisted_68$8),[[vModelText,t.keyboard[t.select.row][t.select.col].login_url.url]])])):createCommentVNode("",!0),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_69$8,[createBaseVNode("label",{for:"login-link-forward-text-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Новый текст кнопки в пересылаемых сообщениях ",8,_hoisted_70$8),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":s[26]||(s[26]=r=>t.keyboard[t.select.row][t.select.col].login_url.forward_text=r),id:"login-link-forward-text-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Текст кнопки"},null,8,_hoisted_71$8),[[vModelText,t.keyboard[t.select.row][t.select.col].login_url.forward_text]])])):createCommentVNode("",!0),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_72$7,[createBaseVNode("label",{for:"login-link-bot-username-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Имя бота, которое будет использоваться для авторизации ",8,_hoisted_73$7),withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":s[27]||(s[27]=r=>t.keyboard[t.select.row][t.select.col].login_url.bot_username=r),id:"login-link-bot-username-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Имя бота"},null,8,_hoisted_74$7),[[vModelText,t.keyboard[t.select.row][t.select.col].login_url.bot_username]])])):createCommentVNode("",!0),t.need_login_url?(openBlock(),createElementBlock("div",_hoisted_75$7,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[28]||(s[28]=r=>t.keyboard[t.select.row][t.select.col].login_url.request_write_access=r),type:"checkbox",id:"need-request_write_access"},null,512),[[vModelCheckbox,t.keyboard[t.select.row][t.select.col].login_url.request_write_access]]),_hoisted_76$7])):createCommentVNode("",!0)])):createCommentVNode("",!0),o.type==="reply"?(openBlock(),createElementBlock("div",_hoisted_77$7,[createBaseVNode("input",{type:"radio",onChange:s[29]||(s[29]=r=>t.needRemoveField(null,t.select.row,t.select.col)),name:"request-radio",class:"form-check-input",id:"no-action-row-"+t.select.row+"-col-"+t.select.col},null,40,_hoisted_78$6),createBaseVNode("label",{class:"form-check-label",for:"no-action-row-"+t.select.row+"-col-"+t.select.col}," Без действий ",8,_hoisted_79$5)])):createCommentVNode("",!0),o.type==="reply"?(openBlock(),createElementBlock("div",_hoisted_80$5,[createBaseVNode("input",{type:"radio",onChange:s[30]||(s[30]=r=>t.needRemoveField("request_contact",t.select.row,t.select.col)),onClick:s[31]||(s[31]=r=>t.keyboard[t.select.row][t.select.col].request_contact=!0),name:"request-radio",checked:t.keyboard[t.select.row][t.select.col].request_contact,class:"form-check-input",id:"phone-row-"+t.select.row+"-col-"+t.select.col},null,40,_hoisted_81$5),createBaseVNode("label",{class:"form-check-label",for:"phone-row-"+t.select.row+"-col-"+t.select.col}," Запросить телефон ",8,_hoisted_82$5)])):createCommentVNode("",!0),o.type==="reply"?(openBlock(),createElementBlock("div",_hoisted_83$5,[createBaseVNode("input",{type:"radio",name:"request-radio",checked:t.keyboard[t.select.row][t.select.col].request_location,onChange:s[32]||(s[32]=r=>t.needRemoveField("request_location",t.select.row,t.select.col)),onClick:s[33]||(s[33]=r=>t.keyboard[t.select.row][t.select.col].request_location=!0),class:"form-check-input",id:"location-row-"+t.select.row+"-col-"+t.select.col},null,40,_hoisted_84$3),createBaseVNode("label",{class:"form-check-label",for:"location-row-"+t.select.row+"-col-"+t.select.col}," Запросить локацию ",8,_hoisted_85$3)])):createCommentVNode("",!0)])]),_hoisted_86$3])):createCommentVNode("",!0),createBaseVNode("div",{class:"modal fade",id:"page-list-in-keyboard-"+t.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_88$3,[createBaseVNode("div",_hoisted_89$3,[createBaseVNode("div",_hoisted_90$3,[createVNode(a,{onCallback:t.attachPage,editor:!1},null,8,["onCallback"])])])])],8,_hoisted_87$3),createBaseVNode("div",{class:"modal fade",id:"inline-query-list-in-keyboard-"+t.uuid,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_92$3,[createBaseVNode("div",_hoisted_93$3,[createBaseVNode("div",_hoisted_94$3,[createVNode(n,{onSelect:t.selectInlineQuery},null,8,["onSelect"])])])])],8,_hoisted_91$3)],64)}}}),_hoisted_1$15={class:"row py-2"},_hoisted_2$14={class:"col-12"},_hoisted_3$14={class:"input-group mb-2"},_hoisted_4$11={class:"form-floating"},_hoisted_5$11=createBaseVNode("label",{for:"floatingInput"},"Поиск рассылки",-1),_hoisted_6$11={class:"col-12"},_hoisted_7$10={class:"w-100",style:{"overflow-x":"scroll"}},_hoisted_8$W={key:0,class:"table w-100"},_hoisted_9$S=createBaseVNode("th",{scope:"col"},"Есть нижняя клавиатура",-1),_hoisted_10$N=createBaseVNode("th",{scope:"col"},"Есть клавиатура под текстом",-1),_hoisted_11$J=createBaseVNode("th",{scope:"col"},"Действие",-1),_hoisted_12$J={scope:"row"},_hoisted_13$E=["onClick"],_hoisted_14$C={style:{"min-width":"150px"}},_hoisted_15$B={key:0,class:"mb-0"},_hoisted_16$C={key:1},_hoisted_17$A={style:{"min-width":"150px"}},_hoisted_18$A={key:0,class:"dropdown"},_hoisted_19$y=createBaseVNode("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-ellipsis"})],-1),_hoisted_20$y={class:"dropdown-menu"},_hoisted_21$x={key:0},_hoisted_22$x=["onClick"],_hoisted_23$u={key:0},_hoisted_24$t=createBaseVNode("div",{class:"alert alert-warning",role:"alert"},[createBaseVNode("strong",null,"Внимание!"),createTextVNode(" Вы еще не добавили ни одной рассылки! ")],-1),_hoisted_25$t=[_hoisted_24$t],_hoisted_26$r={key:0,class:"col-12"},__default__$J={data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,queues:[],search:null,paginate_object:null}},computed:{...mapGetters(["getQueues","getQueuesPaginateObject"])},mounted(){this.loadQueues()},methods:{removeQueue(o){this.loading=!0,this.$store.dispatch("removeQueue",{queueId:o}).then(t=>{this.loading=!1,this.loadQueues(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},createQueue(){this.$emit("create")},nextQueues(o){this.loadQueues(o)},selectEvent(o){this.$emit("select",o)},loadAndOrder(o){this.order=o,this.direction=this.direction==="desc"?"asc":"desc",this.loadQueues(0)},loadQueues(o=0){this.loading=!0,this.$store.dispatch("loadQueues",{dataObject:{search:this.search,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.queues=this.getQueues,this.paginate_object=this.getQueuesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$14=Object.assign(__default__$J,{__name:"MailingTable",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$15,[createBaseVNode("div",_hoisted_2$14,[createBaseVNode("div",_hoisted_3$14,[createBaseVNode("div",_hoisted_4$11,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control border-light",id:"floatingInput",placeholder:"Поиск рассылки"},null,512),[[vModelText,t.search]]),_hoisted_5$11]),createBaseVNode("button",{class:"btn btn-outline-light",onClick:s[1]||(s[1]=i=>t.loadQueues(0)),type:"button",id:"queue-search-queue"},"Найти ")])]),createBaseVNode("div",_hoisted_6$11,[createBaseVNode("div",_hoisted_7$10,[t.queues.length>0?(openBlock(),createElementBlock("table",_hoisted_8$W,[createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col",class:"cursor-pointer",onClick:s[2]||(s[2]=i=>t.loadAndOrder("id"))},"#"),createBaseVNode("th",{scope:"col",style:{"min-width":"200px"},class:"cursor-pointer",onClick:s[3]||(s[3]=i=>t.loadAndOrder("content"))},"Содержимое"),_hoisted_9$S,_hoisted_10$N,createBaseVNode("th",{scope:"col",class:"cursor-pointer",onClick:s[4]||(s[4]=i=>t.loadAndOrder("images"))},"Изображения к рассылке"),createBaseVNode("th",{scope:"col",style:{"min-width":"150px"},class:"cursor-pointer",onClick:s[5]||(s[5]=i=>t.loadAndOrder("sent_at"))},"Отправлено в"),createBaseVNode("th",{scope:"col",style:{"min-width":"150px"},class:"cursor-pointer",onClick:s[6]||(s[6]=i=>t.loadAndOrder("cron_time"))},"Дата отправки"),_hoisted_11$J])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.queues,(i,a)=>(openBlock(),createElementBlock("tr",{class:normalizeClass({"border-info":i.deleted_at==null,"border-danger":i.deleted_at!=null})},[createBaseVNode("th",_hoisted_12$J,toDisplayString(i.id),1),createBaseVNode("td",{style:{"min-width":"200px"},onClick:n=>t.selectEvent(i)},toDisplayString(i.content||"Не указано"),9,_hoisted_13$E),createBaseVNode("td",null,toDisplayString(i.reply_keyboard?"Есть":"Нет"),1),createBaseVNode("td",null,toDisplayString(i.inline_keyboard?"Есть":"Нет"),1),createBaseVNode("td",null,toDisplayString((i.images||[]).length),1),createBaseVNode("td",_hoisted_14$C,[i.sent_at?(openBlock(),createElementBlock("p",_hoisted_15$B,toDisplayString(t.$filters.currentFull(i.sent_at)),1)):(openBlock(),createElementBlock("p",_hoisted_16$C,"Не задано"))]),createBaseVNode("td",_hoisted_17$A,toDisplayString(t.$filters.currentFull(i.cron_time)),1),createBaseVNode("td",null,[i.id?(openBlock(),createElementBlock("div",_hoisted_18$A,[_hoisted_19$y,createBaseVNode("ul",_hoisted_20$y,[i.deleted_at==null?(openBlock(),createElementBlock("li",_hoisted_21$x,[createBaseVNode("a",{class:"dropdown-item",onClick:n=>t.removeQueue(i.id),href:"javascript:void(0)"},"Удалить",8,_hoisted_22$x)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)])],2))),256))])])):createCommentVNode("",!0)]),t.queues.length===0?(openBlock(),createElementBlock("div",_hoisted_23$u,_hoisted_25$t)):createCommentVNode("",!0)]),t.queues.length>0?(openBlock(),createElementBlock("div",_hoisted_26$r,[t.paginate_object?(openBlock(),createBlock(Pagination$2,{key:0,onPagination_page:t.nextQueues,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}}),_hoisted_1$14={class:"form-floating mb-2"},_hoisted_2$13={for:"floatingTextarea"},_hoisted_3$13={key:0,class:"small"},_hoisted_4$10={class:"form-check"},_hoisted_5$10=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения в рассылке (максимум 10) ",-1),_hoisted_6$10={key:0,class:"mb-2"},_hoisted_7$$=createBaseVNode("div",{class:"divider my-3"},"Изображения",-1),_hoisted_8$V={key:0,class:"mb-2"},_hoisted_9$R={class:"fw-bold text-primary"},_hoisted_10$M=createBaseVNode("span",{class:"fw-bold text-primary"},"10",-1),_hoisted_11$I=createBaseVNode("button",{type:"button",class:"btn btn-outline-light text-primary w-100 p-3","data-bs-toggle":"modal","data-bs-target":"#select-images"},[createBaseVNode("i",{class:"fa-solid fa-image mr-2"}),createTextVNode(" Выбрать изображение ")],-1),_hoisted_12$I={class:"modal fade",id:"select-images","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_13$D={class:"modal-dialog modal-fullscreen"},_hoisted_14$B={class:"modal-content"},_hoisted_15$A={class:"modal-body"},_hoisted_16$B={class:"modal-footer"},_hoisted_17$z={key:0},_hoisted_18$z={key:1},_hoisted_19$x={class:"form-check"},_hoisted_20$x=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_21$w={key:1,class:"mb-2"},_hoisted_22$w=createBaseVNode("div",{class:"divider my-3"},"Меню",-1),_hoisted_23$t=createBaseVNode("button",{class:"btn mb-2 w-100 p-3 btn-outline-light text-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#show-keyboard-template-list"}," Открыть шаблоны меню ",-1),_hoisted_24$s={class:"modal fade",id:"show-keyboard-template-list","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_25$s={class:"modal-dialog modal-fullscreen"},_hoisted_26$q={class:"modal-content"},_hoisted_27$p={class:"modal-body"},_hoisted_28$o=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"button",class:"btn btn-primary p-3 w-100",id:"show-keyboard-template-list-btn-close","data-bs-dismiss":"modal"},"Выбрать и закрыть ")],-1),_hoisted_29$m=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Вы можете указать "),createBaseVNode("span",{class:"fw-bold text-primary"},"любое время"),createTextVNode(" для рассылки! Наши рассылки запускаются "),createBaseVNode("span",{class:"fw-bold text-primary"},"каждые 2 часа"),createTextVNode(" и будут выполнены, если указанное вами время уже наступило. ")],-1),_hoisted_30$m={class:"form-floating mb-2"},_hoisted_31$m=createBaseVNode("label",{for:"floatingInput"},"Планируемое время",-1),_hoisted_32$l=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3"},[createBaseVNode("i",{class:"fa-regular fa-paper-plane mr-2"}),createTextVNode(" Поставить в очередь ")],-1),_hoisted_33$l=createBaseVNode("div",{class:"divider my-3"},[createBaseVNode("i",{class:"fa-solid fa-hourglass-half text-primary mr-2"}),createTextVNode(" Рассылки в очереди")],-1),_hoisted_34$l={key:2,class:"alert alert-light d-flex justify-content-center align-items-center flex-column py-3",role:"alert"},_hoisted_35$l=createBaseVNode("div",{class:"spinner-border",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем...")],-1),_hoisted_36$l=createBaseVNode("p",{class:"mt-3 mb-0"},"Загружаем...",-1),_hoisted_37$l=[_hoisted_35$l,_hoisted_36$l],__default__$I={data(){return{load_form:!0,load:!0,showInlineTemplateSelector:!1,need_page_images:!1,need_inline_menu:!1,mailForm:{id:null,message:null,inline_keyboard:null,cron_time:null,images:[]}}},watch:{need_inline_menu:{handler:function(o){this.need_inline_menu},deep:!0},need_page_images:{handler:function(o){this.need_page_images||(this.mailForm.images=[])},deep:!0}},computed:{currentBot(){return window.currentBot}},methods:{clearImages(){this.mailForm.images=[],this.$notify({title:"Отлично!",text:"Изображения успешно очищены!",type:"success"})},selectMailing(o){o.inline_keyboard&&(this.need_inline_menu=!0),this.load_form=!1,this.$nextTick(()=>{this.mailForm.id=o.id||null,this.mailForm.cron_time=o.cron_time?this.$filters.local(o.cron_time):null,this.mailForm.images=o.images||[],this.mailForm.message=o.content||null,this.load_form=!0,this.mailForm.images.length>0&&(this.need_page_images=!0),o.inline_keyboard&&(this.mailForm.inline_keyboard={menu:JSON.parse(o.inline_keyboard)}),window.scroll(0,0)})},selectImages(o){(!this.mailForm.images||typeof this.mailForm.images=="string")&&(this.mailForm.images=[]);let t=this.mailForm.images.indexOf(o.file_id);t!==-1?this.mailForm.images.splice(t,1):this.mailForm.images.push(o.file_id)},addTextTo(o={param:null,text:null}){this.mailForm.channel=o.text},submitMail(){this.load=!1;let o=new FormData;Object.keys(this.mailForm).forEach(t=>{const s=this.mailForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("storeQueue",{queueForm:o}).then(t=>{this.load=!0,this.need_inline_menu=!1,this.need_page_images=!1,this.mailForm={message:"",images:null,inline_keyboard:null},this.$notify({title:"Отлично!",text:"Сообщение успешно отправлено в очередь рассылки!",type:"success"})}).catch(t=>{this.$notify({title:"Упс...",text:"Ошибка отправки сообщения в очередь",type:"error"})})},saveInlineKeyboard(o){this.mailForm.inline_keyboard=o},selectInlineKeyboard(o){this.showInlineTemplateSelector=!0,this.$nextTick(()=>{this.mailForm.inline_keyboard=o,this.showInlineTemplateSelector=!1});let t=document.querySelector("#show-keyboard-template-list-btn-close");t&&t.click()},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.images.splice(o,1)},removeImage(o){this.mailForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.images.push(t[s])}}},_sfc_main$13=Object.assign(__default__$I,{__name:"MailToBot",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.currentBot&&t.load_form?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[5]||(s[5]=withModifiers((...i)=>t.submitMail&&t.submitMail(...i),["prevent"])),class:"py-3"},[createBaseVNode("div",_hoisted_1$14,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[0]||(s[0]=i=>t.mailForm.message=i),maxlength:"4096",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,t.mailForm.message]]),createBaseVNode("label",_hoisted_2$13,[createTextVNode("Текстовое содержимое рассылки "),t.mailForm.message?(openBlock(),createElementBlock("span",_hoisted_3$13,toDisplayString((t.mailForm.message||"").length)+"/4096 ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_4$10,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[1]||(s[1]=i=>t.need_page_images=i),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_5$10]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_6$10,[_hoisted_7$$,(t.mailForm.images||[]).length>0?(openBlock(),createElementBlock("p",_hoisted_8$V,[createTextVNode("Выбрано "),createBaseVNode("span",_hoisted_9$R,toDisplayString(t.mailForm.images.length),1),createTextVNode(" из "),_hoisted_10$M,createTextVNode(" изображений. Нажмите "),createBaseVNode("span",{class:"fw-bold text-danger text-decoration-underline cursor-pointer",onClick:s[2]||(s[2]=(...i)=>t.clearImages&&t.clearImages(...i))},"очистить"),createTextVNode(" чтоб отменить выбор изображений.")])):createCommentVNode("",!0),_hoisted_11$I,createBaseVNode("div",_hoisted_12$I,[createBaseVNode("div",_hoisted_13$D,[createBaseVNode("div",_hoisted_14$B,[createBaseVNode("div",_hoisted_15$A,[createVNode(_sfc_main$2t,{"need-photo":!0,selected:t.mailForm.images,onSelect:t.selectImages},null,8,["selected","onSelect"])]),createBaseVNode("div",_hoisted_16$B,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-secondary":(t.mailForm.images||[]).length===0,"btn-primary":(t.mailForm.images||[]).length>0},"btn w-100 p-3"]),"data-bs-dismiss":"modal"},[(t.mailForm.images||[]).length===0?(openBlock(),createElementBlock("span",_hoisted_17$z,"Закрыть")):createCommentVNode("",!0),(t.mailForm.images||[]).length>0?(openBlock(),createElementBlock("span",_hoisted_18$z,"Выбрать и закрыть")):createCommentVNode("",!0)],2)])])])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_19$x,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[3]||(s[3]=i=>t.need_inline_menu=i),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_20$x]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_21$w,[_hoisted_22$w,_hoisted_23$t,createBaseVNode("div",_hoisted_24$s,[createBaseVNode("div",_hoisted_25$s,[createBaseVNode("div",_hoisted_26$q,[createBaseVNode("div",_hoisted_27$p,[createVNode(_sfc_main$2o,{class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])]),_hoisted_28$o])])]),t.showInlineTemplateSelector?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$15,{key:0,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.mailForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),_hoisted_29$m,createBaseVNode("div",_hoisted_30$m,[withDirectives(createBaseVNode("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=i=>t.mailForm.cron_time=i),required:"",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.mailForm.cron_time]]),_hoisted_31$m]),_hoisted_32$l],32)):createCommentVNode("",!0),_hoisted_33$l,t.load?(openBlock(),createBlock(_sfc_main$14,{key:1,onSelect:t.selectMailing},null,8,["onSelect"])):(openBlock(),createElementBlock("div",_hoisted_34$l,_hoisted_37$l))],64))}}),_hoisted_1$13={key:0,class:"container py-3"},_hoisted_2$12={class:"row"},_hoisted_3$12={class:"col-12"},_hoisted_4$$={class:"nav nav-tabs justify-content-center catalog-tabs"},_hoisted_5$$={class:"nav-item"},_hoisted_6$$=createBaseVNode("i",{class:"fa-solid fa-robot mr-2"},null,-1),_hoisted_7$_={class:"nav-item"},_hoisted_8$U=createBaseVNode("i",{class:"fa-regular fa-message mr-2"},null,-1),_hoisted_9$Q={key:0,class:"col-12"},_hoisted_10$L={key:1,class:"col-12"},__default__$H={data(){return{tab:0,loading:!1}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})}},_sfc_main$12=Object.assign(__default__$H,{__name:"Mailing",setup(o){return(t,s)=>t.getSelf?(openBlock(),createElementBlock("div",_hoisted_1$13,[createBaseVNode("div",_hoisted_2$12,[createBaseVNode("div",_hoisted_3$12,[createBaseVNode("ul",_hoisted_4$$,[createBaseVNode("li",_hoisted_5$$,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[0]||(s[0]=i=>t.tab=0),style:{"font-weight":"bold"},"aria-current":"page",href:"javascript:void(0)"},[_hoisted_6$$,createTextVNode("В бота")],2)]),createBaseVNode("li",_hoisted_7$_,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[1]||(s[1]=i=>t.tab=1),style:{"font-weight":"bold"},href:"javascript:void(0)"},[_hoisted_8$U,createTextVNode("В канал")],2)])])]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_9$Q,[createVNode(_sfc_main$16)])):createCommentVNode("",!0),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_10$L,[createVNode(_sfc_main$13)])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}),Mailing=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$12},Symbol.toStringTag,{value:"Module"})),_hoisted_1$12=createBaseVNode("p",{class:"my-3"},"Введите номер телефона (или фрагмент) пользователя или его Ф.И.О.",-1),_hoisted_2$11={class:"form-floating mb-3"},_hoisted_3$11=createBaseVNode("label",{for:"floatingInput"},"Кого ищем?",-1),_hoisted_4$_={class:"d-flex w-100",style:{"overflow-x":"scroll"}},_hoisted_5$_={class:"scroll d-flex px-2",style:{"min-width":"1300px"}},_hoisted_6$_={class:"form-check form-switch mx-2"},_hoisted_7$Z=createBaseVNode("label",{class:"form-check-label",for:"need-admins-checkbox"},"Только администраторы",-1),_hoisted_8$T={class:"form-check form-switch mx-2"},_hoisted_9$P=createBaseVNode("label",{class:"form-check-label",for:"need-with-phone-checkbox"},"Только с телефоном",-1),_hoisted_10$K={class:"form-check form-switch mx-2"},_hoisted_11$H=createBaseVNode("label",{class:"form-check-label",for:"need-deliveryman"},"Только доставщики",-1),_hoisted_12$H={class:"form-check form-switch mx-2"},_hoisted_13$C=createBaseVNode("label",{class:"form-check-label",for:"need-without-phone-checkbox"},"Только без телефоном",-1),_hoisted_14$A={class:"form-check form-switch mx-2"},_hoisted_15$z=createBaseVNode("label",{class:"form-check-label",for:"need-vip-checkbox"},"Только VIP",-1),_hoisted_16$A={class:"form-check form-switch mx-2"},_hoisted_17$y=createBaseVNode("label",{class:"form-check-label",for:"need-not-vip-checkbox"},"Только не VIP",-1),_hoisted_18$y=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3 my-3"},[createBaseVNode("i",{class:"fa-solid fa-magnifying-glass mr-2"}),createTextVNode("Искать ")],-1),_hoisted_19$w={key:0},_hoisted_20$w={class:"w-100 text-center mb-2 small"},_hoisted_21$v={class:"text-primary fw-bold"},_hoisted_22$v={class:"list-group"},_hoisted_23$s=["onClick"],_hoisted_24$r={key:0,class:"fa-solid fa-a text-danger mr-2"},_hoisted_25$r={key:1,class:"fa-solid fa-u text-success mr-2"},_hoisted_26$p={key:2,style:{"font-size":"12px"}},_hoisted_27$o={key:3,style:{"font-size":"12px"}},_hoisted_28$n={style:{"font-size":"12px"}},_hoisted_29$l=createStaticVNode('<div class="card card-info mb-3"><div class="card-body"><p class="mb-2"><i class="fa-solid fa-a text-danger mr-2"></i> - администратор системы</p><p class="mb-0"><i class="fa-solid fa-u text-success mr-2"></i> - пользователь</p></div></div>',1),_hoisted_30$l=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),_hoisted_31$l=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),__default__$G={props:["selectedBotUser"],data(){return{loading:!0,users:null,search:null,need_admins:!1,need_vip:!1,need_not_vip:!1,need_with_phone:!1,need_without_phone:!1,need_deliveryman:!1,users_paginate_object:null}},computed:{...mapGetters(["getUsers","getUsersPaginateObject"])},mounted(){this.loadUsers(0)},methods:{downloadBotUsers(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotUsers").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})},downloadCashBackHistory(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadCashBackHistory").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})},nextUsers(o){this.loadUsers(o)},selectUser(o){this.$emit("select",o)},loadUsers(o=0){this.loading=!0,this.$store.dispatch("loadUsers",{dataObject:{search:this.search,need_admins:this.need_admins,need_vip:this.need_vip,need_not_vip:this.need_not_vip,need_deliveryman:this.need_deliveryman,need_with_phone:this.need_with_phone,need_without_phone:this.need_without_phone},page:o}).then(t=>{this.loading=!1,this.users=this.getUsers,this.users_paginate_object=this.getUsersPaginateObject,this.$emit("cancel")}).catch(()=>{this.loading=!1})}}},_sfc_main$11=Object.assign(__default__$G,{__name:"Users",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$12,createBaseVNode("form",{onSubmit:s[7]||(s[7]=withModifiers(i=>t.loadUsers(0),["prevent"]))},[createBaseVNode("div",_hoisted_2$11,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_3$11]),createBaseVNode("div",_hoisted_4$_,[createBaseVNode("div",_hoisted_5$_,[createBaseVNode("div",_hoisted_6$_,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[1]||(s[1]=i=>t.need_admins=i),value:"false",type:"checkbox",role:"switch",id:"need-admins-checkbox"},null,512),[[vModelCheckbox,t.need_admins]]),_hoisted_7$Z]),createBaseVNode("div",_hoisted_8$T,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=i=>t.need_with_phone=i),value:"false",type:"checkbox",role:"switch",id:"need-with-phone-checkbox"},null,512),[[vModelCheckbox,t.need_with_phone]]),_hoisted_9$P]),createBaseVNode("div",_hoisted_10$K,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[3]||(s[3]=i=>t.need_deliveryman=i),value:"false",type:"checkbox",role:"switch",id:"need-deliveryman"},null,512),[[vModelCheckbox,t.need_deliveryman]]),_hoisted_11$H]),createBaseVNode("div",_hoisted_12$H,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=i=>t.need_without_phone=i),value:"false",type:"checkbox",role:"switch",id:"need-without-phone-checkbox"},null,512),[[vModelCheckbox,t.need_without_phone]]),_hoisted_13$C]),createBaseVNode("div",_hoisted_14$A,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[5]||(s[5]=i=>t.need_vip=i),value:"false",type:"checkbox",role:"switch",id:"need-vip-checkbox"},null,512),[[vModelCheckbox,t.need_vip]]),_hoisted_15$z]),createBaseVNode("div",_hoisted_16$A,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[6]||(s[6]=i=>t.need_not_vip=i),value:"false",type:"checkbox",role:"switch",id:"need-not-vip-checkbox"},null,512),[[vModelCheckbox,t.need_not_vip]]),_hoisted_17$y])])]),_hoisted_18$y],32),t.users?(openBlock(),createElementBlock("div",_hoisted_19$w,[createBaseVNode("p",_hoisted_20$w,[createTextVNode("Найдено пользователей "),createBaseVNode("span",_hoisted_21$v,toDisplayString(t.users_paginate_object.meta.total),1)]),createBaseVNode("ul",_hoisted_22$v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.users,(i,a)=>(openBlock(),createElementBlock("li",{onClick:n=>t.selectUser(i),class:normalizeClass([{"bg-primary text-white":i.id==(o.selectedBotUser||{id:null}).id},"list-group-item d-flex justify-content-between"])},[createBaseVNode("div",null,[i.is_admin?(openBlock(),createElementBlock("i",_hoisted_24$r)):(openBlock(),createElementBlock("i",_hoisted_25$r)),(i.name||i.fio_from_telegram||"Не указано").length>26?(openBlock(),createElementBlock("span",_hoisted_26$p,toDisplayString((i.name||i.fio_from_telegram||"Не указано").substring(0,26))+"...",1)):(openBlock(),createElementBlock("span",_hoisted_27$o,toDisplayString(i.name||i.fio_from_telegram||"Не указано"),1))]),createBaseVNode("strong",_hoisted_28$n,toDisplayString(i.phone||"Телефон не указан"),1)],10,_hoisted_23$s))),256))]),t.users_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,class:"mt-4",onPagination_page:t.nextUsers,pagination:t.users_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),_hoisted_29$l,createBaseVNode("a",{href:"javascript:void(0)",onClick:s[8]||(s[8]=(...i)=>t.downloadBotUsers&&t.downloadBotUsers(...i)),class:"btn btn-outline-info w-100 p-3 mb-2"},[_hoisted_30$l,createTextVNode(" Скачать список пользователей ")]),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[9]||(s[9]=(...i)=>t.downloadCashBackHistory&&t.downloadCashBackHistory(...i)),class:"btn btn-outline-info w-100 p-3 mb-2"},[_hoisted_31$l,createTextVNode(" Скачать историю CashBack ")])],64))}}),_hoisted_1$11={class:"mb-2 d-flex justify-content-between w-100 align-items-center"},_hoisted_2$10={class:"badge bg-primary"},_hoisted_3$10={key:0,style:{"font-size":"12px"}},_hoisted_4$Z=createBaseVNode("i",{class:"fa-solid fa-check mr-2 text-success"},null,-1),_hoisted_5$Z={key:1,style:{"font-size":"12px"}},_hoisted_6$Z=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1 text-danger"},null,-1),_hoisted_7$Y=createBaseVNode("i",{class:"fa-solid fa-stopwatch mr-1 text-primary"},null,-1),_hoisted_8$S={key:0},_hoisted_9$O={class:"mb-2"},_hoisted_10$J={class:"fw-bold"},_hoisted_11$G=["disabled"],_hoisted_12$G={key:0,class:"color-white"},_hoisted_13$B={key:1,class:"color-white"},__default__$F={props:["item"],data(){return{spent_time_counter:0}},mounted(){localStorage.getItem("cashman_order_cashback_add_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_order_cashback_add_counter")||0))},methods:{addCashBack(){this.startTimer(),this.$store.dispatch("addCashBackToOrder",{order_id:this.item.id}).then(()=>{this.item.is_cashback_crediting=!0,this.$notify({title:"Отзывы",text:"Вы успешно начислили CashBack пользователю",type:"success"})}).catch(()=>{this.item.is_cashback_crediting=!1,this.$notify({title:"Отзывы",text:"Ошибка начисления CashBack",type:"error"})})},select(o){return this.$emit("select",o)},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_order_cashback_add_counter",this.spent_time_counter)},1e3)}}},_sfc_main$10=Object.assign(__default__$F,{__name:"OrderItem",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",{onClick:s[2]||(s[2]=i=>t.select(o.item)),style:{"font-weight":"bold"},class:"list-group-item d-flex justify-content-between p-3 align-items-start flex-column","aria-current":"true"},[createBaseVNode("p",_hoisted_1$11,[createBaseVNode("span",_hoisted_2$10,"Заказ #"+toDisplayString(o.item.id),1),o.item.is_cashback_crediting?(openBlock(),createElementBlock("span",_hoisted_3$10,[_hoisted_4$Z,createTextVNode(" CashBack начислен")])):(openBlock(),createElementBlock("span",_hoisted_5$Z,[_hoisted_6$Z,createTextVNode(" CashBack не начислен")]))]),createBaseVNode("p",null,[_hoisted_7$Y,createTextVNode(" Время заказа "+toDisplayString(o.item.created_at),1)]),(o.item.product_details||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_8$S,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.item.product_details[0].products,i=>(openBlock(),createElementBlock("li",null,toDisplayString(i.title),1))),256))])):createCommentVNode("",!0),createBaseVNode("p",_hoisted_9$O,[createTextVNode("Цена заказа: "),createBaseVNode("strong",_hoisted_10$J,toDisplayString(o.item.summary_price)+" руб.",1)]),o.item.review?(openBlock(),createBlock(_sfc_main$1A,{key:1,"is-admin":!0,modelValue:o.item.review,"onUpdate:modelValue":s[0]||(s[0]=i=>o.item.review=i)},null,8,["modelValue"])):createCommentVNode("",!0),o.item.is_cashback_crediting?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:2,type:"button",disabled:t.spent_time_counter>0,onClick:s[1]||(s[1]=(...i)=>t.addCashBack&&t.addCashBack(...i)),class:"btn btn-outline-success w-100 mt-2"},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_12$G,"Начислить CashBack")):(openBlock(),createElementBlock("span",_hoisted_13$B,"Осталось ждать "+toDisplayString(t.spent_time_counter||0)+" сек.",1))],8,_hoisted_11$G))]))}}),_hoisted_1$10={class:"row"},_hoisted_2$$={class:"col-12"},_hoisted_3$$=createBaseVNode("h5",{class:"my-3"},[createBaseVNode("i",{class:"fa-solid fa-list-check mr-1 text-primary"}),createTextVNode(" Список заказов")],-1),_hoisted_4$Y={class:"form-floating mb-2"},_hoisted_5$Y=createBaseVNode("label",{for:"floatingInput"},"Поиск по заказам",-1),_hoisted_6$Y={class:"col-12"},_hoisted_7$X={class:"nav nav-tabs justify-content-center"},_hoisted_8$R={class:"nav-item"},_hoisted_9$N={class:"nav-item"},_hoisted_10$I={key:0,class:"col-12"},_hoisted_11$F={class:"form-floating my-2"},_hoisted_12$F=createBaseVNode("option",{value:"id"},"По номеру заказа",-1),_hoisted_13$A=createBaseVNode("option",{value:"is_cashback_crediting"},"По начислению CashBack",-1),_hoisted_14$z=createBaseVNode("option",{value:"summary_price"},"По цене заказа",-1),_hoisted_15$y=createBaseVNode("option",{value:"product_count"},"По числу товара в заказе",-1),_hoisted_16$z=createBaseVNode("option",{value:"updated_at"},"По дате добавления",-1),_hoisted_17$x=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_18$x={key:0},_hoisted_19$v=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_20$v=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_21$u={key:1,class:"list-group my-2"},_hoisted_22$u={key:2,class:"d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},_hoisted_23$r=createBaseVNode("div",{class:"d-flex justify-content-center flex-column align-items-center"},[createBaseVNode("i",{class:"fa-brands fa-shopify mb-3",style:{"font-size":"36px"}}),createBaseVNode("p",null,"Заказов еще нет:(")],-1),_hoisted_24$q=[_hoisted_23$r],_hoisted_25$q={key:1,class:"col-12"},_hoisted_26$o=createBaseVNode("hr",null,null,-1),__default__$E={props:["botUser"],data(){return{search:null,tab:0,sort:{param:"id",direction:"desc"},orders:null,orders_paginate_object:null,reviews:[],reviews_paginate_object:null}},computed:{...mapGetters(["getOrders","getOrdersPaginateObject","inCart","getReviews","getReviewsPaginateObject"]),tg(){return window.Telegram.WebApp}},mounted(){this.loadOrders(),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{changeDirection(o){this.sort.direction=o,this.loadOrders(0)},loadProductInOrders(o=0){return this.tab=1,this.$store.dispatch("loadReviews",{dataObject:{bot_user_id:this.botUser?this.botUser.id:null},page:o||0,size:20}).then(()=>{this.reviews=this.getReviews,this.reviews_paginate_object=this.getReviewsPaginateObject})},nextOrders(o){this.loadOrders(o)},nextReviews(o){this.loadProductInOrders(o)},loadOrders(o=0){return this.$store.dispatch("loadAllOrders",{dataObject:{search:this.search||null,order_by:this.sort.param||null,direction:this.sort.direction||"asc",bot_user_id:this.botUser?this.botUser.id:null},page:o,size:20}).then(()=>{this.orders=this.getOrders,this.orders_paginate_object=this.getOrdersPaginateObject})}}},_sfc_main$$=Object.assign(__default__$E,{__name:"OrderList",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$10,[createBaseVNode("div",_hoisted_2$$,[_hoisted_3$$,createBaseVNode("div",_hoisted_4$Y,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_5$Y])]),createBaseVNode("div",_hoisted_6$Y,[createBaseVNode("ul",_hoisted_7$X,[createBaseVNode("li",_hoisted_8$R,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[1]||(s[1]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},"Заказы",2)]),createBaseVNode("li",_hoisted_9$N,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[2]||(s[2]=i=>t.loadProductInOrders(0)),href:"javascript:void(0)"},"Товары",2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_10$I,[createBaseVNode("div",_hoisted_11$F,[withDirectives(createBaseVNode("select",{onChange:s[3]||(s[3]=i=>t.loadOrders(0)),"onUpdate:modelValue":s[4]||(s[4]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_12$F,_hoisted_13$A,createTextVNode(" > "),_hoisted_14$z,_hoisted_15$y,_hoisted_16$z],544),[[vModelSelect,t.sort.param]]),_hoisted_17$x]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_18$x,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:s[5]||(s[5]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_19$v])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:s[6]||(s[6]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_20$v])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.orders||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_21$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.orders,i=>(openBlock(),createBlock(_sfc_main$10,{item:i},null,8,["item"]))),256))])):(openBlock(),createElementBlock("div",_hoisted_22$u,_hoisted_24$q)),t.orders_paginate_object?(openBlock(),createBlock(Pagination,{key:3,simple:!0,onPagination_page:t.nextOrders,pagination:t.orders_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_25$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(i,a)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$1A,{"is-admin":!0,modelValue:t.reviews[a],"onUpdate:modelValue":n=>t.reviews[a]=n,"need-product":!0},null,8,["modelValue","onUpdate:modelValue"]),_hoisted_26$o],64))),256)),t.reviews_paginate_object?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.reviews_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))}}),_sfc_main$_={props:["botUser"],data(){return{isEdit:!1,messages:[],botUserForm:{id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:null,blocked_message:null}}},watch:{isEdit:function(){this.botUserForm.id=this.botUser.id,this.botUserForm.is_vip=this.botUser.is_vip,this.botUserForm.is_admin=this.botUser.is_admin,this.botUserForm.is_work=this.botUser.is_work,this.botUserForm.is_manager=this.botUser.is_manager,this.botUserForm.is_deliveryman=this.botUser.is_deliveryman,this.botUserForm.user_in_location=this.botUser.user_in_location,this.botUserForm.name=this.botUser.name||this.botUser.username||this.botUser.id,this.botUserForm.phone=this.botUser.phone,this.botUserForm.email=this.botUser.email,this.botUserForm.birthday=this.botUser.birthday||null,this.botUserForm.city=this.botUser.city||null,this.botUserForm.country=this.botUser.country||null,this.botUserForm.address=this.botUser.address||null,this.botUserForm.sex=this.botUser.sex||!1,this.botUserForm.is_blocked=this.botUser.blocked_at!=null,this.botUserForm.blocked_message=this.botUser.blocked_message||null}},methods:{alert(o){this.messages.push(o)},removeMessage(o){this.messages.splice(o,1)},submit(){this.$store.dispatch("updateBotUser",{botUserForm:this.botUserForm}).then(()=>{this.isEdit=!1,this.messages=[],this.botUserForm={id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:!1},this.$emit("update"),this.$notify({title:"Редактирование данных",text:"Данные успешно обновлены!",type:"success"})}).catch(()=>{this.$notify({title:"Редактирование данных",text:"Ошибка обновления данных",type:"error"})})}}},_hoisted_1$$={key:0},_hoisted_2$_=createBaseVNode("i",{class:"fa-solid fa-user-pen mr-2"},null,-1),_hoisted_3$_={key:1},_hoisted_4$X=createBaseVNode("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),_hoisted_5$X={key:0},_hoisted_6$X=createBaseVNode("h6",null,"Основные данные пользователя",-1),_hoisted_7$W={class:"table"},_hoisted_8$Q=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_9$M=createBaseVNode("th",{scope:"row"},"ID в системе",-1),_hoisted_10$H={class:"font-weight-bold"},_hoisted_11$E=createBaseVNode("th",{scope:"row"},"Дата регистрации",-1),_hoisted_12$E={class:"font-weight-bold"},_hoisted_13$z=createBaseVNode("th",{scope:"row"},"Телеграм ID",-1),_hoisted_14$y={class:"font-weight-bold"},_hoisted_15$x=createBaseVNode("th",{scope:"row"},"Имя",-1),_hoisted_16$y={class:"font-weight-bold"},_hoisted_17$w=createBaseVNode("th",{scope:"row"},"Имя из телеграмма",-1),_hoisted_18$w={class:"font-weight-bold"},_hoisted_19$u=createBaseVNode("th",{scope:"row"},"Домен пользователя",-1),_hoisted_20$u={class:"font-weight-bold"},_hoisted_21$t=createBaseVNode("th",{scope:"row"},"Номер телефона",-1),_hoisted_22$t={class:"font-weight-bold"},_hoisted_23$q=createBaseVNode("th",{scope:"row"},"Возраст",-1),_hoisted_24$p={class:"font-weight-bold"},_hoisted_25$p=createBaseVNode("th",{scope:"row"},"Пол",-1),_hoisted_26$n={class:"font-weight-bold"},_hoisted_27$n=createBaseVNode("th",{scope:"row"},"Страна",-1),_hoisted_28$m={class:"font-weight-bold"},_hoisted_29$k=createBaseVNode("th",{scope:"row"},"Город",-1),_hoisted_30$k={class:"font-weight-bold"},_hoisted_31$k=createBaseVNode("th",{scope:"row"},"Адрес",-1),_hoisted_32$k={class:"font-weight-bold"},_hoisted_33$k=createBaseVNode("h6",null,"Статусы пользователя",-1),_hoisted_34$k={class:"table"},_hoisted_35$k=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-gray1-dark"},[createBaseVNode("th",{scope:"col",class:"color-theme"},"Ключ"),createBaseVNode("th",{scope:"col",class:"color-theme"},"Значение")])],-1),_hoisted_36$k=createBaseVNode("th",{scope:"row"},"VIP",-1),_hoisted_37$k={class:"font-weight-bold"},_hoisted_38$j=createBaseVNode("th",{scope:"row"},"Администратор",-1),_hoisted_39$j={class:"font-weight-bold"},_hoisted_40$h=createBaseVNode("th",{scope:"row"},"Доставщик",-1),_hoisted_41$h={class:"font-weight-bold"},_hoisted_42$h=createBaseVNode("th",{scope:"row"},"На работе",-1),_hoisted_43$h={class:"font-weight-bold"},_hoisted_44$h=createBaseVNode("th",{scope:"row"},"В заведении",-1),_hoisted_45$h={class:"font-weight-bold"},_hoisted_46$h={key:0},_hoisted_47$g=createBaseVNode("th",{scope:"row"},"Пользователь заблокирован",-1),_hoisted_48$f={class:"font-weight-bold"},_hoisted_49$f={class:"mb-0"},_hoisted_50$f={class:"mb-0"},_hoisted_51$f={class:"form-floating mb-2"},_hoisted_52$f=createBaseVNode("label",{for:""},"Ф.И.О пользователя",-1),_hoisted_53$d={class:"form-floating mb-2"},_hoisted_54$d=createBaseVNode("label",{for:""},"Телефон",-1),_hoisted_55$c={class:"form-floating mb-2"},_hoisted_56$c=createBaseVNode("label",{for:""},"Почта",-1),_hoisted_57$c={class:"form-floating mb-2"},_hoisted_58$c=createBaseVNode("label",{for:""},"Адрес",-1),_hoisted_59$b={class:"form-floating mb-2"},_hoisted_60$8=createBaseVNode("label",{for:""},"Дата рождения",-1),_hoisted_61$8={class:"form-floating mb-2"},_hoisted_62$7=createBaseVNode("label",{for:""},"Страна",-1),_hoisted_63$7={class:"form-floating mb-2"},_hoisted_64$7=createBaseVNode("label",{for:""},"Город",-1),_hoisted_65$7={class:"row mb-0"},_hoisted_66$7=createBaseVNode("p",{class:"col-12 my-2"},"Администратор",-1),_hoisted_67$7={class:"col-6"},_hoisted_68$7=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_69$7={class:"col-6"},_hoisted_70$7=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_71$7={class:"row mb-0"},_hoisted_72$6=createBaseVNode("p",{class:"col-12 my-2"},"VIP",-1),_hoisted_73$6={class:"col-6"},_hoisted_74$6=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_75$6={class:"col-6"},_hoisted_76$6=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_77$6={class:"row mb-0"},_hoisted_78$5=createBaseVNode("p",{class:"col-12 my-2"},"Доставщик",-1),_hoisted_79$4={class:"col-6"},_hoisted_80$4=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_81$4={class:"col-6"},_hoisted_82$4=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_83$4={class:"row mb-0"},_hoisted_84$2=createBaseVNode("p",{class:"col-12 my-2"},"Менеджер",-1),_hoisted_85$2={class:"col-6"},_hoisted_86$2=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_87$2={class:"col-6"},_hoisted_88$2=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_89$2={class:"row mb-0"},_hoisted_90$2=createBaseVNode("p",{class:"col-12 my-2"},"Работает",-1),_hoisted_91$2={class:"col-6"},_hoisted_92$2=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_93$2={class:"col-6"},_hoisted_94$2=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_95$2={class:"row mb-0"},_hoisted_96$2=createBaseVNode("p",{class:"col-12 my-2"},"В заведении",-1),_hoisted_97$2={class:"col-6"},_hoisted_98$2=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_99$2={class:"col-6"},_hoisted_100$2=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_101$2={class:"row mb-0"},_hoisted_102$2=createBaseVNode("p",{class:"col-12 my-2"},"Блокировка пользователя",-1),_hoisted_103$2={class:"col-6"},_hoisted_104$2=createBaseVNode("i",{class:"fa-solid fa-check mr-1"},null,-1),_hoisted_105$2={class:"col-6"},_hoisted_106$2=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_107$2={key:0,class:"col-12"},_hoisted_108$2={class:"form-floating my-2"},_hoisted_109$2=createBaseVNode("label",{for:""},"Сообщение блокировки",-1),_hoisted_110$2={class:"row mb-0"},_hoisted_111$2=createBaseVNode("p",{class:"col-12 my-2"},"Пол",-1),_hoisted_112$2={class:"col-6"},_hoisted_113$2=createBaseVNode("i",{class:"fa-solid fa-mars mr-1"},null,-1),_hoisted_114$2={class:"col-6"},_hoisted_115$2=createBaseVNode("i",{class:"fa-solid fa-venus mr-1"},null,-1),_hoisted_116$2={class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},_hoisted_117$2={class:"custom-alert-text"},_hoisted_118$2=["onClick"],_hoisted_119$2=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 my-3 w-100"}," Сохранить ")],-1);function _sfc_render$m(o,t,s,i,a,n){const r=resolveDirective("mask");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=l=>a.isEdit=!a.isEdit),class:"btn btn-outline-light text-primary w-100 p-3 mb-2"},[a.isEdit?(openBlock(),createElementBlock("span",_hoisted_3$_,[_hoisted_4$X,createTextVNode(" Завершить редактирование")])):(openBlock(),createElementBlock("span",_hoisted_1$$,[_hoisted_2$_,createTextVNode(" Редактировать пользователя")]))]),a.isEdit?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_5$X,[_hoisted_6$X,createBaseVNode("table",_hoisted_7$W,[_hoisted_8$Q,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_9$M,createBaseVNode("td",_hoisted_10$H,toDisplayString(s.botUser.id||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_11$E,createBaseVNode("td",_hoisted_12$E,toDisplayString(o.$filters.current(s.botUser.created_at)),1)]),createBaseVNode("tr",null,[_hoisted_13$z,createBaseVNode("td",_hoisted_14$y,toDisplayString(s.botUser.telegram_chat_id||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.name==null})},[_hoisted_15$x,createBaseVNode("td",_hoisted_16$y,toDisplayString(s.botUser.name||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_17$w,createBaseVNode("td",_hoisted_18$w,toDisplayString(s.botUser.fio_from_telegram||"Не указано"),1)]),createBaseVNode("tr",null,[_hoisted_19$u,createBaseVNode("td",_hoisted_20$u,toDisplayString(s.botUser.username||"Не указано"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.phone==null})},[_hoisted_21$t,createBaseVNode("td",_hoisted_22$t,toDisplayString(s.botUser.phone||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.age==null})},[_hoisted_23$q,createBaseVNode("td",_hoisted_24$p,toDisplayString(s.botUser.age||"Не указано"),1)],2),createBaseVNode("tr",null,[_hoisted_25$p,createBaseVNode("td",_hoisted_26$n,toDisplayString(s.botUser.sex?"Мужчина":"Женщина"),1)]),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.country==null})},[_hoisted_27$n,createBaseVNode("td",_hoisted_28$m,toDisplayString(s.botUser.country||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.city==null})},[_hoisted_29$k,createBaseVNode("td",_hoisted_30$k,toDisplayString(s.botUser.city||"Не указано"),1)],2),createBaseVNode("tr",{class:normalizeClass({"bg-red1-light":s.botUser.address==null})},[_hoisted_31$k,createBaseVNode("td",_hoisted_32$k,toDisplayString(s.botUser.address||"Не указано"),1)],2)])]),_hoisted_33$k,createBaseVNode("table",_hoisted_34$k,[_hoisted_35$k,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_36$k,createBaseVNode("td",_hoisted_37$k,toDisplayString(s.botUser.is_vip?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_38$j,createBaseVNode("td",_hoisted_39$j,toDisplayString(s.botUser.is_admin?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_40$h,createBaseVNode("td",_hoisted_41$h,toDisplayString(s.botUser.is_deliveryman?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_42$h,createBaseVNode("td",_hoisted_43$h,toDisplayString(s.botUser.is_work?"Да":"Нет"),1)]),createBaseVNode("tr",null,[_hoisted_44$h,createBaseVNode("td",_hoisted_45$h,toDisplayString(s.botUser.user_in_location?"Да":"Нет"),1)]),s.botUser.blocked_at?(openBlock(),createElementBlock("tr",_hoisted_46$h,[_hoisted_47$g,createBaseVNode("td",_hoisted_48$f,[createBaseVNode("p",_hoisted_49$f,toDisplayString(o.$filters.current(s.botUser.blocked_at)),1),createBaseVNode("p",_hoisted_50$f,[createBaseVNode("em",null,toDisplayString(s.botUser.blocked_message??"Без сообщения"),1)])])])):createCommentVNode("",!0)])])])),a.isEdit?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[27]||(t[27]=withModifiers((...l)=>n.submit&&n.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_51$f,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=l=>a.botUserForm.name=l),onInvalid:t[2]||(t[2]=l=>n.alert("Вы не указали имя!")),placeholder:"Иванов Иван Иванович",required:""},null,544),[[vModelText,a.botUserForm.name]]),_hoisted_52$f]),createBaseVNode("div",_hoisted_53$d,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=l=>a.botUserForm.phone=l),onInvalid:t[4]||(t[4]=l=>n.alert("Вы не указали телефон!")),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,544),[[vModelText,a.botUserForm.phone],[r,"+7(###)###-##-##"]]),_hoisted_54$d]),createBaseVNode("div",_hoisted_55$c,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=l=>a.botUserForm.email=l),placeholder:"example@gmail.com"},null,512),[[vModelText,a.botUserForm.email]]),_hoisted_56$c]),createBaseVNode("div",_hoisted_57$c,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=l=>a.botUserForm.address=l),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[vModelText,a.botUserForm.address]]),_hoisted_58$c]),createBaseVNode("div",_hoisted_59$b,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=l=>a.botUserForm.birthday=l),placeholder:"12/01/2023"},null,512),[[vModelText,a.botUserForm.birthday]]),_hoisted_60$8]),createBaseVNode("div",_hoisted_61$8,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=l=>a.botUserForm.country=l),placeholder:"Россия"},null,512),[[vModelText,a.botUserForm.country]]),_hoisted_62$7]),createBaseVNode("div",_hoisted_63$7,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=l=>a.botUserForm.city=l),placeholder:"Краснодар"},null,512),[[vModelText,a.botUserForm.city]]),_hoisted_64$7]),createBaseVNode("div",_hoisted_65$7,[_hoisted_66$7,createBaseVNode("div",_hoisted_67$7,[createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=l=>a.botUserForm.is_admin=!0),class:normalizeClass([{"btn-info":a.botUserForm.is_admin,"btn-outline-secondary":!a.botUserForm.is_admin},"w-100 btn"])},[_hoisted_68$7,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_69$7,[createBaseVNode("button",{type:"button",onClick:t[11]||(t[11]=l=>a.botUserForm.is_admin=!1),class:normalizeClass([{"btn-info":!a.botUserForm.is_admin,"btn-outline-secondary":a.botUserForm.is_admin},"w-100 btn"])},[_hoisted_70$7,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_71$7,[_hoisted_72$6,createBaseVNode("div",_hoisted_73$6,[createBaseVNode("button",{type:"button",onClick:t[12]||(t[12]=l=>a.botUserForm.is_vip=!0),class:normalizeClass([{"btn-info":a.botUserForm.is_vip,"btn-outline-secondary":!a.botUserForm.is_vip},"w-100 btn"])},[_hoisted_74$6,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_75$6,[createBaseVNode("button",{type:"button",onClick:t[13]||(t[13]=l=>a.botUserForm.is_vip=!1),class:normalizeClass([{"btn-info":!a.botUserForm.is_vip,"btn-outline-secondary":a.botUserForm.is_vip},"w-100 btn"])},[_hoisted_76$6,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_77$6,[_hoisted_78$5,createBaseVNode("div",_hoisted_79$4,[createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=l=>a.botUserForm.is_deliveryman=!0),class:normalizeClass([{"btn-info":a.botUserForm.is_deliveryman,"btn-outline-secondary":!a.botUserForm.is_deliveryman},"w-100 btn"])},[_hoisted_80$4,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_81$4,[createBaseVNode("button",{type:"button",onClick:t[15]||(t[15]=l=>a.botUserForm.is_deliveryman=!1),class:normalizeClass([{"btn-info":!a.botUserForm.is_deliveryman,"btn-outline-secondary":a.botUserForm.is_deliveryman},"w-100 btn"])},[_hoisted_82$4,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_83$4,[_hoisted_84$2,createBaseVNode("div",_hoisted_85$2,[createBaseVNode("button",{type:"button",onClick:t[16]||(t[16]=l=>a.botUserForm.is_manager=!0),class:normalizeClass([{"btn-info":a.botUserForm.is_manager,"btn-outline-secondary":!a.botUserForm.is_manager},"w-100 btn"])},[_hoisted_86$2,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_87$2,[createBaseVNode("button",{type:"button",onClick:t[17]||(t[17]=l=>a.botUserForm.is_manager=!1),class:normalizeClass([{"btn-info":!a.botUserForm.is_manager,"btn-outline-secondary":a.botUserForm.is_manager},"w-100 btn"])},[_hoisted_88$2,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_89$2,[_hoisted_90$2,createBaseVNode("div",_hoisted_91$2,[createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=l=>a.botUserForm.is_work=!0),class:normalizeClass([{"btn-info":a.botUserForm.is_work,"btn-outline-secondary":!a.botUserForm.is_work},"w-100 btn"])},[_hoisted_92$2,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_93$2,[createBaseVNode("button",{type:"button",onClick:t[19]||(t[19]=l=>a.botUserForm.is_work=!1),class:normalizeClass([{"btn-info":!a.botUserForm.is_work,"btn-outline-secondary":a.botUserForm.is_work},"w-100 btn"])},[_hoisted_94$2,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_95$2,[_hoisted_96$2,createBaseVNode("div",_hoisted_97$2,[createBaseVNode("button",{type:"button",onClick:t[20]||(t[20]=l=>a.botUserForm.user_in_location=!0),class:normalizeClass([{"btn-info":a.botUserForm.user_in_location,"btn-outline-secondary":!a.botUserForm.user_in_location},"w-100 btn"])},[_hoisted_98$2,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_99$2,[createBaseVNode("button",{type:"button",onClick:t[21]||(t[21]=l=>a.botUserForm.user_in_location=!1),class:normalizeClass([{"btn-info":!a.botUserForm.user_in_location,"btn-outline-secondary":a.botUserForm.user_in_location},"w-100 btn"])},[_hoisted_100$2,createTextVNode(" Нет ")],2)])]),createBaseVNode("div",_hoisted_101$2,[_hoisted_102$2,createBaseVNode("div",_hoisted_103$2,[createBaseVNode("button",{type:"button",onClick:t[22]||(t[22]=l=>a.botUserForm.is_blocked=!0),class:normalizeClass([{"btn-info":a.botUserForm.is_blocked,"btn-outline-secondary":!a.botUserForm.is_blocked},"w-100 btn"])},[_hoisted_104$2,createTextVNode(" Да ")],2)]),createBaseVNode("div",_hoisted_105$2,[createBaseVNode("button",{type:"button",onClick:t[23]||(t[23]=l=>a.botUserForm.is_blocked=!1),class:normalizeClass([{"btn-info":!a.botUserForm.is_blocked,"btn-outline-secondary":a.botUserForm.is_blocked},"w-100 btn"])},[_hoisted_106$2,createTextVNode(" Нет ")],2)]),a.botUserForm.is_blocked?(openBlock(),createElementBlock("div",_hoisted_107$2,[createBaseVNode("div",_hoisted_108$2,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control","onUpdate:modelValue":t[24]||(t[24]=l=>a.botUserForm.blocked_message=l),style:{"min-height":"150px"},placeholder:"Увы и ах.. "},`
                     `,512),[[vModelText,a.botUserForm.blocked_message]]),_hoisted_109$2])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_110$2,[_hoisted_111$2,createBaseVNode("div",_hoisted_112$2,[createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=l=>a.botUserForm.sex=!0),class:normalizeClass([{"btn-info text-white":a.botUserForm.sex,"btn-outline-secondary":!a.botUserForm.sex},"w-100 btn"])},[_hoisted_113$2,createTextVNode(" Муж ")],2)]),createBaseVNode("div",_hoisted_114$2,[createBaseVNode("button",{type:"button",onClick:t[26]||(t[26]=l=>a.botUserForm.sex=!1),class:normalizeClass([{"btn-info text-white":!a.botUserForm.sex,"btn-outline-secondary":a.botUserForm.sex},"w-100 btn"])},[_hoisted_115$2,createTextVNode(" Жен ")],2)])]),a.messages.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.messages,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_116$2,[createBaseVNode("p",_hoisted_117$2,toDisplayString(l||"Ошибка"),1),createBaseVNode("button",{type:"button",onClick:c=>n.removeMessage(d),class:"close color-white opacity-60 font-16"},"× ",8,_hoisted_118$2)]))),256)):createCommentVNode("",!0),_hoisted_119$2],32)):createCommentVNode("",!0)],64)}const UserInfo=_export_sfc(_sfc_main$_,[["render",_sfc_render$m]]),_hoisted_1$_=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-to-user",class:"btn btn-outline-light text-primary w-100 p-3"},"Написать пользователю сообщение",-1),_hoisted_2$Z={class:"modal fade",id:"message-to-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$Z={class:"modal-dialog modal-fullscreen"},_hoisted_4$W=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$W={class:"modal-body"},_hoisted_6$W={class:"mb-3"},_hoisted_7$V={class:"form-floating mb-3"},_hoisted_8$P=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Написать сообщение",-1),_hoisted_9$L={class:"form-check form-switch"},_hoisted_10$G=createBaseVNode("label",{for:"toggle-need-media"},"Нужен медиа контент",-1),_hoisted_11$D={key:0,class:"mb-3"},_hoisted_12$D={class:"modal-footer"},_hoisted_13$y=["disabled"],__default__$D={props:["botUser"],data(){return{loading:!1,locationForm:{info:null,content:null,content_type:null,need_media_content:!1}}},methods:{acceptUserInLocation(){this.loading=!0,this.$store.dispatch("userMessage",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.locationForm}}).then(o=>{this.loading=!1,this.locationForm.info=null,this.locationForm.content=null,this.locationForm.content_type=null,this.locationForm.need_media_content=!1,this.$notify({title:"Отлично!",text:"Вы отметили пользователя в заведении и отправили ему сообщение",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})},goToUserChatHistory(){this.$router.push({name:"AdminChatLog",params:{botUserId:this.botUser.id}})},selectMediaForMessage(o){this.locationForm.content=o.file_id||null,this.locationForm.content_type=o.type||null}}},_sfc_main$Z=Object.assign(__default__$D,{__name:"MessageToUser",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",null,[_hoisted_1$_,createBaseVNode("div",_hoisted_2$Z,[createBaseVNode("div",_hoisted_3$Z,[createBaseVNode("form",{onSubmit:s[3]||(s[3]=withModifiers((...i)=>t.acceptUserInLocation&&t.acceptUserInLocation(...i),["prevent"])),class:"modal-content"},[_hoisted_4$W,createBaseVNode("div",_hoisted_5$W,[createBaseVNode("div",_hoisted_6$W,[createBaseVNode("a",{href:"javascript:void(0)",class:"btn btn-link w-100",onClick:s[0]||(s[0]=(...i)=>t.goToUserChatHistory&&t.goToUserChatHistory(...i))},"Глянуть историю переписки с пользователем")]),createBaseVNode("div",_hoisted_7$V,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":s[1]||(s[1]=i=>t.locationForm.info=i),id:"bill-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,t.locationForm.info]]),_hoisted_8$P]),createBaseVNode("div",_hoisted_9$L,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=i=>t.locationForm.need_media_content=i),type:"checkbox",role:"switch",id:"toggle-need-media"},null,512),[[vModelCheckbox,t.locationForm.need_media_content]]),_hoisted_10$G]),t.locationForm.need_media_content?(openBlock(),createElementBlock("div",_hoisted_11$D,[createVNode(_sfc_main$2t,{"need-audio":!0,"need-video-note":!0,"need-video":!0,"need-photo":!0,onSelect:t.selectMediaForMessage,selected:[t.locationForm.content]},null,8,["onSelect","selected"])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$D,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_13$y)])],32)])])]))}}),_sfc_main$Y={props:["botUser"],data(){return{loading:!1,cashbackForm:{percent:null,need_custom_percents:!1,category:null,amount:null,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{removeCashBack(){if(!this.botUser.telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("removeCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.$notify({title:"Отлично!",text:"Вы успешно списали кэшбэк",type:"success"}),this.$emit("callback")}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$Z=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#remove-cashback-from-user",class:"btn btn-outline-light text-primary w-100 p-3"},"Списать CashBack",-1),_hoisted_2$Y={class:"modal fade",id:"remove-cashback-from-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$Y={class:"modal-dialog modal-fullscreen"},_hoisted_4$V=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$V={class:"modal-body"},_hoisted_6$V={class:"mb-2"},_hoisted_7$U={key:1},_hoisted_8$O=createBaseVNode("h6",null,"В боте поддерживается списание CashBack по категориям",-1),_hoisted_9$K={class:"form-floating mb-3"},_hoisted_10$F=createBaseVNode("option",{selected:"",value:null},"Общий CashBack",-1),_hoisted_11$C=["value"],_hoisted_12$C=createBaseVNode("label",{for:"floatingSelect"},"Категория CashBack-а",-1),_hoisted_13$x={class:"form-floating mb-3"},_hoisted_14$x=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма списания CashBack, руб",-1),_hoisted_15$w={class:"form-floating mb-3"},_hoisted_16$x=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Причина списания",-1),_hoisted_17$v={class:"modal-footer"},_hoisted_18$v=["disabled"];function _sfc_render$l(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[_hoisted_1$Z,createBaseVNode("div",_hoisted_2$Y,[createBaseVNode("div",_hoisted_3$Y,[createBaseVNode("form",{onSubmit:t[3]||(t[3]=withModifiers((...r)=>n.removeCashBack&&n.removeCashBack(...r),["prevent"])),class:"modal-content"},[_hoisted_4$V,createBaseVNode("div",_hoisted_5$V,[createBaseVNode("p",null,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(s.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),s.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.botUser.cashBack.subs,r=>(openBlock(),createElementBlock("p",_hoisted_6$V,toDisplayString(r.title||"Без названия")+" - "+toDisplayString(r.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),n.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_7$U,[_hoisted_8$O,createBaseVNode("div",_hoisted_9$K,[withDirectives(createBaseVNode("select",{class:"form-select",id:"floatingSelect","onUpdate:modelValue":t[0]||(t[0]=r=>a.cashbackForm.category=r),required:""},[_hoisted_10$F,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.currentBot.cashback_config,r=>(openBlock(),createElementBlock("option",{value:r.title},toDisplayString(r.title||"Без названия"),9,_hoisted_11$C))),256))],512),[[vModelSelect,a.cashbackForm.category]]),_hoisted_12$C])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$x,[withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":t[1]||(t[1]=r=>a.cashbackForm.amount=r),placeholder:"Сумма",required:""},null,512),[[vModelText,a.cashbackForm.amount]]),_hoisted_14$x]),createBaseVNode("div",_hoisted_15$w,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":t[2]||(t[2]=r=>a.cashbackForm.info=r),style:{"min-height":"200px"},id:"bill-info",rows:"3",required:""},null,512),[[vModelText,a.cashbackForm.info]]),_hoisted_16$x])]),createBaseVNode("div",_hoisted_17$v,[createBaseVNode("button",{disabled:a.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_18$v)])],32)])])])}const RemoveCashBack=_export_sfc(_sfc_main$Y,[["render",_sfc_render$l]]),_sfc_main$X={props:["botUser"],data(){return{loading:!1,cashbackForm:{percent:null,need_custom_percents:!1,need_user_review:!1,category:null,amount:null,message:null,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{addCashBack(){if(!this.botUser.telegram_chat_id){this.$botNotification.warning("Упс!","Вы должны выбрать пользователя!");return}this.loading=!0,this.$store.dispatch("addCashBack",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.cashbackForm}}).then(o=>{this.loading=!1,this.cashbackForm.amount=0,this.cashbackForm.info=null,this.cashbackForm.message=null,this.$emit("callback"),this.$notify({title:"Отлично!",text:"Вы успешно начислили кэшбэк",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$Y=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#add-cashback-to-user",class:"btn btn-outline-light text-primary w-100 p-3"},"Начислить CashBack",-1),_hoisted_2$X={class:"modal fade",id:"add-cashback-to-user",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$X={class:"modal-dialog modal-fullscreen"},_hoisted_4$U=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$U={class:"modal-body"},_hoisted_6$U={class:"mb-2"},_hoisted_7$T={class:"mb-2"},_hoisted_8$N={key:1},_hoisted_9$J=createBaseVNode("h6",null,"В боте поддерживается начисление CashBack по категориям",-1),_hoisted_10$E={class:"form-floating"},_hoisted_11$B=createBaseVNode("option",{selected:"",value:null},"Общий CashBack",-1),_hoisted_12$B=["value"],_hoisted_13$w=createBaseVNode("label",{for:"floatingSelect"},"Категории CashBack",-1),_hoisted_14$w=createBaseVNode("em",null,"Начисления по реферальной системе происходя только для общего CashBack-а. CashBack-по категориям не суммируется с общим и отображается пользователю отдельно.",-1),_hoisted_15$v={class:"form-check my-3"},_hoisted_16$w=createBaseVNode("label",{class:"form-check-label",for:"need_user_review"}," Нужен отзыв от пользователя ",-1),_hoisted_17$u={class:"form-check my-3"},_hoisted_18$u=createBaseVNode("label",{class:"form-check-label",for:"need_custom_cashback_amount"}," Нужен нестандартный % CashBack ",-1),_hoisted_19$t={key:2,class:"form-floating mb-3"},_hoisted_20$t=createBaseVNode("label",{for:"bill-percent",class:"form-label"},"% CashBack-а",-1),_hoisted_21$s={class:"form-floating mb-3"},_hoisted_22$s=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Сумма в чеке, руб",-1),_hoisted_23$p={class:"form-floating mb-3"},_hoisted_24$o=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Информация о чеке, номер",-1),_hoisted_25$o={class:"form-floating mb-3"},_hoisted_26$m=createBaseVNode("label",{for:"message",class:"form-label"},"Комментарий для пользователя",-1),_hoisted_27$m={class:"modal-footer"},_hoisted_28$l=["disabled"];function _sfc_render$k(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[_hoisted_1$Y,createBaseVNode("div",_hoisted_2$X,[createBaseVNode("div",_hoisted_3$X,[createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...r)=>n.addCashBack&&n.addCashBack(...r),["prevent"])),class:"modal-content"},[_hoisted_4$U,createBaseVNode("div",_hoisted_5$U,[createBaseVNode("p",_hoisted_6$U,[createTextVNode("У пользователя "),createBaseVNode("strong",null,toDisplayString(s.botUser.cashBack.amount||0)+" руб",1),createTextVNode(" CashBack")]),s.botUser.cashBack.subs?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(s.botUser.cashBack.subs,r=>(openBlock(),createElementBlock("p",_hoisted_7$T,toDisplayString(r.title||"Без названия")+" - "+toDisplayString(r.amount||0)+" руб. ",1))),256)):createCommentVNode("",!0),n.currentBot.cashback_config?(openBlock(),createElementBlock("div",_hoisted_8$N,[_hoisted_9$J,createBaseVNode("div",_hoisted_10$E,[withDirectives(createBaseVNode("select",{class:"form-control mb-2","onUpdate:modelValue":t[0]||(t[0]=r=>a.cashbackForm.category=r),required:""},[_hoisted_11$B,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.currentBot.cashback_config,r=>(openBlock(),createElementBlock("option",{value:r.title},toDisplayString(r.title||"Без названия"),9,_hoisted_12$B))),256))],512),[[vModelSelect,a.cashbackForm.category]]),_hoisted_13$w]),_hoisted_14$w])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_15$v,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=r=>a.cashbackForm.need_user_review=r),type:"checkbox",value:"",id:"need_user_review"},null,512),[[vModelCheckbox,a.cashbackForm.need_user_review]]),_hoisted_16$w]),createBaseVNode("div",_hoisted_17$u,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=r=>a.cashbackForm.need_custom_percents=r),type:"checkbox",value:"",id:"need_custom_cashback_amount"},null,512),[[vModelCheckbox,a.cashbackForm.need_custom_percents]]),_hoisted_18$u]),a.cashbackForm.need_custom_percents?(openBlock(),createElementBlock("div",_hoisted_19$t,[withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-percent","onUpdate:modelValue":t[3]||(t[3]=r=>a.cashbackForm.percent=r),placeholder:"Значите %",required:""},null,512),[[vModelText,a.cashbackForm.percent]]),_hoisted_20$t])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_21$s,[withDirectives(createBaseVNode("input",{type:"number",min:"0",class:"form-control",id:"bill-amount","onUpdate:modelValue":t[4]||(t[4]=r=>a.cashbackForm.amount=r),placeholder:"Сумма",required:""},null,512),[[vModelText,a.cashbackForm.amount]]),_hoisted_22$s]),createBaseVNode("div",_hoisted_23$p,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":t[5]||(t[5]=r=>a.cashbackForm.info=r),id:"bill-info",rows:"3",required:""},null,512),[[vModelText,a.cashbackForm.info]]),_hoisted_24$o]),createBaseVNode("div",_hoisted_25$o,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий","onUpdate:modelValue":t[6]||(t[6]=r=>a.cashbackForm.message=r),id:"message",style:{"min-height":"150px"}},null,512),[[vModelText,a.cashbackForm.message]]),_hoisted_26$m])]),createBaseVNode("div",_hoisted_27$m,[createBaseVNode("button",{disabled:a.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_28$l)])],32)])])])}const AddCashBack=_export_sfc(_sfc_main$X,[["render",_sfc_render$k]]),_sfc_main$W={props:["botUser"],data(){return{loading:!1,adminForm:{info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{changeStatus(){this.loading=!0,this.$store.dispatch(this.botUser.is_admin?"removeAdmin":"addAdmin",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.adminForm}}).then(o=>{this.loading=!1,this.adminForm.info=null,this.$emit("callback"),this.$notify({title:"Отлично!",text:this.botUser.is_admin?"Вы успешно разжаловали администратора до уровня пользователя":"Вы успешно назначили пользователя администратором",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$X=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#change-admin-status",class:"btn btn-outline-light text-primary w-100 p-3"},"Изменить статус администратора ",-1),_hoisted_2$W={class:"modal fade",id:"change-admin-status",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$W={class:"modal-dialog modal-fullscreen"},_hoisted_4$T=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$T={class:"modal-body"},_hoisted_6$T={key:0},_hoisted_7$S={key:1},_hoisted_8$M={class:"text-primary fw-bold"},_hoisted_9$I={class:"form-floating mb-3"},_hoisted_10$D={for:"bill-info",class:"form-label"},_hoisted_11$A={key:0},_hoisted_12$A={key:1},_hoisted_13$v={class:"modal-footer"},_hoisted_14$v=["disabled"];function _sfc_render$j(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[_hoisted_1$X,createBaseVNode("div",_hoisted_2$W,[createBaseVNode("div",_hoisted_3$W,[createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...r)=>n.changeStatus&&n.changeStatus(...r),["prevent"])),class:"modal-content"},[_hoisted_4$T,createBaseVNode("div",_hoisted_5$T,[createBaseVNode("p",null,[createTextVNode(" Вы хотите "),s.botUser.is_admin?(openBlock(),createElementBlock("span",_hoisted_6$T,"удалить из администраторов")):(openBlock(),createElementBlock("span",_hoisted_7$S,"назначить администратором")),createTextVNode(" пользователя "),createBaseVNode("strong",_hoisted_8$M,toDisplayString(s.botUser.fio_from_telegram||s.botUser.telegram_chat_id||"-"),1)]),createBaseVNode("div",_hoisted_9$I,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":t[0]||(t[0]=r=>a.adminForm.info=r),style:{"min-height":"300px"},id:"bill-info",required:""},null,512),[[vModelText,a.adminForm.info]]),createBaseVNode("label",_hoisted_10$D,[s.botUser.is_admin?(openBlock(),createElementBlock("span",_hoisted_11$A,"Причина удаления администратора")):(openBlock(),createElementBlock("span",_hoisted_12$A,"Причина добавления администратора"))])])]),createBaseVNode("div",_hoisted_13$v,[createBaseVNode("button",{disabled:a.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Подтвердить ",8,_hoisted_14$v)])],32)])])])}const ChangeAdminStatus=_export_sfc(_sfc_main$W,[["render",_sfc_render$j]]),_sfc_main$V={props:["botUser"],data(){return{loading:!1,userDataForm:{info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{requestUserMenu(){this.loading=!0,this.$store.dispatch("requestRefreshMenu",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$notify({title:"Отлично!",text:"Вы успешно отправили запрос на обновление меню!",type:"error"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$W=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#refresh-user-menu",class:"btn btn-outline-light text-primary w-100 p-3"},"Обновить меню пользователю",-1),_hoisted_2$V={class:"modal fade",id:"refresh-user-menu",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$V={class:"modal-dialog modal-fullscreen"},_hoisted_4$S=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$S={class:"modal-body"},_hoisted_6$S={class:"form-floating mb-3"},_hoisted_7$R=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_8$L={class:"modal-footer"},_hoisted_9$H=["disabled"];function _sfc_render$i(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[_hoisted_1$W,createBaseVNode("div",_hoisted_2$V,[createBaseVNode("div",_hoisted_3$V,[createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...r)=>n.requestUserMenu&&n.requestUserMenu(...r),["prevent"])),class:"modal-content"},[_hoisted_4$S,createBaseVNode("div",_hoisted_5$S,[createBaseVNode("div",_hoisted_6$S,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":t[0]||(t[0]=r=>a.userDataForm.info=r),id:"bill-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,a.userDataForm.info]]),_hoisted_7$R])]),createBaseVNode("div",_hoisted_8$L,[createBaseVNode("button",{disabled:a.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_9$H)])],32)])])])}const RefreshUserMenu=_export_sfc(_sfc_main$V,[["render",_sfc_render$i]]),_sfc_main$U={props:["botUser"],data(){return{loading:!1,userDataForm:{info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{requestUserData(){this.loading=!0,this.$store.dispatch("requestUserData",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.userDataForm}}).then(o=>{this.loading=!1,this.userDataForm.info=null,this.$notify({title:"Отлично!",text:"Вы отправили запрос на заполнение пользовательских данных",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$V=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#request-user-profile",class:"btn btn-outline-light text-primary w-100 p-3"},"Запросить заполнение анкеты",-1),_hoisted_2$U={class:"modal fade",id:"request-user-profile",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$U={class:"modal-dialog modal-fullscreen"},_hoisted_4$R=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$R={class:"modal-body"},_hoisted_6$R={class:"form-floating mb-3"},_hoisted_7$Q=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Комментарий",-1),_hoisted_8$K={class:"modal-footer"},_hoisted_9$G=["disabled"];function _sfc_render$h(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[_hoisted_1$V,createBaseVNode("div",_hoisted_2$U,[createBaseVNode("div",_hoisted_3$U,[createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...r)=>n.requestUserData&&n.requestUserData(...r),["prevent"])),class:"modal-content"},[_hoisted_4$R,createBaseVNode("div",_hoisted_5$R,[createBaseVNode("div",_hoisted_6$R,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Комментарий к запросу","onUpdate:modelValue":t[0]||(t[0]=r=>a.userDataForm.info=r),style:{"min-height":"150px"},id:"bill-info",rows:"3",required:""},null,512),[[vModelText,a.userDataForm.info]]),_hoisted_7$Q])]),createBaseVNode("div",_hoisted_8$K,[createBaseVNode("button",{disabled:a.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_9$G)])],32)])])])}const RequestUserProfile=_export_sfc(_sfc_main$U,[["render",_sfc_render$h]]),_sfc_main$T={props:["botUser"],data(){return{loading:!1,invoiceForm:{amount:100,info:null}}},computed:{...mapGetters(["getSelf","getCashBack","getCashBackPaginateObject"]),currentBot(){return window.currentBot}},methods:{sendInvoice(){this.loading=!0,this.$store.dispatch("sendInvoice",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.invoiceForm}}).then(o=>{this.loading=!1,this.invoiceForm.info=null,this.$emit("callback"),this.$notify({title:"Отлично!",text:"Вы успешно отправили пользователю запрос на оплату",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_hoisted_1$U=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#request-invoice",class:"btn btn-outline-light text-primary w-100 p-3"},"Запрос на оплату",-1),_hoisted_2$T={class:"modal fade",id:"request-invoice",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$T={class:"modal-dialog modal-fullscreen"},_hoisted_4$Q=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$Q={class:"modal-body"},_hoisted_6$Q={class:"form-floating mb-3"},_hoisted_7$P=createBaseVNode("label",{for:"bill-amount",class:"form-label"},"Значение на оплату, руб",-1),_hoisted_8$J={class:"form-floating mb-3"},_hoisted_9$F=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Введите сообщение для пользователя",-1),_hoisted_10$C={class:"modal-footer"},_hoisted_11$z=["disabled"];function _sfc_render$g(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[_hoisted_1$U,createBaseVNode("div",_hoisted_2$T,[createBaseVNode("div",_hoisted_3$T,[createBaseVNode("form",{onSubmit:t[2]||(t[2]=withModifiers((...r)=>n.sendInvoice&&n.sendInvoice(...r),["prevent"])),class:"modal-content"},[_hoisted_4$Q,createBaseVNode("div",_hoisted_5$Q,[createBaseVNode("div",_hoisted_6$Q,[withDirectives(createBaseVNode("input",{class:"form-control",type:"number",min:"100",step:"50",placeholder:"100","onUpdate:modelValue":t[0]||(t[0]=r=>a.invoiceForm.amount=r),id:"bill-amount",required:""},null,512),[[vModelText,a.invoiceForm.amount]]),_hoisted_7$P]),createBaseVNode("div",_hoisted_8$J,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст запроса","onUpdate:modelValue":t[1]||(t[1]=r=>a.invoiceForm.info=r),id:"bill-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,a.invoiceForm.info]]),_hoisted_9$F])]),createBaseVNode("div",_hoisted_10$C,[createBaseVNode("button",{disabled:a.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить запрос ",8,_hoisted_11$z)])],32)])])])}const RequestInvoice=_export_sfc(_sfc_main$T,[["render",_sfc_render$g]]),_hoisted_1$T=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#request-user-review",class:"btn btn-outline-light text-primary w-100 p-3"},"Запросить оценку",-1),_hoisted_2$S={class:"modal fade",id:"request-user-review",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$S={class:"modal-dialog modal-fullscreen"},_hoisted_4$P=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Админ. панель"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_5$P={class:"modal-body"},_hoisted_6$P={class:"form-floating mb-3"},_hoisted_7$O=createBaseVNode("label",{for:"bill-info",class:"form-label"},"Сообщение для пользователя",-1),_hoisted_8$I={class:"modal-footer"},_hoisted_9$E=["disabled"],__default__$C={props:["botUser"],data(){return{loading:!1,reviewForm:{message:null}}},methods:{requestReview(){this.loading=!0,this.$store.dispatch("userReviewRequest",{dataObject:{telegram_chat_id:this.botUser.telegram_chat_id,...this.reviewForm}}).then(o=>{this.loading=!1,this.reviewForm.message=null,this.$notify({title:"Отлично!",text:"Вы запросили у пользователя оставить отзыв!",type:"success"})}).catch(()=>{this.loading=!1,this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})}}},_sfc_main$S=Object.assign(__default__$C,{__name:"RequestReview",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",null,[_hoisted_1$T,createBaseVNode("div",_hoisted_2$S,[createBaseVNode("div",_hoisted_3$S,[createBaseVNode("form",{onSubmit:s[1]||(s[1]=withModifiers((...i)=>t.requestReview&&t.requestReview(...i),["prevent"])),class:"modal-content"},[_hoisted_4$P,createBaseVNode("div",_hoisted_5$P,[createBaseVNode("div",_hoisted_6$P,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":s[0]||(s[0]=i=>t.reviewForm.message=i),id:"bill-info",style:{"min-height":"200px"}},null,512),[[vModelText,t.reviewForm.message]]),_hoisted_7$O])]),createBaseVNode("div",_hoisted_8$I,[createBaseVNode("button",{disabled:t.loading,type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",8,_hoisted_9$E)])],32)])])]))}}),LastOrderHandler_vue_vue_type_style_index_0_lang="",_hoisted_1$S=createBaseVNode("div",{class:"divider mb-3"},"Управление заказом",-1),_hoisted_2$R={class:"text-center my-3 fw-bold text-primary d-flex justify-content-between"},_hoisted_3$R=createBaseVNode("a",{"data-bs-toggle":"modal","data-bs-target":"#order-details",href:"javascript:void(0)"},[createBaseVNode("i",{class:"fa-solid fa-circle-info"}),createTextVNode(" Детали заказа")],-1),_hoisted_4$O={key:0,class:"alert alert-danger"},_hoisted_5$O=createBaseVNode("strong",{class:"fw-bold"},"Внимание!",-1),_hoisted_6$O={class:"btn-group mb-2 w-100",role:"group"},_hoisted_7$N=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_8$H={class:"btn-group mb-2 w-100",role:"group"},_hoisted_9$D=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_10$B={class:"btn-group mb-2 w-100",role:"group"},_hoisted_11$y=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_12$z={class:"btn-group mb-2 w-100",role:"group"},_hoisted_13$u=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_14$u=["disabled"],_hoisted_15$u={key:0,class:"color-white"},_hoisted_16$v={key:1,class:"color-white"},_hoisted_17$t=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_18$t=createBaseVNode("div",{class:"divider my-3"},"Самовывоз",-1),_hoisted_19$s=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#order-self-delivery",class:"btn btn-outline-success p-3 w-100"},[createBaseVNode("i",{class:"fa fa-shopping-bag mr-2","aria-hidden":"true"}),createTextVNode("Готово (самовывоз) ")],-1),_hoisted_20$s=createBaseVNode("div",{class:"divider my-3"},"Отмена заказа",-1),_hoisted_21$r={class:"btn-group mb-2 w-100",role:"group"},_hoisted_22$r=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-2"},null,-1),_hoisted_23$o=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#message-settings",class:"btn btn-outline-primary w-auto d-flex justify-content-center align-items-center",style:{"max-width":"60px"},"aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-cogs"})],-1),_hoisted_24$n=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation mr-2"},null,-1),_hoisted_25$n={key:1,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_26$l=createBaseVNode("div",{class:"spinner-border text-primary mt-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_27$l={class:"mb-0"},_hoisted_28$k=createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation text-danger"},null,-1),_hoisted_29$j={class:"modal fade",id:"order-self-delivery","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_30$j={class:"modal-dialog modal-fullscreen"},_hoisted_31$j={class:"modal-content"},_hoisted_32$j=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Самовывоз"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_33$j={class:"modal-body"},_hoisted_34$j={class:"form-floating mb-3"},_hoisted_35$j=createBaseVNode("label",{for:"pickup-form-info",class:"form-label"},"Написать сообщение",-1),_hoisted_36$j=createBaseVNode("button",{"data-bs-dismiss":"modal","aria-label":"Close",type:"submit",class:"btn btn-primary w-100 p-3"}," Отправить ",-1),_hoisted_37$j={class:"modal fade",id:"order-details","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_hoisted_38$i={class:"modal-dialog modal-fullscreen"},_hoisted_39$i={class:"modal-content"},_hoisted_40$g=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Детали заказа"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_41$g={class:"modal-body"},_hoisted_42$g={class:"modal fade",id:"message-settings",tabindex:"-1","aria-labelledby":"message-settings","aria-hidden":"true"},_hoisted_43$g={class:"modal-dialog modal-fullscreen"},_hoisted_44$g=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Настройка сообщений"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_45$g={class:"modal-body"},_hoisted_46$g={class:"form-floating mb-2"},_hoisted_47$f={for:"floatingTextarea2"},_hoisted_48$e={key:0},_hoisted_49$e={class:"form-floating mb-2"},_hoisted_50$e={for:"floatingTextarea2"},_hoisted_51$e={key:0},_hoisted_52$e={class:"form-floating mb-2"},_hoisted_53$c={for:"floatingTextarea2"},_hoisted_54$c={key:0},_hoisted_55$b={class:"form-floating mb-2"},_hoisted_56$b={for:"floatingTextarea2"},_hoisted_57$b={key:0},_hoisted_58$b={class:"form-floating mb-2"},_hoisted_59$a={for:"floatingTextarea2"},_hoisted_60$7={key:0},_hoisted_61$7=createBaseVNode("div",{class:"modal-footer"},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3","data-bs-dismiss":"modal"},[createBaseVNode("i",{class:"fa fa-floppy-o mr-2","aria-hidden":"true"}),createTextVNode(" Сохранить настройки ")])],-1),__default__$B={props:["orderId","botUser"],data(){return{loaded:!0,order:{status:0},errors:[],spent_time_counter:0,settings:{order_status_0:"Статус вашего заказа установлен как 'Принят в работу'",order_status_1:"Статус вашего заказа изменен на 'Доставляется'",order_status_2:"Статус вашего заказа изменен на 'Завершен'",order_status_3:"Статус вашего заказа изменен на 'Отменен'",order_status_4:"Статус вашего заказа изменен на 'Готов к доставке'",order_status_5:"Статус вашего заказа изменен на 'Передан на кухню'"},pickupForm:{info:"Ваш заказ готов!"}}},computed:{currentBot(){return window.currentBot}},mounted(){this.orderId&&this.loadOrderById(),this.currentBot.config&&(this.settings.order_status_0=this.currentBot.config.order_status_0||"Статус вашего заказа установлен как 'Принят в работу'",this.settings.order_status_1=this.currentBot.config.order_status_1||"Статус вашего заказа изменен на 'Доставляется'",this.settings.order_status_2=this.currentBot.config.order_status_2||"Статус вашего заказа изменен на 'Завершен'",this.settings.order_status_3=this.currentBot.config.order_status_3||"Статус вашего заказа изменен на 'Отменен'",this.settings.order_status_4=this.currentBot.config.order_status_4||"Статус вашего заказа изменен на 'Готов к доставке'",this.settings.order_status_5=this.currentBot.config.order_status_5||"Статус вашего заказа изменен на 'Передан на кухню'"),localStorage.getItem("cashman_order_cashback_add_counter")!=null&&this.startTimer(localStorage.getItem("cashman_order_cashback_add_counter")||0)},methods:{sendPickupMessage(){this.$store.dispatch("userMessage",{dataObject:{user_telegram_chat_id:this.botUser.telegram_chat_id,...this.pickupForm}}).then(o=>{this.pickupForm.info=null,this.$notify({title:"Отлично!",text:"Вы отправили пользователю сообщение",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибочка...",type:"error"})})},loadOrderById(){this.errors=[],this.loaded=!1,this.$store.dispatch("loadOrderById",{dataObject:{order_id:this.orderId}}).then(o=>{this.order=o.data,this.loaded=!0}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка загрузки заказа",type:"error"}),this.errors.push(`Заказ #${this.orderId} не найден в системе!`)})},startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_order_cashback_add_counter",this.spent_time_counter)},1e3)},autoCashback(){this.startTimer(),this.$store.dispatch("addCashBackToOrder",{order_id:this.orderId}).then(()=>{this.order.is_cashback_crediting=!0,this.$notify({title:"Отзывы",text:"Вы успешно начислили CashBack пользователю",type:"success"})}).catch(()=>{this.order.is_cashback_crediting=!1,this.$notify({title:"Отзывы",text:"Ошибка начисления CashBack",type:"error"})})},storeTextConfig(){this.$store.dispatch("storeMessageSettings",{dataObject:{settings:this.settings}}).then(o=>{this.$notify({title:"Отлично!",text:"Данные успешно сохранены",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка сохранения данных",type:"error"})})},declineOrder(){this.$store.dispatch("declineOrder",{dataObject:{order_id:this.orderId}}).then(o=>{this.$notify({title:"Отлично!",text:"Вы отклонили заказ и изменили его статус!",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка смены статуса заказа!",type:"error"})})},changeStatus(o){this.order.status=o,this.$store.dispatch("changeOrderStatus",{dataObject:{order_id:this.orderId,user_telegram_chat_id:this.botUser.telegram_chat_id||null,status:o}}).then(t=>{this.$notify({title:"Отлично!",text:"Вы изменили статус заказа",type:"success"})}).catch(()=>{this.$notify({title:"Упс...!",text:"Ошибка смены статуса заказа!",type:"error"})})}}},_sfc_main$R=Object.assign(__default__$B,{__name:"LastOrderHandler",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$S,t.loaded&&t.errors.length===0?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("p",_hoisted_2$R,[createBaseVNode("span",null,"Заказ №"+toDisplayString(o.orderId),1),_hoisted_3$R]),t.order.status===0?(openBlock(),createElementBlock("div",_hoisted_4$O,[_hoisted_5$O,createTextVNode(" Заказ еще не взят в работу! Выберите актуальный статус из предложенных ниже! ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$O,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step-success text-primary fw-bold":t.order.status===5},"btn btn-outline-primary p-3"]),onClick:s[0]||(s[0]=i=>t.changeStatus(5))},"Принять в работу ",2),_hoisted_7$N]),createBaseVNode("div",_hoisted_8$H,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step text-primary fw-bold":t.order.status===4},"btn btn-outline-primary p-3"]),onClick:s[1]||(s[1]=i=>t.changeStatus(4))},"Передать на доставку ",2),_hoisted_9$D]),createBaseVNode("div",_hoisted_10$B,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step text-primary fw-bold":t.order.status===1},"btn btn-outline-primary p-3"]),onClick:s[2]||(s[2]=i=>t.changeStatus(1))},"Доставляется ",2),_hoisted_11$y]),createBaseVNode("div",_hoisted_12$z,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step text-primary fw-bold":t.order.status===2},"btn btn-outline-primary p-3"]),onClick:s[3]||(s[3]=i=>t.changeStatus(2))},"Прибыло к заказчику ",2),_hoisted_13$u]),createBaseVNode("div",{class:"btn-group mb-2 w-100",onClick:s[4]||(s[4]=(...i)=>t.autoCashback&&t.autoCashback(...i)),role:"group"},[createBaseVNode("button",{type:"button",disabled:t.order.is_cashback_crediting||t.spent_time_counter>0,class:normalizeClass([{"current-step-success text-primary fw-bold":t.order.is_cashback_crediting},"btn btn-outline-primary p-3"])},[t.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_15$u,"Начислить CashBack")):(openBlock(),createElementBlock("span",_hoisted_16$v,"Осталось ждать "+toDisplayString(t.spent_time_counter||0)+" сек.",1))],10,_hoisted_14$u),_hoisted_17$t]),_hoisted_18$t,_hoisted_19$s,_hoisted_20$s,createBaseVNode("div",_hoisted_21$r,[createBaseVNode("button",{type:"button",class:normalizeClass([{"current-step-danger text-danger fw-bold":t.order.status===3},"btn btn-outline-danger p-3"]),onClick:s[5]||(s[5]=i=>t.changeStatus(3))},[_hoisted_22$r,createTextVNode(" Отклонить заказ ")],2),_hoisted_23$o]),createBaseVNode("button",{type:"button",onClick:s[6]||(s[6]=(...i)=>t.declineOrder&&t.declineOrder(...i)),class:"btn btn-outline-danger p-3 w-100 mb-3"},[_hoisted_24$n,createTextVNode(" Закрыть заказ без оповещения ")])],64)):(openBlock(),createElementBlock("div",_hoisted_25$n,[t.errors.length===0?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(" Данные о заказе еще не загружены! "),_hoisted_26$l],64)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.errors,i=>(openBlock(),createElementBlock("p",_hoisted_27$l,[_hoisted_28$k,createTextVNode(" "+toDisplayString(i),1)]))),256))])),createBaseVNode("div",_hoisted_29$j,[createBaseVNode("div",_hoisted_30$j,[createBaseVNode("div",_hoisted_31$j,[_hoisted_32$j,createBaseVNode("div",_hoisted_33$j,[createBaseVNode("form",{onSubmit:s[8]||(s[8]=withModifiers((...i)=>t.sendPickupMessage&&t.sendPickupMessage(...i),["prevent"]))},[createBaseVNode("div",_hoisted_34$j,[withDirectives(createBaseVNode("textarea",{class:"form-control",placeholder:"Текст сообщения","onUpdate:modelValue":s[7]||(s[7]=i=>t.pickupForm.info=i),id:"pickup-form-info",style:{"min-height":"200px"},required:""},null,512),[[vModelText,t.pickupForm.info]]),_hoisted_35$j]),_hoisted_36$j],32)])])])]),createBaseVNode("div",_hoisted_37$j,[createBaseVNode("div",_hoisted_38$i,[createBaseVNode("div",_hoisted_39$i,[_hoisted_40$g,createBaseVNode("div",_hoisted_41$g,[t.loaded?(openBlock(),createBlock(_sfc_main$10,{key:0,item:t.order},null,8,["item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_42$g,[createBaseVNode("div",_hoisted_43$g,[createBaseVNode("form",{class:"modal-content",onSubmit:s[14]||(s[14]=withModifiers((...i)=>t.storeTextConfig&&t.storeTextConfig(...i),["prevent"]))},[_hoisted_44$g,createBaseVNode("div",_hoisted_45$g,[createBaseVNode("div",_hoisted_46$g,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[9]||(s[9]=i=>t.settings.order_status_5=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_5]]),createBaseVNode("label",_hoisted_47$f,[createTextVNode("Заказ принят в работу "),(t.settings.order_status_5||"").length>0?(openBlock(),createElementBlock("span",_hoisted_48$e,toDisplayString(t.settings.order_status_5.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_49$e,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[10]||(s[10]=i=>t.settings.order_status_1=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_1]]),createBaseVNode("label",_hoisted_50$e,[createTextVNode("Заказ передан на доставку "),(t.settings.order_status_1||"").length>0?(openBlock(),createElementBlock("span",_hoisted_51$e,toDisplayString(t.settings.order_status_1.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_52$e,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[11]||(s[11]=i=>t.settings.order_status_4=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_4]]),createBaseVNode("label",_hoisted_53$c,[createTextVNode("Заказ доставляется "),(t.settings.order_status_4||"").length>0?(openBlock(),createElementBlock("span",_hoisted_54$c,toDisplayString(t.settings.order_status_4.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_55$b,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[12]||(s[12]=i=>t.settings.order_status_2=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_2]]),createBaseVNode("label",_hoisted_56$b,[createTextVNode("Заказ был доставлен "),(t.settings.order_status_2||"").length>0?(openBlock(),createElementBlock("span",_hoisted_57$b,toDisplayString(t.settings.order_status_2.length)+"/512",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_58$b,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[13]||(s[13]=i=>t.settings.order_status_3=i),maxlength:"512",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}},null,512),[[vModelText,t.settings.order_status_3]]),createBaseVNode("label",_hoisted_59$a,[createTextVNode("Заказ отклонен "),(t.settings.order_status_3||"").length>0?(openBlock(),createElementBlock("span",_hoisted_60$7,toDisplayString(t.settings.order_status_3.length)+"/512",1)):createCommentVNode("",!0)])])]),_hoisted_61$7],32)])])],64))}}),_hoisted_1$R={class:"btn-group w-100 my-3 px-3",style:{"overflow-x":"auto"},role:"group","aria-label":"Basic example"},_hoisted_2$Q={key:0},_hoisted_3$Q={key:1},_hoisted_4$N={key:2},_hoisted_5$N={key:3},_hoisted_6$N=createBaseVNode("div",{class:"divider"},"Сервисы",-1),__default__$A={props:["modelValue"],data(){return{work_with_orders:!1,loading:!1,reloadUsers:!1,order_id:null,tab:0,botUser:null,request_telegram_chat_id:null}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot}},mounted(){const o=new URLSearchParams(window.location.search);this.order_id=JSON.parse(o.get("order_id")),this.order_id&&(this.work_with_orders=!0),this.modelValue&&this.$nextTick(()=>{this.botUser=this.modelValue,this.work_with_orders&&(this.tab=2)})},methods:{updateUserInfo(){this.reloadUsers=!0,this.botUser=null,this.request_telegram_chat_id=null,this.$nextTick(()=>{this.reloadUsers=!1})}}},_sfc_main$Q=Object.assign(__default__$A,{__name:"UserProfileCard",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$R,[createBaseVNode("button",{type:"button",class:normalizeClass([{"btn-primary":t.tab===0,"btn-outline-primary":t.tab!==0},"btn"]),onClick:s[0]||(s[0]=i=>t.tab=0)},"Информация ",2),createBaseVNode("button",{type:"button",onClick:s[1]||(s[1]=i=>t.tab=2),class:normalizeClass([{"btn-primary":t.tab===2,"btn-outline-primary":t.tab!==2},"btn"])},"Управление ",2),createBaseVNode("button",{type:"button",onClick:s[2]||(s[2]=i=>t.tab=1),class:normalizeClass([{"btn-primary":t.tab===1,"btn-outline-primary":t.tab!==1},"btn"])},"CashBack ",2),createBaseVNode("button",{type:"button",onClick:s[3]||(s[3]=i=>t.tab=3),class:normalizeClass([{"btn-primary":t.tab===3,"btn-outline-primary":t.tab!==3},"btn"])},"Заказы ",2)]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_2$Q,[t.botUser&&!t.reloadUsers?(openBlock(),createBlock(UserInfo,{key:0,onUpdate:t.updateUserInfo,"bot-user":t.botUser},null,8,["onUpdate","bot-user"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_3$Q,[t.botUser?(openBlock(),createBlock(_sfc_main$1a,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===3?(openBlock(),createElementBlock("div",_hoisted_4$N,[t.botUser?(openBlock(),createBlock(_sfc_main$$,{key:0,"bot-user":t.botUser},null,8,["bot-user"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.botUser&&t.tab===2?(openBlock(),createElementBlock("div",_hoisted_5$N,[t.work_with_orders?(openBlock(),createBlock(_sfc_main$R,{key:0,class:"mb-2","order-id":t.order_id,"bot-user":t.botUser},null,8,["order-id","bot-user"])):createCommentVNode("",!0),_hoisted_6$N,createVNode(_sfc_main$Z,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(_sfc_main$S,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RemoveCashBack,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(AddCashBack,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(ChangeAdminStatus,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RefreshUserMenu,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RequestUserProfile,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"]),createVNode(RequestInvoice,{class:"mb-2","bot-user":t.botUser},null,8,["bot-user"])])):createCommentVNode("",!0)],64))}}),_hoisted_1$Q={class:"container py-3"},_hoisted_2$P={class:"row"},_hoisted_3$P={class:"col-12"},_hoisted_4$M={class:"nav nav-tabs justify-content-center catalog-tabs"},_hoisted_5$M={class:"nav-item"},_hoisted_6$M=createBaseVNode("i",{class:"fa-solid fa-users mr-2"},null,-1),_hoisted_7$M={class:"nav-item"},_hoisted_8$G=["disabled"],_hoisted_9$C=createBaseVNode("i",{class:"fa-solid fa-user-secret mr-2"},null,-1),_hoisted_10$A={class:"col-12"},_hoisted_11$x={key:0,class:"col-12"},_hoisted_12$y={key:1,class:"alert alert-light mt-2"},__default__$z={data(){return{loadedUser:!1,tab:0,request_telegram_chat_id:null,selected_bot_user:null}},computed:{...mapGetters(["getSelf"]),currentBot(){return window.currentBot},tg(){return window.Telegram.WebApp}},mounted(){this.getSelf&&(this.selected_bot_user=this.getSelf);const o=new URLSearchParams(window.location.search);let t=JSON.parse(o.get("user")),s=o.has("hide_menu")||!1;t&&(this.request_telegram_chat_id=t,this.loadReceiverUserData()),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(i=>i.click()),s?this.tg.close():this.$router.back()})},methods:{updateUserInfo(){this.selected_bot_user=null,this.request_telegram_chat_id=null},cancelUserSelected(){this.request_telegram_chat_id=null,this.selected_bot_user=null,window.scroll(0,0)},selectUser(o){this.request_telegram_chat_id=o.telegram_chat_id,this.loadReceiverUserData()},loadReceiverUserData(){this.loadedUser=!1,this.selected_bot_user=null,this.$store.dispatch("loadReceiverUserData",{dataObject:{user_telegram_chat_id:this.request_telegram_chat_id}}).then(o=>{this.selected_bot_user=o.data,this.request_telegram_chat_id=this.selected_bot_user.telegram_chat_id,this.$nextTick(()=>{this.loadedUser=!0,this.tab=1,window.scroll(0,0)})}).catch(()=>{this.loadedUser=!1})}}},_sfc_main$P=Object.assign(__default__$z,{__name:"Clients",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$Q,[createBaseVNode("div",_hoisted_2$P,[createBaseVNode("div",_hoisted_3$P,[createBaseVNode("ul",_hoisted_4$M,[createBaseVNode("li",_hoisted_5$M,[createBaseVNode("button",{type:"button",class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[0]||(s[0]=i=>t.tab=0),style:{"font-weight":"bold"},"aria-current":"page"},[_hoisted_6$M,createTextVNode("Клиенты ")],2)]),createBaseVNode("li",_hoisted_7$M,[createBaseVNode("button",{type:"button",class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[1]||(s[1]=i=>t.tab=1),disabled:!t.selected_bot_user,style:{"font-weight":"bold"}},[_hoisted_9$C,createTextVNode("Результат ")],10,_hoisted_8$G)])])]),withDirectives(createBaseVNode("div",_hoisted_10$A,[createVNode(_sfc_main$11,{"selected-bot-user":t.selected_bot_user,onCancel:t.cancelUserSelected,onSelect:t.selectUser},null,8,["selected-bot-user","onCancel","onSelect"])],512),[[vShow,t.tab===0]]),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_11$x,[t.loadedUser?(openBlock(),createBlock(_sfc_main$Q,{key:0,modelValue:t.selected_bot_user,"onUpdate:modelValue":s[2]||(s[2]=i=>t.selected_bot_user=i)},null,8,["modelValue"])):(openBlock(),createElementBlock("div",_hoisted_12$y," Пользователь еще не выбран! "))])):createCommentVNode("",!0)])]))}}),Clients=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$P},Symbol.toStringTag,{value:"Module"})),_sfc_main$O={props:["bot","item"],data(){return{sectionForm:{section:null},tab:0,types:[{title:"Готовый продукт",value:1},{title:"Товар на вес",value:2},{title:"Конструктор товара",value:3}],productCategories:[],sections:["Общие характеристики","Дополнительная информация"],photos:[],categories:[],removed_options:[],productForm:{article:null,vk_product_id:null,frontpad_article:null,iiko_article:null,title:null,rating:5,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]}}},computed:{...mapGetters(["getCategories"])},mounted(){this.loadProductCategories(),this.item&&this.$nextTick(()=>{this.productForm={id:this.item.id||null,article:this.item.article||null,frontpad_article:this.item.frontpad_article||null,iiko_article:this.item.iiko_article||null,vk_product_id:this.item.vk_product_id||null,title:this.item.title||null,rating:this.item.rating||5,description:this.item.description||null,images:this.item.images||null,type:this.item.type||1,old_price:this.item.old_price||null,current_price:this.item.current_price||null,variants:this.item.variants||null,in_stop_list_at:this.item.in_stop_list_at||null,bot_id:this.item.bot_id||null,options:this.item.options||null,reviews:this.item.reviews||null},this.options=[],this.item.categories.forEach(o=>{this.productCategories.push(o.id)})})},methods:{openInvalidTab(o){let t=document.querySelector(`.accordion-button:nth-child(${o+1})`);t.classList="accordion-button";let s=document.querySelector(`.accordion-collapse:nth-of-type(${o+1})`);s.classList="accordion-collapse collapse show"},prepareCategoryName(o){let t=this.categories.find(s=>s.value===o);return t?t.label:o},removeProduct(){this.$emit("remove-product")},removeCategory(o){let t=this.categories.findIndex(s=>s.id===o)||null;t&&this.categories.splice(t,1),this.$store.dispatch("removeProductCategory",{category_id:o}).then(()=>{this.$notify({title:"Редактор товара",text:"Категория успешно удалена",type:"success"})}).catch(()=>{this.$notify({title:"Редактор товара",text:"Ошибка удаления категории",type:"error"})})},selectCategory(o){this.productCategories||(this.productCategories=[]);let t=this.productCategories.indexOf(o.id);t!==-1?this.productCategories.splice(t,1):this.productCategories.push(o.id)},submit(){let o=new FormData;if(Object.keys(this.productForm).forEach(t=>{const s=this.productForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.bot&&o.append("bot_id",this.bot.id),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.removed_options.length>0&&o.append("removed_options",JSON.stringify(this.removed_options)),this.productCategories.length>0&&o.append("categories",JSON.stringify(this.productCategories)),this.$store.dispatch("saveProduct",{productForm:o}).then(t=>{this.load=!0,this.$notify({title:"Редактор товара",text:"Товар успешно сохранен",type:"success"}),this.$emit("callback")}).catch(t=>{this.$notify({title:"Редактор товара",text:"Ошибка сохранения товара",type:"error"}),this.$emit("callback")})},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},loadProductCategories(){this.$store.dispatch("loadCategories").then(()=>{this.categories=this.getCategories})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removeSection(o){this.sections.splice(o,1)},addSection(){this.sections.push(this.sectionForm.section),this.sectionForm.section=null},addOption(){this.productForm.options||(this.productForm.options=[]),this.productForm.options.push({id:null,key:null,value:null,title:null,section:null})},addVariant(){this.productForm.variants||(this.productForm.variants=[]),this.productForm.variants.push({key:null,value:null})},removeVariant(o){this.productForm.variants.splice(o,1)},removeOption(o){this.productForm.options[o].id&&this.removed_options.push(this.productForm.options[o].id),this.productForm.options.splice(o,1)},removeImage(o){this.productForm.images.splice(o,1)},removePhoto(o){this.photos.splice(o,1)},clearForm(){const o={article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]};this.photos=[],this.removed_options=[],this.productCategories=[],this.productForm=o}}},_hoisted_1$P={class:"py-3"},_hoisted_2$O={class:"accordion",id:"shop-product-item"},_hoisted_3$O={class:"accordion-item border-0"},_hoisted_4$L=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," Базовая информация о товаре ")],-1),_hoisted_5$L={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#shop-product-item"},_hoisted_6$L={class:"accordion-body px-0"},_hoisted_7$L={class:"d-flex justify-content-between flex-wrap"},_hoisted_8$F={class:"form-check"},_hoisted_9$B=createBaseVNode("label",{class:"form-check-label",for:"in-stop-list"}," Товар находится в стоп-листе ",-1),_hoisted_10$z={class:"form-floating mb-2"},_hoisted_11$w=createBaseVNode("label",{for:"title"},"Название товара",-1),_hoisted_12$x={class:"form-floating mb-2"},_hoisted_13$t=createBaseVNode("label",{for:"rating"},"Рейтинг товара",-1),_hoisted_14$t={class:"form-floating mb-2"},_hoisted_15$t=createBaseVNode("label",{for:"description"},"Описание товара",-1),_hoisted_16$u={class:"form-floating mb-2"},_hoisted_17$s=createBaseVNode("label",{for:"article"},"Артикул товара",-1),_hoisted_18$s={class:"form-floating mb-2"},_hoisted_19$r=["value"],_hoisted_20$r=createBaseVNode("label",{for:"type"},"Тип товара",-1),_hoisted_21$q={class:"form-floating mb-2"},_hoisted_22$q=createBaseVNode("label",{for:"current-price"},"Актуальная цена, руб",-1),_hoisted_23$n={class:"form-floating mb-2"},_hoisted_24$m=createBaseVNode("label",{for:"old-price"},"Старая цена, руб",-1),_hoisted_25$m={class:"accordion-item border-0"},_hoisted_26$k=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFive","aria-expanded":"false","aria-controls":"collapseFive"}," Изображения к товару ")],-1),_hoisted_27$k={id:"collapseFive",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_28$j={class:"accordion-body px-0"},_hoisted_29$i={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_30$i={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_31$i=createBaseVNode("span",null,"+",-1),_hoisted_32$i={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_33$i={class:"remove"},_hoisted_34$i=["onClick"],_hoisted_35$i={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_36$i={class:"remove"},_hoisted_37$i=["onClick"],_hoisted_38$h={class:"accordion-item border-0"},_hoisted_39$h=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}," Интеграции ")],-1),_hoisted_40$f={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_41$f={class:"accordion-body px-0"},_hoisted_42$f={class:"form-floating mb-2"},_hoisted_43$f=createBaseVNode("label",{for:"vk-product-id"},"Идентификатор товара VK",-1),_hoisted_44$f={class:"form-floating mb-2"},_hoisted_45$f=createBaseVNode("label",{for:"iiko"},"Идентификатор в IIKO",-1),_hoisted_46$f={class:"form-floating mb-2"},_hoisted_47$e=createBaseVNode("label",{for:"fronpad"},"Идентификатор во FrontPad",-1),_hoisted_48$d={class:"accordion-item border-0"},_hoisted_49$d=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}," Категории ")],-1),_hoisted_50$d={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_51$d={class:"accordion-body px-0"},_hoisted_52$d={key:0,class:"d-flex flex-wrap mb-2"},_hoisted_53$b=["onClick"],_hoisted_54$b={class:"accordion-item border-0"},_hoisted_55$a=createBaseVNode("h2",{class:"accordion-header"},[createBaseVNode("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"}," Характеристики ")],-1),_hoisted_56$a={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#shop-product-item"},_hoisted_57$a={class:"accordion-body px-0"},_hoisted_58$a={class:"input-group mb-3"},_hoisted_59$9={class:"form-floating"},_hoisted_60$6=createBaseVNode("label",{for:"floatingInput"},"Название секции",-1),_hoisted_61$6=createBaseVNode("button",{class:"btn btn-outline-light text-primary"},[createBaseVNode("i",{class:"fa-solid fa-plus"})],-1),_hoisted_62$6={key:0,class:"d-flex flex-wrap"},_hoisted_63$6={class:"badge bg-light p-2 mr-2 mb-1"},_hoisted_64$6=["onClick"],_hoisted_65$6={class:"form-floating mb-2"},_hoisted_66$6={class:"form-floating mb-2"},_hoisted_67$6=["onUpdate:modelValue","id"],_hoisted_68$6=["for"],_hoisted_69$6={class:"form-floating mb-2"},_hoisted_70$6=["onUpdate:modelValue","id"],_hoisted_71$6=["for"],_hoisted_72$5={class:"form-floating mb-2"},_hoisted_73$5=["onUpdate:modelValue","id"],_hoisted_74$5=createBaseVNode("option",{value:null},"Без секции",-1),_hoisted_75$5=["value"],_hoisted_76$5=["for"],_hoisted_77$5=createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 sticky-bottom bottom-0 p-3"}," Сохранить товар ",-1);function _sfc_render$f(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("form",{onSubmit:t[19]||(t[19]=withModifiers((...l)=>n.submit&&n.submit(...l),["prevent"]))},[createBaseVNode("div",_hoisted_2$O,[createBaseVNode("div",_hoisted_3$O,[_hoisted_4$L,createBaseVNode("div",_hoisted_5$L,[createBaseVNode("div",_hoisted_6$L,[createBaseVNode("div",_hoisted_7$L,[createBaseVNode("div",_hoisted_8$F,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=l=>a.productForm.in_stop_list_at=l),type:"checkbox",value:"false",id:"in-stop-list"},null,512),[[vModelCheckbox,a.productForm.in_stop_list_at]]),_hoisted_9$B])]),createBaseVNode("div",_hoisted_10$z,[withDirectives(createBaseVNode("input",{type:"text",onInvalid:t[1]||(t[1]=l=>n.openInvalidTab(0)),"onUpdate:modelValue":t[2]||(t[2]=l=>a.productForm.title=l),class:"form-control",id:"title",placeholder:"Название",required:""},null,544),[[vModelText,a.productForm.title]]),_hoisted_11$w]),createBaseVNode("div",_hoisted_12$x,[withDirectives(createBaseVNode("input",{type:"number",min:"0",max:"5",step:"0.5","onUpdate:modelValue":t[3]||(t[3]=l=>a.productForm.rating=l),class:"form-control",id:"rating",placeholder:"Рейтинг товара"},null,512),[[vModelText,a.productForm.rating]]),_hoisted_13$t]),createBaseVNode("div",_hoisted_14$t,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12","onUpdate:modelValue":t[4]||(t[4]=l=>a.productForm.description=l),style:{"min-height":"200px"},onInvalid:t[5]||(t[5]=l=>n.openInvalidTab(0)),placeholder:"Напишите полное описание товара",id:"description",required:""},null,544),[[vModelText,a.productForm.description]]),_hoisted_15$t]),createBaseVNode("div",_hoisted_16$u,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>a.productForm.article=l),class:"form-control",id:"article",placeholder:"Название артикула"},null,512),[[vModelText,a.productForm.article]]),_hoisted_17$s]),createBaseVNode("div",_hoisted_18$s,[withDirectives(createBaseVNode("select",{class:"form-select font-12","onUpdate:modelValue":t[7]||(t[7]=l=>a.productForm.type=l),id:"type","aria-label":"Floating label select example"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.types,(l,d)=>(openBlock(),createElementBlock("option",{value:l.value},toDisplayString(l.title),9,_hoisted_19$r))),256))],512),[[vModelSelect,a.productForm.type]]),_hoisted_20$r]),createBaseVNode("div",_hoisted_21$q,[withDirectives(createBaseVNode("input",{type:"number",onInvalid:t[8]||(t[8]=l=>n.openInvalidTab(0)),"onUpdate:modelValue":t[9]||(t[9]=l=>a.productForm.current_price=l),class:"form-control",id:"current-price",placeholder:"0 руб.",required:""},null,544),[[vModelText,a.productForm.current_price]]),_hoisted_22$q]),createBaseVNode("div",_hoisted_23$n,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=l=>a.productForm.old_price=l),class:"form-control",id:"old-price",placeholder:"0 руб"},null,512),[[vModelText,a.productForm.old_price]]),_hoisted_24$m])])])]),createBaseVNode("div",_hoisted_25$m,[_hoisted_26$k,createBaseVNode("div",_hoisted_27$k,[createBaseVNode("div",_hoisted_28$j,[createBaseVNode("div",_hoisted_29$i,[createBaseVNode("label",_hoisted_30$i,[_hoisted_31$i,createBaseVNode("input",{type:"file",onInvalid:t[11]||(t[11]=l=>n.openInvalidTab(1)),id:"location-photos",multiple:"",accept:"image/*",onChange:t[12]||(t[12]=(...l)=>n.onChangePhotos&&n.onChangePhotos(...l)),style:{display:"none"}},null,32)]),a.productForm.images?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.productForm.images,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_32$i,[withDirectives(createBaseVNode("img",null,null,512),[[r,l]]),createBaseVNode("div",_hoisted_33$i,[createBaseVNode("a",{href:"javascript:void(0)",onClick:c=>n.removeImage(d)},"Удалить",8,_hoisted_34$i)])]))),256)):createCommentVNode("",!0),a.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(a.photos,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_35$i,[withDirectives(createBaseVNode("img",null,null,512),[[r,n.getPhoto(l).imageUrl]]),createBaseVNode("div",_hoisted_36$i,[createBaseVNode("a",{href:"javascript:void(0)",onClick:c=>n.removePhoto(d)},"Удалить",8,_hoisted_37$i)])]))),256)):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_38$h,[_hoisted_39$h,createBaseVNode("div",_hoisted_40$f,[createBaseVNode("div",_hoisted_41$f,[createBaseVNode("div",_hoisted_42$f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=l=>a.productForm.vk_product_id=l),class:"form-control",id:"vk-product-id",placeholder:"Идентификатор"},null,512),[[vModelText,a.productForm.vk_product_id]]),_hoisted_43$f]),createBaseVNode("div",_hoisted_44$f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=l=>a.productForm.iiko_article=l),class:"form-control",id:"iiko",placeholder:"Название артикула IIKO"},null,512),[[vModelText,a.productForm.iiko_article]]),_hoisted_45$f]),createBaseVNode("div",_hoisted_46$f,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=l=>a.productForm.frontpad_article=l),class:"form-control",id:"fronpad",placeholder:"Название артикула FrontPad"},null,512),[[vModelText,a.productForm.frontpad_article]]),_hoisted_47$e])])])]),createBaseVNode("div",_hoisted_48$d,[_hoisted_49$d,createBaseVNode("div",_hoisted_50$d,[createBaseVNode("div",_hoisted_51$d,[a.categories.length>0?(openBlock(),createElementBlock("div",_hoisted_52$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.categories,(l,d)=>(openBlock(),createElementBlock("span",{onClick:c=>n.selectCategory(l),class:normalizeClass(["px-3 badge cursor-pointer mr-2 mb-1",{"bg-primary":a.productCategories.indexOf(l.id)!==-1,"bg-light":a.productCategories.indexOf(l.id)===-1}])},toDisplayString(l.title),11,_hoisted_53$b))),256))])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_54$b,[_hoisted_55$a,createBaseVNode("div",_hoisted_56$a,[createBaseVNode("div",_hoisted_57$a,[createBaseVNode("form",{onSubmit:t[17]||(t[17]=withModifiers((...l)=>n.addSection&&n.addSection(...l),["prevent"])),class:"form-floating mb-2"},[createBaseVNode("div",_hoisted_58$a,[createBaseVNode("div",_hoisted_59$9,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=l=>a.sectionForm.section=l),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,a.sectionForm.section]]),_hoisted_60$6]),_hoisted_61$6])],32),a.sections.length>0?(openBlock(),createElementBlock("div",_hoisted_62$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.sections,(l,d)=>(openBlock(),createElementBlock("span",_hoisted_63$6,[createTextVNode(toDisplayString(l)+" ",1),createBaseVNode("i",{onClick:c=>n.removeSection(d),class:"fa-solid fa-trash ml-2 color-red2-dark"},null,8,_hoisted_64$6)]))),256))])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.productForm.options,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_65$6,[createBaseVNode("div",_hoisted_66$6,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c=>a.productForm.options[d].title=c,class:"form-control",id:"option-title-"+d,placeholder:"Характеристика"},null,8,_hoisted_67$6),[[vModelText,a.productForm.options[d].title]]),createBaseVNode("label",{for:"option-title-"+d,class:"font-12 my-0 w-100 d-flex justify-content-between"}," Название характеристики ",8,_hoisted_68$6)]),createBaseVNode("div",_hoisted_69$6,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":c=>a.productForm.options[d].value=c,class:"form-control",id:"option-value-"+d,placeholder:"Значение"},null,8,_hoisted_70$6),[[vModelText,a.productForm.options[d].value]]),createBaseVNode("label",{for:"option-value-"+d,class:"font-12 my-0"},"Значение характеристики",8,_hoisted_71$6)]),createBaseVNode("div",_hoisted_72$5,[withDirectives(createBaseVNode("select",{class:"form-select","onUpdate:modelValue":c=>a.productForm.options[d].section=c,id:"option-section-"+d,"aria-label":"Floating label select example"},[_hoisted_74$5,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.sections,c=>(openBlock(),createElementBlock("option",{value:c},toDisplayString(c),9,_hoisted_75$5))),256))],8,_hoisted_73$5),[[vModelSelect,a.productForm.options[d].section]]),createBaseVNode("label",{for:"option-section-"+d,class:"font-12 my-0"},"Секция товара",8,_hoisted_76$5)])]))),256)),createBaseVNode("button",{type:"button",class:"btn btn-outline-primary w-100",onClick:t[18]||(t[18]=(...l)=>n.addOption&&n.addOption(...l))},"Добавить характеристику ")])])])]),_hoisted_77$5],32),a.productForm.id?(openBlock(),createElementBlock("button",{key:0,onClick:t[20]||(t[20]=(...l)=>n.removeProduct&&n.removeProduct(...l)),type:"button",class:"btn btn-link my-3 w-100"},"Удалить товар ")):createCommentVNode("",!0)])}const ProductForm=_export_sfc(_sfc_main$O,[["render",_sfc_render$f]]),AdminProductCard_vue_vue_type_style_index_0_lang="",_hoisted_1$O={class:"rounded-3"},_hoisted_2$N={class:"controls"},_hoisted_3$N={class:"top d-flex justify-content-between w-100 align-items-center"},_hoisted_4$K={class:"rating w-100 p-2"},_hoisted_5$K={class:"text-white fw-bold"},_hoisted_6$K=createBaseVNode("i",{class:"fa-regular fa-star text-primary mr-1"},null,-1),_hoisted_7$K={key:0,class:"badge bg-primary mr-2 fw-bold"},_hoisted_8$E={class:"card-body"},_hoisted_9$A={class:"text-center mb-2",style:{"font-size":"12px"}},_hoisted_10$y={key:0},_hoisted_11$v={class:"text-center mb-2"},_hoisted_12$w={key:0,class:"text-decoration-line-through",style:{"font-size":"10px"}},__default__$y={props:["item","displayType"],data(){return{showCart:!1}},computed:{...mapGetters(["inCart","getReviews","getReviewsPaginateObject"]),currentPrice(){return this.item.current_price/100},oldPrice(){return this.item.old_price/100},checkInCart(){return this.inCart(this.item.id)}},methods:{select(){this.$emit("select",this.item)},showProductDetails(){this.$emit("select",this.item)},goToProduct(){this.$router.push({name:"ProductV2",params:{productId:this.item.id}})},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.item):this.$store.dispatch("incQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно добавлен",type:"success"})},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.item.id):this.$store.dispatch("decQuantity",this.item.id),this.$notify({title:"Добавление товара",text:"Товар успешно удален",type:"success"})}}},_sfc_main$N=Object.assign(__default__$y,{__name:"AdminProductCard",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("div",{onClick:s[1]||(s[1]=(...a)=>t.select&&t.select(...a)),class:"card product-card"},[createBaseVNode("div",{onClick:s[0]||(s[0]=(...a)=>t.showProductDetails&&t.showProductDetails(...a)),class:"img-container"},[withDirectives(createBaseVNode("img",_hoisted_1$O,null,512),[[i,o.item.images[0]]]),createBaseVNode("div",_hoisted_2$N,[createBaseVNode("div",_hoisted_3$N,[createBaseVNode("div",_hoisted_4$K,[createBaseVNode("span",_hoisted_5$K,[_hoisted_6$K,createTextVNode(" "+toDisplayString(o.item.rating||0),1)])]),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_7$K,"%")):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_8$E,[createBaseVNode("p",_hoisted_9$A,[createTextVNode(toDisplayString(o.item.title.slice(0,50))+" ",1),o.item.title.length>50?(openBlock(),createElementBlock("span",_hoisted_10$y,"...")):createCommentVNode("",!0)]),createBaseVNode("p",_hoisted_11$v,[createTextVNode(toDisplayString(o.item.current_price||0)+"₽ ",1),o.item.old_price>0?(openBlock(),createElementBlock("span",_hoisted_12$w,toDisplayString(o.item.old_price||0)+"₽",1)):createCommentVNode("",!0)])])])}}}),_hoisted_1$N={class:"input-group mb-2"},_hoisted_2$M={class:"form-floating"},_hoisted_3$M=createBaseVNode("label",{for:"floatingInput"},"Критерии поиска товара",-1),_hoisted_4$J=createBaseVNode("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_5$J={class:"form-floating my-2"},_hoisted_6$J=createBaseVNode("option",{value:"id"},"По номеру товара",-1),_hoisted_7$J=createBaseVNode("option",{value:"title"},"По названию",-1),_hoisted_8$D=createStaticVNode('<option value="description">По описанию</option><option value="price">По цене</option><option value="old_price">По наличию скидки</option><option value="rating">По рейтингу</option><option value="updated_at">По дате добавления</option>',5),_hoisted_13$s=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_14$s={key:0},_hoisted_15$s=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_16$t=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_17$r={key:0},_hoisted_18$r={key:1,class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_19$q={class:"col"},_hoisted_20$q={key:2,class:"row"},_hoisted_21$p={class:"col-12"},_hoisted_22$p={class:"list-group"},_hoisted_23$m=["onClick"],_hoisted_24$l={class:"modal fade",id:"product-modal-admin-info",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_25$l={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen"},_hoisted_26$j={class:"modal-content"},_hoisted_27$j={class:"modal-header"},_hoisted_28$i=createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},null,-1),_hoisted_29$h={class:"modal-body"},_hoisted_30$h={class:"card border-0"},_hoisted_31$h={style:{"min-height":"350px","object-fit":"contain"},class:"card-img",alt:"..."},_hoisted_32$h={class:"card-img-overlay d-flex flex-column justify-content-between p-0"},_hoisted_33$h={class:"shadow-bg"},_hoisted_34$h={class:"text-left text-white",style:{"font-weight":"700","line-height":"100%"}},_hoisted_35$h={class:"text-left mb-0 text-white"},_hoisted_36$h={class:"text-primary fw-bold"},_hoisted_37$h={key:0,class:"row g-2 row-cols-5"},_hoisted_38$g={class:"col"},_hoisted_39$g=["onClick"],_hoisted_40$e={class:"p-2"},_hoisted_41$e=createBaseVNode("p",{class:"mb-0"},"Рейтинг товара",-1),_hoisted_42$e={class:"d-flex justify-content-between mb-3"},_hoisted_43$e={class:"nav nav-tabs justify-content-center"},_hoisted_44$e={class:"text-justify py-2 fst-italic"},_hoisted_45$e={key:0},_hoisted_46$e={class:"list-group w-100 py-2 rounded-0"},_hoisted_47$d={class:"list-group-item"},_hoisted_48$c={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_49$c=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем отзывы...")],-1),_hoisted_50$c=[_hoisted_49$c],_hoisted_51$c={key:2,class:"alert alert-light my-2",role:"alert"},_hoisted_52$c={class:"modal fade",id:"remove-modal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_53$a={class:"modal-dialog"},_hoisted_54$a={class:"modal-content"},_hoisted_55$9=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление товара"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_56$9={class:"modal-body"},_hoisted_57$9=createBaseVNode("h6",{class:"text-center my-3"},"Вы действительно хотите удалить этот товар?",-1),_hoisted_58$9={class:"d-flex justify-content-center"},__default__$x={props:["selected","isSimple"],data(){return{tab:0,selected_image:null,search:null,products:[],reviews:[],modal:null,accept_remove_modal:null,selected_product:null,paginate:null,review_paginate:null,loading_reviews:!0,sort:{param:null,direction:"asc"}}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.products}},mounted(){this.loadProducts(),this.modal=new bootstrap.Modal(document.getElementById("product-modal-admin-info"),{}),this.accept_remove_modal=new bootstrap.Modal(document.getElementById("remove-modal"),{})},methods:{openRemoveModal(){this.accept_remove_modal.show()},nextReviews(o){this.loadReviews(o)},changeDirection(o){this.sort.direction=o,this.loadOrders(0)},loadReviews(o=0){return this.loading_reviews=!0,this.$store.dispatch("loadReviewsByProductId",{dataObject:{product_id:this.selected_product.id},page:o,size:30}).then(t=>{this.reviews=this.getReviews,this.review_paginate=this.getReviewsPaginateObject,this.loading_reviews=!1}).catch(()=>{this.loading_reviews=!1})},hideModal(){this.$nextTick(()=>{this.selected_product=null,this.modal.hide()})},hideRemoveModal(){this.accept_remove_modal.hide()},selectProduct(o){this.selected_product=null,this.$nextTick(()=>{this.selected_product=o,this.loadReviews(),this.selected_image=this.selected_product.images[0]||null,this.selected_image=this.selected_product.images[0]||null,this.modal.show()})},nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProducts",{dataObject:{search:this.search,direction:this.sort.direction,order_by:this.sort.param},page:o}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})},removeProduct(){this.$store.dispatch("removeShopProduct",this.selected_product.id).then(o=>{this.hideModal(),this.hideRemoveModal(),this.loadProducts(),this.$notify({title:"Редактор товара",text:"Товар успешно удален",type:"success"})}).catch(()=>{this.hideModal(),this.hideRemoveModal(),this.loadProducts()})}}},_sfc_main$M=Object.assign(__default__$x,{__name:"ProductList",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{onSubmit:s[1]||(s[1]=withModifiers(a=>t.loadProducts(0),["prevent"]))},[createBaseVNode("div",_hoisted_1$N,[createBaseVNode("div",_hoisted_2$M,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control border-light",placeholder:"Поиск товара","aria-label":"Поиск товара","onUpdate:modelValue":s[0]||(s[0]=a=>t.search=a),"aria-describedby":"button-addon2"},null,512),[[vModelText,t.search]]),_hoisted_3$M]),_hoisted_4$J])],32),createBaseVNode("div",_hoisted_5$J,[withDirectives(createBaseVNode("select",{onChange:s[2]||(s[2]=a=>t.loadProducts(0)),"onUpdate:modelValue":s[3]||(s[3]=a=>t.sort.param=a),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_6$J,_hoisted_7$J,createTextVNode(" > "),_hoisted_8$D],544),[[vModelSelect,t.sort.param]]),_hoisted_13$s]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_14$s,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:s[4]||(s[4]=a=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_15$s])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:s[5]||(s[5]=a=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_16$t])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("p",null,[createTextVNode("Всего товаров: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_17$r,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),o.isSimple?(openBlock(),createElementBlock("div",_hoisted_20$q,[createBaseVNode("div",_hoisted_21$p,[createBaseVNode("ul",_hoisted_22$p,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(a,n)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item d-flex justify-content-between align-items-center",{"bg-success text-white fw-bold":(o.selected||[]).indexOf(a.id)!=-1}]),onClick:r=>t.selectProduct(a)},toDisplayString(a.title),11,_hoisted_23$m))),256))])])])):(openBlock(),createElementBlock("div",_hoisted_18$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProducts,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_19$q,[(openBlock(),createBlock(_sfc_main$N,{key:"product-"+a.id,class:normalizeClass({selected:(o.selected||[]).indexOf(a.id)!=-1}),onSelect:r=>t.selectProduct(a),item:a},null,8,["class","onSelect","item"]))]))),256))])),t.paginate?(openBlock(),createBlock(Pagination,{key:3,simple:!0,onPagination_page:t.nextProducts,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_24$l,[createBaseVNode("div",_hoisted_25$l,[createBaseVNode("div",_hoisted_26$j,[createBaseVNode("div",_hoisted_27$j,[_hoisted_28$i,createBaseVNode("button",{type:"button",class:"btn-close",onClick:s[6]||(s[6]=(...a)=>t.hideModal&&t.hideModal(...a))})]),createBaseVNode("div",_hoisted_29$h,[t.selected_product!=null?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_30$h,[withDirectives(createBaseVNode("img",_hoisted_31$h,null,512),[[i,t.selected_image]]),createBaseVNode("div",_hoisted_32$h,[createBaseVNode("div",_hoisted_33$h,[createBaseVNode("h6",_hoisted_34$h,toDisplayString(t.selected_product.title||"Не указан"),1),createBaseVNode("p",_hoisted_35$h,[createTextVNode("Цена "),createBaseVNode("strong",_hoisted_36$h,toDisplayString(t.selected_product.current_price||0)+"₽",1)])])])]),t.selected_product.images.length>1?(openBlock(),createElementBlock("div",_hoisted_37$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.selected_product.images,a=>(openBlock(),createElementBlock("div",_hoisted_38$g,[withDirectives(createBaseVNode("img",{style:{"min-height":"60px","object-fit":"contain"},onClick:n=>t.selected_image=a,class:normalizeClass([{"border border-primary":t.selected_image===a},"img-thumbnail my-2"]),alt:"..."},null,10,_hoisted_39$g),[[i,a]])]))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_40$e,[_hoisted_41$e,createBaseVNode("h6",_hoisted_42$e,[createVNode(Rating,{rating:t.selected_product.rating},null,8,["rating"]),createTextVNode(" "+toDisplayString(t.selected_product.rating)+" из 5 ",1)])]),createBaseVNode("ul",_hoisted_43$e,[createBaseVNode("li",{onClick:s[7]||(s[7]=a=>t.tab=0),class:"nav-item"},[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),"aria-current":"page",href:"javascript:void(0)"},"Описание",2)]),createBaseVNode("li",{onClick:s[8]||(s[8]=a=>t.tab=2),class:"nav-item"},[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===2}]),href:"javascript:void(0)"},"Редактор",2)]),createBaseVNode("li",{onClick:s[9]||(s[9]=a=>t.tab=1),class:"nav-item"},[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),href:"javascript:void(0)"},"Отзывы",2)])]),withDirectives(createBaseVNode("div",null,[createBaseVNode("p",_hoisted_44$e,toDisplayString(t.selected_product.description||"-"),1)],512),[[vShow,t.tab===0]]),withDirectives(createBaseVNode("div",null,[(t.reviews||[]).length>0?(openBlock(),createElementBlock("div",_hoisted_45$e,[createBaseVNode("ul",_hoisted_46$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reviews,(a,n)=>(openBlock(),createElementBlock("li",_hoisted_47$d,[createVNode(_sfc_main$1A,{"need-product":!1,modelValue:t.reviews[n],"onUpdate:modelValue":r=>t.reviews[n]=r},null,8,["modelValue","onUpdate:modelValue"])]))),256))]),t.review_paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextReviews,pagination:t.review_paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):createCommentVNode("",!0),(t.reviews||[]).length===0&&t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_48$c,_hoisted_50$c)):createCommentVNode("",!0),(t.reviews||[]).length===0&&!t.loading_reviews?(openBlock(),createElementBlock("div",_hoisted_51$c," У данного товара еще нет отзывов! Для того чтобы оставить отзыв Вам необходимо заказать данный товар, после чего у вас появится возможность написать ваше впечатление от него;) ")):createCommentVNode("",!0)],512),[[vShow,t.tab===1]]),withDirectives(createBaseVNode("div",null,[createVNode(ProductForm,{onRemoveProduct:t.openRemoveModal,onCallback:s[10]||(s[10]=a=>t.loadProducts(0)),item:t.selected_product},null,8,["onRemoveProduct","item"])],512),[[vShow,t.tab===2]])],64)):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_52$c,[createBaseVNode("div",_hoisted_53$a,[createBaseVNode("div",_hoisted_54$a,[_hoisted_55$9,createBaseVNode("div",_hoisted_56$9,[_hoisted_57$9,createBaseVNode("div",_hoisted_58$9,[createBaseVNode("button",{type:"button",class:"btn btn-primary px-3 mr-2",onClick:s[11]||(s[11]=(...a)=>t.removeProduct&&t.removeProduct(...a))},"Да"),createBaseVNode("button",{type:"button",class:"btn btn-secondary px-3",onClick:s[12]||(s[12]=(...a)=>t.hideRemoveModal&&t.hideRemoveModal(...a))},"Нет")])])])])])],64)}}}),_sfc_main$L={props:["item"],data(){return{categoryForm:{id:null,title:null,order_position:0}}},mounted(){this.item&&this.$nextTick(()=>{this.categoryForm.id=this.item.id||null,this.categoryForm.title=this.item.title||null,this.categoryForm.order_position=this.item.order_position||0})},methods:{addCategory(){this.$store.dispatch("addProductCategory",{category:this.categoryForm}).then(()=>{this.$notify({title:"Категории товаров",text:"Данные успешно сохранены!",type:"success"}),this.$emit("callback"),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click())}).catch(()=>{this.$notify({title:"Категории товаров",text:"Ошибка сохранения категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click())})}}},_hoisted_1$M={class:"form-floating mb-2"},_hoisted_2$L=createBaseVNode("label",{for:"floatingInput"},"Название категории",-1),_hoisted_3$L={class:"form-floating mb-3"},_hoisted_4$I=createBaseVNode("label",{for:"floatingInput"},"Позиция в выдаче",-1),_hoisted_5$I={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_6$I={class:"btn btn-primary w-100 p-3",type:"submit"},_hoisted_7$I={key:0},_hoisted_8$C={key:1};function _sfc_render$e(o,t,s,i,a,n){return openBlock(),createElementBlock("form",{onSubmit:t[2]||(t[2]=withModifiers((...r)=>n.addCategory&&n.addCategory(...r),["prevent"]))},[createBaseVNode("div",_hoisted_1$M,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a.categoryForm.title=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,a.categoryForm.title]]),_hoisted_2$L]),createBaseVNode("div",_hoisted_3$L,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>a.categoryForm.order_position=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,a.categoryForm.order_position]]),_hoisted_4$I]),createBaseVNode("nav",_hoisted_5$I,[createBaseVNode("button",_hoisted_6$I,[a.categoryForm.id?(openBlock(),createElementBlock("span",_hoisted_7$I,"Обновить категорию")):(openBlock(),createElementBlock("span",_hoisted_8$C,"Добавить категорию"))])])],32)}const CategoryForm=_export_sfc(_sfc_main$L,[["render",_sfc_render$e]]),_hoisted_1$L={class:"form-floating"},_hoisted_2$K=createBaseVNode("label",{for:"floatingInput"},"Поиск категории товара",-1),_hoisted_3$K=createBaseVNode("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_4$H={class:"form-floating my-2"},_hoisted_5$H=createBaseVNode("option",{value:"id"},"По id",-1),_hoisted_6$H=createBaseVNode("option",{value:"title"},"По названию",-1),_hoisted_7$H=createBaseVNode("option",{value:"order_position"},"По позиции выдачи",-1),_hoisted_8$B=createBaseVNode("option",{value:"is_active"},"По статусу",-1),_hoisted_9$z=createBaseVNode("option",{value:"updated_at"},"По дате добавления",-1),_hoisted_10$x=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_11$u={key:0},_hoisted_12$v=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_13$r=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_14$r={key:0},_hoisted_15$r={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},_hoisted_16$s={class:"col"},_hoisted_17$q={class:"list-group"},_hoisted_18$q=["onClick"],_hoisted_19$p={class:"mb-2 d-flex justify-content-between"},_hoisted_20$p={class:"fw-bold"},_hoisted_21$o=["data-bs-target"],_hoisted_22$o=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_23$l=[_hoisted_22$o],_hoisted_24$k={class:"input-group"},_hoisted_25$k=["onClick"],_hoisted_26$i={class:"form-floating"},_hoisted_27$i=["onChange","onUpdate:modelValue"],_hoisted_28$h=createBaseVNode("label",{for:""},"Позиция в выдаче",-1),_hoisted_29$g=["data-bs-target"],_hoisted_30$g=createBaseVNode("i",{class:"fa-solid fa-trash-can text-danger"},null,-1),_hoisted_31$g=[_hoisted_30$g],_hoisted_32$g=["id"],_hoisted_33$g={class:"modal-dialog modal-fullscreen"},_hoisted_34$g={class:"modal-content"},_hoisted_35$g=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_36$g={class:"modal-body"},_hoisted_37$g=["id"],_hoisted_38$f={class:"modal-dialog"},_hoisted_39$f={class:"modal-content"},_hoisted_40$d=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление категории"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_41$d={class:"modal-body"},_hoisted_42$d={class:"text-primary fw-bold"},_hoisted_43$d={class:"modal-footer"},_hoisted_44$d=createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть ",-1),_hoisted_45$d=["onClick"],_hoisted_46$d={key:2,class:"alert alert-light"},_hoisted_47$c=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},"data-bs-toggle":"modal","data-bs-target":"#category-form",class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"}," Добавить категорию ")],-1),_hoisted_48$b={class:"modal fade",id:"category-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_49$b={class:"modal-dialog modal-fullscreen"},_hoisted_50$b={class:"modal-content"},_hoisted_51$b=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_52$b={class:"modal-body"},__default__$w={data(){return{search:null,categories:[],paginate:null,sort:{param:"id",direction:"asc"}}},computed:{...mapGetters(["getCategories","getCategoriesPaginateObject"]),bot(){return window.currentBot},filteredProductCategories(){return this.search?this.categories.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.categories}},mounted(){this.loadProductCategories()},methods:{changeDirection(o){this.sort.direction=o,this.loadProductCategories(0)},updateCategory(o){console.log("update",o),this.$store.dispatch("storeProductCategory",{category:o,bot_id:this.bot.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Данные сохранены!",type:"success"})}).catch(t=>{this.$notify({title:"Конструктор ботов",text:"Ошибка сохранения данных!",type:"error"})})},changeCategoryStatus(o){let t=this.categories.findIndex(s=>o.id===s.id);t!==-1&&(this.categories[t].is_active=!this.categories[t].is_active,this.$store.dispatch("changeProductCategoryStatus",o.id).then(s=>{this.$notify({title:"Конструктор ботов",text:"Статус категории успешно изменен!",type:"success"})}).catch(s=>{}))},selectProductCategory(o){this.$emit("select",o)},nextProductCategories(o){this.loadProductCategories(o)},removeProductCategory(o){this.$store.dispatch("removeProductCategory",{category_id:o.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"}),this.loadProductCategories(),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click())}).catch(t=>{this.loadProductCategories(),this.$notify({title:"Конструктор ботов",text:"Ошибка удаления категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click())})},loadProductCategories(o=0){return this.$store.dispatch("loadCategories",{dataObject:{bot_id:this.bot.id,search:this.search,order_by:this.sort.param,direction:this.sort.direction},page:o,size:10}).then(()=>{this.categories=this.getCategories,this.paginate=this.getCategoriesPaginateObject})}}},_sfc_main$K=Object.assign(__default__$w,{__name:"ProductCategoryList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{class:"input-group mb-2",onSubmit:s[1]||(s[1]=withModifiers(i=>t.loadProductCategories(0),["prevent"]))},[createBaseVNode("div",_hoisted_1$L,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.search]]),_hoisted_2$K]),_hoisted_3$K],32),createBaseVNode("div",_hoisted_4$H,[withDirectives(createBaseVNode("select",{onChange:s[2]||(s[2]=i=>t.loadProductCategories(0)),"onUpdate:modelValue":s[3]||(s[3]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_5$H,_hoisted_6$H,createTextVNode(" > "),_hoisted_7$H,_hoisted_8$B,_hoisted_9$z],544),[[vModelSelect,t.sort.param]]),_hoisted_10$x]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_11$u,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:s[4]||(s[4]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_12$v])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:s[5]||(s[5]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_13$r])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("p",null,[createTextVNode("Всего категорий: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_14$r,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),t.filteredProductCategories.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_15$r,[createBaseVNode("div",_hoisted_16$s,[createBaseVNode("ul",_hoisted_17$q,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProductCategories,(i,a)=>(openBlock(),createElementBlock("li",{class:"list-group-item",onClick:n=>t.selectProductCategory(i)},[createBaseVNode("p",_hoisted_19$p,[createBaseVNode("span",_hoisted_20$p,toDisplayString(i.title),1),createBaseVNode("a",{href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#category-item-form-"+a,class:"text-secondary"},_hoisted_23$l,8,_hoisted_21$o)]),createBaseVNode("div",_hoisted_24$k,[createBaseVNode("button",{type:"button",onClick:n=>t.changeCategoryStatus(i),class:"btn border-light"},[createBaseVNode("i",{class:normalizeClass([{"text-light":!i.is_active,"text-success":i.is_active},"fa-solid fa-check-double"])},null,2)],8,_hoisted_25$k),createBaseVNode("div",_hoisted_26$i,[withDirectives(createBaseVNode("input",{type:"number",onChange:n=>t.updateCategory(i),"onUpdate:modelValue":n=>i.order_position=n,class:"form-control border-light"},null,40,_hoisted_27$i),[[vModelText,i.order_position]]),_hoisted_28$h]),createBaseVNode("button",{title:"Удалить товар","data-bs-toggle":"modal","data-bs-target":"#remove-category-modal-"+a,class:"btn border-light"},_hoisted_31$g,8,_hoisted_29$g)]),createBaseVNode("div",{class:"modal fade",id:"category-item-form-"+a,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_33$g,[createBaseVNode("div",_hoisted_34$g,[_hoisted_35$g,createBaseVNode("div",_hoisted_36$g,[createVNode(CategoryForm,{onCallback:s[6]||(s[6]=n=>t.loadProductCategories(0)),item:i},null,8,["item"])])])])],8,_hoisted_32$g),createBaseVNode("div",{class:"modal fade",id:"remove-category-modal-"+a,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_38$f,[createBaseVNode("div",_hoisted_39$f,[_hoisted_40$d,createBaseVNode("div",_hoisted_41$d,[createTextVNode(" Вы действительно хотите удалить "),createBaseVNode("strong",_hoisted_42$d,toDisplayString(i.title||"-")+"?",1)]),createBaseVNode("div",_hoisted_43$d,[_hoisted_44$d,createBaseVNode("button",{type:"button",onClick:n=>t.removeProductCategory(i),class:"btn btn-primary"},"Да, удалить ",8,_hoisted_45$d)])])])],8,_hoisted_37$g)],8,_hoisted_18$q))),256))])])]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextProductCategories,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("p",_hoisted_46$d," К сожалению, вы еще не добавили ни одной категории продуктов! ")),_hoisted_47$c,createBaseVNode("div",_hoisted_48$b,[createBaseVNode("div",_hoisted_49$b,[createBaseVNode("div",_hoisted_50$b,[_hoisted_51$b,createBaseVNode("div",_hoisted_52$b,[createVNode(CategoryForm,{onCallback:s[7]||(s[7]=i=>t.loadProductCategories(0))})])])])])],64))}}),_hoisted_1$K=["id"],_hoisted_2$J={class:"list-group"},_hoisted_3$J=["onClick"],__default__$v={props:["selected"],data(){return{search:null,products:[],paginate:null,sort:{param:null,direction:"asc"}}},computed:{...mapGetters(["getProducts","getProductsPaginateObject"]),filteredCategories(){return this.products.length===0?[]:(this.search||"").length===0?this.products:this.products.filter(o=>o.products.filter(t=>t.title.toLowerCase().indexOf(this.search.toLowerCase())!=-1).length>0)},filteredProducts(){return this.categories.length===0?this.products:this.products.filter(o=>o.categories.findIndex(t=>this.categories.indexOf(t.id)!==-1)!==-1)}},mounted(){this.loadProducts()},methods:{changeDirection(o){this.sort.direction=o,this.loadOrders(0)},selectProduct(o){console.log("product",o),this.$emit("select",o)},nextProducts(o){this.loadProducts(o)},loadProducts(o=0){return this.$store.dispatch("loadProductsByCategory",{dataObject:{search:this.search,direction:this.sort.direction,order_by:this.sort.param},page:o,size:100}).then(t=>{this.products=t.data}).catch(()=>{})}}},_sfc_main$J=Object.assign(__default__$v,{__name:"SimpleProductList",setup(o){return(t,s)=>t.filteredCategories.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.filteredCategories,i=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h5",{class:"my-4 divider",id:"cat-"+i.id},toDisplayString(i.title||"-"),9,_hoisted_1$K),createBaseVNode("ul",_hoisted_2$J,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.products,(a,n)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item d-flex justify-content-between align-items-center",{"bg-success text-white fw-bold":(o.selected||[]).indexOf(a.id)!=-1}]),onClick:r=>t.selectProduct(a)},toDisplayString(a.title),11,_hoisted_3$J))),256))])],64))),256)):createCommentVNode("",!0)}}),CollectionForm_vue_vue_type_style_index_0_scoped_5c95131a_lang="",_withScopeId$3=o=>(pushScopeId("data-v-5c95131a"),o=o(),popScopeId(),o),_hoisted_1$J=["for"],_hoisted_2$I=_withScopeId$3(()=>createBaseVNode("i",{class:"fa-solid fa-image text-primary"},null,-1)),_hoisted_3$I=["id"],_hoisted_4$G=_withScopeId$3(()=>createBaseVNode("p",{class:"mt-3 font-16 text-primary"}," Нажмите для выбора фотографии",-1)),_hoisted_5$G={key:1,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},_hoisted_6$G={key:0,class:"w-100 object-fit-cover",alt:""},_hoisted_7$G={class:"remove"},_hoisted_8$A=_withScopeId$3(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1)),_hoisted_9$y={key:2,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},_hoisted_10$w={class:"w-100 object-fit-cover"},_hoisted_11$t={class:"remove"},_hoisted_12$u=_withScopeId$3(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1)),_hoisted_13$q={class:"form-floating mb-2"},_hoisted_14$q=_withScopeId$3(()=>createBaseVNode("label",{for:"floatingInput"},"Название подборки",-1)),_hoisted_15$q={class:"form-floating mb-2"},_hoisted_16$r=_withScopeId$3(()=>createBaseVNode("label",{for:"floatingTextarea"},"Описание",-1)),_hoisted_17$p={class:"form-floating mb-2"},_hoisted_18$p=_withScopeId$3(()=>createBaseVNode("label",{for:"floatingInput"},"Скидка на подборку, %",-1)),_hoisted_19$o={class:"form-floating mb-3"},_hoisted_20$o=_withScopeId$3(()=>createBaseVNode("label",{for:"floatingInput"},"Позиция в выдаче",-1)),_hoisted_21$n=_withScopeId$3(()=>createBaseVNode("p",{class:"alert alert-light mb-2"}," Делает подборку доступной для всех пользователей, позволяя им формировать заказ. ",-1)),_hoisted_22$n={class:"form-check form-switch mb-2"},_hoisted_23$k=["id"],_hoisted_24$j=["for"],_hoisted_25$j={class:"form-check form-switch mb-2"},_hoisted_26$h=["id"],_hoisted_27$h=["for"],_hoisted_28$g={key:0,class:"fa-solid fa-chevron-up"},_hoisted_29$f={key:1,class:"fa-solid fa-chevron-down"},_hoisted_30$f={key:3},_hoisted_31$f=_withScopeId$3(()=>createBaseVNode("p",{class:"alert alert-light"},[createTextVNode(" При выборе товаров из одной и той же категории пользователь сможет указать один из этих продуктов по своему усмотрению. Если выбран флаг "),createBaseVNode("span",{class:"text-primary fw-bold"},'"все в категории"'),createTextVNode(", то у пользователя не будет возможности выбирать, ему можно будет заказать всё как есть. ")],-1)),_hoisted_32$f={class:"form-check form-switch mb-2"},_hoisted_33$f={class:"form-check-label",for:"collectionForm_choose_all_in_category"},_hoisted_34$f={class:"form-check form-switch mb-2"},_hoisted_35$f={class:"form-check-label",for:"collectionForm_choose_all_in_category"},_hoisted_36$f={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_37$f={class:"btn btn-primary w-100 p-3",type:"submit"},_hoisted_38$e={key:0},_hoisted_39$e={key:1},__default__$u={props:["item"],data(){return{photo:null,show_products:!1,collectionForm:{id:null,title:null,order_position:0,image:null,description:null,is_public:!0,is_active:!0,discount:0,products:[],config:{choose_all_in_category:!1,can_skip_categories:!1}}}},computed:{bot(){return window.currentBot},mappedProducts(){return this.collectionForm.products.map(({id:o})=>o)},uuid(){return v4()}},mounted(){this.item&&this.$nextTick(()=>{this.collectionForm.id=this.item.id||null,this.collectionForm.title=this.item.title||null,this.collectionForm.order_position=this.item.order_position||0,this.collectionForm.image=this.item.image||null,this.collectionForm.description=this.item.description||null,this.collectionForm.discount=this.item.discount||0,this.collectionForm.is_public=this.item.is_public||!0,this.collectionForm.is_active=this.item.is_active||!0,this.collectionForm.config=this.item.config||{},this.collectionForm.products=this.item.products||[],(this.item.products||[]).length>0&&(this.show_products=!0)})},methods:{removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0]},storeCollection(){let o=new FormData;Object.keys(this.collectionForm).forEach(t=>{const s=this.collectionForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photo&&o.append("photo",this.photo),this.$store.dispatch("storeCollection",{collectionForm:o}).then(()=>{this.$notify({title:"Коллекция товаров",text:"Данные успешно сохранены!",type:"success"}),this.$emit("callback"),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click())}).catch(()=>{this.$notify({title:"Коллекция товаров",text:"Ошибка сохранения категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click())})},selectProduct(o){let t=this.collectionForm.products.findIndex(s=>s.id==o.id);t===-1?this.collectionForm.products.push(o):this.collectionForm.products.splice(t,1)}}},_sfc_main$I=Object.assign(__default__$u,{__name:"CollectionForm",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:s[12]||(s[12]=withModifiers((...a)=>t.storeCollection&&t.storeCollection(...a),["prevent"])),class:"pb-5 mb-5"},[!t.photo&&!t.collectionForm.image?(openBlock(),createElementBlock("label",{key:0,for:"photos-"+t.uuid,style:{"font-size":"14px","min-height":"300px"},class:"photo-loader my-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},[_hoisted_2$I,createBaseVNode("input",{type:"file",id:"photos-"+t.uuid,accept:"image/*",onChange:s[0]||(s[0]=(...a)=>t.onChangePhotos&&t.onChangePhotos(...a)),style:{display:"none"}},null,40,_hoisted_3$I),_hoisted_4$G],8,_hoisted_1$J)):createCommentVNode("",!0),t.collectionForm.image?(openBlock(),createElementBlock("div",_hoisted_5$G,[t.collectionForm.image?withDirectives((openBlock(),createElementBlock("img",_hoisted_6$G,null,512)),[[i,"/images-by-company-id/"+t.bot.company_id+"/"+t.collectionForm.image]]):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$G,[createBaseVNode("a",{onClick:s[1]||(s[1]=a=>t.collectionForm.image=null),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_hoisted_8$A,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0),t.photo&&!t.collectionForm.image?(openBlock(),createElementBlock("div",_hoisted_9$y,[withDirectives(createBaseVNode("img",_hoisted_10$w,null,512),[[i,t.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_11$t,[createBaseVNode("a",{onClick:s[2]||(s[2]=(...a)=>t.removePhoto&&t.removePhoto(...a)),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_hoisted_12$u,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$q,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=a=>t.collectionForm.title=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.collectionForm.title]]),_hoisted_14$q]),createBaseVNode("div",_hoisted_15$q,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[4]||(s[4]=a=>t.collectionForm.description=a),placeholder:"Leave a comment here",style:{"min-height":"150px"},required:"",id:"floatingTextarea"},null,512),[[vModelText,t.collectionForm.description]]),_hoisted_16$r]),createBaseVNode("div",_hoisted_17$p,[withDirectives(createBaseVNode("input",{type:"number",min:"0",max:"100","onUpdate:modelValue":s[5]||(s[5]=a=>t.collectionForm.discount=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.collectionForm.discount]]),_hoisted_18$p]),createBaseVNode("div",_hoisted_19$o,[withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":s[6]||(s[6]=a=>t.collectionForm.order_position=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.collectionForm.order_position]]),_hoisted_20$o]),_hoisted_21$n,createBaseVNode("div",_hoisted_22$n,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[7]||(s[7]=a=>t.collectionForm.is_active=a),role:"switch",id:"collectionForm_is_active-"+t.uuid},null,8,_hoisted_23$k),[[vModelCheckbox,t.collectionForm.is_active]]),createBaseVNode("label",{class:"form-check-label",for:"collectionForm_is_active-"+t.uuid},[createTextVNode("Отображение подборки: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.is_active})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.is_active})},"выкл",2)],8,_hoisted_24$j)]),createBaseVNode("div",_hoisted_25$j,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[8]||(s[8]=a=>t.collectionForm.is_public=a),role:"switch",id:"collectionForm_is_public-"+t.uuid},null,8,_hoisted_26$h),[[vModelCheckbox,t.collectionForm.is_public]]),createBaseVNode("label",{class:"form-check-label",for:"collectionForm_is_public-"+t.uuid},[createTextVNode("Является публичной: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.is_public})},"да",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.is_public})},"нет",2)],8,_hoisted_27$h)]),createBaseVNode("button",{type:"button",onClick:s[9]||(s[9]=a=>t.show_products=!t.show_products),class:"btn btn-outline-primary p-2 w-100 mb-2"},[t.show_products?(openBlock(),createElementBlock("i",_hoisted_29$f)):(openBlock(),createElementBlock("i",_hoisted_28$g)),createTextVNode(" Открыть выбор продуктов ")]),t.show_products?(openBlock(),createElementBlock("div",_hoisted_30$f,[_hoisted_31$f,createBaseVNode("div",_hoisted_32$f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=a=>t.collectionForm.config.choose_all_in_category=a),role:"switch",id:"collectionForm_choose_all_in_category"},null,512),[[vModelCheckbox,t.collectionForm.config.choose_all_in_category]]),createBaseVNode("label",_hoisted_33$f,[createTextVNode("Все в категории: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.config.choose_all_in_category})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.config.choose_all_in_category})},"выкл",2)])]),createBaseVNode("div",_hoisted_34$f,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[11]||(s[11]=a=>t.collectionForm.config.can_skip_categories=a),role:"switch",id:"collectionForm_choose_all_in_category"},null,512),[[vModelCheckbox,t.collectionForm.config.can_skip_categories]]),createBaseVNode("label",_hoisted_35$f,[createTextVNode("Разрешить пропуск категорий: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.collectionForm.config.can_skip_categories})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.collectionForm.config.can_skip_categories})},"выкл",2)])]),createVNode(_sfc_main$J,{selected:t.mappedProducts,onSelect:t.selectProduct},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("nav",_hoisted_36$f,[createBaseVNode("button",_hoisted_37$f,[t.collectionForm.id?(openBlock(),createElementBlock("span",_hoisted_38$e,"Обновить подборку")):(openBlock(),createElementBlock("span",_hoisted_39$e,"Добавить подборку"))])])],32)}}}),CollectionForm=_export_sfc(_sfc_main$I,[["__scopeId","data-v-5c95131a"]]),_hoisted_1$I={class:"form-floating"},_hoisted_2$H=createBaseVNode("label",{for:"floatingInput"},"Поиск подборок",-1),_hoisted_3$H=createBaseVNode("button",{class:"btn btn-outline-light text-primary",type:"submit",id:"button-addon2"}," Найти ",-1),_hoisted_4$F={class:"form-floating my-2"},_hoisted_5$F=createBaseVNode("option",{value:"id"},"По id",-1),_hoisted_6$F=createBaseVNode("option",{value:"title"},"По названию",-1),_hoisted_7$F=createStaticVNode('<option value="order_position">По позиции выдачи</option><option value="is_active">По статусу</option><option value="is_public">По публичности</option><option value="discount">По величине скидки</option><option value="updated_at">По дате добавления</option>',5),_hoisted_12$t=createBaseVNode("label",{for:"floatingSelect"},"Сортировать заказы по",-1),_hoisted_13$p={key:0},_hoisted_14$p=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_15$p=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_16$q={key:0},_hoisted_17$o={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 g-2"},_hoisted_18$o={class:"col"},_hoisted_19$n={class:"list-group"},_hoisted_20$n={class:"list-group-item"},_hoisted_21$m={class:"d-flex justify-content-between"},_hoisted_22$m={class:"mb-0"},_hoisted_23$j={class:"badge bg-primary mr-2"},_hoisted_24$i=["onClick"],_hoisted_25$i={class:"fw-bold"},_hoisted_26$g={class:"dropdown"},_hoisted_27$g=createBaseVNode("button",{class:"btn btn-outline-light",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_28$f={class:"dropdown-menu"},_hoisted_29$e=["onClick"],_hoisted_30$e=createBaseVNode("i",{class:"fa-solid fa-eye"},null,-1),_hoisted_31$e=["onClick"],_hoisted_32$e=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_33$e=["onClick"],_hoisted_34$e=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_35$e={key:2,class:"alert alert-light"},_hoisted_36$e={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_37$e={class:"modal fade",id:"collection-items-show",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_38$d={class:"modal-dialog modal-fullscreen"},_hoisted_39$d={class:"modal-content"},_hoisted_40$c=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Демонстрация"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_41$c={class:"modal-body pb-5 mb-5"},_hoisted_42$c={class:"modal fade",id:"collection-item-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_43$c={class:"modal-dialog modal-fullscreen"},_hoisted_44$c={class:"modal-content"},_hoisted_45$c=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_46$c={class:"modal-body"},_hoisted_47$b={class:"modal fade",id:"remove-collection-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_48$a={class:"modal-dialog"},_hoisted_49$a={class:"modal-content"},_hoisted_50$a=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление категории"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_51$a={key:0,class:"modal-body"},_hoisted_52$a={class:"text-primary fw-bold"},_hoisted_53$9={key:1,class:"modal-footer"},_hoisted_54$9=createBaseVNode("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть ",-1),__default__$t={data(){return{search:null,collections:[],paginate:null,loaded:!0,selected:null,sort:{param:"id",direction:"asc"}}},computed:{...mapGetters(["getCollections","getCollectionsPaginateObject"]),bot(){return window.currentBot},filteredProductCollections(){return this.search?this.collections.filter(o=>o.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.collections.filter(o=>!o.is_deleted)}},mounted(){this.loadProductCollections()},methods:{openModalDemo(o){this.loaded=!1,this.selected=o,new bootstrap.Modal("#collection-items-show",{}).show(),this.$nextTick(()=>{this.loaded=!0})},openRemoveModal(o){this.loaded=!1,this.selected=o,new bootstrap.Modal("#remove-collection-modal",{}).show(),this.$nextTick(()=>{this.loaded=!0})},openModalEditor(o){this.loaded=!1,this.selected=o,new bootstrap.Modal("#collection-item-form",{}).show(),this.$nextTick(()=>{this.loaded=!0})},changeDirection(o){this.sort.direction=o,this.loadProductCollections(0)},updateCollection(o){this.$store.dispatch("storeCollection",{collectionForm:o,bot_id:this.bot.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Данные сохранены!",type:"success"})}).catch(t=>{this.$notify({title:"Конструктор ботов",text:"Ошибка сохранения данных!",type:"error"})})},selectProductCollection(o){this.loaded=!1,this.selected=o,this.$nextTick(()=>{this.loaded=!0})},nextProductCollections(o){this.loadProductCollections(o)},removeProductCollection(o){o.is_deleted=!0,this.$store.dispatch("removeProductCollection",{collectionId:o.id}).then(t=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"}),this.loadProductCollections(),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click())}).catch(t=>{this.loadProductCollections(),this.$notify({title:"Конструктор ботов",text:"Ошибка удаления категории!",type:"error"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click())})},loadProductCollections(o=0){return this.$store.dispatch("loadCollections",{dataObject:{search:this.search,order_by:this.sort.param,direction:this.sort.direction},page:o,size:10}).then(()=>{this.collections=this.getCollections,this.paginate=this.getCollectionsPaginateObject})}}},_sfc_main$H=Object.assign(__default__$t,{__name:"CollectionList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{class:"input-group mb-2",onSubmit:s[1]||(s[1]=withModifiers(i=>t.loadProductCollections(0),["prevent"]))},[createBaseVNode("div",_hoisted_1$I,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.search]]),_hoisted_2$H]),_hoisted_3$H],32),createBaseVNode("div",_hoisted_4$F,[withDirectives(createBaseVNode("select",{onClick:s[2]||(s[2]=i=>t.loadProductCollections(0)),"onUpdate:modelValue":s[3]||(s[3]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},[_hoisted_5$F,_hoisted_6$F,createTextVNode(" > "),_hoisted_7$F],512),[[vModelSelect,t.sort.param]]),_hoisted_12$t]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_13$p,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:s[4]||(s[4]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_14$p])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:s[5]||(s[5]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_15$p])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("p",null,[createTextVNode("Всего подборок: "),t.paginate?(openBlock(),createElementBlock("span",_hoisted_16$q,toDisplayString(t.paginate.meta.total||0),1)):createCommentVNode("",!0)]),t.filteredProductCollections.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_17$o,[createBaseVNode("div",_hoisted_18$o,[createBaseVNode("ul",_hoisted_19$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredProductCollections,(i,a)=>(openBlock(),createElementBlock("li",_hoisted_20$n,[createBaseVNode("div",_hoisted_21$m,[createBaseVNode("p",_hoisted_22$m,[createBaseVNode("span",_hoisted_23$j," #"+toDisplayString(i.id),1),createBaseVNode("span",{onClick:n=>t.openModalEditor(i),class:"fw-bold"},toDisplayString(i.title),9,_hoisted_24$i),createBaseVNode("small",_hoisted_25$i," ("+toDisplayString((i.products||[]).length)+" товаров)",1)]),createBaseVNode("div",_hoisted_26$g,[_hoisted_27$g,createBaseVNode("ul",_hoisted_28$f,[createBaseVNode("li",null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.openModalDemo(i),class:"dropdown-item"},[_hoisted_30$e,createTextVNode(" Демо")],8,_hoisted_29$e)]),createBaseVNode("li",null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.openModalEditor(i),class:"dropdown-item"},[_hoisted_32$e,createTextVNode(" Редактировать")],8,_hoisted_31$e)]),createBaseVNode("li",null,[createBaseVNode("a",{href:"javascript:void(0)",onClick:n=>t.openRemoveModal(i),class:"dropdown-item"},[_hoisted_34$e,createTextVNode(" Удалить")],8,_hoisted_33$e)])])])])]))),256))])])]),t.paginate?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextProductCollections,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock("p",_hoisted_35$e," К сожалению, вы еще не добавили ни одной коллекции продуктов! ")),createBaseVNode("nav",_hoisted_36$e,[createBaseVNode("button",{style:{"box-shadow":"1px 1px 6px 0px #0000004a"},onClick:s[6]||(s[6]=i=>t.openModalEditor(null)),class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"}," Добавить подборку ")]),createBaseVNode("div",_hoisted_37$e,[createBaseVNode("div",_hoisted_38$d,[createBaseVNode("div",_hoisted_39$d,[_hoisted_40$c,createBaseVNode("div",_hoisted_41$c,[t.selected&&t.loaded?(openBlock(),createBlock(_sfc_main$1y,{key:0,item:t.selected},null,8,["item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_42$c,[createBaseVNode("div",_hoisted_43$c,[createBaseVNode("div",_hoisted_44$c,[_hoisted_45$c,createBaseVNode("div",_hoisted_46$c,[t.loaded?(openBlock(),createBlock(CollectionForm,{key:0,onCallback:s[7]||(s[7]=i=>t.loadProductCollections(0)),item:t.selected},null,8,["item"])):createCommentVNode("",!0)])])])]),createBaseVNode("div",_hoisted_47$b,[createBaseVNode("div",_hoisted_48$a,[createBaseVNode("div",_hoisted_49$a,[_hoisted_50$a,t.selected&&t.loaded?(openBlock(),createElementBlock("div",_hoisted_51$a,[createTextVNode(" Вы действительно хотите удалить "),createBaseVNode("strong",_hoisted_52$a,toDisplayString(t.selected.title||"-")+" (#"+toDisplayString(t.selected.id||"-")+")?",1)])):createCommentVNode("",!0),t.selected&&t.loaded?(openBlock(),createElementBlock("div",_hoisted_53$9,[_hoisted_54$9,createBaseVNode("button",{type:"button",onClick:s[8]||(s[8]=i=>t.removeProductCollection(t.selected)),class:"btn btn-primary"},"Да, удалить ")])):createCommentVNode("",!0)])])])],64))}}),Shop_vue_vue_type_style_index_0_lang="",_hoisted_1$H={class:"container py-3"},_hoisted_2$G={class:"row"},_hoisted_3$G={class:"col-12"},_hoisted_4$E={class:"form-floating mb-2"},_hoisted_5$E=createBaseVNode("label",{for:"floatingInput"},"Ссылка на страницу ВК с товарами",-1),_hoisted_6$E=["disabled"],_hoisted_7$E=createBaseVNode("i",{class:"fa-regular fa-floppy-disk mr-2"},null,-1),_hoisted_8$z={key:0,class:"btn btn-outline-warning p-3 mb-1 w-100"},_hoisted_9$x=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_10$v=createBaseVNode("span",{class:"spinner-border text-warning ml-2",style:{"border-width":"2px",width:"1rem",height:"1rem"},role:"status"},null,-1),_hoisted_11$s=createBaseVNode("i",{class:"fa-brands fa-vk mr-2"},null,-1),_hoisted_12$s={key:0,class:"col-12"},_hoisted_13$o=createBaseVNode("i",{class:"fa-solid fa-gears mr-2"},null,-1),_hoisted_14$o={class:"col-12 py-2"},_hoisted_15$o={class:"btn-group w-100 px-3 catalog-tabs py-2",style:{"overflow-x":"auto"}},_hoisted_16$p=createBaseVNode("i",{class:"fa-solid fa-users mr-2"},null,-1),_hoisted_17$n=createBaseVNode("i",{class:"fa-solid fa-user-secret mr-2"},null,-1),_hoisted_18$n=createBaseVNode("i",{class:"fa-solid fa-box-open mr-2"},null,-1),_hoisted_19$m={key:1,class:"col-12"},_hoisted_20$m={key:2,class:"col-12"},_hoisted_21$l={key:3,class:"col-12"},_hoisted_22$l={key:4,class:"col-12"},__default__$s={data(){return{tab:0,load:!1,url:null,link:null,selectedProduct:null,botForm:{vk_shop_link:null}}},computed:{tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},mounted(){this.updateProducts(),this.botForm.vk_shop_link=window.currentBot.vk_shop_link||null,this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{goTo(o){this.$router.push({name:o})},updateShopLink(){this.load=!0,this.$store.dispatch("updateShopLink",{botForm:this.botForm}).then(o=>{this.load=!1,this.updateProducts(),this.$botNotification.notification("Менеджер магазина","Ссылка на источник в ВК обновлена")}).catch(()=>{this.load=!1})},refresh(){this.load=!0,this.selectedProduct=null,this.$nextTick(()=>{this.load=!1})},removeAllProducts(){this.load=!0,this.$store.dispatch("removeAllProducts").then(o=>{this.load=!1,this.$botNotification.notification("Менеджер магазина","Все продукты удалены")}).catch(()=>{this.load=!1})},selectProduct(o){this.load=!0,this.$nextTick(()=>{this.selectedProduct=o,this.load=!1})},updateProducts(){this.load=!0,this.$store.dispatch("updateProductsFromVk").then(o=>{this.link=o.data.url||null,this.load=!1,this.url=null}).catch(()=>{this.load=!1})},open(o){this.tg.openLink(o)}}},_sfc_main$G=Object.assign(__default__$s,{__name:"Shop",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$H,[createBaseVNode("div",_hoisted_2$G,[createBaseVNode("div",_hoisted_3$G,[createBaseVNode("form",{onSubmit:s[1]||(s[1]=withModifiers((...i)=>t.updateShopLink&&t.updateShopLink(...i),["prevent"])),class:"mb-2"},[createBaseVNode("div",_hoisted_4$E,[withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":s[0]||(s[0]=i=>t.botForm.vk_shop_link=i),"aria-describedby":"vk_shop_link"},null,512),[[vModelText,t.botForm.vk_shop_link]]),_hoisted_5$E]),createBaseVNode("button",{disabled:t.load,class:"btn btn-outline-info w-100 p-3"},[_hoisted_7$E,createTextVNode(" Сохранить ")],8,_hoisted_6$E)],32),t.link?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_8$z,[_hoisted_9$x,createTextVNode("Подготовка ссылки "),_hoisted_10$v])),t.link?(openBlock(),createElementBlock("a",{key:1,onClick:s[2]||(s[2]=i=>t.open(t.link)),href:"javascript:void(0)",target:"_blank",class:"btn btn-primary p-3 w-100"},[_hoisted_11$s,createTextVNode(" Обновить товар из ВК ")])):createCommentVNode("",!0)]),t.currentBot.iiko?(openBlock(),createElementBlock("div",_hoisted_12$s,[createBaseVNode("a",{onClick:s[3]||(s[3]=i=>t.goTo("IikoV2")),href:"javascript:void(0)",class:"btn btn-primary p-3 w-100 my-2"},[_hoisted_13$o,createTextVNode(" Обновить товар из IIKO ")])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14$o,[createBaseVNode("div",_hoisted_15$o,[createBaseVNode("button",{type:"button",class:normalizeClass(["btn-outline-primary btn p-3",{active:t.tab===0}]),onClick:s[4]||(s[4]=i=>t.tab=0),style:{"min-width":"150px","line-height":"100%"},"aria-current":"page"},[_hoisted_16$p,createTextVNode("Товары ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-outline-primary btn p-3",{active:t.tab===2}]),onClick:s[5]||(s[5]=i=>t.tab=2),style:{"min-width":"150px","line-height":"100%"}},[_hoisted_17$n,createTextVNode("Категории ")],2),createBaseVNode("button",{type:"button",class:normalizeClass(["btn-outline-primary btn p-3",{active:t.tab===3}]),onClick:s[6]||(s[6]=i=>t.tab=3),style:{"min-width":"300px","line-height":"100%"}},[_hoisted_18$n,createTextVNode(" Подборки товара (комбо) ")],2)])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_19$m,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$M,{key:0,onSelect:t.selectProduct},null,8,["onSelect"]))])):createCommentVNode("",!0),t.tab===3?(openBlock(),createElementBlock("div",_hoisted_20$m,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$H,{key:0}))])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_21$l,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(ProductForm,{key:0,item:t.selectedProduct,onRefresh:t.refresh},null,8,["item","onRefresh"]))])):createCommentVNode("",!0),t.tab===2?(openBlock(),createElementBlock("div",_hoisted_22$l,[createVNode(_sfc_main$K)])):createCommentVNode("",!0)])]))}}),Shop=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$G},Symbol.toStringTag,{value:"Module"})),_hoisted_1$G={class:"container"},__default__$r={data(){},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})}},_sfc_main$F=Object.assign(__default__$r,{__name:"Orders",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$G,[createVNode(_sfc_main$$)]))}}),Orders=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$F},Symbol.toStringTag,{value:"Module"}));function _isPlaceholder(o){return o!=null&&typeof o=="object"&&o["@@functional/placeholder"]===!0}function _curry1(o){return function t(s){return arguments.length===0||_isPlaceholder(s)?t:o.apply(this,arguments)}}function _curry2(o){return function t(s,i){switch(arguments.length){case 0:return t;case 1:return _isPlaceholder(s)?t:_curry1(function(a){return o(s,a)});default:return _isPlaceholder(s)&&_isPlaceholder(i)?t:_isPlaceholder(s)?_curry1(function(a){return o(a,i)}):_isPlaceholder(i)?_curry1(function(a){return o(s,a)}):o(s,i)}}}function _arity(o,t){switch(o){case 0:return function(){return t.apply(this,arguments)};case 1:return function(s){return t.apply(this,arguments)};case 2:return function(s,i){return t.apply(this,arguments)};case 3:return function(s,i,a){return t.apply(this,arguments)};case 4:return function(s,i,a,n){return t.apply(this,arguments)};case 5:return function(s,i,a,n,r){return t.apply(this,arguments)};case 6:return function(s,i,a,n,r,l){return t.apply(this,arguments)};case 7:return function(s,i,a,n,r,l,d){return t.apply(this,arguments)};case 8:return function(s,i,a,n,r,l,d,c){return t.apply(this,arguments)};case 9:return function(s,i,a,n,r,l,d,c,_){return t.apply(this,arguments)};case 10:return function(s,i,a,n,r,l,d,c,_,m){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _curryN(o,t,s){return function(){for(var i=[],a=0,n=o,r=0;r<t.length||a<arguments.length;){var l;r<t.length&&(!_isPlaceholder(t[r])||a>=arguments.length)?l=t[r]:(l=arguments[a],a+=1),i[r]=l,_isPlaceholder(l)||(n-=1),r+=1}return n<=0?s.apply(this,i):_arity(n,_curryN(o,i,s))}}var curryN=_curry2(function o(t,s){return t===1?_curry1(s):_arity(t,_curryN(t,[],s))});function _curry3(o){return function t(s,i,a){switch(arguments.length){case 0:return t;case 1:return _isPlaceholder(s)?t:_curry2(function(n,r){return o(s,n,r)});case 2:return _isPlaceholder(s)&&_isPlaceholder(i)?t:_isPlaceholder(s)?_curry2(function(n,r){return o(n,i,r)}):_isPlaceholder(i)?_curry2(function(n,r){return o(s,n,r)}):_curry1(function(n){return o(s,i,n)});default:return _isPlaceholder(s)&&_isPlaceholder(i)&&_isPlaceholder(a)?t:_isPlaceholder(s)&&_isPlaceholder(i)?_curry2(function(n,r){return o(n,r,a)}):_isPlaceholder(s)&&_isPlaceholder(a)?_curry2(function(n,r){return o(n,i,r)}):_isPlaceholder(i)&&_isPlaceholder(a)?_curry2(function(n,r){return o(s,n,r)}):_isPlaceholder(s)?_curry1(function(n){return o(n,i,a)}):_isPlaceholder(i)?_curry1(function(n){return o(s,n,a)}):_isPlaceholder(a)?_curry1(function(n){return o(s,i,n)}):o(s,i,a)}}}var _isArray=Array.isArray||function o(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function _isTransformer(o){return o!=null&&typeof o["@@transducer/step"]=="function"}function _dispatchable(o,t,s){return function(){if(arguments.length===0)return s();var i=arguments[arguments.length-1];if(!_isArray(i)){for(var a=0;a<o.length;){if(typeof i[o[a]]=="function")return i[o[a]].apply(i,Array.prototype.slice.call(arguments,0,-1));a+=1}if(_isTransformer(i)){var n=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return n(i)}}return s.apply(this,arguments)}}var _xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(o){return this.xf["@@transducer/result"](o)}};function _map(o,t){for(var s=0,i=t.length,a=Array(i);s<i;)a[s]=o(t[s]),s+=1;return a}function _isString(o){return Object.prototype.toString.call(o)==="[object String]"}var _isArrayLike=_curry1(function o(t){return _isArray(t)?!0:!t||typeof t!="object"||_isString(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),XWrap=function(){function o(t){this.f=t}return o.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},o.prototype["@@transducer/result"]=function(t){return t},o.prototype["@@transducer/step"]=function(t,s){return this.f(t,s)},o}();function _xwrap(o){return new XWrap(o)}var bind=_curry2(function o(t,s){return _arity(t.length,function(){return t.apply(s,arguments)})});function _arrayReduce(o,t,s){for(var i=0,a=s.length;i<a;){if(t=o["@@transducer/step"](t,s[i]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}i+=1}return o["@@transducer/result"](t)}function _iterableReduce(o,t,s){for(var i=s.next();!i.done;){if(t=o["@@transducer/step"](t,i.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}i=s.next()}return o["@@transducer/result"](t)}function _methodReduce(o,t,s,i){return o["@@transducer/result"](s[i](bind(o["@@transducer/step"],o),t))}var symIterator=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function _reduce(o,t,s){if(typeof o=="function"&&(o=_xwrap(o)),_isArrayLike(s))return _arrayReduce(o,t,s);if(typeof s["fantasy-land/reduce"]=="function")return _methodReduce(o,t,s,"fantasy-land/reduce");if(s[symIterator]!=null)return _iterableReduce(o,t,s[symIterator]());if(typeof s.next=="function")return _iterableReduce(o,t,s);if(typeof s.reduce=="function")return _methodReduce(o,t,s,"reduce");throw new TypeError("reduce: list must be array or iterable")}var XMap=function(){function o(t,s){this.xf=s,this.f=t}return o.prototype["@@transducer/init"]=_xfBase.init,o.prototype["@@transducer/result"]=_xfBase.result,o.prototype["@@transducer/step"]=function(t,s){return this.xf["@@transducer/step"](t,this.f(s))},o}(),_xmap=_curry2(function o(t,s){return new XMap(t,s)});function _has(o,t){return Object.prototype.hasOwnProperty.call(t,o)}var toString$1=Object.prototype.toString,_isArguments=function(){return toString$1.call(arguments)==="[object Arguments]"?function(t){return toString$1.call(t)==="[object Arguments]"}:function(t){return _has("callee",t)}}(),hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function o(t,s){for(var i=0;i<t.length;){if(t[i]===s)return!0;i+=1}return!1},keys=_curry1(typeof Object.keys=="function"&&!hasArgsEnumBug?function o(t){return Object(t)!==t?[]:Object.keys(t)}:function o(t){if(Object(t)!==t)return[];var s,i,a=[],n=hasArgsEnumBug&&_isArguments(t);for(s in t)_has(s,t)&&(!n||s!=="length")&&(a[a.length]=s);if(hasEnumBug)for(i=nonEnumerableProps.length-1;i>=0;)s=nonEnumerableProps[i],_has(s,t)&&!contains(a,s)&&(a[a.length]=s),i-=1;return a}),map$1=_curry2(_dispatchable(["fantasy-land/map","map"],_xmap,function o(t,s){switch(Object.prototype.toString.call(s)){case"[object Function]":return curryN(s.length,function(){return t.call(this,s.apply(this,arguments))});case"[object Object]":return _reduce(function(i,a){return i[a]=t(s[a]),i},{},keys(s));default:return _map(t,s)}})),map$2=map$1,_isInteger=Number.isInteger||function o(t){return t<<0===t},nth=_curry2(function o(t,s){var i=t<0?s.length+t:t;return _isString(s)?s.charAt(i):s[i]}),nth$1=nth,prop=_curry2(function o(t,s){if(s!=null)return _isInteger(t)?nth$1(t,s):s[t]}),prop$1=prop,reduce=_curry3(_reduce),reduce$1=reduce,values=_curry1(function o(t){for(var s=keys(t),i=s.length,a=[],n=0;n<i;)a[n]=t[s[n]],n+=1;return a}),values$1=values;function _isFunction(o){var t=Object.prototype.toString.call(o);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var type=_curry1(function o(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function _pipe(o,t){return function(){return t.call(this,o.apply(this,arguments))}}function _checkForMethod(o,t){return function(){var s=arguments.length;if(s===0)return t();var i=arguments[s-1];return _isArray(i)||typeof i[o]!="function"?t.apply(this,arguments):i[o].apply(i,Array.prototype.slice.call(arguments,0,s-1))}}var slice=_curry3(_checkForMethod("slice",function o(t,s,i){return Array.prototype.slice.call(i,t,s)})),tail=_curry1(_checkForMethod("tail",slice(1,1/0))),tail$1=tail;function pipe(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return _arity(arguments[0].length,reduce$1(_pipe,arguments[0],tail$1(arguments)))}function _arrayFromIterator(o){for(var t=[],s;!(s=o.next()).done;)t.push(s.value);return t}function _includesWith(o,t,s){for(var i=0,a=s.length;i<a;){if(o(t,s[i]))return!0;i+=1}return!1}function _functionName(o){var t=String(o).match(/^function (\w*)/);return t==null?"":t[1]}function _objectIs(o,t){return o===t?o!==0||1/o===1/t:o!==o&&t!==t}var _objectIs$1=typeof Object.is=="function"?Object.is:_objectIs;function _uniqContentEquals(o,t,s,i){var a=_arrayFromIterator(o),n=_arrayFromIterator(t);function r(l,d){return _equals(l,d,s.slice(),i.slice())}return!_includesWith(function(l,d){return!_includesWith(r,d,l)},n,a)}function _equals(o,t,s,i){if(_objectIs$1(o,t))return!0;var a=type(o);if(a!==type(t))return!1;if(typeof o["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof o["fantasy-land/equals"]=="function"&&o["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](o);if(typeof o.equals=="function"||typeof t.equals=="function")return typeof o.equals=="function"&&o.equals(t)&&typeof t.equals=="function"&&t.equals(o);switch(a){case"Arguments":case"Array":case"Object":if(typeof o.constructor=="function"&&_functionName(o.constructor)==="Promise")return o===t;break;case"Boolean":case"Number":case"String":if(!(typeof o==typeof t&&_objectIs$1(o.valueOf(),t.valueOf())))return!1;break;case"Date":if(!_objectIs$1(o.valueOf(),t.valueOf()))return!1;break;case"Error":return o.name===t.name&&o.message===t.message;case"RegExp":if(!(o.source===t.source&&o.global===t.global&&o.ignoreCase===t.ignoreCase&&o.multiline===t.multiline&&o.sticky===t.sticky&&o.unicode===t.unicode))return!1;break}for(var n=s.length-1;n>=0;){if(s[n]===o)return i[n]===t;n-=1}switch(a){case"Map":return o.size!==t.size?!1:_uniqContentEquals(o.entries(),t.entries(),s.concat([o]),i.concat([t]));case"Set":return o.size!==t.size?!1:_uniqContentEquals(o.values(),t.values(),s.concat([o]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var r=keys(o);if(r.length!==keys(t).length)return!1;var l=s.concat([o]),d=i.concat([t]);for(n=r.length-1;n>=0;){var c=r[n];if(!(_has(c,t)&&_equals(t[c],o[c],l,d)))return!1;n-=1}return!0}var equals=_curry2(function o(t,s){return _equals(t,s,[],[])});function _indexOf(o,t,s){var i,a;if(typeof o.indexOf=="function")switch(typeof t){case"number":if(t===0){for(i=1/t;s<o.length;){if(a=o[s],a===0&&1/a===i)return s;s+=1}return-1}else if(t!==t){for(;s<o.length;){if(a=o[s],typeof a=="number"&&a!==a)return s;s+=1}return-1}return o.indexOf(t,s);case"string":case"boolean":case"function":case"undefined":return o.indexOf(t,s);case"object":if(t===null)return o.indexOf(t,s)}for(;s<o.length;){if(equals(o[s],t))return s;s+=1}return-1}function _includes(o,t){return _indexOf(t,o,0)>=0}function _quote(o){var t=o.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var pad=function o(t){return(t<10?"0":"")+t},_toISOString=typeof Date.prototype.toISOString=="function"?function o(t){return t.toISOString()}:function o(t){return t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function _complement(o){return function(){return!o.apply(this,arguments)}}function _filter(o,t){for(var s=0,i=t.length,a=[];s<i;)o(t[s])&&(a[a.length]=t[s]),s+=1;return a}function _isObject(o){return Object.prototype.toString.call(o)==="[object Object]"}var XFilter=function(){function o(t,s){this.xf=s,this.f=t}return o.prototype["@@transducer/init"]=_xfBase.init,o.prototype["@@transducer/result"]=_xfBase.result,o.prototype["@@transducer/step"]=function(t,s){return this.f(s)?this.xf["@@transducer/step"](t,s):t},o}(),_xfilter=_curry2(function o(t,s){return new XFilter(t,s)}),filter$1=_curry2(_dispatchable(["fantasy-land/filter","filter"],_xfilter,function(o,t){return _isObject(t)?_reduce(function(s,i){return o(t[i])&&(s[i]=t[i]),s},{},keys(t)):_filter(o,t)})),reject=_curry2(function o(t,s){return filter$1(_complement(t),s)});function _toString(o,t){var s=function(r){var l=t.concat([o]);return _includes(r,l)?"<Circular>":_toString(r,l)},i=function(n,r){return _map(function(l){return _quote(l)+": "+s(n[l])},r.slice().sort())};switch(Object.prototype.toString.call(o)){case"[object Arguments]":return"(function() { return arguments; }("+_map(s,o).join(", ")+"))";case"[object Array]":return"["+_map(s,o).concat(i(o,reject(function(n){return/^\d+$/.test(n)},keys(o)))).join(", ")+"]";case"[object Boolean]":return typeof o=="object"?"new Boolean("+s(o.valueOf())+")":o.toString();case"[object Date]":return"new Date("+(isNaN(o.valueOf())?s(NaN):_quote(_toISOString(o)))+")";case"[object Null]":return"null";case"[object Number]":return typeof o=="object"?"new Number("+s(o.valueOf())+")":1/o===-1/0?"-0":o.toString(10);case"[object String]":return typeof o=="object"?"new String("+s(o.valueOf())+")":_quote(o);case"[object Undefined]":return"undefined";default:if(typeof o.toString=="function"){var a=o.toString();if(a!=="[object Object]")return a}return"{"+i(o,keys(o)).join(", ")+"}"}}var toString=_curry1(function o(t){return _toString(t,[])}),curry=_curry1(function o(t){return curryN(t.length,t)}),curry$1=curry,invoker=_curry2(function o(t,s){return curryN(t+1,function(){var i=arguments[t];if(i!=null&&_isFunction(i[s]))return i[s].apply(i,Array.prototype.slice.call(arguments,0,t));throw new TypeError(toString(i)+' does not have a method named "'+s+'"')})}),invoker$1=invoker,is=_curry2(function o(t,s){return s instanceof t||s!=null&&(s.constructor===t||t.name==="Object"&&typeof s=="object")}),is$1=is,join=invoker$1(1,"join"),join$1=join,mergeWithKey=_curry3(function o(t,s,i){var a={},n;for(n in s)_has(n,s)&&(a[n]=_has(n,i)?t(n,s[n],i[n]):s[n]);for(n in i)_has(n,i)&&!_has(n,a)&&(a[n]=i[n]);return a}),mergeDeepWithKey=_curry3(function o(t,s,i){return mergeWithKey(function(a,n,r){return _isObject(n)&&_isObject(r)?o(t,n,r):t(a,n,r)},s,i)}),mergeDeepLeft=_curry2(function o(t,s){return mergeDeepWithKey(function(i,a,n){return a},t,s)}),mergeDeepLeft$1=mergeDeepLeft,omit=_curry2(function o(t,s){for(var i={},a={},n=0,r=t.length;n<r;)a[t[n]]=1,n+=1;for(var l in s)a.hasOwnProperty(l)||(i[l]=s[l]);return i}),omit$1=omit,pickBy=_curry2(function o(t,s){var i={};for(var a in s)t(s[a],a,s)&&(i[a]=s[a]);return i}),pickBy$1=pickBy,split=invoker$1(1,"split"),split$1=split,toLower=invoker$1(0,"toLowerCase"),toLower$1=toLower,zipObj=_curry2(function o(t,s){for(var i=0,a=Math.min(t.length,s.length),n={};i<a;)n[t[i]]=s[i],i+=1;return n}),zipObj$1=zipObj;pipe(toLower$1,split$1(" "),join$1("-"));const getCol=curry$1((o,t)=>is$1(Number)?map$2(s=>nth$1(o,s)||"",t).filter(s=>s!==""):map$2(prop$1(o),t)),mapKeys=(o,t)=>zipObj$1(map$2(o,keys(t)),values$1(t)),kebabize=o=>o.split("").map((t,s)=>t.toUpperCase()===t?`${s!==0?"-":""}${t.toLowerCase()}`:t).join("");function ascending$1(o,t){return o==null||t==null?NaN:o<t?-1:o>t?1:o>=t?0:NaN}function descending$1(o,t){return o==null||t==null?NaN:t<o?-1:t>o?1:t>=o?0:NaN}function bisector(o){let t,s,i;o.length!==2?(t=ascending$1,s=(l,d)=>ascending$1(o(l),d),i=(l,d)=>o(l)-d):(t=o===ascending$1||o===descending$1?o:zero$1,s=o,i=o);function a(l,d,c=0,_=l.length){if(c<_){if(t(d,d)!==0)return _;do{const m=c+_>>>1;s(l[m],d)<0?c=m+1:_=m}while(c<_)}return c}function n(l,d,c=0,_=l.length){if(c<_){if(t(d,d)!==0)return _;do{const m=c+_>>>1;s(l[m],d)<=0?c=m+1:_=m}while(c<_)}return c}function r(l,d,c=0,_=l.length){const m=a(l,d,c,_-1);return m>c&&i(l[m-1],d)>-i(l[m],d)?m-1:m}return{left:a,center:r,right:n}}function zero$1(){return 0}function number$2(o){return o===null?NaN:+o}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right,bisectCenter=bisector(number$2).center;function extent(o,t){let s,i;if(t===void 0)for(const a of o)a!=null&&(s===void 0?a>=a&&(s=i=a):(s>a&&(s=a),i<a&&(i=a)));else{let a=-1;for(let n of o)(n=t(n,++a,o))!=null&&(s===void 0?n>=n&&(s=i=n):(s>n&&(s=n),i<n&&(i=n)))}return[s,i]}class InternMap extends Map{constructor(t,s=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[i,a]of t)this.set(i,a)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,s){return super.set(intern_set(this,t),s)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:o,_key:t},s){const i=t(s);return o.has(i)?o.get(i):s}function intern_set({_intern:o,_key:t},s){const i=t(s);return o.has(i)?o.get(i):(o.set(i,s),s)}function intern_delete({_intern:o,_key:t},s){const i=t(s);return o.has(i)&&(s=o.get(i),o.delete(i)),s}function keyof(o){return o!==null&&typeof o=="object"?o.valueOf():o}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(o,t,s){const i=(t-o)/Math.max(0,s),a=Math.floor(Math.log10(i)),n=i/Math.pow(10,a),r=n>=e10?10:n>=e5?5:n>=e2?2:1;let l,d,c;return a<0?(c=Math.pow(10,-a)/r,l=Math.round(o*c),d=Math.round(t*c),l/c<o&&++l,d/c>t&&--d,c=-c):(c=Math.pow(10,a)*r,l=Math.round(o/c),d=Math.round(t/c),l*c<o&&++l,d*c>t&&--d),d<l&&.5<=s&&s<2?tickSpec(o,t,s*2):[l,d,c]}function ticks(o,t,s){if(t=+t,o=+o,s=+s,!(s>0))return[];if(o===t)return[o];const i=t<o,[a,n,r]=i?tickSpec(t,o,s):tickSpec(o,t,s);if(!(n>=a))return[];const l=n-a+1,d=new Array(l);if(i)if(r<0)for(let c=0;c<l;++c)d[c]=(n-c)/-r;else for(let c=0;c<l;++c)d[c]=(n-c)*r;else if(r<0)for(let c=0;c<l;++c)d[c]=(a+c)/-r;else for(let c=0;c<l;++c)d[c]=(a+c)*r;return d}function tickIncrement(o,t,s){return t=+t,o=+o,s=+s,tickSpec(o,t,s)[2]}function tickStep(o,t,s){t=+t,o=+o,s=+s;const i=t<o,a=i?tickIncrement(t,o,s):tickIncrement(o,t,s);return(i?-1:1)*(a<0?1/-a:a)}function max$1(o,t){let s;if(t===void 0)for(const i of o)i!=null&&(s<i||s===void 0&&i>=i)&&(s=i);else{let i=-1;for(let a of o)(a=t(a,++i,o))!=null&&(s<a||s===void 0&&a>=a)&&(s=a)}return s}function min$1(o,t){let s;if(t===void 0)for(const i of o)i!=null&&(s>i||s===void 0&&i>=i)&&(s=i);else{let i=-1;for(let a of o)(a=t(a,++i,o))!=null&&(s>a||s===void 0&&a>=a)&&(s=a)}return s}function range(o,t,s){o=+o,t=+t,s=(a=arguments.length)<2?(t=o,o=0,1):a<3?1:+s;for(var i=-1,a=Math.max(0,Math.ceil((t-o)/s))|0,n=new Array(a);++i<a;)n[i]=o+i*s;return n}function initRange(o,t){switch(arguments.length){case 0:break;case 1:this.range(o);break;default:this.range(t).domain(o);break}return this}function initInterpolator(o,t){switch(arguments.length){case 0:break;case 1:{typeof o=="function"?this.interpolator(o):this.range(o);break}default:{this.domain(o),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const implicit=Symbol("implicit");function ordinal(){var o=new InternMap,t=[],s=[],i=implicit;function a(n){let r=o.get(n);if(r===void 0){if(i!==implicit)return i;o.set(n,r=t.push(n)-1)}return s[r%s.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],o=new InternMap;for(const r of n)o.has(r)||o.set(r,t.push(r)-1);return a},a.range=function(n){return arguments.length?(s=Array.from(n),a):s.slice()},a.unknown=function(n){return arguments.length?(i=n,a):i},a.copy=function(){return ordinal(t,s).unknown(i)},initRange.apply(a,arguments),a}function band(){var o=ordinal().unknown(void 0),t=o.domain,s=o.range,i=0,a=1,n,r,l=!1,d=0,c=0,_=.5;delete o.unknown;function m(){var p=t().length,f=a<i,k=f?a:i,b=f?i:a;n=(b-k)/Math.max(1,p-d+c*2),l&&(n=Math.floor(n)),k+=(b-k-n*(p-d))*_,r=n*(1-d),l&&(k=Math.round(k),r=Math.round(r));var v=range(p).map(function(N){return k+n*N});return s(f?v.reverse():v)}return o.domain=function(p){return arguments.length?(t(p),m()):t()},o.range=function(p){return arguments.length?([i,a]=p,i=+i,a=+a,m()):[i,a]},o.rangeRound=function(p){return[i,a]=p,i=+i,a=+a,l=!0,m()},o.bandwidth=function(){return r},o.step=function(){return n},o.round=function(p){return arguments.length?(l=!!p,m()):l},o.padding=function(p){return arguments.length?(d=Math.min(1,c=+p),m()):d},o.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),m()):d},o.paddingOuter=function(p){return arguments.length?(c=+p,m()):c},o.align=function(p){return arguments.length?(_=Math.max(0,Math.min(1,p)),m()):_},o.copy=function(){return band(t(),[i,a]).round(l).paddingInner(d).paddingOuter(c).align(_)},initRange.apply(m(),arguments)}function define(o,t,s){o.prototype=t.prototype=s,s.constructor=o}function extend(o,t){var s=Object.create(o.prototype);for(var i in t)s[i]=t[i];return s}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(o){return Object.assign(new this.constructor,this,o)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(o){var t,s;return o=(o+"").trim().toLowerCase(),(t=reHex.exec(o))?(s=t[1].length,t=parseInt(t[1],16),s===6?rgbn(t):s===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(o))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(o))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(o))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(o))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(o))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(o))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(o)?rgbn(named[o]):o==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(o){return new Rgb(o>>16&255,o>>8&255,o&255,1)}function rgba(o,t,s,i){return i<=0&&(o=t=s=NaN),new Rgb(o,t,s,i)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb$1(o,t,s,i){return arguments.length===1?rgbConvert(o):new Rgb(o,t,s,i??1)}function Rgb(o,t,s,i){this.r=+o,this.g=+t,this.b=+s,this.opacity=+i}define(Rgb,rgb$1,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Rgb(this.r*o,this.g*o,this.b*o,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const o=clampa(this.opacity);return`${o===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${o===1?")":`, ${o})`}`}function clampa(o){return isNaN(o)?1:Math.max(0,Math.min(1,o))}function clampi(o){return Math.max(0,Math.min(255,Math.round(o)||0))}function hex(o){return o=clampi(o),(o<16?"0":"")+o.toString(16)}function hsla(o,t,s,i){return i<=0?o=t=s=NaN:s<=0||s>=1?o=t=NaN:t<=0&&(o=NaN),new Hsl(o,t,s,i)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var t=o.r/255,s=o.g/255,i=o.b/255,a=Math.min(t,s,i),n=Math.max(t,s,i),r=NaN,l=n-a,d=(n+a)/2;return l?(t===n?r=(s-i)/l+(s<i)*6:s===n?r=(i-t)/l+2:r=(t-s)/l+4,l/=d<.5?n+a:2-n-a,r*=60):l=d>0&&d<1?0:r,new Hsl(r,l,d,o.opacity)}function hsl(o,t,s,i){return arguments.length===1?hslConvert(o):new Hsl(o,t,s,i??1)}function Hsl(o,t,s,i){this.h=+o,this.s=+t,this.l=+s,this.opacity=+i}define(Hsl,hsl,extend(Color,{brighter(o){return o=o==null?brighter:Math.pow(brighter,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},darker(o){return o=o==null?darker:Math.pow(darker,o),new Hsl(this.h,this.s,this.l*o,this.opacity)},rgb(){var o=this.h%360+(this.h<0)*360,t=isNaN(o)||isNaN(this.s)?0:this.s,s=this.l,i=s+(s<.5?s:1-s)*t,a=2*s-i;return new Rgb(hsl2rgb(o>=240?o-240:o+120,a,i),hsl2rgb(o,a,i),hsl2rgb(o<120?o+240:o-120,a,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const o=clampa(this.opacity);return`${o===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${o===1?")":`, ${o})`}`}}));function clamph(o){return o=(o||0)%360,o<0?o+360:o}function clampt(o){return Math.max(0,Math.min(1,o||0))}function hsl2rgb(o,t,s){return(o<60?t+(s-t)*o/60:o<180?s:o<240?t+(s-t)*(240-o)/60:t)*255}const radians=Math.PI/180,degrees=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o=rgbConvert(o));var t=rgb2lrgb(o.r),s=rgb2lrgb(o.g),i=rgb2lrgb(o.b),a=xyz2lab((.2225045*t+.7168786*s+.0606169*i)/Yn),n,r;return t===s&&s===i?n=r=a:(n=xyz2lab((.4360747*t+.3850649*s+.1430804*i)/Xn),r=xyz2lab((.0139322*t+.0971045*s+.7141733*i)/Zn)),new Lab(116*a-16,500*(n-a),200*(a-r),o.opacity)}function lab(o,t,s,i){return arguments.length===1?labConvert(o):new Lab(o,t,s,i??1)}function Lab(o,t,s,i){this.l=+o,this.a=+t,this.b=+s,this.opacity=+i}define(Lab,lab,extend(Color,{brighter(o){return new Lab(this.l+K*(o??1),this.a,this.b,this.opacity)},darker(o){return new Lab(this.l-K*(o??1),this.a,this.b,this.opacity)},rgb(){var o=(this.l+16)/116,t=isNaN(this.a)?o:o+this.a/500,s=isNaN(this.b)?o:o-this.b/200;return t=Xn*lab2xyz(t),o=Yn*lab2xyz(o),s=Zn*lab2xyz(s),new Rgb(lrgb2rgb(3.1338561*t-1.6168667*o-.4906146*s),lrgb2rgb(-.9787684*t+1.9161415*o+.033454*s),lrgb2rgb(.0719453*t-.2289914*o+1.4052427*s),this.opacity)}}));function xyz2lab(o){return o>t3?Math.pow(o,1/3):o/t2+t0}function lab2xyz(o){return o>t1?o*o*o:t2*(o-t0)}function lrgb2rgb(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function rgb2lrgb(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),o.a===0&&o.b===0)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var t=Math.atan2(o.b,o.a)*degrees;return new Hcl(t<0?t+360:t,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl$1(o,t,s,i){return arguments.length===1?hclConvert(o):new Hcl(o,t,s,i??1)}function Hcl(o,t,s,i){this.h=+o,this.c=+t,this.l=+s,this.opacity=+i}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var t=o.h*radians;return new Lab(o.l,Math.cos(t)*o.c,Math.sin(t)*o.c,o.opacity)}define(Hcl,hcl$1,extend(Color,{brighter(o){return new Hcl(this.h,this.c,this.l+K*(o??1),this.opacity)},darker(o){return new Hcl(this.h,this.c,this.l-K*(o??1),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var constant$3=o=>()=>o;function linear$1(o,t){return function(s){return o+s*t}}function exponential(o,t,s){return o=Math.pow(o,s),t=Math.pow(t,s)-o,s=1/s,function(i){return Math.pow(o+i*t,s)}}function hue(o,t){var s=t-o;return s?linear$1(o,s>180||s<-180?s-360*Math.round(s/360):s):constant$3(isNaN(o)?t:o)}function gamma(o){return(o=+o)==1?nogamma:function(t,s){return s-t?exponential(t,s,o):constant$3(isNaN(t)?s:t)}}function nogamma(o,t){var s=t-o;return s?linear$1(o,s):constant$3(isNaN(o)?t:o)}var rgb=function o(t){var s=gamma(t);function i(a,n){var r=s((a=rgb$1(a)).r,(n=rgb$1(n)).r),l=s(a.g,n.g),d=s(a.b,n.b),c=nogamma(a.opacity,n.opacity);return function(_){return a.r=r(_),a.g=l(_),a.b=d(_),a.opacity=c(_),a+""}}return i.gamma=o,i}(1);function numberArray(o,t){t||(t=[]);var s=o?Math.min(t.length,o.length):0,i=t.slice(),a;return function(n){for(a=0;a<s;++a)i[a]=o[a]*(1-n)+t[a]*n;return i}}function isNumberArray(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function genericArray(o,t){var s=t?t.length:0,i=o?Math.min(s,o.length):0,a=new Array(i),n=new Array(s),r;for(r=0;r<i;++r)a[r]=interpolate(o[r],t[r]);for(;r<s;++r)n[r]=t[r];return function(l){for(r=0;r<i;++r)n[r]=a[r](l);return n}}function date(o,t){var s=new Date;return o=+o,t=+t,function(i){return s.setTime(o*(1-i)+t*i),s}}function interpolateNumber(o,t){return o=+o,t=+t,function(s){return o*(1-s)+t*s}}function object(o,t){var s={},i={},a;(o===null||typeof o!="object")&&(o={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in o?s[a]=interpolate(o[a],t[a]):i[a]=t[a];return function(n){for(a in s)i[a]=s[a](n);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(o){return function(){return o}}function one(o){return function(t){return o(t)+""}}function string(o,t){var s=reA.lastIndex=reB.lastIndex=0,i,a,n,r=-1,l=[],d=[];for(o=o+"",t=t+"";(i=reA.exec(o))&&(a=reB.exec(t));)(n=a.index)>s&&(n=t.slice(s,n),l[r]?l[r]+=n:l[++r]=n),(i=i[0])===(a=a[0])?l[r]?l[r]+=a:l[++r]=a:(l[++r]=null,d.push({i:r,x:interpolateNumber(i,a)})),s=reB.lastIndex;return s<t.length&&(n=t.slice(s),l[r]?l[r]+=n:l[++r]=n),l.length<2?d[0]?one(d[0].x):zero(t):(t=d.length,function(c){for(var _=0,m;_<t;++_)l[(m=d[_]).i]=m.x(c);return l.join("")})}function interpolate(o,t){var s=typeof t,i;return t==null||s==="boolean"?constant$3(t):(s==="number"?interpolateNumber:s==="string"?(i=color(t))?(t=i,rgb):string:t instanceof color?rgb:t instanceof Date?date:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber)(o,t)}function interpolateRound(o,t){return o=+o,t=+t,function(s){return Math.round(o*(1-s)+t*s)}}function hcl(o){return function(t,s){var i=o((t=hcl$1(t)).h,(s=hcl$1(s)).h),a=nogamma(t.c,s.c),n=nogamma(t.l,s.l),r=nogamma(t.opacity,s.opacity);return function(l){return t.h=i(l),t.c=a(l),t.l=n(l),t.opacity=r(l),t+""}}}var interpolateHcl=hcl(hue);function constants(o){return function(){return o}}function number$1(o){return+o}var unit=[0,1];function identity$3(o){return o}function normalize$1(o,t){return(t-=o=+o)?function(s){return(s-o)/t}:constants(isNaN(t)?NaN:.5)}function clamper(o,t){var s;return o>t&&(s=o,o=t,t=s),function(i){return Math.max(o,Math.min(t,i))}}function bimap(o,t,s){var i=o[0],a=o[1],n=t[0],r=t[1];return a<i?(i=normalize$1(a,i),n=s(r,n)):(i=normalize$1(i,a),n=s(n,r)),function(l){return n(i(l))}}function polymap(o,t,s){var i=Math.min(o.length,t.length)-1,a=new Array(i),n=new Array(i),r=-1;for(o[i]<o[0]&&(o=o.slice().reverse(),t=t.slice().reverse());++r<i;)a[r]=normalize$1(o[r],o[r+1]),n[r]=s(t[r],t[r+1]);return function(l){var d=bisectRight(o,l,1,i)-1;return n[d](a[d](l))}}function copy$1(o,t){return t.domain(o.domain()).range(o.range()).interpolate(o.interpolate()).clamp(o.clamp()).unknown(o.unknown())}function transformer$1(){var o=unit,t=unit,s=interpolate,i,a,n,r=identity$3,l,d,c;function _(){var p=Math.min(o.length,t.length);return r!==identity$3&&(r=clamper(o[0],o[p-1])),l=p>2?polymap:bimap,d=c=null,m}function m(p){return p==null||isNaN(p=+p)?n:(d||(d=l(o.map(i),t,s)))(i(r(p)))}return m.invert=function(p){return r(a((c||(c=l(t,o.map(i),interpolateNumber)))(p)))},m.domain=function(p){return arguments.length?(o=Array.from(p,number$1),_()):o.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),_()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),s=interpolateRound,_()},m.clamp=function(p){return arguments.length?(r=p?!0:identity$3,_()):r!==identity$3},m.interpolate=function(p){return arguments.length?(s=p,_()):s},m.unknown=function(p){return arguments.length?(n=p,m):n},function(p,f){return i=p,a=f,_()}}function continuous(){return transformer$1()(identity$3,identity$3)}function formatDecimal(o){return Math.abs(o=Math.round(o))>=1e21?o.toLocaleString("en").replace(/,/g,""):o.toString(10)}function formatDecimalParts(o,t){if((s=(o=t?o.toExponential(t-1):o.toExponential()).indexOf("e"))<0)return null;var s,i=o.slice(0,s);return[i.length>1?i[0]+i.slice(2):i,+o.slice(s+1)]}function exponent(o){return o=formatDecimalParts(Math.abs(o)),o?o[1]:NaN}function formatGroup(o,t){return function(s,i){for(var a=s.length,n=[],r=0,l=o[0],d=0;a>0&&l>0&&(d+l+1>i&&(l=Math.max(1,i-d)),n.push(s.substring(a-=l,a+l)),!((d+=l+1)>i));)l=o[r=(r+1)%o.length];return n.reverse().join(t)}}function formatNumerals(o){return function(t){return t.replace(/[0-9]/g,function(s){return o[+s]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(o){if(!(t=re.exec(o)))throw new Error("invalid format: "+o);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(o){this.fill=o.fill===void 0?" ":o.fill+"",this.align=o.align===void 0?">":o.align+"",this.sign=o.sign===void 0?"-":o.sign+"",this.symbol=o.symbol===void 0?"":o.symbol+"",this.zero=!!o.zero,this.width=o.width===void 0?void 0:+o.width,this.comma=!!o.comma,this.precision=o.precision===void 0?void 0:+o.precision,this.trim=!!o.trim,this.type=o.type===void 0?"":o.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(o){e:for(var t=o.length,s=1,i=-1,a;s<t;++s)switch(o[s]){case".":i=a=s;break;case"0":i===0&&(i=s),a=s;break;default:if(!+o[s])break e;i>0&&(i=0);break}return i>0?o.slice(0,i)+o.slice(a+1):o}var prefixExponent;function formatPrefixAuto(o,t){var s=formatDecimalParts(o,t);if(!s)return o+"";var i=s[0],a=s[1],n=a-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,r=i.length;return n===r?i:n>r?i+new Array(n-r+1).join("0"):n>0?i.slice(0,n)+"."+i.slice(n):"0."+new Array(1-n).join("0")+formatDecimalParts(o,Math.max(0,t+n-1))[0]}function formatRounded(o,t){var s=formatDecimalParts(o,t);if(!s)return o+"";var i=s[0],a=s[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}var formatTypes={"%":(o,t)=>(o*100).toFixed(t),b:o=>Math.round(o).toString(2),c:o=>o+"",d:formatDecimal,e:(o,t)=>o.toExponential(t),f:(o,t)=>o.toFixed(t),g:(o,t)=>o.toPrecision(t),o:o=>Math.round(o).toString(8),p:(o,t)=>formatRounded(o*100,t),r:formatRounded,s:formatPrefixAuto,X:o=>Math.round(o).toString(16).toUpperCase(),x:o=>Math.round(o).toString(16)};function identity$2(o){return o}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(o){var t=o.grouping===void 0||o.thousands===void 0?identity$2:formatGroup(map.call(o.grouping,Number),o.thousands+""),s=o.currency===void 0?"":o.currency[0]+"",i=o.currency===void 0?"":o.currency[1]+"",a=o.decimal===void 0?".":o.decimal+"",n=o.numerals===void 0?identity$2:formatNumerals(map.call(o.numerals,String)),r=o.percent===void 0?"%":o.percent+"",l=o.minus===void 0?"−":o.minus+"",d=o.nan===void 0?"NaN":o.nan+"";function c(m){m=formatSpecifier(m);var p=m.fill,f=m.align,k=m.sign,b=m.symbol,v=m.zero,N=m.width,T=m.comma,M=m.precision,D=m.trim,G=m.type;G==="n"?(T=!0,G="g"):formatTypes[G]||(M===void 0&&(M=12),D=!0,G="g"),(v||p==="0"&&f==="=")&&(v=!0,p="0",f="=");var le=b==="$"?s:b==="#"&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",ao=b==="$"?i:/[%p]/.test(G)?r:"",lo=formatTypes[G],co=/[defgprs%]/.test(G);M=M===void 0?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function ho(Bt){var ce=le,A=ao,de,_o,bo;if(G==="c")A=lo(Bt)+A,Bt="";else{Bt=+Bt;var vo=Bt<0||1/Bt<0;if(Bt=isNaN(Bt)?d:lo(Math.abs(Bt),M),D&&(Bt=formatTrim(Bt)),vo&&+Bt==0&&k!=="+"&&(vo=!1),ce=(vo?k==="("?k:l:k==="-"||k==="("?"":k)+ce,A=(G==="s"?prefixes[8+prefixExponent/3]:"")+A+(vo&&k==="("?")":""),co){for(de=-1,_o=Bt.length;++de<_o;)if(bo=Bt.charCodeAt(de),48>bo||bo>57){A=(bo===46?a+Bt.slice(de+1):Bt.slice(de))+A,Bt=Bt.slice(0,de);break}}}T&&!v&&(Bt=t(Bt,1/0));var Vo=ce.length+Bt.length+A.length,mo=Vo<N?new Array(N-Vo+1).join(p):"";switch(T&&v&&(Bt=t(mo+Bt,mo.length?N-A.length:1/0),mo=""),f){case"<":Bt=ce+Bt+A+mo;break;case"=":Bt=ce+mo+Bt+A;break;case"^":Bt=mo.slice(0,Vo=mo.length>>1)+ce+Bt+A+mo.slice(Vo);break;default:Bt=mo+ce+Bt+A;break}return n(Bt)}return ho.toString=function(){return m+""},ho}function _(m,p){var f=c((m=formatSpecifier(m),m.type="f",m)),k=Math.max(-8,Math.min(8,Math.floor(exponent(p)/3)))*3,b=Math.pow(10,-k),v=prefixes[8+k/3];return function(N){return f(b*N)+v}}return{format:c,formatPrefix:_}}var locale,format,formatPrefix;defaultLocale({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale(o){return locale=formatLocale(o),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(o){return Math.max(0,-exponent(Math.abs(o)))}function precisionPrefix(o,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(o)))}function precisionRound(o,t){return o=Math.abs(o),t=Math.abs(t)-o,Math.max(0,exponent(t)-exponent(o))+1}function tickFormat(o,t,s,i){var a=tickStep(o,t,s),n;switch(i=formatSpecifier(i??",f"),i.type){case"s":{var r=Math.max(Math.abs(o),Math.abs(t));return i.precision==null&&!isNaN(n=precisionPrefix(a,r))&&(i.precision=n),formatPrefix(i,r)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(n=precisionRound(a,Math.max(Math.abs(o),Math.abs(t))))&&(i.precision=n-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(n=precisionFixed(a))&&(i.precision=n-(i.type==="%")*2);break}}return format(i)}function linearish(o){var t=o.domain;return o.ticks=function(s){var i=t();return ticks(i[0],i[i.length-1],s??10)},o.tickFormat=function(s,i){var a=t();return tickFormat(a[0],a[a.length-1],s??10,i)},o.nice=function(s){s==null&&(s=10);var i=t(),a=0,n=i.length-1,r=i[a],l=i[n],d,c,_=10;for(l<r&&(c=r,r=l,l=c,c=a,a=n,n=c);_-- >0;){if(c=tickIncrement(r,l,s),c===d)return i[a]=r,i[n]=l,t(i);if(c>0)r=Math.floor(r/c)*c,l=Math.ceil(l/c)*c;else if(c<0)r=Math.ceil(r*c)/c,l=Math.floor(l*c)/c;else break;d=c}return o},o}function linear(){var o=continuous();return o.copy=function(){return copy$1(o,linear())},initRange.apply(o,arguments),linearish(o)}function transformer(){var o=0,t=1,s,i,a,n,r=identity$3,l=!1,d;function c(m){return m==null||isNaN(m=+m)?d:r(a===0?.5:(m=(n(m)-s)*a,l?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([o,t]=m,s=n(o=+o),i=n(t=+t),a=s===i?0:1/(i-s),c):[o,t]},c.clamp=function(m){return arguments.length?(l=!!m,c):l},c.interpolator=function(m){return arguments.length?(r=m,c):r};function _(m){return function(p){var f,k;return arguments.length?([f,k]=p,r=m(f,k),c):[r(0),r(1)]}}return c.range=_(interpolate),c.rangeRound=_(interpolateRound),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return n=m,s=m(o),i=m(t),a=s===i?0:1/(i-s),c}}function copy(o,t){return t.domain(o.domain()).interpolator(o.interpolator()).clamp(o.clamp()).unknown(o.unknown())}function sequential(){var o=linearish(transformer()(identity$3));return o.copy=function(){return copy(o,sequential())},initInterpolator.apply(o,arguments)}class Scale{constructor(o){this.config=o,this.createScale(o.type)}createScale(o){switch(o){case"band":this.scale=band();break;case"linear":this.scale=linear();break}}changeConfig(o){this.createScale(o.type),this.config=o}get type(){return this.config.type}bandwidth(){return this.type==="band"?this.scale.bandwidth():0}updateRange(o){this.scale=this.scale.copy().range(o)}updateDomain(o,t,s){const i=this.config.type==="band"?this.categoryDomain(o,s):this.numericDomain(o,t,s);this.scale=this.scale.copy().domain(i)}map(o){return o.map(t=>this.mapOne(t))}mapOne(o){const{type:t}=this.config;return t==="band"?this.scale(o)+this.scale.bandwidth()/2:this.scale(o)}ticks(){const{type:o}=this.config;return this.config.tickValues!==void 0?this.config.tickValues:o==="band"?this.scale.domain():this.scale.ticks(this.config.ticks||5)}categoryDomain(o,t){const s=t.reduce((i,a)=>i.concat(getCol(a,o)),[]);return Array.from(new Set(s))}numericDomain(data,stackedData,keys){const{domain}=this.config,values=keys.reduce((o,t)=>o.concat(getCol(t,data)),[]),valueMax=max$1(stackedData,o=>max$1(o,t=>max$1(t)))||0,valueMin=min$1(stackedData,o=>min$1(o,t=>min$1(t)))||0,[dataMin,dataMax]=extent(Array.from(new Set(values.concat([valueMin,valueMax])))),yMin=eval(`
      let dataMin = ${dataMin||0}
      ${domain[0]}
    `),yMax=eval(`
      let dataMax = ${dataMax||0}
      ${domain[1]}
    `);return[yMin,yMax]}}class Scales{constructor(t){this.config=t,this.primary=new Scale(t.primary),this.secondary=new Scale(t.secondary)}changeConfig(t){this.config=t,this.primary.changeConfig(t.primary),this.secondary.changeConfig(t.secondary)}updateRange(t,s){s==="horizontal"?(this.primary.updateRange([t.x,t.width]),this.secondary.updateRange([t.height,t.y])):s==="vertical"&&(this.primary.updateRange([t.y,t.height]),this.secondary.updateRange([t.x,t.width]))}updateDomain(t,s,i){this.primary.updateDomain(t,s,getCol(0,i)),this.secondary.updateDomain(t,s,getCol(1,i))}}function constant$2(o){return function(){return o}}const abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon$2=1e-12,pi$1=Math.PI,halfPi=pi$1/2,tau$1=2*pi$1;function acos(o){return o>1?0:o<-1?pi$1:Math.acos(o)}function asin(o){return o>=1?halfPi:o<=-1?-halfPi:Math.asin(o)}const pi=Math.PI,tau=2*pi,epsilon$1=1e-6,tauEpsilon=tau-epsilon$1;function append(o){this._+=o[0];for(let t=1,s=o.length;t<s;++t)this._+=arguments[t]+o[t]}function appendRound(o){let t=Math.floor(o);if(!(t>=0))throw new Error(`invalid digits: ${o}`);if(t>15)return append;const s=10**t;return function(i){this._+=i[0];for(let a=1,n=i.length;a<n;++a)this._+=Math.round(arguments[a]*s)/s+i[a]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,i,a){this._append`Q${+t},${+s},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(t,s,i,a,n,r){this._append`C${+t},${+s},${+i},${+a},${this._x1=+n},${this._y1=+r}`}arcTo(t,s,i,a,n){if(t=+t,s=+s,i=+i,a=+a,n=+n,n<0)throw new Error(`negative radius: ${n}`);let r=this._x1,l=this._y1,d=i-t,c=a-s,_=r-t,m=l-s,p=_*_+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(p>epsilon$1)if(!(Math.abs(m*d-c*_)>epsilon$1)||!n)this._append`L${this._x1=t},${this._y1=s}`;else{let f=i-r,k=a-l,b=d*d+c*c,v=f*f+k*k,N=Math.sqrt(b),T=Math.sqrt(p),M=n*Math.tan((pi-Math.acos((b+p-v)/(2*N*T)))/2),D=M/T,G=M/N;Math.abs(D-1)>epsilon$1&&this._append`L${t+D*_},${s+D*m}`,this._append`A${n},${n},0,0,${+(m*f>_*k)},${this._x1=t+G*d},${this._y1=s+G*c}`}}arc(t,s,i,a,n,r){if(t=+t,s=+s,i=+i,r=!!r,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(a),d=i*Math.sin(a),c=t+l,_=s+d,m=1^r,p=r?a-n:n-a;this._x1===null?this._append`M${c},${_}`:(Math.abs(this._x1-c)>epsilon$1||Math.abs(this._y1-_)>epsilon$1)&&this._append`L${c},${_}`,i&&(p<0&&(p=p%tau+tau),p>tauEpsilon?this._append`A${i},${i},0,1,${m},${t-l},${s-d}A${i},${i},0,1,${m},${this._x1=c},${this._y1=_}`:p>epsilon$1&&this._append`A${i},${i},0,${+(p>=pi)},${m},${this._x1=t+i*Math.cos(n)},${this._y1=s+i*Math.sin(n)}`)}rect(t,s,i,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function withPath(o){let t=3;return o.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const i=Math.floor(s);if(!(i>=0))throw new RangeError(`invalid digits: ${s}`);t=i}return o},()=>new Path(t)}function arcInnerRadius(o){return o.innerRadius}function arcOuterRadius(o){return o.outerRadius}function arcStartAngle(o){return o.startAngle}function arcEndAngle(o){return o.endAngle}function arcPadAngle(o){return o&&o.padAngle}function intersect(o,t,s,i,a,n,r,l){var d=s-o,c=i-t,_=r-a,m=l-n,p=m*d-_*c;if(!(p*p<epsilon$2))return p=(_*(t-n)-m*(o-a))/p,[o+p*d,t+p*c]}function cornerTangents(o,t,s,i,a,n,r){var l=o-s,d=t-i,c=(r?n:-n)/sqrt(l*l+d*d),_=c*d,m=-c*l,p=o+_,f=t+m,k=s+_,b=i+m,v=(p+k)/2,N=(f+b)/2,T=k-p,M=b-f,D=T*T+M*M,G=a-n,le=p*b-k*f,ao=(M<0?-1:1)*sqrt(max(0,G*G*D-le*le)),lo=(le*M-T*ao)/D,co=(-le*T-M*ao)/D,ho=(le*M+T*ao)/D,Bt=(-le*T+M*ao)/D,ce=lo-v,A=co-N,de=ho-v,_o=Bt-N;return ce*ce+A*A>de*de+_o*_o&&(lo=ho,co=Bt),{cx:lo,cy:co,x01:-_,y01:-m,x11:lo*(a/G-1),y11:co*(a/G-1)}}function arc(){var o=arcInnerRadius,t=arcOuterRadius,s=constant$2(0),i=null,a=arcStartAngle,n=arcEndAngle,r=arcPadAngle,l=null,d=withPath(c);function c(){var _,m,p=+o.apply(this,arguments),f=+t.apply(this,arguments),k=a.apply(this,arguments)-halfPi,b=n.apply(this,arguments)-halfPi,v=abs(b-k),N=b>k;if(l||(l=_=d()),f<p&&(m=f,f=p,p=m),!(f>epsilon$2))l.moveTo(0,0);else if(v>tau$1-epsilon$2)l.moveTo(f*cos(k),f*sin(k)),l.arc(0,0,f,k,b,!N),p>epsilon$2&&(l.moveTo(p*cos(b),p*sin(b)),l.arc(0,0,p,b,k,N));else{var T=k,M=b,D=k,G=b,le=v,ao=v,lo=r.apply(this,arguments)/2,co=lo>epsilon$2&&(i?+i.apply(this,arguments):sqrt(p*p+f*f)),ho=min(abs(f-p)/2,+s.apply(this,arguments)),Bt=ho,ce=ho,A,de;if(co>epsilon$2){var _o=asin(co/p*sin(lo)),bo=asin(co/f*sin(lo));(le-=_o*2)>epsilon$2?(_o*=N?1:-1,D+=_o,G-=_o):(le=0,D=G=(k+b)/2),(ao-=bo*2)>epsilon$2?(bo*=N?1:-1,T+=bo,M-=bo):(ao=0,T=M=(k+b)/2)}var vo=f*cos(T),Vo=f*sin(T),mo=p*cos(G),Po=p*sin(G);if(ho>epsilon$2){var wo=f*cos(M),Do=f*sin(M),Mo=p*cos(D),So=p*sin(D),z;if(v<pi$1)if(z=intersect(vo,Vo,Mo,So,wo,Do,mo,Po)){var Ht=vo-z[0],fe=Vo-z[1],eo=wo-z[0],po=Do-z[1],yo=1/sin(acos((Ht*eo+fe*po)/(sqrt(Ht*Ht+fe*fe)*sqrt(eo*eo+po*po)))/2),io=sqrt(z[0]*z[0]+z[1]*z[1]);Bt=min(ho,(p-io)/(yo-1)),ce=min(ho,(f-io)/(yo+1))}else Bt=ce=0}ao>epsilon$2?ce>epsilon$2?(A=cornerTangents(Mo,So,vo,Vo,f,ce,N),de=cornerTangents(wo,Do,mo,Po,f,ce,N),l.moveTo(A.cx+A.x01,A.cy+A.y01),ce<ho?l.arc(A.cx,A.cy,ce,atan2(A.y01,A.x01),atan2(de.y01,de.x01),!N):(l.arc(A.cx,A.cy,ce,atan2(A.y01,A.x01),atan2(A.y11,A.x11),!N),l.arc(0,0,f,atan2(A.cy+A.y11,A.cx+A.x11),atan2(de.cy+de.y11,de.cx+de.x11),!N),l.arc(de.cx,de.cy,ce,atan2(de.y11,de.x11),atan2(de.y01,de.x01),!N))):(l.moveTo(vo,Vo),l.arc(0,0,f,T,M,!N)):l.moveTo(vo,Vo),!(p>epsilon$2)||!(le>epsilon$2)?l.lineTo(mo,Po):Bt>epsilon$2?(A=cornerTangents(mo,Po,wo,Do,p,-Bt,N),de=cornerTangents(vo,Vo,Mo,So,p,-Bt,N),l.lineTo(A.cx+A.x01,A.cy+A.y01),Bt<ho?l.arc(A.cx,A.cy,Bt,atan2(A.y01,A.x01),atan2(de.y01,de.x01),!N):(l.arc(A.cx,A.cy,Bt,atan2(A.y01,A.x01),atan2(A.y11,A.x11),!N),l.arc(0,0,p,atan2(A.cy+A.y11,A.cx+A.x11),atan2(de.cy+de.y11,de.cx+de.x11),N),l.arc(de.cx,de.cy,Bt,atan2(de.y11,de.x11),atan2(de.y01,de.x01),!N))):l.arc(0,0,p,G,D,N)}if(l.closePath(),_)return l=null,_+""||null}return c.centroid=function(){var _=(+o.apply(this,arguments)+ +t.apply(this,arguments))/2,m=(+a.apply(this,arguments)+ +n.apply(this,arguments))/2-pi$1/2;return[cos(m)*_,sin(m)*_]},c.innerRadius=function(_){return arguments.length?(o=typeof _=="function"?_:constant$2(+_),c):o},c.outerRadius=function(_){return arguments.length?(t=typeof _=="function"?_:constant$2(+_),c):t},c.cornerRadius=function(_){return arguments.length?(s=typeof _=="function"?_:constant$2(+_),c):s},c.padRadius=function(_){return arguments.length?(i=_==null?null:typeof _=="function"?_:constant$2(+_),c):i},c.startAngle=function(_){return arguments.length?(a=typeof _=="function"?_:constant$2(+_),c):a},c.endAngle=function(_){return arguments.length?(n=typeof _=="function"?_:constant$2(+_),c):n},c.padAngle=function(_){return arguments.length?(r=typeof _=="function"?_:constant$2(+_),c):r},c.context=function(_){return arguments.length?(l=_??null,c):l},c}function array$1(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function Linear(o){this._context=o}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,t){switch(o=+o,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,t):this._context.moveTo(o,t);break;case 1:this._point=2;default:this._context.lineTo(o,t);break}}};function curveLinear(o){return new Linear(o)}function x(o){return o[0]}function y(o){return o[1]}function line(o,t){var s=constant$2(!0),i=null,a=curveLinear,n=null,r=withPath(l);o=typeof o=="function"?o:o===void 0?x:constant$2(o),t=typeof t=="function"?t:t===void 0?y:constant$2(t);function l(d){var c,_=(d=array$1(d)).length,m,p=!1,f;for(i==null&&(n=a(f=r())),c=0;c<=_;++c)!(c<_&&s(m=d[c],c,d))===p&&((p=!p)?n.lineStart():n.lineEnd()),p&&n.point(+o(m,c,d),+t(m,c,d));if(f)return n=null,f+""||null}return l.x=function(d){return arguments.length?(o=typeof d=="function"?d:constant$2(+d),l):o},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:constant$2(+d),l):t},l.defined=function(d){return arguments.length?(s=typeof d=="function"?d:constant$2(!!d),l):s},l.curve=function(d){return arguments.length?(a=d,i!=null&&(n=a(i)),l):a},l.context=function(d){return arguments.length?(d==null?i=n=null:n=a(i=d),l):i},l}function area(o,t,s){var i=null,a=constant$2(!0),n=null,r=curveLinear,l=null,d=withPath(c);o=typeof o=="function"?o:o===void 0?x:constant$2(+o),t=typeof t=="function"?t:constant$2(t===void 0?0:+t),s=typeof s=="function"?s:s===void 0?y:constant$2(+s);function c(m){var p,f,k,b=(m=array$1(m)).length,v,N=!1,T,M=new Array(b),D=new Array(b);for(n==null&&(l=r(T=d())),p=0;p<=b;++p){if(!(p<b&&a(v=m[p],p,m))===N)if(N=!N)f=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),k=p-1;k>=f;--k)l.point(M[k],D[k]);l.lineEnd(),l.areaEnd()}N&&(M[p]=+o(v,p,m),D[p]=+t(v,p,m),l.point(i?+i(v,p,m):M[p],s?+s(v,p,m):D[p]))}if(T)return l=null,T+""||null}function _(){return line().defined(a).curve(r).context(n)}return c.x=function(m){return arguments.length?(o=typeof m=="function"?m:constant$2(+m),i=null,c):o},c.x0=function(m){return arguments.length?(o=typeof m=="function"?m:constant$2(+m),c):o},c.x1=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:constant$2(+m),c):i},c.y=function(m){return arguments.length?(t=typeof m=="function"?m:constant$2(+m),s=null,c):t},c.y0=function(m){return arguments.length?(t=typeof m=="function"?m:constant$2(+m),c):t},c.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:constant$2(+m),c):s},c.lineX0=c.lineY0=function(){return _().x(o).y(t)},c.lineY1=function(){return _().x(o).y(s)},c.lineX1=function(){return _().x(i).y(t)},c.defined=function(m){return arguments.length?(a=typeof m=="function"?m:constant$2(!!m),c):a},c.curve=function(m){return arguments.length?(r=m,n!=null&&(l=r(n)),c):r},c.context=function(m){return arguments.length?(m==null?n=l=null:l=r(n=m),c):n},c}function descending(o,t){return t<o?-1:t>o?1:t>=o?0:NaN}function identity$1(o){return o}function pie(){var o=identity$1,t=descending,s=null,i=constant$2(0),a=constant$2(tau$1),n=constant$2(0);function r(l){var d,c=(l=array$1(l)).length,_,m,p=0,f=new Array(c),k=new Array(c),b=+i.apply(this,arguments),v=Math.min(tau$1,Math.max(-tau$1,a.apply(this,arguments)-b)),N,T=Math.min(Math.abs(v)/c,n.apply(this,arguments)),M=T*(v<0?-1:1),D;for(d=0;d<c;++d)(D=k[f[d]=d]=+o(l[d],d,l))>0&&(p+=D);for(t!=null?f.sort(function(G,le){return t(k[G],k[le])}):s!=null&&f.sort(function(G,le){return s(l[G],l[le])}),d=0,m=p?(v-c*M)/p:0;d<c;++d,b=N)_=f[d],D=k[_],N=b+(D>0?D*m:0)+M,k[_]={data:l[_],index:d,value:D,startAngle:b,endAngle:N,padAngle:T};return k}return r.value=function(l){return arguments.length?(o=typeof l=="function"?l:constant$2(+l),r):o},r.sortValues=function(l){return arguments.length?(t=l,s=null,r):t},r.sort=function(l){return arguments.length?(s=l,t=null,r):s},r.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:constant$2(+l),r):i},r.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:constant$2(+l),r):a},r.padAngle=function(l){return arguments.length?(n=typeof l=="function"?l:constant$2(+l),r):n},r}function sign(o){return o<0?-1:1}function slope3(o,t,s){var i=o._x1-o._x0,a=t-o._x1,n=(o._y1-o._y0)/(i||a<0&&-0),r=(s-o._y1)/(a||i<0&&-0),l=(n*a+r*i)/(i+a);return(sign(n)+sign(r))*Math.min(Math.abs(n),Math.abs(r),.5*Math.abs(l))||0}function slope2(o,t){var s=o._x1-o._x0;return s?(3*(o._y1-o._y0)/s-t)/2:t}function point(o,t,s){var i=o._x0,a=o._y0,n=o._x1,r=o._y1,l=(n-i)/3;o._context.bezierCurveTo(i+l,a+l*t,n-l,r-l*s,n,r)}function MonotoneX(o){this._context=o}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,t){var s=NaN;if(o=+o,t=+t,!(o===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,t):this._context.moveTo(o,t);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,s=slope3(this,o,t)),s);break;default:point(this,this._t0,s=slope3(this,o,t));break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=t,this._t0=s}}};function MonotoneY(o){this._context=new ReflectContext(o)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(o,t){MonotoneX.prototype.point.call(this,t,o)};function ReflectContext(o){this._context=o}ReflectContext.prototype={moveTo:function(o,t){this._context.moveTo(t,o)},closePath:function(){this._context.closePath()},lineTo:function(o,t){this._context.lineTo(t,o)},bezierCurveTo:function(o,t,s,i,a,n){this._context.bezierCurveTo(t,o,i,s,n,a)}};function monotoneX(o){return new MonotoneX(o)}function monotoneY(o){return new MonotoneY(o)}function Natural(o){this._context=o}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var o=this._x,t=this._y,s=o.length;if(s)if(this._line?this._context.lineTo(o[0],t[0]):this._context.moveTo(o[0],t[0]),s===2)this._context.lineTo(o[1],t[1]);else for(var i=controlPoints(o),a=controlPoints(t),n=0,r=1;r<s;++n,++r)this._context.bezierCurveTo(i[0][n],a[0][n],i[1][n],a[1][n],o[r],t[r]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(o,t){this._x.push(+o),this._y.push(+t)}};function controlPoints(o){var t,s=o.length-1,i,a=new Array(s),n=new Array(s),r=new Array(s);for(a[0]=0,n[0]=2,r[0]=o[0]+2*o[1],t=1;t<s-1;++t)a[t]=1,n[t]=4,r[t]=4*o[t]+2*o[t+1];for(a[s-1]=2,n[s-1]=7,r[s-1]=8*o[s-1]+o[s],t=1;t<s;++t)i=a[t]/n[t-1],n[t]-=i,r[t]-=i*r[t-1];for(a[s-1]=r[s-1]/n[s-1],t=s-2;t>=0;--t)a[t]=(r[t]-a[t+1])/n[t];for(n[s-1]=(o[s]+a[s-1])/2,t=0;t<s-1;++t)n[t]=2*o[t+1]-a[t+1];return[a,n]}function curveNatural(o){return new Natural(o)}function Step(o,t){this._context=o,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(o,t){switch(o=+o,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,t):this._context.moveTo(o,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(o,t);else{var s=this._x*(1-this._t)+o*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}break}}this._x=o,this._y=t}};function curveStep(o){return new Step(o,.5)}function stepAfter(o){return new Step(o,1)}function none$1(o,t){if((r=o.length)>1)for(var s=1,i,a,n=o[t[0]],r,l=n.length;s<r;++s)for(a=n,n=o[t[s]],i=0;i<l;++i)n[i][1]+=n[i][0]=isNaN(a[i][1])?a[i][0]:a[i][1]}function stackOrderNone(o){for(var t=o.length,s=new Array(t);--t>=0;)s[t]=t;return s}function stackValue(o,t){return o[t]}function stackSeries(o){const t=[];return t.key=o,t}function stack(){var o=constant$2([]),t=stackOrderNone,s=none$1,i=stackValue;function a(n){var r=Array.from(o.apply(this,arguments),stackSeries),l,d=r.length,c=-1,_;for(const m of n)for(l=0,++c;l<d;++l)(r[l][c]=[0,+i(m,r[l].key,c,n)]).data=m;for(l=0,_=array$1(t(r));l<d;++l)r[_[l]].index=l;return s(r,_),r}return a.keys=function(n){return arguments.length?(o=typeof n=="function"?n:constant$2(Array.from(n)),a):o},a.value=function(n){return arguments.length?(i=typeof n=="function"?n:constant$2(+n),a):i},a.order=function(n){return arguments.length?(t=n==null?stackOrderNone:typeof n=="function"?n:constant$2(Array.from(n)),a):t},a.offset=function(n){return arguments.length?(s=n??none$1,a):s},a}const defaultConfig={size:{width:500,height:400},margin:{top:0,right:0,bottom:0,left:0},direction:"horizontal",axis:{primary:{domain:["dataMin","dataMax"],type:"band"},secondary:{domain:["dataMin","dataMax"],type:"linear"}},axisSpace:{x:40,y:20}};let Chart$1=class{constructor(t,s){this.data=t,this.layers=[],this.config=mergeDeepLeft$1(pickBy$1(i=>i!==void 0,s),defaultConfig),this.scales=new Scales(this.config.axis),this.updates=ref(0)}get bandScale(){return this.scales.primary.type==="band"?this.scales.primary:this.scales.secondary.type==="band"?this.scales.secondary:null}get canvas(){const{margin:t,size:s}=this.config,i=this.config.axisSpace;return this.config.axis.primary.hide&&(i.y=0),this.config.axis.secondary.hide&&(i.x=0),{x:t.left+i.x,y:t.top,width:s.width-t.right,height:s.height-t.bottom-i.y}}getStackedData(t){return stack().keys(t).order(stackOrderNone)(this.data)}changeData(t){this.data=t,this.update("data")}changeConfig(t){this.config=mergeDeepLeft$1(pickBy$1(s=>s!==void 0,t),this.config),this.scales.changeConfig(this.config.axis),this.update("config")}addLayer(t){this.layers.push(t),this.update("layers")}removeLayer(t){this.layers=this.layers.filter(s=>s.id!==t),this.update("layers")}getLayers(t){return t?this.layers.filter(s=>s.type===t):this.layers}getData(t){return t.reduce((s,i)=>s.concat(getCol(i,this.data)),[])}getKeys(t=-1,s=null){const i=this.layers.filter(a=>s?a.type===s:!0).map(a=>a.dataKeys);return t===-1?i:getCol(t,i)}getStackedKeys(t=-1,s=null){const i=this.layers.filter(a=>s?a.type===s&&a.props.stacked:a.props.stacked).map(a=>a.dataKeys);return t===-1?i:getCol(t,i)}update(t){const s=this.getStackedData(this.getStackedKeys(1));this.scales.updateRange(this.canvas,this.config.direction),this.scales.updateDomain(this.data,s,this.getKeys()),this.updates.value+=1}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(o){var t=o+="",s=t.indexOf(":");return s>=0&&(t=o.slice(0,s))!=="xmlns"&&(o=o.slice(s+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:o}:o}function creatorInherit(o){return function(){var t=this.ownerDocument,s=this.namespaceURI;return s===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(o):t.createElementNS(s,o)}}function creatorFixed(o){return function(){return this.ownerDocument.createElementNS(o.space,o.local)}}function creator(o){var t=namespace(o);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(o){return o==null?none:function(){return this.querySelector(o)}}function selection_select(o){typeof o!="function"&&(o=selector(o));for(var t=this._groups,s=t.length,i=new Array(s),a=0;a<s;++a)for(var n=t[a],r=n.length,l=i[a]=new Array(r),d,c,_=0;_<r;++_)(d=n[_])&&(c=o.call(d,d.__data__,_,n))&&("__data__"in d&&(c.__data__=d.__data__),l[_]=c);return new Selection(i,this._parents)}function array(o){return o==null?[]:Array.isArray(o)?o:Array.from(o)}function empty(){return[]}function selectorAll(o){return o==null?empty:function(){return this.querySelectorAll(o)}}function arrayAll(o){return function(){return array(o.apply(this,arguments))}}function selection_selectAll(o){typeof o=="function"?o=arrayAll(o):o=selectorAll(o);for(var t=this._groups,s=t.length,i=[],a=[],n=0;n<s;++n)for(var r=t[n],l=r.length,d,c=0;c<l;++c)(d=r[c])&&(i.push(o.call(d,d.__data__,c,r)),a.push(d));return new Selection(i,a)}function matcher(o){return function(){return this.matches(o)}}function childMatcher(o){return function(t){return t.matches(o)}}var find=Array.prototype.find;function childFind(o){return function(){return find.call(this.children,o)}}function childFirst(){return this.firstElementChild}function selection_selectChild(o){return this.select(o==null?childFirst:childFind(typeof o=="function"?o:childMatcher(o)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(o){return function(){return filter.call(this.children,o)}}function selection_selectChildren(o){return this.selectAll(o==null?children:childrenFilter(typeof o=="function"?o:childMatcher(o)))}function selection_filter(o){typeof o!="function"&&(o=matcher(o));for(var t=this._groups,s=t.length,i=new Array(s),a=0;a<s;++a)for(var n=t[a],r=n.length,l=i[a]=[],d,c=0;c<r;++c)(d=n[c])&&o.call(d,d.__data__,c,n)&&l.push(d);return new Selection(i,this._parents)}function sparse(o){return new Array(o.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(o,t){this.ownerDocument=o.ownerDocument,this.namespaceURI=o.namespaceURI,this._next=null,this._parent=o,this.__data__=t}EnterNode.prototype={constructor:EnterNode,appendChild:function(o){return this._parent.insertBefore(o,this._next)},insertBefore:function(o,t){return this._parent.insertBefore(o,t)},querySelector:function(o){return this._parent.querySelector(o)},querySelectorAll:function(o){return this._parent.querySelectorAll(o)}};function constant$1(o){return function(){return o}}function bindIndex(o,t,s,i,a,n){for(var r=0,l,d=t.length,c=n.length;r<c;++r)(l=t[r])?(l.__data__=n[r],i[r]=l):s[r]=new EnterNode(o,n[r]);for(;r<d;++r)(l=t[r])&&(a[r]=l)}function bindKey(o,t,s,i,a,n,r){var l,d,c=new Map,_=t.length,m=n.length,p=new Array(_),f;for(l=0;l<_;++l)(d=t[l])&&(p[l]=f=r.call(d,d.__data__,l,t)+"",c.has(f)?a[l]=d:c.set(f,d));for(l=0;l<m;++l)f=r.call(o,n[l],l,n)+"",(d=c.get(f))?(i[l]=d,d.__data__=n[l],c.delete(f)):s[l]=new EnterNode(o,n[l]);for(l=0;l<_;++l)(d=t[l])&&c.get(p[l])===d&&(a[l]=d)}function datum(o){return o.__data__}function selection_data(o,t){if(!arguments.length)return Array.from(this,datum);var s=t?bindKey:bindIndex,i=this._parents,a=this._groups;typeof o!="function"&&(o=constant$1(o));for(var n=a.length,r=new Array(n),l=new Array(n),d=new Array(n),c=0;c<n;++c){var _=i[c],m=a[c],p=m.length,f=arraylike(o.call(_,_&&_.__data__,c,i)),k=f.length,b=l[c]=new Array(k),v=r[c]=new Array(k),N=d[c]=new Array(p);s(_,m,b,v,N,f,t);for(var T=0,M=0,D,G;T<k;++T)if(D=b[T]){for(T>=M&&(M=T+1);!(G=v[M])&&++M<k;);D._next=G||null}}return r=new Selection(r,i),r._enter=l,r._exit=d,r}function arraylike(o){return typeof o=="object"&&"length"in o?o:Array.from(o)}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_join(o,t,s){var i=this.enter(),a=this,n=this.exit();return typeof o=="function"?(i=o(i),i&&(i=i.selection())):i=i.append(o+""),t!=null&&(a=t(a),a&&(a=a.selection())),s==null?n.remove():s(n),i&&a?i.merge(a).order():a}function selection_merge(o){for(var t=o.selection?o.selection():o,s=this._groups,i=t._groups,a=s.length,n=i.length,r=Math.min(a,n),l=new Array(a),d=0;d<r;++d)for(var c=s[d],_=i[d],m=c.length,p=l[d]=new Array(m),f,k=0;k<m;++k)(f=c[k]||_[k])&&(p[k]=f);for(;d<a;++d)l[d]=s[d];return new Selection(l,this._parents)}function selection_order(){for(var o=this._groups,t=-1,s=o.length;++t<s;)for(var i=o[t],a=i.length-1,n=i[a],r;--a>=0;)(r=i[a])&&(n&&r.compareDocumentPosition(n)^4&&n.parentNode.insertBefore(r,n),n=r);return this}function selection_sort(o){o||(o=ascending);function t(m,p){return m&&p?o(m.__data__,p.__data__):!m-!p}for(var s=this._groups,i=s.length,a=new Array(i),n=0;n<i;++n){for(var r=s[n],l=r.length,d=a[n]=new Array(l),c,_=0;_<l;++_)(c=r[_])&&(d[_]=c);d.sort(t)}return new Selection(a,this._parents).order()}function ascending(o,t){return o<t?-1:o>t?1:o>=t?0:NaN}function selection_call(){var o=arguments[0];return arguments[0]=this,o.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var o=this._groups,t=0,s=o.length;t<s;++t)for(var i=o[t],a=0,n=i.length;a<n;++a){var r=i[a];if(r)return r}return null}function selection_size(){let o=0;for(const t of this)++o;return o}function selection_empty(){return!this.node()}function selection_each(o){for(var t=this._groups,s=0,i=t.length;s<i;++s)for(var a=t[s],n=0,r=a.length,l;n<r;++n)(l=a[n])&&o.call(l,l.__data__,n,a);return this}function attrRemove(o){return function(){this.removeAttribute(o)}}function attrRemoveNS(o){return function(){this.removeAttributeNS(o.space,o.local)}}function attrConstant(o,t){return function(){this.setAttribute(o,t)}}function attrConstantNS(o,t){return function(){this.setAttributeNS(o.space,o.local,t)}}function attrFunction(o,t){return function(){var s=t.apply(this,arguments);s==null?this.removeAttribute(o):this.setAttribute(o,s)}}function attrFunctionNS(o,t){return function(){var s=t.apply(this,arguments);s==null?this.removeAttributeNS(o.space,o.local):this.setAttributeNS(o.space,o.local,s)}}function selection_attr(o,t){var s=namespace(o);if(arguments.length<2){var i=this.node();return s.local?i.getAttributeNS(s.space,s.local):i.getAttribute(s)}return this.each((t==null?s.local?attrRemoveNS:attrRemove:typeof t=="function"?s.local?attrFunctionNS:attrFunction:s.local?attrConstantNS:attrConstant)(s,t))}function defaultView(o){return o.ownerDocument&&o.ownerDocument.defaultView||o.document&&o||o.defaultView}function styleRemove(o){return function(){this.style.removeProperty(o)}}function styleConstant(o,t,s){return function(){this.style.setProperty(o,t,s)}}function styleFunction(o,t,s){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(o):this.style.setProperty(o,i,s)}}function selection_style(o,t,s){return arguments.length>1?this.each((t==null?styleRemove:typeof t=="function"?styleFunction:styleConstant)(o,t,s??"")):styleValue(this.node(),o)}function styleValue(o,t){return o.style.getPropertyValue(t)||defaultView(o).getComputedStyle(o,null).getPropertyValue(t)}function propertyRemove(o){return function(){delete this[o]}}function propertyConstant(o,t){return function(){this[o]=t}}function propertyFunction(o,t){return function(){var s=t.apply(this,arguments);s==null?delete this[o]:this[o]=s}}function selection_property(o,t){return arguments.length>1?this.each((t==null?propertyRemove:typeof t=="function"?propertyFunction:propertyConstant)(o,t)):this.node()[o]}function classArray(o){return o.trim().split(/^|\s+/)}function classList(o){return o.classList||new ClassList(o)}function ClassList(o){this._node=o,this._names=classArray(o.getAttribute("class")||"")}ClassList.prototype={add:function(o){var t=this._names.indexOf(o);t<0&&(this._names.push(o),this._node.setAttribute("class",this._names.join(" ")))},remove:function(o){var t=this._names.indexOf(o);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(o){return this._names.indexOf(o)>=0}};function classedAdd(o,t){for(var s=classList(o),i=-1,a=t.length;++i<a;)s.add(t[i])}function classedRemove(o,t){for(var s=classList(o),i=-1,a=t.length;++i<a;)s.remove(t[i])}function classedTrue(o){return function(){classedAdd(this,o)}}function classedFalse(o){return function(){classedRemove(this,o)}}function classedFunction(o,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,o)}}function selection_classed(o,t){var s=classArray(o+"");if(arguments.length<2){for(var i=classList(this.node()),a=-1,n=s.length;++a<n;)if(!i.contains(s[a]))return!1;return!0}return this.each((typeof t=="function"?classedFunction:t?classedTrue:classedFalse)(s,t))}function textRemove(){this.textContent=""}function textConstant(o){return function(){this.textContent=o}}function textFunction(o){return function(){var t=o.apply(this,arguments);this.textContent=t??""}}function selection_text(o){return arguments.length?this.each(o==null?textRemove:(typeof o=="function"?textFunction:textConstant)(o)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(o){return function(){this.innerHTML=o}}function htmlFunction(o){return function(){var t=o.apply(this,arguments);this.innerHTML=t??""}}function selection_html(o){return arguments.length?this.each(o==null?htmlRemove:(typeof o=="function"?htmlFunction:htmlConstant)(o)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(o){var t=typeof o=="function"?o:creator(o);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(o,t){var s=typeof o=="function"?o:creator(o),i=t==null?constantNull:typeof t=="function"?t:selector(t);return this.select(function(){return this.insertBefore(s.apply(this,arguments),i.apply(this,arguments)||null)})}function remove(){var o=this.parentNode;o&&o.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var o=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(o,this.nextSibling):o}function selection_cloneDeep(){var o=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(o,this.nextSibling):o}function selection_clone(o){return this.select(o?selection_cloneDeep:selection_cloneShallow)}function selection_datum(o){return arguments.length?this.property("__data__",o):this.node().__data__}function contextListener(o){return function(t){o.call(this,t,this.__data__)}}function parseTypenames(o){return o.trim().split(/^|\s+/).map(function(t){var s="",i=t.indexOf(".");return i>=0&&(s=t.slice(i+1),t=t.slice(0,i)),{type:t,name:s}})}function onRemove(o){return function(){var t=this.__on;if(t){for(var s=0,i=-1,a=t.length,n;s<a;++s)n=t[s],(!o.type||n.type===o.type)&&n.name===o.name?this.removeEventListener(n.type,n.listener,n.options):t[++i]=n;++i?t.length=i:delete this.__on}}}function onAdd(o,t,s){return function(){var i=this.__on,a,n=contextListener(t);if(i){for(var r=0,l=i.length;r<l;++r)if((a=i[r]).type===o.type&&a.name===o.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=n,a.options=s),a.value=t;return}}this.addEventListener(o.type,n,s),a={type:o.type,name:o.name,value:t,listener:n,options:s},i?i.push(a):this.__on=[a]}}function selection_on(o,t,s){var i=parseTypenames(o+""),a,n=i.length,r;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,c=l.length,_;d<c;++d)for(a=0,_=l[d];a<n;++a)if((r=i[a]).type===_.type&&r.name===_.name)return _.value}return}for(l=t?onAdd:onRemove,a=0;a<n;++a)this.each(l(i[a],t,s));return this}function dispatchEvent(o,t,s){var i=defaultView(o),a=i.CustomEvent;typeof a=="function"?a=new a(t,s):(a=i.document.createEvent("Event"),s?(a.initEvent(t,s.bubbles,s.cancelable),a.detail=s.detail):a.initEvent(t,!1,!1)),o.dispatchEvent(a)}function dispatchConstant(o,t){return function(){return dispatchEvent(this,o,t)}}function dispatchFunction(o,t){return function(){return dispatchEvent(this,o,t.apply(this,arguments))}}function selection_dispatch(o,t){return this.each((typeof t=="function"?dispatchFunction:dispatchConstant)(o,t))}function*selection_iterator(){for(var o=this._groups,t=0,s=o.length;t<s;++t)for(var i=o[t],a=0,n=i.length,r;a<n;++a)(r=i[a])&&(yield r)}var root=[null];function Selection(o,t){this._groups=o,this._parents=t}function selection_selection(){return this}Selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(o){return typeof o=="string"?new Selection([[document.querySelector(o)]],[document.documentElement]):new Selection([[o]],root)}function sourceEvent(o){let t;for(;t=o.sourceEvent;)o=t;return o}function pointer(o,t){if(o=sourceEvent(o),t===void 0&&(t=o.currentTarget),t){var s=t.ownerSVGElement||t;if(s.createSVGPoint){var i=s.createSVGPoint();return i.x=o.clientX,i.y=o.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[o.clientX-a.left-t.clientLeft,o.clientY-a.top-t.clientTop]}}return[o.pageX,o.pageY]}function identity(o){return o}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(o){return"translate("+o+",0)"}function translateY(o){return"translate(0,"+o+")"}function number(o){return t=>+o(t)}function center(o,t){return t=Math.max(0,o.bandwidth()-t*2)/2,o.round()&&(t=Math.round(t)),s=>+o(s)+t}function entering(){return!this.__axis}function axis(o,t){var s=[],i=null,a=null,n=6,r=6,l=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=o===top||o===left?-1:1,_=o===left||o===right?"x":"y",m=o===top||o===bottom?translateX:translateY;function p(f){var k=i??(t.ticks?t.ticks.apply(t,s):t.domain()),b=a??(t.tickFormat?t.tickFormat.apply(t,s):identity),v=Math.max(n,0)+l,N=t.range(),T=+N[0]+d,M=+N[N.length-1]+d,D=(t.bandwidth?center:number)(t.copy(),d),G=f.selection?f.selection():f,le=G.selectAll(".domain").data([null]),ao=G.selectAll(".tick").data(k,t).order(),lo=ao.exit(),co=ao.enter().append("g").attr("class","tick"),ho=ao.select("line"),Bt=ao.select("text");le=le.merge(le.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ao=ao.merge(co),ho=ho.merge(co.append("line").attr("stroke","currentColor").attr(_+"2",c*n)),Bt=Bt.merge(co.append("text").attr("fill","currentColor").attr(_,c*v).attr("dy",o===top?"0em":o===bottom?"0.71em":"0.32em")),f!==G&&(le=le.transition(f),ao=ao.transition(f),ho=ho.transition(f),Bt=Bt.transition(f),lo=lo.transition(f).attr("opacity",epsilon).attr("transform",function(ce){return isFinite(ce=D(ce))?m(ce+d):this.getAttribute("transform")}),co.attr("opacity",epsilon).attr("transform",function(ce){var A=this.parentNode.__axis;return m((A&&isFinite(A=A(ce))?A:D(ce))+d)})),lo.remove(),le.attr("d",o===left||o===right?r?"M"+c*r+","+T+"H"+d+"V"+M+"H"+c*r:"M"+d+","+T+"V"+M:r?"M"+T+","+c*r+"V"+d+"H"+M+"V"+c*r:"M"+T+","+d+"H"+M),ao.attr("opacity",1).attr("transform",function(ce){return m(D(ce)+d)}),ho.attr(_+"2",c*n),Bt.attr(_,c*v).text(b),G.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",o===right?"start":o===left?"end":"middle"),G.each(function(){this.__axis=D})}return p.scale=function(f){return arguments.length?(t=f,p):t},p.ticks=function(){return s=Array.from(arguments),p},p.tickArguments=function(f){return arguments.length?(s=f==null?[]:Array.from(f),p):s.slice()},p.tickValues=function(f){return arguments.length?(i=f==null?null:Array.from(f),p):i&&i.slice()},p.tickFormat=function(f){return arguments.length?(a=f,p):a},p.tickSize=function(f){return arguments.length?(n=r=+f,p):n},p.tickSizeInner=function(f){return arguments.length?(n=+f,p):n},p.tickSizeOuter=function(f){return arguments.length?(r=+f,p):r},p.tickPadding=function(f){return arguments.length?(l=+f,p):l},p.offset=function(f){return arguments.length?(d=+f,p):d},p}function axisBottom(o){return axis(bottom,o)}function axisLeft(o){return axis(left,o)}var useChart=()=>inject("chart"),usePoints=(o,t={stacked:!1,type:"line"})=>{const s=ref([]),i=useChart(),{stacked:a,type:n}=t;function r(d,c){const{primary:_,secondary:m}=i.scales;return i.config.direction==="horizontal"?c.map(f=>({x:_.mapOne(f.data[d]),y:m.mapOne(f[1]),props:{values:[...f],data:f.data}})).filter(f=>!isNaN(f.x)&&!isNaN(f.y)):i.config.direction==="vertical"?c.map(p=>({x:m.mapOne(p[1]),y:_.mapOne(p.data[d]),props:{values:[...p],data:p.data}})).filter(p=>!isNaN(p.x)&&!isNaN(p.y)):[]}function l(){const d=i.getStackedKeys(1,n),[c,_]=o,p=i.getStackedData(a?d:[o[1]]).find(f=>f.key===_);p&&(s.value=r(c,p))}return watch(i.updates,()=>{l()},{immediate:!0}),{points:s}},useMouse=()=>inject("chartMouse",{index:-1,position:{x:0,y:0},hover:!1}),useBars=(o,t={maxWidth:-1,gap:5,stacked:!1,type:"bar"})=>{const s=ref([]),i=useChart(),{stacked:a,type:n,gap:r}=t;function l(){const{primary:f,secondary:k}=i.scales,b=f.type==="band"?f:k,v=f.type==="band"?k:f;return{bandScale:b,linearScale:v}}function d(){if(a)return 0;const k=i.getLayers(n).findIndex(b=>b.dataKeys.join(",")===o.join(","));return k>-1?k:0}function c(){const{bandScale:f}=l(),k=t.maxWidth>-1?Math.min(f.bandwidth()-r,t.maxWidth):f.bandwidth()-r,b=i.getLayers(n);return b.length>0&&!a?k/b.length:k}function _(){if(a)return 0;const{bandScale:f}=l(),k=f.bandwidth()-r,b=i.getLayers(n).length*c();return(k-b)/2}function m(f,k){const{bandScale:b,linearScale:v}=l(),N=d(),T=c(),M=_();return k.map(D=>{const G={x:0,y:0,width:0,height:0,props:{values:[...D],data:D.data}},le=b.scale(D.data[f]),[ao,lo]=v.map(D);return i.config.direction==="horizontal"?(G.y=Math.min(ao,lo),G.height=Math.abs(ao-lo),G.x=M+le+N*T+r/2,G.width=T):i.config.direction==="vertical"&&(G.x=Math.min(ao,lo),G.width=Math.abs(ao-lo),G.y=M+le+N*T+r/2,G.height=T),G})}function p(){const f=a?i.getStackedKeys(1,n):[o[1]],[k,b]=o,N=i.getStackedData(f).find(T=>T.key===b);N&&(s.value=m(k,N))}return watch(i.updates,()=>{p()}),{bars:s}},useTooltip=()=>{const o=useMouse(),t=useChart(),s=computed(()=>o.hover),i=ref({x:0,y:0}),a=ref({});return watch(o,()=>{const{primary:n}=t.scales,r=t.getKeys(0),l=t.getData(r),[d]=n.map([l[o.index]]);d&&(t.config.direction==="horizontal"?i.value={x:d,y:o.position.y}:t.config.direction==="vertical"?i.value={x:o.position.x,y:d}:i.value={x:o.position.x,y:o.position.y});const c=t.data[o.index];c&&(a.value=Object.assign(Object.assign({},c),{idx:o.index}))}),{position:i,payload:a,show:s}},useResize=o=>{const t=ref(0),s=ref(0);let i=null,a=null;function n(l,d){t.value=l,s.value=d,a&&a()}function r(l){a=l}return onMounted(()=>{i=new window.ResizeObserver(l=>{const d=l[0].contentRect.width,c=l[0].contentRect.height;n(d,c)}),i.observe(o.value)}),onUnmounted(()=>{i.disconnect()}),{width:t,height:s,onResize:r}},script$d=defineComponent({name:"Axis",props:{position:{type:String,default:"bottom"},rotate:{type:Boolean,default:!1},isPrimary:{type:Boolean,default:!1}},setup(o){const t=ref(),s=useChart(),i=computed(()=>o.position==="bottom"?axisBottom:axisLeft),a=ref(s.canvas),n={ticks:5};function r(){if(s.data.length>0){const{primary:l,secondary:d}=s.scales,c=o.isPrimary?l:d,_=Object.assign({},o.isPrimary?l.config:d.config,n),m=i.value(c.scale);_.format&&m.tickFormat(_.format),_.ticks!==void 0&&m.ticks(_.ticks),_.tickValues!==void 0&&m.tickValues(_.tickValues),_.useConfig&&_.useConfig(m);const p=select(t.value).call(m);return o.position==="bottom"&&o.rotate&&p.selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(90)").style("text-anchor","start"),m}return null}return watch(()=>o.isPrimary,()=>{r()}),watch(s.updates,()=>{a.value=s.canvas,r()}),{el:t,canvas:a}}});const _hoisted_1$b$1=["transform"],_hoisted_2$8$1=["transform"];function render$d(o,t,s,i,a,n){return o.position==="bottom"?(openBlock(),createElementBlock("g",{key:0,class:normalizeClass("layer-axis-x"),ref:"el",transform:`translate(0, ${o.canvas.height})`},null,8,_hoisted_1$b$1)):(openBlock(),createElementBlock("g",{key:1,class:normalizeClass("layer-axis-y"),ref:"el",transform:`translate(${o.canvas.x}, 0)`},null,8,_hoisted_2$8$1))}script$d.render=render$d;script$d.__file="src/components/Axis/index.vue";var script$c=defineComponent({name:"Chart",components:{Axis:script$d},props:{data:{type:Array,default:()=>[]},margin:{type:Object,default:()=>({top:0,right:0,bottom:0,left:0}),required:!1},size:{type:Object,default:()=>({width:500,height:400}),required:!1},direction:{type:String,default:"horizontal",required:!1},axis:{type:Object,required:!1},config:{type:Object,default:()=>({})}},setup(o){const t=ref(null),s=ref(),i=ref(),a=reactive({x:40,y:20}),n=new Chart$1(o.data,o.config),r=computed(()=>o.axis&&o.axis.primary&&o.axis.primary.rotate),l=computed(()=>o.axis&&o.axis.primary&&o.axis.primary.hide),d=computed(()=>o.axis&&o.axis.secondary&&o.axis.secondary.hide),c=reactive({index:-1,position:{x:0,y:0},hover:!1});provide("chart",n),provide("chartMouse",c),watch(()=>o.data,()=>{n&&n.changeData(o.data)},{immediate:!0}),watch(()=>o.config,()=>{n&&n.changeConfig(o.config)}),watch(()=>[Object.assign({},a),o.direction,o.size,o.margin,o.axis],()=>{n&&n.changeConfig({axisSpace:Object.assign({},a),direction:o.direction,size:o.size,margin:o.margin,axis:o.axis})},{immediate:!0});const _=new ResizeObserver(f=>{for(const k of f)i.value&&k.target===i.value.$el?a.y=k.contentRect.height:s.value&&k.target===s.value.$el&&(a.x=k.contentRect.width)});onMounted(()=>{i.value&&_.observe(i.value.$el),s.value&&_.observe(s.value.$el)}),onUnmounted(()=>{_.disconnect()});function m(){o.config.controlHover!==!1&&(c.index=-1,c.hover=!1)}function p(f){if(o.config.controlHover===!1)return;c.hover=!0,c.position={x:pointer(f)[0],y:pointer(f)[1]};const{primary:k}=n.scales,b=n.getKeys(0),v=n.getData(b);if(n.config.direction==="horizontal")if(k.type==="band"){const N=k.bandwidth(),T=c.position.x-n.canvas.x;c.index=Math.round((T+N/2)/N)-1}else c.index=bisectCenter(v,k.scale.invert(c.position.x));else if(n.config.direction==="vertical")if(k.type==="band"){const N=k.bandwidth(),T=c.position.y-n.canvas.y;c.index=Math.round((T+N/2)/N)-1}else c.index=bisectCenter(v,k.scale.invert(c.position.y))}return{axBottomEl:i,axLeftEl:s,chartEl:t,hideX:l,hideY:d,rotateX:r,onMouseMove:p,onMouseOut:m}}});const _hoisted_1$a$1={class:"chart",ref:"chartEl"},_hoisted_2$7$1=["width","height","viewBox"],_hoisted_3$6$1={class:"layers"},_hoisted_4$3$1={class:"axis"},_hoisted_5$3$1={class:"widgets"};function render$c(o,t,s,i,a,n){const r=resolveComponent("axis");return openBlock(),createElementBlock("div",_hoisted_1$a$1,[(openBlock(),createElementBlock("svg",{width:o.size.width,height:o.size.height,viewBox:`0 0 ${o.size.width} ${o.size.height}`,onPointermove:t[0]||(t[0]=(...l)=>o.onMouseMove&&o.onMouseMove(...l)),onPointerleave:t[1]||(t[1]=(...l)=>o.onMouseOut&&o.onMouseOut(...l))},[createBaseVNode("g",_hoisted_3$6$1,[renderSlot(o.$slots,"layers")]),createBaseVNode("g",_hoisted_4$3$1,[o.hideX?createCommentVNode("v-if",!0):(openBlock(),createBlock(r,{key:0,position:"bottom",ref:"axBottomEl",rotate:o.rotateX,isPrimary:o.direction==="horizontal"},null,8,["rotate","isPrimary"])),o.hideY?createCommentVNode("v-if",!0):(openBlock(),createBlock(r,{key:1,position:"left",ref:"axLeftEl",isPrimary:o.direction==="vertical"},null,8,["isPrimary"]))])],40,_hoisted_2$7$1)),createBaseVNode("div",_hoisted_5$3$1,[renderSlot(o.$slots,"widgets")])],512)}function styleInject(o,t){t===void 0&&(t={});var s=t.insertAt;if(!(!o||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=o:a.appendChild(document.createTextNode(o))}}var css_248z$1=`
.chart {
  position: relative;
}
`;styleInject(css_248z$1);script$c.render=render$c;script$c.__file="src/components/Chart/index.vue";var script$b=defineComponent({name:"Layer",props:{type:{type:String,default:"custom"},dataKeys:{type:Object,required:!0}},setup(o){const t=useChart(),s=new Date().getTime().toString(),i=inject("layerProps",{});return onMounted(()=>{t.addLayer({id:s,type:o.type,dataKeys:o.dataKeys,props:i})}),onUnmounted(()=>{t.removeLayer(s)}),{}}});function render$b(o,t,s,i,a,n){return openBlock(),createElementBlock("g",{class:normalizeClass(`layer-${o.type}`)},[renderSlot(o.$slots,"default")],2)}script$b.render=render$b;script$b.__file="src/components/Layer/index.vue";var script$a=defineComponent({name:"AreaComponent",components:{Layer:script$b},props:{areaStyle:{type:Object,required:!1},dataKeys:{type:Object,required:!0},type:{type:String,default:()=>"normal"},gap:{type:Number,default:0}},setup(o){const t=useChart(),{stacked:s}=inject("layerProps",{stacked:!1}),{points:i}=usePoints(o.dataKeys,{stacked:!1,type:"area"}),{bars:a}=useBars(o.dataKeys,{stacked:s,type:"area",gap:o.gap,maxWidth:-1}),n=ref(""),r=_=>({normal:curveLinear,natural:curveNatural,step:curveStep,monotone:t.config.direction==="horizontal"?monotoneX:monotoneY})[_],l=()=>{console.log(i.value);const{secondary:_}=t.scales;return s?area().curve(r(o.type)).x0(m=>m.x+m.width/2).y0(m=>m.y).x1(m=>m.x+m.width/2).y1(m=>m.y+m.height):t.config.direction==="vertical"?area().curve(r(o.type)).y0(m=>m.y).y1(m=>m.y).x0(m=>m.x).x1(()=>_.scale(0)):area().curve(r(o.type)).x0(m=>m.x).x1(m=>m.x).y0(m=>m.y).y1(()=>_.scale(0))},d=computed(()=>()=>Object.assign({fill:"blue",fillOpacity:.25,stroke:"none"},o.areaStyle)),c=_=>mapKeys(kebabize,_);return watch(i,()=>{n.value=s?l()(a.value):l()(i.value)}),{d:n,getStyle:d,toKebabCase:c}}});const _hoisted_1$9$1=["d"];function render$a(o,t,s,i,a,n){const r=resolveComponent("Layer");return openBlock(),createBlock(r,{type:"area",dataKeys:o.dataKeys},{default:withCtx(()=>[createBaseVNode("path",mergeProps(o.toKebabCase(o.getStyle()),{d:o.d}),null,16,_hoisted_1$9$1)]),_:1},8,["dataKeys"])}script$a.render=render$a;script$a.__file="src/components/Area/index.vue";var script$9=defineComponent({name:"LineComponent",components:{Layer:script$b},props:{lineStyle:{type:Object,required:!1},dotStyle:{type:Object,required:!1},hideDot:{type:Boolean,default:!1},dataKeys:{type:Object,required:!0},type:{type:String,default:()=>"normal"}},setup(o){const{stacked:t}=inject("layerProps",{stacked:!1}),s=useMouse(),i=useChart(),a=ref(""),{points:n}=usePoints(o.dataKeys,{stacked:t,type:"line"}),r={normal:curveLinear,natural:curveNatural,step:stepAfter,monotone:monotoneX};function l(){let p=r[o.type];o.type==="monotone"&&i.config.direction==="vertical"&&(p=monotoneY),a.value=line().x(f=>f.x).y(f=>f.y).curve(p)(n.value)}function d(p){const f=o.dotStyle,k=c.value();return Object.assign({r:p?5:3,stroke:k.stroke,strokeWidth:k.strokeWidth,fill:"white"},f)}const c=computed(()=>is$1(Function,o.lineStyle)?o.lineStyle:()=>Object.assign({stroke:"#8884d8",strokeWidth:2},o.lineStyle)),_=computed(()=>is$1(Function,o.dotStyle)?o.dotStyle:({active:p})=>d(p));return watch(n,()=>l()),watch(i.updates,()=>l()),{d:a,mouse:s,points:n,toKebabCase:p=>mapKeys(kebabize,p),getStyle:c,getDotStyle:_}}});const _hoisted_1$8$1=["d"],_hoisted_2$6$1={key:0},_hoisted_3$5$1=["cx","cy"];function render$9(o,t,s,i,a,n){const r=resolveComponent("Layer");return openBlock(),createBlock(r,{dataKeys:o.dataKeys,type:"line"},{default:withCtx(()=>[createBaseVNode("path",mergeProps({class:"chart-line"},o.toKebabCase(o.getStyle()),{d:o.d,fill:"none"}),null,16,_hoisted_1$8$1),createCommentVNode(` :stroke="stroke"
      :stroke-width="strokeWidth"
      stroke-linejoin="round"
      stroke-linecap="round" `),o.hideDot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("g",_hoisted_2$6$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.points,(l,d)=>(openBlock(),createElementBlock("circle",mergeProps(o.toKebabCase(o.getDotStyle({active:d===o.mouse.index,index:d})),{key:d,cx:l.x,cy:l.y}),null,16,_hoisted_3$5$1))),128))]))]),_:1},8,["dataKeys"])}script$9.render=render$9;script$9.__file="src/components/Line/index.vue";var script$8=defineComponent({name:"Bar",components:{Layer:script$b},props:{selectedBar:{type:Object,default:()=>null},barStyle:{type:[Function,Object],default:()=>({fill:"blue"})},barStyleSelected:{type:[Function,Object],default:()=>({fill:"darkblue"})},maxWidth:{type:Number,default:-1},dataKeys:{type:Object,required:!0},gap:{type:Number,default:5}},setup(o,{emit:t}){const s=useMouse(),{stacked:i,maxWidth:a}=inject("layerProps",{stacked:!1,maxWidth:-1}),{bars:n}=useBars(o.dataKeys,{maxWidth:Math.max(o.maxWidth,a),stacked:i,gap:o.gap,type:"bar"}),r=computed(()=>is$1(Function,o.barStyle)?o.barStyle:()=>o.barStyle),l=computed(()=>is$1(Function,o.barStyleSelected)?o.barStyleSelected:()=>o.barStyleSelected),d=_=>mapKeys(kebabize,_);function c(_,m){t("barClick",Object.assign(Object.assign({},_),{idx:m}))}return{getStyle:r,getStyleSelected:l,toKebabCase:d,bars:n,mouse:s,onBarClick:c}}});const _hoisted_1$7$1={key:0},_hoisted_2$5$1=["x","y","width","height","onClick"],_hoisted_3$4$1=["x","y","width","height"];function render$8(o,t,s,i,a,n){const r=resolveComponent("Layer");return openBlock(),createBlock(r,{dataKeys:o.dataKeys,type:"bar"},{default:withCtx(()=>[o.bars.length===0?(openBlock(),createElementBlock("text",_hoisted_1$7$1,"No Data")):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.bars,(l,d)=>(openBlock(),createElementBlock("rect",mergeProps({class:"chart-bar"},o.toKebabCase(o.getStyle({...l.props,active:d===o.mouse.index})),{key:d,x:l.x,y:l.y,width:l.width>0?l.width:0,height:l.height>0?l.height:0,onClick:()=>o.onBarClick(l,d)}),null,16,_hoisted_2$5$1))),128)),o.selectedBar?(openBlock(),createElementBlock("rect",mergeProps({key:1,class:"chart-bar"},o.toKebabCase(o.getStyleSelected({...o.selectedBar.props})),{x:o.selectedBar.x,y:o.selectedBar.y,width:o.selectedBar.width>0?o.selectedBar.width:0,height:o.selectedBar.height>0?o.selectedBar.height:0}),null,16,_hoisted_3$4$1)):createCommentVNode("v-if",!0)]),_:1},8,["dataKeys"])}script$8.render=render$8;script$8.__file="src/components/Bar/index.vue";const PieSort=String;var script$7=defineComponent({name:"PieLayer",components:{Layer:script$b},props:{pieStyle:{type:Object,required:!1},dataKeys:{type:Object,required:!0},sort:{type:PieSort,default:"desc",required:!1},sortFunc:{type:Function,required:!1}},setup(o){var t;const s=useChart(),i=useMouse(),a=ref(Math.min(s.canvas.width-s.canvas.x,s.canvas.height-s.canvas.y)/2),n=computed(()=>()=>Object.assign({colors:["#4daf4a","#377eb8","#ff7f00","#984ea3","#e41a1c"],innerRadius:2,cornerRadius:0,padAngle:.01},o.pieStyle)),r=n.value(),l=ref([]),d=ordinal(n.value().colors),c=()=>arc().outerRadius(a.value).innerRadius(r.innerRadius).cornerRadius(r.cornerRadius).padAngle(r.padAngle),_=ref(`translate(${a.value+s.canvas.x}, ${a.value+s.canvas.y})`);let m;switch(o.sort){case"desc":m=descending$1;break;case"asc":m=ascending$1;break;case"none":m=null;break;case"custom":m=(t=o.sortFunc)!==null&&t!==void 0?t:null;break;default:m=null}function p(){const N=s.getData([o.dataKeys[1]]);l.value=pie().sort(m)(N)}function f(N){return d(N.toString())}function k(N,T){i.hover=!0,i.index=T;const[M,D]=pointer(N);i.position={x:M+a.value,y:D+a.value}}function b(){i.hover=!1,i.index=-1}function v(N){mapKeys(kebabize,N)}return watch(s.updates,()=>{a.value=Math.min(s.canvas.width-s.canvas.x,(s.canvas.height-s.canvas.y)/2),_.value=`translate(${a.value+s.canvas.x}, ${a.value+s.canvas.y})`,p()}),{arcs:l,arcGen:c,getStyle:n,transform:_,getColor:f,hideTooltip:b,toKebabCase:v,showTooltip:k}}});const _hoisted_1$6$1={key:0},_hoisted_2$4$1=["transform"],_hoisted_3$3$1=["id","fill","d","onMousemove"];function render$7(o,t,s,i,a,n){const r=resolveComponent("Layer");return openBlock(),createBlock(r,{dataKeys:o.dataKeys,type:"pie"},{default:withCtx(()=>[o.arcs.length===0?(openBlock(),createElementBlock("text",_hoisted_1$6$1,"No Data")):createCommentVNode("v-if",!0),createBaseVNode("g",{transform:o.transform},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.arcs,(l,d)=>(openBlock(),createElementBlock("path",mergeProps({key:d,id:`arc-${d}`,class:"chart-pie"},o.toKebabCase(o.getStyle()),{fill:o.getColor(d),d:o.arcGen()(l),onMousemove:c=>o.showTooltip(c,d),onMouseleave:t[0]||(t[0]=c=>o.hideTooltip())}),null,16,_hoisted_3$3$1))),128))],8,_hoisted_2$4$1)]),_:1},8,["dataKeys"])}script$7.render=render$7;script$7.__file="src/components/Pie/index.vue";var script$6=defineComponent({name:"Responsive",setup(){const o=ref(null),{width:t,height:s}=useResize(o);return{el:o,width:t,height:s}}});const _hoisted_1$5$1={ref:"el"};function render$6(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$5$1,[renderSlot(o.$slots,"main",{width:o.width,height:o.height})],512)}script$6.render=render$6;script$6.__file="src/components/Responsive/index.vue";var script$5=defineComponent({name:"Grid",props:{strokeDasharray:{type:String,default:()=>"3 3"},hideX:{type:Boolean,default:!1},hideY:{type:Boolean,default:!1},center:{type:Boolean,default:!0}},setup(o){const t=useChart(),s=ref([]),i=ref(null),a=ref([]),n=ref([]);function r(){const{primary:d,secondary:c}=t.scales,_=t.config.direction==="horizontal"?c:d;if(_.type==="band"&&!o.center){const m=_.map(t.getData(t.getKeys(0))).map(p=>p+_.bandwidth()/2);m.pop(),a.value=m}else{const m=_.ticks();a.value=_.map(m)}}function l(){const{primary:d,secondary:c}=t.scales,_=t.config.direction==="horizontal"?d:c;if(_.type==="band"&&!o.center){const m=_.map(t.getData(t.getKeys(0))).map(p=>p+_.bandwidth()/2);m.pop(),n.value=m}else{const m=_.ticks();n.value=_.map(m)}}return watch(t.updates,()=>{s.value=t.data,i.value=t.canvas,r(),l()}),{data:s,canvas:i,xLines:a,yLines:n}}});const _hoisted_1$4$1=["stroke-dasharray"],_hoisted_2$3$1={key:0,class:"grid-x"},_hoisted_3$2$1=["x1","y1","x2","y2"],_hoisted_4$2$1={key:1,class:"grid-y"},_hoisted_5$2$1=["x1","y1","x2","y2"],_hoisted_6$2$1=["x1","y1","x2","y2"],_hoisted_7$D=["x1","y1","x2","y2"];function render$5(o,t,s,i,a,n){return o.data.length?(openBlock(),createElementBlock("g",{key:0,class:"layer-grid",stroke:"black","stroke-opacity":"0.15","stroke-width":"1","stroke-dasharray":o.strokeDasharray},[o.hideX?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("g",_hoisted_2$3$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.xLines,(r,l)=>(openBlock(),createElementBlock("line",{key:l,x1:o.canvas.x,y1:r,x2:o.canvas.width,y2:r},null,8,_hoisted_3$2$1))),128))])),o.hideY?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("g",_hoisted_4$2$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.yLines,(r,l)=>(openBlock(),createElementBlock("line",{key:l,x1:r,y1:o.canvas.y,x2:r,y2:o.canvas.height},null,8,_hoisted_5$2$1))),128))])),createBaseVNode("g",null,[createBaseVNode("line",{x1:o.canvas.x,y1:o.canvas.y,x2:o.canvas.width,y2:o.canvas.y},null,8,_hoisted_6$2$1),createBaseVNode("line",{x1:o.canvas.width-1,y1:o.canvas.y,x2:o.canvas.width-1,y2:o.canvas.height},null,8,_hoisted_7$D)])],8,_hoisted_1$4$1)):createCommentVNode("v-if",!0)}script$5.render=render$5;script$5.__file="src/components/Grid/index.vue";var script$4=defineComponent({name:"Tooltip",components:{},props:{format:{type:String,default:",.0f"},color:{type:String,default:"#7876ec"},hideLine:{type:Boolean,default:!1},config:{type:Object,default:()=>({})}},setup(o){const t=ref(null),s=useChart(),i=ref(s.canvas),a=ref(s.config.direction),{position:n,payload:r,show:l}=useTooltip(),d=computed(()=>n.value.x>=i.value.width/4*3),c=computed(()=>a.value==="vertical"?{top:n.value.y-.5+"px",left:i.value.x+"px"}:a.value==="horizontal"?{top:i.value.y+"px",left:n.value.x-.5+"px"}:{top:i.value.y+"px",left:i.value.x+"px"}),_=computed(()=>a.value==="vertical"?{top:"5px",left:n.value.x-30+"px"}:a.value==="horizontal"?{top:n.value.y+"px",transform:`translateX(${d.value?"-100%":0})`}:{top:n.value.y+"px",left:n.value.x+"px"}),m=(f,k)=>is$1(Function,k)?k(f):is$1(Number,f)?format(k)(f):f,p=computed(()=>Object.keys(omit$1(["idx"],r.value)).map(f=>{const k=Object.assign({label:f,format:o.format,color:o.color,hide:!1},o.config[f]);return{key:f,label:k.label,value:r.value[f],valueFormatted:m(r.value[f],k.format),color:is$1(Function,k.color)?k.color(r.value):k.color,hide:k.hide}}).filter(f=>!f.hide));return watch(s.updates,()=>{a.value=s.config.direction,i.value=s.canvas}),{el:t,show:l,canvas:i,direction:a,style:c,styleContent:_,position:n,items:p,isRight:d}}});const _hoisted_1$3$1={key:0};function render$4(o,t,s,i,a,n){return o.show?(openBlock(),createElementBlock("div",{key:0,class:"v-tooltip",style:normalizeStyle(o.style)},[createBaseVNode("div",{class:"v-tooltip-content",style:normalizeStyle(o.styleContent),ref:"el"},[renderSlot(o.$slots,"default",{payload:o.items},()=>[createBaseVNode("div",{style:normalizeStyle({borderColor:o.color})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.items,(r,l)=>(openBlock(),createElementBlock("div",{key:l,style:normalizeStyle({color:r.color})},[createBaseVNode("b",null,toDisplayString(r.label),1),createTextVNode(": "+toDisplayString(r.valueFormatted),1)],4))),128))],4)])],4),o.hideLine?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",_hoisted_1$3$1,[o.direction==="horizontal"?(openBlock(),createElementBlock("div",{key:0,class:"v-tooltip-line-vertical",style:normalizeStyle({height:o.canvas.height+"px"})},null,4)):(openBlock(),createElementBlock("div",{key:1,class:"v-tooltip-line-horizontal",style:normalizeStyle({width:o.canvas.width-40+"px"})},null,4))]))],4)):createCommentVNode("v-if",!0)}var css_248z=`
.v-tooltip[data-v-43da20c6] {
  position: absolute;
  pointer-events: none;
}
.v-tooltip-content[data-v-43da20c6] {
  position: absolute;
  white-space: nowrap;
  pointer-events: none;
}
.v-tooltip-content > div[data-v-43da20c6] {
  margin-left: 5px;
  margin-right: 5px;
  border: 2px solid;
  background-color: white;
  padding: 8px;
  text-align: left;
  border-radius: 4px;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
}
.v-tooltip-right[data-v-43da20c6] {
  transform: translateX(-100%);
  margin-left: 0;
}
.v-tooltip-line-vertical[data-v-43da20c6] {
  top: 0px;
  position: absolute;
  width: 1px;
  background-color: black;
  pointer-events: none;
  opacity: 0.3;
}
.v-tooltip-line-horizontal[data-v-43da20c6] {
  left: 0px;
  position: absolute;
  height: 1px;
  background-color: black;
  pointer-events: none;
  opacity: 0.3;
}
`;styleInject(css_248z);script$4.render=render$4;script$4.__scopeId="data-v-43da20c6";script$4.__file="src/components/Tooltip/index.vue";var script$3=defineComponent({props:{stacked:{type:Boolean,default:!1},maxWidth:{type:Number,default:-1}},setup(o){provide("layerProps",o)}});function render$3(o,t,s,i,a,n){return openBlock(),createElementBlock("div",null,[renderSlot(o.$slots,"default")])}script$3.render=render$3;script$3.__file="src/components/Group/index.vue";var script$2=defineComponent({name:"Grid",props:{value:{type:Number},label:{type:String,default:""},color:{type:String,default:"red"},strokeDasharray:{type:String,default:()=>"3"},strokeWidth:{type:Number,default:1},strokeOpacity:{type:Number,default:.5}},setup(o){const t=useChart(),s=ref(0),i=ref("horizontal"),a=ref({});return watch(t.updates,()=>{o.value!==void 0&&(s.value=t.scales.secondary.scale(o.value)),a.value=t.canvas,i.value=t.config.direction},{immediate:!0}),watch(()=>o.value,()=>{s.value=t.scales.secondary.scale(o.value)},{immediate:!0}),{y:s,canvas:a,direction:i}}});const _hoisted_1$2$1={key:0,class:"layer-marker"},_hoisted_2$2$1=["x","y","fill"],_hoisted_3$1$1=["x1","y1","x2","y2","stroke","stroke-opacity","stroke-width","stroke-dasharray"],_hoisted_4$1$1={key:1,class:"layer-marker"},_hoisted_5$1$1=["x","y","fill"],_hoisted_6$1$1=["x1","y1","x2","y2","stroke","stroke-opacity","stroke-width","stroke-dasharray"];function render$2(o,t,s,i,a,n){return o.direction==="horizontal"?(openBlock(),createElementBlock("g",_hoisted_1$2$1,[createBaseVNode("text",{x:o.canvas.x+5,y:o.y-5,"text-anchor":"start",fill:o.color},toDisplayString(o.label),9,_hoisted_2$2$1),createBaseVNode("line",{x1:o.canvas.x,y1:o.y,x2:o.canvas.width,y2:o.y,stroke:o.color,"stroke-opacity":o.strokeOpacity,"stroke-width":o.strokeWidth,"stroke-dasharray":o.strokeDasharray},null,8,_hoisted_3$1$1)])):(openBlock(),createElementBlock("g",_hoisted_4$1$1,[createBaseVNode("text",{x:o.y+10,y:o.canvas.y+5,"text-anchor":"start",fill:o.color,style:{"writing-mode":"tb"}},toDisplayString(o.label),9,_hoisted_5$1$1),createBaseVNode("line",{x1:o.y,y1:o.canvas.y,x2:o.y,y2:o.canvas.height,stroke:o.color,"stroke-opacity":o.strokeOpacity,"stroke-width":o.strokeWidth,"stroke-dasharray":o.strokeDasharray},null,8,_hoisted_6$1$1)]))}script$2.render=render$2;script$2.__file="src/components/Marker/index.vue";function count(o){var t=0,s=o.children,i=s&&s.length;if(!i)t=1;else for(;--i>=0;)t+=s[i].value;o.value=t}function node_count(){return this.eachAfter(count)}function node_each(o,t){let s=-1;for(const i of this)o.call(t,i,++s,this);return this}function node_eachBefore(o,t){for(var s=this,i=[s],a,n,r=-1;s=i.pop();)if(o.call(t,s,++r,this),a=s.children)for(n=a.length-1;n>=0;--n)i.push(a[n]);return this}function node_eachAfter(o,t){for(var s=this,i=[s],a=[],n,r,l,d=-1;s=i.pop();)if(a.push(s),n=s.children)for(r=0,l=n.length;r<l;++r)i.push(n[r]);for(;s=a.pop();)o.call(t,s,++d,this);return this}function node_find(o,t){let s=-1;for(const i of this)if(o.call(t,i,++s,this))return i}function node_sum(o){return this.eachAfter(function(t){for(var s=+o(t.data)||0,i=t.children,a=i&&i.length;--a>=0;)s+=i[a].value;t.value=s})}function node_sort(o){return this.eachBefore(function(t){t.children&&t.children.sort(o)})}function node_path(o){for(var t=this,s=leastCommonAncestor(t,o),i=[t];t!==s;)t=t.parent,i.push(t);for(var a=i.length;o!==s;)i.splice(a,0,o),o=o.parent;return i}function leastCommonAncestor(o,t){if(o===t)return o;var s=o.ancestors(),i=t.ancestors(),a=null;for(o=s.pop(),t=i.pop();o===t;)a=o,o=s.pop(),t=i.pop();return a}function node_ancestors(){for(var o=this,t=[o];o=o.parent;)t.push(o);return t}function node_descendants(){return Array.from(this)}function node_leaves(){var o=[];return this.eachBefore(function(t){t.children||o.push(t)}),o}function node_links(){var o=this,t=[];return o.each(function(s){s!==o&&t.push({source:s.parent,target:s})}),t}function*node_iterator(){var o=this,t,s=[o],i,a,n;do for(t=s.reverse(),s=[];o=t.pop();)if(yield o,i=o.children)for(a=0,n=i.length;a<n;++a)s.push(i[a]);while(s.length)}function hierarchy(o,t){o instanceof Map?(o=[void 0,o],t===void 0&&(t=mapChildren)):t===void 0&&(t=objectChildren);for(var s=new Node(o),i,a=[s],n,r,l,d;i=a.pop();)if((r=t(i.data))&&(d=(r=Array.from(r)).length))for(i.children=r,l=d-1;l>=0;--l)a.push(n=r[l]=new Node(r[l])),n.parent=i,n.depth=i.depth+1;return s.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function objectChildren(o){return o.children}function mapChildren(o){return Array.isArray(o)?o[1]:null}function copyData(o){o.data.value!==void 0&&(o.value=o.data.value),o.data=o.data.data}function computeHeight(o){var t=0;do o.height=t;while((o=o.parent)&&o.height<++t)}function Node(o){this.data=o,this.depth=this.height=0,this.parent=null}Node.prototype=hierarchy.prototype={constructor:Node,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,find:node_find,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy,[Symbol.iterator]:node_iterator};function optional(o){return o==null?null:required(o)}function required(o){if(typeof o!="function")throw new Error;return o}function constantZero(){return 0}function constant(o){return function(){return o}}function roundNode(o){o.x0=Math.round(o.x0),o.y0=Math.round(o.y0),o.x1=Math.round(o.x1),o.y1=Math.round(o.y1)}function treemapDice(o,t,s,i,a){for(var n=o.children,r,l=-1,d=n.length,c=o.value&&(i-t)/o.value;++l<d;)r=n[l],r.y0=s,r.y1=a,r.x0=t,r.x1=t+=r.value*c}var preroot={depth:-1},ambiguous={},imputed={};function defaultId(o){return o.id}function defaultParentId(o){return o.parentId}function stratify(){var o=defaultId,t=defaultParentId,s;function i(a){var n=Array.from(a),r=o,l=t,d,c,_,m,p,f,k,b,v=new Map;if(s!=null){const N=n.map((D,G)=>normalize(s(D,G,a))),T=N.map(parentof),M=new Set(N).add("");for(const D of T)M.has(D)||(M.add(D),N.push(D),T.push(parentof(D)),n.push(imputed));r=(D,G)=>N[G],l=(D,G)=>T[G]}for(_=0,d=n.length;_<d;++_)c=n[_],f=n[_]=new Node(c),(k=r(c,_,a))!=null&&(k+="")&&(b=f.id=k,v.set(b,v.has(b)?ambiguous:f)),(k=l(c,_,a))!=null&&(k+="")&&(f.parent=k);for(_=0;_<d;++_)if(f=n[_],k=f.parent){if(p=v.get(k),!p)throw new Error("missing: "+k);if(p===ambiguous)throw new Error("ambiguous: "+k);p.children?p.children.push(f):p.children=[f],f.parent=p}else{if(m)throw new Error("multiple roots");m=f}if(!m)throw new Error("no root");if(s!=null){for(;m.data===imputed&&m.children.length===1;)m=m.children[0],--d;for(let N=n.length-1;N>=0&&(f=n[N],f.data===imputed);--N)f.data=null}if(m.parent=preroot,m.eachBefore(function(N){N.depth=N.parent.depth+1,--d}).eachBefore(computeHeight),m.parent=null,d>0)throw new Error("cycle");return m}return i.id=function(a){return arguments.length?(o=optional(a),i):o},i.parentId=function(a){return arguments.length?(t=optional(a),i):t},i.path=function(a){return arguments.length?(s=optional(a),i):s},i}function normalize(o){o=`${o}`;let t=o.length;return slash(o,t-1)&&!slash(o,t-2)&&(o=o.slice(0,-1)),o[0]==="/"?o:`/${o}`}function parentof(o){let t=o.length;if(t<2)return"";for(;--t>1&&!slash(o,t););return o.slice(0,t)}function slash(o,t){if(o[t]==="/"){let s=0;for(;t>0&&o[--t]==="\\";)++s;if(!(s&1))return!0}return!1}function treemapSlice(o,t,s,i,a){for(var n=o.children,r,l=-1,d=n.length,c=o.value&&(a-s)/o.value;++l<d;)r=n[l],r.x0=t,r.x1=i,r.y0=s,r.y1=s+=r.value*c}var phi=(1+Math.sqrt(5))/2;function squarifyRatio(o,t,s,i,a,n){for(var r=[],l=t.children,d,c,_=0,m=0,p=l.length,f,k,b=t.value,v,N,T,M,D,G,le;_<p;){f=a-s,k=n-i;do v=l[m++].value;while(!v&&m<p);for(N=T=v,G=Math.max(k/f,f/k)/(b*o),le=v*v*G,D=Math.max(T/le,le/N);m<p;++m){if(v+=c=l[m].value,c<N&&(N=c),c>T&&(T=c),le=v*v*G,M=Math.max(T/le,le/N),M>D){v-=c;break}D=M}r.push(d={value:v,dice:f<k,children:l.slice(_,m)}),d.dice?treemapDice(d,s,i,a,b?i+=k*v/b:n):treemapSlice(d,s,i,b?s+=f*v/b:a,n),b-=v,_=m}return r}var squarify=function o(t){function s(i,a,n,r,l){squarifyRatio(t,i,a,n,r,l)}return s.ratio=function(i){return o((i=+i)>1?i:1)},s}(phi);function treemap(){var o=squarify,t=!1,s=1,i=1,a=[0],n=constantZero,r=constantZero,l=constantZero,d=constantZero,c=constantZero;function _(p){return p.x0=p.y0=0,p.x1=s,p.y1=i,p.eachBefore(m),a=[0],t&&p.eachBefore(roundNode),p}function m(p){var f=a[p.depth],k=p.x0+f,b=p.y0+f,v=p.x1-f,N=p.y1-f;v<k&&(k=v=(k+v)/2),N<b&&(b=N=(b+N)/2),p.x0=k,p.y0=b,p.x1=v,p.y1=N,p.children&&(f=a[p.depth+1]=n(p)/2,k+=c(p)-f,b+=r(p)-f,v-=l(p)-f,N-=d(p)-f,v<k&&(k=v=(k+v)/2),N<b&&(b=N=(b+N)/2),o(p,k,b,v,N))}return _.round=function(p){return arguments.length?(t=!!p,_):t},_.size=function(p){return arguments.length?(s=+p[0],i=+p[1],_):[s,i]},_.tile=function(p){return arguments.length?(o=required(p),_):o},_.padding=function(p){return arguments.length?_.paddingInner(p).paddingOuter(p):_.paddingInner()},_.paddingInner=function(p){return arguments.length?(n=typeof p=="function"?p:constant(+p),_):n},_.paddingOuter=function(p){return arguments.length?_.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):_.paddingTop()},_.paddingTop=function(p){return arguments.length?(r=typeof p=="function"?p:constant(+p),_):r},_.paddingRight=function(p){return arguments.length?(l=typeof p=="function"?p:constant(+p),_):l},_.paddingBottom=function(p){return arguments.length?(d=typeof p=="function"?p:constant(+p),_):d},_.paddingLeft=function(p){return arguments.length?(c=typeof p=="function"?p:constant(+p),_):c},_}var script$1=defineComponent({name:"Treemap",props:{size:{type:Object,default:()=>({width:500,height:400}),required:!1},margin:{type:Object,default:()=>({top:0,right:0,bottom:0,left:0})},padding:{type:Number,default:8},data:{type:Array,default:()=>[]},dataKeys:{type:Object,required:!0},colorFn:{type:Function,default:()=>interpolateHcl("#60c96e","#6b46c1")},rcStyle:{type:Function,required:!1}},setup(o){const t=ref(null),s=ref(o.data),i=ref(null),a=ref({x:o.margin.left,y:o.margin.top,width:o.size.width-o.margin.right,height:o.size.height-o.margin.bottom}),n=ref([]);function r(){const f=extent(s.value.map(v=>v[o.dataKeys[1]])),k=linear().domain(f).range([0,100]).nice(),b=sequential().domain(f).interpolator(o.colorFn());return{x:k,y:b}}function l(){const{y:f}=r();return d(s.value).leaves().map((b,v)=>({idx:v,x0:a.value.x+b.x0,x1:a.value.x+b.x1,y0:a.value.y+b.y0,y1:a.value.y+b.y1,width:b.x1-b.x0,height:b.y1-b.y0,data:b.data,color:f(b.value)}))}function d(f){const{x:k}=r(),b=treemap().size([a.value.width-a.value.x,a.value.height-a.value.y]).padding(o.padding),N=stratify().id(T=>T.name).parentId(T=>T.parent)([{name:"root"}].concat(f.map(T=>({name:T[o.dataKeys[0]],value:T[o.dataKeys[1]],parent:"root"}))));return N.sum(T=>k(T.value)),b(N),N}const c=f=>mapKeys(kebabize,f),_=f=>{const k={stroke:f.color,strokeWidth:5,fill:f.color,fillOpacity:.9};return o.rcStyle&&typeof o.rcStyle=="function"?Object.assign(Object.assign({},k),o.rcStyle(f)):k};function m(f){i.value=f}function p(){i.value=null}return watch(o,()=>{s.value=o.data,a.value={x:o.margin.left,y:o.margin.top,width:o.size.width-o.margin.right,height:o.size.height-o.margin.bottom},n.value=l()},{immediate:!0}),{el:t,rectangles:n,selected:i,getStyle:_,toKebabCase:c,onMouseOver:m,onMouseOut:p}}});const _hoisted_1$1$1={class:"treemap",style:{display:"flex",position:"relative"}},_hoisted_2$1$1=["width","height","viewBox"],_hoisted_3$F={class:"layer-rectangles"},_hoisted_4$D=["transform","onMouseover"],_hoisted_5$D=["width","height"],_hoisted_6$D={x:0+10,y:0+20,"font-size":"15px",fill:"white","font-weight":"bold"};function render$1(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$1$1,[(openBlock(),createElementBlock("svg",{width:o.size.width,height:o.size.height,viewBox:`0 0 ${o.size.width} ${o.size.height}`,ref:"el"},[createBaseVNode("g",_hoisted_3$F,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.rectangles,(r,l)=>(openBlock(),createElementBlock("g",{class:normalizeClass(["rectangle",{selected:o.selected===l}]),key:l,transform:`translate(${r.x0}, ${r.y0})`,onMouseover:()=>o.onMouseOver(l),onMouseleave:t[0]||(t[0]=(...d)=>o.onMouseOut&&o.onMouseOut(...d))},[renderSlot(o.$slots,"default",{r,selected:o.selected===l},()=>[createBaseVNode("rect",mergeProps(o.toKebabCase(o.getStyle(r)),{x:0,y:0,width:r.width,height:r.height}),null,16,_hoisted_5$D),renderSlot(o.$slots,"text",{r,selected:o.selected===l},()=>[createBaseVNode("text",_hoisted_6$D,toDisplayString(r.data.name),1)])])],42,_hoisted_4$D))),128))])],8,_hoisted_2$1$1)),renderSlot(o.$slots,"widgets")])}script$1.render=render$1;script$1.__file="src/components/Treemap/index.vue";var script=defineComponent({name:"HoverBar",props:{barStyle:{type:Object,default:()=>({"fill-opacity":.05})}},setup(){const o=useChart(),t=useMouse(),s=ref({x:0,y:0,width:0,height:0}),i=ref("horizontal"),a=ref({x:0,y:0,width:0,height:0});return watch(o.updates,()=>{a.value=o.canvas,i.value=o.config.direction},{immediate:!0}),watch(t,()=>{if(o.bandScale){const n=o.getData(o.getKeys(0)),[r]=o.bandScale.map([n[t.index]]),l=o.bandScale.bandwidth();r&&(o.config.direction==="horizontal"?s.value={x:r-l/2,y:0,width:l,height:a.value.height}:s.value={x:40,y:r-l/2,width:a.value.width-40,height:l})}}),{bar:s,canvas:a,direction:i,mouse:t}}});const _hoisted_1$F={key:0,class:"layer-hover-bar"},_hoisted_2$F=["x","y","width","height"];function render(o,t,s,i,a,n){return o.mouse.hover?(openBlock(),createElementBlock("g",_hoisted_1$F,[createBaseVNode("rect",mergeProps({class:"hover-bar"},o.barStyle,{x:o.bar.x,y:o.bar.y,width:o.bar.width>0?o.bar.width:0,height:o.bar.height>0?o.bar.height:0}),null,16,_hoisted_2$F)])):createCommentVNode("v-if",!0)}script.render=render;script.__file="src/components/HoverBar/index.vue";const _hoisted_1$E={key:0,class:"container"},_hoisted_2$E={class:"row"},_hoisted_3$E={class:"col-12"},_hoisted_4$C=createBaseVNode("h6",{class:"my-3 fw-bold"},"Основная статистика",-1),_hoisted_5$C=createBaseVNode("p",{class:"fst-italic"}," Сводка всех показателей эффективности работы системы ",-1),_hoisted_6$C={key:0,class:"table"},_hoisted_7$C=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"bg-light"},[createBaseVNode("th",{scope:"col",style:{width:"200px"}},"Ключ"),createBaseVNode("th",{scope:"col"},"Значение")])],-1),_hoisted_8$y=createBaseVNode("th",{scope:"row"},"Всего пользователей в БД",-1),_hoisted_9$w={class:"font-weight-bold"},_hoisted_10$u=createBaseVNode("th",{scope:"row"},"Всего VIP",-1),_hoisted_11$r={class:"font-weight-bold"},_hoisted_12$r=createBaseVNode("th",{scope:"row"},"Администраторы в БД",-1),_hoisted_13$n={class:"font-weight-bold"},_hoisted_14$n=createBaseVNode("th",{scope:"row"},"Администраторы за работой",-1),_hoisted_15$n={class:"font-weight-bold"},_hoisted_16$o=createBaseVNode("th",{scope:"row"},"Пользователей за день",-1),_hoisted_17$m={class:"font-weight-bold"},_hoisted_18$m=createBaseVNode("th",{scope:"row"},"VIP за день",-1),_hoisted_19$l={class:"font-weight-bold"},_hoisted_20$l=createBaseVNode("th",{scope:"row"},"Выдано кэшбэка за день, руб",-1),_hoisted_21$k={class:"font-weight-bold"},_hoisted_22$k={key:0},_hoisted_23$i=createBaseVNode("th",{scope:"row"},"Списано кэшбэка за день, руб",-1),_hoisted_24$h={class:"font-weight-bold"},_hoisted_25$h={key:0},_hoisted_26$f=createBaseVNode("th",{scope:"row"},"Всего кэшбэка на счету у пользователей, руб",-1),_hoisted_27$f={class:"font-weight-bold"},_hoisted_28$e={key:0},_hoisted_29$d=createBaseVNode("th",{scope:"row"},"Всего кэшбэка начислено пользователям, руб",-1),_hoisted_30$d={class:"font-weight-bold"},_hoisted_31$d={key:0},_hoisted_32$d=createBaseVNode("th",{scope:"row"},"Всего кэшбэка списано у пользователей, руб",-1),_hoisted_33$d={class:"font-weight-bold"},_hoisted_34$d={key:0},_hoisted_35$d=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка первого уровня, руб",-1),_hoisted_36$d={class:"font-weight-bold"},_hoisted_37$d={key:0},_hoisted_38$c=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка второго уровня, руб",-1),_hoisted_39$c={class:"font-weight-bold"},_hoisted_40$b={key:0},_hoisted_41$b=createBaseVNode("th",{scope:"row"},"Всего за день начислено кэшбэка третьего уровня, руб",-1),_hoisted_42$b={class:"font-weight-bold"},_hoisted_43$b={key:0},_hoisted_44$b={class:"d-flex justify-content-center mb-3"},_hoisted_45$b={key:1,class:"text-danger"},_hoisted_46$b=createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:"grad",gradientTransform:"rotate(90)"},[createBaseVNode("stop",{offset:"0%","stop-color":"#be90ff","stop-opacity":"1"}),createBaseVNode("stop",{offset:"100%","stop-color":"white","stop-opacity":"0.4"})])],-1),_hoisted_47$a=createBaseVNode("i",{class:"fa-regular fa-file-excel mr-2"},null,-1),__default__$q={components:{Chart:script$c,Grid:script$5,Line:script$9,Bar:script$8,Tooltip:script$4},data(){return{botUser:null,loadedChart:!1,statistic:null,loading:!1,tooltipConfig:{sump:{label:"Сумма продаж",color:"#5d1010"},m:{label:"Месяц",color:"#54a375"},y:{label:"Год",color:"#0ea9cb"}},chart:[{sump:0,m:1e3,y:500},{sump:111,m:1e3,y:500},{sump:222,m:1e3,y:500},{sump:333,m:1e3,y:500},{sump:444,m:1e3,y:500}],direction:"vertical",margin:{left:0,top:20,right:20,bottom:0},axis:{primary:{type:"band"},secondary:{domain:["dataMin","dataMax + 100"],type:"linear",ticks:11}}}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp}},watch:{getSelf:function(){this.botUser=this.getSelf,this.prepareStatistic()}},mounted(){this.getSelf&&(this.botUser=this.getSelf,this.prepareStatistic()),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{prepareStatistic(){return this.loadedChart=!1,this.$store.dispatch("statisticLoad").then(o=>{this.statistic=o.statistic,this.chart=this.statistic.orders.sum,this.loadedChart=!0})},downloadBotStatistic(){this.$botNotification.notification("Внимание!","Начался формироваться документ статистики!"),this.$store.dispatch("downloadBotStatistic").then(o=>{this.$botNotification.success("Отлично!","Документ успешно сформирован")}).catch(()=>{this.$botNotification.warning("Упс...","Что-то пошло не так...")})}}},_sfc_main$E=Object.assign(__default__$q,{__name:"Statistic",setup(o){return(t,s)=>{const i=resolveComponent("Marker"),a=resolveComponent("Area");return t.botUser?(openBlock(),createElementBlock("div",_hoisted_1$E,[createBaseVNode("div",_hoisted_2$E,[createBaseVNode("div",_hoisted_3$E,[_hoisted_4$C,_hoisted_5$C,t.statistic?(openBlock(),createElementBlock("table",_hoisted_6$C,[_hoisted_7$C,createBaseVNode("tbody",null,[createBaseVNode("tr",null,[_hoisted_8$y,createBaseVNode("td",_hoisted_9$w,toDisplayString(t.statistic.users_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_10$u,createBaseVNode("td",_hoisted_11$r,toDisplayString(t.statistic.vip_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_12$r,createBaseVNode("td",_hoisted_13$n,toDisplayString(t.statistic.admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_14$n,createBaseVNode("td",_hoisted_15$n,toDisplayString(t.statistic.work_admin_in_bd||0),1)]),createBaseVNode("tr",null,[_hoisted_16$o,createBaseVNode("td",_hoisted_17$m,toDisplayString(t.statistic.users_in_bd_today||0),1)]),createBaseVNode("tr",null,[_hoisted_18$m,createBaseVNode("td",_hoisted_19$l,toDisplayString(t.statistic.vip_in_bd_today||0),1)]),createBaseVNode("tr",null,[_hoisted_20$l,createBaseVNode("td",_hoisted_21$k,[createTextVNode(toDisplayString((t.statistic.cashback_day_up||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_22$k,"("+toDisplayString(t.statistic.cashback_day_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_23$i,createBaseVNode("td",_hoisted_24$h,[createTextVNode(toDisplayString((t.statistic.cashback_day_down||0).toFixed(2))+" ",1),t.statistic.cashback_day_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_25$h,"("+toDisplayString(t.statistic.cashback_day_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_26$f,createBaseVNode("td",_hoisted_27$f,[createTextVNode(toDisplayString((t.statistic.summary_cashback||0).toFixed(2))+" ",1),t.statistic.summary_cashback_people_count?(openBlock(),createElementBlock("strong",_hoisted_28$e,"("+toDisplayString(t.statistic.summary_cashback_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_29$d,createBaseVNode("td",_hoisted_30$d,[createTextVNode(toDisplayString((t.statistic.cashback_summary_up||0).toFixed(2))+" ",1),t.statistic.cashback_summary_up_people_count?(openBlock(),createElementBlock("strong",_hoisted_31$d,"("+toDisplayString(t.statistic.cashback_summary_up_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_32$d,createBaseVNode("td",_hoisted_33$d,[createTextVNode(toDisplayString((t.statistic.cashback_summary_down||0).toFixed(2))+" ",1),t.statistic.cashback_summary_down_people_count?(openBlock(),createElementBlock("strong",_hoisted_34$d,"("+toDisplayString(t.statistic.cashback_summary_down_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_35$d,createBaseVNode("td",_hoisted_36$d,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_1||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_1_people_count?(openBlock(),createElementBlock("strong",_hoisted_37$d,"("+toDisplayString(t.statistic.cashback_day_up_level_1_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_38$c,createBaseVNode("td",_hoisted_39$c,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_2||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_2_people_count?(openBlock(),createElementBlock("strong",_hoisted_40$b,"("+toDisplayString(t.statistic.cashback_day_up_level_2_people_count)+" чел)",1)):createCommentVNode("",!0)])]),createBaseVNode("tr",null,[_hoisted_41$b,createBaseVNode("td",_hoisted_42$b,[createTextVNode(toDisplayString((t.statistic.cashback_day_up_level_3||0).toFixed(2))+" ",1),t.statistic.cashback_day_up_level_3_people_count?(openBlock(),createElementBlock("strong",_hoisted_43$b,"("+toDisplayString(t.statistic.cashback_day_up_level_3_people_count)+" чел)",1)):createCommentVNode("",!0)])])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_44$b,[t.loadedChart?(openBlock(),createBlock(unref(script$c),{key:0,size:{width:340,height:320},data:t.chart,margin:t.margin,direction:t.direction,axis:t.axis},{layers:withCtx(()=>[createVNode(unref(script$5),{strokeDasharray:"2,2"}),createVNode(unref(script$8),{dataKeys:["m","sump"],barStyle:{fill:"#ffe775"}}),createVNode(i,{value:1e3,label:"Avg.",color:"#e76f51",strokeWidth:"2",strokeDasharray:"6 6"})]),widgets:withCtx(()=>[createVNode(unref(script$4),{borderColor:"#48CAE4",config:t.tooltipConfig},null,8,["config"])]),_:1},8,["data","margin","direction","axis"])):(openBlock(),createElementBlock("p",_hoisted_45$b,"Статистика еще не загружена"))]),createVNode(unref(script$c),{size:{width:340,height:420},data:t.chart,margin:t.margin,direction:t.direction,axis:t.axis},{layers:withCtx(()=>[createVNode(unref(script$5),{strokeDasharray:"2,2"}),createVNode(a,{dataKeys:["m","sump"],type:"monotone",areaStyle:{fill:"url(#grad)"}},null,8,["areaStyle"]),createVNode(unref(script$9),{dataKeys:["m","sump"],type:"monotone",lineStyle:{stroke:"#9f7aea"}}),_hoisted_46$b]),widgets:withCtx(()=>[createVNode(unref(script$4),{borderColor:"#48CAE4",config:{sump:{color:"#9f7aea"},y:{hide:!0},y:{hide:!0}}})]),_:1},8,["data","margin","direction","axis"]),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=(...n)=>t.downloadBotStatistic&&t.downloadBotStatistic(...n)),class:"btn w-100 btn-outline-info p-3"},[_hoisted_47$a,createTextVNode(" Скачать статистику ")])])])])):createCommentVNode("",!0)}}}),Statistic=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$E},Symbol.toStringTag,{value:"Module"})),_hoisted_1$D={class:"form-floating mb-2"},_hoisted_2$D=createBaseVNode("label",{for:"floatingInput"},"Текст промокода",-1),_hoisted_3$D={class:"form-floating mb-2"},_hoisted_4$B=createBaseVNode("label",{for:"floatingTextarea"}," Назначение промокода",-1),_hoisted_5$B={class:"form-check form-switch mb-2"},_hoisted_6$B=createBaseVNode("label",{class:"form-check-label",for:"is_active"},"Доступен для активации",-1),_hoisted_7$B={class:"form-floating mb-2"},_hoisted_8$x=createBaseVNode("label",{for:"floatingInput"}," Максимальное число активаций кода",-1),_hoisted_9$v={class:"alert alert-light mb-2"},_hoisted_10$t={class:"form-check form-switch mb-2"},_hoisted_11$q=createBaseVNode("label",{class:"form-check-label",for:"discount_in_percent"},"Скидка в процентах",-1),_hoisted_12$q={key:0,class:"form-floating mb-2"},_hoisted_13$m=createBaseVNode("label",{for:"floatingInput"}," Величина скидки \\ CashBack, руб",-1),_hoisted_14$m={key:1,class:"form-floating mb-2"},_hoisted_15$m=createBaseVNode("label",{for:"floatingInput"}," Величина скидки \\ CashBack, %",-1),_hoisted_16$n={class:"form-floating mb-2"},_hoisted_17$l=createBaseVNode("label",{for:"floatingInput"}," Сумма активации от... руб",-1),_hoisted_18$l={class:"form-floating mb-2"},_hoisted_19$k=createBaseVNode("label",{for:"floatingInput"},"Доступен до...",-1),_hoisted_20$k={type:"submit",class:"btn btn-primary w-100 p-3"},_hoisted_21$j={key:0},_hoisted_22$j={key:1},__default__$p={props:["code"],data(){return{step:0,load:!1,need_reset:!1,promoCodeForm:{id:null,code:null,description:null,cashback_amount:0,max_activation_count:1,is_active:!1,available_to:null,activate_price:0,config:{discount_in_percent:!1}}}},computed:{...mapGetters(["getSelf"]),bot(){return window.currentBot}},watch:{promoCodeForm:{handler(o){this.need_reset=!0},deep:!0},"promoCodeForm.config.discount_in_percent":{handler(o){this.promoCodeForm.config.discount_in_percent&&this.promoCodeForm.cashback_amount>100&&(this.promoCodeForm.cashback_amount=50)},deep:!0}},mounted(){this.code&&this.$nextTick(()=>{this.promoCodeForm={id:this.code.id||null,description:this.code.description||null,code:this.code.code||null,cashback_amount:this.code.cashback_amount||0,max_activation_count:this.code.max_activation_count||1,is_active:this.code.is_active||!1,available_to:this.code.available_to?this.$filters.local(this.code.available_to):null},this.code.config&&(this.promoCodeForm.config={discount_in_percent:this.code.config.discount_in_percent||!1})})},methods:{submitForm(){let o=new FormData;Object.keys(this.promoCodeForm).forEach(t=>{const s=this.promoCodeForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),o.append("bot_id",this.bot.id),this.$store.dispatch("storePromoCodes",{promoCodeForm:o}).then(t=>{this.promoCodeForm={id:null,code:null,description:null,cashback_amount:0,max_activation_count:1,is_active:!1,config:{discount_in_percent:!1}},this.$emit("callback",t.data),this.$notify("Промокод успешно создан")}).catch(t=>{this.$notify("Ошибка создания промокода")})}}},_sfc_main$D=Object.assign(__default__$p,{__name:"PromoCodesForm",setup(o){return(t,s)=>(openBlock(),createElementBlock("form",{onSubmit:s[9]||(s[9]=withModifiers((...i)=>t.submitForm&&t.submitForm(...i),["prevent"]))},[createBaseVNode("div",_hoisted_1$D,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.promoCodeForm.code=i),maxlength:"255",class:"form-control",required:"",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.promoCodeForm.code]]),_hoisted_2$D]),createBaseVNode("div",_hoisted_3$D,[withDirectives(createBaseVNode("textarea",{class:"form-control",maxlength:"255","onUpdate:modelValue":s[1]||(s[1]=i=>t.promoCodeForm.description=i),placeholder:"Leave a comment here",id:"floatingTextarea",required:""},null,512),[[vModelText,t.promoCodeForm.description]]),_hoisted_4$B]),createBaseVNode("div",_hoisted_5$B,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=i=>t.promoCodeForm.is_active=i),type:"checkbox",role:"switch",id:"is_active"},null,512),[[vModelCheckbox,t.promoCodeForm.is_active]]),_hoisted_6$B]),createBaseVNode("div",_hoisted_7$B,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"1","onUpdate:modelValue":s[3]||(s[3]=i=>t.promoCodeForm.max_activation_count=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.promoCodeForm.max_activation_count]]),_hoisted_8$x]),createBaseVNode("div",_hoisted_9$v,[createTextVNode(" Данный параметр позволяет настроить скидку при покупке товаров в магазине в "),createBaseVNode("span",{class:normalizeClass(["text-primary",{"fw-bold":t.promoCodeForm.config.discount_in_percent}])},"%",2),createTextVNode(" или в "),createBaseVNode("span",{class:normalizeClass(["text-primary",{"fw-bold":!t.promoCodeForm.config.discount_in_percent}])},"рублях",2)]),createBaseVNode("div",_hoisted_10$t,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=i=>t.promoCodeForm.config.discount_in_percent=i),type:"checkbox",role:"switch",id:"discount_in_percent"},null,512),[[vModelCheckbox,t.promoCodeForm.config.discount_in_percent]]),_hoisted_11$q]),t.promoCodeForm.config.discount_in_percent?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$q,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"1","onUpdate:modelValue":s[5]||(s[5]=i=>t.promoCodeForm.cashback_amount=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.promoCodeForm.cashback_amount]]),_hoisted_13$m])),t.promoCodeForm.config.discount_in_percent?(openBlock(),createElementBlock("div",_hoisted_14$m,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"1",max:"100","onUpdate:modelValue":s[6]||(s[6]=i=>t.promoCodeForm.cashback_amount=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.promoCodeForm.cashback_amount]]),_hoisted_15$m])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$n,[withDirectives(createBaseVNode("input",{type:"number",step:"1",min:"0","onUpdate:modelValue":s[7]||(s[7]=i=>t.promoCodeForm.activate_price=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.promoCodeForm.activate_price]]),_hoisted_17$l]),createBaseVNode("div",_hoisted_18$l,[withDirectives(createBaseVNode("input",{type:"datetime-local","onUpdate:modelValue":s[8]||(s[8]=i=>t.promoCodeForm.available_to=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.promoCodeForm.available_to]]),_hoisted_19$k]),createBaseVNode("button",_hoisted_20$k,[t.promoCodeForm.id==null?(openBlock(),createElementBlock("span",_hoisted_21$j,"Создать промокод")):(openBlock(),createElementBlock("span",_hoisted_22$j,"Обновить промокод"))])],32))}}),_hoisted_1$C={class:"row"},_hoisted_2$C={class:"col-12"},_hoisted_3$C={class:"input-group mb-2"},_hoisted_4$A={class:"form-floating"},_hoisted_5$A=createBaseVNode("label",{for:"floatingInput"},"Поиск промокода",-1),_hoisted_6$A={class:"row"},_hoisted_7$A={class:"col-12"},_hoisted_8$w={class:"form-floating"},_hoisted_9$u=createStaticVNode('<option value="id">По номеру</option><option value="code">Код</option><option value="description">Описание</option><option value="cashback_amount">Сумма скидки</option><option value="is_active">Активные</option><option value="max_activation_count">Максимальное число активаций </option><option value="updated_at">По дате обновления</option>',7),_hoisted_16$m=[_hoisted_9$u],_hoisted_17$k=createBaseVNode("label",{for:"floatingSelect"},"Тип сортировки",-1),_hoisted_18$k={key:0,class:"mb-2"},_hoisted_19$j=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_20$j=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_21$i={key:0,class:"row row-cols-1"},_hoisted_22$i={class:"col mb-2"},_hoisted_23$h={class:"card"},_hoisted_24$g={class:"card-header d-flex justify-content-between align-items-center bg-transparent"},_hoisted_25$g={key:0,class:"fa-solid fa-chevron-down text-success"},_hoisted_26$e={key:1,class:"fa-solid fa-xmark text-danger"},_hoisted_27$e=["data-bs-target"],_hoisted_28$d={class:"card-body"},_hoisted_29$c=["onClick"],_hoisted_30$c={class:"card-text mb-2 fst-italic"},_hoisted_31$c={class:"card-text mb-0 d-flex justify-content-between"},_hoisted_32$c={class:"fw-bold"},_hoisted_33$c={key:0},_hoisted_34$c={key:1},_hoisted_35$c={class:"fw-bold"},_hoisted_36$c=["id"],_hoisted_37$c={class:"modal-dialog modal-dialog-centered"},_hoisted_38$b={class:"modal-content"},_hoisted_39$b=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Удаление промокода"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_40$a={class:"modal-body"},_hoisted_41$a={class:"d-flex justify-content-center w-100 flex-row-reverse"},_hoisted_42$a=createBaseVNode("button",{type:"button",class:"btn btn-secondary ml-2","data-bs-dismiss":"modal"},"Нет, отменить",-1),_hoisted_43$a=["onClick"],_hoisted_44$a={key:1},_hoisted_45$a=createBaseVNode("div",{class:"alert alert-warning alert-dismissible fade show mb-2",role:"alert"},[createBaseVNode("strong",null,"Внимание!"),createTextVNode(" Вы еще не добавили ни одного промокода! "),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})],-1),_hoisted_46$a={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},_hoisted_47$9={class:"d-flex justify-content-center mb-3"},_hoisted_48$9={alt:"",width:"100",height:"100"},_hoisted_49$9=createBaseVNode("h1",{class:"text-body-emphasis"},"Создание промокода",-1),_hoisted_50$9=createBaseVNode("p",{class:"col-lg-8 mx-auto fs-6 text-muted"}," Промокод - это инструмент мотивации пользователей пользоваться вашим сервисом. Он позволяет клиентам получать некоторые бонусы за активацию кода, а вы в свою очередь будете видеть статистику активация прмокода. ",-1),_hoisted_51$9={class:"row"},_hoisted_52$9={class:"col-12"},__default__$o={data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,codes:[],search:null,paginate_object:null}},computed:{...mapGetters(["getSelf","getPromoCodes","getPromoCodesPaginateObject"]),bot(){return window.currentBot}},mounted(){this.loadPromoCodes()},methods:{changeDirection(o){this.direction=o,this.loadPromoCodes(0)},removeCode(o){this.loading=!0,this.$store.dispatch("removePromoCodes",{promoCodeId:o}).then(t=>{this.loading=!1,this.loadPromoCodes(0),this.$notify({type:"success",text:"Промокод успешно удален"}),document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click())}).catch(()=>{this.loading=!1,this.$notify({type:"error",text:"Ошибка удаления промокода"})})},createPromoCode(){this.$emit("create")},nextPromoCodes(o){this.loadPromoCodes(o)},selectEvent(o){this.$emit("select",o)},loadPromoCodes(o=0){this.loading=!0,this.$store.dispatch("loadPromoCodes",{dataObject:{bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:o,size:20}).then(t=>{this.loading=!1,this.codes=this.getPromoCodes,this.paginate_object=this.getPromoCodesPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$C=Object.assign(__default__$o,{__name:"PromoCodesList",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$C,[createBaseVNode("div",_hoisted_3$C,[createBaseVNode("div",_hoisted_4$A,[withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=a=>t.search=a),class:"form-control border-light",id:"floatingInput",placeholder:"name@example.com"},null,512),[[vModelText,t.search]]),_hoisted_5$A]),createBaseVNode("button",{class:"btn btn-outline-light text-secondary",onClick:s[1]||(s[1]=a=>t.loadPromoCodes(0)),type:"button",id:"promocode-search-and-filter"},"Найти ")])])]),createBaseVNode("div",_hoisted_6$A,[createBaseVNode("div",_hoisted_7$A,[createBaseVNode("div",_hoisted_8$w,[t.order?(openBlock(),createElementBlock("select",{key:0,class:"form-select",onChange:s[2]||(s[2]=a=>t.loadPromoCodes(0)),id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_16$m,32)):createCommentVNode("",!0),_hoisted_17$k]),t.order!=null?(openBlock(),createElementBlock("p",_hoisted_18$k,[createTextVNode("Направление сортировки: "),t.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:s[3]||(s[3]=a=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_19$j])):createCommentVNode("",!0),t.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:s[4]||(s[4]=a=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_20$j])):createCommentVNode("",!0)])):createCommentVNode("",!0)])]),t.codes.length>0?(openBlock(),createElementBlock("div",_hoisted_21$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.codes,(a,n)=>{var r,l;return openBlock(),createElementBlock("div",_hoisted_22$i,[createBaseVNode("div",_hoisted_23$h,[createBaseVNode("div",_hoisted_24$g,[createBaseVNode("span",null,[a.is_active?(openBlock(),createElementBlock("i",_hoisted_25$g)):(openBlock(),createElementBlock("i",_hoisted_26$e)),createTextVNode(" #"+toDisplayString(a.id),1)]),a.deleted_at==null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#remove-promo-modal"+n,style:{"font-size":"12px"},class:"btn btn-link"}," Удалить ",8,_hoisted_27$e)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(a.current_activation_count||0)+" / "+toDisplayString(a.max_activation_count),1)]),createBaseVNode("div",_hoisted_28$d,[createBaseVNode("h5",{onClick:d=>t.selectEvent(a),class:"card-title fw-bold"},toDisplayString(a.code||"Не указано"),9,_hoisted_29$c),createBaseVNode("p",_hoisted_30$c,toDisplayString(a.description||"Не указано"),1),createBaseVNode("p",_hoisted_31$c,[createBaseVNode("span",null,[createTextVNode(" Скидка:"),createBaseVNode("strong",_hoisted_32$c,[createTextVNode("-"+toDisplayString(a.cashback_amount||0)+" ",1),(r=a.config)!=null&&r.discount_in_percent?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_33$c,"руб")),(l=a.config)!=null&&l.discount_in_percent?(openBlock(),createElementBlock("span",_hoisted_34$c,"%")):createCommentVNode("",!0)])]),createBaseVNode("span",null,[createTextVNode("Активация от: "),createBaseVNode("strong",_hoisted_35$c,toDisplayString(a.activate_price||0)+" руб",1)])])])]),createBaseVNode("div",{class:"modal fade",id:"remove-promo-modal"+n,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_37$c,[createBaseVNode("div",_hoisted_38$b,[_hoisted_39$b,createBaseVNode("div",_hoisted_40$a,[createBaseVNode("p",null,"Вы действительно хотите удалить "+toDisplayString(a.code||a.id||"этот промокод")+"?",1),createBaseVNode("div",_hoisted_41$a,[_hoisted_42$a,createBaseVNode("button",{type:"button",onClick:d=>t.removeCode(a.id),class:"btn btn-primary"},"Да, удалить",8,_hoisted_43$a)])])])])],8,_hoisted_36$c)])}),256))])):(openBlock(),createElementBlock("div",_hoisted_44$a,[_hoisted_45$a,createBaseVNode("div",_hoisted_46$a,[createBaseVNode("div",_hoisted_47$9,[withDirectives(createBaseVNode("img",_hoisted_48$9,null,512),[[i,"/images/icon.png"]])]),_hoisted_49$9,_hoisted_50$9])])),createBaseVNode("div",_hoisted_51$9,[createBaseVNode("div",_hoisted_52$9,[t.paginate_object&&t.codes.length>0?(openBlock(),createBlock(Pagination$2,{key:0,onPagination_page:t.nextPromoCodes,pagination:t.paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])])],64)}}}),_hoisted_1$B={class:"container py-2"},_hoisted_2$B={class:"modal fade",id:"promocode-form",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_3$B={class:"modal-dialog modal-fullscreen"},_hoisted_4$z={class:"modal-content"},_hoisted_5$z=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_6$z={class:"modal-body"},_hoisted_7$z={class:"col-12"},_hoisted_8$v={class:"fixed-footer p-3"},__default__$n={props:["bot"],data(){return{part:0,tab:0,promocodeFormModal:null,selectedPromoCode:null,loadForm:!1,loadTable:!1}},computed:{tg(){return window.Telegram.WebApp}},mounted(){this.promocodeFormModal=new bootstrap.Modal("#promocode-form",{}),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{callbackForm(){this.loadTable=!0,this.selectedPromoCode=null,this.promocodeFormModal.hide(),this.$nextTick(()=>{this.loadTable=!1})},createPromoCode(){this.selectedPromoCode=null,this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.promocodeFormModal.show()})},selectPromoCode(o){this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.selectedPromoCode=o,this.promocodeFormModal.show()})}}},_sfc_main$B=Object.assign(__default__$n,{__name:"Promocodes",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$B,[t.loadTable?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$C,{key:0,onCreate:t.createPromoCode,onSelect:t.selectPromoCode,bot:o.bot},null,8,["onCreate","onSelect","bot"]))]),createBaseVNode("div",_hoisted_2$B,[createBaseVNode("div",_hoisted_3$B,[createBaseVNode("div",_hoisted_4$z,[_hoisted_5$z,createBaseVNode("div",_hoisted_6$z,[createBaseVNode("div",_hoisted_7$z,[t.loadForm?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$D,{key:0,onCallback:t.callbackForm,code:t.selectedPromoCode},null,8,["onCallback","code"]))])])])])]),createBaseVNode("div",_hoisted_8$v,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=(...i)=>t.createPromoCode&&t.createPromoCode(...i)),class:"btn btn-primary w-100 p-3"}," Создать новый промокод ")])],64))}}),Promocodes=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$B},Symbol.toStringTag,{value:"Module"})),PagePassword_vue_vue_type_style_index_0_lang="",_sfc_main$A={name:"App",data(){return{spent_time_counter:0,is_requested:!1,passwordForm:{password:null,page_id:null}}},computed:{tg(){return window.Telegram.WebApp}},mounted(){const o=new URLSearchParams(window.location.search);this.passwordForm.page_id=JSON.parse(o.get("page_id"))||null,localStorage.getItem("cashman_password_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_password_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_password_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.$store.dispatch("activatePassword",{passwordForm:this.passwordForm}).then(o=>{this.$notify({title:"Пароль страницы",text:"Пароль страницы успешно активирован!",type:"success"}),this.passwordForm.password=null,this.tg.close()}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка активации пароля!",type:"error"})})}}},_hoisted_1$A={class:"container py-3"},_hoisted_2$A={class:"row"},_hoisted_3$A={class:"col-12"},_hoisted_4$y={class:"card"},_hoisted_5$y={class:"card-body"},_hoisted_6$y=createBaseVNode("h5",{class:"text-center fw-bold my-3"},"Приветствуем!",-1),_hoisted_7$y=createBaseVNode("p",{class:"text-center fst-italic"}," У вас есть пароль от данной страницы? Отлично! Активируйте его прямо сейчас и наслаждайтесь эксклюзивными преимуществами! ",-1),_hoisted_8$u={class:"form-floating mb-3"},_hoisted_9$t=createBaseVNode("label",{for:"floatingInput"},[createBaseVNode("i",{class:"input-icon fa-solid fa-terminal"}),createTextVNode(" Ваш пароль")],-1),_hoisted_10$s=["disabled"],_hoisted_11$p={key:0,class:"color-white"},_hoisted_12$p={key:1,class:"color-white"};function _sfc_render$d(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("div",_hoisted_2$A,[createBaseVNode("div",_hoisted_3$A,[createBaseVNode("div",_hoisted_4$y,[createBaseVNode("div",_hoisted_5$y,[_hoisted_6$y,_hoisted_7$y,createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...r)=>n.submit&&n.submit(...r),["prevent"]))},[createBaseVNode("div",_hoisted_8$u,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a.passwordForm.password=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,a.passwordForm.password]]),_hoisted_9$t]),createBaseVNode("button",{type:"submit",disabled:a.spent_time_counter>0,class:"btn w-100 btn-primary mb-2 p-3"},[a.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_11$p,"Активировать пароль")):(openBlock(),createElementBlock("span",_hoisted_12$p,"Осталось ждать "+toDisplayString(a.spent_time_counter)+" сек.",1))],8,_hoisted_10$s)],32)])])])])])}const PagePasswordV2=_export_sfc(_sfc_main$A,[["render",_sfc_render$d]]),PagePassword=Object.freeze(Object.defineProperty({__proto__:null,default:PagePasswordV2},Symbol.toStringTag,{value:"Module"})),InstaQuest_vue_vue_type_style_index_0_scoped_5f02037e_lang="",_sfc_main$z={name:"App",data(){return{rules:null,sending:!1,action:null,photo:null,hasProfileData:!1,instaForm:{comment:null,name:null,phone:null}}},computed:{canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.loadServiceData().then(()=>{this.prepareUserData()})},methods:{lose(){this.$notify({title:"Упс!",text:"Вы израсходовали все попытки!",type:"error"})},prepareUserData(){return this.$store.dispatch("instagramQuestPrepare").then(o=>{this.action=o.action,this.canPlay||this.$notify({title:"Упс!",text:"Вы израсходовали все попытки!",type:"error"})})},loadServiceData(){return this.$store.dispatch("instagramQuestLoadData").then(o=>{this.rules=o.rules})},removePhoto(){this.photo=null},getPhoto(){return{imageUrl:URL.createObjectURL(this.photo)}},onChangePhotos(o){const t=o.target.files;this.photo=t[0]},callbackPlayerForm(o){this.instaForm={...this.instaForm,...o},this.hasProfileData=!0},submit(){let o=new FormData;Object.keys(this.instaForm).forEach(t=>{const s=this.instaForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),o.append("photo",this.photo),this.$store.dispatch("instagramQuestResult",{instaForm:o}).then(t=>{this.sending=!1,this.instaForm={comment:null,name:null,phone:null},this.photo=null,this.hasProfileData=!1,this.$notify({title:"Вы выиграли!",text:"Наш менеджер свяжется с вами для дальнейших инструкций.",type:"success"}),setTimeout(()=>{this.prepareUserData()},5e3)}).catch(t=>{})}}},_withScopeId$2=o=>(pushScopeId("data-v-5f02037e"),o=o(),popScopeId(),o),_hoisted_1$z={class:"container py-3"},_hoisted_2$z={class:"row"},_hoisted_3$z={class:"col-12"},_hoisted_4$x=_withScopeId$2(()=>createBaseVNode("h4",null,"Правила данного задания",-1)),_hoisted_5$x={key:0,class:"alert-light alert"},_hoisted_6$x={key:1,class:"alert-light alert"},_hoisted_7$x={key:2,class:"text-center"},_hoisted_8$t={class:"fw-bold text-primary"},_hoisted_9$s={class:"fw-bold text-primary"},_hoisted_10$r={key:4,class:"card"},_hoisted_11$o={class:"card-body"},_hoisted_12$o={key:0,for:"photos",style:{"font-size":"14px","min-height":"300px"},class:"photo-loader my-2 d-flex justify-content-center align-items-center flex-column text-center w-100"},_hoisted_13$l=_withScopeId$2(()=>createBaseVNode("i",{class:"fa-brands fa-instagram text-primary"},null,-1)),_hoisted_14$l=_withScopeId$2(()=>createBaseVNode("p",{class:"mt-3 font-16 text-primary"}," Нажмите для выбора фотографии",-1)),_hoisted_15$l={key:1,style:{"font-size":"14px","min-height":"300px"},class:"img-preview w-100 overflow-hidden my-2"},_hoisted_16$l={class:"w-100 object-fit-cover"},_hoisted_17$j={class:"remove"},_hoisted_18$j=_withScopeId$2(()=>createBaseVNode("i",{class:"fa-regular fa-trash-can mr-2 text-primary"},null,-1));function _sfc_render$c(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("div",_hoisted_2$z,[createBaseVNode("div",_hoisted_3$z,[_hoisted_4$x,a.rules?(openBlock(),createElementBlock("p",_hoisted_5$x,toDisplayString(a.rules),1)):(openBlock(),createElementBlock("p",_hoisted_6$x," Вам необходима загрузить скриншот из социальной сети, на котором видно что вы поделились нашим рекламным банером и он находился у вас на странице какое-то время. ")),n.canPlay?(openBlock(),createElementBlock("p",_hoisted_7$x,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",_hoisted_8$t,toDisplayString(a.action.current_attempts||0),1),createTextVNode(" из "),createBaseVNode("strong",_hoisted_9$s,toDisplayString(a.action.max_attempts||1),1)])):(openBlock(),createElementBlock("p",{key:3,onClick:t[0]||(t[0]=(...l)=>n.lose&&n.lose(...l)),class:"alert alert-light text-center fw-bold text-danger"},"Вы израсходовали все ваши попытки")),n.canPlay?(openBlock(),createElementBlock("div",_hoisted_10$r,[createBaseVNode("div",_hoisted_11$o,[a.photo?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_12$o,[_hoisted_13$l,createBaseVNode("input",{type:"file",id:"photos",accept:"image/*",onChange:t[1]||(t[1]=(...l)=>n.onChangePhotos&&n.onChangePhotos(...l)),style:{display:"none"}},null,32),_hoisted_14$l])),a.photo?(openBlock(),createElementBlock("div",_hoisted_15$l,[withDirectives(createBaseVNode("img",_hoisted_16$l,null,512),[[r,n.getPhoto().imageUrl]]),createBaseVNode("div",_hoisted_17$j,[createBaseVNode("a",{onClick:t[2]||(t[2]=(...l)=>n.removePhoto&&n.removePhoto(...l)),class:"btn btn-outline-light rounded-5 p-3 shadow-s"},[_hoisted_18$j,createTextVNode(" Удалить фото")])])])):createCommentVNode("",!0),a.photo?(openBlock(),createElementBlock("button",{key:2,onClick:t[3]||(t[3]=(...l)=>n.submit&&n.submit(...l)),type:"button",class:"btn btn-primary p-3 w-100"}," Получить приз ")):createCommentVNode("",!0)])])):createCommentVNode("",!0)])])])}const InstaQuestV2=_export_sfc(_sfc_main$z,[["render",_sfc_render$c],["__scopeId","data-v-5f02037e"]]),InstaQuest=Object.freeze(Object.defineProperty({__proto__:null,default:InstaQuestV2},Symbol.toStringTag,{value:"Module"})),FriendsGame_vue_vue_type_style_index_0_lang="",_sfc_main$y={name:"App",data(){return{action:null,settings:{image:null,rules:null},friendsForm:{friends_invite:0,current_friends:0,needed_friends:0,friends_on_start:0,start_at:null,complete_at:null}}},computed:{currentBot(){return window.currentBot},progress(){let o=this.friendsForm.needed_friends||0,t=this.friendsForm.current_friends||0,s=this.friendsForm.friends_on_start||0;return(t-s)/(o-s)*100}},mounted(){this.prepareUserData()},methods:{start(){this.$store.dispatch("friendsGameStart").then(o=>{this.prepareUserData(),this.$notify({title:"Отлично!",text:"гра началась! Поехали приглашать друзей!",type:"success"})}).catch(()=>{this.$notify({title:"Упс!",text:"Игра почему-то не началась...",type:"error"})})},complete(){this.$store.dispatch("friendsGameFinish").then(o=>{this.prepareUserData(),this.$notify({title:"Отлично!",text:"гра началась! Спасибо за участие в задании, скоро вы получите свои бонусы!",type:"success"})}).catch(()=>{this.$notify({title:"Упс!",text:"Мы не можем закончить это задание....",type:"error"})})},lose(){this.$notify({title:"Упс!",text:"Вы израсходовали все попытки!",type:"error"})},prepareUserData(){return this.$store.dispatch("friendsGamePrepare").then(o=>{this.action=o.action,this.settings.rules=o.rules||null,this.settings.image=o.image||null,this.action.data&&(this.friendsForm.current_friends=this.action.data.current_friends||0,this.friendsForm.needed_friends=this.action.data.needed_friends||0,this.friendsForm.friends_invite=this.action.data.friends_invite||0,this.friendsForm.friends_on_start=this.action.data.friends_on_start||0,this.friendsForm.start_at=this.action.data.start_at||null,this.friendsForm.complete_at=this.action.data.complete_at||null)})}}},_hoisted_1$y={class:"container py-2"},_hoisted_2$y={class:"row"},_hoisted_3$y={class:"col-12"},_hoisted_4$w={class:"d-flex justify-content-center"},_hoisted_5$w={class:"img-avatar"},_hoisted_6$w={class:"alert-light alert"},_hoisted_7$w=["innerHTML"],_hoisted_8$s={class:"col-12"},_hoisted_9$r={key:0,class:"card"},_hoisted_10$q={class:"card-body"},_hoisted_11$n={class:"text-center mb-2"},_hoisted_12$n={class:"fw-bold text-primary"},_hoisted_13$k={class:"fw-bold text-primary"},_hoisted_14$k={class:"text-center mb-2"},_hoisted_15$k={class:"fw-bold text-primary"},_hoisted_16$k={class:"mb-2 text-center"},_hoisted_17$i={class:"fw-bold text-primary"},_hoisted_18$i={class:"progress w-100",style:{height:"40px","border-radius":"25px"},role:"progressbar","aria-label":"Basic example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},_hoisted_19$i=createBaseVNode("p",{class:"my-2"},[createTextVNode("Когда полоска вашего прогресса достигнет "),createBaseVNode("strong",{class:"fw-bold text-primary"},"100%"),createTextVNode(" вы сможете получить свои бонусы!")],-1),_hoisted_20$i={key:1},_hoisted_21$h={key:2,class:"card mt-3"},_hoisted_22$h={class:"card-body"},_hoisted_23$g={key:0,class:"mt-2 mb-0"},_hoisted_24$f={class:"fw-bold text-primary"},_hoisted_25$f={key:1,class:"mt-2 mb-2"},_hoisted_26$d={class:"fw-bold text-primary"},_hoisted_27$d=["disabled"];function _sfc_render$b(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$y,[createBaseVNode("div",_hoisted_2$y,[createBaseVNode("div",_hoisted_3$y,[createBaseVNode("div",_hoisted_4$w,[createBaseVNode("div",_hoisted_5$w,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("p",_hoisted_6$w,[createTextVNode(" Перед началом квеста нажмите кнопку «Начать». Затем перейдите в главное меню Бота и нажмите кнопку «Пригласить Друзей/Подруг». Там вы найдете свою реферальную ссылку, которую легко можно отправить тем, кого хотели бы пригласить в наш Бот. Для выполнения квеста нужно пригласить "),createBaseVNode("strong",null,toDisplayString((a.friendsForm.needed_friends||0)-(a.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей/подруг , которые активируют нашего бота по вашей реферальной ссылке. ")]),a.settings.rules?(openBlock(),createElementBlock("p",{key:0,class:"alert-light alert",innerHTML:a.settings.rules},null,8,_hoisted_7$w)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$s,[a.friendsForm.start_at!=null?(openBlock(),createElementBlock("div",_hoisted_9$r,[createBaseVNode("div",_hoisted_10$q,[createBaseVNode("p",_hoisted_11$n,[createTextVNode("У вас сейчас "),createBaseVNode("strong",_hoisted_12$n,toDisplayString(a.friendsForm.friends_invite||0),1),createTextVNode(" / "),createBaseVNode("strong",_hoisted_13$k,toDisplayString((a.friendsForm.needed_friends||0)-(a.friendsForm.friends_on_start||0)),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_14$k,[createTextVNode("По заданию приглашено "),createBaseVNode("strong",_hoisted_15$k,toDisplayString(a.friendsForm.friends_invite||0),1),createTextVNode(" друзей")]),createBaseVNode("p",_hoisted_16$k,[createTextVNode("Текущий прогресс "),createBaseVNode("strong",_hoisted_17$i,toDisplayString(n.progress)+"%",1)]),createBaseVNode("div",_hoisted_18$i,[createBaseVNode("div",{class:"progress-bar bg-success progress-bar-striped",style:normalizeStyle({width:n.progress+"%"})},toDisplayString(n.progress.toFixed(2))+"% ",5)]),_hoisted_19$i])])):createCommentVNode("",!0),a.friendsForm.start_at==null?(openBlock(),createElementBlock("div",_hoisted_20$i,[a.friendsForm.complete_at==null&&a.friendsForm.start_at==null?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn w-100 btn-success p-3",onClick:t[0]||(t[0]=(...l)=>n.start&&n.start(...l))},"Приступить к заданию")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_21$h,[createBaseVNode("div",_hoisted_22$h,[a.friendsForm.start_at!=null?(openBlock(),createElementBlock("p",_hoisted_23$g,[createTextVNode("Задание начато "),createBaseVNode("strong",_hoisted_24$f,toDisplayString(a.friendsForm.start_at),1)])):createCommentVNode("",!0),a.friendsForm.complete_at!=null?(openBlock(),createElementBlock("p",_hoisted_25$f,[createTextVNode("Задание завершено "),createBaseVNode("strong",_hoisted_26$d,toDisplayString(a.friendsForm.complete_at),1)])):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=(...l)=>n.complete&&n.complete(...l)),disabled:n.progress<100||a.friendsForm.complete_at!=null||a.friendsForm.start_at==null,class:"btn btn-primary p-3 w-100"},"Получить награды",8,_hoisted_27$d)])]))])])])}const FriendsGameV2=_export_sfc(_sfc_main$y,[["render",_sfc_render$b]]),FriendsGame=Object.freeze(Object.defineProperty({__proto__:null,default:FriendsGameV2},Symbol.toStringTag,{value:"Module"})),PromoCode_vue_vue_type_style_index_0_lang="",_sfc_main$x={name:"App",data(){return{spent_time_counter:0,is_requested:!1,promocodeForm:{code:null}}},mounted(){localStorage.getItem("cashman_promocode_activate_counter")!=null&&(this.is_requested=!0,this.startTimer(localStorage.getItem("cashman_promocode_activate_counter")))},methods:{startTimer(o){this.spent_time_counter=o!=null?Math.min(o,10):10;let t=setInterval(()=>{this.spent_time_counter>0?this.spent_time_counter--:(clearInterval(t),this.is_requested=!1,this.spent_time_counter=null),localStorage.setItem("cashman_promocode_activate_counter",this.spent_time_counter)},1e3)},submit(){this.startTimer(),this.$store.dispatch("activatePromocode",{promocodeForm:this.promocodeForm}).then(o=>{this.$notify({title:"Промокод",text:"Промокод успешно активирован!",type:"success"}),this.promocodeForm.code=null}).catch(()=>{this.$notify({title:"Упс!",text:"Ошибка активации промокода!",type:"error"})})}}},_hoisted_1$x={class:"container py-3"},_hoisted_2$x={class:"row"},_hoisted_3$x={class:"col-12"},_hoisted_4$v={class:"card"},_hoisted_5$v={class:"card-body"},_hoisted_6$v=createBaseVNode("h5",{class:"text-center fw-bold my-3"},"Приветствуем!",-1),_hoisted_7$v=createBaseVNode("p",{class:"text-center fst-italic"}," У вас есть промокод? Отлично! Активируйте его прямо сейчас и наслаждайтесь эксклюзивными преимуществами! ",-1),_hoisted_8$r={class:"form-floating mb-3"},_hoisted_9$q=createBaseVNode("label",{for:"floatingInput"},[createBaseVNode("i",{class:"input-icon fa-solid fa-terminal"}),createTextVNode(" Ваш промокод")],-1),_hoisted_10$p=["disabled"],_hoisted_11$m={key:0,class:"color-white"},_hoisted_12$m={key:1,class:"color-white"};function _sfc_render$a(o,t,s,i,a,n){return openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$x,[createBaseVNode("div",_hoisted_3$x,[createBaseVNode("div",_hoisted_4$v,[createBaseVNode("div",_hoisted_5$v,[_hoisted_6$v,_hoisted_7$v,createBaseVNode("form",{onSubmit:t[1]||(t[1]=withModifiers((...r)=>n.submit&&n.submit(...r),["prevent"]))},[createBaseVNode("div",_hoisted_8$r,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a.promocodeForm.code=r),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,a.promocodeForm.code]]),_hoisted_9$q]),createBaseVNode("button",{type:"submit",disabled:a.spent_time_counter>0,class:"btn w-100 btn-primary mb-2 p-3"},[a.spent_time_counter<=0?(openBlock(),createElementBlock("span",_hoisted_11$m,"Активировать промокод")):(openBlock(),createElementBlock("span",_hoisted_12$m,"Осталось ждать "+toDisplayString(a.spent_time_counter)+" сек.",1))],8,_hoisted_10$p)],32)])])])])])}const PromoCodeFormV2=_export_sfc(_sfc_main$x,[["render",_sfc_render$a]]),PromoCode=Object.freeze(Object.defineProperty({__proto__:null,default:PromoCodeFormV2},Symbol.toStringTag,{value:"Module"})),VipProfileV1_vue_vue_type_style_index_0_scoped_34398d4c_lang="",_sfc_main$w={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.$nextTick(()=>{this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0}}),this.loadCashBackModuleData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(s=>s.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(s=>{if(s.is_active){let i=this.getUserFieldValue(s.id),a=i.value,n=i.config;this.vipForm.fields.push({id:s.id,title:s.label,description:s.description,key:s.key,value:s.type===2?a==="1":a,type:s.type,pattern:s.pattern,required:s.required,config:n})}})})},nextStep(){this.step++},loadCashBackModuleData(){this.loading=!0,this.$store.dispatch("loadCashBackModuleData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveVip",{...this.vipForm}).then(o=>{this.loading=!1,this.$notify({title:"Отлично!",text:"Вы успешно заполнили форму и стали наши VIP-пользователем!",type:"success"}),this.tg.close()}).catch(()=>{this.loading=!1,this.$notify({title:"Упс!",text:"Ошибка заполнения формы!",type:"error"})})}}},_withScopeId$1=o=>(pushScopeId("data-v-34398d4c"),o=o(),popScopeId(),o),_hoisted_1$w={key:0,class:"container py-3"},_hoisted_2$w={class:"row"},_hoisted_3$w={key:0,class:"col-12"},_hoisted_4$u={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_5$u={class:"img-avatar"},_hoisted_6$u={class:"col-12"},_hoisted_7$u=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимущества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_8$q=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Как мне к Вам обращаться?",-1)),_hoisted_9$p={class:"form-floating"},_hoisted_10$o=_withScopeId$1(()=>createBaseVNode("label",{for:"vipForm-name"},"Ф.И.О.",-1)),_hoisted_11$l={class:"col-12"},_hoisted_12$l={key:0,class:"mb-3"},_hoisted_13$j=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Введите свой номер телефона",-1)),_hoisted_14$j={class:"form-floating"},_hoisted_15$j=_withScopeId$1(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_16$j={key:0,class:"col-12"},_hoisted_17$h=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_18$h=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Вы мужчина или женщина?",-1)),_hoisted_19$h={class:"row mb-2"},_hoisted_20$h={class:"col-6"},_hoisted_21$g=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_22$g=_withScopeId$1(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_23$f=[_hoisted_21$g,_hoisted_22$g],_hoisted_24$e={class:"col-6"},_hoisted_25$e=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_26$c=_withScopeId$1(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_27$c=[_hoisted_25$e,_hoisted_26$c],_hoisted_28$c={key:1,class:"col-12"},_hoisted_29$b=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),_hoisted_30$b=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Введите свой день рождения",-1)),_hoisted_31$b={class:"form-floating"},_hoisted_32$b=_withScopeId$1(()=>createBaseVNode("label",{for:"vipForm-phone"},"Дата рождения",-1)),_hoisted_33$b={key:2,class:"col-12"},_hoisted_34$b=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_35$b=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Какой у Вас город?",-1)),_hoisted_36$b={class:"form-floating"},_hoisted_37$b=_withScopeId$1(()=>createBaseVNode("label",{for:"vipForm-city"},"Город проживания",-1)),_hoisted_38$a={class:"col-12"},_hoisted_39$a={key:0},_hoisted_40$9={class:"text-center my-3"},_hoisted_41$9={key:0,class:"form-floating"},_hoisted_42$9=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_43$9=["for"],_hoisted_44$9={key:1,class:"row mb-2"},_hoisted_45$9={class:"col-6"},_hoisted_46$9=["onClick"],_hoisted_47$8=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_48$8=_withScopeId$1(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_49$8=[_hoisted_47$8,_hoisted_48$8],_hoisted_50$8={class:"col-6"},_hoisted_51$8=["onClick"],_hoisted_52$8=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_53$8=_withScopeId$1(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_54$8=[_hoisted_52$8,_hoisted_53$8],_hoisted_55$8={class:"col-12"},_hoisted_56$8=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_57$8=_withScopeId$1(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_58$8={class:"d-flex mb-3"},_hoisted_59$8={class:"form-check form-switch"},_hoisted_60$5={class:"form-check-label",for:"toggle-id-1"},_hoisted_61$5={key:0},_hoisted_62$5={key:1},_hoisted_63$5=["disabled"],_hoisted_64$5={key:1,class:"col-12"},_hoisted_65$5={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_66$5={class:"img-avatar"},_hoisted_67$5={class:"col-12"},_hoisted_68$5=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,[createTextVNode("Приветствую Вас, "),createBaseVNode("strong",null,"Дорогой друг!"),createTextVNode(" Я хочу поздравить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),_hoisted_69$5=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Как мне к Вам обращаться?",-1)),_hoisted_70$5={class:"form-floating"},_hoisted_71$5=_withScopeId$1(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_72$4={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_73$4={class:"img-avatar"},_hoisted_74$4={class:"col-12"},_hoisted_75$4={class:"mb-3"},_hoisted_76$4=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Введите свой номер телефона",-1)),_hoisted_77$4={class:"form-floating"},_hoisted_78$4=_withScopeId$1(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_79$3=_withScopeId$1(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_80$3={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_81$3={class:"img-avatar"},_hoisted_82$3={class:"col-12"},_hoisted_83$3=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),_hoisted_84$1=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Ты мужчина или женщина?",-1)),_hoisted_85$1={class:"row mb-2"},_hoisted_86$1={class:"col-6"},_hoisted_87$1=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_88$1=_withScopeId$1(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_89$1=[_hoisted_87$1,_hoisted_88$1],_hoisted_90$1={class:"col-6"},_hoisted_91$1=_withScopeId$1(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_92$1=_withScopeId$1(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_93$1=[_hoisted_91$1,_hoisted_92$1],_hoisted_94$1=_withScopeId$1(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_95$1={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_96$1={class:"img-avatar"},_hoisted_97$1={class:"col-12"},_hoisted_98$1=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),_hoisted_99$1=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Какой у Вас город?",-1)),_hoisted_100$1={class:"form-floating"},_hoisted_101$1=_withScopeId$1(()=>createBaseVNode("label",{for:"vipForm-city"},"Город проживания",-1)),_hoisted_102$1=_withScopeId$1(()=>createBaseVNode("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1)),_hoisted_103$1={class:"col-12 d-flex justify-content-center mb-3"},_hoisted_104$1={class:"img-avatar"},_hoisted_105$1={class:"col-12"},_hoisted_106$1=_withScopeId$1(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочитайте мои условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_107$1=_withScopeId$1(()=>createBaseVNode("h6",{class:"text-center my-3"},"Последний шаг",-1)),_hoisted_108$1=_withScopeId$1(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_109$1={class:"d-flex mb-3"},_hoisted_110$1={class:"pt-1"},_hoisted_111$1={"data-activate":"toggle-id-1",class:"font-500 font-13"},_hoisted_112$1={key:0},_hoisted_113$1={key:1},_hoisted_114$1={class:"ml-auto mr-4 pr-2"},_hoisted_115$1={class:"custom-control ios-switch"},_hoisted_116$1=_withScopeId$1(()=>createBaseVNode("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),_hoisted_117$1=["disabled"],_hoisted_118$1={key:2,class:"col-12"},_hoisted_119$1={class:"card"},_hoisted_120$1={class:"card-body"},_hoisted_121$1=_withScopeId$1(()=>createBaseVNode("li",null,"Накопление CashBack за покупки",-1)),_hoisted_122$1=_withScopeId$1(()=>createBaseVNode("li",null,"Оплата товаров через CashBak",-1)),_hoisted_123$1=_withScopeId$1(()=>createBaseVNode("li",null,"Реферальная программа",-1)),_hoisted_124$1=_withScopeId$1(()=>createBaseVNode("h6",null,"Ваши данные:",-1)),_hoisted_125$1={class:"mb-0"},_hoisted_126$1={class:"mb-0"},_hoisted_127$1={class:"mb-0"},_hoisted_128$1={class:"mb-0"},_hoisted_129$1={class:"mb-0"},_hoisted_130$1={key:0},_hoisted_131$1={key:1};function _sfc_render$9(o,t,s,i,a,n){const r=resolveDirective("lazy"),l=resolveDirective("mask");return a.botUser?(openBlock(),createElementBlock("div",_hoisted_1$w,[createBaseVNode("div",_hoisted_2$w,[!a.botUser.is_vip&&a.settings.display_type==0?(openBlock(),createElementBlock("div",_hoisted_3$w,[createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...d)=>n.submit&&n.submit(...d),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_4$u,[createBaseVNode("div",_hoisted_5$u,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("div",_hoisted_6$u,[_hoisted_7$u,_hoisted_8$q,createBaseVNode("div",_hoisted_9$p,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[0]||(t[0]=d=>a.vipForm.name=d),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,a.vipForm.name]]),_hoisted_10$o])]),createBaseVNode("div",_hoisted_11$l,[a.vipForm.name?(openBlock(),createElementBlock("p",_hoisted_12$l,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(a.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):createCommentVNode("",!0),_hoisted_13$j,createBaseVNode("div",_hoisted_14$j,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=d=>a.vipForm.phone=d),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[l,"+7(###)###-##-##"],[vModelText,a.vipForm.phone]]),_hoisted_15$j])]),a.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_16$j,[_hoisted_17$h,_hoisted_18$h,createBaseVNode("div",_hoisted_19$h,[createBaseVNode("div",_hoisted_20$h,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":a.vipForm.sex},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:t[2]||(t[2]=d=>a.vipForm.sex=!0)},_hoisted_23$f,2)]),createBaseVNode("div",_hoisted_24$e,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":!a.vipForm.sex},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:t[3]||(t[3]=d=>a.vipForm.sex=!1)},_hoisted_27$c,2)])])])):createCommentVNode("",!0),a.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_28$c,[_hoisted_29$b,_hoisted_30$b,createBaseVNode("div",_hoisted_31$b,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center","onUpdate:modelValue":t[4]||(t[4]=d=>a.vipForm.birthday=d),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,a.vipForm.birthday]]),_hoisted_32$b])])):createCommentVNode("",!0),a.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_33$b,[_hoisted_34$b,_hoisted_35$b,createBaseVNode("div",_hoisted_36$b,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=d=>a.vipForm.city=d),class:"form-control text-center",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,a.vipForm.city]]),_hoisted_37$b])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.vipForm.fields,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_38$a,[a.settings[d.key]?(openBlock(),createElementBlock("div",_hoisted_39$a,[createBaseVNode("h6",_hoisted_40$9,toDisplayString(d.description),1),d.type===0||d.type===1?(openBlock(),createElementBlock("div",_hoisted_41$9,[withDirectives(createBaseVNode("input",{type:d.type===1?"number":"text","onUpdate:modelValue":_=>a.vipForm.fields[c].value=_,class:"form-control text-center",placeholder:d.title,pattern:a.vipForm.fields[c].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:a.vipForm.fields[c].required||!1},null,8,_hoisted_42$9),[[vModelDynamic,a.vipForm.fields[c].value]]),createBaseVNode("label",{for:"vipForm-field"+c},toDisplayString(d.title),9,_hoisted_43$9)])):createCommentVNode("",!0),d.type===2?(openBlock(),createElementBlock("div",_hoisted_44$9,[createBaseVNode("div",_hoisted_45$9,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":a.vipForm.fields[c].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:_=>a.vipForm.fields[c].value=!0},_hoisted_49$8,10,_hoisted_46$9)]),createBaseVNode("div",_hoisted_50$8,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":!a.vipForm.fields[c].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:_=>a.vipForm.fields[c].value=!1},_hoisted_54$8,10,_hoisted_51$8)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)),createBaseVNode("div",_hoisted_55$8,[_hoisted_56$8,_hoisted_57$8,createBaseVNode("div",_hoisted_58$8,[createBaseVNode("div",_hoisted_59$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[6]||(t[6]=d=>a.confirm=d),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[vModelCheckbox,a.confirm]]),createBaseVNode("label",_hoisted_60$5,[a.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_61$5,"С правилами ознакомилась")),a.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_62$5,"С правилами ознакомлен")):createCommentVNode("",!0)])])]),createBaseVNode("button",{type:"submit",disabled:!a.confirm||a.load,class:"btn btn-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_63$5)])],32)])):createCommentVNode("",!0),!a.botUser.is_vip&&a.settings.display_type==1?(openBlock(),createElementBlock("div",_hoisted_64$5,[a.step===0?(openBlock(),createElementBlock("form",{key:0,onSubmit:t[9]||(t[9]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_65$5,[createBaseVNode("div",_hoisted_66$5,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("div",_hoisted_67$5,[_hoisted_68$5,_hoisted_69$5,createBaseVNode("div",_hoisted_70$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[8]||(t[8]=d=>a.vipForm.name=d),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,a.vipForm.name]])]),_hoisted_71$5])],32)):createCommentVNode("",!0),a.step===1?(openBlock(),createElementBlock("form",{key:1,onSubmit:t[11]||(t[11]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_72$4,[createBaseVNode("div",_hoisted_73$4,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("div",_hoisted_74$4,[createBaseVNode("p",_hoisted_75$4,[createBaseVNode("em",null,[createTextVNode("- Отлично, "),createBaseVNode("strong",null,toDisplayString(a.vipForm.name),1),createTextVNode("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])]),_hoisted_76$4,createBaseVNode("div",_hoisted_77$4,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[10]||(t[10]=d=>a.vipForm.phone=d),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[l,"+7(###)###-##-##"],[vModelText,a.vipForm.phone]]),_hoisted_78$4]),_hoisted_79$3])],32)):createCommentVNode("",!0),a.step===2?(openBlock(),createElementBlock("form",{key:2,onSubmit:t[14]||(t[14]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_80$3,[createBaseVNode("div",_hoisted_81$3,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("div",_hoisted_82$3,[_hoisted_83$3,_hoisted_84$1,createBaseVNode("div",_hoisted_85$1,[createBaseVNode("div",_hoisted_86$1,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight":a.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:t[12]||(t[12]=d=>a.vipForm.sex=!0)},_hoisted_89$1,2)]),createBaseVNode("div",_hoisted_90$1,[createBaseVNode("div",{class:normalizeClass([{"bg-highlight ":!a.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:t[13]||(t[13]=d=>a.vipForm.sex=!1)},_hoisted_93$1,2)])]),_hoisted_94$1])],32)):createCommentVNode("",!0),a.step===3?(openBlock(),createElementBlock("form",{key:3,onSubmit:t[16]||(t[16]=withModifiers((...d)=>n.nextStep&&n.nextStep(...d),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_95$1,[createBaseVNode("div",_hoisted_96$1,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("div",_hoisted_97$1,[_hoisted_98$1,_hoisted_99$1,createBaseVNode("div",_hoisted_100$1,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=d=>a.vipForm.city=d),class:"form-control text-center",placeholder:"Краснодар",id:"vipForm-city","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,a.vipForm.city]]),_hoisted_101$1]),_hoisted_102$1])],32)):createCommentVNode("",!0),a.step===4?(openBlock(),createElementBlock("form",{key:4,onSubmit:t[19]||(t[19]=withModifiers((...d)=>n.submit&&n.submit(...d),["prevent"])),class:"row mb-2"},[createBaseVNode("div",_hoisted_103$1,[createBaseVNode("div",_hoisted_104$1,[withDirectives(createBaseVNode("img",null,null,512),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])]),createBaseVNode("div",_hoisted_105$1,[_hoisted_106$1,_hoisted_107$1,_hoisted_108$1,createBaseVNode("div",_hoisted_109$1,[createBaseVNode("div",_hoisted_110$1,[createBaseVNode("h5",_hoisted_111$1,[a.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_112$1,"С правилами озакномилась")),a.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_113$1,"С правилами ознакомлен")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_114$1,[createBaseVNode("div",_hoisted_115$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[17]||(t[17]=d=>a.confirm=d),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[vModelCheckbox,a.confirm]]),_hoisted_116$1])])]),createBaseVNode("button",{type:"submit",disabled:!a.confirm||a.load,class:"btn btn-outline-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_117$1),createBaseVNode("button",{type:"button",onClick:t[18]||(t[18]=d=>a.step=0),class:"btn btn-outline-primary p-3 w-100 mb-2"}," Исправить ошибки ")])],32)):createCommentVNode("",!0)])):createCommentVNode("",!0),a.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_118$1,[createBaseVNode("div",_hoisted_119$1,[createBaseVNode("div",_hoisted_120$1,[createTextVNode(" Поздравляем! Вы являетесь нашим VIP-пользователем! Вам доступны следующие возможности: "),createBaseVNode("ul",null,[_hoisted_121$1,_hoisted_122$1,_hoisted_123$1,createBaseVNode("li",null,[_hoisted_124$1,createBaseVNode("p",_hoisted_125$1,"Имя: "+toDisplayString(a.botUser.name||"Не указано"),1),createBaseVNode("p",_hoisted_126$1,"Телефон: "+toDisplayString(a.botUser.phone||"Не указано"),1),createBaseVNode("p",_hoisted_127$1,"Город: "+toDisplayString(a.botUser.city||"Не указано"),1),createBaseVNode("p",_hoisted_128$1,"Пол: "+toDisplayString(a.botUser.sex?"Мужской":"Женский"),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.vipForm.fields,d=>(openBlock(),createElementBlock("p",_hoisted_129$1,[createTextVNode(toDisplayString(d.title)+": ",1),d.config.type===2?(openBlock(),createElementBlock("span",_hoisted_130$1,toDisplayString(d.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),d.config.type===0||d.config.type===1?(openBlock(),createElementBlock("span",_hoisted_131$1,toDisplayString(d.value),1)):createCommentVNode("",!0)]))),256))])])])])])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}const VipProfileV2_1=_export_sfc(_sfc_main$w,[["render",_sfc_render$9],["__scopeId","data-v-34398d4c"]]),VipProfileV1=Object.freeze(Object.defineProperty({__proto__:null,default:VipProfileV2_1},Symbol.toStringTag,{value:"Module"})),VipProfileV2_vue_vue_type_style_index_0_scoped_f8b64918_lang="",_sfc_main$v={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0,need_phone:!0,need_email:!0,need_profile_form_image:!0,form_image:null,pre_birthday_text:null,pre_email_text:null,pre_age_text:null,pre_city_text:null,pre_sex_text:null,pre_name_text:null,pre_phone_text:null,text_after_submit:null},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadProfileFormData()},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(o){const t={value:null};return this.botUser.fields&&this.botUser.fields.find(s=>s.bot_custom_field_setting_id===o)||t},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(o=>{(o.data||[]).forEach(s=>{if(s.is_active){let i=this.getUserFieldValue(s.id),a=i.value,n=i.config;this.vipForm.fields.push({id:s.id,title:s.label,description:s.description,key:s.key,value:s.type===2?a==="1":a,type:s.type,pattern:s.pattern,required:s.required,config:n})}})})},loadProfileFormData(){this.loading=!0,this.$store.dispatch("loadProfileFormData").then(o=>{this.loading=!1,this.$nextTick(()=>{Object.keys(o).forEach(t=>{this.settings[t]=o[t]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveProfileFormData",{dataObject:this.vipForm}).then(o=>{this.loading=!1,this.$notify({title:"Отлично!",text:"Вы успешно заполнили форму и стали наши VIP-пользователем!",type:"success"}),this.tg.close()}).catch(()=>{this.loading=!1,this.$notify({title:"Упс!",text:"Ошибка заполнения формы!",type:"error"})})}}},_withScopeId=o=>(pushScopeId("data-v-f8b64918"),o=o(),popScopeId(),o),_hoisted_1$v={key:0,class:"container py-3"},_hoisted_2$v={class:"row"},_hoisted_3$v={key:0,class:"col-12"},_hoisted_4$t={key:0,class:"col-12 d-flex justify-content-center mb-3"},_hoisted_5$t={class:"img-avatar"},_hoisted_6$t={key:0,class:"img-avatar"},_hoisted_7$t={key:1},_hoisted_8$p={class:"col-12"},_hoisted_9$o=["innerHTML"],_hoisted_10$n={class:"form-floating"},_hoisted_11$k=_withScopeId(()=>createBaseVNode("label",{for:"vipForm-name"},"Ф.И.О.",-1)),_hoisted_12$k={key:1,class:"col-12"},_hoisted_13$i=["innerHTML"],_hoisted_14$i={class:"form-floating"},_hoisted_15$i=_withScopeId(()=>createBaseVNode("label",{for:"vipForm-phone"},"Номер телефона",-1)),_hoisted_16$i={key:2,class:"col-12"},_hoisted_17$g=["innerHTML"],_hoisted_18$g={class:"form-floating"},_hoisted_19$g=_withScopeId(()=>createBaseVNode("label",{for:"vipForm-email"},"Почта",-1)),_hoisted_20$g={key:3,class:"col-12"},_hoisted_21$f=["innerHTML"],_hoisted_22$f={class:"row mb-0"},_hoisted_23$e={class:"col-6"},_hoisted_24$d=_withScopeId(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_25$d=_withScopeId(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),_hoisted_26$b=[_hoisted_24$d,_hoisted_25$d],_hoisted_27$b={class:"col-6"},_hoisted_28$b=_withScopeId(()=>createBaseVNode("i",{class:"fa-solid fa-mars font-28"},null,-1)),_hoisted_29$a=_withScopeId(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),_hoisted_30$a=[_hoisted_28$b,_hoisted_29$a],_hoisted_31$a={key:4,class:"col-12"},_hoisted_32$a=["innerHTML"],_hoisted_33$a={class:"form-floating"},_hoisted_34$a=_withScopeId(()=>createBaseVNode("label",{for:"vipForm-birthday"},"Дата рождения",-1)),_hoisted_35$a={key:5,class:"col-12"},_hoisted_36$a=["innerHTML"],_hoisted_37$a={class:"form-floating"},_hoisted_38$9=_withScopeId(()=>createBaseVNode("label",{for:"vipForm-city"},"Город проживания",-1)),_hoisted_39$9={class:"col-12"},_hoisted_40$8={key:0},_hoisted_41$8={class:"text-center my-3"},_hoisted_42$8={key:0,class:"form-floating"},_hoisted_43$8=["type","onUpdate:modelValue","placeholder","pattern","required"],_hoisted_44$8=["for"],_hoisted_45$8={key:1,class:"row mb-0"},_hoisted_46$8={class:"col-6 p-3"},_hoisted_47$7=["onClick"],_hoisted_48$7=_withScopeId(()=>createBaseVNode("i",{class:"fa-solid fa-check font-28"},null,-1)),_hoisted_49$7=_withScopeId(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Да",-1)),_hoisted_50$7=[_hoisted_48$7,_hoisted_49$7],_hoisted_51$7={class:"col-6 p-3"},_hoisted_52$7=["onClick"],_hoisted_53$7=_withScopeId(()=>createBaseVNode("i",{class:"fa-solid fa-xmark font-28"},null,-1)),_hoisted_54$7=_withScopeId(()=>createBaseVNode("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),_hoisted_55$7=[_hoisted_53$7,_hoisted_54$7],_hoisted_56$7={class:"col-12"},_hoisted_57$7=_withScopeId(()=>createBaseVNode("p",{class:"mb-3"},[createBaseVNode("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),_hoisted_58$7=_withScopeId(()=>createBaseVNode("p",null,[createTextVNode("Перед отправкой данных нужно ознакомиться с "),createBaseVNode("a",{href:"#"},"политикой конфиденциальности"),createTextVNode(".")],-1)),_hoisted_59$7={class:"d-flex mb-3"},_hoisted_60$4={class:"form-check form-switch"},_hoisted_61$4={class:"form-check-label",for:"toggle-id-1"},_hoisted_62$4={key:0},_hoisted_63$4={key:1},_hoisted_64$4=["disabled"],_hoisted_65$4={key:1,class:"col-12"},_hoisted_66$4=["innerHTML"],_hoisted_67$4={class:"alert alert-light"},_hoisted_68$4=_withScopeId(()=>createBaseVNode("h6",{class:"text-primary text-center fw-bold"},"Ваши данные:",-1)),_hoisted_69$4={class:"mb-2 d-flex justify-content-between"},_hoisted_70$4={class:"fw-bold text-primary"},_hoisted_71$4={key:0,class:"mb-2 d-flex justify-content-between"},_hoisted_72$3={class:"fw-bold text-primary"},_hoisted_73$3={key:1,class:"mb-2 d-flex justify-content-between"},_hoisted_74$3={class:"fw-bold text-primary"},_hoisted_75$3={key:2,class:"mb-2 d-flex justify-content-between"},_hoisted_76$3={class:"fw-bold text-primary"},_hoisted_77$3={key:3,class:"mb-2 d-flex justify-content-between"},_hoisted_78$3={class:"fw-bold text-primary"},_hoisted_79$2={key:4,class:"mb-2 d-flex justify-content-between"},_hoisted_80$2={class:"fw-bold text-primary"},_hoisted_81$2={class:"mb-2 d-flex justify-content-between"},_hoisted_82$2={key:0},_hoisted_83$2={key:1};function _sfc_render$8(o,t,s,i,a,n){const r=resolveDirective("lazy"),l=resolveDirective("mask");return a.botUser?(openBlock(),createElementBlock("div",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$v,[a.botUser.is_vip?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$v,[createBaseVNode("form",{onSubmit:t[8]||(t[8]=withModifiers((...d)=>n.submit&&n.submit(...d),["prevent"])),class:"row mb-0"},[a.settings.need_profile_form_image?(openBlock(),createElementBlock("div",_hoisted_4$t,[createBaseVNode("div",_hoisted_5$t,[(a.settings.form_image||"").length>0?withDirectives((openBlock(),createElementBlock("img",_hoisted_6$t,null,512)),[[r,a.settings.form_image]]):withDirectives((openBlock(),createElementBlock("img",_hoisted_7$t,null,512)),[[r,"/images-by-bot-id/"+n.currentBot.id+"/"+n.currentBot.image]])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$p,[a.settings.pre_name_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:a.settings.pre_name_text},null,8,_hoisted_9$o)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$n,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":t[0]||(t[0]=d=>a.vipForm.name=d),"aria-describedby":"vipForm-name",required:""},null,512),[[vModelText,a.vipForm.name]]),_hoisted_11$k])]),a.settings.need_phone?(openBlock(),createElementBlock("div",_hoisted_12$k,[a.settings.pre_phone_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:a.settings.pre_phone_text},null,8,_hoisted_13$i)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14$i,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=d=>a.vipForm.phone=d),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[l,["+7(###)###-##-##"]],[vModelText,a.vipForm.phone]]),_hoisted_15$i])])):createCommentVNode("",!0),a.settings.need_email?(openBlock(),createElementBlock("div",_hoisted_16$i,[a.settings.pre_email_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:a.settings.pre_email_text},null,8,_hoisted_17$g)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$g,[withDirectives(createBaseVNode("input",{type:"email",class:"form-control text-center","onUpdate:modelValue":t[2]||(t[2]=d=>a.vipForm.email=d),placeholder:"example@test.com","aria-label":"vipForm-email","aria-describedby":"vipForm-email",required:""},null,512),[[vModelText,a.vipForm.email]]),_hoisted_19$g])])):createCommentVNode("",!0),a.settings.need_sex?(openBlock(),createElementBlock("div",_hoisted_20$g,[a.settings.pre_sex_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:a.settings.pre_sex_text},null,8,_hoisted_21$f)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_22$f,[createBaseVNode("div",_hoisted_23$e,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":a.vipForm.sex},"btn w-100 btn-outline-primary p-2 d-flex justify-content-between flex-column align-items-center"]),onClick:t[3]||(t[3]=d=>a.vipForm.sex=!0)},_hoisted_26$b,2)]),createBaseVNode("div",_hoisted_27$b,[createBaseVNode("div",{class:normalizeClass([{"bg-primary text-white":!a.vipForm.sex},"btn w-100 btn-outline-primary p-2 d-flex justify-content-between flex-column align-items-center"]),onClick:t[4]||(t[4]=d=>a.vipForm.sex=!1)},_hoisted_30$a,2)])])])):createCommentVNode("",!0),a.settings.need_birthday?(openBlock(),createElementBlock("div",_hoisted_31$a,[a.settings.pre_birthday_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:a.settings.pre_birthday_text},null,8,_hoisted_32$a)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_33$a,[withDirectives(createBaseVNode("input",{type:"date",class:"form-control text-center","onUpdate:modelValue":t[5]||(t[5]=d=>a.vipForm.birthday=d),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[vModelText,a.vipForm.birthday]]),_hoisted_34$a])])):createCommentVNode("",!0),a.settings.need_city?(openBlock(),createElementBlock("div",_hoisted_35$a,[a.settings.pre_city_text?(openBlock(),createElementBlock("h6",{key:0,class:"text-center my-3",innerHTML:a.settings.pre_city_text},null,8,_hoisted_36$a)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37$a,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=d=>a.vipForm.city=d),class:"form-control text-center",placeholder:"Ваш город","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[vModelText,a.vipForm.city]]),_hoisted_38$9])])):createCommentVNode("",!0),(a.vipForm.fields||[]).length>0?(openBlock(!0),createElementBlock(Fragment,{key:6},renderList(a.vipForm.fields,(d,c)=>(openBlock(),createElementBlock("div",_hoisted_39$9,[a.settings[d.key]?(openBlock(),createElementBlock("div",_hoisted_40$8,[createBaseVNode("h6",_hoisted_41$8,toDisplayString(d.description),1),d.type===0||d.type===1?(openBlock(),createElementBlock("div",_hoisted_42$8,[withDirectives(createBaseVNode("input",{type:d.type===1?"number":"text","onUpdate:modelValue":_=>a.vipForm.fields[c].value=_,class:"form-control text-center",placeholder:d.title,pattern:a.vipForm.fields[c].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:a.vipForm.fields[c].required||!1},null,8,_hoisted_43$8),[[vModelDynamic,a.vipForm.fields[c].value]]),createBaseVNode("label",{for:"vipForm-field"+c},toDisplayString(d.title||"-"),9,_hoisted_44$8)])):createCommentVNode("",!0),d.type===2?(openBlock(),createElementBlock("div",_hoisted_45$8,[createBaseVNode("div",_hoisted_46$8,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":a.vipForm.fields[c].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:_=>a.vipForm.fields[c].value=!0},_hoisted_50$7,10,_hoisted_47$7)]),createBaseVNode("div",_hoisted_51$7,[createBaseVNode("div",{class:normalizeClass([{"bg-primary":!a.vipForm.fields[c].value},"btn p-2 w-100 btn-outline-primary d-flex justify-content-between flex-column align-items-center"]),onClick:_=>a.vipForm.fields[c].value=!1},_hoisted_55$7,10,_hoisted_52$7)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]))),256)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_56$7,[_hoisted_57$7,_hoisted_58$7,createBaseVNode("div",_hoisted_59$7,[createBaseVNode("div",_hoisted_60$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[7]||(t[7]=d=>a.confirm=d),type:"checkbox",role:"switch",id:"toggle-id-1"},null,512),[[vModelCheckbox,a.confirm]]),createBaseVNode("label",_hoisted_61$4,[a.vipForm.sex?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_62$4,"С правилами ознакомилась")),a.vipForm.sex?(openBlock(),createElementBlock("span",_hoisted_63$4,"С правилами ознакомлен")):createCommentVNode("",!0)])])]),createBaseVNode("button",{type:"submit",disabled:!a.confirm||a.load,class:"btn btn-primary p-3 w-100"}," Отправить анкету ",8,_hoisted_64$4)])],32)])),a.botUser.is_vip?(openBlock(),createElementBlock("div",_hoisted_65$4,[createBaseVNode("p",{class:"alert alert-light my-2",innerHTML:a.settings.text_after_submit},null,8,_hoisted_66$4),createBaseVNode("div",_hoisted_67$4,[_hoisted_68$4,createBaseVNode("p",_hoisted_69$4,[createTextVNode("Имя: "),createBaseVNode("span",_hoisted_70$4,toDisplayString(a.botUser.name||"Не указано"),1)]),a.settings.need_phone?(openBlock(),createElementBlock("p",_hoisted_71$4,[createTextVNode("Телефон: "),createBaseVNode("span",_hoisted_72$3,toDisplayString(a.botUser.phone||"Не указано"),1)])):createCommentVNode("",!0),a.settings.need_email?(openBlock(),createElementBlock("p",_hoisted_73$3,[createTextVNode("Email: "),createBaseVNode("span",_hoisted_74$3,toDisplayString(a.botUser.email||"Не указано"),1)])):createCommentVNode("",!0),a.settings.need_city?(openBlock(),createElementBlock("p",_hoisted_75$3,[createTextVNode("Город: "),createBaseVNode("span",_hoisted_76$3,toDisplayString(a.botUser.city||"Не указано"),1)])):createCommentVNode("",!0),a.settings.need_birthday?(openBlock(),createElementBlock("p",_hoisted_77$3,[createTextVNode("Дата рождения: "),createBaseVNode("span",_hoisted_78$3,toDisplayString(a.botUser.birthday||"Не указано"),1)])):createCommentVNode("",!0),a.settings.need_sex?(openBlock(),createElementBlock("p",_hoisted_79$2,[createTextVNode("Пол: "),createBaseVNode("span",_hoisted_80$2,toDisplayString(a.botUser.sex?"Мужской":"Женский"),1)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.vipForm.fields,d=>(openBlock(),createElementBlock("p",_hoisted_81$2,[createTextVNode(toDisplayString(d.title)+": ",1),d.config.type===2?(openBlock(),createElementBlock("span",_hoisted_82$2,toDisplayString(d.value===!1?"Нет":"Да"),1)):createCommentVNode("",!0),d.config.type===0||d.config.type===1?(openBlock(),createElementBlock("span",_hoisted_83$2,toDisplayString(d.value),1)):createCommentVNode("",!0)]))),256))])])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}const VipProfileV2_2=_export_sfc(_sfc_main$v,[["render",_sfc_render$8],["__scopeId","data-v-f8b64918"]]),VipProfileV2=Object.freeze(Object.defineProperty({__proto__:null,default:VipProfileV2_2},Symbol.toStringTag,{value:"Module"})),_hoisted_1$u={class:"form-check form-switch mb-2"},_hoisted_2$u={class:"form-check-label",for:"script-settings-wheel-of-fortune-can_play"},_hoisted_3$u={class:"form-floating mb-2"},_hoisted_4$s={for:"script-settings-disabled_text"},_hoisted_5$s={key:0},_hoisted_6$s={class:"form-floating mb-2"},_hoisted_7$s={for:"script-settings-disabled_text"},_hoisted_8$o={key:0},_hoisted_9$n={class:"form-floating mb-2"},_hoisted_10$m={for:"floatingInput"},_hoisted_11$j={key:0},_hoisted_12$j={class:"form-floating mb-2"},_hoisted_13$h={for:"script-settings-disabled_text"},_hoisted_14$h={key:0},_hoisted_15$h={class:"form-floating mb-2"},_hoisted_16$h=createBaseVNode("label",{for:"floatingInput"},"Максимальное число попыток",-1),_hoisted_17$f={class:"alert alert-light mb-2"},_hoisted_18$f=createBaseVNode("p",{class:"mb-0"},[createBaseVNode("i",{class:"fa-solid fa-trophy text-primary"}),createTextVNode(" Призы, которые может выиграть пользователь, максимум "),createBaseVNode("strong",{class:"fw-bold text-primary"},"20")],-1),_hoisted_19$f={key:0,class:"mb-0"},_hoisted_20$f=createBaseVNode("strong",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_21$e={class:"input-group mb-2 align-items-start"},_hoisted_22$e={class:"form-floating"},_hoisted_23$d=["onUpdate:modelValue"],_hoisted_24$c={for:"script-settings-disabled_text"},_hoisted_25$c={key:0},_hoisted_26$a={class:"dropdown"},_hoisted_27$a={class:"dropdown-menu",style:{"min-width":"300px"}},_hoisted_28$a={class:"dropdown-item"},_hoisted_29$9=["onChange","onUpdate:modelValue"],_hoisted_30$9={style:{"max-height":"200px","overflow-y":"auto"},class:"row row-cols-5 w-100 p-2"},_hoisted_31$9={class:"col mb-2"},_hoisted_32$9=["onClick"],_hoisted_33$9=createBaseVNode("hr",{class:"dropdown-divider p-0"},null,-1),_hoisted_34$9={class:"dropdown-item"},_hoisted_35$9=["onClick"],_hoisted_36$9=createBaseVNode("i",{class:"fa-solid fa-trash text-danger"},null,-1),_hoisted_37$9=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),__default__$m={props:["modelValue"],data(){return{smiles:["🥤","🥗","🍔","🍗","🍟","🥓","🌯","🍱","🍜","🍲","🍧","🍨","🧁","🥞","🤖","🎲","🎯","😊","😎","🌻","👽","💌","📚","🐶","👻","🏀","👓","🎓","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","💡","🚀","⭐","💎","☘","🏆","🎁"],loaded_params:!1,form:{can_play:!0,rules_text:null,max_attempts:1,main_text:null,callback_message:null,win_message:null,btn_text:null,wheels:[]}}},watch:{form:{handler:function(o){this.$emit("updated:modelValue",this.form)},deep:!0}},mounted(){this.loaded_params=!1,this.$nextTick(()=>{this.form=this.modelValue,this.loaded_params=!0})},methods:{changeWheelColor(o){console.log(this.form.wheels[o])},removeWheel(o){this.form.wheels.splice(o,1),this.$notify({title:"Колесо фортуны",text:"Приз успешно удален",type:"success"})},addWheel(){this.form.wheels||(this.form.wheels=[]),this.form.wheels.length<20?(this.form.wheels.push({key:"wheel_text",type:"text",value:null}),this.$notify({title:"Колесо фортуны",text:"Новый приз успешно добавлен",type:"success"})):this.$notify({title:"Колесо фортуны",text:"Вы уже добавили максимальное число призов!",type:"error"})},addSmile(o,t){this.form.wheels[o].smile=t},submit(){let o=new FormData;Object.keys(this.form).forEach(t=>{const s=this.form[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("updateWheelCustomScriptParams",{slugForm:o}).then(t=>{this.$notify({title:"Информация о скрипте",text:"Информация о скрипте успешно обновлена!",type:"success"}),this.$emit("callback",t.data),window.location.reload()}).catch(t=>{this.$notify({title:"Информация о скрипте",text:"Ошибка обновления информации о скрипте",type:"error"})})},loadScriptParams(){}}},_sfc_main$u=Object.assign(__default__$m,{__name:"WheelCustomScriptEditor",setup(o){return(t,s)=>t.loaded_params?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[8]||(s[8]=withModifiers((...i)=>t.submit&&t.submit(...i),["prevent"]))},[createBaseVNode("div",_hoisted_1$u,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=i=>t.form.can_play=i),role:"switch",id:"script-settings-is_disabled"},null,512),[[vModelCheckbox,t.form.can_play]]),createBaseVNode("label",_hoisted_2$u,[createTextVNode("Состояние колеса фортуны: "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":t.form.can_play})},"вкл",2),createTextVNode(" \\ "),createBaseVNode("span",{class:normalizeClass({"text-primary fw-bold":!t.form.can_play})},"выкл",2)])]),createBaseVNode("div",_hoisted_3$u,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[1]||(s[1]=i=>t.form.rules_text=i),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play"},null,512),[[vModelText,t.form.rules_text]]),createBaseVNode("label",_hoisted_4$s,[createTextVNode("Правила колеса фортуны "),(t.form.rules_text||"").length>0?(openBlock(),createElementBlock("span",_hoisted_5$s,toDisplayString((t.form.rules_text||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_6$s,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=i=>t.form.main_text=i),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play",required:""},null,512),[[vModelText,t.form.main_text]]),createBaseVNode("label",_hoisted_7$s,[createTextVNode("Текст в боте "),(t.form.main_text||"").length>0?(openBlock(),createElementBlock("span",_hoisted_8$o,toDisplayString((t.form.main_text||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_9$n,[withDirectives(createBaseVNode("input",{type:"text",maxlength:"100","onUpdate:modelValue":s[3]||(s[3]=i=>t.form.btn_text=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.form.btn_text]]),createBaseVNode("label",_hoisted_10$m,[createTextVNode("Текст кнопки "),(t.form.btn_text||"").length>0?(openBlock(),createElementBlock("span",_hoisted_11$j,toDisplayString((t.form.btn_text||"").length)+"/100",1)):createCommentVNode("",!0)])]),createVNode(ParametrizedTextArea,{modelValue:t.form.win_message,"onUpdate:modelValue":s[4]||(s[4]=i=>t.form.win_message=i),maxlength:4e3,required:!0,class:"mb-2"},{title:withCtx(()=>[createTextVNode(" Текст при выигрыше ")]),_:1},8,["modelValue"]),createBaseVNode("div",_hoisted_12$j,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=i=>t.form.callback_message=i),maxlength:"4000",style:{"min-height":"150px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play",required:""},null,512),[[vModelText,t.form.callback_message]]),createBaseVNode("label",_hoisted_13$h,[createTextVNode(" Детали получения приза "),(t.form.callback_message||"").length>0?(openBlock(),createElementBlock("span",_hoisted_14$h,toDisplayString((t.form.callback_message||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_15$h,[withDirectives(createBaseVNode("input",{type:"number",min:"0","onUpdate:modelValue":s[6]||(s[6]=i=>t.form.max_attempts=i),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.form.max_attempts]]),_hoisted_16$h]),createBaseVNode("div",_hoisted_17$f,[_hoisted_18$f,t.form.wheels.length===0?(openBlock(),createElementBlock("p",_hoisted_19$f,[_hoisted_20$f,createTextVNode(" Вы еще не добавили ни одного приза в колесо!")])):createCommentVNode("",!0)]),t.form.wheels.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.form.wheels,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_21$e,[createBaseVNode("div",_hoisted_22$e,[withDirectives(createBaseVNode("textarea",{class:"form-control border-light","onUpdate:modelValue":n=>t.form.wheels[a].value=n,maxlength:"4000",style:{"min-height":"100px"},placeholder:"Leave a comment here",id:"script-settings-wheel-of-fortune-can_play",required:""},null,8,_hoisted_23$d),[[vModelText,t.form.wheels[a].value]]),createBaseVNode("label",_hoisted_24$c,[createTextVNode("#"+toDisplayString(a+1)+" - описание приза ",1),(t.form.wheels[a].value||"").length>0?(openBlock(),createElementBlock("span",_hoisted_25$c,toDisplayString((t.form.wheels[a].value||"").length)+"/4000",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_26$a,[createBaseVNode("button",{style:normalizeStyle({"background-color":t.form.wheels[a].bg_color}),class:"ml-2 btn dropdown-toggle btn-outline-light",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},null,4),createBaseVNode("div",_hoisted_27$a,[createBaseVNode("div",_hoisted_28$a,[withDirectives(createBaseVNode("input",{type:"color",onChange:n=>t.changeWheelColor(a),"onUpdate:modelValue":n=>t.form.wheels[a].bg_color=n,style:{"min-height":"30px"},class:"form-control p-0",id:"floatingInput",placeholder:"name@example.com"},null,40,_hoisted_29$9),[[vModelText,t.form.wheels[a].bg_color]])]),createBaseVNode("div",_hoisted_30$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.smiles,n=>(openBlock(),createElementBlock("div",_hoisted_31$9,[createBaseVNode("a",{class:normalizeClass([{"bg-primary":n===(t.form.wheels[a]||{smile:null}).smile},"btn btn-outline-light"]),onClick:r=>t.addSmile(a,n),href:"javascript:void(0)"},toDisplayString(n),11,_hoisted_32$9)]))),256))]),_hoisted_33$9,createBaseVNode("div",_hoisted_34$9,[createBaseVNode("button",{type:"button",onClick:n=>t.removeWheel(a),class:"btn btn-outline-danger w-100"},[_hoisted_36$9,createTextVNode(" Удалить ")],8,_hoisted_35$9)])])])]))),256)):createCommentVNode("",!0),t.form.wheels.length<20?(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:s[7]||(s[7]=(...i)=>t.addWheel&&t.addWheel(...i)),class:"btn btn-outline-primary p-3 w-100 mb-5"},"Добавить приз ")):createCommentVNode("",!0),_hoisted_37$9],32)):createCommentVNode("",!0)}}),WheelCustom_vue_vue_type_style_index_0_lang="",_hoisted_1$t={key:0,class:"container py-3"},_hoisted_2$t={class:"row"},_hoisted_3$t={key:0,class:"col-12"},_hoisted_4$r=createBaseVNode("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#shop-wheel-form-modal",class:"btn btn-outline-light text-primary w-100 mb-2",style:{"font-size":"12px"}},[createBaseVNode("i",{class:"fa-regular fa-pen-to-square"}),createTextVNode(" Редактор скрипта ")],-1),_hoisted_5$r=[_hoisted_4$r],_hoisted_6$r={class:"col-12"},_hoisted_7$r={key:0},_hoisted_8$n=["innerHTML"],_hoisted_9$m={key:2,class:"mb-2"},_hoisted_10$l={class:"fw-bold text-primary"},_hoisted_11$i={class:"fw-bold text-primary"},_hoisted_12$i=createBaseVNode("p",{class:"mb-0 fw-bold text-danger"},"Вы израсходовали все ваши попытки",-1),_hoisted_13$g=[_hoisted_12$i],_hoisted_14$g={key:4},_hoisted_15$g={key:0,class:"alert-light alert mb-2"},_hoisted_16$g=createBaseVNode("h6",{class:"text-center fw-bold"},"Результат розыгрыша",-1),_hoisted_17$e={class:"mb-2 d-flex justify-content-between"},_hoisted_18$e={class:"fw-bold text-primary"},_hoisted_19$e={class:"mb-2 d-flex justify-content-between"},_hoisted_20$e={class:"fw-bold text-primary"},_hoisted_21$d={class:"mb-2 d-flex justify-content-between"},_hoisted_22$d={class:"fw-bold text-primary"},_hoisted_23$c={key:0,class:"mb-0 d-flex justify-content-between"},_hoisted_24$b={class:"fw-bold text-primary"},_hoisted_25$b=createBaseVNode("h6",{class:"mt-3 mb-2 text-center fw-bold"},"Как получить приз",-1),_hoisted_26$9=["innerHTML"],_hoisted_27$9={key:5,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_28$9=createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),_hoisted_29$8=createBaseVNode("span",null,[createBaseVNode("i",{class:"fa-solid fa-dharmachakra"}),createTextVNode(" Доступны призы ")],-1),_hoisted_30$8={key:6,class:"alert alert-light w-100"},_hoisted_31$8=["onClick"],_hoisted_32$8={class:"wrap"},_hoisted_33$8={key:0,class:"start-panel"},_hoisted_34$8={key:1,class:"col-12"},_hoisted_35$8={class:"card",id:"result"},_hoisted_36$8={class:"card-body"},_hoisted_37$8=createBaseVNode("h6",{class:"text-center fw-bold"}," Ваш текущий выигрыш ",-1),_hoisted_38$8={class:"mb-2 text-center"},_hoisted_39$8={class:"mb-2 fst-italic"},_hoisted_40$7={key:2,class:"col-12"},_hoisted_41$7=createBaseVNode("h6",{class:"my-3"},"История розыгрышей",-1),_hoisted_42$7={class:"list-group"},_hoisted_43$7={class:"list-group-item p"},_hoisted_44$7={class:"mb-2 d-flex justify-content-between"},_hoisted_45$7={class:"fw-bold text-primary text-right"},_hoisted_46$7={class:"mb-2 d-flex justify-content-between"},_hoisted_47$6={class:"fw-bold text-primary text-right"},_hoisted_48$6={class:"mb-2 d-flex justify-content-between"},_hoisted_49$6={class:"fw-bold text-primary text-right"},_hoisted_50$6={key:0,class:"mb-2 d-flex justify-content-between"},_hoisted_51$6={class:"fw-bold text-primary text-right"},_hoisted_52$6={key:1,class:"container py-3"},_hoisted_53$6=createBaseVNode("div",{class:"row"},[createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},[createTextVNode(" Подготавливаем данные... "),createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")])])])],-1),_hoisted_54$6=[_hoisted_53$6],_hoisted_55$6={class:"modal fade",id:"shop-wheel-form-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_56$6={class:"modal-dialog modal-fullscreen"},_hoisted_57$6={class:"modal-content"},_hoisted_58$6=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_59$6={class:"modal-body"},__default__$l={components:{Wheel:Ka},name:"App",data(){return{smiles:["💙","💜","💚","💰","👑","🍩","⚽","🦖","🌺","🌷","🐾","⏳","💊","💡","🚀","⭐","💎","☘","🏆","🎁"],rules:null,action:null,script_data:null,selected_prize:null,show_prizes:!1,wheelDataLoaded:!1,winForm:{win:null},gift:0,logo:{src:"/wheel.png",width:120,height:120},items:[{id:1,value:"🍅",bgColor:"#fac600",color:"#ffffff"},{id:2,value:"🍲",bgColor:"#ffffff",color:"#000000"},{id:3,value:"🍦",bgColor:"#ff2e55",color:"#ffffff"},{id:4,value:"😍",bgColor:"#a1043a",color:"#ffffff"},{id:5,value:"☕",bgColor:"#ffffff",color:"#000000"},{id:6,value:"🍕",bgColor:"#c92729",color:"#ffffff"},{id:7,value:"📲",bgColor:"#ffffff",color:"#000000"},{id:8,value:"📌",bgColor:"#c92729",color:"#ffffff"},{id:9,value:"🚀",bgColor:"#c92729",color:"#ffffff"}]}},computed:{...mapGetters(["getSelf"]),tg(){return window.Telegram.WebApp},sortedActionData(){var o;return!this.action||(((o=this.action)==null?void 0:o.data)||[]).length===0?[]:this.action.data.sort((t,s)=>new Date(s.played_at)-new Date(t.played_at))},canPlay(){return this.action?this.action.current_attempts<this.action.max_attempts:!1}},mounted(){this.wheelDataLoaded=!1,this.loadServiceData().then(()=>{this.prepareUserData().then(()=>{this.wheelDataLoaded=!0})}),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.tg.close()})},methods:{shuffle(o){let t=o.length,s;for(;t>0;)s=Math.floor(Math.random()*t),t--,[o[t],o[s]]=[o[s],o[t]];return o},launchWheel(){if(!this.canPlay){this.$notify({title:"Колесо фортуны",text:"Вы израсходовали все попытки!",type:"error"});return}this.gift=Math.floor(Math.random()*this.items.length)+1;let o=this.$refs.wheel;this.started=!0,o.spin()},done(o){this.winForm.win=o,this.$notify({title:"Колесо фортуны",text:"Поздравляем! Вы выиграли!",type:"success"}),this.action.current_attempts++,this.$nextTick(()=>{document.querySelector("#result").scrollIntoView(),setTimeout(()=>{this.submit()},2e3)})},lose(){this.$notify({title:"Колесо фортуны",text:"Вы израсходовали все попытки!",type:"error"})},prepareUserData(){return this.$store.dispatch("wheelOfFortuneCustomPrepare").then(o=>{this.action=o.action})},selectPrize(o){this.selected_prize=this.items[o]},loadServiceData(){return this.$store.dispatch("wheelOfFortuneCustomLoadData").then(o=>{this.script_data=o,this.rules=o.rules;const t=this.shuffle(o.wheels);let s=0;this.items=[];let i=[],a=(n,r)=>(n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n+1))+n);t.forEach(n=>{let r=!1,l=s+1;for(;!r;)l=this.smiles[a(0,this.smiles.length-1)],i.indexOf(l)===-1&&(i.push(l),r=!0);this.items.push({id:s+1,value:n.smile!=null?n.smile:l,bgColor:n.bg_color!=null?n.bg_color:s%2===0?"#9a1717":"#ffffff",color:"#9a1717",description:n.value}),s++})})},submit(){let o=new FormData;Object.keys(this.winForm).forEach(t=>{const s=this.winForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),o.append("description",this.winForm.win.description||"Без описания"),this.$store.dispatch("wheelOfFortuneCustomWin",{winForm:o}).then(t=>{this.winForm.win=null,this.prepareUserData(),this.tg.close()}).catch(t=>{}),this.$notify({title:"Колесо фортуны",text:"Вы выиграли приз "+(this.winForm.win.description||"Что-то интересное..."),type:"success"})}}},_sfc_main$t=Object.assign(__default__$l,{setup(o){return(t,s)=>{var i,a;return openBlock(),createElementBlock(Fragment,null,[t.wheelDataLoaded?(openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$t,[(t.getSelf||{is_admin:!1}).is_admin?(openBlock(),createElementBlock("div",_hoisted_3$t,_hoisted_5$r)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$r,[t.rules?(openBlock(),createElementBlock("h4",_hoisted_7$r,"Правила данной игры")):createCommentVNode("",!0),t.rules?(openBlock(),createElementBlock("p",{key:1,innerHTML:t.rules,class:"mb-2"},null,8,_hoisted_8$n)):createCommentVNode("",!0),t.canPlay&&t.action?(openBlock(),createElementBlock("p",_hoisted_9$m,[createTextVNode("Ваши попытки: "),createBaseVNode("strong",_hoisted_10$l,toDisplayString(((i=t.action)==null?void 0:i.current_attempts)||0),1),createTextVNode(" из "),createBaseVNode("strong",_hoisted_11$i,toDisplayString(((a=t.action)==null?void 0:a.max_attempts)||1),1)])):(openBlock(),createElementBlock("div",{key:3,class:"alert-light alert mb-2",onClick:s[0]||(s[0]=(...n)=>t.lose&&t.lose(...n))},_hoisted_13$g)),t.action?(openBlock(),createElementBlock("div",_hoisted_14$g,[t.sortedActionData.length>0?(openBlock(),createElementBlock("div",_hoisted_15$g,[_hoisted_16$g,createBaseVNode("p",_hoisted_17$e,[createTextVNode("Название приза "),createBaseVNode("strong",_hoisted_18$e,toDisplayString(t.sortedActionData[0].description||"Отсутствует"),1)]),createBaseVNode("p",_hoisted_19$e,[createTextVNode("Победитель "),createBaseVNode("strong",_hoisted_20$e,toDisplayString(t.sortedActionData[0].name||"Не указано"),1)]),createBaseVNode("p",_hoisted_21$d,[createTextVNode("Телефон "),createBaseVNode("strong",_hoisted_22$d,toDisplayString(t.sortedActionData[0].phone||"Не указано"),1)]),t.sortedActionData[0].played_at?(openBlock(),createElementBlock("p",_hoisted_23$c,[createTextVNode(" Дата розыгрыша "),createBaseVNode("strong",_hoisted_24$b,toDisplayString(t.$filters.currentFull(t.sortedActionData[0].played_at)),1)])):createCommentVNode("",!0),_hoisted_25$b,t.script_data.callback_message?(openBlock(),createElementBlock("p",{key:1,class:"mb-0 fst-italic",innerHTML:t.script_data.callback_message},null,8,_hoisted_26$9)):createCommentVNode("",!0)])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_27$9,[createTextVNode(" Подготавливаем информацию по вашим розыгрышам... "),_hoisted_28$9])),createBaseVNode("p",{class:normalizeClass([{"alert-primary":!t.show_prizes,"alert-light":t.show_prizes},"my-2 d-flex justify-content-between alert rounded-2 align-items-center"])},[_hoisted_29$8,t.show_prizes?(openBlock(),createElementBlock("button",{key:0,type:"button",class:"btn btn-light text-primary rounded-5",onClick:s[1]||(s[1]=n=>t.show_prizes=!1)},"Скрыть")):(openBlock(),createElementBlock("button",{key:1,type:"button",onClick:s[2]||(s[2]=n=>t.show_prizes=!0),class:"btn btn-primary rounded-5"},"Показать"))],2),t.show_prizes?(openBlock(),createElementBlock("div",_hoisted_30$8,[t.selected_prize?createCommentVNode("",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.items,(n,r)=>(openBlock(),createElementBlock("p",{onClick:l=>t.selectPrize(r),class:"mb-0"},toDisplayString(n.value)+" - "+toDisplayString(n.description),9,_hoisted_31$8))),256))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$8,[createVNode(unref(Ka),{gift:t.gift,imgParams:t.logo,onDone:t.done,ref:"wheel",modelValue:t.items,"onUpdate:modelValue":s[3]||(s[3]=n=>t.items=n)},null,8,["gift","imgParams","onDone","modelValue"]),t.canPlay?(openBlock(),createElementBlock("div",_hoisted_33$8,[createBaseVNode("button",{type:"button",onClick:s[4]||(s[4]=(...n)=>t.launchWheel&&t.launchWheel(...n)),class:"btn btn-outline-primary bg-white border-5 text-black w-100 h-100 rounded-circle"}," Нажми старт ")])):createCommentVNode("",!0)])]),t.winForm.win?(openBlock(),createElementBlock("div",_hoisted_34$8,[createBaseVNode("div",_hoisted_35$8,[createBaseVNode("div",_hoisted_36$8,[_hoisted_37$8,createBaseVNode("h6",_hoisted_38$8,toDisplayString(t.winForm.win.value||t.winForm.win.id||"-")+" (#"+toDisplayString(t.winForm.win.id)+")",1),createBaseVNode("p",_hoisted_39$8,toDisplayString(t.winForm.win.description||"не указно"),1)])])])):createCommentVNode("",!0),t.sortedActionData.length>0?(openBlock(),createElementBlock("div",_hoisted_40$7,[_hoisted_41$7,createBaseVNode("ul",_hoisted_42$7,[t.action.data?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.sortedActionData,n=>(openBlock(),createElementBlock("li",_hoisted_43$7,[createBaseVNode("p",_hoisted_44$7,[createTextVNode("Название приза "),createBaseVNode("strong",_hoisted_45$7,toDisplayString(n.description||"Отсутствует"),1)]),createBaseVNode("p",_hoisted_46$7,[createTextVNode("Победитель "),createBaseVNode("strong",_hoisted_47$6,toDisplayString(n.name||"Не указано"),1)]),createBaseVNode("p",_hoisted_48$6,[createTextVNode("Телефон "),createBaseVNode("strong",_hoisted_49$6,toDisplayString(n.phone||"Не указано"),1)]),n.played_at?(openBlock(),createElementBlock("p",_hoisted_50$6,[createTextVNode(" Дата розыгрыша "),createBaseVNode("strong",_hoisted_51$6,toDisplayString(t.$filters.currentFull(n.played_at)),1)])):createCommentVNode("",!0)]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",_hoisted_52$6,_hoisted_54$6)),createBaseVNode("div",_hoisted_55$6,[createBaseVNode("div",_hoisted_56$6,[createBaseVNode("div",_hoisted_57$6,[_hoisted_58$6,createBaseVNode("div",_hoisted_59$6,[t.script_data?(openBlock(),createBlock(_sfc_main$u,{key:0,modelValue:t.script_data,"onUpdate:modelValue":s[5]||(s[5]=n=>t.script_data=n)},null,8,["modelValue"])):createCommentVNode("",!0)])])])])],64)}}}),WheelCustom=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$t},Symbol.toStringTag,{value:"Module"})),_sfc_main$s={computed:{tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{goTo(o){this.$router.push({name:o})}}},_hoisted_1$s={class:"container py-3"},_hoisted_2$s={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-2"},_hoisted_3$s={class:"col"},_hoisted_4$q={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_5$q={class:"img-fluid",alt:""},_hoisted_6$q=createBaseVNode("p",{class:"my-2"},"Управление клиентами",-1),_hoisted_7$q={class:"col"},_hoisted_8$m={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_9$l={class:"img-fluid",alt:""},_hoisted_10$k=createBaseVNode("p",{class:"my-2"},"Управление рассылками",-1),_hoisted_11$h={class:"col"},_hoisted_12$h={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_13$f={class:"img-fluid",alt:""},_hoisted_14$f=createBaseVNode("p",{class:"my-2"},"Управление товарами",-1),_hoisted_15$f={class:"col"},_hoisted_16$f={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_17$d={class:"img-fluid",alt:""},_hoisted_18$d=createBaseVNode("p",{class:"my-2"},"Управление заказами",-1),_hoisted_19$d={class:"col"},_hoisted_20$d={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_21$c={class:"img-fluid",alt:""},_hoisted_22$c=createBaseVNode("p",{class:"my-2"},"Управление промокодами",-1),_hoisted_23$b={class:"col"},_hoisted_24$a={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_25$a={class:"img-fluid",alt:""},_hoisted_26$8=createBaseVNode("p",{class:"my-2"},"Статистика",-1),_hoisted_27$8={class:"col"},_hoisted_28$8={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_29$7={class:"img-fluid",alt:""},_hoisted_30$7=createBaseVNode("p",{class:"my-2"},"Управление ботом",-1),_hoisted_31$7={class:"col"},_hoisted_32$7={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_33$7={class:"img-fluid",alt:""},_hoisted_34$7=createBaseVNode("p",{class:"my-2"},"Управление страницами",-1),_hoisted_35$7={class:"col"},_hoisted_36$7={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_37$7={class:"img-fluid",alt:""},_hoisted_38$7=createBaseVNode("p",{class:"my-2"},"Управление диалогами",-1),_hoisted_39$7={class:"col"},_hoisted_40$6={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_41$6={class:"img-fluid",alt:""},_hoisted_42$6=createBaseVNode("p",{class:"my-2"},"Управление скриптами",-1),_hoisted_43$6={class:"col"},_hoisted_44$6={class:"card-body d-flex justify-content-center align-items-center flex-column w-100"},_hoisted_45$6={style:{"max-width":"150px"},class:"img-fluid",alt:""},_hoisted_46$6=createBaseVNode("p",{class:"my-2"},"Интеграции",-1);function _sfc_render$7(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",_hoisted_3$s,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=l=>n.goTo("ClientsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_4$q,[withDirectives(createBaseVNode("img",_hoisted_5$q,null,512),[[r,"/images/shop-v2-2/clients.png"]]),_hoisted_6$q])])]),createBaseVNode("div",_hoisted_7$q,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=l=>n.goTo("MailingV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_8$m,[withDirectives(createBaseVNode("img",_hoisted_9$l,null,512),[[r,"/images/shop-v2-2/mail.png"]]),_hoisted_10$k])])]),createBaseVNode("div",_hoisted_11$h,[createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=l=>n.goTo("ShopV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_12$h,[withDirectives(createBaseVNode("img",_hoisted_13$f,null,512),[[r,"/images/shop-v2-2/products.png"]]),_hoisted_14$f])])]),createBaseVNode("div",_hoisted_15$f,[createBaseVNode("button",{type:"button",onClick:t[3]||(t[3]=l=>n.goTo("AdminOrdersV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_16$f,[withDirectives(createBaseVNode("img",_hoisted_17$d,null,512),[[r,"/images/shop-v2-2/orders.png"]]),_hoisted_18$d])])]),createBaseVNode("div",_hoisted_19$d,[createBaseVNode("button",{type:"button",onClick:t[4]||(t[4]=l=>n.goTo("PromoCodesV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_20$d,[withDirectives(createBaseVNode("img",_hoisted_21$c,null,512),[[r,"/images/shop-v2-2/promo.png"]]),_hoisted_22$c])])]),createBaseVNode("div",_hoisted_23$b,[createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=l=>n.goTo("StatisticV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_24$a,[withDirectives(createBaseVNode("img",_hoisted_25$a,null,512),[[r,"/images/shop-v2-2/statistic.png"]]),_hoisted_26$8])])]),createBaseVNode("div",_hoisted_27$8,[createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=l=>n.goTo("BotManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_28$8,[withDirectives(createBaseVNode("img",_hoisted_29$7,null,512),[[r,"/images/shop-v2-2/statistic.png"]]),_hoisted_30$7])])]),createBaseVNode("div",_hoisted_31$7,[createBaseVNode("button",{type:"button",onClick:t[7]||(t[7]=l=>n.goTo("PageManagerV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_32$7,[withDirectives(createBaseVNode("img",_hoisted_33$7,null,512),[[r,"/images/shop-v2-2/statistic.png"]]),_hoisted_34$7])])]),createBaseVNode("div",_hoisted_35$7,[createBaseVNode("button",{type:"button",onClick:t[8]||(t[8]=l=>n.goTo("DialogsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_36$7,[withDirectives(createBaseVNode("img",_hoisted_37$7,null,512),[[r,"/images/shop-v2-2/statistic.png"]]),_hoisted_38$7])])]),createBaseVNode("div",_hoisted_39$7,[createBaseVNode("button",{type:"button",onClick:t[9]||(t[9]=l=>n.goTo("SlugsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_40$6,[withDirectives(createBaseVNode("img",_hoisted_41$6,null,512),[[r,"/images/shop-v2-2/statistic.png"]]),_hoisted_42$6])])]),createBaseVNode("div",_hoisted_43$6,[createBaseVNode("button",{type:"button",onClick:t[10]||(t[10]=l=>n.goTo("IntegrationsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_44$6,[withDirectives(createBaseVNode("img",_hoisted_45$6,null,512),[[r,"/images/shop-v2-2/integrations.png"]]),_hoisted_46$6])])])])])}const AdminMenuV2=_export_sfc(_sfc_main$s,[["render",_sfc_render$7]]),AdminMenu=Object.freeze(Object.defineProperty({__proto__:null,default:AdminMenuV2},Symbol.toStringTag,{value:"Module"})),BotManager_vue_vue_type_style_index_0_lang="",_sfc_main$r={data(){return{tab:0,selected_warning:null,load:!1,need_payments:!1,need_shop:!1,bot:null,need_threads:!1,need_cashback_config:!1,cashback_fire_periods:[{title:"Не сгорает",value:0},{title:"7 дней",value:7},{title:"15 дней",value:15},{title:"30 дней",value:30},{title:"60 дней",value:60},{title:"60 дней",value:90},{title:"120 дней",value:120},{title:"180 дней",value:180},{title:"360 дней",value:360}],warnings:[{title:"Сумма чека больше чем",key:"bill_sum_more_then"},{title:"Сумма начисления кэшбэка больше чем",key:"cashback_up_sum_more_then"},{title:"Сумма списания кэшбэка больше чем",key:"cashback_down_sum_more_then"}],botForm:{title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,vk_shop_link:null,callback_link:null,balance:null,tax_per_day:null,welcome_message:null,image:null,description:null,info_link:null,commands:null,social_links:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,cashback_fire_percent:0,cashback_fire_period:0,photos:[],selected_bot_template_id:null,pages:[],warnings:[],amo:null,is_active:!1}}},computed:{filteredWarnings(){return this.botForm.warnings.length===0?this.warnings:this.warnings.filter(o=>!(this.botForm.warnings.findIndex(t=>t.rule_key===o.key)>=0))}},watch:{need_threads:function(o,t){let s=[{title:"Отзывы",key:"reviews",value:null},{title:"Операции с cashback",key:"cashback",value:null},{title:"Вопросы",key:"questions",value:null},{title:"Конкурсы",key:"actions",value:null},{title:"Заказы",key:"orders",value:null},{title:"Вывод средств",key:"ask-money",value:null}];this.need_threads&&!this.botForm.message_threads&&(this.botForm.message_threads=s),this.need_threads&&this.botForm.message_threads&&s.forEach(i=>{this.botForm.message_threads.findIndex(n=>n.key===i.key)===-1&&this.botForm.message_threads.push(i)})},need_payments:function(o,t){this.need_payments||(this.botForm.auto_cashback_on_payments=!1)}},mounted(){this.loadBotAdminConfig(),window.addEventListener("select-telegram-channel-id",o=>{this.botForm[o.detail.param]=o.detail.channel})},methods:{removeCommands(o){this.botForm.commands.splice(o,1)},addCommands(){this.botForm.commands==null&&(this.botForm.commands=[]),this.botForm.commands.push({command:null,description:null})},loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.botForm={id:this.bot.id||null,title:this.bot.title||null,short_description:this.bot.short_description||null,long_description:this.bot.long_description||null,is_template:this.bot.is_template||!1,auto_cashback_on_payments:this.bot.auto_cashback_on_payments||!1,template_description:this.bot.template_description||null,bot_domain:this.bot.bot_domain||null,bot_token:this.bot.bot_token||null,bot_token_dev:this.bot.bot_token_dev||null,order_channel:this.bot.order_channel||null,message_threads:this.bot.message_threads||null,cashback_config:this.bot.cashback_config||null,commands:this.bot.commands||null,cashback_fire_percent:this.bot.cashback_fire_percent||0,cashback_fire_period:this.bot.cashback_fire_period||0,main_channel:this.bot.main_channel||null,balance:this.bot.balance||null,tax_per_day:this.bot.tax_per_day||null,vk_shop_link:this.bot.vk_shop_link||null,callback_link:this.bot.callback_link||null,image:this.bot.image||null,description:this.bot.description||null,info_link:this.bot.info_link||null,social_links:this.bot.social_links||[],maintenance_message:this.bot.maintenance_message||null,welcome_message:this.bot.welcome_message||null,payment_provider_token:this.bot.payment_provider_token||null,level_1:this.bot.level_1||10,level_2:this.bot.level_2||0,level_3:this.bot.level_3||0,warnings:this.bot.warnings||[],photos:this.bot.photos||[],amo:this.bot.amo||null,is_active:this.bot.is_active||!1},this.botForm.commands==null&&(this.botForm.commands=[{command:"/start",description:"начни с этой команды"},{command:"/admins",description:"доступные администраторы в системе"},{command:"/help",description:"как использовать систему"},{command:"/about",description:"о CashMan"}]),this.botForm.payment_provider_token&&(this.need_payments=!0),this.botForm.vk_shop_link&&(this.need_shop=!0),this.botForm.cashback_config&&(this.need_cashback_config=!0)})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},onChangePhotos(o){const t=o.target.files;this.botForm.image=null;for(let s=0;s<t.length;s++)this.botForm.photos.push(t[s])},addItem(o){this.botForm[o].push("")},addSocialLinks(){this.botForm.social_links.push({title:null,url:null})},removeItem(o,t){this.botForm[o].splice(t,1)},removePhoto(o){o?this.botForm.photos.splice(o,1):this.botForm.image=null},switchStatus(){this.$store.dispatch("switchBotStatus").then(()=>{this.$botNotification.success("Конструктор ботов","Статус бота успешно изменен!")})},addBot(){let o=new FormData;Object.keys(this.botForm).forEach(t=>{const s=this.botForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.company&&o.append("company_id",this.company.id);for(let t=0;t<this.botForm.photos.length;t++)o.append("images[]",this.botForm.photos[t]);o.delete("photos"),this.$store.dispatch(this.bot==null?"createBot":"updateBot",{botForm:o}).then(t=>{this.$emit("callback",t.data),this.$botNotification.success("Конструктор ботов",this.bot==null?"Бот успешно создан!":"Бот успешно обновлен!"),this.bot==null&&(this.botForm={title:null,short_description:null,long_description:null,is_template:!1,auto_cashback_on_payments:!1,template_description:null,bot_domain:null,bot_token:null,bot_token_dev:null,order_channel:null,message_threads:null,cashback_config:null,main_channel:null,balance:null,tax_per_day:null,cashback_fire_percent:0,cashback_fire_period:0,image:null,description:null,info_link:null,social_links:[],warnings:[],maintenance_message:null,payment_provider_token:null,level_1:10,level_2:0,level_3:0,photos:[],selected_bot_template_id:null,pages:[],is_active:!1})}).catch(t=>{})},getWarning(o){let t=this.warnings.find(s=>s.key===o);return t||{title:"Не найдено"}},removeWarning(o){this.botForm.warnings.splice(o,1)},removeCashBackConfig(o){this.botForm.cashback_config.splice(o,1)},addCashBackConfig(){this.botForm.cashback_config=this.botForm.cashback_config==null?[]:this.botForm.cashback_config,this.botForm.cashback_config.push({title:null})},addWarning(){const o=this.selected_warning;this.botForm.warnings.push({rule_key:o.key,rule_value:0,is_active:!0}),this.selected_warning=null},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},openUrl(o){this.tg.openLink(o)}}},_hoisted_1$r={class:"container py-3"},_hoisted_2$r={class:"row"},_hoisted_3$r={class:"col-12"},_hoisted_4$p={class:"card",style:{height:"330px"}},_hoisted_5$p={key:0,class:"card-body"},_hoisted_6$p={class:"w-100 d-flex justify-content-center p-3"},_hoisted_7$p={class:"object-cover",style:{width:"100px","border-radius":"50%"},alt:""},_hoisted_8$l={class:"color-white font-700 text-center mb-2"},_hoisted_9$k={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_10$j=createBaseVNode("i",{class:"fa-solid fa-sack-dollar"},null,-1),_hoisted_11$g={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_12$g=createBaseVNode("i",{class:"fa-solid fa-hand-holding-dollar"},null,-1),_hoisted_13$e={class:"color-white text-center opacity-60 mt-n1 my-1"},_hoisted_14$e=createBaseVNode("i",{class:"fa-regular fa-calendar-days"},null,-1),_hoisted_15$e={class:"w-100 d-flex justify-content-center py-4"},_hoisted_16$e={class:"form-check form-switch"},_hoisted_17$c={class:"form-check-label",for:"toggle-id-1"},_hoisted_18$c={key:0,class:"ml-5"},_hoisted_19$c={key:1,class:"ml-5"},_hoisted_20$c={key:1,class:"card-body"},_hoisted_21$b=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_22$b=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_23$a=[_hoisted_21$b,_hoisted_22$b],_hoisted_24$9=createBaseVNode("div",{class:"card-overlay bg-black opacity-70"},null,-1),_hoisted_25$9={class:"nav nav-tabs justify-content-center my-2"},_hoisted_26$7={class:"nav-item"},_hoisted_27$7={class:"nav-item"},_hoisted_28$7={class:"nav-item"},_hoisted_29$6={class:"nav-item"},_hoisted_30$6=createBaseVNode("div",{class:"alert alert-light my-2"},' Строго взять из BotFather! ТО что при создании с окончанием на "bot" ',-1),_hoisted_31$6={class:"form-floating mb-2"},_hoisted_32$6=createBaseVNode("label",{id:"bot-domain"}," Доменное имя бота из BotFather ",-1),_hoisted_33$6={key:0},_hoisted_34$6={class:"alert alert-light"},_hoisted_35$6={class:"form-floating mb-2"},_hoisted_36$6=createBaseVNode("label",{id:"bot-token"}," Токен бота ",-1),_hoisted_37$6={class:"form-floating mb-2"},_hoisted_38$6=createBaseVNode("label",{id:"bot-token-dev"},"Токен бота (для тестирования)",-1),_hoisted_39$6=createBaseVNode("div",{class:"alert alert-light"}," Имя бота, которая отображается у всех пользователей в боте ",-1),_hoisted_40$5={class:"form-floating mb-2"},_hoisted_41$5=createBaseVNode("label",{id:"bot-title"}," Отображаемое имя бота ",-1),_hoisted_42$5=createBaseVNode("div",{class:"alert alert-info"}," Описание бота, которое отобразится при переходе в бота по ссылке ",-1),_hoisted_43$5={class:"form-floating mb-2"},_hoisted_44$5={id:"bot-short-description"},_hoisted_45$5={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_46$5={class:"form-floating mb-2"},_hoisted_47$5={id:"bot-short-description"},_hoisted_48$5={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_49$5=createBaseVNode("h6",null,"Команды в боте",-1),_hoisted_50$5={key:0},_hoisted_51$5=createBaseVNode("em",null,"К сожалению, вы еще не добавили ни 1й команды в меню бота",-1),_hoisted_52$5=[_hoisted_51$5],_hoisted_53$5=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Например, команда "),createBaseVNode("b",null,"/start"),createTextVNode(", а описание к ней: "),createBaseVNode("b",null,"начало работы с системой")])],-1),_hoisted_54$5={class:"mb-2"},_hoisted_55$5=["onUpdate:modelValue","aria-describedby"],_hoisted_56$5={class:"mb-2"},_hoisted_57$5=["onUpdate:modelValue","aria-describedby"],_hoisted_58$5=["onClick"],_hoisted_59$5=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_60$3=createBaseVNode("div",{class:"divider divider-small my-4 bg-highlight"},null,-1),_hoisted_61$3={class:"mb-2"},_hoisted_62$3=createBaseVNode("p",{class:"mb-2"},[createBaseVNode("em",null,[createTextVNode("Данные команды отображаются в кнопке "),createBaseVNode("b",null,"Меню"),createTextVNode(" слева от поля ввода в боте")])],-1),_hoisted_63$3={class:"mb-2"},_hoisted_64$3={class:"d-flex justify-content-between align-items-center flex-wrap"},_hoisted_65$3={class:"form-label d-flex justify-content-between mt-2 d-flex align-items-center w-100",id:"bot-order-channel"},_hoisted_66$3=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_67$3=createBaseVNode("div",null,"Ввести адрес ссылки на канал в форму после добавления тоукена ",-1),_hoisted_68$3=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_69$3=[_hoisted_68$3],_hoisted_70$3=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_71$3=createBaseVNode("div",null,"Нужно ",-1),_hoisted_72$2={class:"mb-2"},_hoisted_73$2={class:"d-flex justify-content-between"},_hoisted_74$2={class:"form-label d-flex justify-content-between mt-2",id:"bot-main-channel"},_hoisted_75$2=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_76$2=[_hoisted_75$2],_hoisted_77$2={class:"mb-2"},_hoisted_78$2={class:"form-check"},_hoisted_79$1=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо добавить рассылку по топикам для канала заказов (он же системный канал) ",-1),_hoisted_80$1={key:0,class:"mb-2"},_hoisted_81$1=createBaseVNode("p",{class:"mb-2 font-italic"},[createTextVNode("Для того, чтоб узнать идентификатор топика в группе впишите в чат "),createBaseVNode("strong",null,'"Мой id"')],-1),_hoisted_82$1={class:"list-group"},_hoisted_83$1={class:"list-group-item"},_hoisted_84={class:"mb-0"},_hoisted_85=["onUpdate:modelValue"],_hoisted_86={key:1,class:"mb-0"},_hoisted_87={class:"mb-2"},_hoisted_88={class:"d-flex justify-content-between flex-wrap"},_hoisted_89={class:"form-label d-flex justify-content-between align-items-center mb-0 flex-wrap w-100",id:"bot-description"},_hoisted_90=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_91=createBaseVNode("div",null,"Отобразится пользователю при первом запуске",-1),_hoisted_92=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_93=createBaseVNode("div",null,"Нужно ",-1),_hoisted_94={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_95={class:"mb-2"},_hoisted_96={class:"d-flex justify-content-between flex-wrap"},_hoisted_97={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-description"},_hoisted_98=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_99=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_100=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_101=createBaseVNode("div",null,"Нужно ",-1),_hoisted_102={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_103={class:"mb-2"},_hoisted_104={class:"d-flex justify-content-between flex-wrap"},_hoisted_105={class:"form-label d-flex justify-content-between align-items-center w-100 mb-0",id:"bot-maintenance-message"},_hoisted_106=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_107=createBaseVNode("div",null,'Для меню "О Боте"',-1),_hoisted_108=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_109=createBaseVNode("div",null,"Нужно ",-1),_hoisted_110={key:0,class:"text-gray-400 w-100",style:{"font-size":"10px"}},_hoisted_111={class:"mb-2"},_hoisted_112={class:"form-label d-flex justify-content-between mt-2",id:"bot-callback-url"},_hoisted_113=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_114=createBaseVNode("div",null,"Ссылка на внешний сервис для обратной связи ",-1),_hoisted_115=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_116={class:"mb-2"},_hoisted_117={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},_hoisted_118=createBaseVNode("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_hoisted_119=createBaseVNode("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),_hoisted_120=createBaseVNode("a",{target:"_blank",href:"https://telegra.ph"},"Создать",-1),_hoisted_121=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_122=createBaseVNode("h6",null,"Ссылки на соц. сети",-1),_hoisted_123={class:"d-flex justify-content-between align-items-center w-100"},_hoisted_124=createBaseVNode("small",null,"Ссылка",-1),_hoisted_125=["onClick"],_hoisted_126=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_127=[_hoisted_126],_hoisted_128=["onUpdate:modelValue","aria-describedby"],_hoisted_129=["onUpdate:modelValue"],_hoisted_130=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_131={class:"d-flex justify-content-between align-items-center"},_hoisted_132=createBaseVNode("i",{class:"fa-solid font-10 fa-star color-red2-dark"},null,-1),_hoisted_133=createBaseVNode("div",null,"Нужно ",-1),_hoisted_134={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_135={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_136=createBaseVNode("span",null,"+",-1),_hoisted_137={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_138={class:"remove"},_hoisted_139=["onClick"],_hoisted_140=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_141=[_hoisted_140],_hoisted_142={key:1,class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_143={class:"remove"},_hoisted_144=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_145=[_hoisted_144],_hoisted_146={class:"form-floating mb-2"},_hoisted_147=createBaseVNode("label",{id:"bot-level-1"}," Уровень 1 CashBack, % ",-1),_hoisted_148={class:"form-floating mb-2"},_hoisted_149=createBaseVNode("label",{id:"bot-level-2"},"Уровень 2 CashBack, %",-1),_hoisted_150={class:"form-floating mb-2"},_hoisted_151=createBaseVNode("label",{id:"bot-level-3"},"Уровень 3 CashBack, %",-1),_hoisted_152={class:"form-floating mb-2"},_hoisted_153=["value"],_hoisted_154=createBaseVNode("label",{id:"cashback-fired-period"},"Период сгорания CashBack",-1),_hoisted_155={key:0,class:"form-floating mb-2"},_hoisted_156=createBaseVNode("label",{id:"cashback-fired-level"},"Уровень сгорания CashBack, %",-1),_hoisted_157={class:"form-check mb-2"},_hoisted_158=createBaseVNode("label",{class:"form-check-label",for:"need-cashback-config"}," Необходимо настроить CashBack по категориям ",-1),_hoisted_159={key:1,class:"mb-2"},_hoisted_160=createBaseVNode("h6",null,"Настройка категорий CashBack-а",-1),_hoisted_161={class:"form-floating"},_hoisted_162=["onUpdate:modelValue","aria-describedby"],_hoisted_163=createBaseVNode("label",{for:""},"Название категории",-1),_hoisted_164={class:"input-group-text",id:"basic-addon1"},_hoisted_165=["onClick"],_hoisted_166=createBaseVNode("i",{class:"fa-regular fa-trash-can"},null,-1),_hoisted_167=[_hoisted_166],_hoisted_168={class:"form-floating mb-2"},_hoisted_169=createBaseVNode("option",{value:null},"Не выбрано",-1),_hoisted_170=["value"],_hoisted_171=createBaseVNode("label",{class:"form-check-label",for:"warning-rules"},[createBaseVNode("i",{class:"fa-solid fa-triangle-exclamation text-danger"}),createTextVNode(" Правила критических оповещений ")],-1),_hoisted_172={class:"form-check form-switch"},_hoisted_173=["onUpdate:modelValue","id"],_hoisted_174=["for"],_hoisted_175={key:0,class:"fw-bold small text-primary"},_hoisted_176={key:1,class:"fw-bold small text-primary"},_hoisted_177={class:"input-group mb-2"},_hoisted_178={class:"form-floating"},_hoisted_179=["onUpdate:modelValue"],_hoisted_180={class:"input-group-text",id:"basic-addon1"},_hoisted_181=["onClick"],_hoisted_182=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_183=[_hoisted_182],_hoisted_184={class:"form-check form-switch mb-2"},_hoisted_185=createBaseVNode("label",{class:"form-check-label",for:"need-payments"}," Необходимо подключить платежную систему",-1),_hoisted_186={class:"form-check form-switch"},_hoisted_187=["value"],_hoisted_188=createBaseVNode("label",{class:"form-check-label",for:"bot-auto-cashback-on-payments"}," Начислять CashBack автоматически после успешной оплаты ",-1),_hoisted_189=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Если в боте планируется оплата, то необходимо через BotFather "),createBaseVNode("a",{href:"https://t.me/botfather",target:"_blank"},"привязать нужную"),createTextVNode(" платежную систему и указать в данном поле полученный токен ")],-1),_hoisted_190={class:"form-floating mb-2"},_hoisted_191=createBaseVNode("label",{for:""},"Токен платежной системы",-1),_hoisted_192={class:"form-check form-switch"},_hoisted_193=createBaseVNode("label",{class:"form-check-label",for:"need-shop"},"Необходимо интегрировать магазин в бота",-1),_hoisted_194=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Ссылка на страницу ВК с товарами для вашего магазина в боте. "),createBaseVNode("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать")],-1),_hoisted_195={class:"form-floating mb-2"},_hoisted_196=createBaseVNode("label",{for:"vk_shop_link"}," ВК-группа ",-1),_hoisted_197=createBaseVNode("p",null,"Загружаем данные бота",-1),_hoisted_198=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_199={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_200=["disabled"];function _sfc_render$6(o,t,s,i,a,n){const r=resolveComponent("Popper"),l=resolveComponent("tempalte"),d=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("div",_hoisted_2$r,[createBaseVNode("div",_hoisted_3$r,[createBaseVNode("div",_hoisted_4$p,[a.bot?(openBlock(),createElementBlock("div",_hoisted_5$p,[createBaseVNode("div",_hoisted_6$p,[withDirectives(createBaseVNode("img",_hoisted_7$p,null,512),[[d,"/images-by-company-id/"+a.bot.company_id+"/"+a.bot.image]])]),createBaseVNode("h2",_hoisted_8$l,toDisplayString(a.bot.bot_domain||"Нет домена"),1),createBaseVNode("p",_hoisted_9$k,[_hoisted_10$j,createTextVNode(" Баланс "+toDisplayString(a.bot.balance||"0")+" ₽ ",1)]),createBaseVNode("p",_hoisted_11$g,[_hoisted_12$g,createTextVNode(" Тариф "+toDisplayString(a.bot.tax_per_day||"0")+" ₽/день ",1)]),createBaseVNode("p",_hoisted_13$e,[_hoisted_14$e,createTextVNode(" Дней "+toDisplayString(a.bot.balance/a.bot.tax_per_day)+" осталось ",1)]),createBaseVNode("div",_hoisted_15$e,[createBaseVNode("div",_hoisted_16$e,[withDirectives(createBaseVNode("input",{class:"form-check-input",onChange:t[0]||(t[0]=(...c)=>n.switchStatus&&n.switchStatus(...c)),"onUpdate:modelValue":t[1]||(t[1]=c=>a.botForm.is_active=c),type:"checkbox",role:"switch",id:"toggle-id-1"},null,544),[[vModelCheckbox,a.botForm.is_active]]),createBaseVNode("label",_hoisted_17$c,[a.botForm.is_active?(openBlock(),createElementBlock("span",_hoisted_18$c,"Вкл")):(openBlock(),createElementBlock("span",_hoisted_19$c,"Выкл"))])])])])):(openBlock(),createElementBlock("div",_hoisted_20$c,_hoisted_23$a)),_hoisted_24$9]),createBaseVNode("form",{onSubmit:t[42]||(t[42]=withModifiers((...c)=>n.addBot&&n.addBot(...c),["prevent"]))},[a.bot?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("ul",_hoisted_25$9,[createBaseVNode("li",_hoisted_26$7,[createBaseVNode("a",{onClick:t[2]||(t[2]=c=>a.tab=0),class:normalizeClass([{active:a.tab===0},"nav-link"]),href:"javascript:void(0)","aria-current":"page"},"Основное",2)]),createBaseVNode("li",_hoisted_27$7,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:a.tab===1}]),onClick:t[3]||(t[3]=c=>a.tab=1),href:"javascript:void(0)"},"Команды",2)]),createBaseVNode("li",_hoisted_28$7,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:a.tab===2}]),onClick:t[4]||(t[4]=c=>a.tab=2),href:"javascript:void(0)"},"Каналы",2)]),createBaseVNode("li",_hoisted_29$6,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:a.tab===3}]),onClick:t[5]||(t[5]=c=>a.tab=3),href:"javascript:void(0)"},"CashBack и платежные системы",2)])]),withDirectives(createBaseVNode("div",null,[_hoisted_30$6,createBaseVNode("div",_hoisted_31$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Имя бота","aria-label":"Имя бота","onUpdate:modelValue":t[6]||(t[6]=c=>a.botForm.bot_domain=c),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,a.botForm.bot_domain]]),_hoisted_32$6]),a.botForm.bot_domain?(openBlock(),createElementBlock("p",_hoisted_33$6,[createTextVNode("Проверить работу бота "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[7]||(t[7]=c=>n.openUrl("https://t.me/"+a.botForm.bot_domain))},"@"+toDisplayString(a.botForm.bot_domain),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_34$6,[createTextVNode(" Взять из BotFater при создании бота! Длинная нечитаемая подсвеченная строка! "),createBaseVNode("a",{href:"javascript:void(0)",onClick:t[8]||(t[8]=c=>n.openUrl("https://t.me/botfather")),class:"w-100",target:"_blank"},"Создать нового бота в ТГ"),createTextVNode(" или получить тоукен существюущего можно по ссылке. ")]),createBaseVNode("div",_hoisted_35$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[9]||(t[9]=c=>a.botForm.bot_token=c),maxlength:"255","aria-describedby":"bot-token",required:""},null,512),[[vModelText,a.botForm.bot_token]]),_hoisted_36$6]),createBaseVNode("div",_hoisted_37$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[10]||(t[10]=c=>a.botForm.bot_token_dev=c),maxlength:"255","aria-describedby":"bot-token-dev"},null,512),[[vModelText,a.botForm.bot_token_dev]]),_hoisted_38$6]),_hoisted_39$6,createBaseVNode("div",_hoisted_40$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Отображаемое имя бота","aria-label":"Отображаемое имя бота","onUpdate:modelValue":t[11]||(t[11]=c=>a.botForm.title=c),maxlength:"64","aria-describedby":"bot-title"},null,512),[[vModelText,a.botForm.title]]),_hoisted_41$5]),_hoisted_42$5,createBaseVNode("div",_hoisted_43$5,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Короткое описание бота","aria-label":"Короткое описание бота","onUpdate:modelValue":t[12]||(t[12]=c=>a.botForm.short_description=c),maxlength:"120",style:{"min-height":"200px"},"aria-describedby":"short-description"},null,512),[[vModelText,a.botForm.short_description]]),createBaseVNode("label",_hoisted_44$5,[createTextVNode(" Короткое описание бота "),a.botForm.short_description?(openBlock(),createElementBlock("small",_hoisted_45$5,toDisplayString(a.botForm.short_description.length)+" / 120",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_46$5,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Длинное описание бота","aria-label":"Длинное описание бота","onUpdate:modelValue":t[13]||(t[13]=c=>a.botForm.long_description=c),maxlength:"512",style:{"min-height":"200px"},"aria-describedby":"short-description"},null,512),[[vModelText,a.botForm.long_description]]),createBaseVNode("label",_hoisted_47$5,[createTextVNode(" Длинное описание бота "),a.botForm.long_description?(openBlock(),createElementBlock("small",_hoisted_48$5,toDisplayString(a.botForm.long_description.length)+" / 512",1)):createCommentVNode("",!0)])])],512),[[vShow,a.tab===0]]),withDirectives(createBaseVNode("div",null,[_hoisted_49$5,a.botForm.commands?createCommentVNode("",!0):(openBlock(),createElementBlock("p",_hoisted_50$5,_hoisted_52$5)),_hoisted_53$5,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.commands,(c,_)=>(openBlock(),createElementBlock("div",{class:"mb-2",key:"commands-"+_},[createBaseVNode("div",_hoisted_54$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Название команды","aria-label":"Название команды",maxlength:"255","onUpdate:modelValue":m=>a.botForm.commands[_].command=m,"aria-describedby":"bot-command-"+_,required:""},null,8,_hoisted_55$5),[[vModelText,a.botForm.commands[_].command]])]),createBaseVNode("div",_hoisted_56$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255","onUpdate:modelValue":m=>a.botForm.commands[_].description=m,"aria-describedby":"bot-command-description-"+_,required:""},null,8,_hoisted_57$5),[[vModelText,a.botForm.commands[_].description]])]),createBaseVNode("button",{type:"button",onClick:m=>n.removeCommands(_),class:"btn btn-outline-danger w-100"},[_hoisted_59$5,createTextVNode(" Удалить команду ")],8,_hoisted_58$5),_hoisted_60$3]))),128)),createBaseVNode("div",_hoisted_61$3,[_hoisted_62$3,createBaseVNode("button",{type:"button",onClick:t[14]||(t[14]=c=>n.addCommands()),class:"btn btn-success w-100"},"Добавить еще команду ")])],512),[[vShow,a.tab===1]]),withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_63$3,[createBaseVNode("div",_hoisted_64$3,[createBaseVNode("label",_hoisted_65$3,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_67$3]),default:withCtx(()=>[_hoisted_66$3]),_:1}),createTextVNode(" Канал для заказов (id) "),createBaseVNode("span",{onClick:t[15]||(t[15]=c=>n.requestChannelId("order_channel"))},_hoisted_69$3)]),createVNode(r,null,{content:withCtx(()=>[_hoisted_71$3]),default:withCtx(()=>[_hoisted_70$3]),_:1})])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[16]||(t[16]=c=>a.botForm.order_channel=c),maxlength:"255","aria-describedby":"bot-order-channel"},null,512),[[vModelText,a.botForm.order_channel]])]),createBaseVNode("div",_hoisted_72$2,[createBaseVNode("div",_hoisted_73$2,[createBaseVNode("label",_hoisted_74$2,[createTextVNode("Канал для постов (id,рекламный) "),createBaseVNode("span",{onClick:t[17]||(t[17]=c=>n.requestChannelId("main_channel"))},_hoisted_76$2)])]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":t[18]||(t[18]=c=>a.botForm.main_channel=c),maxlength:"255","aria-describedby":"bot-main-channel"},null,512),[[vModelText,a.botForm.main_channel]])]),createBaseVNode("div",_hoisted_77$2,[createBaseVNode("div",_hoisted_78$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[19]||(t[19]=c=>a.need_threads=c),type:"checkbox",id:"need-payments"},null,512),[[vModelCheckbox,a.need_threads]]),_hoisted_79$1])]),a.need_threads?(openBlock(),createElementBlock("div",_hoisted_80$1,[_hoisted_81$1,createBaseVNode("ul",_hoisted_82$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.message_threads,(c,_)=>(openBlock(),createElementBlock("li",_hoisted_83$1,[createBaseVNode("p",_hoisted_84,toDisplayString(c.title)+" ("+toDisplayString(c.key)+")",1),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Идентификатор топика","onUpdate:modelValue":m=>a.botForm.message_threads[_].value=m},null,8,_hoisted_85),[[vModelText,a.botForm.message_threads[_].value]])]))),256))])])):createCommentVNode("",!0),a.botForm.bot_token?(openBlock(),createElementBlock("div",_hoisted_86,[createBaseVNode("div",_hoisted_87,[createBaseVNode("div",_hoisted_88,[createBaseVNode("label",_hoisted_89,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_91]),default:withCtx(()=>[_hoisted_90]),_:1}),createTextVNode(" Приветственное сообщение ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_93]),default:withCtx(()=>[_hoisted_92]),_:1})]),a.botForm.welcome_message?(openBlock(),createElementBlock("small",_hoisted_94," Длина текста "+toDisplayString(a.botForm.welcome_message.length),1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое приветствие при запуске бота","aria-label":"Текстовое приветствие при запуске бота","onUpdate:modelValue":t[20]||(t[20]=c=>a.botForm.welcome_message=c),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,a.botForm.welcome_message]])]),createBaseVNode("div",_hoisted_95,[createBaseVNode("div",_hoisted_96,[createBaseVNode("label",_hoisted_97,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_99]),default:withCtx(()=>[_hoisted_98]),_:1}),createTextVNode(" Описание бота ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_101]),default:withCtx(()=>[_hoisted_100]),_:1})]),a.botForm.description?(openBlock(),createElementBlock("small",_hoisted_102," Длина текста "+toDisplayString(a.botForm.description.length)+" / 255",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое описание бота","aria-label":"Текстовое описание бота","onUpdate:modelValue":t[21]||(t[21]=c=>a.botForm.description=c),style:{"min-height":"200px"},"aria-describedby":"bot-description",required:""},`
                    `,512),[[vModelText,a.botForm.description]])]),createBaseVNode("div",_hoisted_103,[createBaseVNode("div",_hoisted_104,[createBaseVNode("label",_hoisted_105,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_107]),default:withCtx(()=>[_hoisted_106]),_:1}),createTextVNode(" Режим тех. работ ")]),createVNode(r,null,{content:withCtx(()=>[_hoisted_109]),default:withCtx(()=>[_hoisted_108]),_:1})]),a.botForm.maintenance_message?(openBlock(),createElementBlock("small",_hoisted_110," Длина текста "+toDisplayString(a.botForm.maintenance_message.length)+" / 255 ",1)):createCommentVNode("",!0)]),withDirectives(createBaseVNode("textarea",{class:"form-control font-12",placeholder:"Текстовое сообщение","aria-label":"Текстовое сообщение","onUpdate:modelValue":t[22]||(t[22]=c=>a.botForm.maintenance_message=c),maxlength:"255",style:{"min-height":"200px"},"aria-describedby":"bot-maintenance-message",required:""},`
                    `,512),[[vModelText,a.botForm.maintenance_message]])]),createBaseVNode("div",_hoisted_111,[createBaseVNode("label",_hoisted_112,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_114]),default:withCtx(()=>[_hoisted_113]),_:1}),createTextVNode(" ВК-группа ")])]),withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на внешний сервис","aria-label":"Ссылка на внешний сервис","onUpdate:modelValue":t[23]||(t[23]=c=>a.botForm.callback_link=c),"aria-describedby":"callback_link"},null,512),[[vModelText,a.botForm.callback_link]])]),_hoisted_115,createBaseVNode("div",_hoisted_116,[createBaseVNode("label",_hoisted_117,[createBaseVNode("div",null,[createVNode(r,null,{content:withCtx(()=>[_hoisted_119]),default:withCtx(()=>[_hoisted_118]),_:1}),createTextVNode(" Информационная ссылка ")]),_hoisted_120]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Ссылка ресурс telegraph","aria-label":"Ссылка ресурс telegraph",maxlength:"255","onUpdate:modelValue":t[24]||(t[24]=c=>a.botForm.info_link=c),"aria-describedby":"bot-info-link"},null,512),[[vModelText,a.botForm.info_link]])]),_hoisted_121,_hoisted_122,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.social_links,(c,_)=>(openBlock(),createElementBlock("div",{class:"d-flex justify-content-between mb-2 flex-wrap",key:"social-link"+_},[createBaseVNode("div",_hoisted_123,[_hoisted_124,createBaseVNode("button",{type:"button",onClick:m=>n.removeItem("social_links",_),class:"btn btn-link text-danger"},_hoisted_127,8,_hoisted_125)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Название ссылки","aria-label":"Название ссылки",maxlength:"255","onUpdate:modelValue":m=>a.botForm.social_links[_].title=m,"aria-describedby":"bot-social-link-"+_,required:""},null,8,_hoisted_128),[[vModelText,a.botForm.social_links[_].title]]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control mb-2",placeholder:"Ссылка на соц.сеть","aria-label":"Ссылка на соц.сеть",maxlength:"255","onUpdate:modelValue":m=>a.botForm.social_links[_].url=m},null,8,_hoisted_129),[[vModelText,a.botForm.social_links[_].url]])]))),128)),createBaseVNode("button",{type:"button",onClick:t[25]||(t[25]=c=>n.addSocialLinks()),class:"btn btn-border btn-m btn-full mb-2 rounded-sm text-uppercase font-900 border-green1-dark color-green1-dark bg-theme w-100"}," Добавить еще ссылку "),_hoisted_130,createBaseVNode("h6",_hoisted_131,[createTextVNode("Аватар для бота "),createVNode(r,null,{content:withCtx(()=>[_hoisted_133]),default:withCtx(()=>[_hoisted_132]),_:1})]),createBaseVNode("div",_hoisted_134,[createBaseVNode("label",_hoisted_135,[_hoisted_136,createBaseVNode("input",{type:"file",id:"bot-photos",multiple:"",accept:"image/*",onChange:t[26]||(t[26]=(...c)=>n.onChangePhotos&&n.onChangePhotos(...c)),style:{display:"none"}},null,32)]),a.botForm.photos?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(a.botForm.photos,(c,_)=>(openBlock(),createElementBlock("div",_hoisted_137,[withDirectives(createBaseVNode("img",null,null,512),[[d,n.getPhoto(c).imageUrl]]),createBaseVNode("div",_hoisted_138,[createBaseVNode("a",{onClick:m=>n.removePhoto(_)},_hoisted_141,8,_hoisted_139)])]))),256)):(openBlock(),createElementBlock("div",_hoisted_142,[withDirectives(createBaseVNode("img",null,null,512),[[d,"/images-by-bot-id/"+a.bot.id+"/"+a.botForm.image]]),createBaseVNode("div",_hoisted_143,[createBaseVNode("a",{onClick:t[27]||(t[27]=c=>n.removePhoto())},_hoisted_145)])]))])])):createCommentVNode("",!0)],512),[[vShow,a.tab===2]]),withDirectives(createBaseVNode("div",null,[createBaseVNode("div",_hoisted_146,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[28]||(t[28]=c=>a.botForm.level_1=c),min:"0","aria-describedby":"bot-level-1",required:""},null,512),[[vModelText,a.botForm.level_1]]),_hoisted_147]),createBaseVNode("div",_hoisted_148,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[29]||(t[29]=c=>a.botForm.level_2=c),min:"0","aria-describedby":"bot-level-2"},null,512),[[vModelText,a.botForm.level_2]]),_hoisted_149]),createBaseVNode("div",_hoisted_150,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень CashBack","onUpdate:modelValue":t[30]||(t[30]=c=>a.botForm.level_3=c),min:"0","aria-describedby":"bot-level-3"},null,512),[[vModelText,a.botForm.level_3]]),_hoisted_151]),createBaseVNode("div",_hoisted_152,[withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[31]||(t[31]=c=>a.botForm.cashback_fire_period=c),id:"cashback-fired-period"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.cashback_fire_periods,c=>(openBlock(),createElementBlock("option",{value:c.value},toDisplayString(c.title||"Не указано"),9,_hoisted_153))),256))],512),[[vModelSelect,a.botForm.cashback_fire_period]]),_hoisted_154]),a.botForm.cashback_fire_period>0?(openBlock(),createElementBlock("div",_hoisted_155,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"%","aria-label":"уровень сгорания CashBack","onUpdate:modelValue":t[32]||(t[32]=c=>a.botForm.cashback_fire_percent=c),min:"0",max:"100","aria-describedby":"cashback-fired-level"},null,512),[[vModelText,a.botForm.cashback_fire_percent]]),_hoisted_156])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_157,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[33]||(t[33]=c=>a.need_cashback_config=c),type:"checkbox",id:"need-cashback-config"},null,512),[[vModelCheckbox,a.need_cashback_config]]),_hoisted_158]),a.need_cashback_config?(openBlock(),createElementBlock("div",_hoisted_159,[_hoisted_160,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.cashback_config,(c,_)=>(openBlock(),createElementBlock("div",{key:"social-link"+_,class:"input-group mb-2"},[createBaseVNode("div",_hoisted_161,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control w-100",placeholder:"Название категории","aria-label":"Название категории",maxlength:"255","onUpdate:modelValue":m=>a.botForm.cashback_config[_].title=m,"aria-describedby":"bot-cashback-config-"+_,required:""},null,8,_hoisted_162),[[vModelText,a.botForm.cashback_config[_].title]]),_hoisted_163]),createBaseVNode("span",_hoisted_164,[createBaseVNode("button",{type:"button",onClick:m=>n.removeCashBackConfig(_),class:"btn text-danger p-1"},_hoisted_167,8,_hoisted_165)])]))),128)),createBaseVNode("button",{type:"button",onClick:t[34]||(t[34]=c=>n.addCashBackConfig()),class:"btn btn-outline-primary p-3 w-100"}," Добавить еще категорию ")])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_168,[withDirectives(createBaseVNode("select",{class:"form-control","onUpdate:modelValue":t[35]||(t[35]=c=>a.selected_warning=c),onChange:t[36]||(t[36]=(...c)=>n.addWarning&&n.addWarning(...c)),id:"warning-rules"},[_hoisted_169,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.filteredWarnings,c=>(openBlock(),createElementBlock("option",{value:c},toDisplayString(c.title),9,_hoisted_170))),256))],544),[[vModelSelect,a.selected_warning]]),_hoisted_171]),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.botForm.warnings,(c,_)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_172,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":m=>a.botForm.warnings[_].is_active=m,type:"checkbox",role:"switch",id:"warning-is-active-"+_},null,8,_hoisted_173),[[vModelCheckbox,a.botForm.warnings[_].is_active]]),createBaseVNode("label",{class:"form-check-label",for:"warning-is-active-"+_},[createTextVNode(toDisplayString(n.getWarning(c.rule_key).title||"Не найдено")+" ",1),a.botForm.warnings[_].is_active?(openBlock(),createElementBlock("span",_hoisted_175,"(Вкл)")):(openBlock(),createElementBlock("span",_hoisted_176,"(Выкл)"))],8,_hoisted_174)]),createBaseVNode("div",_hoisted_177,[createBaseVNode("div",_hoisted_178,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"Значение","onUpdate:modelValue":m=>a.botForm.warnings[_].rule_value=m,min:"0","aria-describedby":"bot-level-3"},null,8,_hoisted_179),[[vModelText,a.botForm.warnings[_].rule_value]])]),createBaseVNode("div",_hoisted_180,[createBaseVNode("button",{onClick:m=>n.removeWarning(_),type:"button",class:"btn p-1"},_hoisted_183,8,_hoisted_181)])])],64))),256)),createBaseVNode("div",_hoisted_184,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[37]||(t[37]=c=>a.need_payments=c),type:"checkbox",role:"switch",id:"need-payments"},null,512),[[vModelCheckbox,a.need_payments]]),_hoisted_185]),a.need_payments?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",_hoisted_186,[withDirectives(createBaseVNode("input",{class:"form-check-input",value:a.botForm.auto_cashback_on_payments,"onUpdate:modelValue":t[38]||(t[38]=c=>a.botForm.auto_cashback_on_payments=c),type:"checkbox",role:"switch",id:"bot-auto-cashback-on-payments"},null,8,_hoisted_187),[[vModelCheckbox,a.botForm.auto_cashback_on_payments]]),_hoisted_188]),_hoisted_189,createBaseVNode("div",_hoisted_190,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"уровень CashBack","onUpdate:modelValue":t[39]||(t[39]=c=>a.botForm.payment_provider_token=c),"aria-describedby":"bot-level-3"},null,512),[[vModelText,a.botForm.payment_provider_token]]),_hoisted_191])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_192,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[40]||(t[40]=c=>a.need_shop=c),type:"checkbox",role:"switch",id:"need-shop"},null,512),[[vModelCheckbox,a.need_shop]]),_hoisted_193]),a.need_shop?(openBlock(),createElementBlock(Fragment,{key:3},[_hoisted_194,createBaseVNode("div",_hoisted_195,[withDirectives(createBaseVNode("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":t[41]||(t[41]=c=>a.botForm.vk_shop_link=c),id:"vk_shop_link","aria-describedby":"vk_shop_link"},null,512),[[vModelText,a.botForm.vk_shop_link]]),_hoisted_196])],64)):createCommentVNode("",!0)],512),[[vShow,a.tab===3]])],64)):(openBlock(),createBlock(l,{key:1},{default:withCtx(()=>[_hoisted_197,_hoisted_198]),_:1})),createBaseVNode("nav",_hoisted_199,[createBaseVNode("button",{disabled:!a.botForm.bot_token,type:"submit",class:"btn btn-primary p-3 w-100"}," Сохранить настройки ",8,_hoisted_200)])],32)])])])}const BotManagerV2=_export_sfc(_sfc_main$r,[["render",_sfc_render$6]]),BotManager=Object.freeze(Object.defineProperty({__proto__:null,default:BotManagerV2},Symbol.toStringTag,{value:"Module"})),PageList_vue_vue_type_style_index_0_lang="",_hoisted_1$q={class:"form-floating mb-2"},_hoisted_2$q=createBaseVNode("label",{for:""},[createBaseVNode("i",{class:"fa fa-search"}),createTextVNode(" Поиск страниц")],-1),_hoisted_3$q={class:"form-floating my-2"},_hoisted_4$o=createBaseVNode("option",{value:"id"},"По номеру страницы",-1),_hoisted_5$o=createBaseVNode("option",{value:"updated_at"},"По дате добавления",-1),_hoisted_6$o=[_hoisted_4$o,_hoisted_5$o],_hoisted_7$o=createBaseVNode("label",{for:"floatingSelect"},"Сортировать по...",-1),_hoisted_8$k={key:0},_hoisted_9$j=createBaseVNode("i",{class:"fa-solid fa-caret-up"},null,-1),_hoisted_10$i=createBaseVNode("i",{class:"fa-solid fa-caret-down"},null,-1),_hoisted_11$f={key:1,class:"list-group w-100"},_hoisted_12$f={class:"d-flex justify-content-between align-items-center"},_hoisted_13$d=["onClick"],_hoisted_14$d={class:"badge bg-primary mr-2 rounded-5",style:{"font-size":"10px"}},_hoisted_15$d={key:0},_hoisted_16$d={key:1},_hoisted_17$b=createBaseVNode("i",{class:"fa-solid fa-lock"},null,-1),_hoisted_18$b=[_hoisted_17$b],_hoisted_19$b={class:"component-icons mt-2"},_hoisted_20$b={key:0},_hoisted_21$a=createBaseVNode("i",{class:"fa-regular fa-images"},null,-1),_hoisted_22$a=[_hoisted_21$a],_hoisted_23$9={key:1},_hoisted_24$8=createBaseVNode("i",{class:"fa-regular fa-note-sticky"},null,-1),_hoisted_25$8=[_hoisted_24$8],_hoisted_26$6={key:2},_hoisted_27$6=createBaseVNode("i",{class:"fa-solid fa-photo-film"},null,-1),_hoisted_28$6=[_hoisted_27$6],_hoisted_29$5={key:3},_hoisted_30$5=createBaseVNode("i",{class:"fa-regular fa-file-audio"},null,-1),_hoisted_31$5=[_hoisted_30$5],_hoisted_32$5={key:4},_hoisted_33$5=createBaseVNode("i",{class:"fa-regular fa-file-word"},null,-1),_hoisted_34$5=[_hoisted_33$5],_hoisted_35$5={key:5},_hoisted_36$5=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_37$5=[_hoisted_36$5],_hoisted_38$5={key:6},_hoisted_39$5=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_40$4=[_hoisted_39$5],_hoisted_41$4={key:7},_hoisted_42$4=createBaseVNode("i",{class:"fa-regular fa-comment-dots"},null,-1),_hoisted_43$4=[_hoisted_42$4],_hoisted_44$4={key:8},_hoisted_45$4=createBaseVNode("i",{class:"fa-solid fa-scale-balanced"},null,-1),_hoisted_46$4=[_hoisted_45$4],_hoisted_47$4={key:9},_hoisted_48$4=createBaseVNode("i",{class:"fa-regular fa-keyboard"},null,-1),_hoisted_49$4=[_hoisted_48$4],_hoisted_50$4={key:10},_hoisted_51$4=createBaseVNode("i",{class:"fa-solid fa-ellipsis"},null,-1),_hoisted_52$4=[_hoisted_51$4],_hoisted_53$4={key:0,class:"dropdown"},_hoisted_54$4=createBaseVNode("button",{class:"btn",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-ellipsis"})],-1),_hoisted_55$4={class:"dropdown-menu"},_hoisted_56$4=["onClick"],_hoisted_57$4=["onClick"],_hoisted_58$4={key:3,class:"alert alert-warning",role:"alert"},_hoisted_59$4={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},__default__$k={props:["current","editor"],data(){return{bot:null,loading:!0,pages:[],sort:{param:"id",direction:"desc"},search:null,pages_paginate_object:null,need_new_page:!1}},computed:{...mapGetters(["getPages","getPagesPaginateObject"])},mounted(){this.loadPages(),window.addEventListener("reload-page-list",o=>{this.loadPages()})},methods:{changeDirection(o){this.sort.direction=o,this.loadOrders(0)},duplicatePage(o){let t=this.pages.findIndex(s=>s.id===o);t!==-1&&(this.pages[t].before_duplicate=!0),this.$store.dispatch("duplicatePage",{dataObject:{pageId:o}}).then(s=>{this.$notify({title:"Управление страница",text:"Страница успешно продублирована!",type:"success"}),this.sort.param="id",this.sort.direction="desc",this.loadPages()}).catch(()=>{this.$notify({title:"Управление страница",text:"Ошибка дублирования страницы!",type:"error"})})},removePage(o){let t=this.pages.findIndex(s=>s.id===o);t!==-1&&(this.pages[t].before_deleted=!0),this.$store.dispatch("removePage",{dataObject:{pageId:o}}).then(s=>{this.$notify({title:"Управление страница",text:"Страница успешно удалена!",type:"success"}),this.loadPages()}).catch(()=>{this.$notify({title:"Управление страница",text:"Ошибка удаления страницы!",type:"error"})})},selectPage(o){this.$emit("callback",o)},nextPages(o){this.loadPages(o)},loadPages(o=0){this.$store.dispatch("loadPages",{dataObject:{search:this.search,order_by:this.sort.param||null,direction:this.sort.direction||"asc"},page:o}).then(t=>{this.pages=this.getPages,this.pages_paginate_object=this.getPagesPaginateObject}).catch(()=>{})}}},_sfc_main$q=Object.assign(__default__$k,{__name:"PageList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$q,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),class:"form-control",placeholder:"Поиск страницы"},null,512),[[vModelText,t.search]]),_hoisted_2$q]),createBaseVNode("div",_hoisted_3$q,[withDirectives(createBaseVNode("select",{onChange:s[1]||(s[1]=i=>t.loadPages(0)),"onUpdate:modelValue":s[2]||(s[2]=i=>t.sort.param=i),class:"form-select",id:"floatingSelect","aria-label":"Floating label select example"},_hoisted_6$o,544),[[vModelSelect,t.sort.param]]),_hoisted_7$o]),t.sort.param!=null?(openBlock(),createElementBlock("p",_hoisted_8$k,[createTextVNode("Направление сортировки: "),t.sort.direction==="asc"?(openBlock(),createElementBlock("span",{key:0,class:"fw-bold",onClick:s[3]||(s[3]=i=>t.changeDirection("desc"))},[createTextVNode("по возрастанию "),_hoisted_9$j])):createCommentVNode("",!0),t.sort.direction==="desc"?(openBlock(),createElementBlock("span",{key:1,class:"fw-bold",onClick:s[4]||(s[4]=i=>t.changeDirection("asc"))},[createTextVNode("по убыванию "),_hoisted_10$i])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("button",{class:"btn btn-primary p-3 mb-3 w-100",onClick:s[5]||(s[5]=(...i)=>t.loadPages&&t.loadPages(...i)),type:"button",id:"button-addon2"},"Найти "),t.pages.length>0?(openBlock(),createElementBlock("ul",_hoisted_11$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pages,(i,a)=>(openBlock(),createElementBlock("li",{class:normalizeClass([{"bg-danger text-white":i.before_deleted,"bg-success text-white":i.before_duplicate},"list-group-item cursor-pointer px-2 py-2 border-light"])},[createBaseVNode("div",_hoisted_12$f,[createBaseVNode("strong",{onClick:n=>t.selectPage(i)},[createBaseVNode("span",_hoisted_14$d,"#"+toDisplayString(i.id||"Не указано"),1),i.slug?(openBlock(),createElementBlock("span",_hoisted_15$d,toDisplayString(i.slug.command||"Не указано"),1)):createCommentVNode("",!0),o.current&&o.current===i.id?(openBlock(),createElementBlock("span",_hoisted_16$d,_hoisted_18$b)):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_19$b,[(i.images||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_20$b,_hoisted_22$a)):createCommentVNode("",!0),i.sticker?(openBlock(),createElementBlock("li",_hoisted_23$9,_hoisted_25$8)):createCommentVNode("",!0),(i.videos||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_26$6,_hoisted_28$6)):createCommentVNode("",!0),(i.audios||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_29$5,_hoisted_31$5)):createCommentVNode("",!0),(i.documents||[]).length>0?(openBlock(),createElementBlock("li",_hoisted_32$5,_hoisted_34$5)):createCommentVNode("",!0),i.next_page_id?(openBlock(),createElementBlock("li",_hoisted_35$5,_hoisted_37$5)):createCommentVNode("",!0),i.next_bot_menu_slug_id?(openBlock(),createElementBlock("li",_hoisted_38$5,_hoisted_40$4)):createCommentVNode("",!0),i.next_bot_dialog_command_id?(openBlock(),createElementBlock("li",_hoisted_41$4,_hoisted_43$4)):createCommentVNode("",!0),i.rules_if?(openBlock(),createElementBlock("li",_hoisted_44$4,_hoisted_46$4)):createCommentVNode("",!0),i.reply_keyboard_id?(openBlock(),createElementBlock("li",_hoisted_47$4,_hoisted_49$4)):createCommentVNode("",!0),i.inline_keyboard_id?(openBlock(),createElementBlock("li",_hoisted_50$4,_hoisted_52$4)):createCommentVNode("",!0)])],8,_hoisted_13$d),o.editor?(openBlock(),createElementBlock("div",_hoisted_53$4,[_hoisted_54$4,createBaseVNode("ul",_hoisted_55$4,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:n=>t.duplicatePage(i.id),href:"javascript:void(0)"},"Дублировать",8,_hoisted_56$4)]),createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:n=>t.removePage(i.id),href:"javascript:void(0)"},"Удалить",8,_hoisted_57$4)])])])):createCommentVNode("",!0)])],2))),256))])):createCommentVNode("",!0),t.pages_paginate_object?(openBlock(),createBlock(Pagination,{key:2,simple:!0,onPagination_page:t.nextPages,pagination:t.pages_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_58$4," Созданных страниц не найдено! ")),createBaseVNode("nav",_hoisted_59$4,[createBaseVNode("button",{onClick:s[6]||(s[6]=i=>t.selectPage(null)),style:{"box-shadow":"1px 1px 6px 0px #0000004a"},class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center"}," Добавить новую страницу ")])],64))}}),_hoisted_1$p={key:0},_hoisted_2$p=createBaseVNode("h6",null,"Форма создания шаблона клавиатуры",-1),_hoisted_3$p={class:"mb-3"},_hoisted_4$n=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"Тип",-1),_hoisted_5$n=createBaseVNode("option",{value:"reply"},"Нижняя клавиатура",-1),_hoisted_6$n=createBaseVNode("option",{value:"inline"},"Встроенная клавиатура",-1),_hoisted_7$n=[_hoisted_5$n,_hoisted_6$n],_hoisted_8$j={class:"mb-3"},_hoisted_9$i={class:"form-label d-flex justify-content-between",id:"bot-domain"},_hoisted_10$h=createBaseVNode("span",null,"Мнемоническое имя",-1),_hoisted_11$e=createBaseVNode("i",{class:"fa-solid fa-arrows-rotate"},null,-1),_hoisted_12$e=[_hoisted_11$e],_hoisted_13$c={class:"col-12"},_hoisted_14$c=createBaseVNode("button",{class:"btn btn-m btn-full mb-0 rounded-xs text-uppercase font-900 shadow-s bg-green1-dark w-100"}," Добавить новый шаблон клавиатуры ",-1),_hoisted_15$c=createBaseVNode("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),_hoisted_16$c={key:1,class:"mb-1"},_hoisted_17$a={class:"badge bg-warning"},_hoisted_18$a={class:"mb-3"},_hoisted_19$a={key:1,class:"card"},_hoisted_20$a={class:"card-body"},_hoisted_21$9={key:3,class:"mb-3"},_hoisted_22$9=createBaseVNode("div",{class:"alert alert-warning",role:"alert"},[createBaseVNode("p",null,"Список шаблонов клавиатур пуст!")],-1),_hoisted_23$8=[_hoisted_22$9],__default__$j={props:["selectMode","type"],data(){return{keyboards:[],load:!1,editedKeyboard:null,selectMenuIndex:null,keyboardForm:{type:"reply",slug:null,menu:[]}}},computed:{filteredKeyboard(){return this.type?this.keyboards.filter(o=>o.type==this.type):this.keyboards}},mounted(){this.loadMenusByBotTemplate(),this.generateSlug()},methods:{selectCard(o){this.$emit("select",o)},keyboardCallbackAction(o){let t=this.keyboards.find(s=>s.id===o);t.deleted_at=new Date,this.loadMenusByBotTemplate()},loadMenusByBotTemplate(){this.$store.dispatch("loadBotKeyboards").then(o=>{this.$nextTick(()=>{this.keyboards=o.data})})},submitKeyboard(){let o=new FormData;Object.keys(this.keyboardForm).forEach(t=>{const s=this.keyboardForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("createKeyboardTemplate",{keyboardForm:o}).then(t=>{this.keyboardForm={type:"reply",slug:null,menu:[]},this.load=!0,this.$nextTick(()=>{this.load=!1}),this.loadMenusByBotTemplate()})},generateSlug(){this.keyboardForm.slug=v4()},changeKeyboardFormMenu(o){this.keyboardForm.menu=o}}},_sfc_main$p=Object.assign(__default__$j,{__name:"KeyboardList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[o.selectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1$p,[_hoisted_2$p,createBaseVNode("form",{onSubmit:s[3]||(s[3]=withModifiers((...i)=>t.submitKeyboard&&t.submitKeyboard(...i),["prevent"]))},[createBaseVNode("div",_hoisted_3$p,[_hoisted_4$n,withDirectives(createBaseVNode("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.keyboardForm.type=i),class:"form-control"},_hoisted_7$n,512),[[vModelSelect,t.keyboardForm.type]])]),createBaseVNode("div",_hoisted_8$j,[createBaseVNode("label",_hoisted_9$i,[_hoisted_10$h,createBaseVNode("a",{onClick:s[1]||(s[1]=(...i)=>t.generateSlug&&t.generateSlug(...i)),href:"javascript:void(0)"},_hoisted_12$e)]),withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Мнемоническое имя","aria-label":"Мнемоническое имя","onUpdate:modelValue":s[2]||(s[2]=i=>t.keyboardForm.slug=i),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.keyboardForm.slug]])]),createBaseVNode("div",_hoisted_13$c,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(KeyboardConstructor,{key:0,onSave:t.changeKeyboardFormMenu,"edited-keyboard":t.keyboardForm},null,8,["onSave","edited-keyboard"]))]),_hoisted_14$c],32),_hoisted_15$c])),t.keyboards?(openBlock(),createElementBlock("p",_hoisted_16$c,[createTextVNode("В списке клавиатур "),createBaseVNode("span",_hoisted_17$a,toDisplayString(t.filteredKeyboard.length)+" ед.",1)])):createCommentVNode("",!0),t.keyboards?(openBlock(!0),createElementBlock(Fragment,{key:2},renderList(t.filteredKeyboard,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_18$a,[i.deleted_at?(openBlock(),createElementBlock("div",_hoisted_19$a,[createBaseVNode("div",_hoisted_20$a,[createBaseVNode("p",null,"Удаленная клавиатура #"+toDisplayString(i.id),1)])])):(openBlock(),createBlock(_sfc_main$2p,{key:0,"select-mode":o.selectMode,onSelect:t.selectCard,onReload:t.loadMenusByBotTemplate,onCallback:t.keyboardCallbackAction,keyboard:i},null,8,["select-mode","onSelect","onReload","onCallback","keyboard"]))]))),256)):createCommentVNode("",!0),t.filteredKeyboard.length===0?(openBlock(),createElementBlock("div",_hoisted_21$9,_hoisted_23$8)):createCommentVNode("",!0)],64))}}),BotSlugListSimple_vue_vue_type_style_index_0_lang="",_hoisted_1$o=createBaseVNode("h6",null,"Добавление нового скрипта в бота",-1),_hoisted_2$o={class:"form-floating"},_hoisted_3$o=createBaseVNode("label",{for:""},"Поиск скрипта",-1),_hoisted_4$m=["onClick"],_hoisted_5$m={class:"form-control d-flex flex-column mb-2"},_hoisted_6$m={class:"fw-bold"},_hoisted_7$m={class:"fst-italic",style:{"font-size":"12px"}},_hoisted_8$i={key:1,class:"alert alert-light",role:"alert"},_hoisted_9$h={class:"mb-3"},__default__$i={props:["global","selected"],data(){return{load:!1,paginate:null,search:null,slugs:[]}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs?this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",s=o.command||"",i=o.comment||"";return s.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1}):[]}},mounted(){this.loadSlugs()},methods:{nextSlugs(o){this.loadSlugs(o)},selectSlug(o){this.$emit("callback",{id:o.id||null,slug:o.slug,comment:o.comment,command:o.command}),this.$botNotification.notification("Скрипты","Вы выбрали скрипт из списка!")},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.global||!1},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})}}},_sfc_main$o=Object.assign(__default__$i,{__name:"BotSlugListSimple",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$o,createBaseVNode("div",_hoisted_2$o,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control mt-1 mb-1","onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i),placeholder:"Поиск нужного скрипта по описанию"},null,512),[[vModelText,t.search]]),_hoisted_3$o]),t.filteredSlugs.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.filteredSlugs,(i,a)=>(openBlock(),createElementBlock("div",{onClick:n=>t.selectSlug(i),class:"input-group mb-0 align-items-start"},[createBaseVNode("div",{class:normalizeClass(["input-group-text d-flex flex-column",{"bg-primary text-white":o.selected==i.id}]),style:{"font-size":"12px"},id:"basic-addon1"},[createBaseVNode("span",null," #"+toDisplayString(i.id),1)],2),createBaseVNode("p",_hoisted_5$m,[createBaseVNode("span",_hoisted_6$m,toDisplayString(i.command||"Нет команды"),1),createBaseVNode("span",_hoisted_7$m,toDisplayString(i.comment||"Нет описания"),1)])],8,_hoisted_4$m))),256)):(openBlock(),createElementBlock("div",_hoisted_8$i,' У Вас еще нет добавленных скриптов! Воспользуйтесь разделом "Скрипты" для добавления. ')),createBaseVNode("div",_hoisted_9$h,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])],64))}}),_hoisted_1$n={key:0},_hoisted_2$n={class:"mb-2"},_hoisted_3$n={class:"mb-2"},_hoisted_4$l={key:0,class:"list-group list-boxes"},_hoisted_5$l=["onClick"],_hoisted_6$l={class:"bg-primary badge"},_hoisted_7$l={key:1,class:"alert alert-warning",role:"alert"},__default__$h={data(){return{loading:!0,dialogs:[],search:null,dialogs_paginate_object:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"])},mounted(){this.loadDialogs()},methods:{selectDialog(o){this.$emit("select-dialog",o),this.$botNotification.notification("Диалоги","Вы выбрали диалог из списка!")},nextDialogs(o){this.loadDialogs(o)},loadDialogs(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialogs=this.getDialogs,this.dialogs_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$n=Object.assign(__default__$h,{__name:"BotDialogGroupListSimple",setup(o){return(t,s)=>t.dialogs.length>0?(openBlock(),createElementBlock("div",_hoisted_1$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.dialogs,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_2$n,[createBaseVNode("p",_hoisted_3$n," #"+toDisplayString(i.id)+" - "+toDisplayString(i.title||"Не указано ")+" ("+toDisplayString(i.slug||"Не указано")+")",1),i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("div",_hoisted_4$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(n,r)=>(openBlock(),createElementBlock("div",{onClick:l=>t.selectDialog(n),class:"border rounded-2 p-3 mb-2"},[createBaseVNode("span",_hoisted_6$l,"#"+toDisplayString(n.id),1),createTextVNode(" "+toDisplayString(n.pre_text||"-"),1)],8,_hoisted_5$l))),256))])):createCommentVNode("",!0)]))),256)),t.dialogs_paginate_object?(openBlock(),createBlock(Pagination,{key:0,onPagination_page:t.nextDialogs,pagination:t.dialogs_paginate_object},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_7$l," У выбранного бота нет созданных диалоговых групп "))}}),_hoisted_1$m=createBaseVNode("div",{class:"alert alert-success",role:"alert"},' Проверка правил идет по методу "И" - все правила должны выполняться для перехода на данную страницу, иначе будет вызвана страница из блока "иначе". Действия для "иначе" добавлять не обязательно. ',-1),_hoisted_2$m=createBaseVNode("h6",{class:"my-2 fw-bold"},"Блок условий (если)",-1),_hoisted_3$m=createBaseVNode("div",{class:"alert-light alert mb-2",id:"bot-domain"}," Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие будет выполнено. Не обязательно ",-1),_hoisted_4$k={class:"form-floating mb-2"},_hoisted_5$k=createBaseVNode("label",{for:"rules-if-message"},"Текст сообщения",-1),_hoisted_6$k={class:"dropdown"},_hoisted_7$k=createBaseVNode("button",{class:"btn btn-outline-primary w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Доступные для выбора условия ",-1),_hoisted_8$h={class:"dropdown-menu w-100"},_hoisted_9$g=["onClick"],_hoisted_10$g={class:"dropdown-item",href:"javascript:void(0)"},_hoisted_11$d={key:1,class:"my-2"},_hoisted_12$d={key:2,class:"list-group"},_hoisted_13$b={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_14$b={class:"form-check"},_hoisted_15$b={class:"form-check-label",for:"bot-user-is-vip"},_hoisted_16$b={key:0},_hoisted_17$9={key:1},_hoisted_18$9=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_19$9=[_hoisted_18$9],_hoisted_20$9={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_21$8={class:"form-check"},_hoisted_22$8={class:"form-check-label",for:"bot-user-is-admin"},_hoisted_23$7={key:0},_hoisted_24$7={key:1},_hoisted_25$7=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_26$5=[_hoisted_25$7],_hoisted_27$5={key:2,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_28$5={class:"form-check"},_hoisted_29$4={class:"form-check-label",for:"bot-user-is-deliveryman"},_hoisted_30$4={key:0},_hoisted_31$4={key:1},_hoisted_32$4=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_33$4=[_hoisted_32$4],_hoisted_34$4={key:3,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_35$4={class:"form-check"},_hoisted_36$4={class:"form-check-label",for:"bot-user-is-work"},_hoisted_37$4={key:0},_hoisted_38$4={key:1},_hoisted_39$4=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_40$3=[_hoisted_39$4],_hoisted_41$3={key:4,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_42$3={class:"form-check"},_hoisted_43$3={class:"form-check-label",for:"bot-user-in-location"},_hoisted_44$3={key:0},_hoisted_45$3={key:1},_hoisted_46$3=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_47$3=[_hoisted_46$3],_hoisted_48$3={key:5,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_49$3=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Возраст от ",-1),_hoisted_50$3=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_51$3=[_hoisted_50$3],_hoisted_52$3={key:6,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_53$3=createBaseVNode("label",{class:"form-label",id:"bot-domain"}," Только для города ",-1),_hoisted_54$3=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_55$3=[_hoisted_54$3],_hoisted_56$3={key:7,class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_57$3={class:"form-check"},_hoisted_58$3={class:"form-check-label",for:"bot-user-sex"},_hoisted_59$3={key:0},_hoisted_60$2={key:1},_hoisted_61$2=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_62$2=[_hoisted_61$2],_hoisted_63$2={key:8,class:"list-group-item"},_hoisted_64$2={class:"mb-3"},_hoisted_65$2={class:"d-flex justify-content-between align-items-center"},_hoisted_66$2={class:"form-label d-flex w-100 align-items-center",id:"bot-order-channel"},_hoisted_67$2=["onClick"],_hoisted_68$2=createBaseVNode("i",{class:"fa-solid fa-trash-can"},null,-1),_hoisted_69$2=[_hoisted_68$2],_hoisted_70$2={class:"form-floating"},_hoisted_71$2=["onUpdate:modelValue"],_hoisted_72$1=createBaseVNode("label",{for:""},"id канала",-1),_hoisted_73$1={key:3,class:"my-3 fw-bold"},_hoisted_74$1={key:4,class:"d-flex justify-content-between"},_hoisted_75$1={key:6,class:"py-2"},_hoisted_76$1=createBaseVNode("div",{class:"alert-light alert mb-2",id:"bot-domain"},' Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие не будет выполнено и будет вызван блок "иначе" ',-1),_hoisted_77$1={class:"form-floating mb-2"},_hoisted_78$1=createBaseVNode("label",{for:"rules-else-message"},"Текст сообщения",-1),__default__$g={props:["bot","rulesForm"],data(){return{rules:[{id:1,title:"Является администратором",rules_block:"bot_user",rule:{is_admin:!0}},{id:2,title:"Является VIP-пользователем",rules_block:"bot_user",rule:{is_vip:!0}},{id:3,title:"Находится в заведении",rules_block:"bot_user",rule:{user_in_location:!0}},{id:4,title:"За работой",rules_block:"bot_user",rule:{is_work:!0}},{id:5,title:"Возраст от ...",rules_block:"bot_user",rule:{age:18}},{id:6,title:"Находится в городе ...",rules_block:"bot_user",rule:{city:"Краснодар"}},{id:7,title:"Пол",rules_block:"bot_user",rule:{sex:!0}},{id:8,title:"Состоит в канале",rules_block:"channels",rule:{channel:1}},{id:9,title:"Является Менеджером",rules_block:"bot_user",rule:{is_manager:!0}}]}},mounted(){window.addEventListener("select-rule-event",o=>{this.addRulesFromEvent(o.detail.rule)})},methods:{hasRuleKey(o){return this.rulesForm.rules_if==null?!1:Object.keys(this.rulesForm.rules_if.bot_user).find(t=>t===o)!=null},modifyChannel(o){this.rulesForm.rules_if.channels[o.param]=o.text},removeChannelFromRule(o){this.rulesForm.rules_if.channels.splice(o,1),this.checkRules()},checkRules(){const o=Object.getOwnPropertyNames(this.rulesForm.rules_if.bot_user),t=this.rulesForm.rules_if.channels;o.length===0&&t.length===0&&(this.rulesForm.rules_if=null)},removeRule(o){delete this.rulesForm.rules_if.bot_user[o],this.checkRules()},addRulesFromEvent(o){this.rulesForm.rules_if||(this.rulesForm.rules_if={bot_user:{},channels:[]}),o.rules_block==="bot_user"&&(this.rulesForm.rules_if.bot_user={...this.rulesForm.rules_if.bot_user,...o.rule}),o.rules_block==="channels"&&this.rulesForm.rules_if.channels.push(o.rule.channel)},attachPageToRule(o){o.id!=this.rulesForm.id?this.rulesForm.rules_else_page_id=o.id:this.$botNotification.warning("Правила страниц","Вы не можете связать данную страницу с собой")},openRulesModal(){this.$botPages.rules()}}},_sfc_main$m=Object.assign(__default__$g,{__name:"PageRules",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$m,_hoisted_2$m,o.rulesForm.rules_if?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_3$m,createBaseVNode("div",_hoisted_4$k,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":s[0]||(s[0]=i=>o.rulesForm.rules_if_message=i),maxlength:"255",id:"rules-if-message","aria-describedby":"rules-if-message"},`
            `,512),[[vModelText,o.rulesForm.rules_if_message]]),_hoisted_5$k])],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$k,[_hoisted_7$k,createBaseVNode("ul",_hoisted_8$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.rules,i=>(openBlock(),createElementBlock("li",{onClick:a=>t.addRulesFromEvent(i)},[createBaseVNode("a",_hoisted_10$g,toDisplayString(i.title||"Не указан"),1)],8,_hoisted_9$g))),256))])]),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_11$d,"Выбранные условия")):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("ul",_hoisted_12$d,[t.hasRuleKey("is_vip")?(openBlock(),createElementBlock("li",_hoisted_13$b,[createBaseVNode("div",_hoisted_14$b,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[1]||(s[1]=i=>o.rulesForm.rules_if.bot_user.is_vip=i),type:"checkbox",id:"bot-user-is-vip"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_vip]]),createBaseVNode("label",_hoisted_15$b,[o.rulesForm.rules_if.bot_user.is_vip?(openBlock(),createElementBlock("span",_hoisted_16$b,"Является VIP-пользователем")):(openBlock(),createElementBlock("span",_hoisted_17$9,"Не является VIP-пользователем"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[2]||(s[2]=i=>t.removeRule("is_vip"))},_hoisted_19$9)])):createCommentVNode("",!0),t.hasRuleKey("is_admin")?(openBlock(),createElementBlock("li",_hoisted_20$9,[createBaseVNode("div",_hoisted_21$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[3]||(s[3]=i=>o.rulesForm.rules_if.bot_user.is_admin=i),type:"checkbox",id:"bot-user-is-admin"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_admin]]),createBaseVNode("label",_hoisted_22$8,[o.rulesForm.rules_if.bot_user.is_admin?(openBlock(),createElementBlock("span",_hoisted_23$7,"Является администратором")):(openBlock(),createElementBlock("span",_hoisted_24$7,"Не является администратором"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[4]||(s[4]=i=>t.removeRule("is_admin"))},_hoisted_26$5)])):createCommentVNode("",!0),t.hasRuleKey("is_deliveryman")?(openBlock(),createElementBlock("li",_hoisted_27$5,[createBaseVNode("div",_hoisted_28$5,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[5]||(s[5]=i=>o.rulesForm.rules_if.bot_user.is_deliveryman=i),type:"checkbox",id:"bot-user-is-deliveryman"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_deliveryman]]),createBaseVNode("label",_hoisted_29$4,[o.rulesForm.rules_if.bot_user.is_deliveryman?(openBlock(),createElementBlock("span",_hoisted_30$4,"Является доставщиком")):(openBlock(),createElementBlock("span",_hoisted_31$4,"Не является доставщиком"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[6]||(s[6]=i=>t.removeRule("is_deliveryman"))},_hoisted_33$4)])):createCommentVNode("",!0),t.hasRuleKey("is_work")?(openBlock(),createElementBlock("li",_hoisted_34$4,[createBaseVNode("div",_hoisted_35$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[7]||(s[7]=i=>o.rulesForm.rules_if.bot_user.is_work=i),type:"checkbox",id:"bot-user-is-work"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.is_work]]),createBaseVNode("label",_hoisted_36$4,[o.rulesForm.rules_if.bot_user.is_work?(openBlock(),createElementBlock("span",_hoisted_37$4,"За работой")):(openBlock(),createElementBlock("span",_hoisted_38$4,"Не работает"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[8]||(s[8]=i=>t.removeRule("is_work"))},_hoisted_40$3)])):createCommentVNode("",!0),t.hasRuleKey("user_in_location")?(openBlock(),createElementBlock("li",_hoisted_41$3,[createBaseVNode("div",_hoisted_42$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[9]||(s[9]=i=>o.rulesForm.rules_if.bot_user.user_in_location=i),type:"checkbox",id:"bot-user-in-location"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.user_in_location]]),createBaseVNode("label",_hoisted_43$3,[o.rulesForm.rules_if.bot_user.user_in_location?(openBlock(),createElementBlock("span",_hoisted_44$3,"Находится в заведении")):(openBlock(),createElementBlock("span",_hoisted_45$3,"Не находится в заведении"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[10]||(s[10]=i=>t.removeRule("user_in_location"))},_hoisted_47$3)])):createCommentVNode("",!0),t.hasRuleKey("age")?(openBlock(),createElementBlock("li",_hoisted_48$3,[createBaseVNode("div",null,[_hoisted_49$3,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Возраст от","aria-label":"Возраст от","onUpdate:modelValue":s[11]||(s[11]=i=>o.rulesForm.rules_if.bot_user.age=i),maxlength:"255","aria-describedby":"bot-user-age"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.age]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[12]||(s[12]=i=>t.removeRule("age"))},_hoisted_51$3)])):createCommentVNode("",!0),t.hasRuleKey("city")?(openBlock(),createElementBlock("li",_hoisted_52$3,[createBaseVNode("div",null,[_hoisted_53$3,withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Город","aria-label":"Город","onUpdate:modelValue":s[13]||(s[13]=i=>o.rulesForm.rules_if.bot_user.city=i),maxlength:"255","aria-describedby":"bot-user-city"},null,512),[[vModelText,o.rulesForm.rules_if.bot_user.city]])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[14]||(s[14]=i=>t.removeRule("city"))},_hoisted_55$3)])):createCommentVNode("",!0),t.hasRuleKey("sex")?(openBlock(),createElementBlock("li",_hoisted_56$3,[createBaseVNode("div",_hoisted_57$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[15]||(s[15]=i=>o.rulesForm.rules_if.bot_user.sex=i),type:"checkbox",id:"bot-user-sex"},null,512),[[vModelCheckbox,o.rulesForm.rules_if.bot_user.sex]]),createBaseVNode("label",_hoisted_58$3,[o.rulesForm.rules_if.bot_user.sex?(openBlock(),createElementBlock("span",_hoisted_59$3,"Только для мужчин")):(openBlock(),createElementBlock("span",_hoisted_60$2,"Только для женщин"))])]),createBaseVNode("button",{type:"button",class:"btn btn-outline-info",onClick:s[16]||(s[16]=i=>t.removeRule("sex"))},_hoisted_62$2)])):createCommentVNode("",!0),o.rulesForm.rules_if.channels.length>0?(openBlock(),createElementBlock("li",_hoisted_63$2,[createTextVNode("Проверка нахождения в канале \\ группе: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.rulesForm.rules_if.channels,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_64$2,[createBaseVNode("div",_hoisted_65$2,[createBaseVNode("label",_hoisted_66$2,[createVNode(TelegramChannelHelper,{token:o.bot.bot_token,param:`${a}`,onCallback:t.modifyChannel},null,8,["token","param","onCallback"]),createTextVNode(" Канал для проверки ")]),createBaseVNode("button",{type:"button",class:"btn btn-link text-danger",onClick:n=>t.removeChannelFromRule(a)},_hoisted_69$2,8,_hoisted_67$2)]),createBaseVNode("div",_hoisted_70$2,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":n=>o.rulesForm.rules_if.channels[a]=n,maxlength:"255","aria-describedby":"bot-order-channel"},null,8,_hoisted_71$2),[[vModelText,o.rulesForm.rules_if.channels[a]]]),_hoisted_72$1])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("h6",_hoisted_73$1,"Иначе")):createCommentVNode("",!0),o.rulesForm.rules_else_page_id?(openBlock(),createElementBlock("p",_hoisted_74$1,[createTextVNode("Вы выбрали страницу #"+toDisplayString(o.rulesForm.rules_else_page_id)+' в качестве условия "иначе" ',1),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[17]||(s[17]=i=>o.rulesForm.rules_else_page_id=null)},"Очистить")])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createBlock(_sfc_main$q,{key:5,current:o.rulesForm.id,onCallback:t.attachPageToRule,editor:!1},null,8,["current","onCallback"])):createCommentVNode("",!0),o.rulesForm.rules_if?(openBlock(),createElementBlock("div",_hoisted_75$1,[_hoisted_76$1,createBaseVNode("div",_hoisted_77$1,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":s[18]||(s[18]=i=>o.rulesForm.rules_else_message=i),maxlength:"255",id:"rules-else-message","aria-describedby":"rules-else-message"},`
            `,512),[[vModelText,o.rulesForm.rules_else_message]]),_hoisted_78$1])])):createCommentVNode("",!0)],64))}}),_hoisted_1$l=createBaseVNode("i",{class:"fa-solid fa-xmark mr-1"},null,-1),_hoisted_2$l={key:1,class:"form-check form-switch mb-2"},_hoisted_3$l=createBaseVNode("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Отобразить QR-код и ссылку на страницу",-1),_hoisted_4$j={key:2,class:"alert alert-info mb-2"},_hoisted_5$j={class:"d-flex justify-content-center"},_hoisted_6$j={style:{width:"300px",height:"300px"}},_hoisted_7$j=createBaseVNode("div",{class:"alert alert-light mb-2"},[createTextVNode(" Команда должна начинаться с символа . и *"),createBaseVNode("br"),createTextVNode(" Например: .*Меню ")],-1),_hoisted_8$g={class:"form-floating mb-2"},_hoisted_9$f=createBaseVNode("label",{class:"form-label",id:"bot-domain"},[createTextVNode(" Команда "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_10$f={class:"form-floating mb-2"},_hoisted_11$c=createBaseVNode("label",{class:"form-label",id:"bot-domain"},[createTextVNode(" Описание страницы "),createBaseVNode("span",{class:"fw-bold text-danger"},"*")],-1),_hoisted_12$c={class:"mb-2"},_hoisted_13$a={class:"form-check"},_hoisted_14$a=createBaseVNode("label",{class:"form-check-label",for:"is_external"}," Внешнее управление страницей ",-1),_hoisted_15$a={class:"form-floating mb-2"},_hoisted_16$a={for:"floatingTextarea2"},_hoisted_17$8={key:0},_hoisted_18$8={class:"mb-2"},_hoisted_19$8={class:"form-check"},_hoisted_20$8=createBaseVNode("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),_hoisted_21$7={key:0,class:"mb-2"},_hoisted_22$7=createBaseVNode("h6",null,"Изображения на странице",-1),_hoisted_23$6={class:"d-flex flex-wrap justify-content-center"},_hoisted_24$6={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_25$6={class:"mb-2 mr-2 img-preview"},_hoisted_26$4={class:"remove"},_hoisted_27$4=["onClick"],_hoisted_28$4={key:0},_hoisted_29$3={key:1,class:"d-flex flex-wrap justify-content-center"},_hoisted_30$3={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_31$3={class:"remove"},_hoisted_32$3=["onClick"],_hoisted_33$3={class:"form-check mb-2"},_hoisted_34$3=createBaseVNode("label",{class:"form-check-label",for:"need-page-video"}," Видео к странице ",-1),_hoisted_35$3={key:1,class:"mb-2"},_hoisted_36$3=createBaseVNode("p",{class:"alert alert-danger mb-2 rounded-s"}," Внимание! не больше 10 видео на 1й странице! ",-1),_hoisted_37$3={class:"form-check mb-2"},_hoisted_38$3=createBaseVNode("label",{class:"form-check-label",for:"need-page-sticker"}," Стикер к странице ",-1),_hoisted_39$3={key:2,class:"mb-2"},_hoisted_40$2={class:"form-check mb-2"},_hoisted_41$2=createBaseVNode("label",{class:"form-check-label",for:"need-reply-menu"}," Нижнее меню страницы ",-1),_hoisted_42$2={class:"form-check mb-2"},_hoisted_43$2=createBaseVNode("label",{class:"form-check-label",for:"need-page-audio"}," Звук к странице ",-1),_hoisted_44$2={key:3,class:"mb-2"},_hoisted_45$2=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 аудио (audio) на 1й странице! Или 1 голосовое (voice) ",-1),_hoisted_46$2={class:"form-check mb-2"},_hoisted_47$2=createBaseVNode("label",{class:"form-check-label",for:"need-page-document"}," Документ \\ презентацию к странице \\ картинку в оригинале ",-1),_hoisted_48$2={key:4,class:"mb-2"},_hoisted_49$2=createBaseVNode("p",{class:"alert alert-danger"}," Внимание! не больше 10 документов на 1й странице! ",-1),_hoisted_50$2={key:5,class:"mb-2"},_hoisted_51$2=createBaseVNode("h6",{class:"mb-2"},"Конструктор нижнего меню",-1),_hoisted_52$2={class:"form-floating mb-2"},_hoisted_53$2=createBaseVNode("label",{class:"form-check-label",for:"bot-reply_keyboard_title"}," Заголовок нижнего меню ",-1),_hoisted_54$2={key:0},_hoisted_55$2={key:1},_hoisted_56$2={class:"form-check mb-2"},_hoisted_57$2=createBaseVNode("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),_hoisted_58$2={key:6,class:"mb-2"},_hoisted_59$2=createBaseVNode("h6",null,"Конструктор меню в сообщении",-1),_hoisted_60$1={key:0},_hoisted_61$1={key:1},_hoisted_62$1={class:"form-check mb-2"},_hoisted_63$1=createBaseVNode("label",{class:"form-check-label",for:"need-page-attach"}," Связать с другой страницей ",-1),_hoisted_64$1={key:7,class:"mb-2"},_hoisted_65$1={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_66$1=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_67$1=[_hoisted_66$1],_hoisted_68$1={class:"form-check mb-2"},_hoisted_69$1=createBaseVNode("label",{class:"form-check-label",for:"need-slug-attach"}," Привязать скрипт ",-1),_hoisted_70$1={key:8,class:"mb-2"},_hoisted_71$1={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_72=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_73=[_hoisted_72],_hoisted_74={class:"form-check mb-2"},_hoisted_75=createBaseVNode("label",{class:"form-check-label",for:"need-dialog-attach"}," Привязать начало диалога ",-1),_hoisted_76={key:9,class:"mb-2"},_hoisted_77={key:0,class:"d-flex justify-content-between mb-0 align-items-center"},_hoisted_78=createBaseVNode("i",{class:"fa-solid fa-trash"},null,-1),_hoisted_79=[_hoisted_78],_hoisted_80={class:"form-check mb-2"},_hoisted_81=createBaseVNode("label",{class:"form-check-label",for:"need-rules"}," Нужны правила загрузки страницы ",-1),_hoisted_82={key:4,class:"mb-2"},_hoisted_83=createBaseVNode("button",{style:{"z-index":"100"},type:"submit",class:"btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0"},"Сохранить изменения ",-1),__default__$f={props:["page"],data(){return{need_show_qr_and_link:!1,need_clean:!1,load:!1,photos:[],showReplyTemplateSelector:!1,showInlineTemplateSelector:!1,need_page_sticker:!1,need_page_audios:!1,need_page_documents:!1,need_page_video:!1,need_page_images:!1,need_rules:!1,need_inline_menu:!1,need_reply_menu:!1,need_attach_page:!1,need_attach_dialog:!1,need_attach_slug:!1,bot:null,pageForm:{id:null,content:"",command:null,slug:null,comment:null,sticker:null,images:[],videos:[],audios:[],documents:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,next_page_id:null,next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if:null,rules_else_page_id:null,rules_if_message:null,rules_else_message:null}}},watch:{need_rules:function(o,t){this.need_rules||(this.pageForm.rules_if=null,this.pageForm.rules_else_page_id=null,this.pageForm.rules_if_message=null,this.pageForm.rules_else_message=null)},need_page_audios:function(o,t){this.need_page_audios||(this.pageForm.audios=[])},need_page_documents:function(o,t){this.need_page_documents||(this.pageForm.documents=[])},need_page_sticker:function(o,t){this.need_page_sticker||(this.pageForm.sticker=null)},need_page_images:function(o,t){this.need_page_images||(this.photos=[],this.pageForm.images=[])},need_page_video:function(o,t){this.need_page_video||(this.pageForm.videos=[])},need_inline_menu:function(o,t){this.need_inline_menu||(this.pageForm.inline_keyboard=null,this.pageForm.inline_keyboard_id=null)},need_reply_menu:function(o,t){this.need_reply_menu||(this.pageForm.reply_keyboard=null,this.pageForm.reply_keyboard_id=null)},need_attach_page:function(o,t){this.need_attach_page||(this.pageForm.next_page_id=null)},need_attach_dialog:function(o,t){this.need_attach_dialog||(this.pageForm.next_bot_dialog_command_id=null)},need_attach_slug:function(o,t){this.need_attach_slug||(this.pageForm.next_bot_menu_slug_id=null)},pageForm:{handler:function(o){this.pageForm.reply_keyboard!=null&&(this.need_reply_menu=!0),this.pageForm.inline_keyboard!=null&&(this.need_inline_menu=!0),this.pageForm.images.length>0&&(this.need_page_images=!0),this.pageForm.next_bot_dialog_command_id!=null&&(this.need_attach_dialog=!0),this.pageForm.next_bot_menu_slug_id!=null&&(this.need_attach_slug=!0),this.pageForm.next_page_id!=null&&(this.need_attach_page=!0),this.pageForm.rules_if!=null&&(this.need_rules=!0),this.pageForm.videos.length>0&&(this.need_page_video=!0),this.pageForm.audios.length>0&&(this.need_page_audios=!0),this.pageForm.documents.length>0&&(this.need_page_documents=!0),this.pageForm.sticker&&(this.need_page_sticker=!0),this.need_clean=!0},deep:!0}},computed:{currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},pageLink(){if(!this.pageForm.id)return"Ссылка недоступна";let o="";for(let t=0;t<10-(""+this.pageForm.id).length;t++)o+="0";return o+=this.pageForm.id,"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("004"+o)}},mounted(){if(this.loadBot(),this.page){let o=this.page;this.photos=[],this.pageForm={id:o.id,slug_id:o.slug?o.slug.id:null,content:o.content,command:o.slug?o.slug.command:null,slug:o.slug?o.slug.slug:null,comment:o.slug?o.slug.comment:null,images:o.images||[],reply_keyboard_title:o.reply_keyboard_title||null,reply_keyboard_id:o.reply_keyboard_id||null,inline_keyboard_id:o.inline_keyboard_id||null,reply_keyboard:o.replyKeyboard||null,inline_keyboard:o.inlineKeyboard||null,next_page_id:o.next_page_id||null,next_bot_dialog_command_id:o.next_bot_dialog_command_id||null,next_bot_menu_slug_id:o.next_bot_menu_slug_id||null,is_external:o.is_external||!1,videos:o.videos||[],audios:o.audios||[],sticker:o.sticker||null,documents:o.documents||[],rules_if:o.rules_if||null,rules_else_page_id:o.rules_else_page_id||null,rules_if_message:o.rules_if_message||null,rules_else_message:o.rules_else_message||null}}else this.clearForm()},methods:{copyToClipBoard(o){navigator.clipboard.writeText(o).then(()=>{console.log("copy",o),this.$botNotification.notification("Конструктор страниц","Ссылка скопирована в буфер")}).catch(t=>{this.$botNotification.warning("Копирование","Ошибка копирования")})},loadBot(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},associateDialog(o){this.pageForm.next_bot_dialog_command_id=o.id},associateSlug(o){this.pageForm.next_bot_menu_slug_id=o.id},attachPage(o){o.id!=this.pageForm.id?this.pageForm.next_page_id=o.id:this.$botNotification.warning("Конструктор страниц","Вы не можете связать данную страницу с собой")},injectContent(o){this.pageForm.content?this.pageForm.content+=o.text:this.pageForm.content=o.text},clearForm(){this.photos=[],this.pageForm={id:null,content:null,command:null,slug:null,comment:null,sticker:null,images:[],reply_keyboard_title:null,reply_keyboard:null,inline_keyboard:null,is_external:!1,reply_keyboard_id:null,inline_keyboard_id:null,next_page_id:null,videos:[],audios:[],documents:[],next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if_message:null,rules_else_message:null},this.photos=[],this.showReplyTemplateSelector=!1,this.showInlineTemplateSelector=!1,this.need_page_sticker=!1,this.need_page_video=!1,this.need_page_images=!1,this.need_inline_menu=!1,this.need_reply_menu=!1,this.need_attach_page=!1,this.need_attach_dialog=!1,this.need_attach_slug=!1,this.need_rules=!1,this.need_page_audios=!1,this.need_page_documents=!1,this.$nextTick(()=>{this.need_clean=!1})},submitPage(){let o=new FormData;if(Object.keys(this.pageForm).forEach(t=>{const s=this.pageForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photos.length>0)for(let t=0;t<this.photos.length;t++)o.append("photos[]",this.photos[t]);this.$store.dispatch(this.pageForm.id==null?"createPage":"updatePage",{pageForm:o}).then(t=>{this.load=!0,this.$nextTick(()=>{this.load=!1,this.clearForm()}),this.$emit("callback",t.data),this.$botNotification.success("Конструктор страниц",this.pageForm.id==null?"Страница успешно создана!":"Страница успешно обновлена!")}).catch(t=>{})},saveInlineKeyboard(o){this.pageForm.inline_keyboard=o},selectReplyKeyboard(o){this.pageForm.reply_keyboard=o,this.showReplyTemplateSelector=!1},selectInlineKeyboard(o){this.pageForm.inline_keyboard=o,this.showInlineTemplateSelector=!1},saveReplyKeyboard(o){this.pageForm.reply_keyboard=o},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o){this.photos.splice(o,1)},removeImage(o){this.pageForm.images.splice(o,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},onChange(o){this.pageForm.content=o},selectVideo(o){this.pageForm.videos||(this.pageForm.videos=[]);let t=this.pageForm.videos.indexOf(o.file_id);t!==-1?this.pageForm.videos.splice(t,1):this.pageForm.videos.push(o.file_id)},selectAudio(o){this.pageForm.audios||(this.pageForm.audios=[]);let t=this.pageForm.audios.indexOf(o.file_id);if(o.type==="voice"){if(t!==-1){this.pageForm.audios.splice(t,1);return}this.pageForm.audios=[o.file_id];return}t!==-1?this.pageForm.audios.splice(t,1):this.pageForm.audios.push(o.file_id)},selectSticker(o){this.pageForm.sticker=o.file_id},selectDocument(o){this.pageForm.documents||(this.pageForm.documents=[]);let t=this.pageForm.documents.indexOf(o.file_id);t!==-1?this.pageForm.documents.splice(t,1):this.pageForm.documents.push(o.file_id)}}},_sfc_main$l=Object.assign(__default__$f,{__name:"Page",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return t.bot?(openBlock(),createElementBlock("form",{key:0,onSubmit:s[25]||(s[25]=withModifiers((...a)=>t.submitPage&&t.submitPage(...a),["prevent"]))},[t.pageForm.id||t.need_clean?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"w-100 btn text-center btn mb-2",onClick:s[0]||(s[0]=(...a)=>t.clearForm&&t.clearForm(...a))},[_hoisted_1$l,createTextVNode(" Очистить форму")])):createCommentVNode("",!0),t.pageForm.id?(openBlock(),createElementBlock("div",_hoisted_2$l,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[1]||(s[1]=a=>t.need_show_qr_and_link=a),type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[vModelCheckbox,t.need_show_qr_and_link]]),_hoisted_3$l])):createCommentVNode("",!0),t.pageForm.id&&t.need_show_qr_and_link?(openBlock(),createElementBlock("div",_hoisted_4$j,[createBaseVNode("p",null,[createTextVNode("Ссылка на текущую страницу: "),createBaseVNode("span",{class:"font-weight-bold",onClick:s[2]||(s[2]=a=>t.copyToClipBoard(t.pageLink))},toDisplayString(t.pageLink),1)]),createBaseVNode("div",_hoisted_5$j,[withDirectives(createBaseVNode("img",_hoisted_6$j,null,512),[[i,t.qr]])])])):createCommentVNode("",!0),_hoisted_7$j,createBaseVNode("div",_hoisted_8$g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":s[3]||(s[3]=a=>t.pageForm.command=a),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.pageForm.command]]),_hoisted_9$f]),createBaseVNode("div",_hoisted_10$f,[withDirectives(createBaseVNode("textarea",{type:"text",class:"form-control",placeholder:"Описание страницы","aria-label":"Описание страницы","onUpdate:modelValue":s[4]||(s[4]=a=>t.pageForm.comment=a),maxlength:"255",style:{"min-height":"150px"},"aria-describedby":"bot-domain",required:""},`
            `,512),[[vModelText,t.pageForm.comment]]),_hoisted_11$c]),createBaseVNode("div",_hoisted_12$c,[createBaseVNode("div",_hoisted_13$a,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[5]||(s[5]=a=>t.pageForm.is_external=a),type:"checkbox",id:"is_external"},null,512),[[vModelCheckbox,t.pageForm.is_external]]),_hoisted_14$a])]),t.pageForm.is_external?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:3},[createBaseVNode("div",_hoisted_15$a,[withDirectives(createBaseVNode("textarea",{class:"form-control","onUpdate:modelValue":s[6]||(s[6]=a=>t.pageForm.content=a),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"100px"}},null,512),[[vModelText,t.pageForm.content]]),createBaseVNode("label",_hoisted_16$a,[createTextVNode("Содержимое страницы "),t.pageForm.content?(openBlock(),createElementBlock("span",_hoisted_17$8,toDisplayString(t.pageForm.content.length)+"/4096 ",1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_18$8,[createBaseVNode("div",_hoisted_19$8,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[7]||(s[7]=a=>t.need_page_images=a),type:"checkbox",id:"need-page-images"},null,512),[[vModelCheckbox,t.need_page_images]]),_hoisted_20$8])]),t.need_page_images?(openBlock(),createElementBlock("div",_hoisted_21$7,[_hoisted_22$7,createBaseVNode("div",_hoisted_23$6,[createBaseVNode("label",_hoisted_24$6,[createTextVNode(" + "),createBaseVNode("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:s[8]||(s[8]=(...a)=>t.onChangePhotos&&t.onChangePhotos(...a)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_25$6,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(a).imageUrl]]),createBaseVNode("div",_hoisted_26$4,[createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.removePhoto(n)},"Удалить",8,_hoisted_27$4)])]))),256)):createCommentVNode("",!0)]),t.pageForm.images.length>0?(openBlock(),createElementBlock("h6",_hoisted_28$4,"Ранее загруженные фотографии")):createCommentVNode("",!0),t.pageForm.images.length>0?(openBlock(),createElementBlock("div",_hoisted_29$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.pageForm.images,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_30$3,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+t.bot.id+"/"+a]]),createBaseVNode("div",_hoisted_31$3,[createBaseVNode("a",{href:"javascript:void(0)",onClick:r=>t.removeImage(n)},"Удалить",8,_hoisted_32$3)])]))),256))])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_33$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[9]||(s[9]=a=>t.need_page_video=a),type:"checkbox",id:"need-page-video"},null,512),[[vModelCheckbox,t.need_page_video]]),_hoisted_34$3]),t.need_page_video?(openBlock(),createElementBlock("div",_hoisted_35$3,[_hoisted_36$3,createVNode(_sfc_main$2t,{"need-video":!0,"need-video-note":!0,selected:t.pageForm.videos,onSelect:t.selectVideo},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37$3,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[10]||(s[10]=a=>t.need_page_sticker=a),type:"checkbox",id:"need-page-sticker"},null,512),[[vModelCheckbox,t.need_page_sticker]]),_hoisted_38$3]),t.need_page_sticker?(openBlock(),createElementBlock("div",_hoisted_39$3,[createVNode(_sfc_main$2t,{"need-sticker":!0,selected:[t.pageForm.sticker],onSelect:t.selectSticker},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_40$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[11]||(s[11]=a=>t.need_reply_menu=a),type:"checkbox",id:"need-reply-menu"},null,512),[[vModelCheckbox,t.need_reply_menu]]),_hoisted_41$2]),createBaseVNode("div",_hoisted_42$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[12]||(s[12]=a=>t.need_page_audios=a),type:"checkbox",id:"need-page-audio"},null,512),[[vModelCheckbox,t.need_page_audios]]),_hoisted_43$2]),t.need_page_audios?(openBlock(),createElementBlock("div",_hoisted_44$2,[_hoisted_45$2,createVNode(_sfc_main$2t,{"need-audio":!0,selected:t.pageForm.audios,onSelect:t.selectAudio},null,8,["selected","onSelect"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_46$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[13]||(s[13]=a=>t.need_page_documents=a),type:"checkbox",id:"need-page-document"},null,512),[[vModelCheckbox,t.need_page_documents]]),_hoisted_47$2]),t.need_page_documents?(openBlock(),createElementBlock("div",_hoisted_48$2,[_hoisted_49$2,createVNode(_sfc_main$2t,{"need-document":!0,selected:t.pageForm.documents,onSelect:t.selectDocument},null,8,["selected","onSelect"])])):createCommentVNode("",!0),t.need_reply_menu?(openBlock(),createElementBlock("div",_hoisted_50$2,[_hoisted_51$2,createBaseVNode("div",_hoisted_52$2,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Заголовок нижнего меню","aria-label":"Заголовок нижнего меню","onUpdate:modelValue":s[14]||(s[14]=a=>t.pageForm.reply_keyboard_title=a),maxlength:"255","aria-describedby":"bot-reply_keyboard_title"},null,512),[[vModelText,t.pageForm.reply_keyboard_title]]),_hoisted_53$2]),createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showReplyTemplateSelector,"btn-primary":t.showReplyTemplateSelector}]),type:"button",onClick:s[15]||(s[15]=a=>t.showReplyTemplateSelector=!t.showReplyTemplateSelector)},[t.showReplyTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_55$2," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_54$2," Открыть шаблоны меню"))],2),t.showReplyTemplateSelector?(openBlock(),createBlock(_sfc_main$p,{key:0,class:"mb-2",type:"reply",onSelect:t.selectReplyKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(_sfc_main$15,{key:1,type:"reply",onSave:t.saveReplyKeyboard,"edited-keyboard":t.pageForm.reply_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_56$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[16]||(s[16]=a=>t.need_inline_menu=a),type:"checkbox",id:"need-inline-menu"},null,512),[[vModelCheckbox,t.need_inline_menu]]),_hoisted_57$2]),t.need_inline_menu?(openBlock(),createElementBlock("div",_hoisted_58$2,[_hoisted_59$2,createBaseVNode("button",{class:normalizeClass(["btn mb-2 w-100",{"btn-outline-primary":!t.showInlineTemplateSelector,"btn-primary":t.showInlineTemplateSelector}]),type:"button",onClick:s[17]||(s[17]=a=>t.showInlineTemplateSelector=!t.showInlineTemplateSelector)},[t.showInlineTemplateSelector?(openBlock(),createElementBlock("span",_hoisted_61$1," Скрыть шаблоны меню")):(openBlock(),createElementBlock("span",_hoisted_60$1," Открыть шаблоны меню"))],2),t.showInlineTemplateSelector?(openBlock(),createBlock(_sfc_main$p,{key:0,class:"mb-2",type:"inline",onSelect:t.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(openBlock(),createBlock(_sfc_main$15,{key:1,type:"inline",onSave:t.saveInlineKeyboard,"edited-keyboard":t.pageForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_62$1,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[18]||(s[18]=a=>t.need_attach_page=a),type:"checkbox",id:"need-page-attach"},null,512),[[vModelCheckbox,t.need_attach_page]]),_hoisted_63$1]),t.need_attach_page?(openBlock(),createElementBlock("div",_hoisted_64$1,[t.pageForm.next_page_id?(openBlock(),createElementBlock("p",_hoisted_65$1,[createTextVNode("Связано со страницей #"+toDisplayString(t.pageForm.next_page_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:s[19]||(s[19]=a=>t.pageForm.next_page_id=null)},_hoisted_67$1)])):createCommentVNode("",!0),createVNode(_sfc_main$q,{current:t.pageForm.id,onCallback:t.attachPage,editor:!1},null,8,["current","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_68$1,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[20]||(s[20]=a=>t.need_attach_slug=a),type:"checkbox",id:"need-slug-attach"},null,512),[[vModelCheckbox,t.need_attach_slug]]),_hoisted_69$1]),t.need_attach_slug?(openBlock(),createElementBlock("div",_hoisted_70$1,[t.pageForm.next_bot_menu_slug_id?(openBlock(),createElementBlock("p",_hoisted_71$1,[createTextVNode("Связано со скриптом #"+toDisplayString(t.pageForm.next_bot_menu_slug_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:s[21]||(s[21]=a=>t.pageForm.next_bot_menu_slug_id=null)},_hoisted_73)])):createCommentVNode("",!0),createVNode(_sfc_main$o,{global:!0,selected:t.pageForm.next_bot_menu_slug_id,onCallback:t.associateSlug},null,8,["selected","onCallback"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_74,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[22]||(s[22]=a=>t.need_attach_dialog=a),type:"checkbox",id:"need-dialog-attach"},null,512),[[vModelCheckbox,t.need_attach_dialog]]),_hoisted_75]),t.need_attach_dialog?(openBlock(),createElementBlock("div",_hoisted_76,[t.pageForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("p",_hoisted_77,[createTextVNode(" Связано с диалогом #"+toDisplayString(t.pageForm.next_bot_dialog_command_id)+" ",1),createBaseVNode("a",{href:"javascript:void(0)",class:"btn font-16 text-danger font-weight-bold",onClick:s[23]||(s[23]=a=>t.pageForm.next_bot_dialog_command_id=null)},_hoisted_79)])):createCommentVNode("",!0),createVNode(_sfc_main$n,{onSelectDialog:t.associateDialog},null,8,["onSelectDialog"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_80,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[24]||(s[24]=a=>t.need_rules=a),type:"checkbox",id:"need-rules"},null,512),[[vModelCheckbox,t.need_rules]]),_hoisted_81])],64)),t.need_rules?(openBlock(),createElementBlock("div",_hoisted_82,[createVNode(_sfc_main$m,{bot:t.bot,"rules-form":t.pageForm},null,8,["bot","rules-form"])])):createCommentVNode("",!0),_hoisted_83],32)):createCommentVNode("",!0)}}}),_hoisted_1$k={class:"container py-3"},_hoisted_2$k={class:"row"},_hoisted_3$k={class:"col-12"},_hoisted_4$i={class:"modal fade",id:"page-form-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_5$i={class:"modal-dialog modal-fullscreen"},_hoisted_6$i={class:"modal-content"},_hoisted_7$i=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_8$f={class:"modal-body"},_hoisted_9$e={key:1,class:"alert alert-light d-flex flex-column align-items-center justify-content-center"},_hoisted_10$e=createBaseVNode("div",{class:"spinner-border text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Loading...")],-1),__default__$e={data(){return{page:null,loadPage:!1,loadPageList:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})},pageListCallback(o){this.loadPage=!0;const t=new bootstrap.Modal("#page-form-modal",{});this.$nextTick(()=>{this.loadPage=!1,this.page=o,t.show()})},pageCallback(o){this.loadPageList=!0,this.$nextTick(()=>{this.loadPageList=!1})}}},_sfc_main$k=Object.assign(__default__$e,{__name:"Pages",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",_hoisted_3$k,[t.loadPageList?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$q,{key:0,editor:!0,onCallback:t.pageListCallback},null,8,["onCallback"]))])])]),createBaseVNode("div",_hoisted_4$i,[createBaseVNode("div",_hoisted_5$i,[createBaseVNode("div",_hoisted_6$i,[_hoisted_7$i,createBaseVNode("div",_hoisted_8$f,[t.loadPage?(openBlock(),createElementBlock("div",_hoisted_9$e,[createTextVNode(" Подготавливаем данные... "),_hoisted_10$e])):(openBlock(),createBlock(_sfc_main$l,{key:0,page:t.page,onCallback:t.pageCallback},null,8,["page","onCallback"]))])])])])],64))}}),Pages=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$k},Symbol.toStringTag,{value:"Module"})),_sfc_main$j={computed:{tg(){return window.Telegram.WebApp}},mounted(){this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(o=>o.click()),this.$router.back()})},methods:{goTo(o){this.$router.push({name:o})}}},_hoisted_1$j={class:"container py-3"},_hoisted_2$j={class:"row row-cols-2 row-cols-sm-2 row-cols-md-3 g-2"},_hoisted_3$j={class:"col"},_hoisted_4$h={class:"card-body d-flex justify-content-center align-items-center flex-column"},_hoisted_5$h={class:"img-fluid",alt:""},_hoisted_6$h=createBaseVNode("p",{class:"my-2"},"Управление IIKO",-1),_hoisted_7$h={class:"col"},_hoisted_8$e={class:"card-body d-flex justify-content-center align-items-center flex-column"},_hoisted_9$d={class:"img-fluid",alt:""},_hoisted_10$d=createBaseVNode("p",{class:"my-2"},"Управление AMO",-1),_hoisted_11$b={class:"col"},_hoisted_12$b={class:"card-body d-flex justify-content-center align-items-center flex-column"},_hoisted_13$9={class:"img-fluid",alt:""},_hoisted_14$9=createBaseVNode("p",{class:"my-2"},"Управление Bitrix24",-1),_hoisted_15$9={class:"col"},_hoisted_16$9={class:"card-body d-flex justify-content-center align-items-center flex-column"},_hoisted_17$7={class:"img-fluid",alt:""},_hoisted_18$7=createBaseVNode("p",{class:"my-2"},"Управление yClients",-1),_hoisted_19$7={class:"col"},_hoisted_20$7={class:"card-body d-flex justify-content-center align-items-center flex-column"},_hoisted_21$6={class:"img-fluid",alt:""},_hoisted_22$6=createBaseVNode("p",{class:"my-2"},"Управление FrontPad",-1);function _sfc_render$5(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$j,[createBaseVNode("div",_hoisted_3$j,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=l=>n.goTo("IikoV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_4$h,[withDirectives(createBaseVNode("img",_hoisted_5$h,null,512),[[r,"/images/shop-v2-2/iiko.png"]]),_hoisted_6$h])])]),createBaseVNode("div",_hoisted_7$h,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=l=>n.goTo("AmoV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_8$e,[withDirectives(createBaseVNode("img",_hoisted_9$d,null,512),[[r,"/images/shop-v2-2/amo.png"]]),_hoisted_10$d])])]),createBaseVNode("div",_hoisted_11$b,[createBaseVNode("button",{type:"button",onClick:t[2]||(t[2]=l=>n.goTo("BitrixV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_12$b,[withDirectives(createBaseVNode("img",_hoisted_13$9,null,512),[[r,"/images/shop-v2-2/bitrix.png"]]),_hoisted_14$9])])]),createBaseVNode("div",_hoisted_15$9,[createBaseVNode("button",{type:"button",onClick:t[3]||(t[3]=l=>n.goTo("YClientsV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_16$9,[withDirectives(createBaseVNode("img",_hoisted_17$7,null,512),[[r,"/images/shop-v2-2/yclients.png"]]),_hoisted_18$7])])]),createBaseVNode("div",_hoisted_19$7,[createBaseVNode("button",{type:"button",onClick:t[4]||(t[4]=l=>n.goTo("FrontPadV2")),style:{"min-height":"250px"},class:"btn shadow-sm border-0 btn-outline-primary w-100 mb-2 card"},[createBaseVNode("div",_hoisted_20$7,[withDirectives(createBaseVNode("img",_hoisted_21$6,null,512),[[r,"/images/shop-v2-2/promo.png"]]),_hoisted_22$6])])])])])}const IntegrationsV2=_export_sfc(_sfc_main$j,[["render",_sfc_render$5]]),IntegrationMenu=Object.freeze(Object.defineProperty({__proto__:null,default:IntegrationsV2},Symbol.toStringTag,{value:"Module"})),_sfc_main$i={props:["data","bot"],components:{Vue3JsonEditor},data(){return{load:!1,custom_fields:null,fields:[{title:"Телефонный номер",field:"phone"},{title:"Ф.И.О.",field:"fio_from_telegram"},{title:"Почта",field:"email"},{title:"Дата рождения",field:"birthday"},{title:"Возраст",field:"age"},{title:"Страна",field:"country"},{title:"Адрес",field:"address"},{title:"Пол",field:"sex"},{title:"Идентификатор чата",field:"fio_from_telegram"}],hasConnect:!1,amoForm:{client_id:null,client_secret:null,auth_code:null,redirect_uri:null,subdomain:null,bot_id:null,fields:null}}},mounted(){this.data&&this.$nextTick(()=>{this.amoForm.client_id=this.data.client_id||null,this.amoForm.client_secret=this.data.client_secret||null,this.amoForm.auth_code=this.data.auth_code||null,this.amoForm.redirect_uri=this.data.redirect_uri||null,this.amoForm.subdomain=this.data.subdomain||null,this.amoForm.bot_id=this.data.bot_id||this.bot.id||null,this.amoForm.fields=this.data.fields||null})},methods:{loadAmoFields(){this.load=!0,this.custom_fields=null,this.$store.dispatch("loadAmoFields").then(o=>{this.custom_fields=o._embedded.custom_fields.contacts||null,this.$nextTick(()=>{this.load=!1}),this.$notify({title:"Работа с AMO",text:"Справочная информация успешно загружена",type:"success"})}).catch(o=>{this.$notify({title:"Работа с AMO",text:"Ошибка работы со справочной информацией",type:"error"})})},removeField(o){this.amoForm.fields&&this.amoForm.fields.splice(o,1)},addField(){this.amoForm.fields||(this.amoForm.fields=[]),this.amoForm.fields.push({key:null,field:null,enum:null})},syncAmo(){this.$store.dispatch("syncAmo").then(o=>{this.$notify({title:"Работа с AMO",text:"Данные CRM успешно сохранены",type:"success"})}).catch(o=>{this.$notify({title:"Работа с AMO",text:"Ошибка работы",type:"error"})})},submitAmo(){let o=new FormData;Object.keys(this.amoForm).forEach(t=>{const s=this.amoForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("saveAmoCRM",{amoForm:o}).then(t=>{this.$notify({title:"Работа с AMO",text:"Данные CRM успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Работа с AMO",text:"Ошибка работы",type:"error"})})}}},_hoisted_1$i=createBaseVNode("h3",null,"Настройка AMO",-1),_hoisted_2$i=createBaseVNode("p",{class:"mb-2 alert alert-light"},[createBaseVNode("a",{target:"_blank",href:"https://www.amocrm.ru/developers/content/oauth/step-by-step"},"Документация для разработчика "),createTextVNode(" по шагам")],-1),_hoisted_3$i={class:"form-floating mb-2"},_hoisted_4$g=createBaseVNode("label",{id:"client_id"}," ID интеграции ",-1),_hoisted_5$g={class:"form-floating mb-2"},_hoisted_6$g=createBaseVNode("label",{id:"client_secret"}," Секретный ключ клиента ",-1),_hoisted_7$g={class:"form-floating mb-2"},_hoisted_8$d=createBaseVNode("label",{id:"auth_code"}," Полученный код авторизации ",-1),_hoisted_9$c={class:"form-floating mb-2"},_hoisted_10$c=createBaseVNode("label",{id:"subdomain2"}," Ваш поддомен в системе AMO CRM ",-1),_hoisted_11$a=["disabled"],_hoisted_12$a={class:"card mb-2"},_hoisted_13$8={class:"card-body"},_hoisted_14$8={class:"form-floating mb-2"},_hoisted_15$8=["onUpdate:modelValue"],_hoisted_16$8=["id"],_hoisted_17$6={class:"form-floating mb-2"},_hoisted_18$6=["onUpdate:modelValue"],_hoisted_19$6=["value"],_hoisted_20$6=["id"],_hoisted_21$5={class:"form-floating mb-2"},_hoisted_22$5=["onUpdate:modelValue"],_hoisted_23$5=["id"],_hoisted_24$5=["onClick"],_hoisted_25$5=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-2"},null,-1),_hoisted_26$3=createBaseVNode("nav",{class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},[createBaseVNode("button",{type:"submit",class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg d-flex justify-content-center align-items-center"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-2"}),createTextVNode(" Сохранить настройку AMO ")])],-1),_hoisted_27$3=createBaseVNode("hr",{class:"my-3 p-0"},null,-1),_hoisted_28$3=createBaseVNode("i",{class:"fa-solid fa-rotate mr-2"},null,-1);function _sfc_render$4(o,t,s,i,a,n){const r=resolveComponent("Vue3JsonEditor");return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$i,createBaseVNode("form",{onSubmit:t[7]||(t[7]=withModifiers((...l)=>n.submitAmo&&n.submitAmo(...l),["prevent"]))},[_hoisted_2$i,createBaseVNode("div",_hoisted_3$i,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_id","aria-label":"client_id","onUpdate:modelValue":t[0]||(t[0]=l=>a.amoForm.client_id=l),"aria-describedby":"client_id",required:""},null,512),[[vModelText,a.amoForm.client_id]]),_hoisted_4$g]),createBaseVNode("div",_hoisted_5$g,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"client_secret","aria-label":"client_secret","onUpdate:modelValue":t[1]||(t[1]=l=>a.amoForm.client_secret=l),"aria-describedby":"client_secret",required:""},null,512),[[vModelText,a.amoForm.client_secret]]),_hoisted_6$g]),createBaseVNode("div",_hoisted_7$g,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",style:{"min-height":"250px"},placeholder:"auth_code","aria-label":"auth_code","onUpdate:modelValue":t[2]||(t[2]=l=>a.amoForm.auth_code=l),"aria-describedby":"auth_code",required:""},`
                                    `,512),[[vModelText,a.amoForm.auth_code]]),_hoisted_8$d]),createBaseVNode("div",_hoisted_9$c,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"subdomain","aria-label":"subdomain","onUpdate:modelValue":t[3]||(t[3]=l=>a.amoForm.subdomain=l),"aria-describedby":"subdomain",required:""},null,512),[[vModelText,a.amoForm.subdomain]]),_hoisted_10$c]),createBaseVNode("button",{type:"button",disabled:!a.amoForm.client_id||!a.amoForm.auth_code||!a.amoForm.client_secret||!a.amoForm.subdomain,onClick:t[4]||(t[4]=(...l)=>n.loadAmoFields&&n.loadAmoFields(...l)),class:"btn w-100 btn-outline-light text-primary p-3 mb-2"}," Загрузить справочную информацию ",8,_hoisted_11$a),!a.load&&a.custom_fields?(openBlock(),createBlock(r,{key:0,mode:"tree",modelValue:a.custom_fields,"onUpdate:modelValue":t[5]||(t[5]=l=>a.custom_fields=l),"show-btns":!1,expandedOnStart:!1},null,8,["modelValue"])):createCommentVNode("",!0),a.amoForm.fields?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(a.amoForm.fields,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_12$a,[createBaseVNode("div",_hoisted_13$8,[createBaseVNode("div",_hoisted_14$8,[withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"Ключ","aria-label":"Ключ","onUpdate:modelValue":c=>a.amoForm.fields[d].key=c,"aria-describedby":"Ключ",required:""},null,8,_hoisted_15$8),[[vModelText,a.amoForm.fields[d].key]]),createBaseVNode("label",{id:"field-key-"+d}," Ключевое значение из справочника ",8,_hoisted_16$8)]),createBaseVNode("div",_hoisted_17$6,[withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":c=>a.amoForm.fields[d].field=c},[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.fields,c=>(openBlock(),createElementBlock("option",{value:c.field},toDisplayString(c.title||"Ошибка"),9,_hoisted_19$6))),256))],8,_hoisted_18$6),[[vModelSelect,a.amoForm.fields[d].field]]),createBaseVNode("label",{id:"field-field-"+d}," Поле из списка для связи ",8,_hoisted_20$6)]),createBaseVNode("div",_hoisted_21$5,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Перечисление","aria-label":"Перечисление","onUpdate:modelValue":c=>a.amoForm.fields[d].enum=c,"aria-describedby":"Перечисление"},null,8,_hoisted_22$5),[[vModelText,a.amoForm.fields[d].enum]]),createBaseVNode("label",{class:"form-label d-flex justify-content-between mt-0 mb-0",id:"field-enum-"+d}," Перечисление (enum) из справочника ",8,_hoisted_23$5)]),createBaseVNode("button",{type:"button",onClick:c=>n.removeField(d),class:"btn btn-link p-3 w-100"},[_hoisted_25$5,createTextVNode(" Удалить связь полей (#"+toDisplayString(d+1)+") ",1)],8,_hoisted_24$5)])]))),256)):createCommentVNode("",!0),createBaseVNode("button",{type:"button",onClick:t[6]||(t[6]=(...l)=>n.addField&&n.addField(...l)),class:"btn w-100 btn-outline-info p-3"}," Добавить связь полей "),_hoisted_26$3],32),_hoisted_27$3,createBaseVNode("a",{href:"javascript:void(0)",onClick:t[8]||(t[8]=(...l)=>n.syncAmo&&n.syncAmo(...l)),class:"btn btn-outline-primary w-100 p-3"},[_hoisted_28$3,createTextVNode(" Синхронизировать ")])],64)}const AmoForm=_export_sfc(_sfc_main$i,[["render",_sfc_render$4]]),_hoisted_1$h={class:"container my-3"},_hoisted_2$h={class:"row"},_hoisted_3$h={class:"col-12"},_hoisted_4$f={key:1,class:"alert alert-light"},_hoisted_5$f=createBaseVNode("p",{class:"text-center"},"Загружаем данные...",-1),_hoisted_6$f=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_7$f=[_hoisted_5$f,_hoisted_6$f],__default__$d={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.amo=this.bot.amo})}}},_sfc_main$h=Object.assign(__default__$d,{__name:"Amo",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$h,[!t.load&&t.bot?(openBlock(),createBlock(AmoForm,{key:0,bot:t.bot,data:t.bot.amo},null,8,["bot","data"])):(openBlock(),createElementBlock("div",_hoisted_4$f,_hoisted_7$f))])])]))}}),Amo=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$h},Symbol.toStringTag,{value:"Module"})),_hoisted_1$g={key:0,class:"mb-2"},_hoisted_2$g={class:"badge bg-success text-white"},_hoisted_3$g=createBaseVNode("span",{class:"ml-1 mr-1"},[createBaseVNode("i",{class:"fa-solid fa-arrow-right"})],-1),_hoisted_4$e={key:0,class:"badge bg-primary text-white"},_hoisted_5$e={key:1},_hoisted_6$e={class:"form-floating mb-2"},_hoisted_7$e=["id"],_hoisted_8$c=["for"],_hoisted_9$b={class:"mb-2"},_hoisted_10$b={class:"form-check"},_hoisted_11$9=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Диалог без ожидания ответа ",-1),_hoisted_12$9={key:1,class:"form-floating mb-2"},_hoisted_13$7=["id"],_hoisted_14$7=["for"],_hoisted_15$7={key:2,class:"form-floating mb-2"},_hoisted_16$7=["id"],_hoisted_17$5=["for"],_hoisted_18$5={key:3,class:"mb-2"},_hoisted_19$5={class:"form-floating mb-2"},_hoisted_20$5=["value"],_hoisted_21$4=["for"],_hoisted_22$4={class:"form-floating"},_hoisted_23$4=["id"],_hoisted_24$4=["for"],_hoisted_25$4={key:4,class:"form-floating mb-2"},_hoisted_26$2=["id"],_hoisted_27$2=createBaseVNode("option",{value:null,selected:""},"Не указан",-1),_hoisted_28$2=["value"],_hoisted_29$2=["for"],_hoisted_30$2={class:"mb-2"},_hoisted_31$2={class:"d-flex justify-content-between"},_hoisted_32$2=["for"],_hoisted_33$2=createBaseVNode("i",{class:"fa-brands fa-telegram ml-2 color-blue2-dark"},null,-1),_hoisted_34$2=[_hoisted_33$2],_hoisted_35$2=["id"],_hoisted_36$2={class:"mb-2"},_hoisted_37$2={class:"form-check"},_hoisted_38$2=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-image"}," В диалоге нужно изображение ",-1),_hoisted_39$2={class:"form-check"},_hoisted_40$1=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-inline"}," В диалоге нужно меню к тексту ",-1),_hoisted_41$1={class:"form-check"},_hoisted_42$1=createBaseVNode("label",{class:"form-check-label font-12",for:"need-dialog-menu-reply"}," В диалоге нужно нижнее меню ",-1),_hoisted_43$1={key:5,class:"mb-2"},_hoisted_44$1=createBaseVNode("h6",null,"Фотографии к диалогу",-1),_hoisted_45$1={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},_hoisted_46$1={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},_hoisted_47$1=createBaseVNode("span",null,"+",-1),_hoisted_48$1={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_49$1={class:"remove"},_hoisted_50$1=["onClick"],_hoisted_51$1={class:"mb-2 img-preview",style:{"margin-right":"10px"}},_hoisted_52$1={class:"remove"},_hoisted_53$1=["onClick"],_hoisted_54$1={key:6,class:"mb-2"},_hoisted_55$1=createBaseVNode("h6",null,"Кнопки к вопросу",-1),_hoisted_56$1={key:7,class:"mb-2"},_hoisted_57$1=createBaseVNode("h6",null,"Кнопки нижнего меню к вопросу",-1),_hoisted_58$1={class:"mb-2"},_hoisted_59$1=createBaseVNode("label",{class:"form-check-label font-12",for:"need-empty-dialog"}," Сохранить в переменную ",-1),_hoisted_60=createBaseVNode("option",{selected:""},"Не выбрано",-1),_hoisted_61=["value"],_hoisted_62={class:"form-check mb-2"},_hoisted_63=createBaseVNode("label",{class:"form-check-label font-12",for:"need-set-flags"}," Установить флаги в соответствующее значение ",-1),_hoisted_64={key:8,class:"mb-2"},_hoisted_65=createBaseVNode("h6",{class:"my-3"},"Выберите необходимые флаги",-1),_hoisted_66=["onClick"],_hoisted_67={style:{"z-index":"100",bottom:"10px"},type:"submit",class:"btn btn-primary w-100 p-3 my-3 position-sticky"},_hoisted_68={key:0},_hoisted_69={key:1},_hoisted_70={key:9,class:"divider divider-small my-3 bg-highlight"},_hoisted_71=createBaseVNode("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),__default__$c={props:["item","bot"],data(){return{need_images:!1,need_inline_keyboard:!1,need_reply_keyboard:!1,need_set_flags:!1,commands:[],flags_variants:[{title:"Является VIP",key:"is_vip",value:null},{title:"Является Админом",key:"is_admin",value:null},{title:"За работой",key:"is_work",value:null},{title:"Является менеджером",key:"is_manager",value:null}],store_variants:[{title:"Имя",key:"name"},{title:"Почта",key:"email"},{title:"Возраст",key:"age"},{title:"Город",key:"city"},{title:"Страна",key:"country"},{title:"Адрес",key:"address"},{title:"Телефон",key:"phone"},{title:"День рождение",key:"birthday"}],expressions:[{expression:null,description:"Нет проверки"},{expression:"/([a-z0-9]+)/i",description:"Проверка набора из латинских букв и цифр"},{expression:"/([а-яё0-9]+)/iu",description:"Проверка на кириллицу и цифры"},{expression:"/(?P<digit>\\d+)/",description:"Проверка на число"},{expression:"/^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$/",description:"Проверка Email"},{expression:"/^((8|+7)[- ]?)?((?d{3})?[- ]?)?[d- ]{7,10}$/",description:"Проверка номера телефона"},{expression:"/^(0[1-9]|[12][0-9]|3[01])[.](0[1-9]|1[012])[.](19|20)dd$/",description:"Проверка даты по формату"},{expression:"/^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])$/",description:"Проверка даты по формату YYYY-MM-DD"},{expression:"/^(https?://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$/",description:"Проверка доменного имени"}],commandForm:{id:null,slug:null,pre_text:null,post_text:null,error_text:null,bot_id:null,input_pattern:null,inline_keyboard_id:null,reply_keyboard_id:null,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,reply_keyboard:null,is_empty:!1,result_flags:[],store_to:null},photos:[]}},computed:{...mapGetters(["getDialogs"])},mounted(){window.addEventListener("select-telegram-channel-id",o=>{this.commandForm[o.detail.param]=o.detail.channel}),this.item&&this.$nextTick(()=>{this.commandForm={id:this.item.id||null,slug:this.item.slug||null,pre_text:this.item.pre_text||null,post_text:this.item.post_text||null,error_text:this.item.error_text||null,is_empty:this.item.is_empty||!1,input_pattern:this.item.input_pattern||null,inline_keyboard_id:this.item.inline_keyboard_id||null,reply_keyboard_id:this.item.reply_keyboard_id||null,images:this.item.images||[],next_bot_dialog_command_id:this.item.next_bot_dialog_command_id||null,bot_dialog_group_id:this.item.bot_dialog_group_id||null,result_channel:this.item.result_channel||null,inline_keyboard:this.item.inline_keyboard||null,reply_keyboard:this.item.reply_keyboard||null,result_flags:this.item.result_flags||[],store_to:this.item.store_to||null},this.bot&&(this.commandForm.bot_id=this.bot.id||null),this.commandForm.inline_keyboard_id!=null&&(this.need_inline_keyboard=!0),this.commandForm.reply_keyboard_id!=null&&(this.need_reply_keyboard=!0),this.commandForm.images.length>0&&(this.need_images=!0),this.commandForm.result_flags.length>0&&(this.need_set_flags=!0)}),this.bot&&this.$nextTick(()=>{this.commandForm.bot_id=this.bot.id}),this.loadGroups()},methods:{unlinkCommand(){this.loading=!0,this.$store.dispatch("unlinkDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$botNotification.success("Команды","Диалоговая команда успешно продублирована!"),this.$emit("callback")}).catch(o=>{this.loading=!1})},removeCommand(){this.loading=!0,this.$store.dispatch("removeDialogCommand",{dataObject:{dialogCommandId:this.item.id}}).then(o=>{this.loading=!1,this.$botNotification.success("Команды","Диалоговая команда успешно удалена!"),this.$emit("callback")}).catch(o=>{this.loading=!1})},loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{simple:!0},page:o,size:100}).then(t=>{this.loading=!1,this.commands=this.getDialogs}).catch(()=>{this.loading=!1})},requestChannelId(o){this.$botPages.telegramChannelHelper(o)},submit(){this.loading=!0;let o=new FormData;if(Object.keys(this.commandForm).forEach(t=>{const s=this.commandForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.photos){for(let t=0;t<this.photos.length;t++)o.append("files[]",this.photos[t]);o.delete("photos")}this.$store.dispatch(this.commandForm.id?"updateDialogCommand":"createDialogCommand",{dialogCommandForm:o}).then(t=>{this.loading=!1,this.$botNotification.success("Команды","Успешная обработка диалоговой команды!"),this.commandForm.id==null&&(this.commandForm={id:null,slug:null,pre_text:null,post_text:null,error_text:null,input_pattern:null,inline_keyboard_id:null,is_empty:!1,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,result_flags:[],store_to:null},this.photos=[]),this.$emit("callback")}).catch(t=>{this.loading=!1})},getPhoto(o){return{imageUrl:URL.createObjectURL(o)}},removePhoto(o,t){this[o].splice(t,1)},onChangePhotos(o){const t=o.target.files;for(let s=0;s<t.length;s++)this.photos.push(t[s])},saveInlineKeyboard(o){this.commandForm.inline_keyboard=o},saveReplyKeyboard(o){this.commandForm.reply_keyboard=o},addTextTo(o={param:null,text:null}){this.commandForm[o.param]=o.text},selectFlag(o){this.commandForm.result_flags||(this.commandForm.result_flags=[]);let t=this.commandForm.result_flags.indexOf(o.key);t===-1?this.commandForm.result_flags.push(o.key):this.commandForm.result_flags.splice(t,1)}}},_sfc_main$g=Object.assign(__default__$c,{__name:"BotDialogCommandForm",setup(o){return(t,s)=>{const i=resolveDirective("lazy");return openBlock(),createElementBlock("form",{onSubmit:s[16]||(s[16]=withModifiers((...a)=>t.submit&&t.submit(...a),["prevent"]))},[t.commandForm.id?(openBlock(),createElementBlock("p",_hoisted_1$g,[createBaseVNode("span",_hoisted_2$g,"#"+toDisplayString(t.commandForm.id),1),_hoisted_3$g,t.commandForm.next_bot_dialog_command_id?(openBlock(),createElementBlock("span",_hoisted_4$e,[createTextVNode("#"+toDisplayString(t.commandForm.next_bot_dialog_command_id||"-")+" ",1),createBaseVNode("i",{class:"ml-2 fa-solid fa-link-slash",onClick:s[0]||(s[0]=(...a)=>t.unlinkCommand&&t.unlinkCommand(...a))})])):(openBlock(),createElementBlock("span",_hoisted_5$e,"не связан"))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$e,[withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-pre-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":s[1]||(s[1]=a=>t.commandForm.pre_text=a),required:""},`

            `,8,_hoisted_7$e),[[vModelText,t.commandForm.pre_text]]),createBaseVNode("label",{for:"commandForm-pre-text-"+t.commandForm.id,class:"font-12"},"Текст диалога",8,_hoisted_8$c)]),createBaseVNode("div",_hoisted_9$b,[createBaseVNode("div",_hoisted_10$b,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=a=>t.commandForm.is_empty=a),id:"need-empty-dialog",checked:""},null,512),[[vModelCheckbox,t.commandForm.is_empty]]),_hoisted_11$9])]),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_12$9,[withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-post-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":s[3]||(s[3]=a=>t.commandForm.post_text=a),required:""},`
            `,8,_hoisted_13$7),[[vModelText,t.commandForm.post_text]]),createBaseVNode("label",{for:"commandForm-post-text-"+t.commandForm.id,class:"font-12"},"Текст после успешного завершения диалога",8,_hoisted_14$7)])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15$7,[withDirectives(createBaseVNode("textarea",{style:{"min-height":"200px"},class:"form-control font-12",id:"commandForm-error-text-"+t.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":s[4]||(s[4]=a=>t.commandForm.error_text=a),required:""},`
            `,8,_hoisted_16$7),[[vModelText,t.commandForm.error_text]]),createBaseVNode("label",{for:"commandForm-error-text-"+t.commandForm.id,class:"font-12"},"Текст на случай ошибки корректности данных",8,_hoisted_17$5)])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_18$5,[createBaseVNode("div",_hoisted_19$5,[withDirectives(createBaseVNode("select",{id:"next-dialog-select",class:"form-select form-control font-12","onUpdate:modelValue":s[5]||(s[5]=a=>t.commandForm.input_pattern=a)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.expressions,a=>(openBlock(),createElementBlock("option",{value:a.expression},toDisplayString(a.description||"-"),9,_hoisted_20$5))),256))],512),[[vModelSelect,t.commandForm.input_pattern]]),createBaseVNode("label",{class:"form-label font-12",for:"commandForm-result-channel-"+t.commandForm.id},"Регулярное выражение для автоматической проверки данных ",8,_hoisted_21$4)]),createBaseVNode("div",_hoisted_22$4,[withDirectives(createBaseVNode("input",{id:"custom-regular-expression"+t.commandForm.id,type:"text",class:"form-control",placeholder:"Регулярное выражение","aria-label":"Регулярное выражение","onUpdate:modelValue":s[6]||(s[6]=a=>t.commandForm.input_pattern=a),maxlength:"255","aria-describedby":"commandForm-input-pattern"},null,8,_hoisted_23$4),[[vModelText,t.commandForm.input_pattern]]),createBaseVNode("label",{for:"custom-regular-expression"+t.commandForm.id,class:"font-12"},"или впишите своё",8,_hoisted_24$4)])])),t.commandForm.is_empty?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$4,[createBaseVNode("select",{id:"next-dialog-select"+t.commandForm.id,class:"form-select form-control font-12","aria-label":"Default select example"},[_hoisted_27$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.commands,(a,n)=>(openBlock(),createElementBlock("option",{value:a.id},"#"+toDisplayString(a.id)+" "+toDisplayString(a.pre_text||"Без текста"),9,_hoisted_28$2))),256))],8,_hoisted_26$2),createBaseVNode("label",{for:"next-dialog-select"+t.commandForm.id,class:"font-12"},"Следующий диалог",8,_hoisted_29$2)])),createBaseVNode("div",_hoisted_30$2,[createBaseVNode("div",_hoisted_31$2,[createBaseVNode("label",{class:"form-label",for:"commandForm-result-channel-"+t.commandForm.id},"Канал для отправки данных ",8,_hoisted_32$2),createBaseVNode("span",{onClick:s[7]||(s[7]=a=>t.requestChannelId("result_channel"))},_hoisted_34$2)]),withDirectives(createBaseVNode("input",{type:"number",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":s[8]||(s[8]=a=>t.commandForm.result_channel=a),id:"commandForm-result-channel-"+t.commandForm.id,"aria-describedby":"bot-order-channel"},null,8,_hoisted_35$2),[[vModelText,t.commandForm.result_channel]])]),createBaseVNode("div",_hoisted_36$2,[createBaseVNode("div",_hoisted_37$2,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=a=>t.need_images=a),id:"need-dialog-image",checked:""},null,512),[[vModelCheckbox,t.need_images]]),_hoisted_38$2]),createBaseVNode("div",_hoisted_39$2,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=a=>t.need_inline_keyboard=a),id:"need-dialog-menu-inline",checked:""},null,512),[[vModelCheckbox,t.need_inline_keyboard]]),_hoisted_40$1]),createBaseVNode("div",_hoisted_41$1,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[11]||(s[11]=a=>t.need_reply_keyboard=a),id:"need-dialog-menu-reply",checked:""},null,512),[[vModelCheckbox,t.need_reply_keyboard]]),_hoisted_42$1])]),t.need_images?(openBlock(),createElementBlock("div",_hoisted_43$1,[_hoisted_44$1,createBaseVNode("div",_hoisted_45$1,[createBaseVNode("label",_hoisted_46$1,[_hoisted_47$1,createBaseVNode("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:s[12]||(s[12]=(...a)=>t.onChangePhotos&&t.onChangePhotos(...a)),style:{display:"none"}},null,32)]),t.photos.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.photos,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_48$1,[withDirectives(createBaseVNode("img",null,null,512),[[i,t.getPhoto(a).imageUrl]]),createBaseVNode("div",_hoisted_49$1,[createBaseVNode("a",{onClick:r=>t.removePhoto("photos",n)},"Удалить",8,_hoisted_50$1)])]))),256)):createCommentVNode("",!0),t.commandForm.images&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.commandForm.images,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_51$1,[withDirectives(createBaseVNode("img",null,null,512),[[i,"/images-by-bot-id/"+o.bot.id+"/"+a]]),createBaseVNode("div",_hoisted_52$1,[createBaseVNode("a",{onClick:r=>t.removePhoto("images",n)},"Удалить",8,_hoisted_53$1)])]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),t.need_inline_keyboard?(openBlock(),createElementBlock("div",_hoisted_54$1,[_hoisted_55$1,createVNode(_sfc_main$15,{onSave:t.saveInlineKeyboard,"edited-keyboard":t.commandForm.inline_keyboard},null,8,["onSave","edited-keyboard"])])):createCommentVNode("",!0),t.need_reply_keyboard?(openBlock(),createElementBlock("div",_hoisted_56$1,[_hoisted_57$1,createVNode(_sfc_main$15,{onSave:t.saveReplyKeyboard,"edited-keyboard":t.commandForm.reply_keyboard},null,8,["onSave","edited-keyboard"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_58$1,[_hoisted_59$1,withDirectives(createBaseVNode("select",{class:"form-control font-12","onUpdate:modelValue":s[13]||(s[13]=a=>t.commandForm.store_to=a)},[_hoisted_60,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.store_variants,a=>(openBlock(),createElementBlock("option",{value:a.key},toDisplayString(a.title||"Не указано"),9,_hoisted_61))),256))],512),[[vModelSelect,t.commandForm.store_to]])]),createBaseVNode("div",_hoisted_62,[withDirectives(createBaseVNode("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[14]||(s[14]=a=>t.need_set_flags=a),id:"need-set-flags",checked:""},null,512),[[vModelCheckbox,t.need_set_flags]]),_hoisted_63]),t.need_set_flags?(openBlock(),createElementBlock("div",_hoisted_64,[_hoisted_65,(openBlock(!0),createElementBlock(Fragment,null,renderList(t.flags_variants,a=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mr-2",{"bg-info text-white":t.commandForm.result_flags.indexOf(a.key)!=-1}]),onClick:n=>t.selectFlag(a)},toDisplayString(a.title),11,_hoisted_66))),256))])):createCommentVNode("",!0),createBaseVNode("button",_hoisted_67,[t.commandForm.id?(openBlock(),createElementBlock("span",_hoisted_68,"Обновить диалог")):(openBlock(),createElementBlock("span",_hoisted_69,"Добавить диалог"))]),t.commandForm.id?(openBlock(),createElementBlock("div",_hoisted_70)):createCommentVNode("",!0),t.commandForm.id?(openBlock(),createElementBlock("a",{key:10,onClick:s[15]||(s[15]=(...a)=>t.removeCommand&&t.removeCommand(...a)),title:"Удаление команды",class:"btn btn-m btn-full mb-2 rounded-xs text-uppercase font-900 shadow-s bg-red2-dark"},[_hoisted_71,createTextVNode(" Удалить диалог ")])):createCommentVNode("",!0)],32)}}}),DialogCommandCard_vue_vue_type_style_index_0_lang="",_hoisted_1$f=["data-bs-target"],_hoisted_2$f={class:"badge bg-primary mr-2"},_hoisted_3$f={class:"mb-0",style:{"line-height":"100%","font-size":"10px","text-align":"left"}},_hoisted_4$d=["id"],_hoisted_5$d={class:"modal-dialog modal-fullscreen"},_hoisted_6$d={class:"modal-content"},_hoisted_7$d=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_8$b={class:"modal-body"},__default__$b={props:["item","bot"],data(){return{showMenu:!1}},methods:{selectDialog(){this.$emit("select",this.item)}}},_sfc_main$f=Object.assign(__default__$b,{__name:"DialogCommandCard",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{"data-bs-toggle":"modal","data-bs-target":"#open-dialog-editor-"+o.item.id,class:"btn d-flex justify-content-start align-items-start",type:"button"},[createBaseVNode("span",_hoisted_2$f,"#"+toDisplayString(o.item.id),1),createBaseVNode("p",_hoisted_3$f,toDisplayString(o.item.pre_text||"Нет команды"),1)],8,_hoisted_1$f),createBaseVNode("div",{class:"modal fade",id:"open-dialog-editor-"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_5$d,[createBaseVNode("div",_hoisted_6$d,[_hoisted_7$d,createBaseVNode("div",_hoisted_8$b,[createVNode(_sfc_main$g,{bot:o.bot,item:o.item},null,8,["bot","item"])])])])],8,_hoisted_4$d)],64))}}),_hoisted_1$e={key:0,class:"list-group"},_hoisted_2$e={class:"list-group-item p-2"},_hoisted_3$e={key:1},_hoisted_4$c={key:1,class:"row"},_hoisted_5$c=createBaseVNode("div",{class:"col-12"},[createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет созданных диалоговых групп ")],-1),_hoisted_6$c=[_hoisted_5$c],_hoisted_7$c={class:"modal fade",id:"create-bot-dialog",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_8$a={class:"modal-dialog modal-fullscreen"},_hoisted_9$a={class:"modal-content"},_hoisted_10$a=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_11$8={class:"modal-body"},_hoisted_12$8=createBaseVNode("button",{style:{"z-index":"100",bottom:"10px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#create-bot-dialog",class:"btn btn-primary p-3 w-100 my-2 position-sticky"},[createBaseVNode("i",{class:"fa-regular fa-comment-dots mr-2"}),createTextVNode("Создать новый диалог ")],-1),__default__$a={props:["bot"],data(){return{needCreate:!1,loading:!0,dialog_groups:[],search:null,link:null,group:null}},computed:{...mapGetters(["getDialogs","getDialogsPaginateObject"]),filteredCommands(){return this.link?this.dialog_groups.find(t=>t.id===this.link.group_id).bot_dialog_commands.filter(t=>t.id!=this.link.id):[]}},mounted(){this.loadGroups()},methods:{loadGroups(o=0){this.loading=!0,this.$store.dispatch("loadDialogs",{dataObject:{search:this.search},page:o}).then(t=>{this.loading=!1,this.dialog_groups=this.getDialogs,this.dialog_groups_paginate_object=this.getDialogsPaginateObject}).catch(()=>{this.loading=!1})}}},_sfc_main$e=Object.assign(__default__$a,{__name:"BotDialogGroupList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.dialog_groups.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(t.dialog_groups,(i,a)=>(openBlock(),createElementBlock("div",null,[i.bot_dialog_commands.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.bot_dialog_commands,(n,r)=>(openBlock(),createElementBlock("li",_hoisted_2$e,[o.bot?(openBlock(),createBlock(_sfc_main$f,{key:0,bot:o.bot,onCallback:t.loadGroups,item:n},null,8,["bot","onCallback","item"])):createCommentVNode("",!0)]))),256))])):(openBlock(),createElementBlock("p",_hoisted_3$e,"Диалоговых скриптов не найдено"))]))),256)):(openBlock(),createElementBlock("div",_hoisted_4$c,_hoisted_6$c)),createBaseVNode("div",_hoisted_7$c,[createBaseVNode("div",_hoisted_8$a,[createBaseVNode("div",_hoisted_9$a,[_hoisted_10$a,createBaseVNode("div",_hoisted_11$8,[o.bot?(openBlock(),createBlock(_sfc_main$g,{key:0,onCallback:t.loadGroups,bot:o.bot},null,8,["onCallback","bot"])):createCommentVNode("",!0)])])])]),_hoisted_12$8],64))}}),_hoisted_1$d={class:"container py-3"},_hoisted_2$d={class:"row"},_hoisted_3$d={class:"col-12"},__default__$9={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$d=Object.assign(__default__$9,{__name:"Dialogs",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$e,{key:0,bot:t.bot},null,8,["bot"]))])])]))}}),Dialogs=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$d},Symbol.toStringTag,{value:"Module"})),_hoisted_1$c={key:0,class:"list-group"},_hoisted_2$c={class:"w-100 list-group-item"},_hoisted_3$c=["onClick"],_hoisted_4$b=createBaseVNode("i",{class:"fa-solid fa-scroll text-primary"},null,-1),_hoisted_5$b={class:"mb-2"},_hoisted_6$b=createBaseVNode("div",{class:"alert alert-light mb-2"}," Вы можете добавить данный скрипт изменив сразу название команды на нужное непосредственно ВАМ! Меняется только название. ",-1),_hoisted_7$b={class:"form-floating"},_hoisted_8$9=createBaseVNode("label",{for:""},"Команда",-1),_hoisted_9$9=["disabled"],_hoisted_10$9={key:2,class:"mb-2"},_hoisted_11$7=createBaseVNode("div",{class:"alert alert-warning",role:"alert"}," К сожалению еще нет глобальных скриптов ",-1),_hoisted_12$7=[_hoisted_11$7],__default__$8={props:["canAdd","bot"],data(){return{search:null,slugs:[],slugs_paginate_object:null,slugForm:{command:null,comment:null,slug:null,config:[],is_global:!0,bot_id:null}}},computed:{...mapGetters(["getGlobalSlugs","getGlobalSlugsPaginateObject"]),filteredAllSlugs(){return this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",s=o.command||"",i=o.comment||"";return s.toLowerCase().indexOf(this.search.toLowerCase())!==-1||i.toLowerCase().indexOf(this.search.toLowerCase())!==-1||t.toLowerCase().indexOf(this.search.toLowerCase())!==-1})}},mounted(){this.loadAllSlugs()},methods:{loadAllSlugs(o=0){this.$store.dispatch("loadGlobalSlugs",{dataObject:{search:this.search||null,needGlobal:!0},page:o}).then(t=>{this.slugs=this.getGlobalSlugs,this.slugs_paginate_object=this.getGlobalSlugsPaginateObject})},removeSlug(o){this.$store.dispatch("removeSlug",{dataObject:{slugId:o.id}}).then(t=>{this.$botNotification.notification("Команды","Команда успешно удалена"),this.loadAllSlugs()}).catch(t=>{this.loadAllSlugs()})},nextSlugs(o){this.loadAllSlugs(o)},selectSlug(o){if(this.slugForm.id===o.id){this.slugForm.id=null,this.slugForm.slug=null,this.slugForm.comment=null,this.slugForm.command=null,this.slugForm.config=[],this.slugForm.is_global=!1;return}this.slugForm.id=o.id||null,this.slugForm.slug=o.slug,this.slugForm.comment=o.comment,this.slugForm.command=this.command||o.command,this.slugForm.config=o.config||[],this.slugForm.is_global=o.is_global||!1,this.$emit("select",o)},addSlug(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const s=this.slugForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.bot&&o.append("bot_id",this.bot.id),this.$store.dispatch("createSlug",{slugForm:o}).then(t=>{this.$botNotification.notification("Конструктор команд","Команда успешно обновлена"),this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0,this.$emit("callback")}).catch(t=>{})}}},_sfc_main$c=Object.assign(__default__$8,{__name:"GlobalSlugList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredAllSlugs,(i,a)=>(openBlock(),createElementBlock("li",_hoisted_2$c,[i?(openBlock(),createElementBlock("p",{key:0,onClick:n=>t.selectSlug(i),class:"mb-2"},[_hoisted_4$b,createBaseVNode("span",null,toDisplayString(i.command||"Не указана"),1)],8,_hoisted_3$c)):createCommentVNode("",!0),t.slugForm.id==i.id&&t.filteredAllSlugs.length>0?(openBlock(),createElementBlock("form",{key:1,onSubmit:s[1]||(s[1]=withModifiers((...n)=>t.addSlug&&t.addSlug(...n),["prevent"])),class:"mb-0 d-flex flex-wrap"},[createBaseVNode("div",_hoisted_5$b,[_hoisted_6$b,createBaseVNode("div",_hoisted_7$b,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":s[0]||(s[0]=n=>t.slugForm.command=n),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[vModelText,t.slugForm.command]]),_hoisted_8$9])]),createBaseVNode("button",{disabled:t.slugForm.slug==null,class:"btn btn-primary w-100 p-3"},"Добавить скрипт в бота ",8,_hoisted_9$9)],32)):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0),t.slugs_paginate_object?(openBlock(),createBlock(Pagination,{key:1,onPagination_page:t.nextSlugs,pagination:t.slugs_paginate_object},null,8,["onPagination_page","pagination"])):(openBlock(),createElementBlock("div",_hoisted_10$9,_hoisted_12$7))],64))}}),_hoisted_1$b={class:"form-floating mb-2"},_hoisted_2$b=createBaseVNode("label",{for:"floatingInput"},"Команда",-1),_hoisted_3$b={class:"form-floating mb-2"},_hoisted_4$a=createBaseVNode("label",{for:"floatingInput"},"Описание скрипта",-1),_hoisted_5$a=createBaseVNode("h6",null," Параметры скрипта ",-1),_hoisted_6$a={key:0,class:"mb-0"},_hoisted_7$a=["onClick"],_hoisted_8$8={key:1},_hoisted_9$8={class:"mb-1 alert alert-light py-2 px-2"},_hoisted_10$8={key:0},_hoisted_11$6={class:"dropdown d-inline-flex"},_hoisted_12$6=createBaseVNode("button",{class:"btn btn-link p-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[createBaseVNode("i",{class:"fa-solid fa-bars"})],-1),_hoisted_13$6={class:"dropdown-menu"},_hoisted_14$6=["onClick"],_hoisted_15$6={key:1,class:"form-floating mb-1"},_hoisted_16$6=["id","onUpdate:modelValue"],_hoisted_17$4=["for"],_hoisted_18$4={key:2,class:"form-check mb-1 form-switch"},_hoisted_19$4=["onUpdate:modelValue","id"],_hoisted_20$4=["for"],_hoisted_21$3={key:3,class:"form-floating mb-1"},_hoisted_22$3=["onUpdate:modelValue","id"],_hoisted_23$3=["for"],_hoisted_24$3={key:4,class:"form-floating mb-1"},_hoisted_25$3=["onUpdate:modelValue","id"],_hoisted_26$1=["for"],_hoisted_27$1={key:5,class:"mb-1"},_hoisted_28$1=createBaseVNode("label",{class:"form-label",id:"bot-domain"},"JSON-код",-1),_hoisted_29$1={key:6,class:"form-check mb-1"},_hoisted_30$1=["for"],_hoisted_31$1=["onUpdate:modelValue","id"],_hoisted_32$1={key:7,class:"form-floating mb-1"},_hoisted_33$1=["id","onUpdate:modelValue"],_hoisted_34$1=["for"],_hoisted_35$1={key:8,class:"form-floating mb-1"},_hoisted_36$1=["id","onUpdate:modelValue"],_hoisted_37$1=["for"],_hoisted_38$1={class:"form-floating mb-3"},_hoisted_39$1=["id","onUpdate:modelValue"],_hoisted_40=["for"],_hoisted_41=["onClick"],_hoisted_42=createBaseVNode("i",{class:"fa-regular fa-images mr-2"},null,-1),_hoisted_43={key:0},_hoisted_44={key:1},_hoisted_45={class:"fw-bold mb-0 d-flex justify-content-between"},_hoisted_46=["onClick"],_hoisted_47=createBaseVNode("i",{class:"fa-regular fa-pen-to-square"},null,-1),_hoisted_48=[_hoisted_47],_hoisted_49={key:10,class:"fst-italic mb-0"},_hoisted_50={key:11,class:"form-floating"},_hoisted_51=["id","onUpdate:modelValue"],_hoisted_52=["for"],_hoisted_53={key:2,class:"mb-2"},_hoisted_54=createBaseVNode("p",{class:"mb-0"},"Параметры скрипта еще не добавлены",-1),_hoisted_55=[_hoisted_54],_hoisted_56={class:"navbar navbar-expand-sm fixed-bottom p-3 bg-transparent border-0",style:{"border-radius":"10px 10px 0px 0px"}},_hoisted_57={class:"btn btn-primary w-100 p-3 rounded-3 shadow-lg text-center"},_hoisted_58={key:0},_hoisted_59={key:1},__default__$7={components:{Vue3JsonEditor},props:["item"],data(){return{filters:[],simple:!0,templates:[{key:"{{name}}",title:"Имя пользователя"},{key:"{{phone}}",title:"Телефон пользователя"},{key:"{{qr}}",title:"QR-код"},{key:"{{qrLink}}",title:"Реферальная ссылка"},{key:"{{friendsCount}}",title:"Число друзей"},{key:"{{username}}",title:"Название аккаунта"},{key:"{{cashBack}}",title:"Сумма кэшбэка на аккаунте"}],configTypes:[{title:"Текстовый или числовой параметр",type:"text"},{title:"Большое текстовое поле",type:"large-text"},{title:"Канал обратной связи",type:"channel"},{title:"Логический оператор",type:"boolean"},{title:"Ссылка на изображение",type:"image"},{title:"Цвет",type:"color"},{title:"Geo",type:"geo"},{title:"Номер телефона",type:"phone"},{title:"JSON",type:"json"}],bot:null,photos:[],slugForm:{bot_id:null,id:null,command:null,comment:null,slug:null,config:[],is_global:!0}}},computed:{...mapGetters(["getCurrentBot"]),filteredConfigs(){return this.filters.length===0?this.slugForm.config:this.slugForm.config.filter(o=>this.filters.indexOf(o.type)>=0)}},mounted(){this.item&&(this.slugForm.id=this.item.id||null,this.slugForm.command=this.item.command,this.slugForm.comment=this.item.comment,this.slugForm.bot_id=this.item.bot_id,this.slugForm.slug=this.item.slug,this.slugForm.config=this.item.config||[],this.slugForm.is_global=this.item.is_global||!1)},methods:{insert(o,t){let s=document.querySelector("#field-input-"+o).selectionStart||0,i=this.filteredConfigs[o].value;this.filteredConfigs[o].value=i.slice(0,s)+"<b>"+t.key+"</b>"+i.slice(s)},move(o,t=0){let s=this.slugForm.config[o],i=this.slugForm.config.length||0,a=t===0?o-1>=0?o-1:i-1:o<i-1?o+1:0;this.slugForm.config[o]=this.slugForm.config[a],this.slugForm.config[a]=s},toggleFilter(o){let t=this.filters.indexOf(o);t>=0?this.filters.splice(t,1):this.filters.push(o)},addTextTo(o,t={text:null}){this.slugForm.config[o].value=t.text},submit(){let o=new FormData;Object.keys(this.slugForm).forEach(t=>{const s=this.slugForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch(this.slugForm.id===null?"createSlug":"updateSlug",{slugForm:o}).then(t=>{this.$notify({title:"Редактор",text:"Данные успешно сохранены",type:"success"}),this.slugForm.id===null&&(this.slugForm.id=null,this.slugForm.command=null,this.slugForm.comment=null,this.slugForm.bot_id=null,this.slugForm.slug=null,this.slugForm.config=[],this.slugForm.is_global=!0),this.$emit("callback")}).catch(t=>{this.$notify({title:"Редактор",text:"Ошибка сохранения данных",type:"error"})})},addConfig(o){this.slugForm.config.splice(0,0,{key:null,value:null,type:o||"text"})},removeConfigItem(o){try{this.slugForm.config.splice(o,1)}catch{this.slugForm.config=[]}},selectPhoto(o,t){this.filteredConfigs[t].value=o.file_id}}},_sfc_main$b=Object.assign(__default__$7,{__name:"SlugForm",setup(o){return(t,s)=>{const i=resolveDirective("mask");return openBlock(),createElementBlock("form",{id:"slugForm",style:{"padding-bottom":"100px"},onSubmit:s[2]||(s[2]=withModifiers((...a)=>t.submit&&t.submit(...a),["prevent"]))},[createBaseVNode("div",_hoisted_1$b,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>t.slugForm.command=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[vModelText,t.slugForm.command]]),_hoisted_2$b]),createBaseVNode("div",_hoisted_3$b,[withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.slugForm.comment=a),style:{"min-height":"100px"},class:"form-control font-12",id:"floatingInput",placeholder:"name@example.com",required:""},`
            `,512),[[vModelText,t.slugForm.comment]]),_hoisted_4$a]),_hoisted_5$a,(t.configTypes||[]).length>0?(openBlock(),createElementBlock("p",_hoisted_6$a,[createTextVNode("Фильтры: "),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.configTypes,(a,n)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["badge mb-1 cursor-pointer mx-1",{"bg-primary text-white":t.filters.indexOf(a.type)>=0,"bg-secondary":t.filters.indexOf(a.type)===-1}]),onClick:r=>t.toggleFilter(a.type)},toDisplayString(a.type),11,_hoisted_7$a))),256))])):createCommentVNode("",!0),t.filteredConfigs.length>0?(openBlock(),createElementBlock("div",_hoisted_8$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filteredConfigs,(a,n)=>(openBlock(),createElementBlock("div",_hoisted_9$8,[t.filteredConfigs[n].type==="large-text"||t.filteredConfigs[n].type==="text"?(openBlock(),createElementBlock("div",_hoisted_10$8,[createTextVNode(" Вы можете выбрать параметры для подстановки значений "),createBaseVNode("div",_hoisted_11$6,[_hoisted_12$6,createBaseVNode("ul",_hoisted_13$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.templates,r=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:l=>t.insert(n,r),href:"javascript:void(0)"},toDisplayString(r.title),9,_hoisted_14$6)]))),256))])])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="channel"?(openBlock(),createElementBlock("div",_hoisted_15$6,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",id:"field-input-"+n,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,placeholder:"name@example.com"},null,8,_hoisted_16$6),[[vModelText,t.filteredConfigs[n].value]]),createBaseVNode("label",{for:"field-input-"+n},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_17$4)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="boolean"?(openBlock(),createElementBlock("div",_hoisted_18$4,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"checkbox",value:"false",id:"filtered-config-"+n+"-checkbox"},null,8,_hoisted_19$4),[[vModelCheckbox,t.filteredConfigs[n].value]]),createBaseVNode("label",{class:"form-check-label",for:"filtered-config-"+n+"-checkbox"},[createTextVNode(toDisplayString(t.filteredConfigs[n].value?"Истина":"Ложь")+" для ",1),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_20$4)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="geo"?(openBlock(),createElementBlock("div",_hoisted_21$3,[withDirectives(createBaseVNode("input",{class:"form-control",placeholder:"##.######,##.######","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"text",id:"filtered-config-"+n+"-geo"},null,8,_hoisted_22$3),[[i,"##.######,##.######"],[vModelText,t.filteredConfigs[n].value]]),createBaseVNode("label",{for:"filtered-config-"+n+"-geo"},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_23$3)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="phone"?(openBlock(),createElementBlock("div",_hoisted_24$3,[withDirectives(createBaseVNode("input",{class:"form-control",placeholder:"+7(###)###-##-##","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"text",id:"filtered-config-"+n+"-phone"},null,8,_hoisted_25$3),[[i,"+7(###)###-##-##"],[vModelText,t.filteredConfigs[n].value]]),createBaseVNode("label",{for:"filtered-config-"+n+"-phone"},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_26$1)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="json"?(openBlock(),createElementBlock("div",_hoisted_27$1,[_hoisted_28$1,createVNode(unref(Vue3JsonEditor),{mode:"code",modelValue:t.filteredConfigs[n].value,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,"show-btns":!1,expandedOnStart:!0},null,8,["modelValue","onUpdate:modelValue"])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="color"?(openBlock(),createElementBlock("div",_hoisted_29$1,[createBaseVNode("label",{for:"filtered-config-"+n+"-color"},[createBaseVNode("p",{style:normalizeStyle({color:t.filteredConfigs[n].value})},[createTextVNode("Цвет: "+toDisplayString(t.filteredConfigs[n].value)+" для ",1),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],4)],8,_hoisted_30$1),withDirectives(createBaseVNode("input",{class:"form-control","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,type:"color",id:"filtered-config-"+n+"-color"},null,8,_hoisted_31$1),[[vModelText,t.filteredConfigs[n].value]])])):createCommentVNode("",!0),t.filteredConfigs[n].type==="text"?(openBlock(),createElementBlock("div",_hoisted_32$1,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control font-12",id:"field-input-"+n,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,placeholder:"name@example.com"},null,8,_hoisted_33$1),[[vModelText,t.filteredConfigs[n].value]]),createBaseVNode("label",{for:"field-input-"+n},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_34$1)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="large-text"?(openBlock(),createElementBlock("div",_hoisted_35$1,[withDirectives(createBaseVNode("textarea",{class:"form-control font-12",id:"field-input-"+n,"onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,style:{"min-height":"200px"},placeholder:"name@example.com"},`
                            `,8,_hoisted_36$1),[[vModelText,t.filteredConfigs[n].value]]),createBaseVNode("label",{for:"field-input-"+n},[createTextVNode("Значение для "),createBaseVNode("strong",null,toDisplayString(t.filteredConfigs[n].key),1)],8,_hoisted_37$1)])):createCommentVNode("",!0),t.filteredConfigs[n].type==="image"?(openBlock(),createElementBlock(Fragment,{key:9},[createBaseVNode("div",_hoisted_38$1,[withDirectives(createBaseVNode("input",{class:"form-control mb-2",id:"field-input-"+n,type:"text",disabled:"true","onUpdate:modelValue":r=>t.filteredConfigs[n].value=r,placeholder:"name@example.com"},null,8,_hoisted_39$1),[[vModelText,t.filteredConfigs[n].value]]),createBaseVNode("label",{for:"field-input-"+n},"FileId ссылка на изображение",8,_hoisted_40)]),createBaseVNode("button",{type:"button",onClick:r=>t.filteredConfigs[n].gallery_visible=!t.filteredConfigs[n].gallery_visible,class:"btn btn-primary w-100 mb-2"},[_hoisted_42,t.filteredConfigs[n].gallery_visible?(openBlock(),createElementBlock("span",_hoisted_44,"Закрыть галерею")):(openBlock(),createElementBlock("span",_hoisted_43,"Открыть галерею"))],8,_hoisted_41),t.filteredConfigs[n].gallery_visible?(openBlock(),createBlock(_sfc_main$2t,{key:0,"need-video":!1,"need-photo":!0,selected:[t.filteredConfigs[n].value],onSelect:r=>t.selectPhoto(r,n)},null,8,["selected","onSelect"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0),createBaseVNode("p",_hoisted_45,[createTextVNode("Описание скрипта "),createBaseVNode("span",{class:"text-primary",onClick:r=>a.can_edit_description=!a.can_edit_description},_hoisted_48,8,_hoisted_46)]),a.can_edit_description?(openBlock(),createElementBlock("div",_hoisted_50,[withDirectives(createBaseVNode("textarea",{class:"form-control",id:"description-input-"+n,"onUpdate:modelValue":r=>t.filteredConfigs[n].description=r,placeholder:"Leave a comment here"},null,8,_hoisted_51),[[vModelText,t.filteredConfigs[n].description]]),createBaseVNode("label",{for:"description-input-"+n},"Описание",8,_hoisted_52)])):(openBlock(),createElementBlock("p",_hoisted_49,toDisplayString(t.filteredConfigs[n].description||"Описания нет"),1))]))),256))])):(openBlock(),createElementBlock("div",_hoisted_53,_hoisted_55)),createBaseVNode("nav",_hoisted_56,[createBaseVNode("button",_hoisted_57,[t.slugForm.id==null?(openBlock(),createElementBlock("span",_hoisted_58," Сохранить ")):(openBlock(),createElementBlock("span",_hoisted_59," Обновить "))])])],32)}}}),Slug_vue_vue_type_style_index_0_lang="",_hoisted_1$a={class:"alert alert-light w-100 mb-1",type:"button"},_hoisted_2$a={key:0,class:"fa-solid fa-chevron-up"},_hoisted_3$a={key:1,class:"fa-solid fa-chevron-down"},_hoisted_4$9=["data-bs-target"],_hoisted_5$9={key:0,class:"fa-regular fa-pen-to-square"},_hoisted_6$9={key:1,class:"fa-solid fa-xmark"},_hoisted_7$9={key:0,class:"fa-solid fa-arrow-up-short-wide"},_hoisted_8$7={key:1,class:"fa-solid fa-arrow-down-short-wide"},_hoisted_9$7=createBaseVNode("i",{class:"fa-solid fa-clone"},null,-1),_hoisted_10$7=[_hoisted_9$7],_hoisted_11$5=createBaseVNode("i",{class:"fa-regular fa-trash-can color-white"},null,-1),_hoisted_12$5=[_hoisted_11$5],_hoisted_13$5={key:1,class:"list-group my-2 p-0"},_hoisted_14$5={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_15$5={class:"ms-2 me-auto"},_hoisted_16$5=createBaseVNode("div",{class:"fw-bold"},"Идентификатор",-1),_hoisted_17$3={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_18$3={class:"ms-2 me-auto"},_hoisted_19$3=createBaseVNode("div",{class:"fw-bold"},"Команда",-1),_hoisted_20$3={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_21$2={class:"ms-2 me-auto"},_hoisted_22$2=createBaseVNode("div",{class:"fw-bold"},"Мнемоническое имя",-1),_hoisted_23$2={class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_24$2={class:"ms-2 me-auto"},_hoisted_25$2=createBaseVNode("div",{class:"fw-bold"},"Пояснение",-1),_hoisted_26={key:0,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_27={class:"ms-2 me-auto"},_hoisted_28=createBaseVNode("div",{class:"fw-bold"},"Набор параметров скрипта",-1),_hoisted_29={key:1,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_30=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Привязана страница")],-1),_hoisted_31=[_hoisted_30],_hoisted_32={key:2,class:"list-group-item d-flex justify-content-between align-items-start"},_hoisted_33=createBaseVNode("div",{class:"ms-2 me-auto"},[createBaseVNode("div",{class:"fw-bold"},"Глобальный скрипт")],-1),_hoisted_34=[_hoisted_33],_hoisted_35=["id"],_hoisted_36={class:"modal-dialog modal-fullscreen"},_hoisted_37={class:"modal-content"},_hoisted_38=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_39={class:"modal-body py-3"},__default__$6={props:["item","bot","selectMode"],data(){return{showMenu:!1,edit:!1,load:!1,simple:!0}},mounted(){},methods:{toggleMenu(){this.showMenu=!this.showMenu,this.simple=!0,this.edit=!1},switchEditor(){this.simple=!0,this.edit=!this.edit},switchSimple(){this.simple=!this.simple,this.edit=!1},selectCard(){this.$emit("select",this.item)},slugFormCallback(){this.load=!0,this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},editSlug(){this.load=!0,this.$nextTick(()=>{this.load=!1})},selectSlug(){this.load=!0,this.$emit("select",this.item),this.$nextTick(()=>{this.load=!1})},duplicateSlug(){this.load=!0,this.$store.dispatch("duplicateSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$botNotification.success("Конструктор команд","Команда успешно продублирована"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},removeSlug(){this.load=!0,this.$store.dispatch("removeSlug",{dataObject:{slugId:this.item.id}}).then(o=>{this.$botNotification.success("Конструктор команд","Команда успешно удалена"),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(o=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})}}},_sfc_main$a=Object.assign(__default__$6,{__name:"Slug",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$a,[createBaseVNode("p",{onClick:s[0]||(s[0]=(...i)=>t.toggleMenu&&t.toggleMenu(...i)),class:"w-100 mb-0"},[t.showMenu?(openBlock(),createElementBlock("i",_hoisted_2$a)):(openBlock(),createElementBlock("i",_hoisted_3$a)),createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)]),t.showMenu?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("a",{"data-bs-toggle":"modal","data-bs-target":"#slug-modal-editor-"+o.item.id,href:"javascript:void(0)",title:"Редактировать команду",style:{width:"auto"},class:"btn btn-outline-light text-primary mr-2"},[t.edit?(openBlock(),createElementBlock("i",_hoisted_6$9)):(openBlock(),createElementBlock("i",_hoisted_5$9))],8,_hoisted_4$9),createBaseVNode("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=(...i)=>t.switchSimple&&t.switchSimple(...i)),class:"btn btn-outline-light text-primary mr-2"},[t.simple?(openBlock(),createElementBlock("i",_hoisted_7$9)):(openBlock(),createElementBlock("i",_hoisted_8$7))]),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-outline-light text-primary mr-2",onClick:s[2]||(s[2]=(...i)=>t.duplicateSlug&&t.duplicateSlug(...i))},_hoisted_10$7),createBaseVNode("a",{href:"javascript:void(0)",title:"Дублировать команду",class:"btn btn-outline-light text-primary mr-2",onClick:s[3]||(s[3]=(...i)=>t.removeSlug&&t.removeSlug(...i))},_hoisted_12$5)],64)):createCommentVNode("",!0),t.simple?createCommentVNode("",!0):(openBlock(),createElementBlock("ol",_hoisted_13$5,[createBaseVNode("li",_hoisted_14$5,[createBaseVNode("div",_hoisted_15$5,[_hoisted_16$5,createTextVNode(" №"+toDisplayString(o.item.id||"Нет идентификатора"),1)])]),createBaseVNode("li",_hoisted_17$3,[createBaseVNode("div",_hoisted_18$3,[_hoisted_19$3,createTextVNode(" "+toDisplayString(o.item.command||"Нет команды"),1)])]),createBaseVNode("li",_hoisted_20$3,[createBaseVNode("div",_hoisted_21$2,[_hoisted_22$2,createTextVNode(" "+toDisplayString(o.item.slug||"Slug"),1)])]),createBaseVNode("li",_hoisted_23$2,[createBaseVNode("div",_hoisted_24$2,[_hoisted_25$2,createTextVNode(" "+toDisplayString(o.item.comment||"Пояснение не указано"),1)])]),o.item.config?(openBlock(),createElementBlock("li",_hoisted_26,[createBaseVNode("div",_hoisted_27,[_hoisted_28,o.item.config?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(o.item.config,i=>(openBlock(),createElementBlock("p",null,[createBaseVNode("strong",null,toDisplayString(i.key||"Ключ не найден")+":",1),createTextVNode(toDisplayString(i.value||"Не указано"),1)]))),256)):createCommentVNode("",!0)])])):createCommentVNode("",!0),o.item.page?(openBlock(),createElementBlock("li",_hoisted_29,_hoisted_31)):createCommentVNode("",!0),o.item.is_global?(openBlock(),createElementBlock("li",_hoisted_32,_hoisted_34)):createCommentVNode("",!0)]))]),createBaseVNode("div",{class:"modal fade",id:"slug-modal-editor-"+o.item.id,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[createBaseVNode("div",_hoisted_36,[createBaseVNode("div",_hoisted_37,[_hoisted_38,createBaseVNode("div",_hoisted_39,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$b,{key:0,item:o.item,onCallback:t.slugFormCallback},null,8,["item","onCallback"]))])])])],8,_hoisted_35)],64))}}),_hoisted_1$9={key:0},_hoisted_2$9=createBaseVNode("i",{class:"fa-solid fa-scroll"},null,-1),_hoisted_3$9={key:1},_hoisted_4$8=createBaseVNode("i",{class:"fa-regular fa-square-minus"},null,-1),_hoisted_5$8={key:0,class:"mb-2"},_hoisted_6$8={class:"form-floating mb-2"},_hoisted_7$8=createBaseVNode("label",{for:"floatingInput"},"Быстрый поиск команды",-1),_hoisted_8$6={class:"form-check"},_hoisted_9$6={class:"form-check-label",for:"need_global"},_hoisted_10$6={key:0},_hoisted_11$4={key:1},_hoisted_12$4={class:"mb-0"},_hoisted_13$4={class:"mb-3"},_hoisted_14$4={key:2,class:"mb-3"},_hoisted_15$4=createBaseVNode("div",{class:"alert alert-light",role:"alert"}," У Вас еще нет добавленных скриптов! ",-1),_hoisted_16$4=[_hoisted_15$4],__default__$5={props:["command","bot"],data(){return{need_global:!0,show:!1,slugs:[],paginate:null,ownSearch:null,slugForm:{command:null,comment:null,slug:null}}},watch:{need_global:function(o,t){this.loadSlugs()}},computed:{...mapGetters(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs.length===0?[]:this.ownSearch==null?this.slugs:this.slugs.filter(o=>{let t=o.slug||"",s=o.command||"",i=o.comment||"";return s.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||i.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1||t.toLowerCase().indexOf(this.ownSearch.toLowerCase())!==-1})}},mounted(){this.loadSlugs(),this.command&&this.$nextTick(()=>{this.slugForm.command=this.command})},methods:{nextSlugs(o){this.loadSlugs(o)},loadSlugs(o){this.$store.dispatch("loadSlugs",{dataObject:{needGlobal:this.need_global},page:o}).then(t=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},callbackSlugs(){this.loadSlugs()},selectSlug(o){this.$emit("select",o)},loadAllSlugs(){this.$store.dispatch("loadAllSlugs").then(o=>{this.allSlugs=o.data})},addSlug(o){}}},_sfc_main$9=Object.assign(__default__$5,{__name:"BotSlugList",setup(o){return(t,s)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{type:"button",onClick:s[0]||(s[0]=i=>t.show=!t.show),class:"btn btn-outline-light text-primary mb-2 w-100"},[t.show?(openBlock(),createElementBlock("span",_hoisted_3$9,[_hoisted_4$8,createTextVNode(" Свернуть форму добавления")])):(openBlock(),createElementBlock("span",_hoisted_1$9,[_hoisted_2$9,createTextVNode(" Добавить глобальный скрипт")]))]),t.show?(openBlock(),createElementBlock("div",_hoisted_5$8,[o.bot?(openBlock(),createBlock(_sfc_main$c,{key:0,"can-add":!0,bot:o.bot,onCallback:t.loadSlugs},null,8,["bot","onCallback"])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$8,[_hoisted_7$8,withDirectives(createBaseVNode("input",{type:"search","onUpdate:modelValue":s[1]||(s[1]=i=>t.ownSearch=i),class:"form-control",id:"floatingInput",placeholder:"Название команды"},null,512),[[vModelText,t.ownSearch]])]),createBaseVNode("div",_hoisted_8$6,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=i=>t.need_global=i),type:"checkbox",id:"need_global"},null,512),[[vModelCheckbox,t.need_global]]),createBaseVNode("label",_hoisted_9$6,[t.need_global?(openBlock(),createElementBlock("span",_hoisted_10$6,"Глобальные")):(openBlock(),createElementBlock("span",_hoisted_11$4,"Локальные"))])]),t.slugs&&o.bot?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(t.filteredSlugs,(i,a)=>(openBlock(),createElementBlock("div",_hoisted_12$4,[createVNode(_sfc_main$a,{item:i,bot:o.bot,onCallback:t.callbackSlugs,onSelect:t.selectSlug},null,8,["item","bot","onCallback","onSelect"])]))),256)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$4,[t.paginate?(openBlock(),createBlock(Pagination,{key:0,simple:!0,onPagination_page:t.nextSlugs,pagination:t.paginate},null,8,["onPagination_page","pagination"])):createCommentVNode("",!0)]),t.filteredSlugs.length===0?(openBlock(),createElementBlock("div",_hoisted_14$4,_hoisted_16$4)):createCommentVNode("",!0)],64))}}),_hoisted_1$8={class:"container py-3"},_hoisted_2$8={class:"row"},_hoisted_3$8={class:"col-12"},__default__$4={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data})}}},_sfc_main$8=Object.assign(__default__$4,{__name:"Slugs",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$8,[t.load?createCommentVNode("",!0):(openBlock(),createBlock(_sfc_main$9,{key:0,bot:t.bot},null,8,["bot"]))])])]))}}),Slugs=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$8},Symbol.toStringTag,{value:"Module"})),_hoisted_1$7={class:"container my-3"},_hoisted_2$7={class:"row"},_hoisted_3$7={class:"col-12"},_hoisted_4$7={key:1,class:"alert alert-light"},_hoisted_5$7=createBaseVNode("p",{class:"text-center"},"Загружаем данные...",-1),_hoisted_6$7=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_7$7=[_hoisted_5$7,_hoisted_6$7],__default__$3={data(){return{load:!1,bot:null,y_clients:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.y_clients=this.bot.y_clients,this.$notify({title:"Работа с YClients",text:"Данные успешно обновлены",type:"success"})})}}},_sfc_main$7=Object.assign(__default__$3,{__name:"YClients",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$7,[!t.load&&t.bot?(openBlock(),createBlock(YClientsForm,{key:0,bot:t.bot,data:t.bot.y_clients},null,8,["bot","data"])):(openBlock(),createElementBlock("div",_hoisted_4$7,_hoisted_7$7))])])]))}}),YClients=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$7},Symbol.toStringTag,{value:"Module"})),_sfc_main$6={props:["modelValue"],computed:{isComplete(){return this.iikoForm.api_login&&this.iikoForm.organization_id&&this.iikoForm.terminal_group_id},preparedTerminals(){let o=[];return this.terminals.forEach(t=>{t.items.forEach(s=>{o.push(s)})}),o}},data(){return{load:!1,token:null,selected_organization:null,selected_terminal:null,organizations:[],terminals:[],iikoForm:{id:null,bot_id:null,api_login:null,organization_id:null,terminal_group_id:null}}},watch:{iikoForm:{handler:function(o){this.$emit("update:modelValue",this.iikoForm)},deep:!0}},mounted(){this.modelValue&&this.$nextTick(()=>{this.iikoForm.id=this.modelValue.id||null,this.iikoForm.bot_id=this.modelValue.bot_id||null,this.iikoForm.api_login=this.modelValue.api_login||null,this.iikoForm.organization_id=this.modelValue.organization_id||null,this.iikoForm.terminal_group_id=this.modelValue.terminal_group_id||null,this.selected_terminal={name:this.iikoForm.terminal_group_id},this.selected_organization={name:this.iikoForm.organization_id},this.iikoForm.api_login&&this.getToken()})},methods:{selectOrganization(o){if(!o){this.selected_organization=null,this.iikoForm.organization_id=null,this.selected_terminal=null,this.iikoForm.terminal_group_id=null;return}this.selected_organization=o,this.iikoForm.organization_id=o.id,this.getTerminals()},selectTerminal(o){if(!o){this.selected_terminal=null,this.iikoForm.terminal_group_id=null;return}this.selected_terminal=o,this.iikoForm.terminal_group_id=o.id},changeApiLogin(){this.token=null,this.selectOrganization(null),this.selectTerminal(null),this.getToken()},getToken(){this.$store.dispatch("getIikoToken",{api_login:this.iikoForm.api_login}).then(o=>{this.token=o.token||null,this.getOrganizations()}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения токена",type:"error"})})},getOrganizations(){this.token&&this.$store.dispatch("getIikoOrganizations",{token:this.token}).then(o=>{this.organizations=o.organizations||[]}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения списка организаций",type:"error"})})},getTerminals(){!this.token||!this.iikoForm.organization_id||this.$store.dispatch("getIikoTerminals",{token:this.token,organization_id:this.iikoForm.organization_id}).then(o=>{this.terminals=o.terminals||[]}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения списка терминалов",type:"error"})})},submit(){let o=new FormData;Object.keys(this.iikoForm).forEach(t=>{const s=this.iikoForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("storeIiko",{iikoForm:o}).then(t=>{this.$notify({title:"Отлично!",text:"Параметры успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Упс!",text:"Ошибка сохранения параметров",type:"error"})})}}},_hoisted_1$6={class:"form-floating mb-2"},_hoisted_2$6=createBaseVNode("label",{for:"iiko-form-api_login"},"API логин",-1),_hoisted_3$6=createBaseVNode("div",{class:"alert alert-light mb-2"}," Выберите организацию, которую хотите подключить ",-1),_hoisted_4$6={class:"dropdown mb-2"},_hoisted_5$6=["disabled"],_hoisted_6$6={key:0},_hoisted_7$6={key:1},_hoisted_8$5={class:"dropdown-menu w-100"},_hoisted_9$5=createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider p-0 m-0"})],-1),_hoisted_10$5=["onClick"],_hoisted_11$3={class:"text-wrap m-0"},_hoisted_12$3=createBaseVNode("div",{class:"alert alert-light mb-2"}," Выберите терминал в организации, через который будут проходить операции ",-1),_hoisted_13$3={class:"dropdown mb-2"},_hoisted_14$3=["disabled"],_hoisted_15$3={key:0},_hoisted_16$3={key:1},_hoisted_17$2={class:"dropdown-menu w-100"},_hoisted_18$2=createBaseVNode("li",null,[createBaseVNode("hr",{class:"dropdown-divider p-0 m-0"})],-1),_hoisted_19$2=["onClick"],_hoisted_20$2=["disabled"];function _sfc_render$3(o,t,s,i,a,n){return openBlock(),createElementBlock("form",{onSubmit:t[4]||(t[4]=withModifiers((...r)=>n.submit&&n.submit(...r),["prevent"]))},[createBaseVNode("div",_hoisted_1$6,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a.iikoForm.api_login=r),onChange:t[1]||(t[1]=(...r)=>n.changeApiLogin&&n.changeApiLogin(...r)),class:"form-control",id:"iiko-form-api_login",placeholder:"name@example.com"},null,544),[[vModelText,a.iikoForm.api_login]]),_hoisted_2$6]),_hoisted_3$6,createBaseVNode("div",_hoisted_4$6,[createBaseVNode("button",{type:"button",disabled:!a.token,class:"btn btn-outline-primary dropdown-toggle w-100 p-3",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[a.selected_organization?(openBlock(),createElementBlock("span",_hoisted_6$6,toDisplayString(a.selected_organization.name||"не указан"),1)):(openBlock(),createElementBlock("span",_hoisted_7$6,"Не выбрано организации"))],8,_hoisted_5$6),createBaseVNode("ul",_hoisted_8$5,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:t[2]||(t[2]=r=>n.selectOrganization(null)),href:"javascript:void(0)"},"Не выбрано")]),_hoisted_9$5,(openBlock(!0),createElementBlock(Fragment,null,renderList(a.organizations,r=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{class:normalizeClass([{"bg-primary text-white":r.id==this.iikoForm.organization_id},"dropdown-item"]),onClick:l=>n.selectOrganization(r),href:"javascript:void(0)"},[createBaseVNode("p",_hoisted_11$3,toDisplayString(r.name||"-")+" ("+toDisplayString(r.restaurantAddress||"-")+")",1)],10,_hoisted_10$5)]))),256))])]),_hoisted_12$3,createBaseVNode("div",_hoisted_13$3,[createBaseVNode("button",{type:"button",disabled:!a.iikoForm.organization_id,class:"btn btn-outline-primary dropdown-toggle w-100 p-3",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[a.selected_terminal?(openBlock(),createElementBlock("span",_hoisted_15$3,toDisplayString(a.selected_terminal.name||"не указан"),1)):(openBlock(),createElementBlock("span",_hoisted_16$3,"Не выбрано терминал"))],8,_hoisted_14$3),createBaseVNode("ul",_hoisted_17$2,[createBaseVNode("li",null,[createBaseVNode("a",{class:"dropdown-item",onClick:t[3]||(t[3]=r=>n.selectTerminal(null)),href:"javascript:void(0)"},"Не выбрано")]),_hoisted_18$2,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.preparedTerminals,r=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{onClick:l=>n.selectTerminal(r),class:normalizeClass([{"bg-primary text-white":r.id==this.iikoForm.terminal_group_id},"dropdown-item"]),href:"javascript:void(0)"},toDisplayString(r.name||"-"),11,_hoisted_19$2)]))),256))])]),createBaseVNode("button",{class:"btn btn-primary p-3 w-100",disabled:!n.isComplete}," Сохранить настройки ",8,_hoisted_20$2)],32)}const IikoForm=_export_sfc(_sfc_main$6,[["render",_sfc_render$3]]),_sfc_main$5={data(){return{need_load_products:!1,selected_menu:null,selected_product:null,menus:[],categories:[],products:[]}},mounted(){this.getMenus()},methods:{selectProduct(o){this.selected_product=o,new bootstrap.Modal("#product-modal",{}).show()},selectMenu(o){this.selected_menu=o,this.getProducts()},getMenus(){this.$store.dispatch("getIikoMenu").then(o=>{this.menus=o.menus||[]}).catch(o=>{this.$notify({title:"Упс!",text:"Ошибка получения токена",type:"error"})})},getProducts(){this.need_load_products=!0,this.$store.dispatch("getIikoProducts",{menu_id:(this.selected_menu||{id:null}).id}).then(o=>{this.products=o.products.itemCategories||[],this.categories=o.products.productCategories||[],this.products.forEach(t=>{t.items.forEach(s=>{s.need_add=!0})}),this.need_load_products=!1}).catch(o=>{this.need_load_products=!1,this.$notify({title:"Упс!",text:"Ошибка получения токена",type:"error"})})},submit(){let o=[];this.products.forEach(t=>{t.items.forEach(s=>{o.push({id:s.itemId||null,sku:s.sku||null,name:s.name||null,description:s.description||null,category:t.name,in_stop:!s.need_add,price:s.itemSizes[0].prices[0].price||0,image:s.itemSizes[0].buttonImageUrl||null})})}),this.$store.dispatch("storeIikoProducts",{products:o}).then(t=>{this.$notify({title:"Отлично!",text:"Товары и категории успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Упс!",text:"Ошибка сохранения параметров",type:"error"})})}}},_hoisted_1$5={key:0,class:"list-group"},_hoisted_2$5=["onClick"],_hoisted_3$5={class:"badge bg-primary mr-2"},_hoisted_4$5={key:1,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_5$5=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем список меню...")],-1),_hoisted_6$5=[_hoisted_5$5],_hoisted_7$5={key:2,class:"mt-3 mb-0 p-0"},_hoisted_8$4={class:"my-2"},_hoisted_9$4={class:"list-group"},_hoisted_10$4={class:"list-group-item d-flex justify-content-between align-items-center"},_hoisted_11$2={class:"form-check"},_hoisted_12$2=["onUpdate:modelValue","id"],_hoisted_13$2=["for"],_hoisted_14$2=["onClick"],_hoisted_15$2={key:4,class:"alert alert-light my-2 d-flex justify-content-center align-items-center",role:"alert"},_hoisted_16$2=createBaseVNode("div",{class:"d-flex justify-content-center align-items-center flex-column"},[createBaseVNode("div",{class:"spinner-grow text-primary my-3",role:"status"},[createBaseVNode("span",{class:"visually-hidden"},"Загружаем....")]),createBaseVNode("p",null,"Загружаем список товаров из меню...")],-1),_hoisted_17$1=[_hoisted_16$2],_hoisted_18$1={class:"modal fade",id:"product-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},_hoisted_19$1={class:"modal-dialog modal-fullscreen"},_hoisted_20$1={class:"modal-content"},_hoisted_21$1=createBaseVNode("div",{class:"modal-header"},[createBaseVNode("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"Редактор"),createBaseVNode("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_hoisted_22$1={key:0,class:"modal-body"},_hoisted_23$1={class:"img-fluid",alt:""},_hoisted_24$1={class:"my-2"},_hoisted_25$1={class:"fw-bold"};function _sfc_render$2(o,t,s,i,a,n){const r=resolveDirective("lazy");return openBlock(),createElementBlock(Fragment,null,[a.menus.length>0?(openBlock(),createElementBlock("ul",_hoisted_1$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.menus,l=>(openBlock(),createElementBlock("li",{onClick:d=>n.selectMenu(l),class:normalizeClass([{active:(this.selected_menu||{id:null}).id==l.id},"list-group-item"])},[createBaseVNode("span",_hoisted_3$5,"#"+toDisplayString(l.id),1),createTextVNode(toDisplayString(l.name),1)],10,_hoisted_2$5))),256))])):(openBlock(),createElementBlock("div",_hoisted_4$5,_hoisted_6$5)),a.products.length>0?(openBlock(),createElementBlock("hr",_hoisted_7$5)):createCommentVNode("",!0),a.products.length>0?(openBlock(!0),createElementBlock(Fragment,{key:3},renderList(a.products,(l,d)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h6",_hoisted_8$4,toDisplayString(l.name),1),createBaseVNode("ul",_hoisted_9$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.items,(c,_)=>(openBlock(),createElementBlock("li",_hoisted_10$4,[createBaseVNode("div",_hoisted_11$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":m=>a.products[d].items[_].need_add=m,type:"checkbox",value:"",id:"product-"+c.id},null,8,_hoisted_12$2),[[vModelCheckbox,a.products[d].items[_].need_add]]),createBaseVNode("label",{class:"form-check-label",for:"product-"+c.id},toDisplayString(c.name||"-"),9,_hoisted_13$2)]),createBaseVNode("i",{onClick:m=>n.selectProduct(c),class:"fa-solid fa-arrow-up-right-from-square"},null,8,_hoisted_14$2)]))),256))])],64))),256)):createCommentVNode("",!0),a.need_load_products?(openBlock(),createElementBlock("div",_hoisted_15$2,_hoisted_17$1)):createCommentVNode("",!0),a.products.length>0?(openBlock(),createElementBlock("button",{key:5,onClick:t[0]||(t[0]=(...l)=>n.submit&&n.submit(...l)),style:{"z-index":"100",bottom:"10px"},type:"button",class:"btn btn-primary w-100 p-3 my-3 position-sticky"},"Сохранить товары ")):createCommentVNode("",!0),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("div",_hoisted_19$1,[createBaseVNode("div",_hoisted_20$1,[_hoisted_21$1,a.selected_product?(openBlock(),createElementBlock("div",_hoisted_22$1,[createBaseVNode("h6",null,toDisplayString(a.selected_product.name||"Нет имени"),1),createBaseVNode("p",null,toDisplayString(a.selected_product.description||"Нет описания"),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.selected_product.itemSizes,l=>(openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("img",_hoisted_23$1,null,512),[[r,l.buttonImageUrl]]),createBaseVNode("p",_hoisted_24$1,[createTextVNode(" Цена "),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.prices,d=>(openBlock(),createElementBlock("span",_hoisted_25$1,toDisplayString(d.price||0)+" ₽",1))),256))])],64))),256))])):createCommentVNode("",!0)])])])],64)}const IikoProducts=_export_sfc(_sfc_main$5,[["render",_sfc_render$2]]),_hoisted_1$4={class:"container py-3"},_hoisted_2$4={class:"row"},_hoisted_3$4={class:"col-12"},_hoisted_4$4={class:"nav nav-tabs d-flex justify-content-center mb-2"},_hoisted_5$4={class:"nav-item"},_hoisted_6$4=createBaseVNode("i",{class:"fa-solid fa-gears"},null,-1),_hoisted_7$4={class:"nav-item"},_hoisted_8$3=createBaseVNode("i",{class:"fa-brands fa-shopify"},null,-1),_hoisted_9$3={key:0,class:"col-12"},_hoisted_10$3={key:1,class:"col-12"},__default__$2={data(){return{tab:0,load:!1}},computed:{currentBot(){return window.currentBot||null}},mounted(){},methods:{}},_sfc_main$4=Object.assign(__default__$2,{__name:"Iiko",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("ul",_hoisted_4$4,[createBaseVNode("li",_hoisted_5$4,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===0}]),onClick:s[0]||(s[0]=i=>t.tab=0),"aria-current":"page",href:"javascript:void(0)"},[_hoisted_6$4,createTextVNode(" Настройка")],2)]),createBaseVNode("li",_hoisted_7$4,[createBaseVNode("a",{class:normalizeClass(["nav-link",{active:t.tab===1}]),onClick:s[1]||(s[1]=i=>t.tab=1),href:"javascript:void(0)"},[_hoisted_8$3,createTextVNode(" Продукты")],2)])])]),t.tab===0?(openBlock(),createElementBlock("div",_hoisted_9$3,[!t.load&&t.currentBot?(openBlock(),createBlock(IikoForm,{key:0,modelValue:t.currentBot.iiko,"onUpdate:modelValue":s[2]||(s[2]=i=>t.currentBot.iiko=i)},null,8,["modelValue"])):createCommentVNode("",!0)])):createCommentVNode("",!0),t.tab===1?(openBlock(),createElementBlock("div",_hoisted_10$3,[createVNode(IikoProducts)])):createCommentVNode("",!0)])]))}}),Iiko=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$4},Symbol.toStringTag,{value:"Module"})),_sfc_main$3={props:["data","bot"],components:{Vue3JsonEditor},data(){return{load:!1,bitrixForm:{id:null,url:null,is_active:!1,bot_id:null,config:[]}}},mounted(){this.data&&this.$nextTick(()=>{this.bitrixForm.id=this.data.id||null,this.bitrixForm.url=this.data.url||null,this.bitrixForm.is_active=this.data.is_active||!1,this.bitrixForm.config=this.data.config||[],this.bitrixForm.bot_id=this.data.bot_id||this.bot.id||null})},methods:{checkConnection(){this.$notify({title:"Работа с Bitrix",text:"Отправили на этот url тестовый запрос!"});let o=new FormData;Object.keys(this.bitrixForm).forEach(t=>{const s=this.bitrixForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("checkBitrixURL",{bitrixForm:o}).then(t=>{this.$notify({title:"Работа с Bitrix",text:"Данные CRM успешно сохранены",type:"success"})}).catch(t=>{this.$notify({title:"Работа с Bitrix",text:"Ошибка отправки",type:"error"})})},submit(){let o=new FormData;Object.keys(this.bitrixForm).forEach(t=>{const s=this.bitrixForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("storeBitrix",{bitrixForm:o}).then(t=>{this.$notify({title:"Работа с Bitrix",text:"Данные CRM успешно сохранены",type:"success"}),this.$emit("callback")}).catch(t=>{})}}},_hoisted_1$3={class:"input-group mb-2"},_hoisted_2$3={class:"form-floating"},_hoisted_3$3=createBaseVNode("label",{for:"bitrixForm-url"},"URL для сбора данных",-1),_hoisted_4$3={class:"input-group-text",id:"basic-addon1"},_hoisted_5$3=["disabled"],_hoisted_6$3=createBaseVNode("i",{class:"fa-solid fa-link"},null,-1),_hoisted_7$3=[_hoisted_6$3],_hoisted_8$2={class:"form-check form-switch"},_hoisted_9$2={class:"form-check-label",for:"bitrixForm-is_active"},_hoisted_10$2=["disabled"];function _sfc_render$1(o,t,s,i,a,n){return openBlock(),createElementBlock("form",{onSubmit:t[3]||(t[3]=withModifiers((...r)=>n.submit&&n.submit(...r),["prevent"]))},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a.bitrixForm.url=r),class:"form-control",id:"bitrixForm-url",placeholder:"name@example.com"},null,512),[[vModelText,a.bitrixForm.url]]),_hoisted_3$3]),createBaseVNode("span",_hoisted_4$3,[createBaseVNode("button",{type:"button",disabled:(a.bitrixForm.url||"").length===0,onClick:t[1]||(t[1]=(...r)=>n.checkConnection&&n.checkConnection(...r)),class:"btn text-primary p-1"},_hoisted_7$3,8,_hoisted_5$3)])]),createBaseVNode("div",_hoisted_8$2,[withDirectives(createBaseVNode("input",{class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=r=>a.bitrixForm.is_active=r),type:"checkbox",role:"switch",id:"bitrixForm-is_active"},null,512),[[vModelCheckbox,a.bitrixForm.is_active]]),createBaseVNode("label",_hoisted_9$2,[createTextVNode(" Сбор данных: "),createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":a.bitrixForm.is_active})},"вкл",2),createTextVNode(" / "),createBaseVNode("span",{class:normalizeClass({"fw-bold text-primary":!a.bitrixForm.is_active})},"выкл",2)])]),createBaseVNode("button",{disabled:!a.bitrixForm.url,class:"w-100 btn btn-primary p-3 my-3"},"Сохранить ",8,_hoisted_10$2)],32)}const BitrixForm=_export_sfc(_sfc_main$3,[["render",_sfc_render$1]]),_hoisted_1$2={class:"container my-3"},_hoisted_2$2={class:"row"},_hoisted_3$2={class:"col-12"},_hoisted_4$2={class:"fw-bold d-flex justify-content-between align-items-center pb-2"},_hoisted_5$2=createBaseVNode("i",{class:"fa-solid fa-plus"},null,-1),_hoisted_6$2=[_hoisted_5$2],_hoisted_7$2={key:0,class:"list-group mb-2"},_hoisted_8$1=["onClick"],_hoisted_9$1={key:1,class:"alert alert-light"},_hoisted_10$1=createBaseVNode("strong",{class:"fw-bold text-primary"},"Внимание!",-1),_hoisted_11$1={key:1,class:"alert-light alert"},_hoisted_12$1=createBaseVNode("p",null,"Загружаем данные...",-1),_hoisted_13$1=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_14$1=[_hoisted_12$1,_hoisted_13$1],_hoisted_15$1={class:"col-12"},_hoisted_16$1=createBaseVNode("h6",{class:"fw-bold d-flex justify-content-between align-items-center pb-2"},"Данные подключения",-1),__default__$1={data(){return{bitrix:[],selected:null,load:!1}},computed:{currentBot(){return window.currentBot||null}},mounted(){this.loadBitrix()},methods:{loadBitrix(){this.load=!0,this.$store.dispatch("loadBitrix").then(o=>{this.bitrix=o.data||[],this.load=!1}).catch(()=>{this.load=!1})},selectItem(o){this.selected=o,this.load=!0,this.$nextTick(()=>{this.load=!1})}}},_sfc_main$2=Object.assign(__default__$1,{__name:"Bitrix",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("h6",_hoisted_4$2,[createTextVNode("Доступные подключения "),t.selected!=null?(openBlock(),createElementBlock("a",{key:0,href:"javascript:void(0)",class:"text-decoration-none text-primary px-1",onClick:s[0]||(s[0]=i=>t.selectItem(null))},_hoisted_6$2)):createCommentVNode("",!0)]),t.load?(openBlock(),createElementBlock("div",_hoisted_11$1,_hoisted_14$1)):(openBlock(),createElementBlock(Fragment,{key:0},[(t.bitrix||[]).length>0?(openBlock(),createElementBlock("ul",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.bitrix,i=>(openBlock(),createElementBlock("li",{class:normalizeClass(["list-group-item",{"border-success":i.is_active,"border-error":!i.is_active,"bg-success text-white":(t.selected||{id:null}).id===i.id}]),style:{"word-wrap":"break-word"},onClick:a=>t.selectItem(i)},toDisplayString(i.url||"не указан"),11,_hoisted_8$1))),256))])):(openBlock(),createElementBlock("div",_hoisted_9$1,[_hoisted_10$1,createTextVNode(" Еще нет добавленных данных по CRM ")]))],64))]),createBaseVNode("div",_hoisted_15$1,[_hoisted_16$1,!t.load&&t.currentBot?(openBlock(),createBlock(BitrixForm,{key:0,bot:t.currentBot,data:t.selected,onCallback:t.loadBitrix},null,8,["bot","data","onCallback"])):createCommentVNode("",!0)])])]))}}),Bitrix=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$2},Symbol.toStringTag,{value:"Module"})),_sfc_main$1={props:["data"],data(){return{hasConnect:!1,bot:null,frontPadForm:{hook_url:null,channel:null,affiliate:null,point:null,token:null,statuses:[{value:null,key:"new",title:"Новый"}],bot_id:null,pays:[{value:null,key:"cash",title:"Наличные"},{value:null,key:"card",title:"Перевод на карту"}]}}},computed:{...mapGetters(["getCurrentBot"])},mounted(){this.bot=this.getCurrentBot,this.data?this.$nextTick(()=>{this.frontPadForm.hook_url=this.data.hook_url||null,this.frontPadForm.channel=this.data.channel||null,this.frontPadForm.affiliate=this.data.affiliate||null,this.frontPadForm.point=this.data.point||null,this.frontPadForm.token=this.data.token||null,this.frontPadForm.bot_id=this.data.bot_id||this.bot.id||null,this.data.pays!=null&&(this.frontPadForm.pays=this.data.pays),this.data.statuses!=null&&(this.frontPadForm.statuses=this.data.statuses)}):this.frontPadForm.bot_id=this.bot.id||null},methods:{submit(){let o=new FormData;Object.keys(this.frontPadForm).forEach(t=>{const s=this.frontPadForm[t]||"";typeof s=="object"?o.append(t,JSON.stringify(s)):o.append(t,s)}),this.$store.dispatch("saveFrontPad",{frontPadForm:o}).then(t=>{this.$notify("Данные CRM успешно сохранены")}).catch(t=>{})}}},_hoisted_1$1=createBaseVNode("h3",null,"Настройка FrontPad",-1),_hoisted_2$1={class:"form-floating mb-2"},_hoisted_3$1=createBaseVNode("label",{id:"token"}," Токен интеграции ",-1),_hoisted_4$1=createBaseVNode("div",{class:"alert alert-light"},' Данные брать из справочника FrontPad "Каналы продаж". Создать канал. Telegram. Указать значение для API ',-1),_hoisted_5$1={class:"form-floating mb-2"},_hoisted_6$1=createBaseVNode("label",{class:"form-label",id:"channel"}," Канал продаж ",-1),_hoisted_7$1={class:"form-floating mb-2"},_hoisted_8=createBaseVNode("label",{id:"affiliate"}," Филиал ",-1),_hoisted_9={class:"form-floating mb-2"},_hoisted_10=createBaseVNode("label",{class:"form-label",id:"point"}," Точка продаж ",-1),_hoisted_11=createBaseVNode("div",{class:"alert alert-light",role:"alert"},' Данные брать из справочника FrontPad "Статусы". Указать значение для API ',-1),_hoisted_12={key:0,class:"card mb-2 p-0"},_hoisted_13=createBaseVNode("div",{class:"card-header"},[createBaseVNode("h6",{class:"fw-bold mb-0"},"Статусы")],-1),_hoisted_14={class:"card-body"},_hoisted_15={class:"table"},_hoisted_16=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"Название"),createBaseVNode("th",{scope:"col"},"Ключ"),createBaseVNode("th",{scope:"col"},"Значение")])],-1),_hoisted_17=["onUpdate:modelValue"],_hoisted_18=createBaseVNode("div",{class:"alert alert-light",role:"alert"},' Данные брать из справочника FrontPad "Варианты оплат". Указать значение для API ',-1),_hoisted_19={key:1,class:"card mb-2 p-0"},_hoisted_20=createBaseVNode("div",{class:"card-header"},[createBaseVNode("h6",{class:"fw-bold mb-0"},"Типы оплаты")],-1),_hoisted_21={class:"card-body"},_hoisted_22={class:"table"},_hoisted_23=createBaseVNode("thead",null,[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col"},"Название"),createBaseVNode("th",{scope:"col"},"Ключ"),createBaseVNode("th",{scope:"col"},"Значение")])],-1),_hoisted_24=["onUpdate:modelValue"],_hoisted_25=createBaseVNode("button",{type:"submit",class:"btn btn-primary p-3 w-100"},[createBaseVNode("i",{class:"fa-solid fa-cloud-arrow-down mr-1"}),createTextVNode(" Сохранить настройку ")],-1);function _sfc_render(o,t,s,i,a,n){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1,createBaseVNode("form",{onSubmit:t[4]||(t[4]=withModifiers((...r)=>n.submit&&n.submit(...r),["prevent"]))},[createBaseVNode("div",_hoisted_2$1,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Токен","aria-label":"Токен","onUpdate:modelValue":t[0]||(t[0]=r=>a.frontPadForm.token=r),"aria-describedby":"token"},null,512),[[vModelText,a.frontPadForm.token]]),_hoisted_3$1]),_hoisted_4$1,createBaseVNode("div",_hoisted_5$1,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"channel","aria-label":"channel","onUpdate:modelValue":t[1]||(t[1]=r=>a.frontPadForm.channel=r),"aria-describedby":"channel"},null,512),[[vModelText,a.frontPadForm.channel]]),_hoisted_6$1]),createBaseVNode("div",_hoisted_7$1,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Филиал","aria-label":"Филиал","onUpdate:modelValue":t[2]||(t[2]=r=>a.frontPadForm.affiliate=r),"aria-describedby":"Филиал"},null,512),[[vModelText,a.frontPadForm.affiliate]]),_hoisted_8]),createBaseVNode("div",_hoisted_9,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Точка продаж","aria-label":"Точка продаж","onUpdate:modelValue":t[3]||(t[3]=r=>a.frontPadForm.point=r),"aria-describedby":"Точка продаж"},null,512),[[vModelText,a.frontPadForm.point]]),_hoisted_10]),_hoisted_11,a.frontPadForm.statuses?(openBlock(),createElementBlock("div",_hoisted_12,[_hoisted_13,createBaseVNode("div",_hoisted_14,[createBaseVNode("table",_hoisted_15,[_hoisted_16,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.frontPadForm.statuses,(r,l)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(r.title||"-"),1),createBaseVNode("td",null,toDisplayString(r.key||"-"),1),createBaseVNode("td",null,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Статус","aria-label":"Статус","onUpdate:modelValue":d=>a.frontPadForm.statuses[l].value=d,"aria-describedby":"Статус"},null,8,_hoisted_17),[[vModelText,a.frontPadForm.statuses[l].value]])])]))),256))])])])])):createCommentVNode("",!0),_hoisted_18,a.frontPadForm.pays?(openBlock(),createElementBlock("div",_hoisted_19,[_hoisted_20,createBaseVNode("div",_hoisted_21,[createBaseVNode("table",_hoisted_22,[_hoisted_23,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.frontPadForm.pays,(r,l)=>(openBlock(),createElementBlock("tr",null,[createBaseVNode("td",null,toDisplayString(r.title||"-"),1),createBaseVNode("td",null,toDisplayString(r.key||"-"),1),createBaseVNode("td",null,[withDirectives(createBaseVNode("input",{type:"text",class:"form-control",placeholder:"Статус","aria-label":"Статус","onUpdate:modelValue":d=>a.frontPadForm.pays[l].value=d,"aria-describedby":"Статус"},null,8,_hoisted_24),[[vModelText,a.frontPadForm.pays[l].value]])])]))),256))])])])])):createCommentVNode("",!0),_hoisted_25],32)],64)}const FrontPadForm=_export_sfc(_sfc_main$1,[["render",_sfc_render]]),_hoisted_1={class:"container my-3"},_hoisted_2={class:"row"},_hoisted_3={class:"col-12"},_hoisted_4={key:1,class:"alert alert-light"},_hoisted_5=createBaseVNode("p",{class:"text-center"},"Загружаем данные...",-1),_hoisted_6=createBaseVNode("div",{class:"d-flex justify-content-center w-100"},[createBaseVNode("div",{class:"spinner-border color-orange-dark",role:"status"},[createBaseVNode("span",{class:"sr-only"},"Загрузка...")])],-1),_hoisted_7=[_hoisted_5,_hoisted_6],__default__={data(){return{load:!1,bot:null}},mounted(){this.loadBotAdminConfig()},methods:{loadBotAdminConfig(){this.$store.dispatch("loadBotAdminConfig").then(o=>{this.bot=o.data,this.amo=this.bot.amo})}}},_sfc_main=Object.assign(__default__,{__name:"FrontPad",setup(o){return(t,s)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[!t.load&&t.bot?(openBlock(),createBlock(FrontPadForm,{key:0,bot:t.bot,data:t.bot.frontPad},null,8,["bot","data"])):(openBlock(),createElementBlock("div",_hoisted_4,_hoisted_7))])])]))}}),FrontPad=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main},Symbol.toStringTag,{value:"Module"})),routes=[{path:"/",redirect:"/empty"},{name:"empty",path:"/empty",component:_sfc_main$2C,meta:{title:"Ничего не найдено",hide_menu:!0}},{name:"vip",path:"/vip",component:Vip,meta:{title:"VIP-анкета",hide_menu:!0}},{name:"FriendsGame",path:"/friends-game",component:_sfc_main$2Q,meta:{title:"Приведи друзей",hide_menu:!0}},{name:"PaymentSBP",path:"/payment-sbp-main/:amount",component:PaymentSBP,meta:{title:"Оплата по СБП",hide_menu:!0}},{name:"ClientPromocode",path:"/promocode-main",component:_sfc_main$2R,meta:{title:"Ввод промокода",hide_menu:!0}},{name:"appointments",path:"/appointment-events",component:_sfc_main$2Y,meta:{title:"Запись",hide_menu:!0}},{name:"profileForm",path:"/profile-form",component:ProfileForm,meta:{title:"Анкета",hide_menu:!0}},{name:"quizzes",path:"/quizzes",component:_sfc_main$33,meta:{title:"Квиз",hide_menu:!0}},{name:"quiz",path:"/quiz/:quizId",component:_sfc_main$31,meta:{title:"Квиз",hide_menu:!0}},{name:"schedule",path:"/schedule-main",component:_sfc_main$39,meta:{title:"График работы",hide_menu:!0}},{name:"cashOut",path:"/cash-out",component:CashOut,meta:{title:"Вывод средств",hide_menu:!0}},{name:"admin",path:"/admins",component:_sfc_main$2A,meta:{title:"Активные администраторы",hide_menu:!0}},{name:"home",path:"/home",component:_sfc_main$3m,meta:{title:"Главная страница"}},{name:"booking",path:"/book-a-table",component:_sfc_main$2B,meta:{title:"Бронирование столика",hide_menu:!0}},{name:"products",path:"/products",component:_sfc_main$3k,meta:{title:"Продукты"}},{name:"productsInCategory",path:"/products-in-category/:categoryId",component:_sfc_main$3j,meta:{title:"Продукты в категории"}},{name:"categories",path:"/categories",component:_sfc_main$2x,meta:{title:"Категории товаров"}},{name:"checkout",path:"/checkout",component:CheckOut,meta:{title:"Корзина"}},{name:"OneArmedBanditPage",path:"/one-armed-bandit",component:_sfc_main$2W,meta:{title:"Однорукий бандит",hide_menu:!0}},{name:"wheel",path:"/wheel-of-fortune",component:_sfc_main$2J,meta:{title:"Колесо фортуны",hide_menu:!0}},{name:"wheelCustom",path:"/wheel-of-fortune-custom",component:_sfc_main$2H,meta:{title:"Колесо фортуны 2",hide_menu:!0}},{name:"saveup",path:"/save-up",component:_sfc_main$2E,meta:{title:"Накопительная карта",hide_menu:!0}},{name:"instagram",path:"/instagram-quest",component:_sfc_main$2D,meta:{title:"Инста-квест",hide_menu:!0}},{name:"help",path:"/help",component:Help,meta:{title:"Помощь"}},{name:"contactus",path:"/contact-us",component:ContactUs,meta:{title:"Наши контакты"}},{name:"ourteam",path:"/our-team",component:OurTeam,meta:{title:"Наша команда"}},{name:"terms",path:"/terms",component:Terms,meta:{title:"Условия использования"}},{name:"product",path:"/products/:productId",component:_sfc_main$3i,meta:{title:"Продукт"}},{name:"settings",path:"/settings",component:Settings,meta:{title:"Настройки"}},{name:"basket",path:"/basket",component:_sfc_main$3f,meta:{title:"Корзина"}},{name:"favorites",path:"/favorites",component:_sfc_main$3g,meta:{title:"Избранное"}}],adminRoutes=[{name:"AdminMain",path:"/admin-main",component:_sfc_main$2s,meta:{title:"Админ панель: Главная",hide_menu:!0,need_admin_menu:!0}},{name:"AdminChatLog",path:"/admin-chat-history/:botUserId",component:_sfc_main$2r,meta:{title:"История чата",hide_menu:!0,need_admin_menu:!0}},{name:"AdminPromotion",path:"/admin-promotion",component:_sfc_main$2l,meta:{title:"Админ панель: Реклама",hide_menu:!0,need_admin_menu:!0}},{name:"AdminMessageToUser",path:"/admin-callback",component:_sfc_main$1Q,meta:{title:"Админ панель: Сообщение к пользователю",hide_menu:!0,need_admin_menu:!0}},{name:"AdminShopManager",path:"/admin-shop-manager",component:_sfc_main$2c,meta:{title:"Админ панель: Магазин",hide_menu:!0,need_admin_menu:!0}},{name:"AdminCompanyManager",path:"/admin-company-manager",component:_sfc_main$2a,meta:{title:"Профиль компании",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotManager",path:"/admin-bot-manager",component:AdminBotManager,meta:{title:"Настройки бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotAmo",path:"/admin-bot-amo",component:_sfc_main$1U,meta:{title:"AMO CRM",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotYClients",path:"/admin-bot-y-clients",component:_sfc_main$1S,meta:{title:"YClients",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotPage",path:"/admin-bot-page",component:_sfc_main$24,meta:{title:"Страницы бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotSlug",path:"/admin-bot-slug",component:_sfc_main$1$,meta:{title:"Скрипты бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotDialog",path:"/admin-bot-dialog",component:_sfc_main$1X,meta:{title:"Диалоги бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBotKeyboard",path:"/admin-bot-keyboard",component:_sfc_main$1W,meta:{title:"Клавитуары бота",hide_menu:!0,need_admin_menu:!0}},{name:"AdminStatistic",path:"/admin-statistic",component:_sfc_main$2k,meta:{title:"Админ панель: Статистика",hide_menu:!0,need_admin_menu:!0}},{name:"AdminWorkStatus",path:"/admin-work-status",component:_sfc_main$2j,meta:{title:"Админ панель: Работа",hide_menu:!0,need_admin_menu:!0}},{name:"AdminUsers",path:"/admin-users",component:AdminUsers,meta:{title:"Админ панель: Пользователи",hide_menu:!0,need_admin_menu:!0}},{name:"AdminActions",path:"/admin-actions",component:_sfc_main$2g,meta:{title:"Админ панель: События",hide_menu:!0,need_admin_menu:!0}},{name:"AdminOrders",path:"/admin-orders",component:AdminOrders,meta:{title:"Админ панель: Заказы",hide_menu:!0,need_admin_menu:!0}},{name:"AdminBonusProduct",path:"/admin-bonus-product",component:_sfc_main$1R,meta:{title:"Админ панель: Бонусы",hide_menu:!0,need_admin_menu:!0}}],managerRoutes=[{name:"ManagerMain",path:"/manager-main",component:_sfc_main$1M,meta:{title:"Менеджер: Главная",hide_menu:!0}},{name:"ManagerForm",path:"/manager-form",component:ManagerForm,meta:{title:"Менеджер: Регистрация",hide_menu:!0}},{name:"ManagerClients",path:"/manager-clients",component:_sfc_main$1H,meta:{title:"Менеджер: Клиенты",hide_menu:!0}},{name:"ManagerProfile",path:"/manager-profile",component:ManagerProfile,meta:{title:"Менеджер: Профиль",hide_menu:!0}},{name:"ManagerPartners",path:"/manager-partners",component:_sfc_main$1E,meta:{title:"Менеджер: Партнеры",hide_menu:!0}}],deliveryRoutes=[{name:"DeliveryMain",path:"/delivery-main",component:_sfc_main$2T,meta:{title:"Доставка: Главная",hide_menu:!0,show_cart:!0}},{name:"DeliverymanForm",path:"/deliveryman-form",component:DeliverymanForm,meta:{title:"Регистрация доставщика",hide_menu:!0}},{name:"FoodConstructors",path:"/food-constructor-main",component:_sfc_main$2O,meta:{title:"Конструктор еды: Главная",hide_menu:!0}}],simplePrefix="/s",simpleRoutes=[{name:"CatalogV2",path:simplePrefix+"/catalog",component:_sfc_main$1v,meta:{title:"Каталог"}},{name:"WaiterCatalogV2",path:simplePrefix+"/waiter",component:_sfc_main$1t,meta:{title:"Каталог"}},{name:"ContactsV2",path:simplePrefix+"/contacts",component:_sfc_main$1r,meta:{title:"Контакты"}},{name:"ProductV2",path:simplePrefix+"/product/:productId",component:ProductV2,meta:{title:"Товар"}},{name:"OrdersV2",path:simplePrefix+"/orders",component:_sfc_main$1q,meta:{title:"Заказы"}},{name:"ShopCartV2",path:simplePrefix+"/cart",component:_sfc_main$1l,meta:{title:"Корзина"}},{name:"PaymentV2",path:simplePrefix+"/payment",component:PaymentV2,meta:{title:"Оплата"}},{name:"ProfileV2",path:simplePrefix+"/profile",component:ProfileV2,meta:{title:"Профиль"}},{name:"FeedBackV2",path:simplePrefix+"/feedback",component:FeedBackV2,meta:{title:"Обратная связь",hide_menu:!0}},{name:"MenuV2",path:simplePrefix+"/menu",component:_sfc_main$1d,meta:{title:"Меню системы"}},{name:"OneArmedBanditV2",path:simplePrefix+"/bandit",component:_sfc_main$1c,meta:{title:"Однорукий бандит"}},{name:"CashBackV2",path:simplePrefix+"/cashback",component:_sfc_main$19,meta:{title:"История бонусов"}},{name:"FriendsV2",path:simplePrefix+"/friends",component:_sfc_main$18,meta:{title:"Друзья"}},{name:"WheelOfFortuneV2",path:simplePrefix+"/wheel",component:_sfc_main$17,meta:{title:"Колесо фортуны"}},{name:"MailingV2",path:simplePrefix+"/admin/mailing",component:_sfc_main$12,meta:{title:"Рассылка"}},{name:"ClientsV2",path:simplePrefix+"/admin/clients",component:_sfc_main$P,meta:{title:"Клиенты"}},{name:"ShopV2",path:simplePrefix+"/admin/shop",component:_sfc_main$G,meta:{title:"Магазин"}},{name:"AdminOrdersV2",path:simplePrefix+"/admin/orders",component:_sfc_main$F,meta:{title:"Заказы"}},{name:"StatisticV2",path:simplePrefix+"/admin/statistic",component:_sfc_main$E,meta:{title:"Статистика"}},{name:"AdminMenuV2",path:simplePrefix+"/admin/menu",component:AdminMenuV2,meta:{title:"Меню"}},{name:"PromoCodesV2",path:simplePrefix+"/admin/promocodes",component:_sfc_main$B,meta:{title:"Промокоды"}},{name:"PagePasswordV2",path:simplePrefix+"/enter-page-password",component:PagePasswordV2,meta:{title:"Ввод ключа"}},{name:"InstaQuestV2",path:simplePrefix+"/new-insta-quest",component:InstaQuestV2,meta:{title:"Квест",hide_menu:!0}},{name:"FriendsGameV2",path:simplePrefix+"/new-friends-game",component:FriendsGameV2,meta:{title:"Квест",hide_menu:!0}},{name:"PromoCodeFormV2",path:simplePrefix+"/new-promo-code",component:PromoCodeFormV2,meta:{title:"Промокоды",hide_menu:!0}},{name:"VipProfileV2_1",path:simplePrefix+"/new-vip",component:VipProfileV2_1,meta:{title:"Анкета пользователя",hide_menu:!0}},{name:"VipProfileV2_2",path:simplePrefix+"/new-profile-form",component:VipProfileV2_2,meta:{title:"Анкета пользователя",hide_menu:!0}},{name:"WheelCustomV2",path:simplePrefix+"/wheel-of-fortune-custom",component:_sfc_main$t,meta:{title:"Колесо фортуны",hide_menu:!0}},{name:"BotManagerV2",path:simplePrefix+"/admin/bot",component:BotManagerV2,meta:{title:"Бот"}},{name:"PageManagerV2",path:simplePrefix+"/admin/pages",component:_sfc_main$k,meta:{title:"Страницы"}},{name:"IntegrationsV2",path:simplePrefix+"/admin/integrations",component:IntegrationsV2,meta:{title:"Интеграции"}},{name:"AmoV2",path:simplePrefix+"/admin/amo",component:_sfc_main$h,meta:{title:"AMO"}},{name:"BitrixV2",path:simplePrefix+"/admin/bitrix",component:_sfc_main$2,meta:{title:"Bitrix24"}},{name:"IikoV2",path:simplePrefix+"/admin/iiko",component:_sfc_main$4,meta:{title:"IIKO"}},{name:"FrontPadV2",path:simplePrefix+"/admin/frontpad",component:_sfc_main,meta:{title:"FrontPad"}},{name:"DialogsV2",path:simplePrefix+"/admin/dialogs",component:_sfc_main$d,meta:{title:"Диалоги"}},{name:"SlugsV2",path:simplePrefix+"/admin/scripts",component:_sfc_main$8,meta:{title:"Скрипты"}},{name:"YClientsV2",path:simplePrefix+"/admin/y-clients",component:_sfc_main$7,meta:{title:"YClients"}}],router=createRouter({history:createWebHashHistory(),routes:[...routes,...adminRoutes,...managerRoutes,...deliveryRoutes,...simpleRoutes]});var vueSocialSharingExports={},vueSocialSharing={get exports(){return vueSocialSharingExports},set exports(o){vueSocialSharingExports=o}};(function(o,t){(function(s,i){o.exports=i()})(typeof self<"u"?self:commonjsGlobal,function(){return function(s){var i={};function a(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return s[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=s,a.c=i,a.d=function(n,r,l){a.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:l})},a.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,r){if(1&r&&(n=a(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var d in n)a.d(l,d,function(c){return n[c]}.bind(null,d));return l},a.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(r,"a",r),r},a.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},a.p="",a(a.s=1)}([function(s,i,a){(function(n){function r(se,ro){const no=Object.create(null),Co=se.split(",");for(let xo=0;xo<Co.length;xo++)no[Co[xo]]=!0;return ro?xo=>!!no[xo.toLowerCase()]:xo=>!!no[xo]}a.d(i,"a",function(){return D}),a.d(i,"b",function(){return M}),a.d(i,"c",function(){return le}),a.d(i,"d",function(){return G}),a.d(i,"e",function(){return yo}),a.d(i,"f",function(){return Bo}),a.d(i,"g",function(){return cs}),a.d(i,"h",function(){return ho}),a.d(i,"i",function(){return $s}),a.d(i,"j",function(){return Ao}),a.d(i,"k",function(){return A}),a.d(i,"l",function(){return uo}),a.d(i,"m",function(){return ns}),a.d(i,"n",function(){return de}),a.d(i,"o",function(){return Vo}),a.d(i,"p",function(){return l}),a.d(i,"q",function(){return b}),a.d(i,"r",function(){return Ht}),a.d(i,"s",function(){return _o}),a.d(i,"t",function(){return co}),a.d(i,"u",function(){return wo}),a.d(i,"v",function(){return lo}),a.d(i,"w",function(){return Do}),a.d(i,"x",function(){return fe}),a.d(i,"y",function(){return v}),a.d(i,"z",function(){return bo}),a.d(i,"A",function(){return c}),a.d(i,"B",function(){return mo}),a.d(i,"C",function(){return Po}),a.d(i,"D",function(){return N}),a.d(i,"E",function(){return T}),a.d(i,"F",function(){return r}),a.d(i,"G",function(){return k}),a.d(i,"H",function(){return _}),a.d(i,"I",function(){return Bt}),a.d(i,"J",function(){return Io}),a.d(i,"K",function(){return bs}),a.d(i,"L",function(){return z});const l=r("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c=r(d);function _(se){if(de(se)){const ro={};for(let no=0;no<se.length;no++){const Co=se[no],xo=_(mo(Co)?f(Co):Co);if(xo)for(const Uo in xo)ro[Uo]=xo[Uo]}return ro}if(wo(se))return se}const m=/;(?![^(]*\))/g,p=/:(.+)/;function f(se){const ro={};return se.split(m).forEach(no=>{if(no){const Co=no.split(p);Co.length>1&&(ro[Co[0].trim()]=Co[1].trim())}}),ro}function k(se){let ro="";if(mo(se))ro=se;else if(de(se))for(let no=0;no<se.length;no++){const Co=k(se[no]);Co&&(ro+=Co+" ")}else if(wo(se))for(const no in se)se[no]&&(ro+=no+" ");return ro.trim()}const b=r("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),v=r("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view");function N(se,ro){if(se===ro)return!0;let no=vo(se),Co=vo(ro);if(no||Co)return!(!no||!Co)&&se.getTime()===ro.getTime();if(no=de(se),Co=de(ro),no||Co)return!(!no||!Co)&&function(xo,Uo){if(xo.length!==Uo.length)return!1;let Lo=!0;for(let Yo=0;Lo&&Yo<xo.length;Yo++)Lo=N(xo[Yo],Uo[Yo]);return Lo}(se,ro);if(no=wo(se),Co=wo(ro),no||Co){if(!no||!Co||Object.keys(se).length!==Object.keys(ro).length)return!1;for(const xo in se){const Uo=se.hasOwnProperty(xo),Lo=ro.hasOwnProperty(xo);if(Uo&&!Lo||!Uo&&Lo||!N(se[xo],ro[xo]))return!1}}return String(se)===String(ro)}function T(se,ro){return se.findIndex(no=>N(no,ro))}const M={},D=[],G=()=>{},le=()=>!1,ao=/^on[^a-z]/,lo=se=>ao.test(se),co=se=>se.startsWith("onUpdate:"),ho=Object.assign,Bt=(se,ro)=>{const no=se.indexOf(ro);no>-1&&se.splice(no,1)},ce=Object.prototype.hasOwnProperty,A=(se,ro)=>ce.call(se,ro),de=Array.isArray,_o=se=>So(se)==="[object Map]",bo=se=>So(se)==="[object Set]",vo=se=>se instanceof Date,Vo=se=>typeof se=="function",mo=se=>typeof se=="string",Po=se=>typeof se=="symbol",wo=se=>se!==null&&typeof se=="object",Do=se=>wo(se)&&Vo(se.then)&&Vo(se.catch),Mo=Object.prototype.toString,So=se=>Mo.call(se),z=se=>So(se).slice(8,-1),Ht=se=>mo(se)&&se!=="NaN"&&se[0]!=="-"&&""+parseInt(se,10)===se,fe=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),eo=se=>{const ro=Object.create(null);return no=>ro[no]||(ro[no]=se(no))},po=/-(\w)/g,yo=eo(se=>se.replace(po,(ro,no)=>no?no.toUpperCase():"")),io=/\B([A-Z])/g,uo=eo(se=>se.replace(io,"-$1").toLowerCase()),Bo=eo(se=>se.charAt(0).toUpperCase()+se.slice(1)),Io=eo(se=>se?"on"+Bo(se):""),Ao=(se,ro)=>se!==ro&&(se==se||ro==ro),ns=(se,ro)=>{for(let no=0;no<se.length;no++)se[no](ro)},cs=(se,ro,no)=>{Object.defineProperty(se,ro,{configurable:!0,enumerable:!1,value:no})},bs=se=>{const ro=parseFloat(se);return isNaN(ro)?se:ro};let rs;const $s=()=>rs||(rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{})}).call(this,a(2))},function(s,i,a){s.exports=a(3)},function(s,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}s.exports=a},function(s,i,a){a.r(i),a.d(i,"ShareNetwork",function(){return Ys});var n=a(0);const r=new WeakMap,l=[];let d;const c=Symbol(""),_=Symbol("");function m(u,g=n.b){(function(F){return F&&F._isEffect===!0})(u)&&(u=u.raw);const w=function(F,O){const H=function(){if(!H.active)return O.scheduler?void 0:F();if(!l.includes(H)){k(H);try{return v.push(b),b=!0,l.push(H),d=H,F()}finally{l.pop(),T(),d=l[l.length-1]}}};return H.id=f++,H.allowRecurse=!!O.allowRecurse,H._isEffect=!0,H.active=!0,H.raw=F,H.deps=[],H.options=O,H}(u,g);return g.lazy||w(),w}function p(u){u.active&&(k(u),u.options.onStop&&u.options.onStop(),u.active=!1)}let f=0;function k(u){const{deps:g}=u;if(g.length){for(let w=0;w<g.length;w++)g[w].delete(u);g.length=0}}let b=!0;const v=[];function N(){v.push(b),b=!1}function T(){const u=v.pop();b=u===void 0||u}function M(u,g,w){if(!b||d===void 0)return;let F=r.get(u);F||r.set(u,F=new Map);let O=F.get(w);O||F.set(w,O=new Set),O.has(d)||(O.add(d),d.deps.push(O))}function D(u,g,w,F,O,H){const J=r.get(u);if(!J)return;const ue=new Set,oo=X=>{X&&X.forEach(ct=>{(ct!==d||ct.allowRecurse)&&ue.add(ct)})};if(g==="clear")J.forEach(oo);else if(w==="length"&&Object(n.n)(u))J.forEach((X,ct)=>{(ct==="length"||ct>=F)&&oo(X)});else switch(w!==void 0&&oo(J.get(w)),g){case"add":Object(n.n)(u)?Object(n.r)(w)&&oo(J.get("length")):(oo(J.get(c)),Object(n.s)(u)&&oo(J.get(_)));break;case"delete":Object(n.n)(u)||(oo(J.get(c)),Object(n.s)(u)&&oo(J.get(_)));break;case"set":Object(n.s)(u)&&oo(J.get(c))}ue.forEach(X=>{X.options.scheduler?X.options.scheduler(X):X()})}const G=Object(n.F)("__proto__,__v_isRef,__isVue"),le=new Set(Object.getOwnPropertyNames(Symbol).map(u=>Symbol[u]).filter(n.C)),ao=ce(),lo=ce(!1,!0),co=ce(!0),ho=ce(!0,!0),Bt={};function ce(u=!1,g=!1){return function(w,F,O){if(F==="__v_isReactive")return!u;if(F==="__v_isReadonly")return u;if(F==="__v_raw"&&O===(u?g?ro:se:g?$s:rs).get(w))return w;const H=Object(n.n)(w);if(!u&&H&&Object(n.k)(Bt,F))return Reflect.get(Bt,F,O);const J=Reflect.get(w,F,O);return(Object(n.C)(F)?le.has(F):G(F))||(u||M(w,0,F),g)?J:Xo(J)?!H||!Object(n.r)(F)?J.value:J:Object(n.u)(J)?u?Co(J):no(J):J}}["includes","indexOf","lastIndexOf"].forEach(u=>{const g=Array.prototype[u];Bt[u]=function(...w){const F=To(this);for(let H=0,J=this.length;H<J;H++)M(F,0,H+"");const O=g.apply(F,w);return O===-1||O===!1?g.apply(F,w.map(To)):O}}),["push","pop","shift","unshift","splice"].forEach(u=>{const g=Array.prototype[u];Bt[u]=function(...w){N();const F=g.apply(this,w);return T(),F}});const A=_o(),de=_o(!0);function _o(u=!1){return function(g,w,F,O){let H=g[w];if(!u&&(F=To(F),H=To(H),!Object(n.n)(g)&&Xo(H)&&!Xo(F)))return H.value=F,!0;const J=Object(n.n)(g)&&Object(n.r)(w)?Number(w)<g.length:Object(n.k)(g,w),ue=Reflect.set(g,w,F,O);return g===To(O)&&(J?Object(n.j)(F,H)&&D(g,"set",w,F):D(g,"add",w,F)),ue}}const bo={get:ao,set:A,deleteProperty:function(u,g){const w=Object(n.k)(u,g),F=(u[g],Reflect.deleteProperty(u,g));return F&&w&&D(u,"delete",g,void 0),F},has:function(u,g){const w=Reflect.has(u,g);return Object(n.C)(g)&&le.has(g)||M(u,0,g),w},ownKeys:function(u){return M(u,0,Object(n.n)(u)?"length":c),Reflect.ownKeys(u)}},vo={get:co,set:(u,g)=>!0,deleteProperty:(u,g)=>!0},Vo=(Object(n.h)({},bo,{get:lo,set:de}),Object(n.h)({},vo,{get:ho}),u=>Object(n.u)(u)?no(u):u),mo=u=>Object(n.u)(u)?Co(u):u,Po=u=>u,wo=u=>Reflect.getPrototypeOf(u);function Do(u,g,w=!1,F=!1){const O=To(u=u.__v_raw),H=To(g);g!==H&&!w&&M(O,0,g),!w&&M(O,0,H);const{has:J}=wo(O),ue=F?Po:w?mo:Vo;return J.call(O,g)?ue(u.get(g)):J.call(O,H)?ue(u.get(H)):void 0}function Mo(u,g=!1){const w=this.__v_raw,F=To(w),O=To(u);return u!==O&&!g&&M(F,0,u),!g&&M(F,0,O),u===O?w.has(u):w.has(u)||w.has(O)}function So(u,g=!1){return u=u.__v_raw,!g&&M(To(u),0,c),Reflect.get(u,"size",u)}function z(u){u=To(u);const g=To(this);return wo(g).has.call(g,u)||(g.add(u),D(g,"add",u,u)),this}function Ht(u,g){g=To(g);const w=To(this),{has:F,get:O}=wo(w);let H=F.call(w,u);H||(u=To(u),H=F.call(w,u));const J=O.call(w,u);return w.set(u,g),H?Object(n.j)(g,J)&&D(w,"set",u,g):D(w,"add",u,g),this}function fe(u){const g=To(this),{has:w,get:F}=wo(g);let O=w.call(g,u);O||(u=To(u),O=w.call(g,u)),F&&F.call(g,u);const H=g.delete(u);return O&&D(g,"delete",u,void 0),H}function eo(){const u=To(this),g=u.size!==0,w=u.clear();return g&&D(u,"clear",void 0,void 0),w}function po(u,g){return function(w,F){const O=this,H=O.__v_raw,J=To(H),ue=g?Po:u?mo:Vo;return!u&&M(J,0,c),H.forEach((oo,X)=>w.call(F,ue(oo),ue(X),O))}}function yo(u,g,w){return function(...F){const O=this.__v_raw,H=To(O),J=Object(n.s)(H),ue=u==="entries"||u===Symbol.iterator&&J,oo=u==="keys"&&J,X=O[u](...F),ct=w?Po:g?mo:Vo;return!g&&M(H,0,oo?_:c),{next(){const{value:Xt,done:so}=X.next();return so?{value:Xt,done:so}:{value:ue?[ct(Xt[0]),ct(Xt[1])]:ct(Xt),done:so}},[Symbol.iterator](){return this}}}}function io(u){return function(...g){return u!=="delete"&&this}}const uo={get(u){return Do(this,u)},get size(){return So(this)},has:Mo,add:z,set:Ht,delete:fe,clear:eo,forEach:po(!1,!1)},Bo={get(u){return Do(this,u,!1,!0)},get size(){return So(this)},has:Mo,add:z,set:Ht,delete:fe,clear:eo,forEach:po(!1,!0)},Io={get(u){return Do(this,u,!0)},get size(){return So(this,!0)},has(u){return Mo.call(this,u,!0)},add:io("add"),set:io("set"),delete:io("delete"),clear:io("clear"),forEach:po(!0,!1)},Ao={get(u){return Do(this,u,!0,!0)},get size(){return So(this,!0)},has(u){return Mo.call(this,u,!0)},add:io("add"),set:io("set"),delete:io("delete"),clear:io("clear"),forEach:po(!0,!0)};function ns(u,g){const w=g?u?Ao:Bo:u?Io:uo;return(F,O,H)=>O==="__v_isReactive"?!u:O==="__v_isReadonly"?u:O==="__v_raw"?F:Reflect.get(Object(n.k)(w,O)&&O in F?w:F,O,H)}["keys","values","entries",Symbol.iterator].forEach(u=>{uo[u]=yo(u,!1,!1),Io[u]=yo(u,!0,!1),Bo[u]=yo(u,!1,!0),Ao[u]=yo(u,!0,!0)});const cs={get:ns(!1,!1)},bs={get:ns(!0,!1)},rs=new WeakMap,$s=new WeakMap,se=new WeakMap,ro=new WeakMap;function no(u){return u&&u.__v_isReadonly?u:xo(u,!1,bo,cs,rs)}function Co(u){return xo(u,!0,vo,bs,se)}function xo(u,g,w,F,O){if(!Object(n.u)(u)||u.__v_raw&&(!g||!u.__v_isReactive))return u;const H=O.get(u);if(H)return H;const J=(ue=u).__v_skip||!Object.isExtensible(ue)?0:function(X){switch(X){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(Object(n.L)(ue));var ue;if(J===0)return u;const oo=new Proxy(u,J===2?F:w);return O.set(u,oo),oo}function Uo(u){return Lo(u)?Uo(u.__v_raw):!(!u||!u.__v_isReactive)}function Lo(u){return!(!u||!u.__v_isReadonly)}function Yo(u){return Uo(u)||Lo(u)}function To(u){return u&&To(u.__v_raw)||u}function Xo(u){return!!(u&&u.__v_isRef===!0)}function Zo(u,g,w,F){let O;try{O=F?u(...F):u()}catch(H){vs(H,g,w)}return O}function ts(u,g,w,F){if(Object(n.o)(u)){const H=Zo(u,g,w,F);return H&&Object(n.w)(H)&&H.catch(J=>{vs(J,g,w)}),H}const O=[];for(let H=0;H<u.length;H++)O.push(ts(u[H],g,w,F));return O}function vs(u,g,w,F=!0){if(g&&g.vnode,g){let O=g.parent;const H=g.proxy,J=w;for(;O;){const oo=O.ec;if(oo){for(let X=0;X<oo.length;X++)if(oo[X](u,H,J)===!1)return}O=O.parent}const ue=g.appContext.config.errorHandler;if(ue)return void Zo(ue,null,10,[u,H,J])}(function(O,H,J,ue=!0){console.error(O)})(u,0,0,F)}let hs=!1,ys=!1;const zo=[];let Qo=0;const _s=[];let ls=null,os=0;const Ro=[];let Wo=null,es=0;const xs=Promise.resolve();let ks=null,Bs=null;function qo(u){const g=ks||xs;return u?g.then(this?u.bind(this):u):g}function Is(u){if(!(zo.length&&zo.includes(u,hs&&u.allowRecurse?Qo+1:Qo)||u===Bs)){const g=function(w){let F=Qo+1,O=zo.length;const H=he(w);for(;F<O;){const J=F+O>>>1;he(zo[J])<H?F=J+1:O=J}return F}(u);g>-1?zo.splice(g,0,u):zo.push(u),Vs()}}function Vs(){hs||ys||(ys=!0,ks=xs.then(zt))}function Es(u,g,w,F){Object(n.n)(u)?w.push(...u):g&&g.includes(u,u.allowRecurse?F+1:F)||w.push(u),Vs()}function V(u){Es(u,Wo,Ro,es)}function Q(u,g=null){if(_s.length){for(Bs=g,ls=[...new Set(_s)],_s.length=0,os=0;os<ls.length;os++)ls[os]();ls=null,os=0,Bs=null,Q(u,g)}}function to(u){if(Ro.length){const g=[...new Set(Ro)];if(Ro.length=0,Wo)return void Wo.push(...g);for(Wo=g,Wo.sort((w,F)=>he(w)-he(F)),es=0;es<Wo.length;es++)Wo[es]();Wo=null,es=0}}const he=u=>u.id==null?1/0:u.id;function zt(u){ys=!1,hs=!0,Q(u),zo.sort((g,w)=>he(g)-he(w));try{for(Qo=0;Qo<zo.length;Qo++){const g=zo[Qo];g&&Zo(g,null,14)}}finally{Qo=0,zo.length=0,to(),hs=!1,ks=null,(zo.length||Ro.length)&&zt(u)}}let $o=0;const ko=u=>$o+=u;let fo=null,Eo=null;function ss(u){let g;for(let w=0;w<u.length;w++){const F=u[w];if(!Ts(F))return;if(F.type!==ms||F.children==="v-if"){if(g)return;g=F}}return g}function Ns(u){return Object(n.o)(u)&&(u=u()),Object(n.n)(u)&&(u=ss(u)),ol(u)}function Us(u,g){g&&g.pendingBranch?Object(n.n)(u)?g.effects.push(...u):g.effects.push(u):V(u)}function Ls(u,g,w=ps,F=!1){if(w){const O=w[u]||(w[u]=[]),H=g.__weh||(g.__weh=(...J)=>{if(w.isUnmounted)return;N(),il(w);const ue=ts(g,w,u,J);return il(null),T(),ue});return F?O.unshift(H):O.push(H),H}}const Ps=u=>(g,w=ps)=>Ls(u,g,w),gl=Ps("m"),bl=Ps("bum"),Zs={};function $l(u,g,{immediate:w,deep:F,flush:O,onTrack:H,onTrigger:J}=n.b,ue=ps){let oo,X,ct=!1;if(Xo(u)?(oo=()=>u.value,ct=!!u._shallow):Uo(u)?(oo=()=>u,F=!0):oo=Object(n.n)(u)?()=>u.map(No=>Xo(No)?No.value:Uo(No)?us(No):Object(n.o)(No)?Zo(No,ue,2,[ue&&ue.proxy]):void 0):Object(n.o)(u)?g?()=>Zo(u,ue,2,[ue&&ue.proxy]):()=>{if(!ue||!ue.isUnmounted)return X&&X(),ts(u,ue,3,[Xt])}:n.d,g&&F){const No=oo;oo=()=>us(No())}let Xt=No=>{X=Fo.options.onStop=()=>{Zo(No,ue,4)}},so=Object(n.n)(u)?[]:Zs;const go=()=>{if(Fo.active)if(g){const No=Fo();(F||ct||Object(n.j)(No,so))&&(X&&X(),ts(g,ue,3,[No,so===Zs?void 0:so,Xt]),so=No)}else Fo()};let jo;go.allowRecurse=!!g,jo=O==="sync"?go:O==="post"?()=>Za(go,ue&&ue.suspense):()=>{!ue||ue.isMounted?function(No){Es(No,ls,_s,os)}(go):go()};const Fo=m(oo,{lazy:!0,onTrack:H,onTrigger:J,scheduler:jo});return Sl(Fo,ue),g?w?go():so=Fo():O==="post"?Za(Fo,ue&&ue.suspense):Fo(),()=>{p(Fo),ue&&Object(n.I)(ue.effects,Fo)}}function vl(u,g,w){const F=this.proxy;return $l(Object(n.B)(u)?()=>F[u]:u.bind(F),g.bind(F),w,this)}function us(u,g=new Set){if(!Object(n.u)(u)||g.has(u))return u;if(g.add(u),Xo(u))us(u.value,g);else if(Object(n.n)(u))for(let w=0;w<u.length;w++)us(u[w],g);else if(Object(n.z)(u)||Object(n.s)(u))u.forEach(w=>{us(w,g)});else for(const w in u)us(u[w],g);return u}function yl(){const u={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gl(()=>{u.isMounted=!0}),bl(()=>{u.isUnmounting=!0}),u}const Ko=[Function,Array],kl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ko,onEnter:Ko,onAfterEnter:Ko,onEnterCancelled:Ko,onBeforeLeave:Ko,onLeave:Ko,onAfterLeave:Ko,onLeaveCancelled:Ko,onBeforeAppear:Ko,onAppear:Ko,onAfterAppear:Ko,onAppearCancelled:Ko},setup(u,{slots:g}){const w=Cl(),F=yl();let O;return()=>{const H=g.default&&Qa(g.default(),!0);if(!H||!H.length)return;const J=To(u),{mode:ue}=J,oo=H[0];if(F.isLeaving)return Rs(oo);const X=Ga(oo);if(!X)return Rs(oo);const ct=zs(X,J,F,w);qs(X,ct);const Xt=w.subTree,so=Xt&&Ga(Xt);let go=!1;const{getTransitionKey:jo}=X.type;if(jo){const Fo=jo();O===void 0?O=Fo:Fo!==O&&(O=Fo,go=!0)}if(so&&so.type!==ms&&(!gn(X,so)||go)){const Fo=zs(so,J,F,w);if(qs(so,Fo),ue==="out-in")return F.isLeaving=!0,Fo.afterLeave=()=>{F.isLeaving=!1,w.update()},Rs(oo);ue==="in-out"&&X.type!==ms&&(Fo.delayLeave=(No,Cs,fs)=>{ja(F,so)[String(so.key)]=so,No._leaveCb=()=>{Cs(),No._leaveCb=void 0,delete ct.delayedLeave},ct.delayedLeave=fs})}return oo}}};function ja(u,g){const{leavingVNodes:w}=u;let F=w.get(g.type);return F||(F=Object.create(null),w.set(g.type,F)),F}function zs(u,g,w,F){const{appear:O,mode:H,persisted:J=!1,onBeforeEnter:ue,onEnter:oo,onAfterEnter:X,onEnterCancelled:ct,onBeforeLeave:Xt,onLeave:so,onAfterLeave:go,onLeaveCancelled:jo,onBeforeAppear:Fo,onAppear:No,onAfterAppear:Cs,onAppearCancelled:fs}=g,Al=String(u.key),Ms=ja(w,u),As=(Oo,Ho)=>{Oo&&ts(Oo,F,9,Ho)},Xs={mode:H,persisted:J,beforeEnter(Oo){let Ho=ue;if(!w.isMounted){if(!O)return;Ho=Fo||ue}Oo._leaveCb&&Oo._leaveCb(!0);const Jo=Ms[Al];Jo&&gn(u,Jo)&&Jo.el._leaveCb&&Jo.el._leaveCb(),As(Ho,[Oo])},enter(Oo){let Ho=oo,Jo=X,Fs=ct;if(!w.isMounted){if(!O)return;Ho=No||oo,Jo=Cs||X,Fs=fs||ct}let gs=!1;const Ss=Oo._enterCb=Il=>{gs||(gs=!0,As(Il?Fs:Jo,[Oo]),Xs.delayedLeave&&Xs.delayedLeave(),Oo._enterCb=void 0)};Ho?(Ho(Oo,Ss),Ho.length<=1&&Ss()):Ss()},leave(Oo,Ho){const Jo=String(u.key);if(Oo._enterCb&&Oo._enterCb(!0),w.isUnmounting)return Ho();As(Xt,[Oo]);let Fs=!1;const gs=Oo._leaveCb=Ss=>{Fs||(Fs=!0,Ho(),As(Ss?jo:go,[Oo]),Oo._leaveCb=void 0,Ms[Jo]===u&&delete Ms[Jo])};Ms[Jo]=u,so?(so(Oo,gs),so.length<=1&&gs()):gs()},clone:Oo=>zs(Oo,g,w,F)};return Xs}function Rs(u){if(Ja(u))return(u=ws(u)).children=null,u}function Ga(u){return Ja(u)?u.children?u.children[0]:void 0:u}function qs(u,g){6&u.shapeFlag&&u.component?qs(u.component.subTree,g):128&u.shapeFlag?(u.ssContent.transition=g.clone(u.ssContent),u.ssFallback.transition=g.clone(u.ssFallback)):u.transition=g}function Qa(u,g=!1){let w=[],F=0;for(let O=0;O<u.length;O++){const H=u[O];H.type===Ks?(128&H.patchFlag&&F++,w=w.concat(Qa(H.children,g))):(g||H.type!==ms)&&w.push(H)}if(F>1)for(let O=0;O<w.length;O++)w[O].patchFlag=-2;return w}const Ja=u=>u.type.__isKeepAlive;function Bl(){return{app:null,config:{isNativeTag:n.c,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:n.c,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}const Za=Us,Vl=Symbol(),Ks=Symbol(void 0),dn=Symbol(void 0),ms=Symbol(void 0);let pn=null;function Ts(u){return!!u&&u.__v_isVNode===!0}function gn(u,g){return u.type===g.type&&u.key===g.key}const el="__vInternal",tl=({key:u})=>u??null,Ds=({ref:u})=>u!=null?Object(n.B)(u)||Xo(u)||Object(n.o)(u)?{i:fo,r:u}:u:null,as=Nl;function Nl(u,g=null,w=null,F=0,O=null,H=!1){if(u&&u!==Vl||(u=ms),Ts(u)){const oo=ws(u,g,!0);return w&&Gs(oo,w),oo}if(xl(u)&&(u=u.__vccOpts),g){(Yo(g)||el in g)&&(g=Object(n.h)({},g));let{class:oo,style:X}=g;oo&&!Object(n.B)(oo)&&(g.class=Object(n.G)(oo)),Object(n.u)(X)&&(Yo(X)&&!Object(n.n)(X)&&(X=Object(n.h)({},X)),g.style=Object(n.H)(X))}const J=Object(n.B)(u)?1:(oo=>oo.__isSuspense)(u)?128:(oo=>oo.__isTeleport)(u)?64:Object(n.u)(u)?4:Object(n.o)(u)?2:0,ue={__v_isVNode:!0,__v_skip:!0,type:u,props:g,key:g&&tl(g),ref:g&&Ds(g),scopeId:Eo,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:J,patchFlag:F,dynamicProps:O,dynamicChildren:null,appContext:null};if(Gs(ue,w),128&J){const{content:oo,fallback:X}=function(ct){const{shapeFlag:Xt,children:so}=ct;let go,jo;return 32&Xt?(go=Ns(so.default),jo=Ns(so.fallback)):(go=Ns(so),jo=ol(null)),{content:go,fallback:jo}}(ue);ue.ssContent=oo,ue.ssFallback=X}return!H&&pn&&(F>0||6&J)&&F!==32&&pn.push(ue),ue}function ws(u,g,w=!1){const{props:F,ref:O,patchFlag:H,children:J}=u,ue=g?function(...oo){const X=Object(n.h)({},oo[0]);for(let ct=1;ct<oo.length;ct++){const Xt=oo[ct];for(const so in Xt)if(so==="class")X.class!==Xt.class&&(X.class=Object(n.G)([X.class,Xt.class]));else if(so==="style")X.style=Object(n.H)([X.style,Xt.style]);else if(Object(n.v)(so)){const go=X[so],jo=Xt[so];go!==jo&&(X[so]=go?[].concat(go,Xt[so]):jo)}else so!==""&&(X[so]=Xt[so])}return X}(F||{},g):F;return{__v_isVNode:!0,__v_skip:!0,type:u.type,props:ue,key:ue&&tl(ue),ref:g&&g.ref?w&&O?Object(n.n)(O)?O.concat(Ds(g)):[O,Ds(g)]:Ds(g):O,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:J,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:g&&u.type!==Ks?H===-1?16:16|H:H,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:u.transition,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&ws(u.ssContent),ssFallback:u.ssFallback&&ws(u.ssFallback),el:u.el,anchor:u.anchor}}function wl(u=" ",g=0){return as(dn,null,u,g)}function ol(u){return u==null||typeof u=="boolean"?as(ms):Object(n.n)(u)?as(Ks,null,u):typeof u=="object"?u.el===null?u:ws(u):as(dn,null,String(u))}function Gs(u,g){let w=0;const{shapeFlag:F}=u;if(g==null)g=null;else if(Object(n.n)(g))w=16;else if(typeof g=="object"){if(1&F||64&F){const O=g.default;return void(O&&(O._c&&ko(1),Gs(u,O()),O._c&&ko(-1)))}{w=32;const O=g._;O||el in g?O===3&&fo&&(1024&fo.vnode.patchFlag?(g._=2,u.patchFlag|=1024):g._=1):g._ctx=fo}}else Object(n.o)(g)?(g={default:g,_ctx:fo},w=32):(g=String(g),64&F?(w=16,g=[wl(g)]):w=8);u.children=g,u.shapeFlag|=w}function js(u,g,w){const F=w.appContext.config.optionMergeStrategies,{mixins:O,extends:H}=g;H&&js(u,H,w),O&&O.forEach(J=>js(u,J,w));for(const J in g)F&&Object(n.k)(F,J)?u[J]=F[J](u[J],g[J],w.proxy,J):u[J]=g[J]}const Hs=u=>u?Fl(u)?u.exposed?u.exposed:u.proxy:Hs(u.parent):null,sl=Object(n.h)(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>Hs(u.parent),$root:u=>Hs(u.root),$emit:u=>u.emit,$options:u=>function(g){const w=g.type,{__merged:F,mixins:O,extends:H}=w;if(F)return F;const J=g.appContext.mixins;if(!J.length&&!O&&!H)return w;const ue={};return J.forEach(oo=>js(ue,oo,g)),js(ue,w,g),w.__merged=ue}(u),$forceUpdate:u=>()=>Is(u.update),$nextTick:u=>qo.bind(u.proxy),$watch:u=>vl.bind(u)}),al={get({_:u},g){const{ctx:w,setupState:F,data:O,props:H,accessCache:J,type:ue,appContext:oo}=u;if(g==="__v_skip")return!0;let X;if(g[0]!=="$"){const go=J[g];if(go!==void 0)switch(go){case 0:return F[g];case 1:return O[g];case 3:return w[g];case 2:return H[g]}else{if(F!==n.b&&Object(n.k)(F,g))return J[g]=0,F[g];if(O!==n.b&&Object(n.k)(O,g))return J[g]=1,O[g];if((X=u.propsOptions[0])&&Object(n.k)(X,g))return J[g]=2,H[g];if(w!==n.b&&Object(n.k)(w,g))return J[g]=3,w[g];J[g]=4}}const ct=sl[g];let Xt,so;return ct?(g==="$attrs"&&M(u,0,g),ct(u)):(Xt=ue.__cssModules)&&(Xt=Xt[g])?Xt:w!==n.b&&Object(n.k)(w,g)?(J[g]=3,w[g]):(so=oo.config.globalProperties,Object(n.k)(so,g)?so[g]:void 0)},set({_:u},g,w){const{data:F,setupState:O,ctx:H}=u;if(O!==n.b&&Object(n.k)(O,g))O[g]=w;else if(F!==n.b&&Object(n.k)(F,g))F[g]=w;else if(Object(n.k)(u.props,g))return!1;return(g[0]!=="$"||!(g.slice(1)in u))&&(H[g]=w,!0)},has({_:{data:u,setupState:g,accessCache:w,ctx:F,appContext:O,propsOptions:H}},J){let ue;return w[J]!==void 0||u!==n.b&&Object(n.k)(u,J)||g!==n.b&&Object(n.k)(g,J)||(ue=H[0])&&Object(n.k)(ue,J)||Object(n.k)(F,J)||Object(n.k)(sl,J)||Object(n.k)(O.config.globalProperties,J)}};Object(n.h)({},al,{get(u,g){if(g!==Symbol.unscopables)return al.get(u,g,u)},has:(u,g)=>g[0]!=="_"&&!Object(n.p)(g)}),Bl();let ps=null;const Cl=()=>ps||fo,il=u=>{ps=u};function Fl(u){return 4&u.vnode.shapeFlag}function Sl(u,g=ps){g&&(g.effects||(g.effects=[])).push(u)}function xl(u){return Object(n.o)(u)&&"__vccOpts"in u}function El(u,g,w){const F=arguments.length;return F===2?Object(n.u)(g)&&!Object(n.n)(g)?Ts(g)?as(u,null,[g]):as(u,g):as(u,null,g):(F>3?w=Array.prototype.slice.call(arguments,2):F===3&&Ts(w)&&(w=[w]),as(u,g,w))}const nl="http://www.w3.org/2000/svg",ds=typeof document<"u"?document:null;let rl,ll;const dl={insert:(u,g,w)=>{g.insertBefore(u,w||null)},remove:u=>{const g=u.parentNode;g&&g.removeChild(u)},createElement:(u,g,w,F)=>{const O=g?ds.createElementNS(nl,u):ds.createElement(u,w?{is:w}:void 0);return u==="select"&&F&&F.multiple!=null&&O.setAttribute("multiple",F.multiple),O},createText:u=>ds.createTextNode(u),createComment:u=>ds.createComment(u),setText:(u,g)=>{u.nodeValue=g},setElementText:(u,g)=>{u.textContent=g},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>ds.querySelector(u),setScopeId(u,g){u.setAttribute(g,"")},cloneNode(u){const g=u.cloneNode(!0);return"_value"in u&&(g._value=u._value),g},insertStaticContent(u,g,w,F){const O=F?ll||(ll=ds.createElementNS(nl,"svg")):rl||(rl=ds.createElement("div"));O.innerHTML=u;const H=O.firstChild;let J=H,ue=J;for(;J;)ue=J,dl.insert(J,g,w),J=O.firstChild;return[H,ue]}},cl=/\s*!important$/;function Qs(u,g,w){if(Object(n.n)(w))w.forEach(F=>Qs(u,g,F));else if(g.startsWith("--"))u.setProperty(g,w);else{const F=function(O,H){const J=Ws[H];if(J)return J;let ue=Object(n.e)(H);if(ue!=="filter"&&ue in O)return Ws[H]=ue;ue=Object(n.f)(ue);for(let oo=0;oo<hl.length;oo++){const X=hl[oo]+ue;if(X in O)return Ws[H]=X}return H}(u,g);cl.test(w)?u.setProperty(Object(n.l)(F),w.replace(cl,""),"important"):u[F]=w}}const hl=["Webkit","Moz","ms"],Ws={},_l="http://www.w3.org/1999/xlink";let Os=Date.now,ul=!1;if(typeof window<"u"){Os()>document.createEvent("Event").timeStamp&&(Os=()=>performance.now());const u=navigator.userAgent.match(/firefox\/(\d+)/i);ul=!!(u&&Number(u[1])<=53)}let Js=0;const Pl=Promise.resolve(),Tl=()=>{Js=0};function Dl(u,g,w,F){u.addEventListener(g,w,F)}function jl(u,g,w,F,O=null){const H=u._vei||(u._vei={}),J=H[g];if(F&&J)J.value=F;else{const[ue,oo]=function(X){let ct;if(ml.test(X)){let Xt;for(ct={};Xt=X.match(ml);)X=X.slice(0,X.length-Xt[0].length),ct[Xt[0].toLowerCase()]=!0}return[Object(n.l)(X.slice(2)),ct]}(g);F?Dl(u,ue,H[g]=function(X,ct){const Xt=so=>{const go=so.timeStamp||Os();(ul||go>=Xt.attached-1)&&ts(function(jo,Fo){if(Object(n.n)(Fo)){const No=jo.stopImmediatePropagation;return jo.stopImmediatePropagation=()=>{No.call(jo),jo._stopped=!0},Fo.map(Cs=>fs=>!fs._stopped&&Cs(fs))}return Fo}(so,Xt.value),ct,5,[so])};return Xt.value=X,Xt.attached=(()=>Js||(Pl.then(Tl),Js=Os()))(),Xt}(F,O),oo):J&&(function(X,ct,Xt,so){X.removeEventListener(ct,Xt,so)}(u,ue,J,oo),H[g]=void 0)}}const ml=/(?:Once|Passive|Capture)$/,pl=/^on[a-z]/,Ol={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Object(n.h)({},kl.props,Ol),Object(n.h)({patchProp:(u,g,w,F,O=!1,H,J,ue,oo)=>{switch(g){case"class":(function(X,ct,Xt){if(ct==null&&(ct=""),Xt)X.setAttribute("class",ct);else{const so=X._vtc;so&&(ct=(ct?[ct,...so]:[...so]).join(" ")),X.className=ct}})(u,F,O);break;case"style":(function(X,ct,Xt){const so=X.style;if(Xt)if(Object(n.B)(Xt)){if(ct!==Xt){const go=so.display;so.cssText=Xt,"_vod"in X&&(so.display=go)}}else{for(const go in Xt)Qs(so,go,Xt[go]);if(ct&&!Object(n.B)(ct))for(const go in ct)Xt[go]==null&&Qs(so,go,"")}else X.removeAttribute("style")})(u,w,F);break;default:Object(n.v)(g)?Object(n.t)(g)||jl(u,g,0,F,J):function(X,ct,Xt,so){return so?ct==="innerHTML"||!!(ct in X&&pl.test(ct)&&Object(n.o)(Xt)):ct==="spellcheck"||ct==="draggable"||ct==="form"||ct==="list"&&X.tagName==="INPUT"||ct==="type"&&X.tagName==="TEXTAREA"||pl.test(ct)&&Object(n.B)(Xt)?!1:ct in X}(u,g,F,O)?function(X,ct,Xt,so,go,jo,Fo){if(ct==="innerHTML"||ct==="textContent")return so&&Fo(so,go,jo),void(X[ct]=Xt??"");if(ct!=="value"||X.tagName==="PROGRESS"){if(Xt===""||Xt==null){const No=typeof X[ct];if(Xt===""&&No==="boolean")return void(X[ct]=!0);if(Xt==null&&No==="string")return X[ct]="",void X.removeAttribute(ct);if(No==="number")return X[ct]=0,void X.removeAttribute(ct)}try{X[ct]=Xt}catch{}}else{X._value=Xt;const No=Xt??"";X.value!==No&&(X.value=No)}}(u,g,F,H,J,ue,oo):(g==="true-value"?u._trueValue=F:g==="false-value"&&(u._falseValue=F),function(X,ct,Xt,so){if(so&&ct.startsWith("xlink:"))Xt==null?X.removeAttributeNS(_l,ct.slice(6,ct.length)):X.setAttributeNS(_l,ct,Xt);else{const go=Object(n.A)(ct);Xt==null||go&&Xt===!1?X.removeAttribute(ct):X.setAttribute(ct,go?"":Xt)}}(u,g,F,O))}},forcePatchProp:(u,g)=>g==="value"},dl);var Ml={baidu:"http://cang.baidu.com/do/add?iu=@u&it=@t",buffer:"https://bufferapp.com/add?text=@t&url=@u",email:"mailto:?subject=@t&body=@u%0D%0A@d",evernote:"https://www.evernote.com/clip.action?url=@u&title=@t",facebook:"https://www.facebook.com/sharer/sharer.php?u=@u&title=@t&description=@d&quote=@q&hashtag=@h",flipboard:"https://share.flipboard.com/bookmarklet/popout?v=2&url=@u&title=@t",hackernews:"https://news.ycombinator.com/submitlink?u=@u&t=@t",instapaper:"http://www.instapaper.com/edit?url=@u&title=@t&description=@d",line:"http://line.me/R/msg/text/?@t%0D%0A@u%0D%0A@d",linkedin:"https://www.linkedin.com/shareArticle?url=@u",messenger:"fb-messenger://share/?link=@u",odnoklassniki:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=@u&st.comments=@t",pinterest:"https://pinterest.com/pin/create/button/?url=@u&media=@m&description=@t",pocket:"https://getpocket.com/save?url=@u&title=@t",quora:"https://www.quora.com/share?url=@u&title=@t",reddit:"https://www.reddit.com/submit?url=@u&title=@t",skype:"https://web.skype.com/share?url=@t%0D%0A@u%0D%0A@d",sms:"sms:?body=@t%0D%0A@u%0D%0A@d",stumbleupon:"https://www.stumbleupon.com/submit?url=@u&title=@t",telegram:"https://t.me/share/url?url=@u&text=@t%0D%0A@d",tumblr:"https://www.tumblr.com/share/link?url=@u&name=@t&description=@d",twitter:"https://twitter.com/intent/tweet?text=@t&url=@u&hashtags=@h@tu",viber:"viber://forward?text=@t%0D%0A@u%0D%0A@d",vk:"https://vk.com/share.php?url=@u&title=@t&description=@d&image=@m&noparse=true",weibo:"http://service.weibo.com/share/share.php?url=@u&title=@t&pic=@m",whatsapp:"https://api.whatsapp.com/send?text=@t%0D%0A@u%0D%0A@d",wordpress:"https://wordpress.com/press-this.php?u=@u&t=@t&s=@d&i=@m",xing:"https://www.xing.com/social/share/spi?op=share&url=@u&title=@t",yammer:"https://www.yammer.com/messages/new?login=true&status=@t%0D%0A@u%0D%0A@d"},Go=typeof window<"u"?window:null,Ys={name:"ShareNetwork",props:{network:{type:String,required:!0},url:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,default:""},quote:{type:String,default:""},hashtags:{type:String,default:""},twitterUser:{type:String,default:""},media:{type:String,default:""},tag:{type:String,default:"a"},popup:{type:Object,default:function(){return{width:626,height:436}}},options:{type:Object,default:function(){return{networks:null}}}},data:function(){return{popupTop:0,popupLeft:0,popupWindow:void 0,popupInterval:null}},computed:{networks:function(){return Object.assign(Ml,this.options.networks||{})},key:function(){return this.network.toLowerCase()},rawLink:function(){var u=navigator.userAgent.toLowerCase();return this.key==="sms"&&(u.indexOf("iphone")>-1||u.indexOf("ipad")>-1)?this.networks[this.key].replace(":?",":&"):this.networks[this.key]},shareLink:function(){var u=this.rawLink;return this.key==="twitter"&&(this.hashtags.length||(u=u.replace("&hashtags=@h","")),this.twitterUser.length||(u=u.replace("@tu",""))),u.replace(/@tu/g,"&via="+encodeURIComponent(this.twitterUser)).replace(/@u/g,encodeURIComponent(this.url)).replace(/@t/g,encodeURIComponent(this.title)).replace(/@d/g,encodeURIComponent(this.description)).replace(/@q/g,encodeURIComponent(this.quote)).replace(/@h/g,this.encodedHashtags).replace(/@m/g,encodeURIComponent(this.media))},encodedHashtags:function(){return this.key==="facebook"&&this.hashtags.length?"%23"+this.hashtags.split(",")[0]:this.hashtags}},render:function(){var u=this;if(!this.networks.hasOwnProperty(this.key))throw new Error("Network "+this.key+" does not exist");var g={class:"share-network-"+this.key,onclick:function(){return u[u.rawLink.substring(0,4)==="http"?"share":"touch"]()}};return this.tag==="a"&&(g.href="javascript:void(0)"),El(this.tag,g,typeof this.$slots.default=="function"?this.$slots.default():null)},methods:{resizePopup:function(){var u=Go.innerWidth||document.documentElement.clientWidth||Go.screenX,g=Go.innerHeight||document.documentElement.clientHeight||Go.screenY,w=u/Go.screen.availWidth;this.popupLeft=(u-this.popup.width)/2/w+(Go.screenLeft!==void 0?Go.screenLeft:Go.screenX),this.popupTop=(g-this.popup.height)/2/w+(Go.screenTop!==void 0?Go.screenTop:Go.screenY)},share:function(){var u=this;this.resizePopup(),this.popupWindow&&this.popupInterval&&(clearInterval(this.popupInterval),this.popupWindow.close(),this.emit("change")),this.popupWindow=Go.open(this.shareLink,"sharer-"+this.key,",height="+this.popup.height+",width="+this.popup.width+",left="+this.popupLeft+",top="+this.popupTop+",screenX="+this.popupLeft+",screenY="+this.popupTop),this.popupWindow&&(this.popupWindow.focus(),this.popupInterval=setInterval(function(){u.popupWindow&&!u.popupWindow.closed||(clearInterval(u.popupInterval),u.popupWindow=null,u.emit("close"))},500),this.emit("open"))},touch:function(){window.open(this.shareLink,"_blank"),this.emit("open")},emit:function(u){this.$root.$emit("share_network_"+u,this.key,this.url),this.$emit(u,this.key,this.url)}}};i.default={install:function(u,g){u.component(Ys.name,Ys)}}}])})})(vueSocialSharing);const VueSocialSharing=getDefaultExportFromCjs(vueSocialSharingExports),util={async makeAxiosFactory(o,t="GET",s=null,i=null){let a,n=window.Telegram&&window.Telegram.WebApp.initData||null,r=window.currentBot.bot_domain||null,l=window.currentScript||null;switch(axios.defaults.headers.common["X-CASHMAN-SLUG-ID"]=l?btoa(l):null,axios.defaults.headers.common["X-CASHMAN-BOT-DOMAIN"]=r?btoa(r):null,axios.defaults.headers.common["X-CASHMAN-TG-DATA"]=n?btoa(n):null,t.toUpperCase()){default:case"GET":a=await axios.get(o);break;case"POST":a=await axios.post(o,s,i);break;case"PUT":a=await axios.put(o,s);break;case"DELETE":a=await axios.delete(o);break}return a},async loadActualProducts(o=[]){let t=window.Telegram.WebApp.initData||null,s=window.currentBot.bot_domain||null,i=window.currentScript||null,a={tgData:t,slug_id:i,botDomain:s,ids:o},n="/bot-client/shop/products/by-ids",r="POST";return this.makeAxiosFactory(n,r,a).then(d=>{const c=d.data.data;return Promise.resolve(c)}).catch(d=>Promise.reject(d))}},BASE_CASHBACK_LINK="/bot-client/cashback";let state$D={cashback:[],cashback_paginate_object:null};const getters$D={getCashBack:o=>o.cashback||[],getCashBackPaginateObject:o=>o.cashback_paginate_object||null},actions$D={async loadCashBackModuleData(o){let t=`${BASE_CASHBACK_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadReceiverUserData(o,t={dataObject:{user_telegram_chat_id:null}}){let s=`${BASE_CASHBACK_LINK}/receiver`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>{let n=a.data;return Promise.resolve(n)}).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadCashBack(o,t={dataObject:{user_telegram_chat_id:null},page:0,size:12}){let s=t.page||0,a=`${BASE_CASHBACK_LINK}/history?page=${s}&size=12`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(r=>{let l=r.data;return o.commit("setCashBack",l.data),delete l.data,o.commit("setCashBackPaginateObject",l),Promise.resolve()}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async removeCashBack(o,t={dataObject:null}){let s=`${BASE_CASHBACK_LINK}/remove`,i=window.Telegram.WebApp.initData,a=window.currentBot.bot_domain||null;return util.makeAxiosFactory(s,"POST",{tgData:i,botDomain:a,...t.dataObject}).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async addCashBack(o,t={dataObject:null}){let s=`${BASE_CASHBACK_LINK}/add`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async requestUserData(o,t){let s=`${BASE_CASHBACK_LINK}/request-user-data`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async requestRefreshMenu(o,t){let s=`${BASE_CASHBACK_LINK}/request-refresh-menu`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async userMessage(o,t){let s=`${BASE_CASHBACK_LINK}/user-message`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async saveDeliveryman(o,t){let s=`${BASE_CASHBACK_LINK}/deliveryman`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async saveVip(o,t){let s={...t},i=`${BASE_CASHBACK_LINK}/vip`;return util.makeAxiosFactory(i,"POST",s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))}},mutations$D={setCashBack(o,t){o.cashback=t||[],localStorage.setItem("cashman_cashback",JSON.stringify(t))},setCashBackPaginateObject(o,t){o.cashback_paginate_object=t||[],localStorage.setItem("cashman_cashback_paginate_object",JSON.stringify(t))}},cashbackModule$1={state:state$D,mutations:mutations$D,actions:actions$D,getters:getters$D},BASE_ADMINS_LINK="/bot-client/admins";let state$C={admins:[],admins_paginate_object:null};const getters$C={getAdmins:o=>o.admins||[],getAdminsPaginateObject:o=>o.admins_paginate_object||null},actions$C={async loadAdmins(o,t={dataObject:null,page:0,size:12}){let s=t.page||0,a=`${BASE_ADMINS_LINK}?page=${s}&size=12`,n="POST";return util.makeAxiosFactory(a,n,t.dataObject).then(l=>{let d=l.data;return o.commit("setAdmins",d.data),delete d.data,o.commit("setAdminsPaginateObject",d),Promise.resolve()}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async requestAdmin(o,t={dataObject:null}){let s=`${BASE_ADMINS_LINK}/request`,i="POST";return util.makeAxiosFactory(s,i,t.dataObject).then(n=>Promise.resolve()).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async sendApproveToUser(o,t){let s=`${BASE_ADMINS_LINK}/send-approve`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async userReviewRequest(o,t){let s=`${BASE_ADMINS_LINK}/request-review`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async sendPageToUser(o,t){let s=`${BASE_ADMINS_LINK}/send-page-to-user`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async sendInvoice(o,t){let s=`${BASE_ADMINS_LINK}/send-invoice`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async addAdmin(o,t){let s=`${BASE_ADMINS_LINK}/add`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAdmin(o,t){let s=`${BASE_ADMINS_LINK}/remove`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async selfRemove(o,t){let s=`${BASE_ADMINS_LINK}/self-remove`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async workStateChange(o,t={dataObject:null}){let s=`${BASE_ADMINS_LINK}/work-status`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async statisticLoad(o){let t=`${BASE_ADMINS_LINK}/load-statistic`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async downloadBotStatistic(o){return util.makeAxiosFactory(`${BASE_ADMINS_LINK}/download-bot-statistic`,"POST",null,{responseType:"blob"}).then(s=>s).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async downloadBotUsers(o){return util.makeAxiosFactory(`${BASE_ADMINS_LINK}/download-bot-users`,"POST",null,{responseType:"blob"}).then(s=>s).catch(s=>(o.commit("setErrors",s.response.data.errors||[]),Promise.reject(s)))},async downloadCashBackHistory(o,t={orderBy:null,direction:null}){return util.makeAxiosFactory(`${BASE_ADMINS_LINK}/download-cashback-history`,"POST",t,{responseType:"blob"}).then(i=>i).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))}},mutations$C={setAdmins(o,t){o.admins=t||[],localStorage.setItem("cashman_admins",JSON.stringify(t))},setAdminsPaginateObject(o,t){o.admins_paginate_object=t||[],localStorage.setItem("cashman_admins_paginate_object",JSON.stringify(t))}},adminsModule={state:state$C,mutations:mutations$C,actions:actions$C,getters:getters$C},BASE_PRODUCTS_LINK="/bot-client/shop/products";let state$B={products:[],categories:[],products_paginate_object:null,categories_paginate_object:null};const getters$B={getProducts:o=>o.products||[],getCategories:o=>o.categories||[],getProductById:o=>t=>o.products.find(s=>s.id===t),getProductsPaginateObject:o=>o.products_paginate_object||null,getCategoriesPaginateObject:o=>o.categories_paginate_object||null},actions$B={async loadShopModuleData(o){let t=`${BASE_PRODUCTS_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async removeProductCategory(o,t={category_id:null}){let s=`${BASE_PRODUCTS_LINK}/remove-category/${t.category_id}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async changeProductCategoryStatus(o,t){let s=`${BASE_PRODUCTS_LINK}/categories/status/${t}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeProductCategory(o,t={category:null}){let s=`${BASE_PRODUCTS_LINK}/store-category`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async addProductCategory(o,t={category:null}){let s=`${BASE_PRODUCTS_LINK}/add-category`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async saveProduct(o,t={productForm:null}){let s=`${BASE_PRODUCTS_LINK}/add-product`;return util.makeAxiosFactory(s,"POST",t.productForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAllProducts(o){let t=`${BASE_PRODUCTS_LINK}/remove-all-products`,s="POST";return util.makeAxiosFactory(t,s).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeShopProduct(o,t){let s=`${BASE_PRODUCTS_LINK}/${t}`,i="DELETE";return util.makeAxiosFactory(s,i).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async loadProductsByCategory(o){let t=`${BASE_PRODUCTS_LINK}-by-category`,s="POST";return util.makeAxiosFactory(t,s).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadProduct(o,t={dataObject:{productId:null}}){let s=`${BASE_PRODUCTS_LINK}/${t.dataObject.productId}`,i="POST";return util.makeAxiosFactory(s,i).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async loadCategory(o,t={dataObject:{categoryId:null}}){let s=`${BASE_PRODUCTS_LINK}/category/${t.dataObject.categoryId}`,i="POST";return util.makeAxiosFactory(s,i).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async loadProducts(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,n=`${BASE_PRODUCTS_LINK}?page=${i}&size=20`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setProducts",c.data),delete c.data,o.commit("setProductsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadProductsInCategory(o,t={dataObject:{search:null,category_id:null},page:0,size:12}){let s=window.Telegram.WebApp.initData||null,i=window.currentBot.bot_domain||null,a=window.currentScript||null,n={tgData:s,slug_id:a,botDomain:i,...t.dataObject},r=t.page||0,d=`${BASE_PRODUCTS_LINK}/in-category?page=${r}&size=12`,c="POST";return util.makeAxiosFactory(d,c,n).then(m=>{let p=m.data;return o.commit("setProducts",p.data),delete p.data,o.commit("setProductsPaginateObject",p),Promise.resolve()}).catch(m=>(o.commit("setErrors",m.response.data.errors||[]),Promise.reject(m)))},async loadCategories(o,t={page:0,size:100,dataObject:null}){let s=t.page||0,i=t.size||5,a=`${BASE_PRODUCTS_LINK}/categories?page=${s}&size=${i}`,n="POST";return util.makeAxiosFactory(a,n,t.dataObject).then(l=>{const d=l.data;return o.commit("setCategories",d.data),delete d.data,o.commit("setCategoriesPaginateObject",d),Promise.resolve()}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async loadRandomProducts(o){let t=window.Telegram.WebApp.initData||null,s=window.currentBot.bot_domain||null,i=window.currentScript||null,a={tgData:t,slug_id:i,botDomain:s},n=`${BASE_PRODUCTS_LINK}/random`,r="POST";return util.makeAxiosFactory(n,r,a).then(d=>{let c=d.data;return o.commit("setProducts",c.data),delete c.data,o.commit("setProductsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))}},mutations$B={setProducts(o,t){o.products=t||[],localStorage.setItem("cashman_products",JSON.stringify(t))},setCategories(o,t){o.categories=t||[],localStorage.setItem("cashman_categories",JSON.stringify(t))},setCategoriesPaginateObject(o,t){o.categories_paginate_object=t||[],localStorage.setItem("cashman_categories_paginate_object",JSON.stringify(t))},setProductsPaginateObject(o,t){o.products_paginate_object=t||[],localStorage.setItem("cashman_products_paginate_object",JSON.stringify(t))}},productsModule$1={state:state$B,mutations:mutations$B,actions:actions$B,getters:getters$B},BASE_FRIENDS_LINK="/bot-client/friends";let state$A={};const getters$A={},actions$A={async friendsLoadScriptVariants(o){let t=`${BASE_FRIENDS_LINK}/load-script-variants`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async friendsStoreConfig(o,t){let s=`${BASE_FRIENDS_LINK}/store`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$A={},friendsModule={state:state$A,mutations:mutations$A,actions:actions$A,getters:getters$A},state$z={filling_categories:[{id:1,title:"Овощные начинки"},{id:2,title:"Мясные начинки"},{id:3,title:"Морские начинки"},{id:4,title:"Сырные начинки"},{id:5,title:"Блинчики сладкие"},{id:6,title:"Сладкие добавки"},{id:7,title:"Блинчики соленые"},{id:8,title:"Основа пиццы"},{id:9,title:"Верхнее покрытие ролла"},{id:10,title:"Начинка ролла"},{id:11,title:"Основа ролла"},{id:12,title:"Хот-дог"},{id:13,title:"Добавки к хот-догу"},{id:14,title:"Вместе с хот-догом"},{id:15,title:"Основа гонконгских вафель"},{id:16,title:"Начинка гонконгских вафель"},{id:17,title:"Фруктовые добавки для гонконгских вафель"},{id:18,title:"Добавки топпинга или соуса для гонконгских вафель"},{id:19,title:"Ланч салат"},{id:20,title:"Ланч первые блюда"},{id:21,title:"Ланч гарнир"},{id:22,title:"Ланч напиток"},{id:23,title:"Бизнес-ланч"}],filling:[{id:1,title:"Грибы жаренные",weight:50,price:45,category:1,checked:!1,disabled:!1},{id:2,title:"Грибы стерилизованные",weight:40,price:45,category:1,checked:!1,disabled:!1},{id:3,title:"Грибы свежие",weight:40,price:45,category:1,checked:!1,disabled:!1},{id:4,title:"Ананасы",weight:40,price:35,category:1,checked:!1,disabled:!1},{id:5,title:"Помидоры свежие",weight:50,price:30,category:1,checked:!1,disabled:!1},{id:6,title:"Перец болгарский",weight:40,price:30,category:1,checked:!1,disabled:!1},{id:7,title:"Кукуруза",weight:40,price:30,category:1,checked:!1,disabled:!1},{id:8,title:"Маслины",weight:30,price:55,category:1,checked:!1,disabled:!1},{id:9,title:"Фасоль спаржевая",weight:50,price:30,category:1,checked:!1,disabled:!1},{id:10,title:"Пепперони",weight:30,price:26,category:1,checked:!1,disabled:!1},{id:11,title:"Маринованный лук",weight:50,price:12,category:1,checked:!1,disabled:!1},{id:12,title:"Огурец маринованный",weight:50,price:30,category:1,checked:!1,disabled:!1},{id:13,title:"Зелень петрушки к пицце",weight:3,price:12,category:1,checked:!1,disabled:!1},{id:14,title:"Зелень укропа к пицце",weight:3,price:12,category:1,checked:!1,disabled:!1},{id:15,title:"Балык мясной",weight:40,price:50,category:2,checked:!1,disabled:!1},{id:16,title:"Курица",weight:50,price:55,category:2,checked:!1,disabled:!1},{id:17,title:"Охотничьи колбаски",weight:50,price:55,category:2,checked:!1,disabled:!1},{id:18,title:"Салями",weight:40,price:50,category:2,checked:!1,disabled:!1},{id:19,title:"Бекон",weight:40,price:50,category:2,checked:!1,disabled:!1},{id:20,title:"Салями острая пепперони",weight:25,price:55,category:2,checked:!1,disabled:!1},{id:21,title:"Кальмары",weight:50,price:85,category:3,checked:!1,disabled:!1},{id:22,title:"Крабовые палочки",weight:50,price:40,category:3,checked:!1,disabled:!1},{id:23,title:"Семга",weight:40,price:135,category:3,checked:!1,disabled:!1},{id:24,title:"Ди Маре",weight:150,price:135,category:3,checked:!1,disabled:!1},{id:25,title:"Твердый сыр",weight:70,price:55,category:4,checked:!1,disabled:!1},{id:26,title:"Фета",weight:50,price:60,category:4,checked:!1,disabled:!1},{id:27,title:"Пармезан",weight:15,price:40,category:4,checked:!1,disabled:!1},{id:28,title:"Моцарелла",weight:60,price:60,category:4,checked:!1,disabled:!1},{id:29,title:"Блинчик соленый",weight:90,price:45,category:7,checked:!0,disabled:!0},{id:30,title:"Семга, тар-тар",weight:150,price:45,category:7,checked:!1,disabled:!1},{id:31,title:"Икра красная",weight:20,price:130,category:7,checked:!1,disabled:!1},{id:32,title:"Грибы(20г), сыр(20г)",weight:40,price:50,category:7,checked:!1,disabled:!1},{id:33,title:"Курица(30г), сыр(20г)",weight:50,price:55,category:7,checked:!1,disabled:!1},{id:34,title:"Сыр",weight:20,price:25,category:7,checked:!1,disabled:!1},{id:35,title:"Сыр(20г), грибы(20г), балык(20г)",weight:60,price:55,category:7,checked:!1,disabled:!1},{id:36,title:"Салями, помидор, сыр",weight:160,price:85,category:7,checked:!1,disabled:!1},{id:37,title:"Курица, грибы, сметана",weight:70,price:85,category:7,checked:!1,disabled:!1},{id:38,title:"С балыком 'Три желания'",weight:205,price:120,category:7,checked:!1,disabled:!1},{id:39,title:"С семгой 'Три желания'",weight:225,price:195,category:7,checked:!1,disabled:!1},{id:40,title:"Помидор(17г), сыр(30г), майонез(10г), зелень(3г)",weight:60,price:50,category:7,checked:!1,disabled:!1},{id:41,title:"Блинчик сладкий",weight:90,price:45,category:5,checked:!0,disabled:!0},{id:42,title:"Апельсин конфи",weight:60,price:50,category:5,checked:!1,disabled:!1},{id:43,title:"Банан (50г), шоколад(15г)",weight:65,price:60,category:5,checked:!1,disabled:!1},{id:44,title:"Альфорно / Творожная начинка",weight:200,price:95,category:5,checked:!1,disabled:!1},{id:45,title:"Нутелла / Банан / Мороженное",weight:210,price:115,category:5,checked:!1,disabled:!1},{id:46,title:"Творожная начинка / Апельсин конфи",weight:200,price:95,category:5,checked:!1,disabled:!1},{id:47,title:"Смородина / Творожная начинка",weight:240,price:95,category:5,checked:!1,disabled:!1},{id:48,title:"Вишня конфи",weight:60,price:50,category:5,checked:!1,disabled:!1},{id:49,title:"Клубника конфи",weight:60,price:50,category:5,checked:!1,disabled:!1},{id:50,title:"Нутелла(30г), орехи(5г)",weight:35,price:60,category:5,checked:!1,disabled:!1},{id:52,title:"Мёд",weight:25,price:25,category:6,checked:!1,disabled:!1},{id:53,title:"Сгущенное молоко",weight:20,price:25,category:6,checked:!1,disabled:!1},{id:54,title:"Сметана",weight:20,price:20,category:6,checked:!1,disabled:!1},{id:55,title:"Соус ванильный",weight:30,price:15,category:6,checked:!1,disabled:!1},{id:56,title:"Черная смородина",weight:60,price:50,category:6,checked:!1,disabled:!1},{id:57,title:"Шоколад",weight:25,price:50,category:6,checked:!1,disabled:!1},{id:58,title:"Яблоки, корица",weight:80,price:40,category:6,checked:!1,disabled:!1},{id:59,title:"Пицца Челентано",weight:350,price:95,category:8,checked:!0,disabled:!1},{id:60,title:"Пицца Челентано с белым соусом",weight:95,price:45,category:8,checked:!1,disabled:!1},{id:61,title:"Основа ролла",weight:95,price:80,category:11,checked:!0,disabled:!0},{id:62,title:"Лосось",weight:30,price:100,category:9,checked:!1,disabled:!1},{id:63,title:"Тунец",weight:30,price:110,category:9,checked:!1,disabled:!1},{id:64,title:"Угорь",weight:30,price:130,category:9,checked:!1,disabled:!1},{id:65,title:"Креветка Тигровая",weight:30,price:140,category:9,checked:!1,disabled:!1},{id:66,title:"Окунь",weight:30,price:60,category:9,checked:!1,disabled:!1},{id:67,title:"Кунжут Белый",weight:30,price:20,category:9,checked:!1,disabled:!1},{id:68,title:"Кунжут Черный",weight:30,price:20,category:9,checked:!1,disabled:!1},{id:69,title:"Кунжут ч/б",weight:30,price:30,category:9,checked:!1,disabled:!1},{id:70,title:"Икра Тобико Красная",weight:30,price:50,category:9,checked:!1,disabled:!1},{id:71,title:"Икра Тобико Зелёная",weight:30,price:50,category:9,checked:!1,disabled:!1},{id:72,title:"Икра Тобико Черная",weight:30,price:50,category:9,checked:!1,disabled:!1},{id:73,title:"Струшка Тунца",weight:30,price:30,category:9,checked:!1,disabled:!1},{id:74,title:"Огурец",weight:30,price:20,category:9,checked:!1,disabled:!1},{id:75,title:"Авакадо",weight:30,price:100,category:9,checked:!1,disabled:!1},{id:76,title:"Укроп",weight:3,price:10,category:9,checked:!1,disabled:!1},{id:77,title:"Нори",weight:30,price:15,category:9,checked:!0,disabled:!1},{id:78,title:"Лосось",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:79,title:"Тунец",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:80,title:"Угорь",weight:30,price:65,category:10,checked:!1,disabled:!1},{id:81,title:"Креветка Тигровая",weight:30,price:70,category:10,checked:!1,disabled:!1},{id:82,title:"Окунь",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:83,title:"Снежный Краб",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:84,title:"Мидии",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:85,title:"Кальмар",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:86,title:"Курица Жареная",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:87,title:"Лосось Жаренный",weight:30,price:55,category:10,checked:!1,disabled:!1},{id:88,title:"Окунь Жаренный",weight:30,price:35,category:10,checked:!1,disabled:!1},{id:89,title:"Сливочный Сыр",weight:30,price:30,category:10,checked:!1,disabled:!1},{id:90,title:"Плаванный сыр",weight:30,price:25,category:10,checked:!1,disabled:!1},{id:91,title:"Икра Тобико Красная",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:92,title:"Икра Лосося",weight:30,price:100,category:10,checked:!1,disabled:!1},{id:93,title:"Огурец",weight:30,price:10,category:10,checked:!1,disabled:!1},{id:94,title:"Авакадо",weight:30,price:50,category:10,checked:!1,disabled:!1},{id:95,title:"Чука",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:96,title:"Помидор",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:97,title:"Сладкиц Перец",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:98,title:"Айсберг",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:99,title:"Лук зелёный",weight:30,price:10,category:10,checked:!1,disabled:!1},{id:100,title:"Соус спайси",weight:30,price:15,category:10,checked:!1,disabled:!1},{id:101,title:"Майонез",weight:30,price:10,category:10,checked:!1,disabled:!1},{id:102,title:"Классический",description:"пшеничная булочка, сосиска фирменная, огурец соленый, морковь по-корейски, кетчуп, майонез, горчица",weight:260,price:95,category:12,checked:!0,disabled:!1},{id:103,title:"Цезарь",description:'пшеничная булочка, сосиска куриная в беконе, томаты, сыр Пармезан, айсберг, соус "Цезарь", горчица',weight:280,price:279,category:12,checked:!1,disabled:!1},{id:104,title:"Black Angus",description:'пшенично-солодовая булочка, колбаски из говядины "Black Angus", томаты, лук-конфи, айсберг, соус "BBQ", горчица, кунжут',weight:280,price:219,category:12,checked:!1,disabled:!1},{id:105,title:"Blue shrimp with cheese",description:'пшенично-солодовая булочка, хвосты креветок фри, айсберг, сыр Дор блю, огурец свежий, соус "Цезарь", соус "Терияки", горчица, кунжут',weight:280,price:219,category:12,checked:!1,disabled:!1},{id:106,title:"Баварский",description:'пшеничная булочка, колбаски Баварские, огурец соленый, лук-фри, соус "BBQ", горчица',weight:280,price:199,category:12,checked:!1,disabled:!1},{id:107,title:"Чили",description:'пшеничная булочка, колбаски охотничьи, маринованый лук, огурец соленый, бекон, перец "Халапенью" , чили, соус "BBQ", горчица',weight:320,price:289,category:12,checked:!1,disabled:!1},{id:108,title:"Texas",description:'пшеничная булочка, сосиска фирменная в панировке, томаты, айсберг, морковь по-корейски, соус "BBQ", майонез, горчица',weight:280,price:169,category:12,checked:!1,disabled:!1},{id:109,title:"Roll dog",description:'лаваш, сосиски фирменные, томаты, маринованный лук, сыр Моцарелла, соус "BBQ", горчица',weight:320,price:219,category:12,checked:!1,disabled:!1},{id:110,title:"Бекон",weight:50,price:43,category:13,checked:!1,disabled:!1},{id:111,title:"Креветки фри",weight:50,price:220,category:13,checked:!1,disabled:!1},{id:112,title:"Сыр 'Дор блю'",weight:10,price:25,category:13,checked:!1,disabled:!1},{id:113,title:"Сыр 'Пармезан'",weight:10,price:20,category:13,checked:!1,disabled:!1},{id:114,title:"Сыр 'Моцарелла'",weight:10,price:15,category:13,checked:!1,disabled:!1},{id:115,title:"Колбаска 'Black angus'",weight:60,price:95,category:13,checked:!1,disabled:!1},{id:116,title:"Колбаска 'Баварская'",weight:40,price:75,category:13,checked:!1,disabled:!1},{id:117,title:"Колбаска куриная в беконе",weight:60,price:79,category:13,checked:!1,disabled:!1},{id:118,title:"Сосиска фирменная",weight:70,price:49,category:13,checked:!1,disabled:!1},{id:119,title:"Морковь по корейски",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:120,title:"Перец чили",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:121,title:"Томаты",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:122,title:"Огурец соленый",weight:10,price:10,category:13,checked:!1,disabled:!1},{id:123,title:"Огурец свежий",weight:10,price:8,category:13,checked:!1,disabled:!1},{id:124,title:"Соус 'BBQ'",weight:20,price:15,category:13,checked:!1,disabled:!1},{id:125,title:"Соус 'Цезарь'",weight:20,price:15,category:13,checked:!1,disabled:!1},{id:126,title:"Горчица",weight:20,price:10,category:13,checked:!1,disabled:!1},{id:127,title:"Соус 'Французский'",weight:20,price:10,category:13,checked:!1,disabled:!1},{id:128,title:"Картофель фри",weight:100,price:80,category:14,checked:!1,disabled:!1},{id:129,title:"Лук фри",weight:100,price:95,category:14,checked:!1,disabled:!1},{id:130,title:"Ванильная",weight:100,price:50,category:15,checked:!0,disabled:!1},{id:131,title:"Шоколадная",weight:100,price:55,category:15,checked:!1,disabled:!1},{id:132,title:"Соленая",weight:100,price:50,category:15,checked:!1,disabled:!1},{id:133,title:"Взбитые сливки",weight:50,price:45,category:16,checked:!1,disabled:!1},{id:134,title:"Бельгийский шоколад",weight:30,price:29,category:16,checked:!1,disabled:!1},{id:135,title:"M&M's",weight:30,price:35,category:16,checked:!1,disabled:!1},{id:136,title:"Сыр",weight:50,price:48,category:16,checked:!1,disabled:!1},{id:137,title:"Ветчина",weight:50,price:52,category:16,checked:!1,disabled:!1},{id:138,title:"Бекон",weight:30,price:69,category:16,checked:!1,disabled:!1},{id:139,title:"Куриная грудка",weight:30,price:51,category:16,checked:!1,disabled:!1},{id:140,title:"Банан",weight:50,price:25,category:17,checked:!1,disabled:!1},{id:141,title:"Яблоко",weight:50,price:15,category:17,checked:!1,disabled:!1},{id:142,title:"Киви",weight:50,price:22,category:17,checked:!1,disabled:!1},{id:143,title:"Клубника",weight:50,price:55,category:17,checked:!1,disabled:!1},{id:144,title:"Карамель",weight:30,price:15,category:18,checked:!1,disabled:!1},{id:145,title:"Соленая карамель",weight:30,price:15,category:18,checked:!1,disabled:!1},{id:146,title:"Ягодный соус",weight:30,price:15,category:18,checked:!1,disabled:!1},{id:147,title:"Соус 'Цезарь'",weight:30,price:20,category:18,checked:!1,disabled:!1},{id:148,title:"Сырный соус",weight:30,price:30,category:18,checked:!1,disabled:!1},{id:149,title:"Остро-сладкий соус",weight:30,price:25,category:18,checked:!1,disabled:!1},{id:150,title:"Соус барбекю",weight:30,price:20,category:18,checked:!1,disabled:!1},{id:151,title:"Бизнес-ланч",weight:0,price:150,category:23,checked:!0,disabled:!0},{id:152,title:"Салат с крабовыми палочками",weight:150,price:0,category:19,checked:!1,disabled:!1},{id:153,title:"Салат из пекинской капусты",weight:150,price:0,category:19,checked:!1,disabled:!1},{id:154,title:"Салат с кукурузой и курицей",weight:150,price:0,category:19,checked:!1,disabled:!1},{id:155,title:"Борщ",weight:250,price:0,category:20,checked:!1,disabled:!1},{id:156,title:"Сырный суп с беконом",weight:250,price:0,category:20,checked:!1,disabled:!1},{id:157,title:"Бульон куриный с яйцом",weight:250,price:0,category:20,checked:!1,disabled:!1},{id:158,title:"Куриное филе в кляре с пюре",weight:220,price:0,category:21,checked:!1,disabled:!1},{id:159,title:"Рагу из овощей со свининой",weight:220,price:0,category:21,checked:!1,disabled:!1},{id:160,title:"Куриная печень в соусе с рисом карри",weight:200,price:0,category:21,checked:!1,disabled:!1},{id:161,title:"Каркаде",weight:250,price:0,category:22,checked:!1,disabled:!1},{id:162,title:"Компот",weight:250,price:0,category:22,checked:!1,disabled:!1},{id:163,title:"Пиво",weight:330,price:0,category:22,checked:!1,disabled:!1}]},getters$z={getIngredientById:o=>t=>o.filling.find(s=>s.id===t),getAllFillings:o=>o.filling||[],getIngredientsCategory:o=>t=>o.filling_categories.filter(s=>s.id===t)[0],getIngredientsFilling:o=>t=>o.filling.filter(s=>s.category===t)},actions$z={},mutations$z={},ingredientsModule={state:state$z,mutations:mutations$z,actions:actions$z,getters:getters$z},BASE_WHEEL_OF_FORTUNE_LINK$2="/bot-client/wheel-of-fortune";let state$y={};const getters$y={},actions$y={async wheelOfFortuneLoadData(o){let t=`${BASE_WHEEL_OF_FORTUNE_LINK$2}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortunePrepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_LINK$2}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneWin(o,t={winForm:null}){let s=`${BASE_WHEEL_OF_FORTUNE_LINK$2}/callback`;return util.makeAxiosFactory(s,"POST",t.winForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$y={},wheelOfFortuneModule$4={state:state$y,mutations:mutations$y,actions:actions$y,getters:getters$y},BASE_CHAT_HISTORY_LINK="/bot-client/chat-history";let state$x={chat_history:[],chat_history_paginate_object:null};const getters$x={getChatHistory:o=>o.chat_history||[],getChatHistoryPaginateObject:o=>o.chat_history_paginate_object||null},actions$x={async loadChatHistory(o,t={dataObject:{bot_user_id:null},page:0,size:12}){let s=t.page||0,a=`${BASE_CHAT_HISTORY_LINK}?page=${s}&size=12`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(r=>{let l=r.data;return o.commit("setChatHistory",l.data),delete l.data,o.commit("setChatHistoryPaginateObject",l),Promise.resolve()}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))}},mutations$x={setChatHistory(o,t){o.chat_history=t||[],localStorage.setItem("cashman_chat_history",JSON.stringify(t))},setChatHistoryPaginateObject(o,t){o.chat_history_paginate_object=t||[],localStorage.setItem("cashman_chat_history_paginate_object",JSON.stringify(t))}},chat_historyModule={state:state$x,mutations:mutations$x,actions:actions$x,getters:getters$x},BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK="/bot-client/wheel-of-fortune-custom";let state$w={};const getters$w={},actions$w={async updateWheelCustomScriptParams(o,t={slugForm:null}){let s=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/store-params`;return util.makeAxiosFactory(s,"POST",t.slugForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async wheelOfFortuneCustomLoadData(o){let t=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneCustomPrepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneCustomWin(o,t={winForm:null}){let s=`${BASE_WHEEL_OF_FORTUNE_CUSTOM_LINK}/callback`;return util.makeAxiosFactory(s,"POST",t.winForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$w={},wheelOfFortuneModule$3={state:state$w,mutations:mutations$w,actions:actions$w,getters:getters$w},BASE_WHEEL_OF_FORTUNE_V3_LINK="/bot-client/shop/wheel-of-fortune-v3";let state$v={};const getters$v={},actions$v={async wheelOfFortuneV3Prepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_V3_LINK}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async wheelOfFortuneV3Win(o,t={winForm:null}){let s=`${BASE_WHEEL_OF_FORTUNE_V3_LINK}/callback`;return util.makeAxiosFactory(s,"POST",t.winForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$v={},wheelOfFortuneModule$2={state:state$v,mutations:mutations$v,actions:actions$v,getters:getters$v},BASE_WHEEL_OF_FORTUNE_LINK$1="/bot-client/friends-game";let state$u={};const getters$u={},actions$u={async friendsGamePrepare(o){let t=`${BASE_WHEEL_OF_FORTUNE_LINK$1}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async friendsGameStart(o,t){let s=`${BASE_WHEEL_OF_FORTUNE_LINK$1}/start-game`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async friendsGameFinish(o,t){let s=`${BASE_WHEEL_OF_FORTUNE_LINK$1}/finish-game`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$u={},wheelOfFortuneModule$1={state:state$u,mutations:mutations$u,actions:actions$u,getters:getters$u},BASE_BONUS_PRODUCT_LINK="/bot-client/bonus-product";let state$t={};const getters$t={},actions$t={async bonusProductPrepare(o){let t=`${BASE_BONUS_PRODUCT_LINK}/prepare`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async bonusProductCheck(o,t={dataObject:null}){let s=`${BASE_BONUS_PRODUCT_LINK}/check`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async bonusProductExchange(o,t={dataObject:null}){let s=`${BASE_BONUS_PRODUCT_LINK}/exchange`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadActionData(o,t={dataObject:null}){let s=`${BASE_BONUS_PRODUCT_LINK}/load-action-data`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$t={},bonusProductModule={state:state$t,mutations:mutations$t,actions:actions$t,getters:getters$t},BASE_INSTAGRAM_QUEST_LINK="/bot-client/instagram-quest";let state$s={};const getters$s={},actions$s={async instagramQuestLoadData(o){let t=`${BASE_INSTAGRAM_QUEST_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async instagramQuestPrepare(o,t={prepareForm:null}){let s=`${BASE_INSTAGRAM_QUEST_LINK}/prepare`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async instagramQuestResult(o,t={instaForm:null}){let s=`${BASE_INSTAGRAM_QUEST_LINK}/callback`;return util.makeAxiosFactory(s,"POST",t.instaForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$s={},instagramQuestModule={state:state$s,mutations:mutations$s,actions:actions$s,getters:getters$s},BASE_SCHEDULE_LINK="/bot-client/schedule";let state$r={};const getters$r={},actions$r={async scheduleLoadData(o){let t=`${BASE_SCHEDULE_LINK}/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))}},mutations$r={},scheduleModule={state:state$r,mutations:mutations$r,actions:actions$r,getters:getters$r},BASE_WHEEL_OF_FORTUNE_LINK="/bot-client/cash-out";let state$q={};const getters$q={},actions$q={async withDrawMoney(o,t={withDrawMoneyForm:null}){let s=`${BASE_WHEEL_OF_FORTUNE_LINK}/withdraw-money`;return util.makeAxiosFactory(s,"POST",t.withDrawMoneyForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$q={},wheelOfFortuneModule={state:state$q,mutations:mutations$q,actions:actions$q,getters:getters$q},state$p={items:localStorage.getItem("cashman_basket")==null?[]:JSON.parse(localStorage.getItem("cashman_basket"))},getters$p={inCart:o=>t=>o.items.find(i=>i.product.id===t)&&o.items.find(i=>i.product.id===t).quantity||0,cartProducts:(o,t,s)=>o.items,cartTotalCount:(o,t)=>{if(o.items==null||o.items.length===0)return 0;let s=0;return o.items.forEach(i=>{s+=i.quantity}),s},cartTotalPrice:(o,t)=>{if(o.items==null||o.items.length===0)return 0;let s=0;return o.items.forEach(i=>{i.product&&(s+=i.product.current_price*i.quantity)}),s}},actions$p={async createCheckoutLink(o,t={deliveryForm:null}){let s=[];o.state.items.forEach(r=>{r.product&&(r.type||"product")==="product"&&s.push({id:r.product.id,type:r.type||"product",count:r.quantity||0})}),t.deliveryForm.append("products",JSON.stringify(s));let i="/bot-client/shop/checkout-link",a="POST";return util.makeAxiosFactory(i,a,t.deliveryForm).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async startCheckout(o,t={deliveryForm:null}){let s=[],i=[];o.state.items.forEach(l=>{l.product&&(l.type||"product")==="product"&&s.push({id:l.product.id,type:l.type||"product",count:l.quantity||0}),l.product&&(l.type||"product")==="collection"&&i.push({data:l.product,type:l.type||"collection",count:l.quantity||0})}),t.deliveryForm.append("products",JSON.stringify(s)),t.deliveryForm.append("collections",JSON.stringify(i));let a="/bot-client/shop/checkout-instruction",n="POST";return util.makeAxiosFactory(a,n,t.deliveryForm).then(l=>{o.commit("setCartItems",[])}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async loadActualPriceInCart(o){let t=[];return o.state.items.forEach(i=>{i.product&&(i.type||"product")==="product"&&t.push(i.product.id),i.product&&(i.type||"product")==="collection"&&(i.product.products||[]).forEach(n=>{t.indexOf(n.id)===-1&&t.push(n.id)})}),t.length===0?void 0:util.loadActualProducts(t).then(i=>{let a=i;o.state.items.forEach(n=>{n.product&&(n.type||"product")==="product"&&(n.product=a.find(r=>r.id===n.product.id)),n.product&&(n.type||"product")==="collection"&&n.product.products.forEach(r=>{const l=a.find(d=>d.id===r.id);r.current_price=l.current_price||0,r.old_price=l.old_price||0})})}).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},getProductList({state:o,commit:t}){return o.items=localStorage.getItem("vuejs__store")==null?[]:JSON.parse(localStorage.getItem("vuejs__store")),o.items},addCollectionToCart({state:o,commit:t},s){t("pushCollectionToCart",s)},addProductToCart({state:o,commit:t},s){t("pushProductToCart",s)},setQuantity({state:o,commit:t},s){t("setItemQuantity",s)},incQuantity({state:o,commit:t},s){console.log("incQuantity",s),t("incrementItemQuantity",s)},decQuantity({state:o,commit:t},s){t("decrementItemQuantity",s)},removeCollectionFromCart({state:o,commit:t},s){t("removeItem",s)},removeProduct({state:o,commit:t},s){t("removeItem",s)},clearCart({state:o,commit:t}){t("clearAllItems")}},mutations$p={pushCollectionToCart(o,t){const s=o.items.find(i=>i.product.id===t.id);s?s.quantity++:o.items.push({product:t,collection_id:t.collection_id,type:"collection",quantity:1}),localStorage.setItem("cashman_basket",JSON.stringify(o.items))},pushProductToCart(o,t){const s=o.items.find(i=>i.product.id===t.id);s?s.quantity++:o.items.push({product:t,type:"product",quantity:1}),localStorage.setItem("cashman_basket",JSON.stringify(o.items))},incrementItemQuantity(o,t){console.log("increment",t);const s=o.items.find(i=>i.product.id===t);s.quantity++,localStorage.setItem("cashman_basket",JSON.stringify(o.items))},setItemQuantity(o,t){const s=o.items.find(i=>i.product.id===t.id);s.quantity=t.quantity,localStorage.setItem("cashman_basket",JSON.stringify(o.items))},decrementItemQuantity(o,t){const s=o.items.find(i=>i.product.id===t);s.quantity>1&&s.quantity--,localStorage.setItem("cashman_basket",JSON.stringify(o.items))},removeItem(o,t){let s=o.items.filter(i=>i.product.id!==t);o.items=s,localStorage.setItem("cashman_basket",JSON.stringify(o.items))},clearAllItems(o){o.items=[],localStorage.setItem("cashman_basket",JSON.stringify(o.items))},setCartItems(o,t){o.items=t,localStorage.setItem("cashman_basket",JSON.stringify(o.items))}},cardModule$2={state:state$p,mutations:mutations$p,actions:actions$p,getters:getters$p},BASE_SELF_LINK="/bot-client";let state$o={self:null};const getters$o={getSelf:o=>o.self||null},actions$o={async switchToMainMenu(o){let t=`${BASE_SELF_LINK}/switch-to-main-menu`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadSelf(o){let t=`${BASE_SELF_LINK}/self`,s="POST";return util.makeAxiosFactory(t,s).then(a=>{let n=a.data;return o.commit("setSelf",n.data),Promise.resolve(n)}).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadManagerData(o){let t=`${BASE_SELF_LINK}/manager/load-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadFriendsWeb(o){let t=`${BASE_SELF_LINK}/manager/friends-web`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async saveManager(o,t){let s=`${BASE_SELF_LINK}/manager/register`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadBotManagerConfig(o,t={botId:null}){console.log("payload",t);let s=`${BASE_SELF_LINK}/manage-bot`,i="POST";return util.makeAxiosFactory(s,i,t).then(n=>{let r=n.data;return Promise.resolve(r)}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async loadBotAdminConfig(o){let t=`${BASE_SELF_LINK}/bot`,s="POST";return util.makeAxiosFactory(t,s).then(a=>{let n=a.data;return Promise.resolve(n)}).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$o={setSelf(o,t){o.self=t||[],localStorage.setItem("cashman_self",JSON.stringify(t))}},selfModule={state:state$o,mutations:mutations$o,actions:actions$o,getters:getters$o},state$n={favorites:localStorage.getItem("cashman_favorites")==null?[]:JSON.parse(localStorage.getItem("cashman_favorites"))},getters$n={inFav:o=>t=>o.favorites.find(i=>i.id===t)!=null,getFavorites:(o,t,s)=>o.favorites,favoritesCount:(o,t)=>o.favorites.length||0},actions$n={async loadActualPriceInFav({state:o,commit:t}){let s=[];return o.favorites.forEach(a=>{s.push(a.id)}),util.loadActualProducts(s).then(a=>{let n=a,r=[];o.favorites.forEach(d=>{r.push(n.find(c=>c.id===d.id))}),t("setFavoritesItems",r)}).catch(a=>(t("setErrors",a.response.data.errors||[]),Promise.reject(a)))},addToFavorites({state:o,commit:t},s){t("pushProductToFav",s)},removeFromFavorites({state:o,commit:t},s){t("removeProductFromFav",s)},clearFavorites({state:o,commit:t}){t("clearAllFavorites")}},mutations$n={pushProductToFav(o,t){o.favorites.find(i=>i.id===t.id)||o.favorites.push(t),localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))},removeProductFromFav(o,t){let s=o.favorites.filter(i=>i.id!==t);o.favorites=s,localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))},clearAllFavorites(o){o.favorites=[],localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))},setFavoritesItems(o,t){o.favorites=t,localStorage.setItem("cashman_favorites",JSON.stringify(o.favorites))}},cardModule$1={state:state$n,mutations:mutations$n,actions:actions$n,getters:getters$n};let state$m={};const getters$m={},actions$m={},mutations$m={},productsModule={state:state$m,mutations:mutations$m,actions:actions$m,getters:getters$m},BASE_USERS_LINK="/bot-client/users";let state$l={users:[],users_paginate_object:null};const getters$l={getUsers:o=>o.users||[],getUsersPaginateObject:o=>o.users_paginate_object||null},actions$l={async loadUsers(o,t={dataObject:{search:null},page:0,size:12}){let s=t.page||0,a=`${BASE_USERS_LINK}/search?page=${s}&size=12`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(r=>{let l=r.data;return o.commit("setUsers",l.data),delete l.data,o.commit("setUsersPaginateObject",l),Promise.resolve()}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async removeUsers(o,t={dataObject:null}){let s=`${BASE_USERS_LINK}/remove`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async addUsers(o,t={dataObject:null}){let s=`${BASE_USERS_LINK}/add`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$l={setUsers(o,t){o.users=t||[],localStorage.setItem("cashman_users",JSON.stringify(t))},setUsersPaginateObject(o,t){o.users_paginate_object=t||[],localStorage.setItem("cashman_users_paginate_object",JSON.stringify(t))}},usersModule={state:state$l,mutations:mutations$l,actions:actions$l,getters:getters$l},BASE_ACTIONS_LINK="/bot-client/actions";let state$k={actions:[],actions_paginate_object:null};const getters$k={getActions:o=>o.actions||[],getActionsPaginateObject:o=>o.actions_paginate_object||null},actions$k={async loadActions(o,t={dataObject:{search:null},page:0,size:12}){let s=t.page||0,a=`${BASE_ACTIONS_LINK}/history?page=${s}&size=12`;return util.makeAxiosFactory(a,"POST",{...t.dataObject}).then(r=>{let l=r.data;return o.commit("setActions",l.data),delete l.data,o.commit("setActionsPaginateObject",l),Promise.resolve()}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async removeActions(o,t={dataObject:null}){let s=`${BASE_ACTIONS_LINK}/remove`;return util.makeAxiosFactory(s,"POST",{...t.dataObject}).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$k={setActions(o,t){o.actions=t||[],localStorage.setItem("cashman_actions",JSON.stringify(t))},setActionsPaginateObject(o,t){o.actions_paginate_object=t||[],localStorage.setItem("cashman_actions_paginate_object",JSON.stringify(t))}},actionsModule={state:state$k,mutations:mutations$k,actions:actions$k,getters:getters$k};let state$j={...productsModule.state,...usersModule.state,...actionsModule.state};const getters$j={...productsModule.getters,...usersModule.getters,...actionsModule.getters},actions$j={...productsModule.actions,...usersModule.actions,...actionsModule.actions,async updateProductsFromVk(o){let t="/bot-client/vk-auth-link";return util$1.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))}},mutations$j={...productsModule.mutations,...usersModule.mutations,...actionsModule.mutations},shopAdminModule={state:state$j,mutations:mutations$j,actions:actions$j,getters:getters$j},BASE_COMPANIES_LINK="/bot-client/companies";let state$i={company:null,companies:[],locations:[],companies_paginate_object:null};const getters$i={getLocations:o=>o.locations||[],getCompany:o=>o.company||null,getCompanies:o=>o.companies||[],getCompanyById:o=>t=>o.companies.find(s=>s.id===t),getCompaniesPaginateObject:o=>o.companies_paginate_object||null},actions$i={async removeManagerCompany(o,t={companyId:null}){let s=`${BASE_COMPANIES_LINK}/${t.companyId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadManagersCompanies(o,t={page:0,size:50}){let s=t.page||0,i=t.size||50,a={...t},n=`${BASE_COMPANIES_LINK}/manager-companies-list?page=${s}&size=${i}`,r="POST";return util.makeAxiosFactory(n,r,a).then(d=>{let c=d.data;return o.commit("setCompanies",c.data),delete c.data,o.commit("setCompaniesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadCompanies(o,t={page:0,size:50}){let s=t.page||0,i=t.size||50,a={...t},n=`${BASE_COMPANIES_LINK}?page=${s}&size=${i}`,r="POST";return util.makeAxiosFactory(n,r,a).then(d=>{let c=d.data;return o.commit("setCompanies",c.data),delete c.data,o.commit("setCompaniesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async updateCompany(o,t={companyForm:null}){let s=`${BASE_COMPANIES_LINK}/company-update`;return util.makeAxiosFactory(s,"POST",t.companyForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadCompany(o){let t=`${BASE_COMPANIES_LINK}/company`,s="POST";return util.makeAxiosFactory(t,s).then(a=>{let n=a.data;return o.commit("setCompany",n.data),Promise.resolve()}).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadLocationsByCompany(o){let t=`${BASE_COMPANIES_LINK}/location-list`;return util.makeAxiosFactory(t,"POST").then(i=>{let a=i.data;return o.commit("setLocations",a.data),delete a.data,Promise.resolve()}).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async createLocation(o,t={locationForm:null}){let s=`${BASE_COMPANIES_LINK}/location`;return util.makeAxiosFactory(s,"POST",t.locationForm).then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$i={setCompany(o,t){o.company=t||[],localStorage.setItem("cashman_current_company",JSON.stringify(t))},setCompanies(o,t){o.companies=t||[],localStorage.setItem("cashman_companies",JSON.stringify(t))},setLocations(o,t){o.locations=t||[],localStorage.setItem("cashman_locations",JSON.stringify(t))},setCompaniesPaginateObject(o,t){o.companies_paginate_object=t||[],localStorage.setItem("cashman_companies_paginate_object",JSON.stringify(t))}},companiesModule={state:state$i,mutations:mutations$i,actions:actions$i,getters:getters$i},state$h={watches:localStorage.getItem("cashman_watches")==null?[]:JSON.parse(localStorage.getItem("cashman_watches"))},getters$h={inWatch:o=>t=>o.watches.find(i=>i.id===t)!=null,getWatches:(o,t,s)=>o.watches,watchesCount:(o,t)=>o.watches.length||0},actions$h={addToWatch({state:o,commit:t},s){t("pushProductToWatch",s)}},mutations$h={pushProductToWatch(o,t){o.watches.find(i=>i.id===t.id)||o.watches.push(t),localStorage.setItem("cashman_watches",JSON.stringify(o.watches))}},cardModule={state:state$h,mutations:mutations$h,actions:actions$h,getters:getters$h},BASE_PAGES_LINK="/bot-client/pages";let state$g={pages:[],pages_paginate_object:null};const getters$g={getPages:o=>o.pages||[],getPagesPaginateObject:o=>o.pages_paginate_object||null},actions$g={async loadPages(o,t={dataObject:{search:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,a=t.size||12,n=`${BASE_PAGES_LINK}?page=${i}&size=${a}`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setPages",c.data),delete c.data,o.commit("setPagesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async activatePassword(o,t={passwordForm:null}){let s=`${BASE_PAGES_LINK}/activate-page-password`;return util.makeAxiosFactory(s,"POST",t.passwordForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updatePage(o,t={pageForm:null}){let s=`${BASE_PAGES_LINK}/page-update`;return util.makeAxiosFactory(s,"POST",t.pageForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async duplicatePage(o,t={dataObject:{pageId:null}}){let s=`${BASE_PAGES_LINK}/duplicate/${t.dataObject.pageId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removePage(o,t={dataObject:{pageId:null}}){let s=`${BASE_PAGES_LINK}/remove/${t.dataObject.pageId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async createPage(o,t={pageForm:null}){let s=`${BASE_PAGES_LINK}/page`;return util.makeAxiosFactory(s,"POST",t.pageForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$g={setPages(o,t){o.pages=t||[],localStorage.setItem("cashman_pages",JSON.stringify(t))},setPagesPaginateObject(o,t){o.pages_paginate_object=t||[],localStorage.setItem("cashman_pages_paginate_object",JSON.stringify(t))}},pagesModule={state:state$g,mutations:mutations$g,actions:actions$g,getters:getters$g},BASE_BOTS_LINK="/bot-client/bots";let state$f={bots:[],bots_paginate_object:null};const getters$f={getBots:o=>o.bots||[],getBotsPaginateObject:o=>o.bots_paginate_object||null},actions$f={async loadCurrentBotFields(o){let t=`${BASE_BOTS_LINK}/load-fields`,s="GET";return util.makeAxiosFactory(t,s).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeMessageSettings(o,t={dataObject:null}){let s=`${BASE_BOTS_LINK}/store-message-settings`,i="POST",a=t.dataObject;return util.makeAxiosFactory(s,i,a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async storeBotFields(o,t={dataObject:null}){let s=`${BASE_BOTS_LINK}/store-fields`,i="POST",a=t.dataObject;return util.makeAxiosFactory(s,i,a).then(r=>Promise.resolve(r.data)).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async createBotLazy(o,t={botForm:null}){let s=`${BASE_BOTS_LINK}/bot-lazy`;return util.makeAxiosFactory(s,"POST",t.botForm).then(a=>(console.log("response from state=>",a),Promise.resolve(a.data))).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},updateShopLink(o,t={botForm:null}){let s=`${BASE_BOTS_LINK}/update-shop-link`;return util.makeAxiosFactory(s,"POST",t.botForm).then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async switchBotStatusManager(o,t={botId:null}){let s=`${BASE_BOTS_LINK}/manager-switch-status`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async switchBotStatus(o){let t=`${BASE_BOTS_LINK}/switch-status`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async removeKeyboardTemplate(o,t={templateId:null}){let s=`${BASE_BOTS_LINK}/remove-keyboard-template/${t.templateId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async createKeyboardTemplate(o,t={keyboardForm:null}){let s=`${BASE_BOTS_LINK}/keyboard-template`;return util.makeAxiosFactory(s,"POST",t.keyboardForm).then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async editKeyboardTemplate(o,t={keyboardForm:null}){let s=`${BASE_BOTS_LINK}/edit-keyboard-template`;return util.makeAxiosFactory(s,"POST",t.keyboardForm).then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadBotKeyboards(o){let t=`${BASE_BOTS_LINK}/keyboards`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadSimpleBots(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_BOTS_LINK}/simple-bot-list?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setBots",c.data),delete c.data,o.commit("setBotsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async updateBotByManager(o,t={botForm:null}){let s=`${BASE_BOTS_LINK}/manager-bot-update`;return util.makeAxiosFactory(s,"POST",t.botForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updateBotParams(o,t={botForm:null}){let s=`${BASE_BOTS_LINK}/bot-params-update`;return util.makeAxiosFactory(s,"POST",t.botForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updateBot(o,t={botForm:null}){let s=`${BASE_BOTS_LINK}/bot-update`;return util.makeAxiosFactory(s,"POST",t.botForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async syncAmo(o,t={dataObject:null}){let s=`${BASE_BOTS_LINK}/sync-amo`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadAmoFields(o,t={dataObject:null}){let s=`${BASE_BOTS_LINK}/load-amo-fields`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async saveYClients(o,t={yClientsForm:null}){let s=`${BASE_BOTS_LINK}/save-y-clients`;return util.makeAxiosFactory(s,"POST",t.yClientsForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async saveAmoCRM(o,t={amoForm:null}){let s=`${BASE_BOTS_LINK}/save-amo`;return util.makeAxiosFactory(s,"POST",t.amoForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async duplicateBot(o,t={dataObject:{bot_id:null,company_id:null}}){let s=`${BASE_BOTS_LINK}/duplicate`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeBotByManager(o,t={botId:null}){let s=`${BASE_BOTS_LINK}/remove-my-manager/${t.botId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeBot(o,t={botId:null}){let s=`${BASE_BOTS_LINK}/${t.botId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async restoreBot(o,t={botId:null}){let s=`${BASE_BOTS_LINK}/restore/${t.botId}`;return util.makeAxiosFactory(s,"GET").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadImageMenus(o){let t=`${BASE_BOTS_LINK}/image-menu`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadBotSlugs(o,t={isGlobal:!1}){let s={is_global:t.isGlobal||!1},i=`${BASE_BOTS_LINK}/slugs`;return util.makeAxiosFactory(i,"POST",s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))}},mutations$f={setBots(o,t){o.bots=t||[],localStorage.setItem("cashman_bots",JSON.stringify(t))},setBotsPaginateObject(o,t){o.bots_paginate_object=t||[],localStorage.setItem("cashman_bots_paginate_object",JSON.stringify(t))}},botsModule={state:state$f,mutations:mutations$f,actions:actions$f,getters:getters$f},BASE_DIALOGS_LINK="/bot-client/dialogs";let state$e={dialogs:[],dialogs_paginate_object:null};const getters$e={getDialogs:o=>o.dialogs||[],getDialogCommands:o=>o.dialogs||[],getDialogsPaginateObject:o=>o.dialogs_paginate_object||null},actions$e={async loadDialogs(o,t={dataObject:{search:null,simple:!1},page:0,size:12}){let s={...t.dataObject},i=t.page||0,n=`${BASE_DIALOGS_LINK}?page=${i}&size=12`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setDialogs",c.data),delete c.data,o.commit("setDialogsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async updateDialogGroup(o,t={dialogGroupForm:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/update-group`;return util.makeAxiosFactory(s,"POST",t.dialogGroupForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updateDialogCommand(o,t={dialogCommandForm:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/update-dialog`;return util.makeAxiosFactory(s,"POST",t.dialogCommandForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeDialogGroup(o,t={dataObject:{dialogGroupId:null}}){let s=`${BASE_DIALOG_GROUPS_LINK}/remove-group/${t.dataObject.dialogGroupId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeDialogCommand(o,t={dataObject:{dialogCommandId:null}}){let s=`${BASE_DIALOG_GROUPS_LINK}/remove-dialog/${t.dataObject.dialogCommandId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async createDialogGroup(o,t={dialogGroupForm:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/add-group`;return util.makeAxiosFactory(s,"POST",t.dialogGroupForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async swapDialogCommand(o,t={swapForm:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/swap-dialog`;return util.makeAxiosFactory(s,"POST",t.swapForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async unlinkDialogCommand(o,t={dataObject:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/unlink-dialog`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async swapDialogGroup(o,t={swapForm:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/swap-group`;return util.makeAxiosFactory(s,"POST",t.swapForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async stopDialogs(o){let t=`${BASE_DIALOG_GROUPS_LINK}/stop-dialogs`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async createDialogCommand(o,t={dialogCommandForm:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/add-dialog`;return util.makeAxiosFactory(s,"POST",t.dialogCommandForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async duplicateDialogCommand(o,t={dataObject:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/duplicate-dialog`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async attachDialogCommandToSlug(o,t={dataObject:null}){let s=`${BASE_DIALOG_GROUPS_LINK}/attach-dialog-to-slug`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$e={setDialogs(o,t){o.dialogs=t||[],localStorage.setItem("cashman_dialogs",JSON.stringify(t))},setDialogsPaginateObject(o,t){o.dialogs_paginate_object=t||[],localStorage.setItem("cashman_dialogs_paginate_object",JSON.stringify(t))}},dialogGroupsModule$1={state:state$e,mutations:mutations$e,actions:actions$e,getters:getters$e},BASE_SLUGS_LINK="/bot-client/slugs";let state$d={slugs:[],global_slugs:[],slugs_paginate_object:null,global_slugs_paginate_object:null};const getters$d={getSlugs:o=>o.slugs||[],getGlobalSlugs:o=>o.global_slugs||[],getSlugById:o=>t=>o.slugs.find(s=>s.id===t),getSlugsPaginateObject:o=>o.slugs_paginate_object||null,getGlobalSlugsPaginateObject:o=>o.global_slugs_paginate_object||null},actions$d={async updateScriptParams(o,t={slugForm:null}){let s=`${BASE_SLUGS_LINK}/slug-script-params`;return util.makeAxiosFactory(s,"POST",t.slugForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadGlobalSlugs(o,t={dataObject:{search:null,needGlobal:!0},page:0,size:12}){let s=t.page||0,a=`${BASE_SLUGS_LINK}/global-list?page=${s}&size=12`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setGlobalSlugs",c.data),delete c.data,o.commit("setGlobalSlugsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadSlugs(o,t={dataObject:{botId:null,search:null,needGlobal:!1},page:0,size:12}){let s=t.page||0,i=t.size||12,a=`${BASE_SLUGS_LINK}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setSlugs",c.data),delete c.data,console.log("dataObject"),o.commit("setSlugsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async updateSlug(o,t={slugForm:null}){let s=`${BASE_SLUGS_LINK}/slug-update`;return util.makeAxiosFactory(s,"POST",t.slugForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async duplicateSlug(o,t={dataObject:{slugId:null}}){let s=`${BASE_SLUGS_LINK}/duplicate/${t.dataObject.slugId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeSlug(o,t={dataObject:{slugId:null}}){let s=`${BASE_SLUGS_LINK}/${t.dataObject.slugId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async refreshSlugParams(o,t={dataObject:{slugId:null}}){let s=`${BASE_SLUGS_LINK}/reload-params/${t.dataObject.slugId}`;return util.makeAxiosFactory(s,"GET").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async createSlug(o,t={slugForm:null}){let s=`${BASE_SLUGS_LINK}/slug`;return util.makeAxiosFactory(s,"POST",t.slugForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$d={setSlugs(o,t){o.slugs=t||[],localStorage.setItem("cashman_slugs",JSON.stringify(t))},setSlugsPaginateObject(o,t){o.slugs_paginate_object=t||[],localStorage.setItem("cashman_slugs_paginate_object",JSON.stringify(t))},setGlobalSlugs(o,t){o.global_slugs=t||[],localStorage.setItem("cashman_global_slugs",JSON.stringify(t))},setGlobalSlugsPaginateObject(o,t){o.global_slugs_paginate_object=t||[],localStorage.setItem("cashman_global_slugs_paginate_object",JSON.stringify(t))}},slugsModule={state:state$d,mutations:mutations$d,actions:actions$d,getters:getters$d},BASE_BOT_USERS_LINK="/bot-client/bot-users";let state$c={bot_users:[],bot_users_paginate_object:null};const getters$c={getBotUsers:o=>o.bot_users||[],getBotUserById:o=>t=>o.bot_users.find(s=>s.id===t),getBotUsersPaginateObject:o=>o.bot_users_paginate_object||null},actions$c={async getUserProfilePhotos(o){let t=`${BASE_BOT_USERS_LINK}/get-user-profile-photos`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async loadBotUsers(o,t={dataObject:{search:null},page:0,size:12}){let s=t.page||0,a=`${BASE_BOT_USERS_LINK}?page=${s}&size=12`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setBotUsers",c.data),delete c.data,o.commit("setBotUsersPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async updateProfile(o,t={botUserForm:null}){let s=`${BASE_BOT_USERS_LINK}/update-profile`;return util.makeAxiosFactory(s,"POST",t.botUserForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updateBotUser(o,t={botUserForm:null}){let s=`${BASE_BOT_USERS_LINK}/update-bot-user`;return util.makeAxiosFactory(s,"POST",t.botUserForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeBotUser(o,t={dataObject:{dialogGroupId:null}}){let s=`${BASE_BOT_USERS_LINK}/remove-group/${t.dataObject.dialogGroupId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async createBotUser(o,t={dialogGroupForm:null}){let s=`${BASE_BOT_USERS_LINK}/add-group`;return util.makeAxiosFactory(s,"POST",t.dialogGroupForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$c={setBotUsers(o,t){o.bot_users=t||[],localStorage.setItem("cashman_bot_users",JSON.stringify(t))},setBotUsersPaginateObject(o,t){o.bot_users_paginate_object=t||[],localStorage.setItem("cashman_bot_users_paginate_object",JSON.stringify(t))}},dialogGroupsModule={state:state$c,mutations:mutations$c,actions:actions$c,getters:getters$c},BASE_MEDIA_LINK="/bot-client/media";let state$b={media:[],media_paginate_object:null};const getters$b={getMedia:o=>o.media||[],getMediaPaginateObject:o=>o.media_paginate_object||null},actions$b={async showMediaPreview(o,t={dataObject:{mediaId:null}}){let s=`${BASE_MEDIA_LINK}/preview/${t.dataObject.mediaId}`;return util.makeAxiosFactory(s,"GET").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadMedia(o,t={dataObject:{search:null,needPhoto:!1,needVideo:!1,needVideoNote:!1},page:0,size:12}){let s=t.page||0,i=t.size||12,a=`${BASE_MEDIA_LINK}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setMedia",c.data),delete c.data,o.commit("setMediaPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async removeMedia(o,t={dataObject:{mediaId:null}}){let s=`${BASE_MEDIA_LINK}/remove/${t.dataObject.mediaId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$b={setMedia(o,t){o.media=t||[],localStorage.setItem("cashman_media",JSON.stringify(t))},setMediaPaginateObject(o,t){o.media_paginate_object=t||[],localStorage.setItem("cashman_media_paginate_object",JSON.stringify(t))}},mediaModule={state:state$b,mutations:mutations$b,actions:actions$b,getters:getters$b},BASE_QUIZ_LINK="/bot-client/quizzes";let state$a={quizzes:[],quiz_questions:[],quiz_commands:[],quiz_results:[],quizzes_paginate_object:null,quiz_questions_paginate_object:null,quiz_commands_paginate_object:null,quiz_results_paginate_object:null};const getters$a={getQuizzes:o=>o.quizzes||[],getQuizResults:o=>o.quiz_results||[],getQuizQuestions:o=>o.quiz_questions||[],getQuizCommands:o=>o.quiz_commands||[],getQuizById:o=>t=>o.quizzes.find(s=>s.id===t),getQuizzesPaginateObject:o=>o.quizzes_paginate_object||null,getQuizResultsPaginateObject:o=>o.quiz_results_paginate_object||null,getQuizQuestionsPaginateObject:o=>o.quiz_questions_paginate_object||null,getQuizCommandsPaginateObject:o=>o.quiz_commands_paginate_object||null},actions$a={async loadQuizCommands(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_QUIZ_LINK}/list-of-quiz-commands/${t.dataObject.quiz_id}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setQuizCommands",c.data),delete c.data,o.commit("setQuizCommandsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async checkAndCompleteFullQuiz(o,t={quizQuestionId:null,answers:null}){let s=`${BASE_QUIZ_LINK}/check-all-answers`,i="POST";return util.makeAxiosFactory(s,i,t).then(n=>{let r=n.data;return Promise.resolve(r)}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async checkQuizQuestionAnswer(o,t={quizQuestionId:null,answers:null}){let s=`${BASE_QUIZ_LINK}/check-answer`,i="POST";return util.makeAxiosFactory(s,i,t).then(n=>{let r=n.data;return Promise.resolve(r)}).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async loadQuizQuestions(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_QUIZ_LINK}/list-of-quiz-questions/${t.dataObject.quiz_id}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setQuizQuestions",c.data),delete c.data,o.commit("setQuizQuestionsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadQuizzes(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_QUIZ_LINK}/list-of-quiz?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setQuizzes",c.data),delete c.data,o.commit("setQuizzesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadQuizResults(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_QUIZ_LINK}/list-of-results?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setQuizResults",c.data),delete c.data,o.commit("setQuizResultsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async storeQuizQuestion(o,t={quizQuestionForm:null}){let s=`${BASE_QUIZ_LINK}/quiz-question-store`;return util.makeAxiosFactory(s,"POST",t.quizQuestionForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async completeQuiz(o,t={quiz_id:null}){let s=`${BASE_QUIZ_LINK}/quiz-complete`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async startQuiz(o,t={quiz_id:null}){let s=`${BASE_QUIZ_LINK}/start-quiz`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadSingleQuiz(o,t={quiz_id:null}){let s=`${BASE_QUIZ_LINK}/load-single-quiz`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async checkQuizCommand(o,t={quiz_id:null}){let s=`${BASE_QUIZ_LINK}/check-quiz-command`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeQuizCommand(o,t={quizCommandForm:null}){let s=`${BASE_QUIZ_LINK}/quiz-command-store`;return util.makeAxiosFactory(s,"POST",t.quizCommandForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeQuiz(o,t={quizForm:null}){let s=`${BASE_QUIZ_LINK}/quiz-store`;return util.makeAxiosFactory(s,"POST",t.quizForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeQuiz(o,t={quizId:null}){let s=`${BASE_QUIZ_LINK}/remove-quiz/${t.quizId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeQuizCommand(o,t={quizCommandId:null}){let s=`${BASE_QUIZ_LINK}/remove-quiz-command/${t.quizCommandId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeQuizAnswer(o,t={quizAnswerId:null}){let s=`${BASE_QUIZ_LINK}/remove-quiz-answer/${t.quizAnswerId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeQuizQuestion(o,t={quizQuestionId:null}){let s=`${BASE_QUIZ_LINK}/remove-quiz-question/${t.quizQuestionId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async restoreQuiz(o,t={quizId:null}){let s=`${BASE_QUIZ_LINK}/restore-quiz/${t.quizId}`;return util.makeAxiosFactory(s,"GET").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$a={setQuizzes(o,t){o.quizzes=t||[],localStorage.setItem("cashman_quizzes",JSON.stringify(t))},setQuizQuestions(o,t){o.quiz_questions=t||[],localStorage.setItem("cashman_quiz_questions",JSON.stringify(t))},setQuizCommands(o,t){o.quiz_commands=t||[],localStorage.setItem("cashman_quiz_commands",JSON.stringify(t))},setQuizResults(o,t){o.quiz_results=t||[],localStorage.setItem("cashman_quiz_results",JSON.stringify(t))},setQuizResultsPaginateObject(o,t){o.quiz_results_paginate_object=t||[],localStorage.setItem("cashman_quiz_results_paginate_object",JSON.stringify(t))},setQuizzesPaginateObject(o,t){o.quizzes_paginate_object=t||[],localStorage.setItem("cashman_quizzes_paginate_object",JSON.stringify(t))},setQuizQuestionsPaginateObject(o,t){o.quiz_questions_paginate_object=t||[],localStorage.setItem("cashman_quiz_questions_paginate_object",JSON.stringify(t))},setQuizCommandsPaginateObject(o,t){o.quiz_commands_paginate_object=t||[],localStorage.setItem("cashman_quiz_commands_paginate_object",JSON.stringify(t))}},quizModule={state:state$a,mutations:mutations$a,actions:actions$a,getters:getters$a},BASE_PROFILE_FORM_LINK="/bot-client/profile-form";let state$9={};const getters$9={},actions$9={async loadProfileFormData(o){let t=`${BASE_PROFILE_FORM_LINK}/load-profile-data`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async saveProfileFormData(o,t={dataObject:null}){let s=`${BASE_PROFILE_FORM_LINK}/store-profile-data`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$9={},cashbackModule={state:state$9,mutations:mutations$9,actions:actions$9,getters:getters$9},BASE_APPOINTMENTS_LINK="/bot-client/appointments";let state$8={appointments:[],appointment_events:[],appointment_services:[],appointment_schedules:[],appointment_reviews:[],appointment_paginate_object:null,appointment_services_paginate_object:null,appointment_events_paginate_object:null,appointment_schedules_paginate_object:null,appointment_reviews_paginate_object:null};const getters$8={getAppointments:o=>o.appointments||[],getAppointmentEvents:o=>o.appointment_events||[],getAppointmentServices:o=>o.appointment_services||[],getAppointmentSchedules:o=>o.appointment_schedules||[],getAppointmentReviews:o=>o.appointment_reviews||[],getAppointmentsPaginateObject:o=>o.appointment_paginate_object||null,getAppointmentEventsPaginateObject:o=>o.appointment_events_paginate_object||null,getAppointmentSchedulesPaginateObject:o=>o.appointment_schedules_paginate_object||null,getAppointmentServicesPaginateObject:o=>o.appointment_services_paginate_object||null,getAppointmentReviewsPaginateObject:o=>o.appointment_reviews_paginate_object||null},actions$8={async loadAppointments(o,t={dataObject:{search:null},page:0,size:12}){let s=t.page||0,i=t.size||12,a=`${BASE_APPOINTMENTS_LINK}/appointment-list/${t.dataObject.event_id}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setAppointments",c.data),delete c.data,o.commit("setAppointmentsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadAppointmentEvents(o,t={dataObject:{search:null},page:0,size:12}){let s=t.page||0,i=t.size||12,a=`${BASE_APPOINTMENTS_LINK}/event-list?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setAppointmentEvents",c.data),delete c.data,o.commit("setAppointmentEventsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadAppointmentReviews(o,t={dataObject:{search:null},page:0,size:12}){let s=t.page||0,i=t.size||12,a=`${BASE_APPOINTMENTS_LINK}/review-list/${t.dataObject.event_id}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setAppointmentReviews",c.data),delete c.data,o.commit("setAppointmentReviewsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadAppointmentSchedules(o,t={dataObject:{event_id:null},page:0,size:10}){let s=`${BASE_APPOINTMENTS_LINK}/schedule-list/${t.dataObject.event_id}?page=${t.page||0}&size=${t.size||10}`,i="POST",a=t.dataObject;return util.makeAxiosFactory(s,i,a).then(r=>{let l=r.data;return o.commit("setAppointmentSchedules",l.data),delete l.data,o.commit("setAppointmentSchedulesPaginateObject",l),Promise.resolve()}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async loadAppointmentServices(o,t={dataObject:{event_id:null,search:null},page:0,size:12}){let s=t.page||0,i=t.size||12,a=`${BASE_APPOINTMENTS_LINK}/service-list/${t.dataObject.event_id}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setAppointmentServices",c.data),delete c.data,o.commit("setAppointmentServicesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadAppointmentServiceCategories(o,t={dataObject:{event_id:null}}){let s=`${BASE_APPOINTMENTS_LINK}/service-category-list/${t.dataObject.event_id}`,i="POST",a=t.dataObject;return util.makeAxiosFactory(s,i,a).then(r=>{let l=r.data;return Promise.resolve(l)}).catch(r=>(o.commit("setErrors",r.response.data.errors||[]),Promise.reject(r)))},async addAppointmentEvent(o,t={appointmentEventForm:null}){let s=`${BASE_APPOINTMENTS_LINK}/add-event`;return util.makeAxiosFactory(s,"POST",t.appointmentEventForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async addAppointmentService(o,t={appointmentServiceForm:null}){let s=`${BASE_APPOINTMENTS_LINK}/add-service`;return util.makeAxiosFactory(s,"POST",t.appointmentServiceForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeAppointment(o,t={dataObject:{appointmentForm:null}}){let s=`${BASE_APPOINTMENTS_LINK}/store-appointment`;return util.makeAxiosFactory(s,"POST",t.dataObject.appointmentForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeAppointmentSchedule(o,t={dataObject:{schedule:null,bot_id:null,appointment_event_id:null}}){let s=`${BASE_APPOINTMENTS_LINK}/store-schedule`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeAppointmentReview(o,t={dataObject:{appointmentReviewForm:null}}){let s=`${BASE_APPOINTMENTS_LINK}/store-review`;return util.makeAxiosFactory(s,"POST",t.dataObject.appointmentReviewForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updateAppointmentService(o,t={appointmentServiceForm:null}){let s=`${BASE_APPOINTMENTS_LINK}/update-service`;return util.makeAxiosFactory(s,"POST",t.appointmentServiceForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async updateAppointmentEvent(o,t={appointmentEventForm:null}){let s=`${BASE_APPOINTMENTS_LINK}/update-event`;return util.makeAxiosFactory(s,"post",t.appointmentEventForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async duplicateAppointmentEvent(o,t={dataObject:{appointmentEventId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/duplicate-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAppointment(o,t={dataObject:{appointmentId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/remove-appointment/${t.dataObject.appointmentId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAppointmentReview(o,t={dataObject:{appointmentReviewId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/remove-review/${t.dataObject.appointmentReviewId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAppointmentSchedule(o,t={dataObject:{appointmentScheduleId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/remove-schedule/${t.dataObject.appointmentScheduleId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAppointmentEvent(o,t={dataObject:{appointmentEventId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/remove-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeAppointmentService(o,t={dataObject:{appointmentServiceId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/remove-service/${t.dataObject.appointmentServiceId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async forceRemoveAppointment(o,t={dataObject:{appointmentEventId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/force-remove-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async restoreAppointmentEvent(o,t={dataObject:{appointmentEventId:null}}){let s=`${BASE_APPOINTMENTS_LINK}/restore-event/${t.dataObject.appointmentEventId}`;return util.makeAxiosFactory(s,"GET").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$8={setAppointments(o,t){o.appointments=t||[],localStorage.setItem("cashman_appointments",JSON.stringify(t))},setAppointmentEvents(o,t){o.appointment_events=t||[],localStorage.setItem("cashman_appointment_events",JSON.stringify(t))},setAppointmentServices(o,t){o.appointment_services=t||[],localStorage.setItem("cashman_appointment_services",JSON.stringify(t))},setAppointmentReviews(o,t){o.appointment_reviews=t||[],localStorage.setItem("cashman_appointment_reviews",JSON.stringify(t))},setAppointmentSchedules(o,t){o.appointment_schedules=t||[],localStorage.setItem("cashman_appointment_schedules",JSON.stringify(t))},setAppointmentsPaginateObject(o,t){o.appointments_paginate_object=t||[],localStorage.setItem("cashman_appointments_paginate_object",JSON.stringify(t))},setAppointmentReviewsPaginateObject(o,t){o.appointment_reviews_paginate_object=t||[],localStorage.setItem("cashman_appointment_reviews_paginate_object",JSON.stringify(t))},setAppointmentEventsPaginateObject(o,t){o.appointment_events_paginate_object=t||[],localStorage.setItem("cashman_appointment_events_paginate_object",JSON.stringify(t))},setAppointmentServicesPaginateObject(o,t){o.appointment_services_paginate_object=t||[],localStorage.setItem("cashman_appointment_services_paginate_object",JSON.stringify(t))},setAppointmentSchedulesPaginateObject(o,t){o.appointment_schedules_paginate_object=t||[],localStorage.setItem("cashman_appointment_schedules_paginate_object",JSON.stringify(t))}},appointmentsModule={state:state$8,mutations:mutations$8,actions:actions$8,getters:getters$8},BASE_PROVIDERS_LINK="/bot-client/payments";let state$7={providers:[]};const getters$7={getProviders:o=>o.providers||[]},actions$7={async loadProviders(o){let t=`${BASE_PROVIDERS_LINK}/providers`,s="GET";return util.makeAxiosFactory(t,s).then(a=>{let n=a.data;return o.commit("setProviders",n),Promise.resolve()}).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$7={setProviders(o,t){o.providers=t||[],localStorage.setItem("cashman_providers",JSON.stringify(t))}},paymentsModule={state:state$7,mutations:mutations$7,actions:actions$7,getters:getters$7},BASE_PROMOCODES_LINK="/bot-client/promocodes";let state$6={promo_codes:[],promo_codes_paginate_object:null};const getters$6={getPromoCodes:o=>o.promo_codes||[],getPromoCodesPaginateObject:o=>o.promo_codes_paginate_object||null},actions$6={async activatePromocode(o,t={promocodeForm:null}){let s=`${BASE_PROMOCODES_LINK}/activate`;return util.makeAxiosFactory(s,"POST",t.promocodeForm).then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async activateShopDiscountPromocode(o,t={promocodeForm:null}){let s=`${BASE_PROMOCODES_LINK}/activate-shop-discount`;return util.makeAxiosFactory(s,"POST",t.promocodeForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadPromoCodes(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_PROMOCODES_LINK}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setPromoCodes",c.data),delete c.data,o.commit("setPromoCodesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async storePromoCodes(o,t={promoCodeForm:null}){let s=`${BASE_PROMOCODES_LINK}/store`;return util.makeAxiosFactory(s,"POST",t.promoCodeForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removePromoCodes(o,t={promoCodeId:null}){let s=`${BASE_PROMOCODES_LINK}/${t.promoCodeId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$6={setPromoCodes(o,t){o.promo_codes=t||[],localStorage.setItem("cashman_promo_codes",JSON.stringify(t))},setPromoCodesPaginateObject(o,t){o.promo_codes_paginate_object=t||[],localStorage.setItem("cashman_promo_codes_paginate_object",JSON.stringify(t))}},promocodesModule={state:state$6,mutations:mutations$6,actions:actions$6,getters:getters$6},BASE_ORDERS_LINK="/bot-client/shop/orders";let state$5={orders:[],orders_paginate_object:null};const getters$5={getOrders:o=>o.orders||[],getOrderById:o=>t=>o.orders.find(s=>s.id===t),getOrdersPaginateObject:o=>o.orders_paginate_object||null},actions$5={async declineOrder(o,t={dataObject:{order_id:null}}){let s=`${BASE_ORDERS_LINK}/decline-order`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async addCashBackToOrder(o,t={order_id:null}){let s=`${BASE_ORDERS_LINK}/add-cashback-to-order`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async requestDeliveryPrice(o,t){let s=`${BASE_ORDERS_LINK}/get-delivery-price`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadAllOrders(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,n=`${BASE_ORDERS_LINK}/all?page=${i}&size=20`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setOrders",c.data),delete c.data,o.commit("setOrdersPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadOrders(o,t={dataObject:{search:null,categories:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,n=`${BASE_ORDERS_LINK}?page=${i}&size=20`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setOrders",c.data),delete c.data,o.commit("setOrdersPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async repeatOrder(o,t){let s=`${BASE_ORDERS_LINK}/repeat-order`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadOrderById(o,t={dataObject:{order_id:null}}){let s=`${BASE_ORDERS_LINK}/get-order-by-id`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async changeOrderStatus(o,t={dataObject:{status:null}}){let s=`${BASE_ORDERS_LINK}/change-order-status`;return util.makeAxiosFactory(s,"POST",t.dataObject).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$5={setOrders(o,t){o.orders=t||[],localStorage.setItem("cashman_orders",JSON.stringify(t))},setOrdersPaginateObject(o,t){o.orders_paginate_object=t||[],localStorage.setItem("cashman_orders_paginate_object",JSON.stringify(t))}},ordersModule={state:state$5,mutations:mutations$5,actions:actions$5,getters:getters$5},BASE_REVIEWS_LINK="/bot-client/shop/reviews";let state$4={reviews:[],reviews_paginate_object:null};const getters$4={getReviews:o=>o.reviews||[],getReviewById:o=>t=>o.reviews.find(s=>s.id===t),getReviewsPaginateObject:o=>o.reviews_paginate_object||null},actions$4={async notifyUserForReview(o,t={reviewForm:null}){let s=`${BASE_REVIEWS_LINK}/notify-user`;return util.makeAxiosFactory(s,"POST",t.reviewForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeReview(o,t={reviewForm:null}){let s=`${BASE_REVIEWS_LINK}/store-review`;return util.makeAxiosFactory(s,"POST",t.reviewForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadReviews(o,t={dataObject:null,page:0,size:12}){let s=t.page||0,i=t.size||20,a=`${BASE_REVIEWS_LINK}?page=${s}&size=${i}`,n="POST";return util.makeAxiosFactory(a,n,t.dataObject).then(l=>{let d=l.data;return o.commit("setReviews",d.data),delete d.data,o.commit("setReviewsPaginateObject",d),Promise.resolve()}).catch(l=>(o.commit("setErrors",l.response.data.errors||[]),Promise.reject(l)))},async loadReviewsByProductId(o,t={dataObject:{product_id:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,a=t.size||20,n=`${BASE_REVIEWS_LINK}/by-product-id?page=${i}&size=${a}`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setReviews",c.data),delete c.data,o.commit("setReviewsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))}},mutations$4={setReviews(o,t){o.reviews=t||[],localStorage.setItem("cashman_reviews",JSON.stringify(t))},setReviewsPaginateObject(o,t){o.reviews_paginate_object=t||[],localStorage.setItem("cashman_reviews_paginate_object",JSON.stringify(t))}},reviewsModule={state:state$4,mutations:mutations$4,actions:actions$4,getters:getters$4},BASE_QUEUE_LINK="/bot-client/mailing";let state$3={queues:[],queues_paginate_object:null};const getters$3={getQueues:o=>o.queues||[],getQueuesPaginateObject:o=>o.queues_paginate_object||null},actions$3={async loadQueues(o,t={dataObject:null,page:0,size:50}){let s=t.page||0,i=t.size||50,a=`${BASE_QUEUE_LINK}?page=${s}&size=${i}`,n="POST",r=t.dataObject;return util.makeAxiosFactory(a,n,r).then(d=>{let c=d.data;return o.commit("setQueues",c.data),delete c.data,o.commit("setQueuesPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async storeQueue(o,t={queueForm:null}){let s=`${BASE_QUEUE_LINK}/send-to-queue`;return util.makeAxiosFactory(s,"POST",t.queueForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeQueue(o,t={queueId:null}){let s=`${BASE_QUEUE_LINK}/remove/${t.queueId}`;return util.makeAxiosFactory(s,"DELETE").then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$3={setQueues(o,t){o.queues=t||[],localStorage.setItem("cashman_queues",JSON.stringify(t))},setQueuesPaginateObject(o,t){o.queues_paginate_object=t||[],localStorage.setItem("cashman_queues_paginate_object",JSON.stringify(t))}},queueModule={state:state$3,mutations:mutations$3,actions:actions$3,getters:getters$3},BASE_IIKO_LINK="/bot-client/iiko";let state$2={};const getters$2={},actions$2={async getIikoToken(o,t){let s=`${BASE_IIKO_LINK}/token`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async getIikoMenu(o){let t=`${BASE_IIKO_LINK}/menu`;return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async getIikoProducts(o,t){let s=`${BASE_IIKO_LINK}/products`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async getIikoOrganizations(o,t){let s=`${BASE_IIKO_LINK}/organizations`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async getIikoTerminals(o,t){let s=`${BASE_IIKO_LINK}/terminals`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeIikoProducts(o,t){let s=`${BASE_IIKO_LINK}/store-products`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeIiko(o,t){let s=`${BASE_IIKO_LINK}/store`;return util.makeAxiosFactory(s,"POST",t.iikoForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$2={},iikoModule={state:state$2,mutations:mutations$2,actions:actions$2,getters:getters$2},BASE_BITRIX_LINK="/bot-client/bitrix";let state$1={};const getters$1={},actions$1={async loadBitrix(o,t){let s=`${BASE_BITRIX_LINK}/load-connections`;return util.makeAxiosFactory(s,"POST",t).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async checkBitrixURL(o,t){let s=`${BASE_BITRIX_LINK}/check`;return util.makeAxiosFactory(s,"POST",t.bitrixForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async storeBitrix(o,t){let s=`${BASE_BITRIX_LINK}/store`;return util.makeAxiosFactory(s,"POST",t.bitrixForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations$1={},bitrixModule={state:state$1,mutations:mutations$1,actions:actions$1,getters:getters$1},BASE_COLLECTIONS_LINK="/bot-client/product-collections";let state={collections:[],collections_paginate_object:null};const getters={getCollections:o=>o.collections||[],getCollectionsPaginateObject:o=>o.collections_paginate_object||null},actions={async loadGlobalCollections(o,t={dataObject:{search:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,a=t.size||12,n=`${BASE_COLLECTIONS_LINK}/global?page=${i}&size=${a}`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setCollections",c.data),delete c.data,o.commit("setCollectionsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async loadCollections(o,t={dataObject:{search:null},page:0,size:12}){let s={...t.dataObject},i=t.page||0,a=t.size||12,n=`${BASE_COLLECTIONS_LINK}?page=${i}&size=${a}`,r="POST";return util.makeAxiosFactory(n,r,s).then(d=>{let c=d.data;return o.commit("setCollections",c.data),delete c.data,o.commit("setCollectionsPaginateObject",c),Promise.resolve()}).catch(d=>(o.commit("setErrors",d.response.data.errors||[]),Promise.reject(d)))},async storeCollection(o,t={collectionForm:null}){let s=`${BASE_COLLECTIONS_LINK}/store`;return util.makeAxiosFactory(s,"POST",t.collectionForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async duplicateCollection(o,t={collectionId:null}){let s=`${BASE_COLLECTIONS_LINK}/duplicate/${t.dataObject.collectionId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async removeProductCollection(o,t={collectionId:null}){let s=`${BASE_COLLECTIONS_LINK}/remove/${t.collectionId}`;return util.makeAxiosFactory(s,"POST").then(a=>Promise.resolve(a)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))}},mutations={setCollections(o,t){o.collections=t||[],localStorage.setItem("cashman_collections",JSON.stringify(t))},setCollectionsPaginateObject(o,t){o.collections_paginate_object=t||[],localStorage.setItem("cashman_collections_paginate_object",JSON.stringify(t))}},collectionsModule={state,mutations,actions,getters},store=createStore({state:{errors:[]},getters:{getErrors:o=>o.errors||[]},actions:{async sendToChannel(o,t={mailForm:null}){let s="/bot-client/send-to-channel";return util.makeAxiosFactory(s,"POST",t.mailForm).then(a=>Promise.resolve(a.data)).catch(a=>(o.commit("setErrors",a.response.data.errors||[]),Promise.reject(a)))},async loadNotes(o){let t="/bot-client/manager-notes";return util.makeAxiosFactory(t,"POST").then(i=>Promise.resolve(i.data)).catch(i=>(o.commit("setErrors",i.response.data.errors||[]),Promise.reject(i)))},async requestTelegramChannelId(o,t={dataObject:null}){let s={...t.dataObject},i="/bot-client/telegram-channel-id";return util.makeAxiosFactory(i,"POST",s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async feedBackForm(o,t={callbackForm:null}){let s=t.callbackForm,i="/bot-client/feedback";return util.makeAxiosFactory(i,"POST",s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))},async callbackForm(o,t={callbackForm:null}){let s=t.callbackForm,i="/bot-client/callback";return util.makeAxiosFactory(i,"POST",s).then(n=>Promise.resolve(n.data)).catch(n=>(o.commit("setErrors",n.response.data.errors||[]),Promise.reject(n)))}},mutations:{setErrors(o,t){o.errors=t||[]}},modules:{cashBack:cashbackModule$1,admins:adminsModule,products:productsModule$1,wheelOfFortune:wheelOfFortuneModule$4,wheelOfFortuneCustom:wheelOfFortuneModule$3,wheelOfFortuneV3:wheelOfFortuneModule$2,instagramQuest:instagramQuestModule,schedule:scheduleModule,cashOut:wheelOfFortuneModule,cart:cardModule$2,self:selfModule,favorites:cardModule$1,shopAdmin:shopAdminModule,bonusProduct:bonusProductModule,watches:cardModule,company:companiesModule,pages:pagesModule,bots:botsModule,dialogs:dialogGroupsModule$1,slugs:slugsModule,botUsers:dialogGroupsModule,media:mediaModule,ingredients:ingredientsModule,quiz:quizModule,chatHistory:chat_historyModule,profileForm:cashbackModule,appointments:appointmentsModule,collections:collectionsModule,payments:paymentsModule,promocodes:promocodesModule,orders:ordersModule,friendsGame:wheelOfFortuneModule$1,mailing:queueModule,iiko:iikoModule,friends:friendsModule,reviews:reviewsModule,bitrix:bitrixModule}}),eventBus=mitt();window.eventBus=eventBus;var fl;const appName=((fl=window.document.getElementsByTagName("title")[0])==null?void 0:fl.innerText)||"Laravel";E$1({title:o=>`${o} - ${appName}`,resolve:o=>resolvePageComponent(`./Pages/${o}.vue`,Object.assign({"./Pages/MainV1.vue":()=>__vitePreload(()=>import("./MainV1-04576d9b.js"),["assets/MainV1-04576d9b.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index.es-87f808e1.js","assets/V1Layout-88dd15a1.js","assets/V1Layout-5ac8cdc0.css","assets/BotMediaList-1361456d.js","assets/Pagination-221154ef.js","assets/Pagination-4757d200.css","assets/BotMediaList-ee5a9069.css","assets/InlineInjectionsHelper.vue_vue_type_style_index_0_lang-84854da4.js","assets/main-d422527f.js","assets/main-8c777a3a.css","assets/InlineInjectionsHelper-5ad24a6a.css","assets/TelegramChannelHelper-d590d406.js","assets/TelegramChannelHelper-ab1295f0.css","assets/v4-4a60fe23.js","assets/carousel.es-681e03d4.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-6f3d8edc.js","assets/vue3-perfect-scrollbar-94da7cc3.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-0b7b57a4.js","assets/MainV1-57dd244b.css"]),"./Pages/MainV2.vue":()=>__vitePreload(()=>import("./MainV2-4e21b22b.js"),["assets/MainV2-4e21b22b.js","assets/index.es-87f808e1.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/BotMediaList-1361456d.js","assets/Pagination-221154ef.js","assets/Pagination-4757d200.css","assets/BotMediaList-ee5a9069.css","assets/InlineInjectionsHelper.vue_vue_type_style_index_0_lang-84854da4.js","assets/main-d422527f.js","assets/main-8c777a3a.css","assets/InlineInjectionsHelper-5ad24a6a.css","assets/TelegramChannelHelper-d590d406.js","assets/TelegramChannelHelper-ab1295f0.css","assets/v4-4a60fe23.js","assets/carousel.es-681e03d4.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-6f3d8edc.js","assets/vue3-perfect-scrollbar-94da7cc3.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-0b7b57a4.js","assets/V1Layout-5ac8cdc0.css"]),"./Pages/V1/Admin/Actions.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Actions),void 0),"./Pages/V1/Admin/BonusProduct.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>BonusProduct),void 0),"./Pages/V1/Admin/BotManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>BotManager$1),void 0),"./Pages/V1/Admin/BotManager/Amo.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Amo$1),void 0),"./Pages/V1/Admin/BotManager/Dialogs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Dialogs$1),void 0),"./Pages/V1/Admin/BotManager/Keyboards.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Keyboards),void 0),"./Pages/V1/Admin/BotManager/Pages.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Pages$1),void 0),"./Pages/V1/Admin/BotManager/Slugs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Slugs$1),void 0),"./Pages/V1/Admin/BotManager/YClients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>YClients$1),void 0),"./Pages/V1/Admin/ChatHistory.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ChatHistory),void 0),"./Pages/V1/Admin/CompanyManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>CompanyManager),void 0),"./Pages/V1/Admin/Main.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Main$1),void 0),"./Pages/V1/Admin/MessageToUser.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MessageToUser),void 0),"./Pages/V1/Admin/Orders.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Orders$1),void 0),"./Pages/V1/Admin/Promotion.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Promotion),void 0),"./Pages/V1/Admin/ShopManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ShopManager),void 0),"./Pages/V1/Admin/Statistic.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Statistic$1),void 0),"./Pages/V1/Admin/Users.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Users),void 0),"./Pages/V1/Admin/WorkStatus.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WorkStatus),void 0),"./Pages/V1/Appointment/Appointments.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Appointments),void 0),"./Pages/V1/Delivery/DeliveryManForm.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>DeliveryManForm),void 0),"./Pages/V1/Delivery/Main.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Main$2),void 0),"./Pages/V1/Error.vue":()=>__vitePreload(()=>import("./Error-0954aa4b.js"),["assets/Error-0954aa4b.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index.es-87f808e1.js"]),"./Pages/V1/FoodConstructors.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FoodConstructors),void 0),"./Pages/V1/Manager/Clients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Clients$1),void 0),"./Pages/V1/Manager/Main.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Main),void 0),"./Pages/V1/Manager/Manager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Manager),void 0),"./Pages/V1/Manager/Partners.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Partners),void 0),"./Pages/V1/Manager/Profile.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Profile$1),void 0),"./Pages/V1/OneArmedBanditPage.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>OneArmedBanditPage),void 0),"./Pages/V1/Quiz/Quizzes.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Quizzes),void 0),"./Pages/V1/Quiz/SingleQuiz.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>SingleQuiz),void 0),"./Pages/V1/Result.vue":()=>__vitePreload(()=>import("./Result-b9839dc7.js"),["assets/Result-b9839dc7.js","assets/V1Layout-88dd15a1.js","assets/index.es-87f808e1.js","assets/V1Layout-5ac8cdc0.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/BotMediaList-1361456d.js","assets/Pagination-221154ef.js","assets/Pagination-4757d200.css","assets/BotMediaList-ee5a9069.css","assets/InlineInjectionsHelper.vue_vue_type_style_index_0_lang-84854da4.js","assets/main-d422527f.js","assets/main-8c777a3a.css","assets/InlineInjectionsHelper-5ad24a6a.css","assets/TelegramChannelHelper-d590d406.js","assets/TelegramChannelHelper-ab1295f0.css","assets/v4-4a60fe23.js","assets/carousel.es-681e03d4.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-6f3d8edc.js","assets/vue3-perfect-scrollbar-94da7cc3.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-0b7b57a4.js"]),"./Pages/V1/Shop/AboutUs.vue":()=>__vitePreload(()=>import("./AboutUs-42f9b5b4.js"),["assets/AboutUs-42f9b5b4.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index.es-87f808e1.js"]),"./Pages/V1/Shop/Admins.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Admins),void 0),"./Pages/V1/Shop/Basket.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Basket),void 0),"./Pages/V1/Shop/Booking.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Booking),void 0),"./Pages/V1/Shop/CashOut.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>CashOut$1),void 0),"./Pages/V1/Shop/CashReceipt.vue":()=>__vitePreload(()=>import("./CashReceipt-5cb84336.js"),["assets/CashReceipt-5cb84336.js","assets/index.es-87f808e1.js","assets/CashReceipt-55274ec9.css"]),"./Pages/V1/Shop/Categories.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Categories),void 0),"./Pages/V1/Shop/CheckOut.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>CheckOut$1),void 0),"./Pages/V1/Shop/ContactUs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ContactUs$1),void 0),"./Pages/V1/Shop/Empty.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Empty),void 0),"./Pages/V1/Shop/Favorites.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Favorites),void 0),"./Pages/V1/Shop/FriendsGame.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FriendsGame$1),void 0),"./Pages/V1/Shop/Help.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Help$1),void 0),"./Pages/V1/Shop/Home.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Home),void 0),"./Pages/V1/Shop/OurTeam.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>OurTeam$1),void 0),"./Pages/V1/Shop/PaymentSBP.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>PaymentSBP$1),void 0),"./Pages/V1/Shop/Product.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Product$1),void 0),"./Pages/V1/Shop/Products.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Products),void 0),"./Pages/V1/Shop/ProductsInCategory.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ProductsInCategory),void 0),"./Pages/V1/Shop/ProfileForm.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ProfileForm$1),void 0),"./Pages/V1/Shop/Promocode.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Promocode),void 0),"./Pages/V1/Shop/Quest.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Quest),void 0),"./Pages/V1/Shop/SaveUp.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>SaveUp),void 0),"./Pages/V1/Shop/Schedule.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Schedule),void 0),"./Pages/V1/Shop/Settings.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Settings$1),void 0),"./Pages/V1/Shop/Terms.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Terms$1),void 0),"./Pages/V1/Shop/Vip.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Vip$1),void 0),"./Pages/V1/Shop/Wheel.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Wheel),void 0),"./Pages/V1/Shop/WheelCustom.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WheelCustom$1),void 0),"./Pages/V2/Admin/AdminMenu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>AdminMenu),void 0),"./Pages/V2/Admin/BotManager.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>BotManager),void 0),"./Pages/V2/Admin/CashBack.vue":()=>__vitePreload(()=>import("./CashBack-6c338401.js"),["assets/CashBack-6c338401.js","assets/index.es-87f808e1.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/BotMediaList-1361456d.js","assets/Pagination-221154ef.js","assets/Pagination-4757d200.css","assets/BotMediaList-ee5a9069.css","assets/InlineInjectionsHelper.vue_vue_type_style_index_0_lang-84854da4.js","assets/main-d422527f.js","assets/main-8c777a3a.css","assets/InlineInjectionsHelper-5ad24a6a.css","assets/TelegramChannelHelper-d590d406.js","assets/TelegramChannelHelper-ab1295f0.css","assets/v4-4a60fe23.js","assets/carousel.es-681e03d4.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-6f3d8edc.js","assets/vue3-perfect-scrollbar-94da7cc3.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-0b7b57a4.js"]),"./Pages/V2/Admin/Clients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Clients),void 0),"./Pages/V2/Admin/Dialogs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Dialogs),void 0),"./Pages/V2/Admin/IntegrationMenu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>IntegrationMenu),void 0),"./Pages/V2/Admin/Integrations/Amo.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Amo),void 0),"./Pages/V2/Admin/Integrations/Bitrix.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Bitrix),void 0),"./Pages/V2/Admin/Integrations/FrontPad.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FrontPad),void 0),"./Pages/V2/Admin/Integrations/Iiko.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Iiko),void 0),"./Pages/V2/Admin/Integrations/YClients.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>YClients),void 0),"./Pages/V2/Admin/Mailing.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Mailing),void 0),"./Pages/V2/Admin/Orders.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Orders),void 0),"./Pages/V2/Admin/Pages.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Pages),void 0),"./Pages/V2/Admin/Promocodes.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Promocodes),void 0),"./Pages/V2/Admin/Shop.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Shop),void 0),"./Pages/V2/Admin/Slugs.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Slugs),void 0),"./Pages/V2/Admin/Statistic.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Statistic),void 0),"./Pages/V2/Games/WheelCustom.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WheelCustom),void 0),"./Pages/V2/Other/FeedBack.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FeedBack),void 0),"./Pages/V2/Result.vue":()=>__vitePreload(()=>import("./Result-bfdd07e7.js"),["assets/Result-bfdd07e7.js","assets/V1Layout-88dd15a1.js","assets/index.es-87f808e1.js","assets/V1Layout-5ac8cdc0.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/BotMediaList-1361456d.js","assets/Pagination-221154ef.js","assets/Pagination-4757d200.css","assets/BotMediaList-ee5a9069.css","assets/InlineInjectionsHelper.vue_vue_type_style_index_0_lang-84854da4.js","assets/main-d422527f.js","assets/main-8c777a3a.css","assets/InlineInjectionsHelper-5ad24a6a.css","assets/TelegramChannelHelper-d590d406.js","assets/TelegramChannelHelper-ab1295f0.css","assets/v4-4a60fe23.js","assets/carousel.es-681e03d4.js","assets/carousel-fdd153ee.css","assets/GlobalSlugList-6f3d8edc.js","assets/vue3-perfect-scrollbar-94da7cc3.js","assets/vue3-perfect-scrollbar-21f67833.css","assets/index-0b7b57a4.js"]),"./Pages/V2/Shop/Catalog.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Catalog$1),void 0),"./Pages/V2/Shop/Contacts.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Contacts),void 0),"./Pages/V2/Shop/FriendsGame.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>FriendsGame),void 0),"./Pages/V2/Shop/InstaQuest.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>InstaQuest),void 0),"./Pages/V2/Shop/Menu.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Menu),void 0),"./Pages/V2/Shop/MyCashBack.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MyCashBack),void 0),"./Pages/V2/Shop/MyFriends.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MyFriends),void 0),"./Pages/V2/Shop/MyOrders.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>MyOrders),void 0),"./Pages/V2/Shop/PagePassword.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>PagePassword),void 0),"./Pages/V2/Shop/Payment.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Payment),void 0),"./Pages/V2/Shop/Product.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Product),void 0),"./Pages/V2/Shop/Profile.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Profile),void 0),"./Pages/V2/Shop/PromoCode.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>PromoCode),void 0),"./Pages/V2/Shop/ShopCart.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>ShopCart),void 0),"./Pages/V2/Shop/VipProfileV1.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>VipProfileV1),void 0),"./Pages/V2/Shop/VipProfileV2.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>VipProfileV2),void 0),"./Pages/V2/Shop/WheelOfFortune.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>WheelOfFortune),void 0),"./Pages/V2/Waiter/Catalog.vue":()=>__vitePreload(()=>Promise.resolve().then(()=>Catalog),void 0)})),setup({el:o,App:t,props:s,plugin:i}){const a=createApp({render:()=>h(t,s)});return a.config.globalProperties.$filters={local(n){return hooks(n).format("YYYY-MM-DDThh:mm")},timeAgo(n){return hooks(n).fromNow()},current(n){return hooks(n).format("YYYY-MM-DD")},currentFull(n){return hooks(n).format("YYYY-MM-DD HH:mm:ss")}},a.config.globalProperties.$botNotification=BotNotification,a.config.globalProperties.$cart=Cart,a.config.globalProperties.$preloader=BotPreloader,a.config.globalProperties.$cashback=CashBack,a.config.globalProperties.$botPages=BotPages,a.use(i).use(store).use(VueTheMask).use(at).use(entry_esm).use(router).use(VueSocialSharing).use(index).use(vueTouchEvents).use(I,Ziggy).use(index$1,{loading:"/images/cashman.jpg",error:"/images/error.png"}).mount(o),a},progress:{color:"#4B5563"}});export{ReturnToBot as R,_sfc_main$b as _,_sfc_main$1a as a,baseJS as b};
