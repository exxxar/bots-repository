import{g as S,o as n,j as l,l as t,M as d,W as m,n as r,K as p,L as a,$ as b,F as y,J as g,a2 as F,a0 as _,k,q as U,N as w,bA as C,T as V,U as x}from"./index.es-db843bab.js";import{R as I}from"./ReturnToBot-463a5d25.js";import{_ as j}from"./ProjectInfoCard-befb09fb.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const i=c=>(V("data-v-a1775696"),c=c(),x(),c),q={key:0},$={key:0,class:"card card-style p-3"},M={class:"col-12 d-flex justify-content-center mb-3"},D={class:"img-avatar"},N={class:"img-avatar"},O={class:"col-12"},T=i(()=>t("p",{class:"mb-3"},[t("em",null,[r("Приветствую Вас, "),t("strong",null,"Дорогой друг!"),r(" Я хочу поздравить Вас и дать возможность получать неограниченные преимущества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),z=i(()=>t("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),E={class:"input-style input-style-2"},A={class:"col-12"},L={key:0,class:"mb-3"},R=i(()=>t("h6",{class:"text-center"},"Введите свой номер телефона",-1)),W={class:"input-style input-style-2"},G={key:0,class:"col-12"},J=i(()=>t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),K=i(()=>t("h6",{class:"text-center"},"Вы мужчина или женщина?",-1)),P={class:"row mb-0"},H={class:"col-6 p-3"},Q=i(()=>t("i",{class:"fa-solid fa-mars font-28"},null,-1)),X=i(()=>t("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),Y=[Q,X],Z={class:"col-6 p-3"},tt=i(()=>t("i",{class:"fa-solid fa-mars font-28"},null,-1)),st=i(()=>t("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),et=[tt,st],ot={key:1,class:"col-12"},it=i(()=>t("p",{class:"mb-3"},[t("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),nt=i(()=>t("h6",{class:"text-center"},"Введите свой день рождения",-1)),lt={class:"input-style input-style-2"},at={key:2,class:"col-12"},dt=i(()=>t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),rt=i(()=>t("h6",{class:"text-center"},"Какой у Вас город?",-1)),ct={class:"input-style input-style-2"},pt=U('<datalist id="datalistCityOptions" data-v-a1775696><option value="Краснодар" data-v-a1775696></option><option value="Ростов-на-Дону" data-v-a1775696></option><option value="Таганрог" data-v-a1775696></option><option value="Донецк" data-v-a1775696></option><option value="Москва" data-v-a1775696></option></datalist>',1),ut={class:"col-12"},ht={key:0},mt={class:"text-center"},bt={key:0,class:"input-style input-style-2"},_t=["type","onUpdate:modelValue","placeholder","pattern","required"],vt={key:1,class:"row mb-0"},ft={class:"col-6 p-3"},yt=["onClick"],gt=i(()=>t("i",{class:"fa-solid fa-check font-28"},null,-1)),Ft=i(()=>t("span",{class:"text-center text-uppercase my-2"},"Да",-1)),kt=[gt,Ft],wt={class:"col-6 p-3"},Ut=["onClick"],St=i(()=>t("i",{class:"fa-solid fa-xmark font-28"},null,-1)),Ct=i(()=>t("span",{class:"text-center text-uppercase my-2"},"Нет",-1)),Vt=[St,Ct],xt={class:"col-12"},It=i(()=>t("p",{class:"mb-3"},[t("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),jt=i(()=>t("p",null,[r("Перед отправкой данных нужно ознакомиться с "),t("a",{href:"#"},"политикой конфиденциальности"),r(".")],-1)),Bt={class:"d-flex mb-3"},qt={class:"pt-1"},$t={"data-activate":"toggle-id-1",class:"font-500 font-13"},Mt={key:0},Dt={key:1},Nt={class:"ml-auto mr-4 pr-2"},Ot={class:"custom-control ios-switch"},Tt=i(()=>t("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),zt=["disabled"],Et={key:1,class:"card card-style p-3"},At={class:"col-12 d-flex justify-content-center mb-3"},Lt={class:"img-avatar"},Rt={class:"img-avatar"},Wt={class:"col-12"},Gt=i(()=>t("p",{class:"mb-3"},[t("em",null,[r("Приветствую Вас, "),t("strong",null,"Дорогой друг!"),r(" Я хочу поздравить Вас и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с Вами познакомиться - это поможет сделать использование сервиса более комфортным и взаимовыгодным!")])],-1)),Jt=i(()=>t("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),Kt={class:"input-style input-style-2"},Pt=i(()=>t("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),Ht={class:"col-12 d-flex justify-content-center mb-3"},Qt={class:"img-avatar"},Xt={class:"img-avatar"},Yt={class:"col-12"},Zt={class:"mb-3"},ts=i(()=>t("h6",{class:"text-center"},"Введите свой номер телефона",-1)),ss={class:"input-style input-style-2"},es=i(()=>t("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),os={class:"col-12 d-flex justify-content-center mb-3"},is={class:"img-avatar"},ns={class:"img-avatar"},ls={class:"col-12"},as=i(()=>t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),ds=i(()=>t("h6",{class:"text-center"},"Ты мужчина или женщина?",-1)),rs={class:"row mb-0"},cs={class:"col-6 p-3"},ps=i(()=>t("i",{class:"fa-solid fa-mars font-28"},null,-1)),us=i(()=>t("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),hs=[ps,us],ms={class:"col-6 p-3"},bs=i(()=>t("i",{class:"fa-solid fa-mars font-28"},null,-1)),_s=i(()=>t("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),vs=[bs,_s],fs=i(()=>t("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),ys={class:"col-12 d-flex justify-content-center mb-3"},gs={class:"img-avatar"},Fs={class:"img-avatar"},ks={class:"col-12"},ws=i(()=>t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1)),Us=i(()=>t("h6",{class:"text-center"},"Какой у Вас город?",-1)),Ss={class:"input-style input-style-2"},Cs=U('<datalist id="datalistCityOptions" data-v-a1775696><option value="Краснодар" data-v-a1775696></option><option value="Ростов-на-Дону" data-v-a1775696></option><option value="Таганрог" data-v-a1775696></option><option value="Донецк" data-v-a1775696></option><option value="Москва" data-v-a1775696></option></datalist>',1),Vs=i(()=>t("button",{class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Следующий шаг ",-1)),xs={class:"col-12 d-flex justify-content-center mb-3"},Is={class:"img-avatar"},js={class:"img-avatar"},Bs={class:"col-12"},qs=i(()=>t("p",{class:"mb-3"},[t("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочитайте мои условия использования и дайте свое согласие на их принятие.")],-1)),$s=i(()=>t("h6",{class:"text-center"},"Последний шаг",-1)),Ms=i(()=>t("p",null,[r("Перед отправкой данных нужно ознакомиться с "),t("a",{href:"#"},"политикой конфиденциальности"),r(".")],-1)),Ds={class:"d-flex mb-3"},Ns={class:"pt-1"},Os={"data-activate":"toggle-id-1",class:"font-500 font-13"},Ts={key:0},zs={key:1},Es={class:"ml-auto mr-4 pr-2"},As={class:"custom-control ios-switch"},Ls=i(()=>t("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),Rs=["disabled"],Ws={key:2,class:"card card-style p-3"},Gs=i(()=>t("li",null,"Накопление CashBack за покупки",-1)),Js=i(()=>t("li",null,"Оплата товаров через CashBak",-1)),Ks=i(()=>t("li",null,"Реферальная программа",-1)),Ps=i(()=>t("h6",null,"Ваши данные:",-1)),Hs={class:"mb-0"},Qs={class:"mb-0"},Xs={class:"mb-0"},Ys={class:"mb-0"},Zs={class:"mb-0"},te={key:0},se={key:1},ee={data(){return{settings:{display_type:0,need_birthday:!0,need_age:!0,need_city:!0,need_sex:!0},load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0,fields:[]}}},watch:{getSelf:function(){this.botUser=this.getSelf,this.vipForm={name:this.botUser.name||this.botUser.fio_from_telegram||null,phone:this.botUser.phone||null,email:this.botUser.email||null,birthday:this.botUser.birthday||null,city:this.botUser.city||null,country:this.botUser.country||null,address:this.botUser.address||null,sex:this.botUser.sex||!0,fields:[]},this.loadCurrentBotFields()}},mounted(){this.loadCashBackModuleData()},computed:{...S(["getSelf"]),tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot}},methods:{getUserFieldValue(c){const s={value:null};return this.botUser.fields&&this.botUser.fields.find(e=>e.bot_custom_field_setting_id===c)||s},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields").then(c=>{(c.data||[]).forEach(e=>{if(e.is_active){let u=this.getUserFieldValue(e.id),v=u.value,o=u.config;this.vipForm.fields.push({id:e.id,title:e.label,description:e.description,key:e.key,value:e.type===2?v==="1":v,type:e.type,pattern:e.pattern,required:e.required,config:o})}})})},nextStep(){this.step++},loadCashBackModuleData(){this.loading=!0,this.$store.dispatch("loadCashBackModuleData").then(c=>{this.loading=!1,this.$nextTick(()=>{Object.keys(c).forEach(s=>{this.settings[s]=c[s]})})}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveVip",{...this.vipForm}).then(c=>{this.loading=!1,this.tg.close()}).catch(()=>{this.loading=!1})}}},oe=Object.assign(ee,{__name:"Vip",setup(c){return(s,e)=>{const u=w("lazy"),v=w("mask");return n(),l(y,null,[s.botUser?(n(),l("div",q,[!s.botUser.is_vip&&s.settings.display_type==0?(n(),l("div",$,[t("form",{onSubmit:e[7]||(e[7]=_((...o)=>s.submit&&s.submit(...o),["prevent"])),class:"row mb-0"},[t("div",M,[t("div",D,[d(t("img",N,null,512),[[u,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",O,[T,z,t("div",E,[d(t("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":e[0]||(e[0]=o=>s.vipForm.name=o),"aria-describedby":"vipForm-name",required:""},null,512),[[m,s.vipForm.name]])])]),t("div",A,[s.vipForm.name?(n(),l("p",L,[t("em",null,[r("- Отлично, "),t("strong",null,p(s.vipForm.name),1),r("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):a("",!0),R,t("div",W,[d(t("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":e[1]||(e[1]=o=>s.vipForm.phone=o),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[v,"+7(###)###-##-##"],[m,s.vipForm.phone]])])]),s.settings.need_sex?(n(),l("div",G,[J,K,t("div",P,[t("div",H,[t("div",{class:b([{"bg-highlight":s.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:e[2]||(e[2]=o=>s.vipForm.sex=!0)},Y,2)]),t("div",Z,[t("div",{class:b([{"bg-highlight ":!s.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:e[3]||(e[3]=o=>s.vipForm.sex=!1)},et,2)])])])):a("",!0),s.settings.need_birthday?(n(),l("div",ot,[it,nt,t("div",lt,[d(t("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":e[4]||(e[4]=o=>s.vipForm.birthday=o),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[m,s.vipForm.birthday]])])])):a("",!0),s.settings.need_city?(n(),l("div",at,[dt,rt,t("div",ct,[d(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>s.vipForm.city=o),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[m,s.vipForm.city]]),pt])])):a("",!0),(n(!0),l(y,null,g(s.vipForm.fields,(o,h)=>(n(),l("div",ut,[s.settings[o.key]?(n(),l("div",ht,[t("h6",mt,p(o.description),1),o.type===0||o.type===1?(n(),l("div",bt,[d(t("input",{type:o.type===1?"number":"text","onUpdate:modelValue":f=>s.vipForm.fields[h].value=f,class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:o.title,pattern:s.vipForm.fields[h].pattern||"","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:s.vipForm.fields[h].requried},null,8,_t),[[C,s.vipForm.fields[h].value]])])):a("",!0),o.type===2?(n(),l("div",vt,[t("div",ft,[t("div",{class:b([{"bg-highlight":s.vipForm.fields[h].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:f=>s.vipForm.fields[h].value=!0},kt,10,yt)]),t("div",wt,[t("div",{class:b([{"bg-highlight ":!s.vipForm.fields[h].value},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:f=>s.vipForm.fields[h].value=!1},Vt,10,Ut)])])):a("",!0)])):a("",!0)]))),256)),t("div",xt,[It,jt,t("div",Bt,[t("div",qt,[t("h5",$t,[s.vipForm.sex?a("",!0):(n(),l("span",Mt,"С правилами ознакомилась")),s.vipForm.sex?(n(),l("span",Dt,"С правилами ознакомлен")):a("",!0)])]),t("div",Nt,[t("div",Ot,[d(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.confirm=o),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[F,s.confirm]]),Tt])])]),t("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,zt)])],32)])):a("",!0),!s.botUser.is_vip&&s.settings.display_type==1?(n(),l("div",Et,[s.step===0?(n(),l("form",{key:0,onSubmit:e[9]||(e[9]=_((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row mb-0"},[t("div",At,[t("div",Lt,[d(t("img",Rt,null,512),[[u,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",Wt,[Gt,Jt,t("div",Kt,[d(t("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":e[8]||(e[8]=o=>s.vipForm.name=o),"aria-describedby":"vipForm-name",required:""},null,512),[[m,s.vipForm.name]])]),Pt])],32)):a("",!0),s.step===1?(n(),l("form",{key:1,onSubmit:e[11]||(e[11]=_((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row mb-0"},[t("div",Ht,[t("div",Qt,[d(t("img",Xt,null,512),[[u,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",Yt,[t("p",Zt,[t("em",null,[r("- Отлично, "),t("strong",null,p(s.vipForm.name),1),r("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])]),ts,t("div",ss,[d(t("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":e[10]||(e[10]=o=>s.vipForm.phone=o),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[v,"+7(###)###-##-##"],[m,s.vipForm.phone]])]),es])],32)):a("",!0),s.step===2?(n(),l("form",{key:2,onSubmit:e[14]||(e[14]=_((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row mb-0"},[t("div",os,[t("div",is,[d(t("img",ns,null,512),[[u,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",ls,[as,ds,t("div",rs,[t("div",cs,[t("div",{class:b([{"bg-highlight":s.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:e[12]||(e[12]=o=>s.vipForm.sex=!0)},hs,2)]),t("div",ms,[t("div",{class:b([{"bg-highlight ":!s.vipForm.sex},"btn btn-border btn-m btn-full border-highlight rounded-s shadow-s w-100 p-3 d-flex justify-content-between flex-column align-items-center"]),onClick:e[13]||(e[13]=o=>s.vipForm.sex=!1)},vs,2)])]),fs])],32)):a("",!0),s.step===3?(n(),l("form",{key:3,onSubmit:e[16]||(e[16]=_((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row mb-0"},[t("div",ys,[t("div",gs,[d(t("img",Fs,null,512),[[u,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",ks,[ws,Us,t("div",Ss,[d(t("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=o=>s.vipForm.city=o),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[m,s.vipForm.city]]),Cs]),Vs])],32)):a("",!0),s.step===4?(n(),l("form",{key:4,onSubmit:e[19]||(e[19]=_((...o)=>s.submit&&s.submit(...o),["prevent"])),class:"row mb-0"},[t("div",xs,[t("div",Is,[d(t("img",js,null,512),[[u,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",Bs,[qs,$s,Ms,t("div",Ds,[t("div",Ns,[t("h5",Os,[s.vipForm.sex?a("",!0):(n(),l("span",Ts,"С правилами озакномилась")),s.vipForm.sex?(n(),l("span",zs,"С правилами ознакомлен")):a("",!0)])]),t("div",Es,[t("div",As,[d(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>s.confirm=o),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[F,s.confirm]]),Ls])])]),t("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-highlight w-100"}," Отправить анкету ",8,Rs),t("button",{type:"button",onClick:e[18]||(e[18]=o=>s.step=0),class:"btn btn-m btn-full rounded-s text-uppercase font-900 shadow-s bg-red1-light w-100 mb-2"}," Исправить ошибки ")])],32)):a("",!0)])):a("",!0),s.botUser.is_vip?(n(),l("div",Ws,[r(" Поздравляем! Вы являетесь нашим VIP-пользователем! Вам доступны следующие возможности: "),t("ul",null,[Gs,Js,Ks,t("li",null,[Ps,t("p",Hs,"Имя: "+p(s.botUser.name||"Не указано"),1),t("p",Qs,"Телефон: "+p(s.botUser.phone||"Не указано"),1),t("p",Xs,"Город: "+p(s.botUser.city||"Не указано"),1),t("p",Ys,"Пол: "+p(s.botUser.sex?"Мужской":"Женский"),1),(n(!0),l(y,null,g(s.vipForm.fields,o=>(n(),l("p",Zs,[r(p(o.title)+": ",1),o.config.type===2?(n(),l("span",te,p(o.value===!1?"Нет":"Да"),1)):a("",!0),o.config.type===0||o.config.type===1?(n(),l("span",se,p(o.value),1)):a("",!0)]))),256))])]),k(I,{class:"mb-2"})])):a("",!0)])):a("",!0),k(j)],64)}}}),de=B(oe,[["__scopeId","data-v-a1775696"]]);export{de as default};
