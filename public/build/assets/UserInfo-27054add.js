import{o as b,k as d,n as s,p as i,L as n,a0 as l,M as u,a1 as U,N as c,Y as m,F as h,K as k,O as p}from"./index.es-c4852431.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";const v={props:["botUser"],data(){return{isEdit:!1,messages:[],botUserForm:{id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:null,blocked_message:null}}},watch:{isEdit:function(){this.botUserForm.id=this.botUser.id,this.botUserForm.is_vip=this.botUser.is_vip,this.botUserForm.is_admin=this.botUser.is_admin,this.botUserForm.is_work=this.botUser.is_work,this.botUserForm.is_manager=this.botUser.is_manager,this.botUserForm.is_deliveryman=this.botUser.is_deliveryman,this.botUserForm.user_in_location=this.botUser.user_in_location,this.botUserForm.name=this.botUser.name||this.botUser.username||this.botUser.id,this.botUserForm.phone=this.botUser.phone,this.botUserForm.email=this.botUser.email,this.botUserForm.birthday=this.botUser.birthday||null,this.botUserForm.city=this.botUser.city||null,this.botUserForm.country=this.botUser.country||null,this.botUserForm.address=this.botUser.address||null,this.botUserForm.sex=this.botUser.sex||!1,this.botUserForm.is_blocked=this.botUser.blocked_at!=null,this.botUserForm.blocked_message=this.botUser.blocked_message||null}},methods:{alert(_){this.messages.push(_)},removeMessage(_){this.messages.splice(_,1)},submit(){this.$store.dispatch("updateBotUser",{botUserForm:this.botUserForm}).then(()=>{this.isEdit=!1,this.messages=[],this.botUserForm={id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:!1},this.$emit("update"),this.$botNotification.notification("Редактирование данных","Данные успешно обновлены!")}).catch(()=>{this.$botNotification.warning("Редактирование данных","Ошибка обновления данных")})}}},F={key:0},y=s("i",{class:"fa-solid fa-user-pen mr-2"},null,-1),x={key:1},C=s("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1),V={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},X=s("thead",null,[s("tr",{class:"bg-gray1-dark"},[s("th",{scope:"col",class:"color-theme"},"Ключ"),s("th",{scope:"col",class:"color-theme"},"Значение")])],-1),E=s("th",{scope:"row"},"ID в системе",-1),I={class:"font-weight-bold"},N=s("th",{scope:"row"},"Дата регистрации",-1),D={class:"font-weight-bold"},M=s("th",{scope:"row"},"Телеграм ID",-1),B={class:"font-weight-bold"},q=s("th",{scope:"row"},"Имя",-1),L={class:"font-weight-bold"},P=s("th",{scope:"row"},"Имя из телеграмма",-1),S={class:"font-weight-bold"},T=s("th",{scope:"row"},"Домен пользователя",-1),j={class:"font-weight-bold"},z=s("th",{scope:"row"},"Номер телефона",-1),K={class:"font-weight-bold"},O=s("th",{scope:"row"},"Возраст",-1),Y={class:"font-weight-bold"},A=s("th",{scope:"row"},"Пол",-1),G={class:"font-weight-bold"},H=s("th",{scope:"row"},"Страна",-1),J={class:"font-weight-bold"},Q=s("th",{scope:"row"},"Город",-1),R={class:"font-weight-bold"},W=s("th",{scope:"row"},"Адрес",-1),Z={class:"font-weight-bold"},$=s("th",{scope:"row"},"VIP",-1),ss={class:"font-weight-bold"},ts=s("th",{scope:"row"},"Администратор",-1),es={class:"font-weight-bold"},os=s("th",{scope:"row"},"Доставщик",-1),rs={class:"font-weight-bold"},ls=s("th",{scope:"row"},"На работе",-1),ns={class:"font-weight-bold"},is=s("th",{scope:"row"},"В заведении",-1),bs={class:"font-weight-bold"},ds={key:0},cs=s("th",{scope:"row"},"Пользователь заблокирован",-1),ms={class:"font-weight-bold"},_s={class:"mb-0"},as={class:"mb-0"},us={class:"form-group mb-2"},hs=s("label",{for:""},"Ф.И.О пользователя",-1),fs={class:"form-group mb-2"},gs=s("label",{for:""},"Телефон",-1),Us={class:"form-group mb-2"},ks=s("label",{for:""},"Почта",-1),ps={class:"form-group mb-2"},ws=s("label",{for:""},"Адрес",-1),vs={class:"form-group mb-2"},Fs=s("label",{for:""},"Дата рождения",-1),ys={class:"form-group mb-2"},xs=s("label",{for:""},"Страна",-1),Cs={class:"form-group mb-2"},Vs=s("label",{for:""},"Город",-1),Xs={class:"row mb-0"},Es=s("p",{class:"col-12 mb-0"},"Администратор",-1),Is={class:"col-6"},Ns=s("i",{class:"fa-solid fa-check mr-1"},null,-1),Ds={class:"col-6"},Ms=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),Bs={class:"row mb-0"},qs=s("p",{class:"col-12 mb-0"},"VIP",-1),Ls={class:"col-6"},Ps=s("i",{class:"fa-solid fa-check mr-1"},null,-1),Ss={class:"col-6"},Ts=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),js={class:"row mb-0"},zs=s("p",{class:"col-12 mb-0"},"Доставщик",-1),Ks={class:"col-6"},Os=s("i",{class:"fa-solid fa-check mr-1"},null,-1),Ys={class:"col-6"},As=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),Gs={class:"row mb-0"},Hs=s("p",{class:"col-12 mb-0"},"Менеджер",-1),Js={class:"col-6"},Qs=s("i",{class:"fa-solid fa-check mr-1"},null,-1),Rs={class:"col-6"},Ws=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),Zs={class:"row mb-0"},$s=s("p",{class:"col-12 mb-0"},"Работает",-1),st={class:"col-6"},tt=s("i",{class:"fa-solid fa-check mr-1"},null,-1),et={class:"col-6"},ot=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),rt={class:"row mb-0"},lt=s("p",{class:"col-12 mb-0"},"В заведении",-1),nt={class:"col-6"},it=s("i",{class:"fa-solid fa-check mr-1"},null,-1),bt={class:"col-6"},dt=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),ct={class:"row mb-0"},mt=s("p",{class:"col-12 mb-0"},"Заблокирован",-1),_t={class:"col-6"},at=s("i",{class:"fa-solid fa-check mr-1"},null,-1),ut={class:"col-6"},ht=s("i",{class:"fa-solid fa-xmark mr-1"},null,-1),ft={key:0,class:"col-12"},gt=s("label",{for:""},"Сообщение блокировки",-1),Ut={class:"row mb-0"},kt=s("p",{class:"col-12 mb-0"},"Пол",-1),pt={class:"col-6"},wt=s("i",{class:"fa-solid fa-mars mr-1"},null,-1),vt={class:"col-6"},Ft=s("i",{class:"fa-solid fa-venus mr-1"},null,-1),yt={class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},xt={class:"custom-alert-text"},Ct=["onClick"],Vt=s("button",{type:"submit",class:"btn btn-m btn-full mt-2 mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Сохранить ",-1),Xt=s("div",{class:"divider divider-small my-3 bg-highlight"},null,-1);function Et(_,e,r,It,t,a){const f=p("mask");return b(),d(h,null,[s("a",{href:"javascript:void(0)",onClick:e[0]||(e[0]=o=>t.isEdit=!t.isEdit),class:"btn btn-m btn-full mb-2 rounded-s text-uppercase font-900 shadow-s bg-brown2-dark"},[t.isEdit?(b(),d("span",x,[C,i(" Завершить редактирование")])):(b(),d("span",F,[y,i(" Редактировать пользователя")]))]),t.isEdit?u("",!0):(b(),d("table",V,[X,s("tbody",null,[s("tr",null,[E,s("td",I,n(r.botUser.id||"Не указано"),1)]),s("tr",null,[N,s("td",D,n(_.$filters.current(r.botUser.created_at)),1)]),s("tr",null,[M,s("td",B,n(r.botUser.telegram_chat_id||"Не указано"),1)]),s("tr",{class:l({"bg-red1-light":r.botUser.name==null})},[q,s("td",L,n(r.botUser.name||"Не указано"),1)],2),s("tr",null,[P,s("td",S,n(r.botUser.fio_from_telegram||"Не указано"),1)]),s("tr",null,[T,s("td",j,n(r.botUser.username||"Не указано"),1)]),s("tr",{class:l({"bg-red1-light":r.botUser.phone==null})},[z,s("td",K,n(r.botUser.phone||"Не указано"),1)],2),s("tr",{class:l({"bg-red1-light":r.botUser.age==null})},[O,s("td",Y,n(r.botUser.age||"Не указано"),1)],2),s("tr",null,[A,s("td",G,n(r.botUser.sex?"Мужчина":"Женщина"),1)]),s("tr",{class:l({"bg-red1-light":r.botUser.country==null})},[H,s("td",J,n(r.botUser.country||"Не указано"),1)],2),s("tr",{class:l({"bg-red1-light":r.botUser.city==null})},[Q,s("td",R,n(r.botUser.city||"Не указано"),1)],2),s("tr",{class:l({"bg-red1-light":r.botUser.address==null})},[W,s("td",Z,n(r.botUser.address||"Не указано"),1)],2),s("tr",null,[$,s("td",ss,n(r.botUser.is_vip?"Да":"Нет"),1)]),s("tr",null,[ts,s("td",es,n(r.botUser.is_admin?"Да":"Нет"),1)]),s("tr",null,[os,s("td",rs,n(r.botUser.is_deliveryman?"Да":"Нет"),1)]),s("tr",null,[ls,s("td",ns,n(r.botUser.is_work?"Да":"Нет"),1)]),s("tr",null,[is,s("td",bs,n(r.botUser.user_in_location?"Да":"Нет"),1)]),r.botUser.blocked_at?(b(),d("tr",ds,[cs,s("td",ms,[s("p",_s,n(_.$filters.current(r.botUser.blocked_at)),1),s("p",as,[s("em",null,n(r.botUser.blocked_message??"Без сообщения"),1)])])])):u("",!0)])])),t.isEdit?(b(),d("form",{key:1,onSubmit:e[27]||(e[27]=U((...o)=>a.submit&&a.submit(...o),["prevent"]))},[s("div",us,[hs,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>t.botUserForm.name=o),onInvalid:e[2]||(e[2]=o=>a.alert("Вы не указали имя!")),placeholder:"Иванов Иван Иванович",required:""},null,544),[[m,t.botUserForm.name]])]),s("div",fs,[gs,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=o=>t.botUserForm.phone=o),onInvalid:e[4]||(e[4]=o=>a.alert("Вы не указали телефон!")),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,544),[[m,t.botUserForm.phone],[f,"+7(###)###-##-##"]])]),s("div",Us,[ks,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=o=>t.botUserForm.email=o),placeholder:"example@gmail.com"},null,512),[[m,t.botUserForm.email]])]),s("div",ps,[ws,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>t.botUserForm.address=o),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[m,t.botUserForm.address]])]),s("div",vs,[Fs,c(s("input",{type:"date",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=o=>t.botUserForm.birthday=o),placeholder:"12/01/2023"},null,512),[[m,t.botUserForm.birthday]])]),s("div",ys,[xs,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=o=>t.botUserForm.country=o),placeholder:"Россия"},null,512),[[m,t.botUserForm.country]])]),s("div",Cs,[Vs,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>t.botUserForm.city=o),placeholder:"Краснодар"},null,512),[[m,t.botUserForm.city]])]),s("div",Xs,[Es,s("div",Is,[s("button",{type:"button",onClick:e[10]||(e[10]=o=>t.botUserForm.is_admin=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.is_admin,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_admin},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Ns,i(" Да ")],2)]),s("div",Ds,[s("button",{type:"button",onClick:e[11]||(e[11]=o=>t.botUserForm.is_admin=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.is_admin,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_admin},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Ms,i(" Нет ")],2)])]),s("div",Bs,[qs,s("div",Ls,[s("button",{type:"button",onClick:e[12]||(e[12]=o=>t.botUserForm.is_vip=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_vip},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Ps,i(" Да ")],2)]),s("div",Ss,[s("button",{type:"button",onClick:e[13]||(e[13]=o=>t.botUserForm.is_vip=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_vip},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Ts,i(" Нет ")],2)])]),s("div",js,[zs,s("div",Ks,[s("button",{type:"button",onClick:e[14]||(e[14]=o=>t.botUserForm.is_deliveryman=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_deliveryman},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Os,i(" Да ")],2)]),s("div",Ys,[s("button",{type:"button",onClick:e[15]||(e[15]=o=>t.botUserForm.is_deliveryman=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_deliveryman},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[As,i(" Нет ")],2)])]),s("div",Gs,[Hs,s("div",Js,[s("button",{type:"button",onClick:e[16]||(e[16]=o=>t.botUserForm.is_manager=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_manager},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Qs,i(" Да ")],2)]),s("div",Rs,[s("button",{type:"button",onClick:e[17]||(e[17]=o=>t.botUserForm.is_manager=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_manager},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Ws,i(" Нет ")],2)])]),s("div",Zs,[$s,s("div",st,[s("button",{type:"button",onClick:e[18]||(e[18]=o=>t.botUserForm.is_work=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_work},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[tt,i(" Да ")],2)]),s("div",et,[s("button",{type:"button",onClick:e[19]||(e[19]=o=>t.botUserForm.is_work=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_work},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[ot,i(" Нет ")],2)])]),s("div",rt,[lt,s("div",nt,[s("button",{type:"button",onClick:e[20]||(e[20]=o=>t.botUserForm.user_in_location=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.user_in_location},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[it,i(" Да ")],2)]),s("div",bt,[s("button",{type:"button",onClick:e[21]||(e[21]=o=>t.botUserForm.user_in_location=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.user_in_location},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[dt,i(" Нет ")],2)])]),s("div",ct,[mt,s("div",_t,[s("button",{type:"button",onClick:e[22]||(e[22]=o=>t.botUserForm.is_blocked=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.is_blocked,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_blocked},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[at,i(" Да ")],2)]),s("div",ut,[s("button",{type:"button",onClick:e[23]||(e[23]=o=>t.botUserForm.is_blocked=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.is_blocked,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_blocked},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[ht,i(" Нет ")],2)]),t.botUserForm.is_blocked?(b(),d("div",ft,[gt,c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[24]||(e[24]=o=>t.botUserForm.blocked_message=o),placeholder:"Увы и ах.. "},null,512),[[m,t.botUserForm.blocked_message]])])):u("",!0)]),s("div",Ut,[kt,s("div",pt,[s("button",{type:"button",onClick:e[25]||(e[25]=o=>t.botUserForm.sex=!0),class:l([{"bg-blue1-dark text-white":t.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.sex},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[wt,i(" Муж ")],2)]),s("div",vt,[s("button",{type:"button",onClick:e[26]||(e[26]=o=>t.botUserForm.sex=!1),class:l([{"bg-blue1-dark text-white":!t.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.sex},"w-100 btn btn-border btn-m btn-full mb-3 rounded-sm text-uppercase font-900"])},[Ft,i(" Жен ")],2)])]),t.messages.length>0?(b(!0),d(h,{key:0},k(t.messages,(o,g)=>(b(),d("div",yt,[s("p",xt,n(o||"Ошибка"),1),s("button",{type:"button",onClick:Nt=>a.removeMessage(g),class:"close color-white opacity-60 font-16"},"× ",8,Ct)]))),256)):u("",!0),Vt,Xt],32)):u("",!0)],64)}const Bt=w(v,[["render",Et]]);export{Bt as U};
