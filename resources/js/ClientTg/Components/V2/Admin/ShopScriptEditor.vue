<script setup>
import WheelOfFortuneShopVariant from "@/ClientTg/Components/V2/Games/WheelOfFortuneShopVariant.vue";
</script>
<template>
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link"
               @click="tab=0"
               v-bind:class="{'active fw-bold':tab===0}"
               aria-current="page"
               href="javascript:void(0)">–ú–∞–≥–∞–∑–∏–Ω</a>
        </li>
        <li class="nav-item">
            <a class="nav-link "
               v-bind:class="{'active fw-bold':tab===1}"
               @click="tab=1"
               href="javascript:void(0)">–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã</a>
        </li>
    </ul>

    <form v-on:submit.prevent="submit">
        <div v-if="tab===0" class="py-3">

            <div class="form-check form-switch mb-2">
                <input class="form-check-input"
                       type="checkbox"
                       v-model="form.is_disabled"
                       role="switch" id="script-settings-is_disabled">
                <label class="form-check-label" for="script-settings-is_disabled">–°–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞: <span
                    v-bind:class="{'text-primary fw-bold':!form.is_disabled}">–≤–∫–ª</span> \ <span
                    v-bind:class="{'text-primary fw-bold':form.is_disabled}">–≤—ã–∫–ª</span></label>
            </div>

            <p class="alert alert-light mb-2">–¢–µ–∫—Å—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω –≤
                –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã–∫–ª—é—á–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</p>
            <div class="form-floating mb-2">
                <textarea class="form-control"
                          v-model="form.disabled_text"
                          maxlength="4000"
                          style="min-height:150px;"
                          placeholder="Leave a comment here"
                          id="script-settings-disabled_text"></textarea>
                <label for="script-settings-disabled_text">–¢–µ–∫—Å—Ç –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏</label>
            </div>
            <p class="alert alert-light mb-2">–°—É–º–º–∞, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∑–∞–∫–∞–∑–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ</p>
            <div class="form-floating mb-2">
                <input type="number"
                       min="0"
                       v-model="form.min_price"
                       class="form-control" id="floatingInput" placeholder="name@example.com">
                <label for="floatingInput">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞</label>
            </div>
            <p class="alert alert-light mb-2">–î–∞–ª–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏: –±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
                –¥–æ—Å—Ç–∞–≤–∫–∏. –†–∞—Å—á—ë—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ –∏–¥–µ—Ç –ø–æ –ø—Ä—è–º–æ–π –æ—Ç —Ç–æ—á–∫–∏ –ê –∫ —Ç–æ—á–∫–µ –ë. –§–æ—Ä–º—É–ª–∞: –±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ + N –∫–º * —Ü–µ–Ω–∞ –∑–∞
                –∫–º</p>
            <div class="form-floating mb-2">
                <input type="number"
                       min="0"
                       v-model="form.min_base_delivery_price"
                       class="form-control" id="floatingInput" placeholder="name@example.com">
                <label for="floatingInput">–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏</label>
            </div>
            <p class="alert alert-light mb-2">–¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞ 1–∫–º –ø—É—Ç–∏</p>
            <div class="form-floating mb-2">
                <input type="number"
                       min="0"
                       v-model="form.price_per_km"
                       class="form-control" id="floatingInput" placeholder="name@example.com">
                <label for="floatingInput">–¶–µ–Ω–∞ –∑–∞ –∫–º –ø—É—Ç–∏</label>
            </div>
            <div class="form-floating mb-2">
                <input type="number"
                       min="0"
                       v-model="form.free_shipping_starts_from"
                       class="form-control" id="floatingInput" placeholder="name@example.com">
                <label for="floatingInput">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç</label>
            </div>
            <p class="alert alert-light mb-2">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ \ –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç–∞–≤–∫–∏. –¢–µ–∫—Å—Ç —Ä–∞–∑–º–µ—â–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω–µ
                –ø–µ—Ä–µ–¥ –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.</p>
            <div class="form-floating mb-2">
                <textarea class="form-control"
                          v-model="form.delivery_price_text"
                          maxlength="4000"
                          style="min-height:150px;"
                          placeholder="Leave a comment here"
                          id="script-settings-disabled_text"></textarea>
                <label for="script-settings-disabled_text">–¢–µ–∫—Å—Ç –¥–æ—Å—Ç–∞–≤–∫–∏</label>
            </div>

            <p class="alert alert-light mb-2">–†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –£–∫–∞–∂–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è –∏–∑
                <a class="text-primary fw-bold" href="https://yandex.ru/maps/" target="_blank">–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã</a> -
                —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ <span class="fw-bold text-primary">00.000000</span>, <span
                    class="fw-bold text-primary">00.000000</span> –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —ç—Ç–æ –ø–æ–ª–µ.
            </p>
            <div class="form-floating mb-2">
                <input type="search"
                       min="0"
                       v-mask="['##.######, ##.######']"
                       v-model="form.shop_coords"
                       class="form-control" id="floatingInput" placeholder="name@example.com">
                <label for="floatingInput">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–∞–≤–µ–¥–µ–Ω–∏—è</label>
            </div>

            <p class="alert alert-light mb-2">–ü–ª–∞—Ç–µ–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –∫–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –∏ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</p>
            <div class="form-floating mb-2">
                <textarea class="form-control"
                          v-model="form.payment_info"
                          maxlength="4000"
                          style="min-height:150px;"
                          placeholder="Leave a comment here"
                          id="script-settings-disabled_text"></textarea>
                <label for="script-settings-disabled_text">–¢–µ–∫—Å—Ç –æ–ø–ª–∞—Ç—ã</label>
            </div>
            <p class="alert alert-light mb-2">–î–∞–Ω–Ω—ã–π —Ñ–ª–∞–≥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–µ–º –ø–ª–∞—Ç–µ–∂–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç. –ü–æ—Å–ª–µ
                –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –∑–≤–æ–Ω–∫–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞</p>
            <div class="form-check form-switch mb-2">
                <input class="form-check-input"
                       type="checkbox"
                       v-model="form.need_pay_after_call"
                       role="switch" id="script-settings-need_pay_after_call">
                <label class="form-check-label" for="script-settings-need_pay_after_call">–†–µ–∂–∏–º –æ–ø–ª–∞—Ç—ã –ø–æ—Å–ª–µ –∑–≤–æ–Ω–∫–∞:
                    <span v-bind:class="{'text-primary fw-bold':form.need_pay_after_call}">–≤–∫–ª</span> \ <span
                        v-bind:class="{'text-primary fw-bold':!form.need_pay_after_call}">–≤—ã–∫–ª</span></label>
            </div>
            <div class="form-check form-switch mb-2">
                <input class="form-check-input"
                       type="checkbox"
                       v-model="form.can_use_cash"
                       role="switch" id="script-settings-can_use_cash">
                <label class="form-check-label" for="script-settings-can_use_cash">–û–ø–ª–∞—Ç–∞ –Ω–∞–ª–∏—á–Ω—ã–º–∏ –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–º: <span
                    v-bind:class="{'text-primary fw-bold':form.can_use_cash}">–≤–∫–ª</span> \ <span
                    v-bind:class="{'text-primary fw-bold':!form.can_use_cash}">–≤—ã–∫–ª</span></label>
            </div>
            <p class="alert alert-light mb-2">–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –∏ —Ç—Ä–µ–±—É–µ—Ç
                –≤–≤–æ–¥–∞ —Ç–æ—É–∫–µ–Ω–∞ –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –æ–±–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞–ª–æ–≥–æ–º.</p>
            <div class="form-check form-switch mb-2">
                <input class="form-check-input"
                       type="checkbox"
                       v-model="form.can_use_card"
                       role="switch" id="script-settings-can_use_card">
                <label class="form-check-label" for="script-settings-can_use_card">–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π: <span
                    v-bind:class="{'text-primary fw-bold':form.can_use_card}">–≤–∫–ª</span> \ <span
                    v-bind:class="{'text-primary fw-bold':!form.can_use_card}">–≤—ã–∫–ª</span></label>
            </div>


        </div>

        <div v-if="tab===1" class="py-3">
            <div class="form-check form-switch mb-2">
                <input class="form-check-input"
                       type="checkbox"
                       v-model="form.wheel_of_fortune.can_play"
                       role="switch" id="script-settings-is_disabled">
                <label class="form-check-label" for="script-settings-wheel-of-fortune-can_play">–°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–ª–µ—Å–∞
                    —Ñ–æ—Ä—Ç—É–Ω—ã: <span v-bind:class="{'text-primary fw-bold':form.wheel_of_fortune.can_play}">–≤–∫–ª</span> \
                    <span v-bind:class="{'text-primary fw-bold':!form.wheel_of_fortune.can_play}">–≤—ã–∫–ª</span></label>
            </div>
            <div class="form-floating mb-2">
                <textarea class="form-control"
                          v-model="form.wheel_of_fortune.rules"
                          maxlength="4000"
                          style="min-height:150px;"
                          placeholder="Leave a comment here"
                          id="script-settings-wheel-of-fortune-can_play"></textarea>
                <label for="script-settings-disabled_text">–ü—Ä–∞–≤–∏–ª–∞ –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã</label>
            </div>
            <p class="alert alert-light mb-2">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–∑–æ–≤, –æ–ø–∏—Å–∞–Ω–∏—è, –æ—Ç–º–µ—Ç–∫–∏ –º–µ—Å—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–∑–∞, —Ü–≤–µ—Ç
                —Å–µ–∫—Ç–æ—Ä–∞ –∏ —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Å–µ–∫—Ç–æ—Ä–æ–≤ <span class="fw-bold text-primary">10</span>, —Å–µ–π—á–∞—Å
                —Å–æ–∑–¥–∞–Ω–æ <span class="fw-bold text-primary">{{ (form.wheel_of_fortune.items || []).length }}</span>
                —Å–µ–∫—Ç–æ—Ä–æ–≤. <strong class="fw-bold text-primary">–í–Ω–∏–º–∞–Ω–∏–µ!</strong> –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–µ–∫—Ç–æ—Ä–∞ –∏–¥–µ—Ç –ø–µ—Ä–µ—Å—á–µ—Ç –µ–≥–æ –Ω–æ–º–µ—Ä–∞!</p>
            <div class="accordion accordion-flush" :id="'wheel_of_fortune'">
                <div class="accordion-item" v-for="(item, index) in form.wheel_of_fortune.items">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                :data-bs-target="'#wheel-sector-'+index" aria-expanded="false"
                                :aria-controls="'wheel-sector-'+index">
                            –°–µ–∫—Ç–æ—Ä {{ item.value }} #{{ item.id }}
                        </button>
                    </h2>
                    <div :id="'wheel-sector-'+index" class="accordion-collapse collapse"
                         :data-bs-parent="'#wheel_of_fortune'">

                        <div class="form-floating my-2">
                            <input type="text"
                                   v-model="form.wheel_of_fortune.items[index].value"
                                   class="form-control" id="floatingInput" placeholder="name@example.com" required>
                            <label for="floatingInput">–¢–µ–ª–µ–≥—Ä–∞–º-—ç–º–æ–¥–∑–∏</label>
                        </div>

                        <div class="form-floating mb-2">
                             <textarea class="form-control"
                                       v-model="form.wheel_of_fortune.items[index].description"
                                       maxlength="4000"
                                       style="min-height:150px;"
                                       placeholder="Leave a comment here"
                                       :id="'script-settings-description-'+index" required>
                             </textarea>
                            <label :for="'script-settings-description-'+index">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–∑–∞</label>
                        </div>

                        <div class="form-floating mb-2">
                            <input type="color"
                                   v-model="form.wheel_of_fortune.items[index].bgColor"
                                   class="form-control" :id="'script-settings-bgColor-'+index"
                                   placeholder="name@example.com" required>
                            <label :for="'script-settings-bgColor-'+index">–¶–≤–µ—Ç —Ñ–æ–Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞</label>
                        </div>

                        <div class="form-floating mb-2">
                            <input type="color"
                                   v-model="form.wheel_of_fortune.items[index].color"
                                   class="form-control" :id="'script-settings-color-'+index"
                                   placeholder="name@example.com" required>
                            <label :for="'script-settings-color-'+index">–¶–≤–µ—Ç —à—Ä–∏—Ñ—Ç–∞ —Å–µ–∫—Ç–æ—Ä–∞</label>
                        </div>

                        <p class="alert-light alert mb-2">–í–ø–∏—à–∏—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑: <span
                            @click="attachMarkText(index, '–≤–æ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏')"
                            class="fw-bold text-primary cursor-pointer text-decoration-underline">–≤–æ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</span>
                            –∏–ª–∏ <span
                                @click="attachMarkText(index, '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏')"
                                class="fw-bold text-primary cursor-pointer text-decoration-underline">–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏</span>.
                            –í—ã –º–æ–∂–µ—Ç–µ –≤–ø–∏—Å–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ
                            –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.</p>
                        <div class="form-floating my-2">
                            <input type="search"
                                   v-model="form.wheel_of_fortune.items[index].mark"
                                   class="form-control" id="floatingInput" placeholder="name@example.com" required>
                            <label for="floatingInput">–ì–¥–µ –≤—ã–¥–∞–µ—Ç—Å—è –ø—Ä–∏–∑</label>
                        </div>

                        <a href="javascript:void(0)"
                           @click="removeSector(index)"
                           class="btn btn-link w-100 text-center my-3">–£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ç–æ—Ä #{{ item.id }}</a>
                    </div>
                </div>

            </div>
            <button
                type="button"
                :disabled="form.wheel_of_fortune.items.length===10"
                @click="addSector"
                class="btn btn-outline-primary w-100 p-3 mb-2">–î–æ–±–∞–≤–∏—Ç—å –µ—â–µ —Å–µ–∫—Ç–æ—Ä
            </button>

            <div class="alert alert-light mb-2">
                <p>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</p>
                <WheelOfFortuneShopVariant
                    v-if="loaded"
                    v-model="form.wheel_of_fortune.items"></WheelOfFortuneShopVariant>
            </div>
        </div>

        <button
            style="z-index: 100;"
            type="submit" class="btn btn-primary w-100 p-3 mb-3 position-sticky bottom-0">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
        </button>
    </form>
</template>
<script>
export default {
    props: ["modelValue"],
    data() {
        return {
            loaded: true,
            tab: 0,
            form: {
                shop_coords: null,
                yandex_geocoder: null,
                free_shipping_starts_from: 0,
                min_base_delivery_price: 0,
                price_per_km: 80,
                payment_info: null,
                main_text: null,
                delivery_price_text: null,
                min_price: 80,
                is_disabled: false,
                can_use_cash: true,
                can_use_card: true,
                need_pay_after_call: false,
                disabled_text: null,
                wheel_of_fortune: {
                    can_play: true,
                    rules: '–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã –¥–æ—Å—Ç—É–ø–Ω–æ 1 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–∑–∞ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∏–≥—Ä–∞—Ç—å 1 –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤ –∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–º–∏ –≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ –∏–ª–∏ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ:) –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞!',
                    // short_description:'–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–æ–∑—ã–≥—Ä—ã—à –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω',
                    items: [
                        {
                            id: 1,
                            value: "üçÖ",
                            bgColor: "#fac600",
                            color: "#ffffff",
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏',
                            description: null,
                        },
                        {
                            id: 2,
                            value: "üç≤",
                            bgColor: "#ffffff",
                            color: "#000000",
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ & –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                            description: null,
                        },
                        {
                            id: 3,
                            value: "üç¶",
                            bgColor: "#ff2e55",
                            color: "#ffffff",
                            description: null,
                            mark: '–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                        },
                        {
                            id: 4,
                            value: "üòç",
                            bgColor: "#a1043a",
                            color: "#ffffff",
                            description: null,
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏',
                        },
                        {
                            id: 5,
                            value: "‚òï",
                            bgColor: "#ffffff",
                            color: "#000000",
                            description: null,
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏',
                        },
                        {
                            id: 6,
                            value: "üçï",
                            bgColor: "#c92729",
                            color: "#ffffff",
                            description: null,
                            mark: '–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                        },
                        {
                            id: 7,
                            value: "üì≤",
                            bgColor: "#ffffff",
                            color: "#000000",
                            description: null,
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ & –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                        },
                        {
                            id: 8,
                            value: "üìå",
                            bgColor: "#c92729",
                            color: "#ffffff",
                            description: null,
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ & –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                        },
                        {
                            id: 9,
                            value: "üöÄ",
                            bgColor: "#c92729",
                            color: "#ffffff",
                            description: null,
                            mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ & –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                        },
                    ]
                }
            }
        }
    },
    watch: {
        'form.wheel_of_fortune.items': {
            handler: function (newValue) {
                this.loaded = false
                this.$nextTick(() => {
                    this.loaded = true
                })
            },
            deep: true
        }
    },
    methods: {
        removeSector(index) {
            this.form.wheel_of_fortune.items.splice(index, 1)

            let i = 1
            this.form.wheel_of_fortune.items.forEach(item=>{
                item.id =  i
                i++
            })
            this.$notify({
                title: "–†–µ–¥–∞–∫—Ç–æ—Ä",
                text: "–°–µ–∫—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω! –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–µ–∫—Ç–æ—Ä–æ–≤ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã",
                type: "success"
            })
        },
        attachMarkText(index, text) {
            this.form.wheel_of_fortune.items[index].mark +=
                (this.form.wheel_of_fortune.items[index].mark || '').length === 0 ?
                    text : " & " + text
        },
        addSector() {
            if ((this.form.wheel_of_fortune.items || []).length === 0)
                this.form.wheel_of_fortune.items = []

            if (this.form.wheel_of_fortune.items.length < 10) {
                this.form.wheel_of_fortune.items.push({
                    id: this.form.wheel_of_fortune.items.length + 1,
                    value: this.form.wheel_of_fortune.items.length + 1,
                    bgColor: "#c92729",
                    color: "#ffffff",
                    description: null,
                    mark: '–≤ –∑–∞–≤–µ–¥–µ–Ω–∏–∏ & –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–µ',
                })

                this.$notify({
                    title: "–†–µ–¥–∞–∫—Ç–æ—Ä",
                    text: "–°–µ–∫—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!",
                    type: "success"
                })
            } else {
                this.$notify({
                    title: "–†–µ–¥–∞–∫—Ç–æ—Ä",
                    text: "–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —Å–µ–∫—Ç–æ—Ä–æ–≤!",
                    type: "error"
                })
            }

        },
        submit() {

        }
    }
}
</script>
