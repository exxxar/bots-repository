<script setup>
import Checkbox from '@/AdminPanel/Components/Constructor/Deprecated/Start/Checkbox.vue';
import GuestLayout from '@/AdminPanel/Layouts/GuestLayout.vue';
import InputError from '@/AdminPanel/Components/Constructor/Deprecated/Start/InputError.vue';
import InputLabel from '@/AdminPanel/Components/Constructor/Deprecated/Start/InputLabel.vue';
import PrimaryButton from '@/AdminPanel/Components/Constructor/Deprecated/Start/PrimaryButton.vue';
import TextInput from '@/AdminPanel/Components/Constructor/Deprecated/Start/TextInput.vue';
import { Head, Link, useForm, usePage } from '@inertiajs/vue3';

const page = usePage();
const errors = page.props.errors; // –ü–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫–∏ –∏–∑ Laravel

defineProps({
    canResetPassword: {
        type: Boolean,
    },
    status: {
        type: String,
    },
});

const form = useForm({
    email: '',
    password: '',
    remember: false,
});

const submit = () => {
    form.post(route('login'), {
        onFinish: () => form.reset('password'),
    });
};
</script>

<template>
    <GuestLayout>
        <section class="h-100 gradient-form" style="background-color: #eee;">
            <div class="container py-5 h-100">
                <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col-xl-10">
                        <div class="card rounded-3 text-black">
                            <div class="row g-0">
                                <div class="col-lg-6 d-flex align-items-center gradient-custom-2">
                                    <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                                        <h4 class="mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram-–±–æ—Ç–∞–º–∏!</h4>
                                        <p class="small mb-0">
                                            –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ Telegram-–±–æ—Ç–∞–º–∏: —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã—Ö, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã. –ï—Å–ª–∏ —É –≤–∞—Å –µ—â—ë –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å ‚Äî —ç—Ç–æ –∑–∞–π–º—ë—Ç –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.

                                            –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–∏—Ö –±–æ—Ç–æ–≤ –µ—â—ë —É–º–Ω–µ–µ –∏ –ø–æ–ª–µ–∑–Ω–µ–µ! üöÄ
                                        </p>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="card-body p-md-5 mx-md-4">
                                        <div class="text-center">
                                            <div class="logo">NextIT</div>
                                            <h4 class="mt-1 mb-5 pb-1">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞</h4>
                                        </div>

                                        <form @submit.prevent="submit">
                                            <p>–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</p>

                                            <div v-if="status" class="mb-4 font-medium text-sm text-green-600">
                                                {{ status }}
                                            </div>

                                            <!-- –ü–æ–ª–µ –ø–æ—á—Ç—ã -->
                                            <div class="form-floating mb-3">
                                                <input
                                                    id="email"
                                                    type="email"
                                                    v-model="form.email"
                                                    required
                                                    autofocus
                                                    class="form-control"
                                                    placeholder="name@example.com"
                                                />
                                                <label for="email">–ü–æ—á—Ç–∞</label>
                                            </div>

                                            <p v-if="errors.email" class="alert alert-danger my-3">{{ errors.email }}</p>

                                            <!-- –ü–æ–ª–µ –ø–∞—Ä–æ–ª—è -->
                                            <div class="form-floating mb-3">
                                                <input
                                                    id="password"
                                                    type="password"
                                                    v-model="form.password"
                                                    required
                                                    class="form-control"
                                                    placeholder="–ü–∞—Ä–æ–ª—å"
                                                />
                                                <label for="password">–ü–∞—Ä–æ–ª—å</label>
                                            </div>
                                            <InputError class="mt-2" :message="form.errors.password" />

                                            <!-- –ß–µ–∫–±–æ–∫—Å "–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è" -->
                                            <div class="block my-3">
                                                <label class="flex items-center">
                                                    <Checkbox name="remember" v-model:checked="form.remember" />
                                                    <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</span>
                                                </label>
                                            </div>



                                            <p v-if="errors.system" class="alert alert-danger my-3">{{ errors.system }}</p>


                                            <!-- –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ -->
                                            <div class="text-center pt-1 mb-5 pb-1">
                                                <PrimaryButton class="ml-4 gradient-custom-2" :class="{ 'opacity-25': form.processing }" :disabled="form.processing">
                                                    –í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç
                                                </PrimaryButton>
                                                <Link
                                                    v-if="canResetPassword"
                                                    :href="route('password.request')"
                                                    class="text-muted ml-2">
                                                    –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?
                                                </Link>
                                            </div>

                                            <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é -->
                                            <div class="d-flex align-items-center justify-content-center pb-4">
                                                <p class="mb-0 me-2">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</p>
                                                <Link :href="route('register')" class="btn btn-outline-danger ml-2">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π</Link>
                                            </div>


                                        </form>

                                        <div class="d-flex justify-content-center">
                                            <Link :href="route('admin.login')" target="_blank" class="btn btn-link my-3"><i class="fa-brands fa-telegram"></i>
                                                 –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ–≥—Ä–∞–º</Link>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </GuestLayout>
</template>

<style>
.gradient-custom-2 {
    background: #fccb90;
    background: -webkit-linear-gradient(to right, #2489ee, #364cd8, #1a97c5, #1a1c9a);
    background: linear-gradient(to right, #2489ee, #364cd8, #021f64, #1a1c9a);
}

.logo {
    font-size: 64px;
    font-weight: lighter;
    background: linear-gradient(90deg, #007BFF, #00C6FF);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: Arial, sans-serif;
}
</style>
