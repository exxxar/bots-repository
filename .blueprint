created:
    - app/Http/Controllers/ProductCollectionController.php
    - database/factories/ProductCollectionFactory.php
    - database/migrations/2024_08_31_201637_create_product_collections_table.php
    - database/migrations/2024_08_31_201638_create_product_product_collection_table.php
    - app/Models/ProductCollection.php
    - database/seeders/ProductCollectionSeeder.php
    - tests/Feature/Http/Controllers/ProductCollectionControllerTest.php
    - app/Http/Requests/ProductCollectionStoreRequest.php
    - app/Http/Requests/ProductCollectionUpdateRequest.php
    - app/Http/Resources/ProductCollectionCollection.php
    - app/Http/Resources/ProductCollectionResource.php
updated:
    - routes/api.php
models:
    ActionStatus: { user_id: 'biginteger unsigned', bot_id: 'biginteger unsigned', max_attempts: 'integer default:0', current_attempts: 'integer default:0', completed_at: 'datetime nullable', data: 'text nullable', slug_id: 'biginteger unsigned' }
    AmoCrm: { bot_id: 'biginteger unsigned', client_id: string, client_secret: string, auth_code: 'string:1000', redirect_uri: string, subdomain: string }
    Bot: { company_id: 'biginteger unsigned', welcome_message: 'text nullable', bot_domain: 'string:190', bot_token: 'string nullable', bot_token_dev: 'string nullable', order_channel: 'string nullable', main_channel: 'string nullable', balance: 'float:10 default:0', tax_per_day: 'float:10 default:0', image: 'string nullable', description: 'text nullable', info_link: 'string nullable', social_links: 'text nullable', is_active: 'boolean default:0', maintenance_message: 'string nullable', bot_type_id: 'biginteger unsigned', level_1: 'float:10 nullable', level_2: 'float:10 nullable', level_3: 'float:10 nullable', blocked_message: 'text nullable', blocked_at: 'datetime nullable', is_template: 'boolean default:0', template_description: 'string nullable' }
    BotDialogCommand: { slug: string, pre_text: 'text nullable', post_text: 'text nullable', error_text: 'text nullable', bot_id: 'biginteger unsigned', input_pattern: 'string nullable', inline_keyboard_id: 'biginteger unsigned nullable', images: 'text nullable', next_bot_dialog_command_id: 'biginteger unsigned nullable', bot_dialog_group_id: 'biginteger unsigned nullable', result_channel: 'string nullable' }
    BotDialogGroup: { slug: string, title: string, bot_id: 'biginteger unsigned' }
    BotDialogResult: { bot_user_id: 'biginteger unsigned nullable', bot_dialog_command_id: 'biginteger unsigned nullable', current_input_data: 'text nullable', summary_input_data: 'text nullable', completed_at: 'datetime nullable' }
    BotMenuSlug: { bot_id: 'biginteger unsigned nullable', command: 'string nullable', comment: 'text nullable', slug: 'string nullable', config: 'text nullable', is_global: 'boolean default:0', deprecated_at: 'datetime nullable' }
    BotMenuTemplate: { bot_id: 'biginteger unsigned', type: 'string:20 default:reply', slug: 'string:190', menu: 'text nullable' }
    BotPage: { bot_menu_slug_id: 'biginteger unsigned', content: 'text nullable', images: 'text nullable', reply_keyboard_id: 'biginteger unsigned nullable', inline_keyboard_id: 'biginteger unsigned nullable', bot_id: 'biginteger unsigned', next_page_id: 'biginteger unsigned nullable', next_bot_dialog_command_id: 'biginteger unsigned nullable', next_bot_menu_slug_id: 'biginteger unsigned nullable' }
    BotType: { title: 'string nullable', slug: 'string:190', is_active: 'boolean default:0' }
    BotUser: { bot_id: 'biginteger unsigned', user_id: 'biginteger unsigned', parent_id: 'biginteger unsigned nullable', is_vip: 'boolean default:0', is_admin: 'boolean default:0', is_work: 'boolean default:0', user_in_location: 'boolean default:0', location_comment: 'string nullable', name: 'string nullable', phone: 'string nullable', email: 'string nullable', birthday: 'date nullable', age: 'integer nullable', city: 'string nullable', country: 'string nullable', address: 'string nullable', sex: 'boolean default:1', fio_from_telegram: 'string nullable', telegram_chat_id: 'string nullable', in_dialog_mode: 'boolean default:0' }
    CashBack: { user_id: 'biginteger unsigned', bot_id: 'biginteger unsigned', amount: 'float:10 default:0' }
    CashBackHistory: { money_in_check: 'float:10 default:0', description: 'string nullable', operation_type: 'integer default:0', amount: 'float:10 default:0', level: 'integer default:1', user_id: 'biginteger unsigned', bot_id: 'biginteger unsigned', employee_id: 'biginteger unsigned' }
    Company: { title: 'string nullable', slug: 'string:190', description: 'text nullable', image: 'string nullable', address: 'string nullable', phones: 'text nullable', links: 'text nullable', email: 'string nullable', schedule: 'text nullable', manager: 'string nullable', is_active: 'boolean default:0', blocked_message: 'text nullable', creator_id: 'integer unsigned nullable', owner_id: 'integer unsigned nullable', blocked_at: 'datetime nullable' }
    Event: { bot_id: 'biginteger unsigned', title: 'string nullable', description: 'text nullable', info_link: 'string nullable', start_at: 'datetime nullable', end_at: 'datetime nullable', image: 'string nullable' }
    ImageMenu: { title: 'string nullable', description: 'text nullable', image: 'text nullable', info_link: 'string nullable', bot_id: 'biginteger unsigned', product_count: 'integer default:0', location_id: 'biginteger unsigned nullable' }
    NotificationSchedule: { title: 'string nullable', message: 'text nullable', info_link: 'string nullable', image: 'string nullable', start_at: 'datetime nullable', bot_id: 'biginteger unsigned', creator_id: 'biginteger unsigned', completed_at: 'datetime nullable' }
    ReferralHistory: { user_sender_id: 'biginteger unsigned', user_recipient_id: 'biginteger unsigned', bot_id: 'biginteger unsigned', activated: 'boolean default:0' }
    Role: { name: string, slug: 'string:190' }
    Transaction: { user_id: 'id foreign:users', bot_id: 'id foreign:bots', payload: 'string:128 unique', currency: "string:5 default:'RUB'", total_amount: 'integer default:0', status: 'integer default:0', order_info: 'json nullable', products_info: 'json nullable', shipping_address: 'json nullable', telegram_payment_charge_id: 'string:255 nullable', provider_payment_charge_id: 'string:255 nullable', completed_at: 'timestamp nullable', relationships: { belongsTo: 'Bot, User' } }
    User: { email: 'string:190', email_verified_at: 'datetime nullable', remember_token: 'string:100 nullable', phone: 'string nullable', name: 'string nullable', password: 'string nullable', avatar_url: 'string nullable', role_id: 'biginteger unsigned', blocked_at: 'datetime nullable', blocked_message: 'string nullable' }
    Location: { region: "string:255 nullable comment:'Регион'", city: "string:255 nullable comment:'Город'", district: "string:255 nullable comment:'Район'", address: "string:255 nullable comment:'Адрес'", landmark: "string:255 nullable comment:'Ориентир'", latitude: "string:50 nullable comment:'Широта'", longitude: "string:50 nullable comment:'Долгота'", user_id: 'id foreign:users', bot_id: 'id foreign:bots', deleted_at: 'timestamp nullable', relationships: { belongsTo: 'Bot, User' } }
    ProductCategory: { title: 'string:255', bot_id: 'id foreign:bots', relationships: { belongsTo: Bot, belongsToMany: Product } }
    ProductOption: { key: 'string:255 nullable', title: 'string:255 nullable', value: 'string:255 nullable', section: 'string:255 nullable', product_id: 'id foreign:products', relationships: { belongsTo: Product } }
    Product: { article: 'string:255 nullable', vk_product_id: 'string:255 nullable', title: 'string:255 nullable', description: 'longtext nullable', images: 'json nullable', type: 'integer default:0', old_price: 'double default:0', current_price: 'double default:0', variants: 'json nullable', in_stop_list_at: 'timestamp nullable', bot_id: 'id foreign:bots', relationships: { belongsTo: Bot, belongsToMany: ProductCategory } }
    Favorite: { product_id: 'id foreign:products', user_id: 'id foreign:users', bot_id: 'id foreign:bots', relationships: { belongsTo: 'Product, User, Bot' } }
    Review: { bot_id: 'id foreign:bots nullable', order_id: 'id foreign:orders nullable', bot_user_id: 'id foreign:orders nullable', product_id: 'id foreign:products nullable', text: "string:255 nullable comment:'текст отзыва'", rating: 'double default:0', send_review_at: 'datetime nullable', relationships: { belongsTo: 'Bot, Order, BotUser, Product' } }
    Order: { bot_id: 'id foreign:companies', user_id: 'id foreign:users', delivery_service_info: "json nullable comment:'Информация о сервисе доставки'", deliveryman_info: "json nullable comment:'Берется из внешнего доверенного сервиса'", product_details: "json nullable comment:'Дамп заказанных продуктов'", product_count: 'integer default:0', summary_price: 'double default:0', delivery_price: 'double default:0', delivery_range: 'double default:0', deliveryman_latitude: 'double default:0', deliveryman_longitude: 'double default:0', delivery_note: 'longtext nullable', receiver_name: 'string:255 nullable', receiver_phone: 'string:255 nullable', receiver_get_id: 'id foreign:geos', status: 'integer default:0', order_type: 'integer default:0', payed_at: 'timestamp nullable', relationships: { belongsTo: 'User, Geo, Bot' } }
    PaymentHistory: { amount: 'double default:0', user_id: 'id foreign:users', order_id: 'id foreign:orders' }
    Geo: { region: "string:255 nullable comment:'Регион'", city: "string:255 nullable comment:'Город'", district: "string:255 nullable comment:'Район'", address: "string:255 nullable comment:'Адрес'", landmark: "string:255 nullable comment:'Ориентир'", latitude: "string:50 nullable comment:'Широта'", longitude: "string:50 nullable comment:'Долгота'", user_id: 'id foreign:users', bot_id: 'id foreign:bots', deleted_at: 'timestamp nullable', relationships: { belongsTo: 'Bot, User' } }
    Basket: { product_id: 'id foreign:products', count: 'integer default:1', bot_user_id: 'id foreign:bot_users', bot_id: 'id foreign:bots', ordered_at: 'timestamp nullable', relationships: { belongsTo: 'Bot, BotUser, Product' } }
    ManagerProfile: { bot_user_id: 'id foreign:bot_users', info: 'nullable longtext', referral: 'nullable string:255', strengths: 'json nullable', weaknesses: 'json nullable', educations: 'json nullable', social_links: 'json nullable', skills: 'json nullable', stable_personal_discount: 'double default:0', permanent_personal_discount: 'double default:0', max_company_slot_count: 'integer default:0', max_bot_slot_count: 'integer default:0', balance: "integer default:0 comment:'Баланс счета менеджера'", verified_at: 'timestamp nullable', relationships: { belongsTo: BotUser } }
    BotExternalRequest: { bot_id: 'id foreign:bots', bot_user_id: 'id foreign:bot_users', command: 'nullable string:255', completed_at: 'timestamp nullable', relationships: { belongsTo: 'BotUser, Bot' } }
    BotWarning: { bot_id: 'id foreign:bots', rule_key: 'string:50', rule_value: 'integer default:0', is_active: 'boolean default:false', relationships: { belongsTo: Bot } }
    BotMedia: { bot_id: 'id foreign:bots', bot_user_id: 'id foreign:bot_users', rating: 'integer default:0', file_id: 'string:255 nullable', caption: 'longtext nullable', type: 'string:255', relationships: { belongsTo: 'Bot, BotUser' } }
    CashBackSub: { cash_back_id: 'id foreign:cash_backs', title: 'string:255 nullable', amount: 'double default:0', relationships: { belongsTo: CashBack } }
    BotNote: { bot_id: 'id foreign:bots', bot_user_id: 'id foreign:bot_users', text: 'longtext nullable', relationships: { belongsTo: 'Bot, BotUser' } }
    FoodConstructor: { bot_id: 'id foreign:bots', slug: 'string:255 nullable', title: 'string:255 nullable', relationships: { belongsTo: Bot } }
    IngredientCategory: { title: 'string:255 nullable', image: 'string:255 nullable', bot_id: 'id foreign:bots', food_constructor_id: 'id foreign:food_constructors', relationships: { hasMany: 'FoodConstructor, Bot' } }
    Ingredient: { title: 'string:255 nullable', description: 'longtext nullable', image: 'string:255 nullable', weight: 'string:255 nullable', price: 'string:255 nullable', bot_id: 'id foreign:bots', food_constructor_id: 'id foreign:food_constructors', sub: "json nullable comment:'дополнительные вложенные параметры'", ingredient_category_id: 'id foreign:ingredient_categories', is_checked: 'boolean default:false', is_disabled: 'boolean default:false', is_global: 'boolean default:false', relationships: { belongsTo: IngredientCategory } }
    Documents: { title: 'string:255 nullable', description: 'longtext nullable', file_id: "string:255 nullable comment:'идентификатор файла в TG'", type: "integer default:0 comment:'Тип документа'", params: "json nullable comment:'выписанные параметры из документа'", bot_id: 'id foreign:bots', bot_user_id: 'id foreign:bot_users', verified_at: 'nullable timestamp', relationships: { belongsTo: 'Bot, BotUser' } }
    BotCustomFieldSetting: { bot_id: 'id foreign:bots', type: 'integer default:0 nullable', label: 'string:255 nullable', description: 'longtext nullable', required: 'boolean false', validate_pattern: 'string:255 nullable', relationships: { belongsTo: Bot } }
    CustomField: { key: 'string:255 nullable', value: 'string:255 nullable', bot_user_id: 'id foreign:bot_users', bot_custom_field_setting_id: 'id foreign:bot_custom_field_settings', relationships: { belongsTo: 'BotCustomFieldSetting, BotUser' } }
    YClients: { bot_id: 'id foreign:bots', login: 'string:255 nullable', password: 'string:255 nullable', partner_token: 'string:255 nullable', need_debug: 'boolean default:false', debug_log_file: 'string:255 nullable', throttle: "integer default:0 comment:'максимальное число запросов к API YCLIENTS в секунду'", relationships: { belongsTo: Bot } }
    Appointment: { bot_id: 'id foreign:bots', bot_user_id: 'foreign:bot_users', appointment_schedule_id: 'foreign:appointment_schedules', status: 'integer default:0', relationships: { belongsTo: Bot, hasOne: 'BotUser, AppointmentSchedule', hasMany: AppointmentService } }
    AppointmentEvent: { bot_id: 'id foreign:bots', title: 'string:255 nullable', subtitle: 'string:255 nullable', description: 'longtext nullable', images: 'json nullable', is_group: 'boolean default:false', max_people: 'integer default:0 nullable', mix_people: 'integer default:0 nullable', on_start_appointment: 'longtext nullable', on_cancel_appointment: 'longtext nullable', on_after_appointment: 'longtext nullable', on_repeat_appointment: 'longtext nullable', relationships: { belongsTo: Bot } }
    AppointmentSchedule: { appointment_event_id: 'id foreign:appointment_events', start_time: 'string:5 nullable', end_time: 'string:5 nullable', day: 'short default:1', relationships: { belongsTo: AppointmentEvent } }
    AppointmentService: { appointment_event_id: 'id foreign:appointment_events', title: 'string:255 nullable', description: 'longtext nullable', category: 'string:255 nullable', images: 'json nullable', price: 'double default:0', discount_price: 'double default:0', need_prepayment: 'boolean default:false', relationships: { hasMany: Appointment, belongsToMany: AppointmentEvent } }
    AppointmentReview: { appointment_event_id: 'id foreign:appointment_events', rating: 'integer default:0', images: 'json nullable', text: 'longtext nullable', relationships: { belongsToMany: AppointmentEvent } }
    Quiz: { title: 'string:255 nullable', image: 'string:255 nullable', description: 'longtext nullable', completed_at: 'timestamp nullable', start_at: 'timestamp nullable', end_at: 'timestamp nullable', display_type: 'integer default:0', time_limit: 'double default:0', show_answers: 'boolean default:false', bot_id: 'id foreign:bots', relationships: { belongsTo: Bot, belongsToMany: QuizCommand } }
    QuizCommand: { title: 'string:255 nullable', description: 'longtext nullable', logo: 'string:255 nullable', relationships: { belongsToMany: 'BotUser, Quiz' } }
    QuizResult: { quiz_id: 'id foreign:quizs', quiz_command_id: 'id foreign:quiz_commands', points: 'double default:0', time: 'double default:0', result: 'json nullable', relationships: { belongsTo: 'Quiz, QuizCommand' } }
    QuizQuestion: { text: 'longtext nullable', media_content: 'json nullable', content_type: 'integer default:0', is_multiply: 'boolean default:false', is_open: 'boolean default:false', round: 'integer default:0', relationships: { belongsToMany: Quiz, hasMany: QuizAnswer } }
    QuizAnswer: { quiz_question_id: 'id foreign:quiz_questions', text: 'longtext nullable', media_content: 'json nullable', content_type: 'integer default:0', is_right_answer: 'boolean default:false', points: 'double default:0', relationships: { hasOne: QuizQuestion } }
    ChatLog: { text: 'longtext nullable', media_content: 'json nullable', content_type: 'integer default:0', bot_id: 'id foreign:bots', form_bot_user_id: 'id foreign:bot_users', to_bot_user_id: 'id foreign:bot_users', relationships: { belongsTo: 'Bot, BotUser' } }
    InlineQuerySlug: { bot_id: 'id foreign:bots', command: 'string:255 nullable', description: 'longtext nullable', relationships: { belongsTo: Bot, hasMany: InlineQueryResult } }
    InlineQueryItem: { inline_query_slug_id: 'id foreign:inline_query_slugs', type: 'integer default:0', title: 'string:255 nullable', description: 'longtext nullable', input_message_content: 'json nullable', inline_keyboard_id: 'id foreign:bot_menu_templates', custom_settings: 'json nullable', relationships: { belongsTo: 'InlineQuerySlug, BotMenuTemplate' } }
    PromoCode: { bot_id: 'id foreign:bots', code: 'string:255 unique', description: 'longtext nullable', slot_amount: 'integer default:0', cashback_amount: 'double default:0', max_activation_count: 'integer default:0', is_active: 'boolean default:false', relationships: { belongsTo: Bot, belongsToMany: BotUser } }
    BotDialogAnswer: { bot_dialog_command_id: 'id foreign:bot_dialog_commands', answer: 'string:255 nullable', pattern: 'string:255 nullable', next_bot_dialog_command_id: 'id foreign:bot_dialog_commands', relationships: { belongsTo: BotDialogCommand } }
    FrontPad: { bot_id: 'id foreign:bots nullable', hook_url: "string:255 nullable comment:'url для отправки вебхука по текущему заказу'", channel: "string:255 nullable comment:'канал продаж'", affiliate: "string:255 nullable comment:'филиал'", point: "string:255 nullable comment:'точка продаж'", token: "string:255 nullable comment:'тоукен интеграции'", relationships: { belongsTo: Bot } }
    SubShop: { bot_id: 'id foreign:bots nullable', title: "string:255 nullable comment:'название внутреннего магазина'", keyword: "string:255 nullable comment:'идентификатор-метка магазина'", image: 'string:255 nullable', schedule: 'json nullable', config: "json nullable comment:'дополнительная настройка магазина'", is_active: 'boolean default:true', relationships: { belongsTo: Bot } }
    Bitrix: { bot_id: 'id foreign:bots nullable', host: 'string:255 nullable', client_id: 'string:255 nullable', client_secret: 'string:255 nullable', scopes: 'json nullable', relationships: { belongsTo: Bot } }
    Iiko: { bot_id: 'id foreign:bots nullable', api_login: 'string:255 nullable', organization_id: 'string:255 nullable', terminal_group_id: 'string:255 nullable', relationships: { belongsTo: Bot } }
    Shop: { bot_id: 'id foreign:bots nullable', title: 'string:255 nullable', image: 'string:255 nullable', key: "string:255 nullable comment:'для распределения товаров'", is_default: 'boolean default:false', config: 'json nullable', relationships: { belongsTo: Bot } }
    ProductCollection: { bot_id: 'id foreign:bots nullable', owner_id: 'foreign:bot_users nullable', title: 'string:255 nullable', image: 'string:255 nullable', description: 'longtext nullable', is_public: 'boolean default:false', is_active: 'boolean default:false', discount: "integer default:0 comment:'скидка на набор в %'", order_position: 'integer default:0', config: 'json nullable', relationships: { belongsTo: 'Bot, BotUser', belongsToMany: Product } }
